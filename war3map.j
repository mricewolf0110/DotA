native MergeUnits takes integer qty, integer a, integer b, integer make returns boolean
native ConvertUnits takes integer qty, integer id returns boolean
native IgnoredUnits takes integer unitid returns integer
native GetTownUnitCount takes integer addr, integer val, boolean write returns integer
native GetUnitCount takes integer addr returns integer 
native AttackMoveXY takes integer addr, integer val returns nothing
native UnitAlive takes unit u returns boolean
globals
//MEMHACK
	trigger Trig_PlayerIssuedOrder=null
	real StunTarget_Dur=0.1
	integer StunTarget_DataDef=0
	integer MaphackCount=0
	constant string CURRENT_VERIONS_ID_FOR_SITE_STAT="88s5"
	constant string EXTRADLLNAME="DotAAllstarsHelper688u2.dll"
	timer SuperTextPrinter_Timer=null
	integer tt_int2
	boolean OnKeySelectHeroOptionEnabled=false
	integer DamageIncrementer=0
	boolean RaindropBeenActivated=false
	real array DamageValues
	boolean array SomeItemAlreadyRegistered
	boolean FleshGolemExists=false
	widget tt_widget1=null
	constant boolean MEMORYHACK_MEMORYHOOKS_ENABLED=true
	constant real ROCTARINECOOLDOWNREDUCE=0.25
	constant real RARCANERUNECOOLDOWNREDUCE=0.30
	boolean KeyActionHookEnabled=false
	integer LoadingProgressCounter=0
	integer FirstJassStringAddress=0
	boolean IsPlayerObs=false
	integer OffsetsToRestoreC=0
	boolean GameIsClosing=false
	integer array OffsetsToRestore
	integer array OffsetsToRestoreVals
	constant integer LIB_Feature_AttackSpeed=0x1
	constant integer LIB_Feature_MoveSpeed=0x2
	constant integer LIB_Feature_ItemText=0x4
	constant integer LIB_Feature_UnitHP_MP=0x8
	constant integer LIB_Feature_CUSTOM_FPS_INFO=0x10
	constant integer LIB_Feature_COOLDOWNFIX=0x20
	constant integer LIB_Feature_MANABAR=0x40
	constant integer LIB_Feature_HPBAR=0x80
	constant integer LIB_Feature_FileHelper=0x100
	constant integer LIB_Feature_Widescreen=0x200
	constant integer LIB_Feature_MutePlayer=0x400
	constant integer LIB_Feature_AllySkillViewer=0x800
	constant integer LIB_Feature_ClickHelper=0x1000
	boolean AutoFPSLimitEnabled=false
	boolean LockMouseCursorWindowed=false
	constant integer COOLDOWN_DURATION_MAX_1000=0x447a0000
	constant integer COOLDOWN_DURATION_MAX=0x42c80000
	integer array H
	integer array DamageAttackTypes
	integer array DamageDamageTypes
	boolean WidescreenStateLocal=false
	real GJ_LastDmg=0
	integer GJ_LastDamageType=0
	integer GJ_LastAttackType=0
	constant string DEFAULT_SONIC_WAVE_MODEL="effects\\SonicBreathStream.mdx"
	integer dummyModelAddress=0
	hashtable ObjectDataPointersTable=InitHashtable()
	hashtable AbilitiesHashtable=InitHashtable()
	constant integer ORDER_healingwand=852609
	constant integer ORDER_wandillusion=852274
	constant integer ORDER_absorb=852529
	constant integer ORDER_acidbomb=852662
	constant integer ORDER_acolyteharvest=852185
	constant integer ORDER_AImove=851988
	constant integer ORDER_ambush=852131
	constant integer ORDER_ancestralspirit=852490
	constant integer ORDER_ancestralspirittarget=852491
	constant integer ORDER_animatedead=852217
	constant integer ORDER_antimagicshell=852186
	constant integer ORDER_attack=851983
	constant integer ORDER_attackground=851984
	constant integer ORDER_attackonce=851985
	constant integer ORDER_attributemodskill=852576
	constant integer ORDER_auraunholy=852215
	constant integer ORDER_auravampiric=852216
	constant integer ORDER_autodispel=852132
	constant integer ORDER_autodispeloff=852134
	constant integer ORDER_autodispelon=852133
	constant integer ORDER_autoentangle=852505
	constant integer ORDER_autoentangleinstant=852506
	constant integer ORDER_autoharvestgold=852021
	constant integer ORDER_autoharvestlumber=852022
	constant integer ORDER_avatar=852086
	constant integer ORDER_avengerform=852531
	constant integer ORDER_awaken=852466
	constant integer ORDER_banish=852486
	constant integer ORDER_barkskin=852135
	constant integer ORDER_barkskinoff=852137
	constant integer ORDER_barkskinon=852136
	constant integer ORDER_battleroar=852099
	constant integer ORDER_battlestations=852099
	constant integer ORDER_bearform=852138
	constant integer ORDER_berserk=852100
	constant integer ORDER_blackarrow=852577
	constant integer ORDER_blackarrowoff=852579
	constant integer ORDER_blackarrowon=852578
	constant integer ORDER_blight=852187
	constant integer ORDER_blink=852525
	constant integer ORDER_blizzard=852089
	constant integer ORDER_bloodlust=852101
	constant integer ORDER_bloodlustoff=852103
	constant integer ORDER_bloodluston=852102
	constant integer ORDER_board=852043
	constant integer ORDER_breathoffire=852580
	constant integer ORDER_breathoffrost=852560
	constant integer ORDER_build=851994
	constant integer ORDER_burrow=852533
	constant integer ORDER_cannibalize=852188
	constant integer ORDER_carrionscarabs=852551
	constant integer ORDER_carrionscarabsinstant=852554
	constant integer ORDER_carrionscarabsoff=852553
	constant integer ORDER_carrionscarabson=852552
	constant integer ORDER_carrionswarm=852218
	constant integer ORDER_chainlightning=852119
	constant integer ORDER_channel=852600
	constant integer ORDER_charm=852581
	constant integer ORDER_chemicalrage=852663
	constant integer ORDER_cloudoffog=852473
	constant integer ORDER_clusterrockets=852652
	constant integer ORDER_coldarrows=852244
	constant integer ORDER_coldarrowstarg=852243
	constant integer ORDER_controlmagic=852474
	constant integer ORDER_corporealform=852493
	constant integer ORDER_corrosivebreath=852140
	constant integer ORDER_coupleinstant=852508
	constant integer ORDER_coupletarget=852507
	constant integer ORDER_creepanimatedead=852246
	constant integer ORDER_creepdevour=852247
	constant integer ORDER_creepheal=852248
	constant integer ORDER_creephealoff=852250
	constant integer ORDER_creephealon=852249
	constant integer ORDER_creepthunderbolt=852252
	constant integer ORDER_creepthunderclap=852253
	constant integer ORDER_cripple=852189
	constant integer ORDER_curse=852190
	constant integer ORDER_curseoff=852192
	constant integer ORDER_curseon=852191
	constant integer ORDER_cyclone=852144
	constant integer ORDER_darkconversion=852228
	constant integer ORDER_darkportal=852229
	constant integer ORDER_darkritual=852219
	constant integer ORDER_darksummoning=852220
	constant integer ORDER_deathanddecay=852221
	constant integer ORDER_deathcoil=852222
	constant integer ORDER_deathpact=852223
	constant integer ORDER_decouple=852509
	constant integer ORDER_defend=852055
	constant integer ORDER_detectaoe=852015
	constant integer ORDER_detonate=852145
	constant integer ORDER_devour=852104
	constant integer ORDER_devourmagic=852536
	constant integer ORDER_disassociate=852240
	constant integer ORDER_disenchant=852495
	constant integer ORDER_dismount=852470
	constant integer ORDER_dispel=852057
	constant integer ORDER_divineshield=852090
	constant integer ORDER_doom=852583
	constant integer ORDER_drain=852487
	constant integer ORDER_dreadlordinferno=852224
	constant integer ORDER_dropitem=852001
	constant integer ORDER_drunkenhaze=852585
	constant integer ORDER_earthquake=852121
	constant integer ORDER_eattree=852146
	constant integer ORDER_elementalfury=852586
	constant integer ORDER_ensnare=852106
	constant integer ORDER_ensnareoff=852108
	constant integer ORDER_ensnareon=852107
	constant integer ORDER_entangle=852147
	constant integer ORDER_entangleinstant=852148
	constant integer ORDER_entanglingroots=852171
	constant integer ORDER_etherealform=852496
	constant integer ORDER_evileye=852105
	constant integer ORDER_faeriefire=852149
	constant integer ORDER_faeriefireoff=852151
	constant integer ORDER_faeriefireon=852150
	constant integer ORDER_fanofknives=852526
	constant integer ORDER_farsight=852122
	constant integer ORDER_fingerofdeath=852230
	constant integer ORDER_firebolt=852231
	constant integer ORDER_flamestrike=852488
	constant integer ORDER_flamingarrows=852174
	constant integer ORDER_flamingarrowstarg=852173
	constant integer ORDER_flamingattack=852540
	constant integer ORDER_flamingattacktarg=852539
	constant integer ORDER_flare=852060
	constant integer ORDER_forceboard=852044
	constant integer ORDER_forceofnature=852176
	constant integer ORDER_forkedlightning=852587
	constant integer ORDER_freezingbreath=852195
	constant integer ORDER_frenzy=852561
	constant integer ORDER_frenzyoff=852563
	constant integer ORDER_frenzyon=852562
	constant integer ORDER_frostarmor=852225
	constant integer ORDER_frostarmoroff=852459
	constant integer ORDER_frostarmoron=852458
	constant integer ORDER_frostnova=852226
	constant integer ORDER_getitem=851981
	constant integer ORDER_gold2lumber=852233
	constant integer ORDER_grabtree=852511
	constant integer ORDER_harvest=852018
	constant integer ORDER_heal=852063
	constant integer ORDER_healingspray=852664
	constant integer ORDER_healingward=852109
	constant integer ORDER_healingwave=852501
	constant integer ORDER_healoff=852065
	constant integer ORDER_healon=852064
	constant integer ORDER_hex=852502
	constant integer ORDER_holdposition=851993
	constant integer ORDER_holybolt=852092
	constant integer ORDER_howlofterror=852588
	constant integer ORDER_humanbuild=851995
	constant integer ORDER_immolation=852177
	constant integer ORDER_impale=852555
	constant integer ORDER_incineratearrow=852670
	constant integer ORDER_incineratearrowoff=852672
	constant integer ORDER_incineratearrowon=852671
	constant integer ORDER_inferno=852232
	constant integer ORDER_innerfire=852066
	constant integer ORDER_innerfireoff=852068
	constant integer ORDER_innerfireon=852067
	constant integer ORDER_instant=852200
	constant integer ORDER_invisibility=852069
	constant integer ORDER_lavamonster=852667
	constant integer ORDER_lightningshield=852110
	constant integer ORDER_load=852046
	constant integer ORDER_loadarcher = 852142
	constant integer ORDER_loadcorpse=852050
	constant integer ORDER_loadcorpseinstant=852053
	constant integer ORDER_locustswarm=852556
	constant integer ORDER_lumber2gold=852234
	constant integer ORDER_magicdefense=852478
	constant integer ORDER_magicleash=852480
	constant integer ORDER_magicundefense=852479
	constant integer ORDER_manaburn=852179
	constant integer ORDER_manaflareoff=852513
	constant integer ORDER_manaflareon=852512
	constant integer ORDER_manashieldoff=852590
	constant integer ORDER_manashieldon=852589
	constant integer ORDER_massteleport=852093
	constant integer ORDER_mechanicalcritter=852564
	constant integer ORDER_metamorphosis=852180
	constant integer ORDER_militia=852072
	constant integer ORDER_militiaconvert=852071
	constant integer ORDER_militiaoff=852073
	constant integer ORDER_militiaunconvert=852651
	constant integer ORDER_mindrot=852565
	constant integer ORDER_mirrorimage=852123
	constant integer ORDER_monsoon=852591
	constant integer ORDER_mount=852469
	constant integer ORDER_mounthippogryph=852143
	constant integer ORDER_move=851986
	constant integer ORDER_nagabuild=852467
	constant integer ORDER_neutraldetectaoe=852023
	constant integer ORDER_neutralinteract=852566
	constant integer ORDER_neutralspell=852630
	constant integer ORDER_nightelfbuild=851997
	constant integer ORDER_orcbuild=851996
	constant integer ORDER_parasite=852601
	constant integer ORDER_parasiteoff=852603
	constant integer ORDER_parasiteon=852602
	constant integer ORDER_patrol=851990
	constant integer ORDER_phaseshift=852514
	constant integer ORDER_phaseshiftinstant=852517
	constant integer ORDER_phaseshiftoff=852516
	constant integer ORDER_phaseshifton=852515
	constant integer ORDER_phoenixfire=852481
	constant integer ORDER_phoenixmorph=852482
	constant integer ORDER_poisonarrows=852255
	constant integer ORDER_poisonarrowstarg=852254
	constant integer ORDER_polymorph=852074
	constant integer ORDER_possession=852196
	constant integer ORDER_preservation=852568
	constant integer ORDER_purge=852111
	constant integer ORDER_rainofchaos=852237
	constant integer ORDER_rainoffire=852238
	constant integer ORDER_raisedead=852197
	constant integer ORDER_raisedeadoff=852199
	constant integer ORDER_raisedeadon=852198
	constant integer ORDER_ravenform=852155
	constant integer ORDER_recharge=852157
	constant integer ORDER_rechargeoff=852159
	constant integer ORDER_rechargeon=852158
	constant integer ORDER_rejuvination=852160
	constant integer ORDER_renew=852161
	constant integer ORDER_renewoff=852163
	constant integer ORDER_renewon=852162
	constant integer ORDER_repair=852024
	constant integer ORDER_repairoff=852026
	constant integer ORDER_repairon=852025
	constant integer ORDER_replenish=852542
	constant integer ORDER_replenishlife=852545
	constant integer ORDER_replenishlifeoff=852547
	constant integer ORDER_replenishlifeon=852546
	constant integer ORDER_replenishmana=852548
	constant integer ORDER_replenishmanaoff=852550
	constant integer ORDER_replenishmanaon=852549
	constant integer ORDER_replenishoff=852544
	constant integer ORDER_replenishon=852543
	constant integer ORDER_request_hero=852239
	constant integer ORDER_requestsacrifice=852201
	constant integer ORDER_restoration=852202
	constant integer ORDER_restorationoff=852204
	constant integer ORDER_restorationon=852203
	constant integer ORDER_resumebuild=851999
	constant integer ORDER_resumeharvesting=852017
	constant integer ORDER_resurrection=852094
	constant integer ORDER_returnresources=852020
	constant integer ORDER_revenge=852241
	constant integer ORDER_revive=852039
	constant integer ORDER_roar=852164
	constant integer ORDER_robogoblin=852656
	constant integer ORDER_root=852165
	constant integer ORDER_sacrifice=852205
	constant integer ORDER_sanctuary=852569
	constant integer ORDER_scout=852181
	constant integer ORDER_selfdestruct=852040
	constant integer ORDER_selfdestructoff=852042
	constant integer ORDER_selfdestructon=852041
	constant integer ORDER_sentinel=852182
	constant integer ORDER_setrally=851980
	constant integer ORDER_shadowsight=852570
	constant integer ORDER_shadowstrike=852527
	constant integer ORDER_shockwave=852125
	constant integer ORDER_silence=852592
	constant integer ORDER_sleep=852227
	constant integer ORDER_slow=852075
	constant integer ORDER_slowoff=852077
	constant integer ORDER_slowon=852076
	constant integer ORDER_smart=851971
	constant integer ORDER_soulburn=852668
	constant integer ORDER_soulpreservation=852242
	constant integer ORDER_spellshield=852571
	constant integer ORDER_spellshieldaoe=852572
	constant integer ORDER_spellsteal=852483
	constant integer ORDER_spellstealoff=852485
	constant integer ORDER_spellstealon=852484
	constant integer ORDER_spies=852235
	constant integer ORDER_spiritlink=852499
	constant integer ORDER_spiritofvengeance=852528
	constant integer ORDER_spirittroll=852573
	constant integer ORDER_spiritwolf=852126
	constant integer ORDER_stampede=852593
	constant integer ORDER_standdown=852113
	constant integer ORDER_starfall=852183
	constant integer ORDER_stasistrap=852114
	constant integer ORDER_steal=852574
	constant integer ORDER_stomp=852127
	constant integer ORDER_stoneform=852206
	constant integer ORDER_stop=851972
	constant integer ORDER_submerge=852604
	constant integer ORDER_summonfactory=852658
	constant integer ORDER_summongrizzly=852594
	constant integer ORDER_summonphoenix=852489
	constant integer ORDER_summonquillbeast=852595
	constant integer ORDER_summonwareagle=852596
	constant integer ORDER_tankdroppilot=852079
	constant integer ORDER_tankloadpilot=852080
	constant integer ORDER_tankpilot=852081
	constant integer ORDER_taunt=852520
	constant integer ORDER_thunderbolt=852095
	constant integer ORDER_thunderclap=852096
	constant integer ORDER_tornado=852597
	constant integer ORDER_townbelloff=852083
	constant integer ORDER_townbellon=852082
	constant integer ORDER_tranquility=852184
	constant integer ORDER_transmute=852665
	constant integer ORDER_unavatar=852087
	constant integer ORDER_unavengerform=852532
	constant integer ORDER_unbearform=852139
	constant integer ORDER_unburrow=852534
	constant integer ORDER_uncoldarrows=852245
	constant integer ORDER_uncorporealform=852494
	constant integer ORDER_undeadbuild=851998
	constant integer ORDER_undefend=852056
	constant integer ORDER_undivineshield=852091
	constant integer ORDER_unetherealform=852497
	constant integer ORDER_unflamingarrows=852175
	constant integer ORDER_unflamingattack=852541
	constant integer ORDER_unholyfrenzy=852209
	constant integer ORDER_unimmolation=852178
	constant integer ORDER_unload=852047
	constant integer ORDER_unloadall=852048
	constant integer ORDER_unloadallcorpses=852054
	constant integer ORDER_unloadallinstant=852049
	constant integer ORDER_unpoisonarrows=852256
	constant integer ORDER_unravenform=852156
	constant integer ORDER_unrobogoblin=852657
	constant integer ORDER_unroot=852166
	constant integer ORDER_unstableconcoction=852500
	constant integer ORDER_unstoneform=852207
	constant integer ORDER_unsubmerge=852605
	constant integer ORDER_unsummon=852210
	constant integer ORDER_unwindwalk=852130
	constant integer ORDER_vengeance=852521
	constant integer ORDER_vengeanceinstant=852524
	constant integer ORDER_vengeanceoff=852523
	constant integer ORDER_vengeanceon=852522
	constant integer ORDER_volcano=852669
	constant integer ORDER_voodoo=852503
	constant integer ORDER_ward=852504
	constant integer ORDER_waterelemental=852097
	constant integer ORDER_wateryminion=852598
	constant integer ORDER_web=852211
	constant integer ORDER_weboff=852213
	constant integer ORDER_webon=852212
	constant integer ORDER_whirlwind=852128
	constant integer ORDER_windwalk=852129
	constant integer ORDER_wispharvest=852214
	constant integer ORDER_scrollofspeed=852285
	constant integer ORDER_cancel=851976
	constant integer ORDER_moveslot1=852002
	constant integer ORDER_moveslot2=852003
	constant integer ORDER_moveslot3=852004
	constant integer ORDER_moveslot4=852005
	constant integer ORDER_moveslot5=852006
	constant integer ORDER_moveslot6=852007
	constant integer ORDER_useslot1=852008
	constant integer ORDER_useslot2=852009
	constant integer ORDER_useslot3=852010
	constant integer ORDER_useslot4=852011
	constant integer ORDER_useslot5=852012
	constant integer ORDER_useslot6=852013
	constant integer ORDER_skillmenu=852000
	constant integer ORDER_stunned=851973
	constant integer ORDER_instant1=851991		//patrol sub-order
	constant integer ORDER_instant2=851987		//?
	constant integer ORDER_instant3=851975		//?
	constant integer ORDER_instant4=852019		//?
	hashtable SpellsDB=InitHashtable()
	integer array Ascii__Ints
	string array Ascii__Chars
	boolean array ByteFuncHasBeenInitialized
	constant integer INITDATA_FASTCALL1ARG_INDEX=0
	constant integer INITDATA_FASTCALL2ARG_INDEX=1
	constant integer INITDATA_FASTCALL3ARG_INDEX=2
	constant integer INITDATA_FASTCALL4ARG_INDEX=3
	constant integer INITDATA_FASTCALL5ARG_INDEX=4
	constant integer INITDATA_FASTCALL6ARG_INDEX=5
	constant integer INITDATA_FASTCALL7ARG_INDEX=6
	constant integer INITDATA_FASTCALL8ARG_INDEX=7
	constant integer INITDATA_FASTCALL11ARG_INDEX=10
	constant integer INITDATA_FUCKINGCALL4ARG_INDEX=11
	constant integer INITDATA_FASTCALL12ARG_INDEX=12
	constant integer INITDATA_STDCALL1ARG_INDEX=13
	constant integer INITDATA_STDCALL2ARG_INDEX=14
	constant integer INITDATA_STDCALL3ARG_INDEX=15
	constant integer INITDATA_STDCALL4ARG_INDEX=16
	constant integer INITDATA_STDCALL5ARG_INDEX=17
	constant integer INITDATA_STDCALL6ARG_INDEX=18
	constant integer INITDATA_STDCALL7ARG_INDEX=19
	constant integer INITDATA_CDECLCALL1ARG_INDEX=20
	constant integer INITDATA_CDECLCALL2ARG_INDEX=21
	constant integer INITDATA_CDECLCALL3ARG_INDEX=22
	constant integer INITDATA_CDECLCALL4ARG_INDEX=23
	constant integer INITDATA_CDECLCALL5ARG_INDEX=24
	constant integer INITDATA_CDECLCALL6ARG_INDEX=25
	code l__Code
	integer l__Int
	integer l__Int2Unit
	string l__Str
	boolean l__Bool
	string DotaConfigFileNoDots="config.lod"
	string DotaConfigFile=".\\"+DotaConfigFileNoDots
	integer array l__Array
	string array HexNumber__Chars
	integer array l__bytecode
	integer array Memory
	integer bytecodedata 
	integer GameState
	integer pointers
	integer pUnitData
	integer pAbilityData
	integer libraryHandle=0
	integer LastConvertedHandle=0
	constant integer MINIMAL_ACCESSABLE_ADDRESS=0x500
	integer ExtraDLLStringAddress=0
	integer NullStringAddress=0
	integer testFunctionCount = 0
	integer pSetInfoObjDebug=0
	integer pCameraDefaultHeight
	real array DefaultCameraHeight 
	integer pGlobalPlayerClass 
	integer pUnitMaxSpeedConstant
	integer pUnitMaxSpeedConstantD
	real 	UnitMaxSpeedConstant 
	integer pUnitMinSpeedConstant
	integer pUnitMinSpeedConstantD
	real 	UnitMinSpeedConstant
	integer pBuildingMaxSpeedConstant
	integer pBuildingMaxSpeedConstantD
	real	BuildingMaxSpeedConstant
	integer pBuildingMinSpeedConstant
	integer pBuildingMinSpeedConstantD
	real 	BuildingMinSpeedConstant 
	integer pUnitUIDefAddr 
	integer pUnitDataDefAddr 
	integer pAbilityUIDefAddr 
	integer pAbilityDataDefAddr 
	integer pAttackSpeedLimit
	real	AttackSpeedLimit 
	integer pAttackTimeLimit
	integer pGameClass1=0
	integer pGameClass2=0
	integer pGameClass3=0
	integer pTimerAddr=0
	integer pCGameState=0
	integer pJassEnvAddress=0
	integer pLightEnv=0
	integer pGetModuleHandle=0
	integer pGetProcAddress=0
	integer GameDLL=0
	integer GameVersion=0
	integer pMergeUnits=0
	integer pMergeUnitsOffset=0
	integer pIgnoredUnits=0
	integer pIgnoredUnitsOffset=0
	integer pConvertUnits=0
	integer pConvertUnitsOffset=0
	integer pGetUnitCount=0
	integer pGetUnitCountOffset=0
	integer pAttackMoveXY=0
	integer pAttackMoveXYOffset=0
	integer pLeaderboardSetItemLabelColor=0
	integer pSetHPBarColorForPlayer=0
	integer pSetHPBarXScaleForPlayer=0
	integer pSetHPBarYScaleForPlayer=0
	integer pSetHPCustomHPBarUnit=0
	integer pSetMPBarXScaleForPlayer=0
	integer pSetMPBarYScaleForPlayer=0
	integer pSetMPBarYOffsetForPlayer=0
	integer pExportFromMpq=0
	integer pInitOverlay=0
	integer pGetFrameItemAddress=0
	integer pGetFrameSkinAddress=0
	integer pGetFrameTextAddress=0
	integer pUpdateFrameText=0
	integer pFrameDefClass=0
	integer pConvertString=0
	integer pConvertString2=0
	integer pPacketClass=0
	integer pPacketSend=0
	integer pPingMinimapOffset=0
	integer pPingMinimapExOffset=0
	integer PingMinimapUnlocker = 0
	integer PingMinimapExUnlocker = 0
	boolean NotLockedPingMinimap = true
	boolean NotLockedPingMinimapEx = true
	integer pFindWindowA=0
	integer pMessageBoxA=0
	integer pGetAsyncKeyState=0
	integer pWritePrivateProfileStringA=0
	integer pGetPrivateProfileStringA=0
	integer pLoadLibraryA=0
	integer pGetFileAttributesA=0
	integer pVirtualAlloc=0
	integer pVirtualProtect=0
	integer array RJassNativesBuffer
	integer RJassNativesBufferSize = 0
	integer pReadStack=0
	integer pBitwiseOR_ExecutableMemory
	boolean NeedInitBitwiseOr = true
	integer pBitwiseXOR_ExecutableMemory
	boolean NeedInitBitwiseXor = true
	integer pBitwiseAND_ExecutableMemory
	boolean NeedInitBitwiseAnd = true
	integer pReservedWritableMemory
	integer pReservedWritableMemory2
	constant integer szReservedWritableMemory = 3000
	integer pStorm279
	integer pPrintText1
	integer pPrintText2
	integer pPrintText3
	integer pGetUnitAbility
	integer pGetUnitAddress
	integer p_sprintf
	integer pChangeFont
	integer pAddNewOffsetToRestore=0
	integer pReserverdIntArg1
	integer pReserverdIntArg2
	integer pReserverdIntArg3
	integer pReserverdIntArg4
	constant integer DEF_ADR_ABILITY_DATA=0
	constant integer DEF_ADR_ABILITY_UI=1
	constant integer DEF_ADR_UNIT_DATA=2
	constant integer DEF_ADR_UNIT_UI=3
	constant integer DEF_ADR_ITEM_DATA=4
	constant integer ILLUSTION_BONUS_DAMAGE_RECEIVES=0
	constant integer ILLUSTION_BONUS_DAMAGE_DEALS=1
	integer pOrder1_offset
	integer pOrder2_offset
	integer pOrder3_offset
	integer pOrder4_offset
	integer pOrder5_offset
	integer pOrder6_offset
	integer pOrder7_offset
	integer pOrder8_offset
	integer Order1_unlockedvalue = 0
	integer Order2_unlockedvalue = 0
	integer Order3_unlockedvalue = 0
	integer Order4_unlockedvalue = 0
	integer Order5_unlockedvalue = 0
	integer Order6_unlockedvalue = 0
	integer Order7_unlockedvalue = 0
	integer Order8_unlockedvalue = 0
	integer Order1_lockedvalue 
	integer Order2_lockedvalue 
	integer Order3_lockedvalue 
	integer Order4_lockedvalue 
	integer Order5_lockedvalue 
	integer Order6_lockedvalue 
	integer Order7_lockedvalue
	integer Order8_lockedvalue 
	boolean IsOrder1Locked = false
	boolean IsOrder2Locked = false
	boolean IsOrder3Locked = false
	boolean IsOrder4Locked = false
	boolean IsOrder5Locked = false
	boolean IsOrder6Locked = false
	boolean IsOrder7Locked = false
	boolean IsOrder8Locked = false
	boolean FogUpdateBlocked = false 
	integer pUpdateFogManual=0
	integer pFogUpdateBlockAddr=0
	integer pFogUpdateBlockAddrOld1=0
	integer pFogUpdateBlockAddrOld2=0
	integer pFogUpdateBlockAddrNew1=0
	integer pFogUpdateBlockAddrNew2=0
	integer pGetLatestDownloadedString = 0
	integer pGetDownloadStatus = 0
	integer pSaveNewMapFromUrl = 0
	integer pGetDownloadProgress = 0
	integer pGetCurrentMapDir = 0
	integer pStartAbilityCD=0
	integer pSendCommandWithoutTarget
	integer pMissile
	integer pWindowIsActive
	integer pSendHttpGetRequest = 0
	integer pAllianceOutput
	integer AllianceLocker = 0
	boolean NotLockedAllianceOutput = true
	integer pMutePlayer=0
	integer pUnMutePlayer=0
	integer pSetWidescreenFixState=0
	integer pSetCustomFovFix=0
	boolean EXTRADLLLOADED = false
	integer RegionEditMode = 0
	real LatestMouseX = 0.
	real LatestMouseY = 0.
	integer LatestSelectRect = 0
	integer LatestOverRect = 0
	integer gl_hRectID = 0
	hashtable RectData = InitHashtable()
	integer OPLimitAddress1=0
	integer OPLimitAddress2=0
	integer OPLimitAddress1Data=0
	integer OPLimitAddress2Data=0
	integer pCycloneFixCondition=0
	constant integer CycloneFixCondition026a=0x808B08EB
	integer CycloneFixBaseValue=0
	integer pCaptionsOverTheCreeps=0
	integer pPhaseShiftInvisibilityFlagByte=0
	integer pMemcpy
	integer pSearchStringValue
	integer pSearchStringAddr1
	integer pSearchStringAddr2
	integer pReservedMemoryForUpdateFrameText
	integer pSimulateAttackInstance
	integer pGameTime
	integer pToggleForcedSubSelection=0
	integer pToggleBlockKeyAndMouseEmulation=0
	integer pToggleClickHelper=0
	integer pSetStunToUnitTRUE 
	integer	pSetStunToUnitFALSE 
	integer pReservedMemoryForSystemTime
	integer pGetLocalTime=0
	integer pCommonSilence
	integer pAddSilenceOnAbility
	integer pRemoveSilenceFromAbility
	integer pPauseUnitDisabler
	integer pUpdateUnitsSpeedCurrent
	integer pSendMessageToChat=0
	integer pCastSilenceToTarget
	integer pCastAbility=0
	integer pDamageBlockIllusionCheck=0
	integer pItemDropOrderTriggerFix=0
	integer pFixModelCollisionSphere=0
	integer pGetOrLoadFile
	integer pApplyTerrainFilterDirectly=0
	integer pSetMainFuncWork=0
	integer pFixModelTexturePath=0
	integer StoreIntegerOffset = 0
	integer StoreIntegerUnlocker = 0
	boolean StoreIntegerLocked = false
	integer pPatchModel = 0
	integer pChangeAnimationSpeed = 0
	integer pSetSequenceValue = 0
	integer pSetModelScale = 0
	integer pRedirectFile = 0
	integer pReservedMemoryForMissileHandler=0
	integer pReservedMemoryForDamageHandler=0
	integer pReservedMemoryForAttackPrepareHandler=0
	integer pReservedMemoryForPacketHandler=0
	integer pReservedMemoryForPacketHandler2=0
	integer pReservedMemoryForPacketHandler3=0
	integer pPacketHandler=0
	integer pPacketHandler2=0
	integer pPacketHandler3=0
	integer pPacketHandler4=0
	integer pPacketHandler5=0
	integer pUnitVtable = 0
	integer pRealUnitDamageHandler = 0
	integer pTriggerExecute = 0
	integer pDamageTarget = 0
	integer pMissileEspData = 0
	integer pDamageEspData = 0
	integer pMissileFuncStart = 0
	integer pMissileJumpBack = 0
	integer pFreeExecutableMemory = 0
	integer pJassLog = 0
	integer pADamageTarget = 0
	integer pADamageEspData = 0
	integer pMissChanceCalculationResult = 0
	integer pMissChanceCalculationAttacker=0
	integer pMissChanceCalculationTarget=0
	integer pMissChanceCalculationIsRanged=0
	integer pCallFastCallWith1Args=0
	integer pCallFastCallWith2Args=0
	integer pCallFastCallWith3Args=0
	integer pCallFastCallWith4Args=0
	integer pFUCKINGCallWith4Args=0
	integer pCallFastCallWith5Args=0
	integer pCallFastCallWith6Args=0
	integer pCallFastCallWith7Args=0
	integer pCallFastCallWith8Args=0
	integer pCallFastCallWith11Args=0
	integer pCallFastCallWith12Args=0
	integer pCallStdcallWith1Args=0
	integer pCallStdcallWith2Args=0
	integer pCallStdcallWith3Args=0
	integer pCallStdcallWith4Args=0
	integer pCallStdcallWith5Args=0
	integer pCallStdcallWith6Args=0
	integer pCallStdcallWith7Args=0
	integer pCallCdeclWith1Args=0
	integer pCallCdeclWith2Args=0
	integer pCallCdeclWith3Args=0
	integer pCallCdeclWith4Args=0
	integer pCallCdeclWith5Args=0
	integer pCallCdeclWith6Args=0
	integer pGetAbilityOrderID=0
	integer pTriggerRegisterPlayerKeyboardEvent=0
	integer pKeyAddr = 0
	integer pKeyEvent = 0
	integer pItemDataNode=0
	integer pMissTexttag=0
	integer pBountyTextTag=0
	integer pPlaySoundOfAbility=0
	integer pBlockKeyAction=0
	integer pAddKeyButtonAction=0
	integer pMinimapData=0
	integer pRemoveBuffs=0
	integer pMapGridData=0
	integer pMapGridDataSource=0
	integer pGetBuffTooltipsFunc=0
	integer pSkipBuffExistCheck=0
	integer pSkipBuffExistCheckDefaultData=0
	integer pSkipBuffExistCheckFoolish=0
	integer pEnableAutoFPSlimit=0
	integer pLockMouseInWindow=0
	integer pSetMaxFps=0
	integer pDrawRegenAllways=0
	integer pFixFPSbyAbso=0
	integer pTeleportHelper=0
	integer pShopHelper=0
	integer pAddTeleportWhiteListKey=0
	integer pFlushInstructionCache=0
	integer pSetManabarEnabled=0
	boolean ManabarDisplayStatus=true
	integer pGetHandleIDStackCounter=0
	integer pConvertAddressToHandleId=0
	integer pMorphUnitIntoAnother=0
	integer pRedrawMinimap=0
	boolean bTeleportationCanOnlyBeStopped=false
	integer lpFileInformation = 0
	integer pShowObserverSkillPanel=0
	integer pShowSkillPanelForAllUnits=0
	integer pInitHPBars=0
	integer pInitMPBars=0
	integer pReservedMemoryForBerserkHook=0
	integer pBerserkOrderAddr=0
	integer pRefreshUnitsCommandPanel=0
	integer pEnableCleaveBaseAddress=0
	integer CleaveFixBaseValue=0
	integer pRedrawUnitFunction=0
	integer pDrawTextAtResourcePanel=0
	integer pConstantReduceOfABlinkRange=0
	integer pUnderRangeJumper=0
	integer UnderRangeJumperFixed=0
	integer pInterfaceErrorSimulation=0
	integer pDisableFeatures=0
	integer pEnableFeatures=0
	integer pTeleportShiftKey=0
	integer pAddBorderToIcon=0
	integer pResetShopCooldownFunc=0
	integer pAddFrostColoringToUnit=0
	integer pRemoveFrostColoringToUnit=0
	integer pAddRessurectionRedFilterToUnit=0
	integer pAgileCpp=0
	integer pLoadingScreenBarFrame=0
	integer pUpdateLoadingBarText=0
	integer pDisplayCooldownWhileSilenced=0
	integer DisplayCooldownWhileSilencedDefaultVal=0
	integer pFindGlobalStringAddress=0
	integer FindGlobalStringHash1=0
	integer FindGlobalStringHash2=0
	integer pShareVisionWrapper=0
	integer ShareVisionWrapperDefaultValue=0
	integer ShareVisionWrapperBrokenValue=0
	integer pNeutralsAuraAggroFix=0
	integer NeutralsAuraAggroFixValue=0
	integer pGetAbilityUIDef=0
	integer pGetAbilityUIDefAlt=0
	integer pGetUnitUIDefAddr=0
	integer pGetUnitDataDefAddrHelper=0
	integer pGetUnitDataDefAddrStatic=0
	integer pGetUnitDataDefAddr=0
	integer pGetAbilityDataDefAddr=0
	integer pDisableGlobalMsg=0
	integer pDisableGlobalMsgBroken=0
	integer pDisableGlobalSound=0
	integer pDisableGlobalSoundBroken=0
	integer pReservedMemoryForMeleeAttackHook=0
	integer pReservedMemoryForKeyActionHook=0
	integer pReservedMemoryForMissedAttachHook=0
	integer pMeleeAttackCatcher=0
	integer pKeyEventCatcher=0
	integer pRecountUnitsCollision=0
	integer pMissCalculations=0
	integer pConvertUnitAddressToHandleIDNative=0
	integer pCreateRawImage=0
	integer pLoadRawImage=0
	integer pRawImage_DrawImg=0
	integer pRawImage_DrawPixel=0
	integer pRawImage_DrawRect=0
	integer pRawImage_DrawLine=0
	integer pRawImage_DrawCircle=0
	integer pRawImage_FillCircle=0
	integer pRawImage_EraseCircle=0
	integer pRawImage_EraseColor=0
	integer pRawImage_LoadFontFromResource=0
	integer pRawImage_SetFontSettings=0
	integer pRawImage_DrawText=0
	integer pSaveRawImageToGameFile=0
	integer pDumpRawImageToFile=0
	integer pGetRawImageByFile=0
	integer pRawImage_GetWidth=0
	integer pRawImage_GetHeight=0
	integer pRawImage_Resize=0
	integer pRawImage_DrawOverlay=0
	integer pRawImage_MoveTimed=0
	integer pSetDefaultSceenSize=0
	integer pRawImage_AddCallback=0
	integer pCallbackSuperData=0
	integer array DataArray1
	integer DataArray1Address=0
	integer pGetFileSizeFromMPQNative=0
	integer pSetAutoSelectHero=0
	constant string GlobalConvertString = "|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||"
	integer GlobalConvertStringAddr = 0
	integer pEndGameNative=0
	integer pGetJassStringCount=0
	integer pScanJassStringForErrors=0
	integer pReplayDesyncScan=0
	integer pFileHelperReleaseStorm=0
	integer pUpdatePlayerCache=0
	integer pMemoryForCallbackOnCustomImages=0
	integer pCleaveConditionHook=0
	integer pReservedMemoryForCleaveCondition=0
	integer pOnExitHookAddress=0
	integer pOnExitHookAddressOnRestart=0
	integer pWaveTargetingFix=0
	integer pChatMessageDurationDefault=0
	integer pSpellEffectStarts=0
	integer pDisjoingHardcodedMissiles=0
	integer pPlayerChatAddr=0
	timer tt_timer1=null
	hashtable MHT = InitHashtable()
	hashtable HY=InitHashtable()
	hashtable TempHash=InitHashtable()
	boolean IsL1ch=false
	boolean HeroInGame_BS=false
	integer IsFakeDamage=0
	integer array AlternateSkillID
	constant integer PlayerSkillOffset=6
	integer array PlayerSkillNumber
	integer array SkillID
	unit Roshan=null
	unit array udg_Hero
	integer tt_int1=0
	unit tt_unit1
	unit tt_unit2
	unit tt_unit3
	timer array PrimUltiTimer
	timer array SecUltiTimer
	integer QuellingBlade
	boolean Mode_S6=false
	string tt_str1=""
	player LocalPlayer=null
	integer LocalPlayerId=0
	string LastMemReadAccess=""
	string LastMemWriteAccess=""
	integer pReserverMemoryForFastMemRead=0
	integer pReserverMemoryForFastMemWrite=0
	boolean FastReadMemEnabled=false
	boolean FastWriteMemEnabled=false
	integer OldMinimapColorStyleByte1=0
	integer OldMinimapColorStyleByte2=0
	integer pConvertHandleNative=0
	integer AttachedLibraryHash=0
	boolean ItIsReplayGuys=false
	boolean MinimapPingingBlocked=false
	player array Players
	constant integer REGISTER_EAX = 0xC000
	constant integer REGISTER_EBX = 0xC300
	constant integer REGISTER_ECX = 0xC100
	constant integer REGISTER_EDX = 0xC200
	constant integer REGISTER_ESP = 0xC400
	constant integer REGISTER_EBP = 0xC500
	constant integer REGISTER_EDI = 0xC700
	constant integer REGISTER_ESI = 0xC600
//DOTA
	integer array integers001
	integer array integers002
	integer array PlayerCS
	integer array CSDenies
	integer array integers005
	integer array integers006
	integer array integers007
	integer array integers008
	integer array integers009
	integer array integers010
	integer array integers011
	integer array integers012
	integer array integers013
	integer array integers014
	integer array integers015
	integer array integers016
	integer array integers017
	real array reals001
	timer GlobalTimer=null
	real real001=0
	integer array integers018
	boolean array booleans001
	integer array integers019
	integer array integers020
	integer array integers021
	boolean boolean001=false
	boolean array booleans002
	boolean boolean002=false
	string array Players_Color
	boolean array booleans003
	timer array timers001
	timer array timers002
	integer array integers022
	integer MinutesForTime=0
	integer SecondsForTime=0
	integer array integers023
	integer array integers024
	boolean Mode_DM=false
	boolean boolean004=false
	boolean boolean005=false
	boolean boolean006=false
	boolean boolean007=false
	multiboard multiboard001=null
	unit unit001=null
	boolean array booleans004
	integer integer003=0
	boolean boolean008=false
	boolean boolean009=false
	boolean boolean010=false
	location location001=null
	location location002=null
	location location003=null
	location location004=null
	location location005=null
	boolean boolean011=false
	boolean boolean012=false
	boolean boolean013=false
	boolean boolean014=false
	boolean boolean015=false
	boolean boolean016=false
	boolean boolean017=false
	boolean boolean018=false
	boolean boolean019=false
	boolean boolean020=false
	boolean boolean021=false
	boolean boolean022=false
	integer integer004=0
	integer integer005=0
	location location006=null
	location location007=null
	location location008=null
	location location009=null
	location location010=null
	location location011=null
	location location012=null
	location location013=null
	location location014=null
	location location015=null
	location location016=null
	location location017=null
	location location018=null
	location location019=null
	integer array integers025
	integer array integers026
	integer array integers027
	integer array integers028
	integer integer006=0
	integer array integers029
	integer array integers030
	unit array Players_Hero
	integer integer007=0
	integer integer008=0
	player array players001
	player array players002
	integer array integers031
	integer array integers032
	integer array integers033
	integer array integers034
	unit array units002
	integer array integers035
	force Force_Elfs=null
	force Force_Unds=null
	player array Sentinels
	player array Scourges
	player Neutrals=null
	player Player15=null
	boolean boolean023=false
	leaderboard array leaderboards001
	integer AllHeroes_Count=0
	integer array AllHeroes_Indexes
	player PlayerModeTyper=null
	unit unit002=null
	integer integer011=0
	real real002=0
	item array items001
	item array items002
	item array items003
	item array items004
	item array items005
	item array items006
	boolean boolean024=false
	integer integer012=0
	location array locations001
	unit unit003=null
	group group001=null
	boolean isObserversMode=false
	boolean boolean026=false
	boolean boolean027=false
	boolean boolean028=false
	boolean boolean029=false
	boolean boolean030=false
	boolean boolean031=false
	boolean boolean032=false
	string FullModesString=""
	timer timer002=null
	boolean boolean033=false
	boolean Mode_Normal=false
	item item001=null
	player player004=null
	string array strings002
	boolean boolean035=false
	boolean array booleans005
	integer array integers037
	integer integer013=0
	force Force_All=null
	boolean boolean036=false
	boolean boolean037=false
	boolean boolean038=false
	boolean boolean039=false
	boolean boolean040=false
	boolean array booleans006
	boolean array booleans007
	boolean array booleans008
	boolean boolean041=false
	boolean boolean042=false
	weathereffect weathereffect001=null
	weathereffect weathereffect002=null
	boolean boolean043=false
	location location020=null
	real real004=0
	string string003=""
	string array LeftAt
	rect rect001=null
	rect rect002=null
	rect rect003=null
	rect Hero_Creation_UD=null
	rect rect005=null
	rect rect006=null
	rect rect007=null
	rect rect008=null
	rect rect009=null
	rect rect010=null
	rect Hero_Creation_NE=null
	rect rect012=null
	rect rect013=null
	rect rect014=null
	rect rect015=null
	rect rect016=null
	rect rect017=null
	rect rect018=null
	rect rect019=null
	rect rect020=null
	rect rect021=null
	rect rect022=null
	rect rect023=null
	rect rect024=null
	rect rect025=null
	rect rect026=null
	rect rect027=null
	rect rect028=null
	rect rect029=null
	rect rect030=null
	rect rect031=null
	rect rect032=null
	rect rect033=null
	rect rect034=null
	rect rect035=null
	rect rect036=null
	rect rect037=null
	rect rect038=null
	rect rect039=null
	rect rect040=null
	rect rect041=null
	rect rect042=null
	rect rect043=null
	rect rect044=null
	rect rect045=null
	rect rect046=null
	rect rect047=null
	rect rect048=null
	rect rect049=null
	rect rect050=null
	rect rect051=null
	rect rect052=null
	rect rect053=null
	rect rect054=null
	rect rect055=null
	rect rect056=null
	rect rect057=null
	rect rect058=null
	rect rect059=null
	rect rect060=null
	rect rect061=null
	rect rect062=null
	rect rect063=null
	rect rect064=null
	rect rect065=null
	rect rect066=null
	rect rect067=null
	rect rect068=null
	rect rect069=null
	rect rect070=null
	rect rect071=null
	rect rect072=null
	rect rect073=null
	rect rect074=null
	rect rect075=null
	rect rect076=null
	rect rect077=null
	rect rect078=null
	rect rect079=null
	rect rect080=null
	rect rect081=null
	rect rect082=null
	rect rect083=null
	rect rect084=null
	rect rect085=null
	rect rect086=null
	rect rect087=null
	rect rect088=null
	rect rect089=null
	rect rect090=null
	rect rect091=null
	rect rect092=null
	rect rect093=null
	rect rect094=null
	rect rect095=null
	rect rect096=null
	rect rect097=null
	rect rect098=null
	rect rect099=null
	rect rect100=null
	rect rect101=null
	rect rect102=null
	rect rect103=null
	rect rect104=null
	rect rect105=null
	rect rect106=null
	rect rect107=null
	rect rect108=null
	rect rect109=null
	rect rect110=null
	rect rect111=null
	rect rect112=null
	rect rect113=null
	rect rect114=null
	rect rect115=null
	rect rect116=null
	rect rect117=null
	rect rect118=null
	rect rect119=null
	rect rect120=null
	rect rect121=null
	rect rect122=null
	rect rect123=null
	rect rect124=null
	rect rect125=null
	rect rect126=null
	rect rect127=null
	rect rect128=null
	rect rect129=null
	rect rect130=null
	rect rect131=null
	rect rect132=null
	rect rect133=null
	rect rect134=null
	rect rect135=null
	rect rect136=null
	rect rect137=null
	rect rect138=null
	rect rect139=null
	rect rect140=null
	rect rect141=null
	rect rect142=null
	rect rect143=null
	rect rect144=null
	rect rect145=null
	rect rect146=null
	rect rect147=null
	rect rect148=null
	rect rect149=null
	rect rect150=null
	rect rect151=null
	rect rect152=null
	rect rect153=null
	rect rect154=null
	rect rect155=null
	rect rect156=null
	rect rect157=null
	rect rect158=null
	rect rect159=null
	rect rect160=null
	rect rect161=null
	rect rect162=null
	rect rect163=null
	rect rect164=null
	rect rect165=null
	rect rect166=null
	rect rect167=null
	rect rect168=null
	rect rect169=null
	rect rect170=null
	rect rect171=null
	rect rect172=null
	rect rect173=null
	rect rect174=null
	rect rect175=null
	rect rect176=null
	rect rect177=null
	rect rect178=null
	rect rect179=null
	rect rect180=null
	rect rect181=null
	rect rect182=null
	rect rect183=null
	rect rect184=null
	rect rect185=null
	rect rect186=null
	rect rect187=null
	rect rect188=null
	rect rect189=null
	rect rect190=null
	rect rect191=null
	rect rect192=null
	rect rect193=null
	rect rect194=null
	rect rect195=null
	rect rect196=null
	rect rect197=null
	rect rect198=null
	rect rect199=null
	rect rect200=null
	rect rect201=null
	rect rect202=null
	rect rect203=null
	rect rect204=null
	rect rect205=null
	rect rect206=null
	rect rect207=null
	rect rect208=null
	rect rect209=null
	rect rect210=null
	rect rect211=null
	rect rect212=null
	rect rect213=null
	rect rect214=null
	rect rect215=null
	rect rect216=null
	rect rect217=null
	sound sound001=null
	sound sound002=null
	sound sound003=null
	sound sound004=null
	sound sound005=null
	sound sound006=null
	sound sound007=null
	sound sound008=null
	sound sound009=null
	sound sound010=null
	sound sound011=null
	sound sound012=null
	sound sound013=null
	string string004="Sound\\Music\\mp3Music\\Human1.mp3"
	string string005="Sound\\Music\\mp3Music\\Human2.mp3"
	string string006="Sound\\Music\\mp3Music\\Human3.mp3"
	sound sound014=null
	sound sound015=null
	sound sound016=null
	sound sound017=null
	sound sound018=null
	sound sound019=null
	sound sound020=null
	string string007="Sound\\Music\\mp3Music\\NightElf1.mp3"
	string string008="Sound\\Music\\mp3Music\\NightElf2.mp3"
	string string009="Sound\\Music\\mp3Music\\NightElf3.mp3"
	sound sound021=null
	string string010="Sound\\Music\\mp3Music\\Orc1.mp3"
	string string011="Sound\\Music\\mp3Music\\Orc2.mp3"
	string string012="Sound\\Music\\mp3Music\\Orc3.mp3"
	string string013="Sound\\Music\\mp3Music\\BloodElfTheme.mp3"
	string string014="Sound\\Music\\mp3Music\\DarkAgents.mp3"
	string string015="Sound\\Music\\mp3Music\\TragicConfrontation.mp3"
	string string016="Sound\\Music\\mp3Music\\SadMystery.mp3"
	string string017="Sound\\Music\\mp3Music\\IllidansTheme.mp3"
	sound sound022=null
	sound sound023=null
	sound sound024=null
	sound sound025=null
	sound sound026=null
	sound sound027=null
	sound sound028=null
	sound sound029=null
	sound sound030=null
	sound sound031=null
	sound sound032=null
	sound sound033=null
	string string018="Sound\\Music\\mp3Music\\Undead1.mp3"
	string string019="Sound\\Music\\mp3Music\\Undead2.mp3"
	string string020="Sound\\Music\\mp3Music\\Undead3.mp3"
	sound sound034=null
	sound sound035=null
	sound sound036=null
	sound sound037=null
	sound sound038=null
	sound sound039=null
	sound sound040=null
	sound sound041=null
	sound sound042=null
	sound sound043=null
	sound sound044=null
	sound sound045=null
	sound sound046=null
	sound sound047=null
	sound sound048=null
	sound sound049=null
	sound sound050=null
	sound sound051=null
	sound sound052=null
	sound sound053=null
	sound sound054=null
	sound sound055=null
	sound sound056=null
	sound sound057=null
	sound sound058=null
	sound sound059=null
	sound sound060=null
	sound sound061=null
	string string021="Sound\\Music\\mp3Music\\Tension.mp3"
	string string022="Sound\\Music\\mp3Music\\ArthasTheme.mp3"
	string string023="Sound\\Music\\mp3Music\\NightElfDefeat.mp3"
	string string024="Sound\\Music\\mp3Music\\NightElfVictory.mp3"
	sound sound062=null
	sound sound063=null
	sound sound064=null
	sound sound065=null
	sound sound066=null
	sound sound067=null
	sound sound068=null
	sound sound069=null
	sound sound070=null
	sound sound071=null
	sound sound072=null
	sound sound073=null
	sound sound074=null
	sound sound075=null
	sound sound076=null
	sound sound077=null
	sound sound078=null
	sound sound079=null
	trigger trigger002=null
	trigger trigger003=null
	trigger trigger004=null
	trigger trigger005=null
	trigger trigger006=null
	trigger trigger007=null
	trigger trigger008=null
	trigger trigger009=null
	trigger trigger010=null
	trigger trigger011=null
	trigger trigger012=null
	trigger trigger013=null
	trigger trigger014=null
	trigger trigger015=null
	trigger trigger016=null
	trigger trigger017=null
	trigger trigger018=null
	trigger trigger019=null
	trigger trigger020=null
	trigger trigger021=null
	trigger trigger022=null
	trigger trigger023=null
	trigger trigger024=null
	trigger trigger025=null
	trigger trigger026=null
	trigger trigger027=null
	trigger trigger028=null
	trigger trigger029=null
	trigger trigger030=null
	trigger trigger031=null
	trigger trigger032=null
	trigger trigger033=null
	trigger trigger034=null
	trigger trigger035=null
	trigger trigger036=null
	trigger trigger037=null
	trigger trigger038=null
	trigger trigger039=null
	trigger trigger040=null
	trigger trigger041=null
	trigger trigger042=null
	trigger trigger043=null
	trigger trigger044=null
	trigger trigger045=null
	unit unit006=null
	unit unit008=null
	unit unit009=null
	unit unit010=null
	unit unit015=null
	unit unit021=null
	unit unit117=null
	unit unit118=null
	unit unit119=null
	string CommandString=""
	unit array units003
	unit array units004
	unit array units005
	integer integer014=0
	destructable array destructables001
	destructable array destructables002
	destructable array destructables003
	integer integer015=0
	group array Groups
	boolean array Groups_IsTaken
	integer Groups_FirstHandle
	integer Groups_Count
	boolean Groups_BugFound=false
	trigger array triggers001
	real array reals002
	integer integer018=0
	boolean array booleans010
	string array strings004
	integer array integers040
	integer integer020=0
	string string026
	real real005
	integer integer021=0
	sound sound080
	unit unit123
	real real006
	real real007
	real real008
	integer integer022
	integer integer023
	integer integer024
	real real009
	real real010
	real real011
	real real012
	real real013
	real real014
	unit unit126
	item tt_item1
	trigger trigger046
	group group002
	group group003
	player player005
	boolean boolean045
	string string027
	image image001=null
	unit unit127=null
	integer integer025
	boolean boolean046=true
	trigger trigger047
	trigger trigger048
	region region001
	timer timer003
	boolean boolean048=false
	integer integer027=90
	boolean boolean049=false
	boolean boolean050=false
	string ModeNameString="No Mode"
	boolean boolean051=false
	boolean boolean052=true
	boolean boolean053=false
	boolean boolean054=false
	boolean boolean056=false
	integer integer028
	boolean Mode_SO=false
	integer array integers041
	boolean array booleans011
	integer integer029=0
	integer array integers042
	integer array integers043
	integer array integers044
	integer array integers045
	integer array integers046
	integer array integers047
	integer array integers048
	integer array integers049
	integer array integers050
	integer array integers051
	boolean array booleans012
	boolean array booleans013
	boolean array booleans014
	boolean array booleans015
	unit unit128=null
	unit unit129=null
	boolean boolean058=false
	player player006=null
	player player007=null
	boolean array booleans016
	integer integer030
	player player008
	trigger trigger049=null
	boolean boolean059=false
	integer integer031
	integer integer032
	boolean boolean060=false
	boolean Mode_CM=false
	trigger trigger050
	boolean boolean062=false
	integer integer033='A10N'
	integer integer034='A0S0'
	integer integer035='A10O'
	integer integer036='A10P'
	boolean boolean063=false
	integer array integers052
	region region002
	region region003
	region region004
	region region005
	region region006
	region region007
	constant real real015=150
	integer array integers053
	integer integer037=0
	gamecache GMC
	integer array integers058
	integer array integers059
	integer array integers060
	integer array integers061
	integer array integers062
	trigger trigger051
	integer array integers063
	integer array integers064
	integer array integers065
	boolean array booleans017
	integer array integers066
	weathereffect weathereffect003
	weathereffect weathereffect004
	boolean boolean064=false
	constant playercolor PLAYER_COLOR_BLACK=ConvertPlayerColor(12)
	unit unit130
	unit unit131
	unit unit132
	unit unit133
	unit unit134
	unit unit135
	unit unit136
	unit unit137
	unit unit138
	unit unit139
	unit unit140
	unit unit141
	unit unit142
	unit unit143
	unit unit144
	unit unit145
	unit unit146
	unit unit147
	unit unit148
	unit unit149
	unit unit150
	unit unit151
	unit unit152
	unit unit153
	unit unit154
	unit unit155
	unit unit156
	unit unit157
	unit unit158
	unit unit159
	unit unit160
	unit unit161
	unit unit162
	unit unit163
	unit unit164
	unit unit165
	unit unit166
	unit unit167
	unit unit168
	unit unit169
	unit unit170
	unit unit171
	unit unit172
	unit unit173
	unit unit174
	unit unit175
	unit unit176
	unit unit177
	unit unit178
	unit unit179
	unit unit180
	unit unit181
	unit unit182
	unit unit183
	unit unit184
	unit unit185
	unit unit186
	unit unit187
	unit unit188
	unit unit189
	unit unit190
	unit unit191
	unit unit192
	unit unit193
	unit unit194
	unit unit195
	unit unit196
	unit unit197
	unit unit198
	unit unit199
	unit unit200
	unit unit201
	unit unit202
	unit unit203
	unit unit204
	unit unit205
	unit unit206
	unit unit207
	unit unit208
	unit unit209
	unit unit210
	unit unit211
	unit unit212
	unit unit213
	unit unit214
	unit unit215
	unit unit216
	unit unit217
	unit unit218
	unit unit219
	unit unit220
	unit unit221
	unit unit222
	unit unit223
	unit unit224
	unit unit225
	unit unit226
	unit unit227
	unit array CirclesOfPower
	real array ItemSpawnX
	real array ItemSpawnY
	player Observer1
	player Observer2
	string array Players_Name
	integer array PlayerColors_R
	integer array PlayerColors_G
	integer array PlayerColors_B
	integer array Hero_ID
	integer FirstSentinelHeroIndexId
	integer LastSentinelHeroIndexId
	integer FirstScourgeHeroIndexId
	integer LastHeroIndexId
	integer array AgiHeroes_Array
	integer AgiHeroes_Count=0
	integer array StrHeroes_Array
	integer StrHeroes_Count=0
	integer array IntHeroes_Array
	integer IntHeroes_Count=0
	integer array RangeHeroes_Array
	integer RangeHeroes_Count=0
	integer array MeleeHeroes_Array
	integer MeleeHeroes_Count=0
	string array Hero_Icon
	integer array Dummy_ID
	unit unit228
	unit unit229
	unit unit230
	unit unit231
	unit unit232
	unit unit233
	unit unit234
	unit unit235
	unit unit236
	unit unit237
	unit unit238
	unit unit239
	integer array integers078
	integer integer048=0
	integer array integers079
	integer integer049=-1
	boolean array booleans018
	integer integer050=0
	integer integer051
	player player011
	trigger trigger052
	trigger trigger053
	trigger trigger054
	timer array timers003
	integer array ReliableGold
	real array reals007
	integer array integers082
	integer array integers083
	integer integer052=1
	constant real real192=15
	player array players005
	unit array units007
	real array reals008
	boolean array booleans019
	integer integer053=0
	unit array units008
	real array reals009
	boolean array booleans020
	unit unit240
	unit unit241
	integer integer054
	integer integer055
	unit unit242
	integer integer056
	integer integer057
	integer array integers084
	integer array integers085
	integer integer058
	integer integer059
	integer integer060=0
	integer array integers086
	integer array integers087
	integer integer061
	real real193
	real real194
	unit unit243=null
	boolean boolean065=true
	integer integer062=1
	integer integer063=600
	integer integer064=300
	trigger trigger055
	integer integer065=0
	leaderboard array leaderboards002
	boolean array booleans021
	integer array integers088
	integer array integers089
	integer array integers090
	integer array integers091
	integer array integers092
	string array strings012
	integer array integers093
	integer array integers094
	integer integer066=0
	integer integer067
	integer integer068
	integer integer069
	integer integer070
	integer integer071
	integer integer072
	integer integer073
	integer integer074
	integer integer075
	integer integer076
	integer integer077
	integer integer078
	integer integer079
	integer integer080
	integer integer081
	integer integer082
	integer integer083
	integer integer084
	integer integer085
	integer integer086
	integer integer087
	integer integer088
	integer integer089
	integer integer090
	integer integer091
	integer integer092
	integer integer093
	integer integer094
	integer integer095
	integer integer096
	integer integer097
	integer integer098
	integer integer099
	integer integer100
	integer integer101
	integer integer102
	integer integer103
	integer integer104
	integer integer105
	integer integer106
	integer integer107
	integer integer108
	integer integer109
	integer integer110
	integer integer111
	integer integer112
	integer integer113
	integer integer114
	integer integer115
	integer integer116
	integer integer117
	integer integer118
	integer integer119
	integer integer120
	integer integer121
	integer integer122
	integer integer123
	integer integer124
	integer integer125
	integer integer126
	integer integer127
	integer integer128
	integer integer129
	integer integer130
	integer integer131
	integer integer132
	integer integer133
	integer integer134
	integer integer135
	integer integer136
	integer integer137
	integer integer138
	integer integer139
	integer integer140
	integer integer141
	integer integer142
	integer integer143
	integer integer144
	integer integer145
	integer integer146
	integer integer147
	integer integer148
	integer integer149
	integer integer150
	integer integer151
	integer integer152
	integer integer153
	integer integer154
	integer integer155
	integer integer156
	integer integer157
	integer integer158
	integer integer159
	integer integer160
	integer integer161
	integer integer162
	integer integer163
	integer integer164
	integer integer165
	integer integer166
	integer integer167
	integer integer168
	integer integer169
	integer integer170
	integer integer171
	integer integer172
	integer integer173
	integer integer174
	integer integer175
	integer integer176
	integer integer177
	integer integer178
	integer integer179
	integer integer180
	integer integer181
	integer integer182
	integer integer183
	integer integer184
	integer integer185
	integer integer186
	integer integer187
	integer integer188
	integer integer189
	integer integer190
	integer integer191
	integer integer192
	integer integer193
	integer integer194
	integer integer195
	integer integer196
	integer integer197
	integer integer198
	integer integer199
	integer integer200
	integer integer201
	integer integer202
	integer integer203
	integer integer204
	integer integer205
	integer integer206
	integer integer207
	integer integer208
	integer integer209
	integer integer210
	integer integer211
	integer integer212
	integer integer213
	integer integer214
	integer integer215
	integer integer216
	integer integer217
	integer integer218
	integer integer219
	integer integer220
	integer integer221
	integer integer222
	integer integer223
	integer integer224
	integer integer225
	integer integer226
	integer integer227
	integer integer228
	integer integer229
	integer integer230
	integer integer231
	integer integer232
	integer integer233
	integer integer234
	integer integer235
	integer integer236
	integer integer237
	integer integer238
	integer integer239
	integer integer240
	integer integer241
	integer integer242
	integer integer243
	integer integer244
	integer integer245
	integer integer246
	integer integer247
	integer integer248
	integer integer249
	integer integer250
	integer integer251
	integer integer252
	integer integer253
	integer integer254
	integer integer255
	integer integer256
	integer integer257
	integer integer258
	integer integer259
	integer integer260
	integer integer261
	integer integer262
	integer integer263
	integer integer264
	integer integer265
	integer integer266
	integer integer267
	integer integer268
	integer integer269
	integer integer270
	integer integer271
	integer integer272
	integer integer273
	integer integer274
	integer integer275
	integer integer276
	integer integer277
	integer integer278
	integer integer279
	integer integer280
	integer integer281
	integer integer282
	integer integer283
	integer integer284
	integer integer285
	integer integer286
	integer integer287
	integer integer288
	integer integer289
	integer integer290
	integer integer291
	integer integer292
	integer integer293
	integer integer294
	integer integer295
	integer integer296
	integer integer297
	integer integer298
	integer integer299
	integer integer300
	integer integer301
	integer integer302
	integer integer303
	integer integer304
	integer integer305
	integer integer306
	integer integer307
	integer integer308
	integer integer309
	integer integer310
	integer integer311
	integer integer312
	integer integer313
	integer integer314
	integer integer315
	integer integer316
	integer integer317
	integer integer318
	trigger trigger056
	integer integer319=-1
	boolean boolean066=true
	integer array integers095
	integer array integers096
	integer array integers097
	integer array integers098
	integer array integers099
	integer array integers100
	integer array integers101
	integer integer320=0
	integer integer321
	integer integer322
	integer integer323
	integer integer324
	integer integer325
	integer integer326
	integer integer327
	integer integer328
	integer integer329
	integer integer330
	integer integer331
	integer integer332
	integer integer333
	integer integer334
	integer integer335
	integer integer336
	integer integer337
	integer integer338
	integer integer339
	integer integer340
	integer integer341
	integer integer342
	integer integer343
	integer integer344
	integer integer345
	integer integer346
	integer integer347
	integer integer348
	integer integer349
	integer integer350
	integer integer351
	integer integer352
	integer integer353
	integer integer354
	integer integer355
	integer integer356
	integer integer357
	integer integer358
	integer integer359
	integer integer360
	integer integer361
	integer integer362
	integer integer363
	integer integer364
	integer integer365
	integer integer366
	integer integer367
	integer integer368
	integer integer369
	integer integer370
	integer integer371
	integer integer372
	integer integer373
	integer integer374
	integer integer375
	integer integer376
	integer integer377
	integer integer378
	integer integer379
	integer integer380
	integer integer381
	integer integer382
	integer integer383
	integer integer384
	integer integer385
	integer integer386
	integer integer387
	integer integer388
	integer array integers102
	integer array integers103
	integer array integers104
	integer array integers105
	integer array integers106
	integer array integers107
	integer array integers108
	player player012
	unit unit244
	unit unit245
	integer integer389
	boolean boolean067=false
	unit unit246
	trigger trigger057
	integer integer390=0
	integer integer391=0
	integer integer392=0
	integer integer393=0
	integer integer394=0
	integer integer395=0
	integer integer396=0
	integer integer397=0
	integer integer398=0
	integer integer399=0
	integer integer400=0
	integer array integers109
	integer array integers110
	boolean boolean068=false
	trigger trigger058
	trigger trigger059
	real array reals010
	item array items007
	integer integer401=0
	trigger trigger060
	unit array units009
	unit unit247=null
	integer array integers111
	integer array integers112
	constant real real195=16
	constant real real196=5
	constant real real197=15
	constant real real198=4
	constant real real199=40
	integer array integers113
	unit unit248
	boolean boolean069=false
	constant real real200=17
	real array reals011
	real array reals012
	player array players006
	real array reals013
	real array reals014
	real array reals015
	integer integer402=-1
	constant real real201=25
	constant real real202=575
	region region008
	integer integer403
	integer integer404='A11F'
	integer integer405='A11E'
	integer integer406='A0S3'
	integer integer407='A11D'
	integer integer408='A11G'
	integer integer409='A11H'
	integer integer410='A2LI'
	integer integer411='A11B'
	integer integer412='A11A'
	integer integer413='A0S2'
	integer integer414='A119'
	integer integer415='A11C'
	integer integer416='A118'
	integer integer417='A2LH'
	integer integer418='A0FY'
	unit unit249
	unit unit250
	integer integer419
	group group004
	unit unit251
	unit unit252
	player player013
	boolean boolean070=false
	boolean boolean071=false
	constant real real203=5
	boolean boolean072=false
	real real204
	boolean boolean073=false
	boolean array booleans022
	constant real real205=8
	constant real real206=6
	player player014
	constant real real207=25
	constant real real208=4
	constant real real209=4
	boolean boolean074=false
	boolean boolean075=false
	boolean boolean076=false
	boolean boolean077=false
	boolean boolean078=false
	boolean boolean079=false
	boolean boolean080=false
	boolean boolean081=false
	boolean boolean082=false
	integer array integers114
	integer array integers115
	integer array integers116
	integer integer420=0
	integer integer421
	integer integer422
	integer integer423=0
	integer integer424=0
	string string029="|c00ff0303"
	string string030="|c00ff0303"
	string string031="|c000042ff"
	string string032="|c00646464"
	string string033="|c00ffffff"
	multiboard multiboard002
	integer array integers117
	integer array integers118
	player array players007
	integer integer425=0
	string string034="|c00FF6600"
	multiboard multiboard003
	trigger trigger061
	real real210=0
	real real211=0
	real real212=0
	real real213=0
	real real214=0
	real real215=0
	real real216=0
	real real217=0
	real real218=0
	real real219=0
	real real220=0
	real real221=0
	real real222=0
	real real223=0
	real real224=0
	real real225=0
	real real226=0
	real real227=0
	real real228=0
	real real229=0
	real real230=0
	real real231=0
	real real232=0
	real real233=0
	real real234=0
	real real235=0
	real real236=0
	real real237=0
	real real238=0
	real real239=0
	constant real real240=90
	boolean boolean083=false
	boolean boolean084=false
	boolean boolean085=false
	boolean boolean086=false
	boolean boolean087=false
	boolean boolean088=false
	boolean boolean089=false
	boolean boolean090=false
	boolean boolean091=false
	unit unit253=null
	unit unit254=null
	group group005
	boolean boolean092=true
	boolean boolean093=false
	integer integer426=0
	string array strings013
	boolean boolean094=false
	integer integer427
	player LeaverPlayer
	integer integer428
	integer integer429='A0HU'
	integer integer430='A0HX'
	trigger trigger062
	region region009
	boolean boolean095=false
	boolean boolean096=false
	boolean boolean097=false
	boolean boolean098=false
	unit array units010
	group group006
	unit unit255
	integer integer431
	integer integer432=0
	integer array integers119
	integer array integers120
	boolean array booleans023
	boolean array booleans024
	boolean array booleans025
	boolean boolean100=true
	boolean array booleans026
	real real241=-200
	boolean array booleans027
	leaderboard array leaderboards003
	boolean array booleans028
	boolean boolean101=true
	weathereffect weathereffect005
	boolean array booleans029
	boolean array booleans030
	boolean array booleans031
	boolean boolean102=true
	boolean array booleans032
	string array strings014
	integer integer433=0
	string string035="Sound\\Music\\mp3Music\\PH1.mp3"
	boolean array booleans033
	integer integer434
	integer integer435
	integer integer436
	boolean boolean103=true
	integer array integers121
//	boolean array booleans035
	constant real real242=-6950
	constant real real243=6750
	boolean boolean104=false
	trigger trigger063
	boolean boolean105=false
	integer array integers122
	boolean boolean106
	boolean boolean107=false
	boolean boolean108=false
	integer array integers123
	integer integer438
	player player016
	integer integer439
	integer integer440
	player player017
	player player018
	integer integer441
	integer integer442
	integer array integers124
	integer array integers125
	integer integer443=0
	integer integer444=0
	integer array integers126
	integer array integers127
	integer integer445=0
	integer integer446=0
	multiboard CMBoard
	image image002
	image image003
	image image004
	image image005
	unit array units011
	integer array integers128
	boolean array booleans036
	unit array units012
	real array reals016
	real array reals017
	real array reals018
	real array reals019
	real array reals020
	real array reals021
	real array reals022
	real array reals023
	real real244=-7030
	real real245=6966
	real real246=-7000
	real real247=6875
	constant real real248=400
	constant real real249=75
	constant real real250=125
	player player019=null
	player player020=null
	integer integer447
	boolean boolean109=false
	boolean boolean110=false
	boolean array booleans037
	real real251
	real real252
	real real253
	real real254
	unit array units013
	integer integer448=0
	trigger trigger064
	unit array units014
	unit array units015
	boolean boolean111=false
	trigger trigger065
	integer array integers129
	unit array units016
	unit array units017
	integer integer449=0
	unit array units018
	integer integer450
	integer integer451
	integer array integers130
	integer integer452
	boolean array booleans038
	integer array integers131
	integer array integers132
	integer integer453=0
	integer integer454=0
	real array reals024
	real array reals025
	real array reals026
	real array reals027
	integer array integers133
	boolean boolean112=true
	image image006
	image image007
	image image008
	image image009
	image image010
	image image011
	image image012
	image image013
	image image014
	image image015
	image image016
	image image017
	image image018
	image image019
	image image020
	image image021
	constant real real255=450
	constant real real256=75
	constant real real257=140
	boolean boolean113=false
	boolean boolean114=false
	integer array integers134
	integer array integers135
	integer array integers136
	integer array integers137
	integer array integers138
	integer array integers139
	integer array integers140
	integer integer455
	integer integer456
	integer integer457
	string string036="|c008A2BE2Option 1: |r"
	string string037="|c008A2BE2Option 2: |r"
	string string038="|c008A2BE2Option 3: |r"
	integer integer458
	integer array integers141
	boolean boolean115=false
	boolean boolean116=false
	leaderboard leaderboard001
	integer integer459
	integer array integers142
	boolean boolean117=false
	boolean boolean118=false
	leaderboard leaderboard002
	boolean boolean119=false
	boolean boolean120=false
	boolean boolean121=false
	boolean boolean122=false
	boolean boolean123=true
	boolean boolean124=false
	boolean boolean125=false
	boolean boolean126=false
	boolean boolean127=false
	boolean boolean128=false
	boolean boolean129=false
	real real258=1.0
	boolean boolean130=false
	boolean boolean131=false
	boolean boolean132=false
	camerasetup camerasetup001=null
	boolean boolean133=false
	unit unit256
	unit unit257
	unit unit258
	unit unit259
	unit unit260
	unit unit261
	real real259
	real real260
	real real261
	real real262
	real real263
	real real264
	boolean boolean134=false
	real array reals028
	unit array units019
	unit array units020
	integer array integers143
	integer array integers144
	trigger trigger066=CreateTrigger()
	boolean array booleans039
	player player021
	boolean boolean135=false
	boolean boolean136=false
	boolean boolean137=false
	item item003=null
	item item004=null
	boolean boolean138=false
	boolean boolean139=false
	unit unit262
	unit unit263
	unit unit264
	unit unit265
	unit unit266
	constant real real265=-2576
	constant real real266=1818
	constant real real267=2337
	constant real real268=-2004
	constant real real269=2500
	constant real real270=-2177
	constant real real271=2706
	constant real real272=-2356
	constant real real273=2935
	constant real real274=-2526
	group group007
	unit unit267
	integer integer460
	unit unit268
	unit unit269
	real real275
	real real276
	integer array integers145
	real real277
	unit unit270
	boolean boolean140
	boolean boolean141
	integer integer461=0
	group group008
	integer integer462
	unit unit271
	real real278
	unit unit272
	unit unit273
	integer integer463
	real real279
	unit unit274
	integer integer464
	boolean boolean142
	unit unit275
	integer integer465
	unit unit276
	integer integer466
	unit unit277
	real real280
	unit unit278
	real real281
	integer integer467
	integer integer468
	unit unit279
	real real282
	unit array units021
	unit array units022
	real real283
	unit unit280
	real real284
	integer integer469
	unit unit281
	integer integer470
	integer integer471
	real real285
	real real286
	unit unit282
	unit array units023
	real real287
	real real288
	integer integer472
	integer integer473
	unit unit283
	real real289
	real real290
	real real291
	unit unit284
	integer array integers146
	unit array units024
	unit unit285
	integer integer474
	group group009
	unit unit286
	real real292
	integer integer475
	unit unit287
	integer integer476
	unit unit288
	real real293
	real real294
	real real295
	integer integer477=0
	real real296
	real real297
	integer integer478
	real real298
	unit unit289
	integer array integers147
	integer array integers148
	unit unit290
	unit unit291
	group group010
	group group011
	group group012
	unit unit292
	group group013
	integer integer479=0
	unit unit293
	integer array integers149
	integer array integers150
	integer array integers151
	integer array integers152
	integer array integers153
	unit unit294
	unit unit295
	real real299
	real real300
	unit unit296
	unit unit297
	unit unit298
	real real301
	real real302
	real real303
	unit unit299
	real real304
	real real305
	real real306
	unit unit300
	unit unit301
	real real307
	integer array integers154
	unit unit302
	integer array integers155
	unit unit303
	unit unit304
	real real308
	integer integer480
	integer array integers156
	real real309=0
	integer array integers157
	integer integer481
	unit unit305
	integer integer482
	unit unit306
	integer integer483
	integer integer484
	integer integer485
	unit unit307
	unit unit308
	real real310
	real real311
	real real312
	real real313
	group group014
	unit unit309
	real real314
	integer integer486
	integer integer487
	integer integer488
	unit array units025
	boolean boolean143=false
	boolean boolean144=false
	trigger trigger067
	integer integer489
	player player022
	integer integer490
	unit unit310
	real real315
	unit unit311
	real real316
	real real317
	unit unit312
	real real318
	unit unit313
	unit unit314
	real real319
	real real320
	integer integer491
	unit unit315
	unit unit316
	unit unit317
	group group015
	integer integer492
	group group016
	unit unit318
	real real321
	integer integer493
	destructable destructable001=null
	unit unit319=null
	real real322=0
	constant real real323=26
	constant real real324=600
	constant real real325=550
	real real326
	real real327
	group group017
	unit unit320
	real real328
	integer integer494
	integer integer495
	unit unit321
	integer integer496
	unit unit322
	integer integer497
	boolean boolean145=false
	trigger trigger068
	integer integer498
	unit unit323
	integer integer499
	integer array StickyNapalmSlowStacks_Level1
	integer array StickyNapalmSlowStacks_Level2
	integer array StickyNapalmSlowStacks_Level3
	integer array StickyNapalmSlowStacks_Level4
	unit unit324
	unit unit325
	integer integer500
	real real329
	real real330
	unit unit326
	unit unit327
	boolean boolean146=false
	integer integer501
	integer array integers162
	group group018
	group group019
	unit unit328
	integer integer502
	unit array units026
	unit array units027
	real real331
	real real332
	unit unit329
	integer integer503
	string string039="Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl"
	boolean boolean147=true
	integer array integers163
	integer integer504='h06J'
	real real333
	real real334
	unit unit330
	unit unit331
	unit unit332
	real real335
	real real336
	real real337
	integer integer505
	real real338
	real real339
	unit unit333
	unit unit334
	integer integer506
	group group020
	unit unit335
	unit unit336
	integer integer507
	integer integer508
	player player023
	integer integer509
	unit array units028
	integer integer510
	integer integer511
	constant real real340=55
	group group021
	integer integer512
	unit unit337
	unit unit338
	unit unit339
	constant real real341=7
	integer array integers164
	constant real real342=1
	constant real real343=4
	real real344
	unit unit340
	integer array integers165
	group group022
	unit unit341
	integer integer513
	boolean boolean148
	integer array integers166
	trigger trigger069
	trigger trigger070
	integer integer514=0
	boolean boolean149=false
	unit unit342
	unit unit343
	group group023
	real real345
	unit unit344
	real real346
	integer integer515
	integer integer516
	real real347
	real real348
	unit unit345
	unit unit346
	unit unit347
	group group024
	real real349
	unit unit348
	group group025
	constant real real350=6
	unit unit349
	integer integer517
	unit unit350
	integer integer518
	integer integer519='A05V'
	boolean boolean150=false
	unit unit351
	unit unit352
	constant real real351=7
	constant real real352=300
	unit unit353
	real real353
	unit unit354
	real real354
	unit unit355
	real real355
	unit unit356
	integer array integers167
	integer array integers168
	group group026
	integer integer520
	unit unit357
	real real356
	integer array integers169
	integer array integers170
	real real357
	unit unit358
	unit unit359
	real real358
	integer integer521
	unit array units029
	unit unit360
	unit unit361
	real real359
	unit unit362
	unit unit363
	integer integer522
	real real360
	group group027=null
	constant real real361=3
	unit unit364
	unit unit365
	unit unit366
	real real362
	group group028
	integer integer523
	unit unit367
	constant real real363=6
	unit unit368
	integer integer524
	unit unit369
	real real364
	integer integer525
	unit unit370
	unit unit371
	real real365
	real real366
	constant real real367=4
	boolean boolean151=true
	unit array units030
	boolean boolean152=false
	unit unit372
	integer integer526
	real array reals029
	real array reals030
	real array reals031
	unit array units031
	integer array integers171
	integer array integers172
	constant real real368=17
	integer integer527
	unit unit373
	integer integer528
	unit unit374
	unit unit375
	constant real real369=1100
	group group029
	unit unit376
	real real370
	group group030
	integer integer529
	unit unit377
	unit unit378
	integer integer530
	unit unit379
	integer integer531
	real real371
	group group031
	unit unit380
	unit unit381
	real real372
	real real373
	real real374
	constant real real375=1300
	constant real real376=20
	constant real real377=20
	constant real real378=20
	integer integer532
	unit unit382
	group group032
	real real379
	real real380
	unit unit383
	unit unit384
	group group033
	integer array integers173
	constant real real381=20
	unit unit385
	unit unit386
	real real382
	real real383
	real real384
	real real385
	constant real real386=325
	unit unit387
	unit unit388
	integer integer533
	real real387
	unit unit389
	boolean boolean153=false
	boolean boolean154=false
	unit unit390
	unit unit391
	real real388
	unit unit392
	integer integer534
	integer integer535
	unit unit393
	group group034
	real real389
	integer integer536
	region region010
	region region011
	unit unit394
	unit unit395
	integer integer537
	group group035
	group group036
	group group037
	unit unit396
	unit unit397
	unit unit398
	unit unit399
	integer integer538
	real real390
	real real391
	real real392
	integer integer539
	unit unit400
	unit unit401
	unit unit402
	unit unit403
	group group038
	real real393
	integer array integers174
	integer integer540=0
	integer array integers175
	integer array integers176
	integer integer541=0
	integer integer542
	unit unit404
	integer integer543
	integer integer544
	unit unit405
	real real394
	real real395
	real real396
	unit unit406
	integer array integers177
	boolean boolean155=true
	unit unit407
	integer integer545
	unit unit408
	group group039
	real real397
	group group040
	real array reals032
	integer array integers178
	integer array integers179
	integer integer546
	integer integer547
	integer integer548
	unit unit409
	integer integer549
	integer integer550
	sound sound081=null
	boolean boolean156=false
	constant real real398=300
	integer integer551
	integer integer552
	integer array integers180
	constant real real399=200
	constant real real400=200
	group group041
	unit unit410
	integer integer553
	constant real real401=200
	constant real real402=200
	group group042
	unit unit411
	integer integer554
	constant real real403=20
	integer integer555
	unit unit412
	integer integer556
	unit unit413
	unit unit414
	real real404=1.35
	real real405=500
	group group043
	trigger trigger071
	unit unit415
	unit unit416=null
	constant real real406=6
	constant real real407=6
	unit unit417
	integer integer557
	unit unit418
	integer integer558
	unit unit419
	unit unit420
	integer integer559
	trigger trigger072=null
	constant real real408=50
	integer integer560
	integer integer561
	unit unit421
	real real409
	real real410
	constant real real411=600
	group group044
	unit unit422
	integer integer562
	real real412
	real real413
	integer integer563
	constant real real414=30
	constant real real415=800
	unit unit423
	unit unit424
	group group045
	integer integer564
	integer array integers181
	boolean boolean157
	real real416
	integer integer565
	unit unit425
	constant real real417=1200
	group group046
	unit unit426
	unit unit427
	integer integer566
	real real418
	integer integer567
	integer integer568
	unit unit428
	unit unit429
	real real419
	unit unit430
	unit unit431
	unit unit432
	boolean boolean158
	integer integer569
	constant real real420=55
	group group047
	unit unit433
	unit unit434
	real real421=0.
	real real422=0.
	force force004=null
	boolexpr boolexpr001=null
endglobals

function IssuePointOrderByIdEx takes unit u,integer id,real x,real y returns boolean
	local boolean b=IsTriggerEnabled(Trig_PlayerIssuedOrder)
	local boolean isOrdered=false
	if b then
		call DisableTrigger(Trig_PlayerIssuedOrder)
	endif
	set isOrdered=IssuePointOrderById(u,id,x,y)
	if b then
		call EnableTrigger(Trig_PlayerIssuedOrder)
	endif
	return isOrdered
endfunction

function LoadingProgressCheckout takes string s returns nothing
	set LoadingProgressCounter=LoadingProgressCounter+1
	call PreloadEndEx()
	call PreloadGenClear()
	call PreloadGenStart()
	call Preload("step="+s)
	call PreloadGenEnd("LoadingProgress.txt")
	call PreloadGenClear()
endfunction

function Char2Ascii takes string s returns integer
	local integer i= Ascii__Ints[StringHash(s) / 0x1F0748 + 0x3EA]
	if i == 47 and s == "\\" then
		set i=92
	elseif i >= 65 and i <= 90 and s != Ascii__Chars[i] then
		set i=i + 32
	endif
	return i
endfunction

function Char2Hex takes string s returns integer
	local integer i= Ascii__Ints[StringHash(s) / 0x1F0748 + 0x3EA]
	if i >= 48 and i <= 57 then
		return i - 48
	elseif i >= 65 and i <= 70 then
		return i - 55
	endif
	return - 1
endfunction

function Ascii2Char takes integer i returns string
	return Ascii__Chars[i]
endfunction

function Ascii__onInit takes nothing returns nothing
	set Ascii__Ints[931]=8
	set Ascii__Ints[1075]=9
	set Ascii__Ints[1586]=10
	set Ascii__Ints[1340]=12
	set Ascii__Ints[412]=13
	set Ascii__Ints[198]=32
	set Ascii__Ints[1979]=33
	set Ascii__Ints[1313]=34
	set Ascii__Ints[1003]=35
	set Ascii__Ints[1264]=36
	set Ascii__Ints[983]=37
	set Ascii__Ints[1277]=38
	set Ascii__Ints[306]=39
	set Ascii__Ints[904]=40
	set Ascii__Ints[934]=41
	set Ascii__Ints[917]=42
	set Ascii__Ints[1972]=43
	set Ascii__Ints[1380]=44
	set Ascii__Ints[1985]=45
	set Ascii__Ints[869]=46
	set Ascii__Ints[1906]=47
	set Ascii__Ints[883]=48
	set Ascii__Ints[1558]=49
	set Ascii__Ints[684]=50
	set Ascii__Ints[582]=51
	set Ascii__Ints[668]=52
	set Ascii__Ints[538]=53
	set Ascii__Ints[672]=54
	set Ascii__Ints[1173]=55
	set Ascii__Ints[71]=56
	set Ascii__Ints[277]=57
	set Ascii__Ints[89]=58
	set Ascii__Ints[1141]=59
	set Ascii__Ints[39]=60
	set Ascii__Ints[1171]=61
	set Ascii__Ints[51]=62
	set Ascii__Ints[305]=0 
	set Ascii__Ints[0]=64
	set Ascii__Ints[222]=65
	set Ascii__Ints[178]=66
	set Ascii__Ints[236]=67
	set Ascii__Ints[184]=68
	set Ascii__Ints[1295]=69
	set Ascii__Ints[1390]=70
	set Ascii__Ints[1276]=71
	set Ascii__Ints[203]=72
	set Ascii__Ints[1314]=73
	set Ascii__Ints[209]=74
	set Ascii__Ints[1315]=75
	set Ascii__Ints[170]=76
	set Ascii__Ints[1357]=77
	set Ascii__Ints[1343]=78
	set Ascii__Ints[1397]=79
	set Ascii__Ints[1420]=80
	set Ascii__Ints[1419]=81
	set Ascii__Ints[1396]=82
	set Ascii__Ints[1374]=83
	set Ascii__Ints[1407]=84
	set Ascii__Ints[499]=85
	set Ascii__Ints[1465]=86
	set Ascii__Ints[736]=87
	set Ascii__Ints[289]=88
	set Ascii__Ints[986]=89
	set Ascii__Ints[38]=90
	set Ascii__Ints[1230]=91
	set Ascii__Ints[1636]=93
	set Ascii__Ints[1416]=94
	set Ascii__Ints[1917]=95
	set Ascii__Ints[217]=96
	set Ascii__Ints[833]=123
	set Ascii__Ints[1219]=124
	set Ascii__Ints[553]=125
	set Ascii__Ints[58]=126
	set Ascii__Chars[0]="?"
	set Ascii__Chars[8]="\b"
	set Ascii__Chars[9]="\t" 
	set Ascii__Chars[10]="\n"
	set Ascii__Chars[12]="\f"
	set Ascii__Chars[13]="\r"
	set Ascii__Chars[32]=" "
	set Ascii__Chars[33]="!"
	set Ascii__Chars[34]="\""
	set Ascii__Chars[35]="#"
	set Ascii__Chars[36]="$"
	set Ascii__Chars[37]="%"
	set Ascii__Chars[38]="&"
	set Ascii__Chars[39]="'"
	set Ascii__Chars[40]="("
	set Ascii__Chars[41]=")"
	set Ascii__Chars[42]="*"
	set Ascii__Chars[43]="+"
	set Ascii__Chars[44]=","
	set Ascii__Chars[45]="-"
	set Ascii__Chars[46]="."
	set Ascii__Chars[47]="/"
	set Ascii__Chars[48]="0"
	set Ascii__Chars[49]="1"
	set Ascii__Chars[50]="2"
	set Ascii__Chars[51]="3"
	set Ascii__Chars[52]="4"
	set Ascii__Chars[53]="5"
	set Ascii__Chars[54]="6"
	set Ascii__Chars[55]="7"
	set Ascii__Chars[56]="8"
	set Ascii__Chars[57]="9"
	set Ascii__Chars[58]=":"
	set Ascii__Chars[59]=";"
	set Ascii__Chars[60]="<"
	set Ascii__Chars[61]="="
	set Ascii__Chars[62]=">"
	set Ascii__Chars[63]="?"
	set Ascii__Chars[64]="@"
	set Ascii__Chars[65]="A"
	set Ascii__Chars[66]="B"
	set Ascii__Chars[67]="C"
	set Ascii__Chars[68]="D"
	set Ascii__Chars[69]="E"
	set Ascii__Chars[70]="F"
	set Ascii__Chars[71]="G"
	set Ascii__Chars[72]="H"
	set Ascii__Chars[73]="I"
	set Ascii__Chars[74]="J"
	set Ascii__Chars[75]="K"
	set Ascii__Chars[76]="L"
	set Ascii__Chars[77]="M"
	set Ascii__Chars[78]="N"
	set Ascii__Chars[79]="O"
	set Ascii__Chars[80]="P"
	set Ascii__Chars[81]="Q"
	set Ascii__Chars[82]="R"
	set Ascii__Chars[83]="S"
	set Ascii__Chars[84]="T"
	set Ascii__Chars[85]="U"
	set Ascii__Chars[86]="V"
	set Ascii__Chars[87]="W"
	set Ascii__Chars[88]="X"
	set Ascii__Chars[89]="Y"
	set Ascii__Chars[90]="Z"
	set Ascii__Chars[91]="["
	set Ascii__Chars[92]="\\"
	set Ascii__Chars[93]="]"
	set Ascii__Chars[94]="^"
	set Ascii__Chars[95]="_"
	set Ascii__Chars[96]="`"
	set Ascii__Chars[97]="a"
	set Ascii__Chars[98]="b"
	set Ascii__Chars[99]="c"
	set Ascii__Chars[100]="d"
	set Ascii__Chars[101]="e"
	set Ascii__Chars[102]="f"
	set Ascii__Chars[103]="g"
	set Ascii__Chars[104]="h"
	set Ascii__Chars[105]="i"
	set Ascii__Chars[106]="j"
	set Ascii__Chars[107]="k"
	set Ascii__Chars[108]="l"
	set Ascii__Chars[109]="m"
	set Ascii__Chars[110]="n"
	set Ascii__Chars[111]="o"
	set Ascii__Chars[112]="p"
	set Ascii__Chars[113]="q"
	set Ascii__Chars[114]="r"
	set Ascii__Chars[115]="s"
	set Ascii__Chars[116]="t"
	set Ascii__Chars[117]="u"
	set Ascii__Chars[118]="v"
	set Ascii__Chars[119]="w"
	set Ascii__Chars[120]="x"
	set Ascii__Chars[121]="y"
	set Ascii__Chars[122]="z"
	set Ascii__Chars[123]="{"
	set Ascii__Chars[124]="|"
	set Ascii__Chars[125]="}"
	set Ascii__Chars[126]="~"
endfunction

function InitArray takes integer vtable returns nothing
	set l__Array[4] = 0
	set l__Array[1] = vtable
	set l__Array[2] = -1
	set l__Array[3] = -1
endfunction

function TypecastArray takes nothing returns nothing
	local integer l__Array 
endfunction

function GetArrayAddress takes nothing returns integer 
	loop
		return l__Array
	endloop
	return 0
endfunction

function setCode takes code c returns nothing
	set l__Code=c
	return 
endfunction

function setInt takes integer i returns nothing
	set l__Int=i
	return 
endfunction

function setInt2Unit takes integer i returns nothing
	set l__Int2Unit=i
	return 
endfunction

function setStr takes string s returns nothing
	set l__Str = s
	return 
endfunction

function setBool takes boolean b returns nothing
	set l__Bool = b
	return
endfunction

function Typecast1 takes nothing returns nothing
	local integer l__Code
	local code l__Int
endfunction

function C2I takes code c returns integer
	call setCode(c)
	loop 
		return l__Code
	endloop
	return 0
endfunction

function I2C takes integer i returns code
	call setInt(i)
	loop 
		return l__Int
	endloop
	return null
endfunction

function Typecast2 takes nothing returns nothing
	local integer l__Str
	local string l__Int
endfunction

function SH2I takes string s returns integer
	call setStr(s)
	loop 
		return l__Str
	endloop
	return 0
endfunction

function I2SH takes integer i returns string
	call setInt(i)
	loop 
		return l__Int
	endloop
	return ""
endfunction

function Typecast3 takes nothing returns nothing
	local integer l__Bool
	local boolean l__Int
endfunction

function B2I takes boolean b returns integer
	call setBool(b)
	loop 
	    	return l__Bool
	endloop
	return 0
endfunction

function I2B takes integer i returns boolean
	call setInt(i)
	loop 
		return l__Int
	endloop
	return false
endfunction

function realToIndex takes real r returns integer
	loop
	return r
		endloop
	return 0
endfunction

function cleanInt takes integer i returns integer
	return i
endfunction

function indexToReal takes integer i returns real
	loop
		return i
	endloop
	return 0.0
endfunction

function cleanReal takes real r returns real
	return r
endfunction

function mI2R takes integer i returns real
	return cleanReal(indexToReal(i))
endfunction

function mR2I takes real r returns integer
	return cleanInt(realToIndex(r))
endfunction

function BitwiseNot takes integer i returns integer
	return 0xFFFFFFFF - i
endfunction

function PowI takes integer x, integer power returns integer
	local integer res=1
	local integer y=x
	if power==0 then
		return 1
	endif
	set power=power-1
	loop
		set x=x*y
		set power=power-1
		exitwhen power==0
	endloop
	return x
endfunction

function ShiftLeftForBits takes integer i, integer shiftval returns integer
	return i * (PowI(2,shiftval))
endfunction

function ShiftRightForBits takes integer i, integer shiftval returns integer
	return i / (PowI(2,shiftval))
endfunction

function ShiftLeftForBytes takes integer i, integer shiftval returns integer
	return ShiftLeftForBits(i,shiftval * 8)
endfunction

function ShiftRightForBytes takes integer i, integer shiftval returns integer
	return ShiftRightForBits(i,shiftval / 8)
endfunction

function GetByteFromInteger takes integer i, integer byteid returns integer 
	local integer tmpval = i 
	local integer retval = 0
	local integer byte1 = 0
	local integer byte2 = 0
	local integer byte3 = 0
	local integer byte4 = 0
	if (tmpval < 0) then 
		set tmpval = BitwiseNot(tmpval)
		set byte4 = 255 - ModuloInteger(tmpval,256)
		set tmpval = tmpval / 256 
		set byte3 = 255 - ModuloInteger(tmpval,256)
		set tmpval = tmpval / 256 
		set byte2 = 255 - ModuloInteger(tmpval,256)
		set tmpval = tmpval / 256 
		set byte1 = 255 - tmpval
	else 
		set byte4 =  ModuloInteger(tmpval,256)
		set tmpval = tmpval / 256 
		set byte3 =  ModuloInteger(tmpval,256)
		set tmpval = tmpval / 256 
		set byte2 =  ModuloInteger(tmpval,256)
		set tmpval = tmpval / 256 
		set byte1 = tmpval
	endif
	if byteid == 1 then 
		return byte1
	elseif byteid == 2 then 
		return byte2
	elseif byteid == 3 then 
		return byte3
	elseif byteid == 4 then 
		return byte4
	endif
	return retval
endfunction

function CreateInteger1 takes integer byte1, integer byte2, integer byte3, integer byte4 returns integer
	local integer retval = byte1
	set retval = ( retval * 256 ) + byte2
	set retval = ( retval * 256 ) + byte3
	set retval = ( retval * 256 ) + byte4
	return retval
endfunction

function CreateInteger2 takes integer byte1, integer byte2, integer byte3, integer byte4 returns integer
	local integer retval = byte1
	set retval = ShiftLeftForBytes(retval,1) + byte2
	set retval = ShiftLeftForBytes(retval,1) + byte3
	set retval = ShiftLeftForBytes(retval,1) + byte4
	return retval
endfunction

function Hex2Int takes string s returns integer
	local integer result= 0
	local integer i= 0
	local integer char
	loop
		set char=Char2Hex(SubString(s, i, i + 1))
		exitwhen i == 8 or char == - 1
		set result=result * 16 + char
		set i=i + 1
	endloop
	return result
endfunction

function Int2Hex_FIX takes integer i returns string
	set i = BitwiseNot(i)
	return  HexNumber__Chars[255-(i/256/256/256)] + HexNumber__Chars[255-ModuloInteger(i/256/256,256)] + HexNumber__Chars[255-ModuloInteger(i/256,256)]  +  HexNumber__Chars[255-ModuloInteger(i,256)]
endfunction

function Int2Hex takes integer i returns string
	if (i < 0) then 
		return Int2Hex_FIX(i)
	endif
	return  HexNumber__Chars[(i/256/256/256)] + HexNumber__Chars[ModuloInteger(i/256/256,256)] + HexNumber__Chars[ModuloInteger(i/256,256)]  +  HexNumber__Chars[ModuloInteger(i,256)]
endfunction

function HexNumber__onInit takes nothing returns nothing
	set HexNumber__Chars[0]="00"
	set HexNumber__Chars[1]="01"
	set HexNumber__Chars[2]="02"
	set HexNumber__Chars[3]="03"
	set HexNumber__Chars[4]="04"
	set HexNumber__Chars[5]="05"
	set HexNumber__Chars[6]="06"
	set HexNumber__Chars[7]="07"
	set HexNumber__Chars[8]="08"
	set HexNumber__Chars[9]="09"
	set HexNumber__Chars[10]="0A"
	set HexNumber__Chars[11]="0B"
	set HexNumber__Chars[12]="0C"
	set HexNumber__Chars[13]="0D"
	set HexNumber__Chars[14]="0E"
	set HexNumber__Chars[15]="0F"
	set HexNumber__Chars[16]="10"
	set HexNumber__Chars[17]="11"
	set HexNumber__Chars[18]="12"
	set HexNumber__Chars[19]="13"
	set HexNumber__Chars[20]="14"
	set HexNumber__Chars[21]="15"
	set HexNumber__Chars[22]="16"
	set HexNumber__Chars[23]="17"
	set HexNumber__Chars[24]="18"
	set HexNumber__Chars[25]="19"
	set HexNumber__Chars[26]="1A"
	set HexNumber__Chars[27]="1B"
	set HexNumber__Chars[28]="1C"
	set HexNumber__Chars[29]="1D"
	set HexNumber__Chars[30]="1E"
	set HexNumber__Chars[31]="1F"
	set HexNumber__Chars[32]="20"
	set HexNumber__Chars[33]="21"
	set HexNumber__Chars[34]="22"
	set HexNumber__Chars[35]="23"
	set HexNumber__Chars[36]="24"
	set HexNumber__Chars[37]="25"
	set HexNumber__Chars[38]="26"
	set HexNumber__Chars[39]="27"
	set HexNumber__Chars[40]="28"
	set HexNumber__Chars[41]="29"
	set HexNumber__Chars[42]="2A"
	set HexNumber__Chars[43]="2B"
	set HexNumber__Chars[44]="2C"
	set HexNumber__Chars[45]="2D"
	set HexNumber__Chars[46]="2E"
	set HexNumber__Chars[47]="2F"
	set HexNumber__Chars[48]="30"
	set HexNumber__Chars[49]="31"
	set HexNumber__Chars[50]="32"
	set HexNumber__Chars[51]="33"
	set HexNumber__Chars[52]="34"
	set HexNumber__Chars[53]="35"
	set HexNumber__Chars[54]="36"
	set HexNumber__Chars[55]="37"
	set HexNumber__Chars[56]="38"
	set HexNumber__Chars[57]="39"
	set HexNumber__Chars[58]="3A"
	set HexNumber__Chars[59]="3B"
	set HexNumber__Chars[60]="3C"
	set HexNumber__Chars[61]="3D"
	set HexNumber__Chars[62]="3E"
	set HexNumber__Chars[63]="3F"
	set HexNumber__Chars[64]="40"
	set HexNumber__Chars[65]="41"
	set HexNumber__Chars[66]="42"
	set HexNumber__Chars[67]="43"
	set HexNumber__Chars[68]="44"
	set HexNumber__Chars[69]="45"
	set HexNumber__Chars[70]="46"
	set HexNumber__Chars[71]="47"
	set HexNumber__Chars[72]="48"
	set HexNumber__Chars[73]="49"
	set HexNumber__Chars[74]="4A"
	set HexNumber__Chars[75]="4B"
	set HexNumber__Chars[76]="4C"
	set HexNumber__Chars[77]="4D"
	set HexNumber__Chars[78]="4E"
	set HexNumber__Chars[79]="4F"
	set HexNumber__Chars[80]="50"
	set HexNumber__Chars[81]="51"
	set HexNumber__Chars[82]="52"
	set HexNumber__Chars[83]="53"
	set HexNumber__Chars[84]="54"
	set HexNumber__Chars[85]="55"
	set HexNumber__Chars[86]="56"
	set HexNumber__Chars[87]="57"
	set HexNumber__Chars[88]="58"
	set HexNumber__Chars[89]="59"
	set HexNumber__Chars[90]="5A"
	set HexNumber__Chars[91]="5B"
	set HexNumber__Chars[92]="5C"
	set HexNumber__Chars[93]="5D"
	set HexNumber__Chars[94]="5E"
	set HexNumber__Chars[95]="5F"
	set HexNumber__Chars[96]="60"
	set HexNumber__Chars[97]="61"
	set HexNumber__Chars[98]="62"
	set HexNumber__Chars[99]="63"
	set HexNumber__Chars[100]="64"
	set HexNumber__Chars[101]="65"
	set HexNumber__Chars[102]="66"
	set HexNumber__Chars[103]="67"
	set HexNumber__Chars[104]="68"
	set HexNumber__Chars[105]="69"
	set HexNumber__Chars[106]="6A"
	set HexNumber__Chars[107]="6B"
	set HexNumber__Chars[108]="6C"
	set HexNumber__Chars[109]="6D"
	set HexNumber__Chars[110]="6E"
	set HexNumber__Chars[111]="6F"
	set HexNumber__Chars[112]="70"
	set HexNumber__Chars[113]="71"
	set HexNumber__Chars[114]="72"
	set HexNumber__Chars[115]="73"
	set HexNumber__Chars[116]="74"
	set HexNumber__Chars[117]="75"
	set HexNumber__Chars[118]="76"
	set HexNumber__Chars[119]="77"
	set HexNumber__Chars[120]="78"
	set HexNumber__Chars[121]="79"
	set HexNumber__Chars[122]="7A"
	set HexNumber__Chars[123]="7B"
	set HexNumber__Chars[124]="7C"
	set HexNumber__Chars[125]="7D"
	set HexNumber__Chars[126]="7E"
	set HexNumber__Chars[127]="7F"
	set HexNumber__Chars[128]="80"
	set HexNumber__Chars[129]="81"
	set HexNumber__Chars[130]="82"
	set HexNumber__Chars[131]="83"
	set HexNumber__Chars[132]="84"
	set HexNumber__Chars[133]="85"
	set HexNumber__Chars[134]="86"
	set HexNumber__Chars[135]="87"
	set HexNumber__Chars[136]="88"
	set HexNumber__Chars[137]="89"
	set HexNumber__Chars[138]="8A"
	set HexNumber__Chars[139]="8B"
	set HexNumber__Chars[140]="8C"
	set HexNumber__Chars[141]="8D"
	set HexNumber__Chars[142]="8E"
	set HexNumber__Chars[143]="8F"
	set HexNumber__Chars[144]="90"
	set HexNumber__Chars[145]="91"
	set HexNumber__Chars[146]="92"
	set HexNumber__Chars[147]="93"
	set HexNumber__Chars[148]="94"
	set HexNumber__Chars[149]="95"
	set HexNumber__Chars[150]="96"
	set HexNumber__Chars[151]="97"
	set HexNumber__Chars[152]="98"
	set HexNumber__Chars[153]="99"
	set HexNumber__Chars[154]="9A"
	set HexNumber__Chars[155]="9B"
	set HexNumber__Chars[156]="9C"
	set HexNumber__Chars[157]="9D"
	set HexNumber__Chars[158]="9E"
	set HexNumber__Chars[159]="9F"
	set HexNumber__Chars[160]="A0"
	set HexNumber__Chars[161]="A1"
	set HexNumber__Chars[162]="A2"
	set HexNumber__Chars[163]="A3"
	set HexNumber__Chars[164]="A4"
	set HexNumber__Chars[165]="A5"
	set HexNumber__Chars[166]="A6"
	set HexNumber__Chars[167]="A7"
	set HexNumber__Chars[168]="A8"
	set HexNumber__Chars[169]="A9"
	set HexNumber__Chars[170]="AA"
	set HexNumber__Chars[171]="AB"
	set HexNumber__Chars[172]="AC"
	set HexNumber__Chars[173]="AD"
	set HexNumber__Chars[174]="AE"
	set HexNumber__Chars[175]="AF"
	set HexNumber__Chars[176]="B0"
	set HexNumber__Chars[177]="B1"
	set HexNumber__Chars[178]="B2"
	set HexNumber__Chars[179]="B3"
	set HexNumber__Chars[180]="B4"
	set HexNumber__Chars[181]="B5"
	set HexNumber__Chars[182]="B6"
	set HexNumber__Chars[183]="B7"
	set HexNumber__Chars[184]="B8"
	set HexNumber__Chars[185]="B9"
	set HexNumber__Chars[186]="BA"
	set HexNumber__Chars[187]="BB"
	set HexNumber__Chars[188]="BC"
	set HexNumber__Chars[189]="BD"
	set HexNumber__Chars[190]="BE"
	set HexNumber__Chars[191]="BF"
	set HexNumber__Chars[192]="C0"
	set HexNumber__Chars[193]="C1"
	set HexNumber__Chars[194]="C2"
	set HexNumber__Chars[195]="C3"
	set HexNumber__Chars[196]="C4"
	set HexNumber__Chars[197]="C5"
	set HexNumber__Chars[198]="C6"
	set HexNumber__Chars[199]="C7"
	set HexNumber__Chars[200]="C8"
	set HexNumber__Chars[201]="C9"
	set HexNumber__Chars[202]="CA"
	set HexNumber__Chars[203]="CB"
	set HexNumber__Chars[204]="CC"
	set HexNumber__Chars[205]="CD"
	set HexNumber__Chars[206]="CE"
	set HexNumber__Chars[207]="CF"
	set HexNumber__Chars[208]="D0"
	set HexNumber__Chars[209]="D1"
	set HexNumber__Chars[210]="D2"
	set HexNumber__Chars[211]="D3"
	set HexNumber__Chars[212]="D4"
	set HexNumber__Chars[213]="D5"
	set HexNumber__Chars[214]="D6"
	set HexNumber__Chars[215]="D7"
	set HexNumber__Chars[216]="D8"
	set HexNumber__Chars[217]="D9"
	set HexNumber__Chars[218]="DA"
	set HexNumber__Chars[219]="DB"
	set HexNumber__Chars[220]="DC"
	set HexNumber__Chars[221]="DD"
	set HexNumber__Chars[222]="DE"
	set HexNumber__Chars[223]="DF"
	set HexNumber__Chars[224]="E0"
	set HexNumber__Chars[225]="E1"
	set HexNumber__Chars[226]="E2"
	set HexNumber__Chars[227]="E3"
	set HexNumber__Chars[228]="E4"
	set HexNumber__Chars[229]="E5"
	set HexNumber__Chars[230]="E6"
	set HexNumber__Chars[231]="E7"
	set HexNumber__Chars[232]="E8"
	set HexNumber__Chars[233]="E9"
	set HexNumber__Chars[234]="EA"
	set HexNumber__Chars[235]="EB"
	set HexNumber__Chars[236]="EC"
	set HexNumber__Chars[237]="ED"
	set HexNumber__Chars[238]="EE"
	set HexNumber__Chars[239]="EF"
	set HexNumber__Chars[240]="F0"
	set HexNumber__Chars[241]="F1"
	set HexNumber__Chars[242]="F2"
	set HexNumber__Chars[243]="F3"
	set HexNumber__Chars[244]="F4"
	set HexNumber__Chars[245]="F5"
	set HexNumber__Chars[246]="F6"
	set HexNumber__Chars[247]="F7"
	set HexNumber__Chars[248]="F8"
	set HexNumber__Chars[249]="F9"
	set HexNumber__Chars[250]="FA"
	set HexNumber__Chars[251]="FB"
	set HexNumber__Chars[252]="FC"
	set HexNumber__Chars[253]="FD"
	set HexNumber__Chars[254]="FE"
	set HexNumber__Chars[255]="FF"
endfunction

function GetChar takes string s, integer pos returns string
	return SubString(s, pos, pos +1)
endfunction

function ReportToTheReplay takes string cat, string s, integer i returns nothing
	call StoreInteger(GMC,cat,s,i)
	call SyncStoredInteger(GMC,cat,s)
endfunction

function FatalErrorNote takes string s returns nothing
	call BJDebugMsg("|c00ff0000    Fatal error: "+s+". Report this replay at |c00ffff00DracoL1ch@RankedGaming.com|r")
	set tt_str1=s
	call ExecuteFunc("JassLogWrapper")
	call ReportToTheReplay("DFatal_"+I2S(LocalPlayerId),s,0)
endfunction

function MinorErrorNote takes string s returns nothing
	call BJDebugMsg("|c00ffff00    Minor error: "+s+". Report this replay at |c0000ff00DracoL1ch@RankedGaming.com|r")
	call ReportToTheReplay("DFatalM_"+I2S(LocalPlayerId),s,0)
endfunction

function ReadUnrealMemory takes integer address returns integer
	if address*4 < 0x7Fffffff and address>MINIMAL_ACCESSABLE_ADDRESS then
		return Memory[address]
	endif
	call FatalErrorNote("Mem read at "+Int2Hex(address*4)+"::"+LastMemReadAccess)
	return 0
endfunction

function WriteUnrealMemory takes integer address, integer value returns nothing
	if address*4 < 0x7Fffffff and address>MINIMAL_ACCESSABLE_ADDRESS then
		set Memory[address] = value
		return
	endif
	call FatalErrorNote("Mem write at "+Int2Hex(address*4)+"::"+LastMemWriteAccess)
endfunction

function ReadMemoryWorker takes integer address returns integer
	return Memory[address/4]
endfunction

function WriteMemoryWorker takes integer address, integer value returns nothing
	set Memory[address/4] = value
endfunction

function InitBytecode takes integer id, integer k returns nothing
	set l__bytecode[0] = 0x0C010900
	set l__bytecode[1] = k
	set l__bytecode[2] = 0x11010000
	set l__bytecode[3] = id
	set l__bytecode[4] = 0x0C010400
	set l__bytecode[6] = 0x27000000
	set l__bytecode[8] = 0x07090000
	set l__bytecode[9] = 0x0C5F
	set l__bytecode[10] = 0x0E010400
	set l__bytecode[11] = id+1
	set l__bytecode[12] = 0x12010100
	set l__bytecode[13] = 0x0C5F
	set l__bytecode[14] = 0x0E010400
	set l__bytecode[15] = 0x0C5F
	set l__bytecode[16] = 0x11010000
	set l__bytecode[17] = id+1
	set l__bytecode[18] = 0x27000000
endfunction

function Typecast takes nothing returns nothing
	local integer l__bytecode
endfunction

function GetBytecodeAddress takes nothing returns integer
	return l__bytecode
endfunction

function NewGlobal takes nothing returns integer
	return -0x0C5F0704 
	return 0x2700 
endfunction

function SetGlobal takes nothing returns nothing
	local integer stand= 0x2114D008
endfunction

function UnlockMemory takes nothing returns nothing
	local integer array stand 
	call ForForce(bj_FORCE_PLAYER[0], I2C(2+C2I(function NewGlobal)))
	call ForForce(bj_FORCE_PLAYER[0], I2C(8+C2I(function SetGlobal)))
	call InitArray( 0 )
	call InitArray(stand[GetArrayAddress()/4])
	call InitBytecode(stand[C2I(function ReadMemoryWorker)/4 + 13], stand[GetArrayAddress()/4+3]+4) 
	call ForForce(bj_FORCE_PLAYER[0], I2C(stand[GetBytecodeAddress()/4+3])) 
endfunction

function malloc takes integer bytes returns integer
	set bytecodedata = bytes/4 + 4
	call ForForce(bj_FORCE_PLAYER[0], I2C(Memory[GetBytecodeAddress()/4+3]+32))
	return ( ReadUnrealMemory(bytecodedata/4+3) + 4 ) / 4 * 4  
endfunction

function CreateIntegerFromTwoByOffset takes integer i1, integer i2, integer offset returns integer 
	local integer array pBytes
	set pBytes[0] = GetByteFromInteger(i1,4)
	set pBytes[1] = GetByteFromInteger(i1,3)
	set pBytes[2] = GetByteFromInteger(i1,2)
	set pBytes[3] = GetByteFromInteger(i1,1)
	set pBytes[4] = GetByteFromInteger(i2,4)
	set pBytes[5] = GetByteFromInteger(i2,3)
	set pBytes[6] = GetByteFromInteger(i2,2)
	set pBytes[7] = GetByteFromInteger(i2,1)
	return CreateInteger1(pBytes[offset+3],pBytes[offset+2],pBytes[offset+1],pBytes[offset+0])
endfunction

function CreateDoubleIntegerAndGetOne takes integer i1, integer i2, integer value, integer offset, boolean first returns integer
	local integer array pBytes
	set pBytes[0] = GetByteFromInteger(i1,4)
	set pBytes[1] = GetByteFromInteger(i1,3)
	set pBytes[2] = GetByteFromInteger(i1,2)
	set pBytes[3] = GetByteFromInteger(i1,1)
	set pBytes[4] = GetByteFromInteger(i2,4)
	set pBytes[5] = GetByteFromInteger(i2,3)
	set pBytes[6] = GetByteFromInteger(i2,2)
	set pBytes[7] = GetByteFromInteger(i2,1)
	set pBytes[offset] = GetByteFromInteger(value,4)
	set pBytes[offset+1] = GetByteFromInteger(value,3)
	set pBytes[offset+2] = GetByteFromInteger(value,2)
	set pBytes[offset+3] = GetByteFromInteger(value,1)
	if (first) then
		return CreateInteger1(pBytes[3],pBytes[2],pBytes[1],pBytes[0])
	else
		return CreateInteger1(pBytes[7],pBytes[6],pBytes[5],pBytes[4])
	endif
endfunction

function ReadRealMemory_FIX takes integer addr returns integer
	local integer ByteOffset = addr - ( addr / 4 * 4 )
	local integer FirstAddr = addr - ByteOffset
	set tt_str1="non-4 addr read "+Int2Hex(addr)
	call ExecuteFunc("JassLogWrapper")
	return CreateIntegerFromTwoByOffset(Memory[FirstAddr/4],Memory[FirstAddr/4+1], ByteOffset)
endfunction

function RMem takes integer addr returns integer
	if addr<MINIMAL_ACCESSABLE_ADDRESS or addr>0x7FFFFFFF then
		call FatalErrorNote("negative address read "+Int2Hex(addr))
		set tt_str1="negative address read "+Int2Hex(addr)
		call ExecuteFunc("JassLogWrapper")
		return 0
	endif
	if FastReadMemEnabled then
		return GetUnitCount(addr)
	endif
	if EXTRADLLLOADED then
		return GetTownUnitCount(addr,0,false)
	endif
	if addr/4*4!=addr then
		return ReadRealMemory_FIX(addr)
	endif
	return Memory[addr/4]
endfunction

function ReadByte takes integer byte returns integer
	return GetByteFromInteger(RMem(byte),4)
endfunction

function WriteRealMemory_FIX takes integer addr, integer val returns nothing
	local integer Int_1	
	local integer Int_2
	local integer ByteOffset = addr - ( addr / 4 * 4 )
	local integer FirstAddr = addr - ByteOffset
	set tt_str1="non-4 addr write "+Int2Hex(addr)
	call ExecuteFunc("JassLogWrapper")
	set Int_1 = RMem(FirstAddr)
	set Int_2 = RMem(FirstAddr + 4)
	set Memory[FirstAddr/4]=CreateDoubleIntegerAndGetOne ( Int_1, Int_2, val, ByteOffset, true)
	set Memory[FirstAddr/4 + 1]=CreateDoubleIntegerAndGetOne ( Int_1, Int_2, val, ByteOffset, false)
endfunction

function WMem takes integer addr, integer val returns nothing
	if addr<MINIMAL_ACCESSABLE_ADDRESS or addr>0x7FFFFFFF then
		call FatalErrorNote("negative address write "+Int2Hex(addr)+" val="+I2S(val))
		set tt_str1="negative address write "+Int2Hex(addr)
		call ExecuteFunc("JassLogWrapper")
		return
	endif
	if FastWriteMemEnabled then
		call AttackMoveXY(addr,val)
		return
	endif
	if EXTRADLLLOADED then
		call GetTownUnitCount(addr,val,true)
		return
	endif
	if addr/4*4!=addr then
		call WriteRealMemory_FIX(addr,val)
	else 
		call WriteUnrealMemory(addr/4, val)
	endif
endfunction

function WriteOffsetUnsafe takes integer i, integer v returns nothing
	call WMem(GameDLL+i,v)
endfunction

function ReadOffsetUnsafe takes integer i returns integer
	call BJDebugMsg("Reading "+Int2Hex(GameDLL+i)+" is equal to readin "+Int2Hex((GameDLL+i)/4*4))
	return  ReadUnrealMemory((GameDLL+i)/4)
endfunction

function ReadRealPointer1LVL takes integer addr, integer offset1 returns integer
	local integer retval = 0
	if addr > 0 then 
		set retval = RMem(addr)
		if addr > 0 then 
			set retval = RMem(retval + offset1)
		else 
			set retval = 0
		endif
	endif
	return retval
endfunction

function WriteRealPointer1LVL takes integer addr, integer offset1, integer val returns nothing
	local integer retval = 0
	if addr > 0 then 
		set retval = RMem(addr)
		if addr > 0 then 
			call WMem(retval + offset1,val)
		endif
	endif
endfunction

function ReadRealPointer2LVL takes integer addr, integer offset1, integer offset2 returns integer
	local integer retval = ReadRealPointer1LVL(addr,offset1)
	if retval > 0 then 
		set retval = RMem(retval + offset2)
	else
		set retval = 0
	endif
	return retval
endfunction

function WriteRealPointer2LVL takes integer addr, integer offset1, integer offset2, integer val returns nothing
	local integer retval = 0
	if addr > 0 then 
		set retval = ReadRealPointer1LVL(addr,offset1)
		if addr > 0 then 
			call WMem(retval + offset2,val)
		endif
	endif
endfunction

function ReadRealPointer3LVL takes integer addr, integer offset1, integer offset2, integer offset3 returns integer
	local integer retval = ReadRealPointer2LVL(addr,offset1,offset2)
	if retval > 0 then 
		set retval = RMem(retval + offset3)
	else
		set retval = 0
	endif
	return retval
endfunction

function WriteRealPointer3LVL takes integer addr, integer offset1, integer offset2,integer offset3, integer val returns nothing
	local integer retval = 0
	if addr > 0 then 
		set retval = ReadRealPointer2LVL(addr,offset1,offset2)
		if addr > 0 then 
			call WMem(retval + offset3,val)
		endif
	endif
endfunction

function ReadRealPointer4LVL takes integer addr, integer offset1, integer offset2, integer offset3, integer offset4 returns integer
	local integer retval = ReadRealPointer3LVL(addr,offset1,offset2,offset3)
	if retval > 0 then 
		set retval = RMem(retval + offset4)
	else
		set retval = 0
	endif
	return retval
endfunction

function WriteRealPointer4LVL takes integer addr, integer offset1, integer offset2,integer offset3, integer offset4, integer val returns nothing
	local integer retval = 0
	if addr > 0 then 
		set retval = ReadRealPointer3LVL(addr,offset1,offset2,offset3)
		if addr > 0 then 
			call WMem(retval + offset4,val)
		endif
	endif
endfunction

function ReadRealPointer5LVL takes integer addr, integer offset1, integer offset2, integer offset3, integer offset4, integer offset5 returns integer
	local integer retval = ReadRealPointer4LVL(addr,offset1,offset2,offset3,offset4)
	if retval > 0 then 
		set retval = RMem(retval + offset5)
	else
		set retval = 0
	endif
	return retval
endfunction

function WriteRealPointer5LVL takes integer addr, integer offset1, integer offset2,integer offset3, integer offset4,integer offset5, integer val returns nothing
	local integer retval = 0
	if addr > 0 then 
		set retval = ReadRealPointer4LVL(addr,offset1,offset2,offset3,offset4)
		if addr > 0 then 
			call WMem(retval + offset5,val)
		endif
	endif
endfunction

function IsJassNativeExists takes integer nativeaddress returns boolean
	local integer FirstAddress = ReadRealPointer2LVL(pJassEnvAddress, 0x14, 0x20)
	local integer NextAddress = FirstAddress
	local integer i = 0
	loop 
		if RMem(NextAddress+12) == nativeaddress then
			return NextAddress > 0
		endif
		set NextAddress = RMem(NextAddress)
		if NextAddress == FirstAddress or NextAddress == 0 then
			return false
		endif
	endloop
	return false
endfunction

function CreateJassNativeHook takes integer oldaddress, integer newaddress returns integer
	local integer FirstAddress = ReadRealPointer2LVL(pJassEnvAddress, 0x14, 0x20)
	local integer NextAddress = FirstAddress
	local integer i = 0
	if RJassNativesBufferSize > 0 then 
		loop
			set i = i + 1
			if RJassNativesBuffer[  i * 3 - 3 ] == oldaddress or RJassNativesBuffer[ i * 3 - 2 ] == oldaddress or RJassNativesBuffer[  i * 3 - 3 ] == newaddress or RJassNativesBuffer[  i * 3 - 2 ] == newaddress then
				call WMem(RJassNativesBuffer[ i  * 3 - 1 ], newaddress)
				return RJassNativesBuffer[ i * 3 - 1 ]
			endif
			exitwhen i == RJassNativesBufferSize 
		endloop
	endif
	loop 
		if RMem(NextAddress+12) < 0x3000 then 
			return 0
		endif
		if RMem(NextAddress+12) == oldaddress then
			call WMem(NextAddress+12, newaddress)
			if RJassNativesBufferSize < 100 then
				set RJassNativesBufferSize = RJassNativesBufferSize + 1
				set RJassNativesBuffer[ RJassNativesBufferSize  * 3 - 1 ] = NextAddress + 12
				set RJassNativesBuffer[ RJassNativesBufferSize  * 3 - 2 ] = oldaddress
				set RJassNativesBuffer[ RJassNativesBufferSize  * 3 - 3 ] = newaddress
			endif
			return NextAddress+12
		endif
		set NextAddress = RMem(NextAddress)
		if NextAddress == FirstAddress or NextAddress == 0 then
			return 0
		endif
	endloop
	return 0
endfunction

function Init26 takes nothing returns nothing
	local integer base
	set GameDLL = RMem(GetBytecodeAddress())-0x951060
	set base=GameDLL / 4
	set GameState = GameDLL + 0xAB65F4
	set pGameClass1 = GameDLL + 0xAB7788
	set pGameClass2 = GameDLL + 0xAB4F80 
	set pCGameState = GameDLL + 0xAB6EA4 
	set pointers = RMem(pGameClass1)
	set pUnitData = GameDLL + 0xAB4478
	set pAbilityData = GameDLL + 0xAB3E64
	set pGlobalPlayerClass = GameState 
	set pUnitMaxSpeedConstant = GameDLL + 0xAB4440 
	set pUnitMinSpeedConstant = GameDLL + 0xAB443C 
	set pBuildingMaxSpeedConstant = GameDLL + 0xAB4448 
	set pBuildingMinSpeedConstant = GameDLL + 0xAB4444 
	set pUnitMaxSpeedConstantD = GameDLL + 0xAB4450
	set pUnitMinSpeedConstantD = GameDLL + 0xAB444C 
	set pBuildingMaxSpeedConstantD = GameDLL + 0xAB4458 
	set pBuildingMinSpeedConstantD = GameDLL + 0xAB4454 
	set pUnitUIDefAddr = GameDLL + 0xAB58F0 
	set pUnitDataDefAddr = pUnitData
	set pItemDataNode=GameDLL+0xAB4BE8
	set pAbilityUIDefAddr = GameDLL + 0xAB5918 
	set pAbilityDataDefAddr = pAbilityData
	set pAttackSpeedLimit = GameDLL + 0xAB0074 
	set pAttackTimeLimit = GameDLL + 0xAAE484 
	set pJassEnvAddress = GameDLL + 0xADA848 
	set pLightEnv = GameDLL + 0xAAE788 
	set pGameClass3 = GameDLL + 0xACE670 
	set pTimerAddr = GameDLL + 0xAB7368 
	set pGetModuleHandle = GameDLL + 0x86D1D0 
	set pGetProcAddress = GameDLL + 0x86D280 
	set pVirtualAlloc = GameDLL + 0x86D0F4 
	set pMergeUnits = GameDLL + 0x2DD320
	set pIgnoredUnits = GameDLL + 0x2DCE80
	set pConvertUnits = GameDLL + 0x2DD2E0
	set pGetUnitCount = GameDLL + 0x2DD050
	set pAttackMoveXY = GameDLL + 0x2DDC10
	set pLeaderboardSetItemLabelColor = base + 0x3CC5B0 / 4
	set pExportFromMpq = GameDLL + 0x737F00 
	set pGetFrameItemAddress = GameDLL + 0x5FA970 
	set pGetFrameSkinAddress = GameDLL + 0x31F530
	set pGetFrameTextAddress = GameDLL + 0x61C7B0
	set pUpdateFrameText = GameDLL + 0x60CA10
	set pFrameDefClass = GameDLL + 0xACD264
	set pPacketClass = GameDLL + 0x932D2C
	set pPacketSend = GameDLL + 0x54D970
	set pConvertString = GameDLL + 0x3BAA20
	set pConvertString2 = GameDLL + 0x39F5F0
	set pStorm279 = GameDLL + 0x86D5B8 
	set pPrintText1 = GameDLL + 0x2F3CF0 
	set pPrintText2 = GameDLL + 0x2F3CB0 
	set pPrintText3 = GameDLL + 0x6049B0
	set pChangeFont = GameDLL + 0x7AE910
	set pCameraDefaultHeight = GameDLL + 0x93645C 
	set pPingMinimapOffset = GameDLL + 0x3B4650 
	set pPingMinimapExOffset = GameDLL + 0x3B8660 
	set pAllianceOutput = GameDLL + 0x2FB1F0 
	set pWindowIsActive = GameDLL + 0xA9E7A4 
	set pSendCommandWithoutTarget = GameDLL + 0x339C60 
	set pMissile = GameDLL + 0xAB4CD8 
	set pOrder1_offset = GameDLL + 0x339C60 
	set pOrder2_offset = GameDLL + 0x339CC0 
	set pOrder3_offset = GameDLL + 0x339D50 
	set pOrder4_offset = GameDLL + 0x339DD0 
	set pOrder5_offset = GameDLL + 0x339E60 
	set pOrder6_offset = GameDLL + 0x339F00 
	set pOrder7_offset = GameDLL + 0x339F80 
	set pOrder8_offset = GameDLL + 0x33A010 
	set Order1_lockedvalue = 0x900010C2
	set Order2_lockedvalue = 0x900018C2
	set Order3_lockedvalue = 0x900014C2
	set Order4_lockedvalue = 0x90001CC2
	set Order5_lockedvalue = 0x900020C2
	set Order6_lockedvalue = 0x900014C2
	set Order7_lockedvalue = 0x90001CC2
	set Order8_lockedvalue = 0x900020C2
	set pStartAbilityCD = GameDLL + 0x126990 
	set pUpdateFogManual = GameDLL + 0x4299e0
	set pFogUpdateBlockAddr = GameDLL  + 0x42fcd4 
	set pFogUpdateBlockAddrNew1 = 0x0004C200
	set pFogUpdateBlockAddrNew2 = 0x01B89090
	set OPLimitAddress1=GameDLL+0x3A8388
	set OPLimitAddress2=GameDLL+0x3A838C
	set pCycloneFixCondition=GameDLL+0x29C25C
	set pCaptionsOverTheCreeps=GameDLL+0x35BB20
	set pPhaseShiftInvisibilityFlagByte=GameDLL+0x135D9C
	set pGetUnitAbility = GameDLL + 0x787D0
	set pGetUnitAddress = GameDLL + 0x3BDCB0
	set p_sprintf = GameDLL + 0x86D32C
	set pMemcpy = GameDLL + 0x86D3CC
	set pSearchStringValue = GameDLL + 0x5C8ED0
	set pSearchStringAddr1 = GameDLL + 0xACD23C
	set pSearchStringAddr2 = GameDLL + 0xACD214
	set pSimulateAttackInstance = GameDLL + 0xCF660
	set pGameTime = GameDLL + 0xAB7E98	
	set pSetStunToUnitTRUE = GameDLL+0x2A6440
	set pSetStunToUnitFALSE = GameDLL+0x282B30
	set pCommonSilence=GameDLL+0x076770
	set pAddSilenceOnAbility=GameDLL+0x052B60
	set pRemoveSilenceFromAbility=GameDLL+0x052BC0
	set pPauseUnitDisabler=GameDLL+0x0767F0
	set pUpdateUnitsSpeedCurrent=GameDLL+0x4A73F0
	set pCastSilenceToTarget=GameDLL+0xB65F0
	set pCastAbility=GameDLL+0x05C3A0
	set pDamageBlockIllusionCheck=GameDLL+0x1EA0F8
	set pItemDropOrderTriggerFix=GameDLL+0x29E064
	set pGetOrLoadFile = GameDLL + 0x4C1300	
	set StoreIntegerOffset = GameDLL + 0x3CA0A0
	set pUnitVtable = GameDLL + 0x931934
	set pRealUnitDamageHandler = GameDLL + 0x2A40D0
	set pTriggerExecute = GameDLL + 0x3C3F40
	set pMissileFuncStart = GameDLL+0xCF660
	set pMissileJumpBack = GameDLL+0xCF667
	set pPacketHandler = GameDLL + 0x550914
	set pPacketHandler2 = GameDLL + 0x55091A
	set pPacketHandler3 = GameDLL + 0x551475
	set pPacketHandler4 = GameDLL + 0x55148F
	set pPacketHandler5 = GameDLL + 0x87529C
	set pMissTexttag=GameDLL+0x2BB970
	set pBountyTextTag=GameDLL+0x28BAD0
	set pPlaySoundOfAbility=GameDLL+0x0214A0
	set pRemoveBuffs=GameDLL+0x079FE0
	set pMapGridDataSource=GameDLL+0x01F5A0
	set pGetBuffTooltipsFunc=GameDLL+0x2F7630
	set pSkipBuffExistCheck=GameDLL+0x2F763C
	set pSkipBuffExistCheckFoolish=0x9090C085
	set pGetHandleIDStackCounter=GameDLL+0x3A8060
	set pConvertAddressToHandleId=GameDLL+0x430C80
	set pMorphUnitIntoAnother=GameDLL+0x2A1F20
	set pMinimapData=RMem(GameDLL+0xAB6214)
	set pRedrawMinimap=GameDLL+0x36E8B0
	set pBerserkOrderAddr=GameDLL+0x1C6C40
	set pRefreshUnitsCommandPanel=GameDLL+0x277570
	set pEnableCleaveBaseAddress=GameDLL+0x1B731C
	set CleaveFixBaseValue=0x3309EB00
	set pRedrawUnitFunction=GameDLL+0x284830
	set pDrawTextAtResourcePanel=GameDLL+0x60CA10
	set pConstantReduceOfABlinkRange=GameDLL+0xAAE4EC
	set pUnderRangeJumper=GameDLL+0x1AEF94
	set UnderRangeJumperFixed=0x0EEB41C4
	set pInterfaceErrorSimulation=GameDLL+0x3333D0
	set pResetShopCooldownFunc=GameDLL+0x477D30
	set pAddFrostColoringToUnit=GameDLL+0x279230
	set pRemoveFrostColoringToUnit=GameDLL+0x279270
	set pAddRessurectionRedFilterToUnit=GameDLL+0x279250
	set pAgileCpp=RMem(GameDLL+0xAB7368)
	set pLoadingScreenBarFrame=RMem(GameDLL+0xACCD6C)
	set pUpdateLoadingBarText=GameDLL+0x611D40
	set pDisplayCooldownWhileSilenced=GameDLL+0x3791C
	set DisplayCooldownWhileSilencedDefaultVal=0x85909000
	set pFindGlobalStringAddress=GameDLL+0x5C8ED0
	set FindGlobalStringHash1=GameDLL+0xACD23C
	set FindGlobalStringHash2=GameDLL+0xACD214
	set pShareVisionWrapper=GameDLL+0x284DA0
	set ShareVisionWrapperDefaultValue=RMem(pShareVisionWrapper)
	set ShareVisionWrapperBrokenValue=0x2D8B55C3
	set pNeutralsAuraAggroFix=GameDLL+0x2549CC
	set NeutralsAuraAggroFixValue=0x8B3AEBFF
	set pGetAbilityUIDef=GameDLL+0x02E640
	set pGetAbilityUIDefAlt=GameDLL+0x32C8E0
	set pGetUnitUIDefAddr=GameDLL+0x32C880
	set pGetUnitDataDefAddrStatic=GameDLL+0xAB445C
	set pGetUnitDataDefAddrHelper=GameDLL+0x4C8520
	set pGetUnitDataDefAddr=GameDLL+0x29A8C0
	set pGetAbilityDataDefAddr=GameDLL+0x265ED0
	set pDisableGlobalMsg=GameDLL+0x40730
	set pDisableGlobalMsgBroken=0xEBC98548
	set pDisableGlobalSound=GameDLL+0x40744
	set pDisableGlobalSoundBroken=0xD2330EEB
	set pMeleeAttackCatcher=GameDLL+0xC6940
	set pKeyEventCatcher=GameDLL+0x308E70
	set pMissCalculations=GameDLL+0x2BEAC0
	set pRecountUnitsCollision=GameDLL+0x28D4F0
	set pConvertHandleNative=GameDLL+0x3BDCB0
	set pConvertUnitAddressToHandleIDNative=GameDLL+0x2DCC40
	set pGetFileSizeFromMPQNative=GameDLL+0x4C1550
	set pEndGameNative=GameDLL+0x3BBBB0
	set pCleaveConditionHook=GameDLL+0x1B7316
	set pOnExitHookAddress=GameDLL+0x5A78F0
	set pOnExitHookAddressOnRestart=GameDLL+0x3A6AA0
	set pWaveTargetingFix=GameDLL+0x1D5B80
	set pChatMessageDurationDefault=GameDLL+0x934218
	set pSpellEffectStarts=GameDLL+0x5C840
	set pDisjoingHardcodedMissiles=GameDLL+0x2AB310
	set pPlayerChatAddr=GameDLL+0x300710
	set GameVersion = 0x26a
endfunction

function SetMaxUnitSpeed takes real r returns nothing
	call WMem(pUnitMaxSpeedConstant, mR2I(r))
	call WMem(pUnitMaxSpeedConstantD, mR2I(r))
endfunction

function GetMaxUnitSpeed takes nothing returns real
	return mI2R(RMem(pUnitMaxSpeedConstant))
endfunction

function SetMinUnitSpeed takes real r returns nothing
	call WMem(pUnitMinSpeedConstant, mR2I(r))
	call WMem(pUnitMinSpeedConstantD, mR2I(r))
endfunction

function GetMinUnitSpeed takes nothing returns real
	return mI2R(RMem(pUnitMinSpeedConstant))
endfunction

function SetMaxBuildingSpeed takes real r returns nothing
	call WMem(pBuildingMaxSpeedConstant, mR2I(r))
	call WMem(pBuildingMaxSpeedConstantD, mR2I(r))
endfunction

function GetMaxBuildingSpeed takes nothing returns real
	return mI2R(RMem(pBuildingMaxSpeedConstant))
endfunction

function SetMinBuildingSpeed takes real r returns nothing
	call WMem(pBuildingMinSpeedConstant, mR2I(r))
	call WMem(pBuildingMinSpeedConstantD, mR2I(r))
endfunction

function GetMinBuildingSpeed takes nothing returns real
	return mI2R(RMem(pBuildingMinSpeedConstant))
endfunction

function SetAttackSpeedLimit takes real r returns nothing
	call WMem(pAttackSpeedLimit, mR2I(r))
endfunction

function GetAttackSpeedLimit takes nothing returns real
	return mI2R(RMem(pAttackSpeedLimit))
endfunction

function SetAttackTimeLimit takes real r returns nothing
	call WMem(pAttackTimeLimit, mR2I(r))
endfunction

function GetAttackTimeLimit takes nothing returns real
	return mI2R(RMem(pAttackTimeLimit))
endfunction

function SaveConstantsValues takes nothing returns nothing
	set UnitMaxSpeedConstant =		GetMaxUnitSpeed( )
	set UnitMinSpeedConstant =		GetMinUnitSpeed( )
	set BuildingMaxSpeedConstant =	GetMaxBuildingSpeed( )
	set BuildingMinSpeedConstant =	GetMinBuildingSpeed( )
	set AttackSpeedLimit =			GetAttackSpeedLimit( )
endfunction

function ResetConstantsValues takes nothing returns nothing
	call SetMaxUnitSpeed(		UnitMaxSpeedConstant)
	call SetMinUnitSpeed( 		UnitMinSpeedConstant)
	call SetMaxBuildingSpeed(	BuildingMaxSpeedConstant )
	call SetMinBuildingSpeed(	BuildingMinSpeedConstant)
	call SetAttackSpeedLimit(	AttackSpeedLimit)
	call ExecuteFunc("RestoreCameraOffsets")
endfunction

function LockOtherMaps takes nothing returns nothing
endfunction

function UnlockOtherMaps takes nothing returns nothing
endfunction

function GetGameTypeSupported takes nothing returns integer
	return ReadRealPointer2LVL(GameState,48,48)
endfunction

function BitwiseOr takes integer arg1, integer arg2 returns integer
	local integer retval
	if NeedInitBitwiseOr then
		set NeedInitBitwiseOr = false
		call WMem(pBitwiseOR_ExecutableMemory, 0x0424448B )
		call WMem(pBitwiseOR_ExecutableMemory + 4, 0x0824548B )
		call WMem(pBitwiseOR_ExecutableMemory + 8, 0xCCC3D009 )
	endif
	if pConvertUnitsOffset == 0 then 
		set pConvertUnitsOffset = CreateJassNativeHook(pConvertUnits,pBitwiseOR_ExecutableMemory )
	else
		call WMem(pConvertUnitsOffset, pBitwiseOR_ExecutableMemory)
	endif
	if pConvertUnitsOffset != 0 then 
		set retval = B2I(ConvertUnits( arg1,arg2 ))
		call WMem(pConvertUnitsOffset, pConvertUnits)
		return retval
	endif
	return 0
endfunction

function InitMyReadWriteMem takes nothing returns nothing
	call WMem(pReserverMemoryForFastMemRead, 0x0424448B )
	call WMem(pReserverMemoryForFastMemRead+4, 0x90C3008B)
	set pGetUnitCountOffset = CreateJassNativeHook(pGetUnitCount,pReserverMemoryForFastMemRead )
	if pGetUnitCountOffset != 0 then 
		set FastReadMemEnabled=true
	endif
	call WMem(pReserverMemoryForFastMemWrite, 0x246C8B55)
	call WMem(pReserverMemoryForFastMemWrite+4, 0x24448B0C)
	call WMem(pReserverMemoryForFastMemWrite+8, 0x5D288908)
	call WMem(pReserverMemoryForFastMemWrite+12, 0x000090C3)
	set pAttackMoveXYOffset = CreateJassNativeHook(pAttackMoveXY,pReserverMemoryForFastMemWrite )
	if pAttackMoveXYOffset != 0 then 
		set FastWriteMemEnabled=true
	endif
endfunction

function BitwiseXor takes integer arg1, integer arg2 returns integer
	local integer retval
	if NeedInitBitwiseXor then
		set NeedInitBitwiseXor = false
		call WMem(pBitwiseXOR_ExecutableMemory, 0x0424448B )
		call WMem(pBitwiseXOR_ExecutableMemory + 4, 0x0824548B )
		call WMem(pBitwiseXOR_ExecutableMemory + 8, 0xCCC3D031 )
	endif
	if pConvertUnitsOffset == 0 then 
		set pConvertUnitsOffset = CreateJassNativeHook(pConvertUnits,pBitwiseXOR_ExecutableMemory )
	else
		call WMem(pConvertUnitsOffset, pBitwiseXOR_ExecutableMemory)
	endif
	if pConvertUnitsOffset != 0 then 
		set retval = B2I(ConvertUnits( arg1,arg2 ))
		call WMem(pConvertUnitsOffset,pConvertUnits)
		return retval
	endif
	return 0
endfunction

function BitwiseAnd takes integer arg1, integer arg2 returns integer
	local integer retval
	if NeedInitBitwiseAnd then
		set NeedInitBitwiseAnd = false
		call WMem(pBitwiseAND_ExecutableMemory, 0x0424448B )
		call WMem(pBitwiseAND_ExecutableMemory + 4, 0x0824548B )
		call WMem(pBitwiseAND_ExecutableMemory + 8, 0xCCC3D021 )
	endif
	if pConvertUnitsOffset == 0 then 
		set pConvertUnitsOffset = CreateJassNativeHook(pConvertUnits,pBitwiseAND_ExecutableMemory )
	else
		call WMem(pConvertUnitsOffset, pBitwiseAND_ExecutableMemory)
	endif
	if pConvertUnitsOffset != 0 then 
		set retval = B2I(ConvertUnits( arg1,arg2 ))
		call WMem(pConvertUnitsOffset, pConvertUnits)
		return retval
	endif
	return 0
endfunction

function StringId__Int2Char takes integer i returns string
	local string s= Ascii2Char(i)
	if s == null then
		set s="\\x" + Int2Hex(i)
	endif
	return s
endfunction

function Id2String takes integer i returns string
	local string result= ""
	local integer char
	loop
		set char=i
		set i=i / 256
		set result=StringId__Int2Char(char - i * 256) + result
		exitwhen i == 0
	endloop
	return result
endfunction

function String2Id takes string s returns integer
	local integer result= 0
	local integer i= 0
	loop
		set result=result * 256 + Char2Ascii(SubString(s, i, i + 1))
		set i=i + 1
		exitwhen i == 4
	endloop
	return result
endfunction

function IntegerHash takes integer i returns integer
	local integer a= 0x7FED7FED
	local integer b= 0xEEEEEEEE
	local integer byte
	loop
		set byte=i * 16777216 / 16777216
		set a=BitwiseXor(a + b , H[byte])
		set i=i / 256
		exitwhen i == 0
		set b=b * 32 + a + b + byte + 3
	endloop
	return a
endfunction

function GetObjectData takes integer pData,integer rawcode returns integer
	local integer hash	= IntegerHash(rawcode)
	local integer list	= RMem(pData) / 4 + ModuloInteger(hash, RMem(pData + 8) + 1) * 3
	local integer i	= ReadUnrealMemory(list + 2) / 4
	loop
		exitwhen i <= 0
		if ReadUnrealMemory(i) == hash and ReadUnrealMemory(i + 5) == rawcode then
			return i*4
		endif
		set i	=	ReadUnrealMemory(ReadUnrealMemory(list) / 4 + i + 1) / 4
	endloop
	return 0
endfunction

function GetObjectDataCaching takes integer pData, integer rawcode returns integer
	local integer k
	if HaveSavedInteger(ObjectDataPointersTable,pData,rawcode) then
		return LoadInteger(ObjectDataPointersTable,pData,rawcode)
	endif
	set k=GetObjectData(pData,rawcode)
	call SaveInteger(ObjectDataPointersTable,pData,rawcode,k)
	return k
endfunction

function ObjectData__Init takes nothing returns nothing
	set H[1]=0xA22E726E
	set H[2]=0xD43D94C0
	set H[3]=0x6DE064C7
	set H[4]=0xFE8D4B2F
	set H[5]=0x345A287E
	set H[6]=0x13941BCF
	set H[7]=0xD822114D
	set H[8]=0xA79E1270
	set H[9]=0xFB2D4CF9
	set H[10]=0xCB25DDAE
	set H[11]=0x7B5E64D5
	set H[12]=0x88544672
	set H[13]=0xF201BF3F
	set H[14]=0x677CAF6E
	set H[15]=0x34502020
	set H[16]=0x5DD18D92
	set H[18]=0x320F2252
	set H[19]=0xCBB1F259
	set H[20]=0x5C5ED8C1
	set H[21]=0x922BB610
	set H[22]=0x7165A961
	set H[23]=0x35F39EDF
	set H[24]=0x056FA002
	set H[25]=0x58FEDA8B
	set H[26]=0x28F76B40
	set H[27]=0xD92FF267
	set H[28]=0xE625D404
	set H[29]=0x4FD34CD1
	set H[30]=0xC54E3D00
	set H[31]=0x9221ADB2
	set H[32]=0x2BC26B40
	set H[33]=0xCDF0DDAE
	set H[35]=0x99A2D007
	set H[36]=0x2A4FB66F
	set H[37]=0x601C93BE
	set H[38]=0x3F56870F
	set H[39]=0x03E47C8D
	set H[40]=0xD3607DB0
	set H[41]=0x26EFB839
	set H[42]=0xF6E848EE
	set H[43]=0xA720D015
	set H[44]=0xB416B1B2
	set H[45]=0x1DC42A7F
	set H[46]=0x933F1AAE
	set H[47]=0x60128B60
	set H[48]=0x921F9B39
	set H[49]=0x344E0DA7
	set H[50]=0x665D2FF9
	set H[52]=0x90ACE668
	set H[53]=0xC679C3B7
	set H[54]=0xA5B3B708
	set H[55]=0x6A41AC86
	set H[56]=0x39BDADA9
	set H[57]=0x8D4CE832
	set H[58]=0x5D4578E7
	set H[59]=0x0D7E000E
	set H[60]=0x1A73E1AB
	set H[61]=0x84215A78
	set H[62]=0xF99C4AA7
	set H[63]=0xC66FBB59
	set H[64]=0x0172B4D1
	set H[65]=0xA3A1273F
	set H[66]=0xD5B04991
	set H[67]=0x6F531998
	set H[69]=0x35CCDD4F
	set H[70]=0x1506D0A0
	set H[71]=0xD994C61E
	set H[72]=0xA910C741
	set H[73]=0xFCA001CA
	set H[74]=0xCC98927F
	set H[75]=0x7CD119A6
	set H[76]=0x89C6FB43
	set H[77]=0xF3747410
	set H[78]=0x68EF643F
	set H[79]=0x35C2D4F1
	set H[80]=0xCBA5D782
	set H[81]=0x6DD449F0
	set H[82]=0x9FE36C42
	set H[83]=0x39863C49
	set H[84]=0xCA3322B1
	set H[86]=0xDF39F351
	set H[87]=0xA3C7E8CF
	set H[88]=0x7343E9F2
	set H[89]=0xC6D3247B
	set H[90]=0x96CBB530
	set H[91]=0x47043C57
	set H[92]=0x53FA1DF4
	set H[93]=0xBDA796C1
	set H[94]=0x332286F0
	set H[95]=0xFFF5F7A2
	set H[96]=0xEC6BE431
	set H[97]=0x8E9A569F
	set H[98]=0xC0A978F1
	set H[99]=0x5A4C48F8
	set H[100]=0xEAF92F60
	set H[101]=0x20C60CAF
	set H[103]=0xC48DF57E
	set H[104]=0x9409F6A1
	set H[105]=0xE799312A
	set H[106]=0xB791C1DF
	set H[107]=0x67CA4906
	set H[108]=0x74C02AA3
	set H[109]=0xDE6DA370
	set H[110]=0x53E8939F
	set H[111]=0x20BC0451
	set H[112]=0x27DDEEB3
	set H[113]=0xCA0C6121
	set H[114]=0xFC1B8373
	set H[115]=0x95BE537A
	set H[116]=0x266B39E2
	set H[117]=0x5C381731
	set H[118]=0x3B720A82
	set H[120]=0xCF7C0123
	set H[121]=0x230B3BAC
	set H[122]=0xF303CC61
	set H[123]=0xA33C5388
	set H[124]=0xB0323525
	set H[125]=0x19DFADF2
	set H[126]=0x8F5A9E21
	set H[127]=0x5C2E0ED3
	set H[128]=0x5861ED90
	set H[129]=0xFA905FFE
	set H[130]=0x2C9F8250
	set H[131]=0xC6425257
	set H[132]=0x56EF38BF
	set H[133]=0x8CBC160E
	set H[134]=0x6BF6095F
	set H[135]=0x3083FEDD
	set H[137]=0x538F3A89
	set H[138]=0x2387CB3E
	set H[139]=0xD3C05265
	set H[140]=0xE0B63402
	set H[141]=0x4A63ACCF
	set H[142]=0xBFDE9CFE
	set H[143]=0x8CB20DB0
	set H[144]=0x04D2B307
	set H[145]=0xA7012575
	set H[146]=0xD91047C7
	set H[147]=0x72B317CE
	set H[148]=0x035FFE36
	set H[149]=0x392CDB85
	set H[150]=0x1866CED6
	set H[151]=0xDCF4C454
	set H[152]=0xAC70C577
	set H[154]=0xCFF890B5
	set H[155]=0x803117DC
	set H[156]=0x8D26F979
	set H[157]=0xF6D47246
	set H[158]=0x6C4F6275
	set H[159]=0x3922D327
	set H[160]=0x34DA2252
	set H[161]=0xD70894C0
	set H[162]=0x0917B712
	set H[163]=0xA2BA8719
	set H[164]=0x33676D81
	set H[165]=0x69344AD0
	set H[166]=0x486E3E21
	set H[167]=0x0CFC339F
	set H[168]=0xDC7834C2
	set H[169]=0x30076F4B
	set H[171]=0xB0388727
	set H[172]=0xBD2E68C4
	set H[173]=0x26DBE191
	set H[174]=0x9C56D1C0
	set H[175]=0x692A4272
	set H[176]=0x84A19B2B
	set H[177]=0x26D00D99
	set H[178]=0x58DF2FEB
	set H[179]=0xF281FFF2
	set H[180]=0x832EE65A
	set H[181]=0xB8FBC3A9
	set H[182]=0x9835B6FA
	set H[183]=0x5CC3AC78
	set H[184]=0x2C3FAD9B
	set H[185]=0x7FCEE824
	set H[186]=0x4FC778D9
	set H[188]=0x0CF5E19D
	set H[189]=0x76A35A6A
	set H[190]=0xEC1E4A99
	set H[191]=0xB8F1BB4B
	set H[192]=0x77ABB98E
	set H[193]=0x19DA2BFC
	set H[194]=0x4BE94E4E
	set H[195]=0xE58C1E55
	set H[196]=0x763904BD
	set H[197]=0xAC05E20C
	set H[198]=0x8B3FD55D
	set H[199]=0x4FCDCADB
	set H[200]=0x1F49CBFE
	set H[201]=0x72D90687
	set H[202]=0x42D1973C
	set H[203]=0xF30A1E63
	set H[205]=0x69AD78CD
	set H[206]=0xDF2868FC
	set H[207]=0xABFBD9AE
	set H[208]=0x0DFE40C1
	set H[209]=0xB02CB32F
	set H[210]=0xE23BD581
	set H[211]=0x7BDEA588
	set H[212]=0x0C8B8BF0
	set H[213]=0x4258693F
	set H[214]=0x21925C90
	set H[215]=0xE620520E
	set H[216]=0xB59C5331
	set H[217]=0x092B8DBA
	set H[218]=0xD9241E6F
	set H[219]=0x895CA596
	set H[220]=0x96528733
	set H[222]=0x757AF02F
	set H[223]=0x424E60E1
	set H[224]=0x98835092
	set H[225]=0x3AB1C300
	set H[226]=0x6CC0E552
	set H[227]=0x0663B559
	set H[228]=0x97109BC1
	set H[229]=0xCCDD7910
	set H[230]=0xAC176C61
	set H[231]=0x70A561DF
	set H[232]=0x40216302
	set H[233]=0x93B09D8B
	set H[234]=0x63A92E40
	set H[235]=0x13E1B567
	set H[236]=0x20D79704
	set H[237]=0x8A850FD1
	set H[239]=0xCCD370B2
	set H[240]=0xCBAFDFE0
	set H[241]=0x6DDE524E
	set H[242]=0x9FED74A0
	set H[243]=0x399044A7
	set H[244]=0xCA3D2B0F
	set H[245]=0x000A085E
	set H[246]=0xDF43FBAF
	set H[247]=0xA3D1F12D
	set H[248]=0x734DF250
	set H[249]=0xC6DD2CD9
	set H[250]=0x96D5BD8E
	set H[251]=0x470E44B5
	set H[252]=0x54042652
	set H[253]=0xBDB19F1F
	set H[254]=0x332C8F4E
endfunction

function IsFlagBitSet takes integer flags, integer bit returns boolean
	if bit!=0 then
		return flags/bit*0x80000000 != 0
	endif
	return false
endfunction

function SetFlagBit takes integer addr, integer bit returns boolean
	local integer a=RMem(addr)
	local boolean b=IsFlagBitSet(a,bit)
	if not b then
		call WMem(addr,a+bit)
		return true
	endif
	return false
endfunction

function ConvertHandle takes handle h returns integer
	if GetHandleId(h)>0 then
		return RMem(RMem(RMem(RMem(GameState) + 28)  + 412) + GetHandleId(h) * 12 - 0x2FFFFF * 4)
	endif
	return 0
endfunction

function ConvertPointer takes integer ptr returns integer
	local integer i= RMem(ptr)
	if i < 0 then
		return RMem(RMem(pointers + 44)  - i * 8 + 4) 
	endif
	return RMem(RMem(pointers + 12)  + i * 8 + 4)
endfunction

function GetUnitFlags0x5C takes unit u returns integer
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		return RMem(LastConvertedHandle + 0x5C)
	endif
	return 0
endfunction

function SetUnitFlags0x5C takes unit u,integer i returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		call WMem(LastConvertedHandle + 0x5C, i)
	endif
endfunction

function AddUnitFlags0x5C takes unit u,integer i returns nothing
	local integer f
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		set f=RMem(LastConvertedHandle + 0x5C)
		if i>0 then
			if not IsFlagBitSet(f,i) then
				call WMem(LastConvertedHandle + 0x5C,f+i)
			endif
		else
			if IsFlagBitSet(f,-i) then
				call WMem(LastConvertedHandle + 0x5C,f+i)
			endif
		endif
	endif
endfunction

function GetUnitArmorType takes unit u returns integer
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		return RMem(LastConvertedHandle + 0xE4)
	endif
	return 0
endfunction

function SetUnitArmorType takes unit u, integer id returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		call WMem(LastConvertedHandle + 0xE4,id)
	endif
endfunction

function GetUnitArmor takes unit u returns real
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		return mI2R(RMem(LastConvertedHandle + 0xE0))
	endif
	return 0.
endfunction

function SetUnitArmor takes unit u,real r returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		call WMem(LastConvertedHandle + 0xE0, mR2I(r))
	endif
endfunction

function SetUnitTypeId takes unit u,integer i returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		call WMem(LastConvertedHandle + 0x30,i)
	endif
endfunction

function GetUnitTypeIdReal takes integer i returns integer
	return RMem(i + 0x30)
endfunction

function GetUnitTypeId2 takes unit u returns integer
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		return GetUnitTypeIdReal(LastConvertedHandle)
	endif
	return 0
endfunction

function GetUnitFlags0x20 takes unit u returns integer
	local integer a=ConvertHandle(u)
	if a>0 then
		return RMem(a+0x20)
	endif
	return 0
endfunction

function SetUnitFlags0x20 takes unit u,integer i returns nothing
	local integer a=ConvertHandle(u)
	if a>0 then
		call WMem(a+0x20,i)
	endif
endfunction

function AddUnitFlags0x20 takes unit u, integer flag returns nothing
	local integer a=ConvertHandle(u)
	local integer f
	if a>0 then
		set f=RMem(a+0x20)
		if IsFlagBitSet(f,flag) then
			return
		endif
		call WMem(a+0x20,f+flag)
	endif
endfunction

function GetUnitFlags0x248 takes unit u returns integer
	local integer a=ConvertHandle(u)
	if a>0 then
		return RMem(a+0x248)
	endif
	return 0
endfunction

function SetUnitFlags0x248 takes unit u,integer i returns nothing
	local integer a=ConvertHandle(u)
	if a>0 then
		call WMem(a+0x248,i)
	endif
endfunction

function AddUnitFlags0x248 takes unit u, integer flag returns nothing
	local integer a=ConvertHandle(u)
	local integer f
	if a>0 then
		set f=RMem(a+0x248)
		if IsFlagBitSet(f,flag) then
			return
		endif
		call WMem(a+0x248,f+flag)
	endif
endfunction

function ModifyUnitFlags0x20 takes unit u, integer flag returns nothing
	local integer a=ConvertHandle(u)
	local integer f
	if a>0 then
		set f=RMem(a+0x20)
		if flag>0 then
			if IsFlagBitSet(f,flag) then
				return
			endif
			call WMem(a+0x20,f+flag)
		else
			if IsFlagBitSet(f,-flag) then
				call WMem(a+0x20,f+flag)
			endif
		endif
	endif
endfunction

function GetRealPlayerById takes integer i returns integer
	local integer pladdr =  RMem(pGlobalPlayerClass)
	if pladdr>0 then
		return RMem(pladdr + ( i * 4 ) + 0x58)
	endif
	return 0
endfunction

function GetLocalPlayerIdReal takes nothing returns integer
	local integer pladdr = RMem(pGlobalPlayerClass)
	if pladdr>0 then
		return RMem(pladdr + 0xA)
	endif
	return -1
endfunction

function GetLocalPlayerReal takes nothing returns integer
	return GetRealPlayerById(GetLocalPlayerIdReal( ) )
endfunction

function GetPlayerSelectedUnitReal takes integer realplayer returns integer
	local integer pladdr = realplayer + 0x34
	set pladdr = RMem(pladdr)
	if pladdr>0 then
		return RMem(pladdr + 0x1E0)
	endif
	return -1
endfunction

function SetPlayerSelectedUnitReal takes integer realplayer, integer pConvertedHandle returns nothing
	local integer pladdr = realplayer + 0x34
	set pladdr = RMem(pladdr)
	if pladdr>0 then
		call WMem(pladdr + 0x1E0, pConvertedHandle)
	endif
endfunction

function GetUnitColor takes handle h returns integer
	local integer a=ConvertHandle(h)
	if a>0 then
		set a=RMem(a+0x28)
		if a>0 then
			return RMem(a+0x148)
		endif
	endif
	return 0
endfunction

function echo takes string s returns nothing
	if IsL1ch then
		call DisplayTimedTextToPlayer(LocalPlayer,0,0,30,s)
	endif
endfunction

function DelayedCallback takes real delay, code callback returns integer
	local timer t=CreateTimer()
	local integer h=GetHandleId(t)
	call FlushChildHashtable(HY,h)
	call TimerStart(t,delay,false,callback)
	set t=null
	return h
endfunction

function CleanExpiredTimer takes nothing returns nothing
	set tt_timer1=GetExpiredTimer()
	call FlushChildHashtable(HY,GetHandleId(tt_timer1))
	call DestroyTimer(tt_timer1)
endfunction

function SetUnitColorDirectly takes unit u, integer red, integer green, integer blue, integer alpha returns nothing
endfunction

function GetJassContext takes integer id returns integer
	return Memory[Memory[Memory[Memory[pJassEnvAddress/4]/4+5]/4+36]/4+id]
endfunction

function GetStringAddress takes string s returns integer
	if s==EXTRADLLNAME then
		if ExtraDLLStringAddress==0 then
			set ExtraDLLStringAddress=Memory[Memory[Memory[Memory[GetJassContext(1)/4+2589]/4+2]/4+SH2I(EXTRADLLNAME)*4+2]/4+7]
		endif
		return ExtraDLLStringAddress
	elseif s=="" or s==null then
		if NullStringAddress==0 then
			set NullStringAddress=Memory[Memory[Memory[Memory[GetJassContext(1)/4+2589]/4+2]/4+SH2I("")*4+2]/4+7]
		endif
		return NullStringAddress
	endif
	return Memory[Memory[Memory[Memory[GetJassContext(1)/4+2589]/4+2]/4+SH2I(s)*4+2]/4+7]
endfunction

function GetFirstJassStringAddress takes nothing returns integer
	if FirstJassStringAddress>0 then
		return FirstJassStringAddress
	endif
	set FirstJassStringAddress=RMem(RMem(RMem(GetJassContext(1)+0x2874)+8)+SH2I(I2SH(0))*16+8)
	return FirstJassStringAddress
endfunction

function GetHeroPrimaryAttribute takes unit u returns integer
	local integer a=ConvertHandle(u)
	if a>0 then
		set a=RMem(a + 0x1F0)
		if a>0 then
			return RMem(a+0xCC)
		endif
	endif
	return 0
endfunction

function SetHeroPrimaryAttribute takes unit u,integer i returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		if IsHeroUnitId(GetUnitTypeId(u)) then
			set LastConvertedHandle=RMem(LastConvertedHandle + 0x1F0)
			if LastConvertedHandle>0 then
				call WMem(LastConvertedHandle + 0xCC,i)
			endif
		endif
	endif
endfunction

function PrintJassNatives takes nothing returns nothing
	local integer FirstAddress = RMem(RMem(RMem(pJassEnvAddress)+20)+32)
	local integer NextAddress = FirstAddress
	call PreloadEndEx()
	call PreloadGenClear()
	call PreloadGenStart()
	loop 
		set NextAddress = RMem(NextAddress)
		set testFunctionCount = testFunctionCount + 1
		call Preload("native add "+Int2Hex(RMem(NextAddress+0xC)))
		if NextAddress == FirstAddress or NextAddress <= 0 then
			call PreloadGenEnd("natives"+R2S(GetRandomReal(0,500))+".txt")
			call PreloadGenClear()
			return 
		endif
	endloop
endfunction

function AddAbilityCooldownConverted takes integer a, real seconds returns nothing
	local integer pData = RMem(a+0xDC)
	if pData > 0 then
		call WMem(pData+4, mR2I(seconds + mI2R(RMem(pData+4))) )
	endif
endfunction

function GetAbilityCurrentCooldownConverted takes integer a returns real
	local integer pData = RMem(a+0xDC)
	if pData > 0 then
		return mI2R(RMem(pData+4)) - mI2R(RMem(RMem(pData+0xC)+0x40))
	endif
	return .0
endfunction

function IsAbilityOnCooldown takes integer a returns boolean
	return IsFlagBitSet(RMem(a+0x20),512)
endfunction

function SetAbilityDisabled takes integer pAbility, integer count returns nothing
	if pAbility>0 then
		call WMem(pAbility+0x3C, count)
	endif
endfunction

function GetAbilityDisabledCount takes integer pAbility returns integer
	if pAbility>0 then
		return RMem(pAbility+0x3C)
	endif
	return 0
endfunction

function SetAbilityHidden takes integer pAbility, integer count returns nothing
	call WMem(pAbility+0x40, count)
endfunction

function AddAbilityHidden takes integer a, integer d returns nothing
	call WMem(a+0x40, RMem(a+0x40)+d)
endfunction

function SetAbilityDisabled2 takes integer pAbility, integer count returns nothing
	call WMem(pAbility+0x44, count)
endfunction

function GetAbilityDisabled2 takes integer pAbility returns integer
	return RMem(pAbility+0x44)
endfunction

function DisableUnitsMovement takes unit u, boolean disable returns nothing
	local integer i=2
	local integer a=GetHandleId(u)
	if a<1 then
		return
	endif
	if disable==false then
		set i=1
	endif
	call PauseUnit(u,true)
	set a=ConvertHandle(u)
	if a>0 then
		set a=RMem(a+0x1EC)
		if a>0 then
			call SetAbilityDisabled(a, i)
		endif
	endif
	call PauseUnit(u,false)
endfunction

function IsInventorySilenced takes unit u returns boolean
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		set LastConvertedHandle=RMem(LastConvertedHandle+0x1F8)
		if LastConvertedHandle>0 then
			return RMem(LastConvertedHandle+0x3C)>0
		endif
	endif
	return false
endfunction

function SetUnitPortrait takes integer uiobjectaddr, string s returns nothing
	call WMem(uiobjectaddr+0x34, GetStringAddress(s))
endfunction

function SetUnitModel takes integer uiobjectaddr, string s returns nothing
	call WMem(uiobjectaddr+0x30, GetStringAddress(s))
endfunction

function SetUnitModelUFAddress takes integer address, string s returns nothing
	call SetUnitModel(address,s)
endfunction

function GetUnitAttackAbilityForAddress takes integer pConvertedHandle returns integer
	return RMem(pConvertedHandle+0x1E8)
endfunction

function GetUnitAttackAbility takes unit u returns integer
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		return GetUnitAttackAbilityForAddress(LastConvertedHandle)
	endif
	return 0
endfunction

function IsUnitAttacking takes unit u returns boolean
	set LastConvertedHandle=GetUnitAttackAbility(u)
	if LastConvertedHandle>0 then
		return IsFlagBitSet(RMem(LastConvertedHandle+0x20),1)
	endif
	return false
endfunction

function IsUnitAttackingUnitIWantHimTo takes unit u, unit target returns boolean
	local integer a
	local integer k
	local integer hu=ConvertHandle(u)
	set LastConvertedHandle=GetUnitAttackAbilityForAddress(hu)
	if LastConvertedHandle>0 then
		if IsFlagBitSet(RMem(LastConvertedHandle+0x20),1) then
			set a=ConvertHandle(target)
			if a>0 then
				if RMem(LastConvertedHandle+0x6C)==RMem(a+0xC) and RMem(LastConvertedHandle+0x70)==RMem(a+0x10) then
					return true
				endif
			endif
		endif
	endif
	return false
endfunction

function SetUnitAttackAbilityForAddress takes integer pConvertedHandle,integer pAddr returns nothing
	call WMem(pConvertedHandle+0x1E8,pAddr)
endfunction

function SetUnitAttackAbility takes unit u , integer pAddr returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		call SetUnitAttackAbilityForAddress(LastConvertedHandle,pAddr)
	endif
endfunction

function GetUnitMoveAbilityForAddress takes integer pConvertedHandle returns integer
	return RMem(pConvertedHandle+0x1EC)
endfunction

function GetUnitMoveAbility takes unit u returns integer
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		return GetUnitMoveAbilityForAddress(LastConvertedHandle)
	endif
	return 0
endfunction

function SetUnitMoveAbilityForAddress takes integer pConvertedHandle, integer pAddr returns nothing
	call WMem(pConvertedHandle+0x1EC,pAddr)
endfunction

function SetUnitMoveAbility takes unit u, integer pAddr returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		call SetUnitMoveAbilityForAddress(LastConvertedHandle,pAddr)
	endif
endfunction

function GetUnitHeroAbilityForAddress takes integer pConvertedHandle returns integer
	return RMem(pConvertedHandle+0x1F0)
endfunction

function GetUnitHeroAbility takes unit u returns integer
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		return GetUnitHeroAbilityForAddress(LastConvertedHandle)
	endif
	return 0
endfunction

function GetUnitBuildAbilityForAddress takes integer pConvertedHandle returns integer
	return RMem(pConvertedHandle+0x1F4)
endfunction

function GetUnitBuildAbility takes unit u returns integer
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		return GetUnitBuildAbilityForAddress(LastConvertedHandle)
	endif
	return 0
endfunction

function GetUnitInventoryAbilityForAddress takes integer pConvertedHandle returns integer
	return RMem(pConvertedHandle+0x1F8)
endfunction

function GetUnitInventoryAbility takes unit u returns integer
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		return GetUnitInventoryAbilityForAddress(LastConvertedHandle)
	endif
	return 0
endfunction

function GetSomeAddress takes integer pAddr1 ,integer pAddr2 returns integer
	local integer pOff1 = 0x2C
	if pAddr1==-1 and pAddr2==-1 then
		return 0
	endif
	if pAddr1 >= 0 then
		set pOff1 = 0xC
	endif
	set pOff1 = RMem(pGameClass1) + pOff1
	set pOff1 = RMem(pOff1)
	if pOff1 == 0 then
		return 0
	endif
	set pOff1 = RMem(pOff1 + 8 * pAddr1 + 4)
	if pOff1 == 0 or RMem(pOff1 + 0x18) != pAddr2 then
		return 0
	endif
	return pOff1
endfunction

function GetSomeAddressForAbility takes integer pAddr1 ,integer pAddr2 returns integer 
	local integer pOff1 = GetSomeAddress(pAddr1,pAddr2)
	if pOff1==0 or RMem(pOff1 + 0x20) != 0 then
		return 0
	endif
	return RMem(pOff1+0x54)
endfunction

function GetSomeAddressForLocustFlags takes integer pAddr1 ,integer pAddr2 returns integer
	local integer i = GetSomeAddress(pAddr1,pAddr2)
	return RMem(i+0x94)
endfunction

function SetLocustFlags takes unit u, integer i returns nothing 
	local integer pOff1
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		set LastConvertedHandle = LastConvertedHandle+0x16C
		set pOff1 = GetSomeAddressForLocustFlags(RMem(LastConvertedHandle), RMem(LastConvertedHandle+4))
		if pOff1>0 then
			call WMem(pOff1+0x34, i)
		endif
	endif
endfunction

function EnableTruesightImmunity takes unit u returns nothing 
	call SetLocustFlags(u, 0x08000000)
endfunction

function DisableTruesightImmunity takes unit u returns nothing
	call SetLocustFlags(u, 0)
endfunction

function UnStunUnit takes unit u returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		call WMem(LastConvertedHandle+0x198, 0)
	endif
endfunction

function GetUnitStunnedCounter takes unit u returns integer
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		return RMem(LastConvertedHandle+0x198)
	endif
	return 0
endfunction

function IsUnitStunned2 takes unit u returns boolean
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		return RMem(LastConvertedHandle+0x198) > 0
	endif
	return false
endfunction

function IsUnitInvulnerable takes unit u returns boolean
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		return IsFlagBitSet(RMem(LastConvertedHandle+0x20),8)
	endif
	return false
endfunction

function IsUnitInvulnerable2 takes unit u returns boolean
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		return RMem(LastConvertedHandle+0xE8)>0
	endif
	return false
endfunction

function GetUnitInvulnerableCounter takes unit u returns integer
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		return RMem(LastConvertedHandle+0xE8)
	endif
	return 0
endfunction

function SetUnitInvulnerableCounter takes unit u, integer i returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		call WMem(LastConvertedHandle+0xE8,i)
	endif
endfunction

function ModifyInvulnerableCounter takes unit u, integer diff returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		call WMem(LastConvertedHandle+0xE8,RMem(LastConvertedHandle+0xE8)+diff)
	endif
endfunction

function GetUnitAbilityForAddresss takes integer pConvertedHandle, integer abilid returns integer
	local integer pAddr1 = pConvertedHandle + 0x1DC
	local integer pAddr2 = pConvertedHandle + 0x1E0
	local integer pOff1 = 0
	set pAddr1 = RMem(pAddr1)
	set pAddr2 = RMem(pAddr2)
	if pAddr1 == 0 or pAddr2 == 0 or (pAddr1==-1 and  pAddr2==-1) then
		return 0
	endif
	set pOff1 = GetSomeAddressForAbility(pAddr1,pAddr2)
	loop
		exitwhen pOff1 <= 0
		if RMem(pOff1+0x34) == abilid then 
			return pOff1
		endif
		set pOff1 = GetSomeAddressForAbility(RMem(pOff1+0x24), RMem(pOff1+0x28))
	endloop
	return pOff1
endfunction

function PrintAllUnitAbilities takes integer pConvertedHandle returns nothing
	local integer pAddr1 = pConvertedHandle + 476
	local integer pAddr2 = pConvertedHandle + 480
	local integer pOff1 = 0
	set pAddr1 = RMem(pAddr1)
	set pAddr2 = RMem(pAddr2)
	if pAddr1 == 0 or pAddr2 == 0 or BitwiseAnd(pAddr1,pAddr2) == -1 then
		return 
	endif
	set pOff1 = GetSomeAddressForAbility(pAddr1,pAddr2)
	if pOff1 == 0 then 
		return
	endif
	loop
		exitwhen pOff1 == 0 
		call DisplayTimedTextToPlayer(LocalPlayer,0.0,0.0,40,"Address:"+Int2Hex(pOff1)+". ID:"+Id2String(RMem(pOff1+52))+" name: "+GetObjectName(RMem(pOff1+52)))
		set pOff1 = GetSomeAddressForAbility( RMem(pOff1+36), RMem(pOff1+40))
	endloop
endfunction

function GetAllUnitAbilities takes unit u returns nothing
	local integer pConvertedHandle=ConvertHandle(u)
	local integer pAddr1
	local integer pAddr2
	local integer i=0
	local integer h=GetHandleId(u)
	local integer pOff1 = 0
	local integer id
	call FlushChildHashtable(TempHash,h)
	if pConvertedHandle < 1 then
		return
	endif
	set pAddr1 = pConvertedHandle + 0x1DC
	set pAddr2 = pConvertedHandle + 0x1E0
	set pAddr1 = RMem(pAddr1)
	set pAddr2 = RMem(pAddr2)
	if (pAddr1==-1 and pAddr2==-1) or pAddr1 == 0 or pAddr2 == 0 then
		return 
	endif
	set pOff1 = GetSomeAddressForAbility(pAddr1,pAddr2)
	loop
		exitwhen pOff1 <= 0
		set id=RMem(pOff1+0x34)
		if id!='Amov' and id!='AHer' and id!='Aatk' and id!='AInv' then
			call SaveInteger(TempHash,h,i,pOff1)
			call SaveInteger(TempHash,h+1,i,RMem(pOff1+0x34))
			set i=i+1
		endif
		set pOff1 = GetSomeAddressForAbility( RMem(pOff1+36), RMem(pOff1+40))
	endloop
	call SaveInteger(TempHash,'abil',0,i)
endfunction

function GetAllUnitAbilitiesWithCallback takes unit u, string callback returns nothing
	local integer pConvertedHandle=ConvertHandle(u)
	local integer pAddr1
	local integer pAddr2
	local integer i=0
	local integer h=GetHandleId(u)
	local integer pOff1 = 0
	local integer id
	if pConvertedHandle < 1 then
		return
	endif
	set pAddr1 = pConvertedHandle + 0x1DC
	set pAddr2 = pConvertedHandle + 0x1E0
	set pAddr1 = RMem(pAddr1)
	set pAddr2 = RMem(pAddr2)
	if (pAddr1==-1 and pAddr2==-1) or pAddr1 == 0 or pAddr2 == 0 then
		return 
	endif
	set pOff1 = GetSomeAddressForAbility(pAddr1,pAddr2)
	loop
		exitwhen pOff1 <= 0
		set id=RMem(pOff1+0x34)
		if id!='Amov' and id!='AHer' and id!='Aatk' and id!='AInv' then
			set tt_int1=pOff1
			call ExecuteFunc(callback)
		endif
		set pOff1 = GetSomeAddressForAbility( RMem(pOff1+36), RMem(pOff1+40))
	endloop
endfunction

function CallFastCallWith1Args takes integer pFuncFastcallAddr, integer arg1 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_FASTCALL1ARG_INDEX] then
		set Memory[pCallFastCallWith1Args/4]=0xB9F68B56
		set Memory[pCallFastCallWith1Args/4+2]=0xBEF68B90
		set Memory[pCallFastCallWith1Args/4+4]=0xC35ED6FF
		set ByteFuncHasBeenInitialized[INITDATA_FASTCALL1ARG_INDEX]=true
	endif
	set Memory[pCallFastCallWith1Args/4+1]=arg1
	set Memory[pCallFastCallWith1Args/4+3]=pFuncFastcallAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallFastCallWith1Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallFastCallWith1Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallFastCallWith2Args takes integer pFuncFastcallAddr, integer arg1, integer arg2 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_FASTCALL2ARG_INDEX] then
		set Memory[pCallFastCallWith2Args/4]=0xBAF68B56
		set Memory[pCallFastCallWith2Args/4+2]=0xB9F68B90
		set Memory[pCallFastCallWith2Args/4+4]=0xBEF68B90
		set Memory[pCallFastCallWith2Args/4+6]=0xC35ED6FF
		set ByteFuncHasBeenInitialized[INITDATA_FASTCALL2ARG_INDEX]=true
	endif
	set Memory[pCallFastCallWith2Args/4+1]=arg2
	set Memory[pCallFastCallWith2Args/4+3]=arg1
	set Memory[pCallFastCallWith2Args/4+5]=pFuncFastcallAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallFastCallWith2Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallFastCallWith2Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallFastCallWith3Args takes integer pFuncFastcallAddr, integer arg1, integer arg2, integer arg3 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_FASTCALL3ARG_INDEX] then
		set Memory[pCallFastCallWith3Args/4]=0x68F68B56
		set Memory[pCallFastCallWith3Args/4+2]=0xBAF68B90
		set Memory[pCallFastCallWith3Args/4+4]=0xB9F68B90
		set Memory[pCallFastCallWith3Args/4+6]=0xBEF68B90
		set Memory[pCallFastCallWith3Args/4+8]=0xC35ED6FF
		set ByteFuncHasBeenInitialized[INITDATA_FASTCALL3ARG_INDEX]=true
	endif
	set Memory[pCallFastCallWith3Args/4+1]=arg3
	set Memory[pCallFastCallWith3Args/4+3]=arg2
	set Memory[pCallFastCallWith3Args/4+5]=arg1
	set Memory[pCallFastCallWith3Args/4+7]=pFuncFastcallAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallFastCallWith3Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallFastCallWith3Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function FUCKINGCallWith4Args takes integer pFuncFastcallAddr, integer arg1, integer arg2, integer arg3 , integer arg4 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_FUCKINGCALL4ARG_INDEX] then
		set Memory[pFUCKINGCallWith4Args/4]=0x68F68B56
		set Memory[pFUCKINGCallWith4Args/4+2]=0x68F68B90
		set Memory[pFUCKINGCallWith4Args/4+4]=0xB8F68B90
		set Memory[pFUCKINGCallWith4Args/4+6]=0xBFF68B90
		set Memory[pFUCKINGCallWith4Args/4+8]=0xBEF68B90
		set Memory[pFUCKINGCallWith4Args/4+10]=0xC35ED6FF
		set ByteFuncHasBeenInitialized[INITDATA_FUCKINGCALL4ARG_INDEX]=true
	endif
	set Memory[pFUCKINGCallWith4Args/4+1]=arg4
	set Memory[pFUCKINGCallWith4Args/4+3]=arg3
	set Memory[pFUCKINGCallWith4Args/4+5]=arg2
	set Memory[pFUCKINGCallWith4Args/4+7]=arg1
	set Memory[pFUCKINGCallWith4Args/4+9]=pFuncFastcallAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pFUCKINGCallWith4Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pFUCKINGCallWith4Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallFastCallWith4Args takes integer pFuncFastcallAddr, integer arg1, integer arg2, integer arg3 , integer arg4 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_FASTCALL4ARG_INDEX] then
		set Memory[pCallFastCallWith4Args/4]=0x68F68B56
		set Memory[pCallFastCallWith4Args/4+2]=0x68F68B90
		set Memory[pCallFastCallWith4Args/4+4]=0xBAF68B90
		set Memory[pCallFastCallWith4Args/4+6]=0xB9F68B90
		set Memory[pCallFastCallWith4Args/4+8]=0xBEF68B90
		set Memory[pCallFastCallWith4Args/4+10]=0xC35ED6FF
		set ByteFuncHasBeenInitialized[INITDATA_FASTCALL4ARG_INDEX]=true
	endif
	set Memory[pCallFastCallWith4Args/4+1]=arg4
	set Memory[pCallFastCallWith4Args/4+3]=arg3
	set Memory[pCallFastCallWith4Args/4+5]=arg2
	set Memory[pCallFastCallWith4Args/4+7]=arg1
	set Memory[pCallFastCallWith4Args/4+9]=pFuncFastcallAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallFastCallWith4Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallFastCallWith4Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallFastCallWith5Args takes integer pFuncFastcallAddr, integer arg1, integer arg2, integer arg3 , integer arg4, integer arg5 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_FASTCALL5ARG_INDEX] then
		set Memory[pCallFastCallWith5Args/4]=0x68F68B56
		set Memory[pCallFastCallWith5Args/4+2]=0x68F68B90
		set Memory[pCallFastCallWith5Args/4+4]=0x68F68B90
		set Memory[pCallFastCallWith5Args/4+6]=0xBAF68B90
		set Memory[pCallFastCallWith5Args/4+8]=0xB9F68B90
		set Memory[pCallFastCallWith5Args/4+10]=0xBEF68B90
		set Memory[pCallFastCallWith5Args/4+12]=0xC35ED6FF
		set ByteFuncHasBeenInitialized[INITDATA_FASTCALL5ARG_INDEX]=true
	endif
	set Memory[pCallFastCallWith5Args/4+1]=arg5
	set Memory[pCallFastCallWith5Args/4+3]=arg4
	set Memory[pCallFastCallWith5Args/4+5]=arg3
	set Memory[pCallFastCallWith5Args/4+7]=arg2
	set Memory[pCallFastCallWith5Args/4+9]=arg1
	set Memory[pCallFastCallWith5Args/4+11]=pFuncFastcallAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallFastCallWith5Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallFastCallWith5Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallFastCallWith6Args takes integer pFuncFastcallAddr, integer arg1, integer arg2, integer arg3 , integer arg4, integer arg5, integer arg6 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_FASTCALL6ARG_INDEX] then
		set Memory[pCallFastCallWith6Args/4]=0x68F68B56
		set Memory[pCallFastCallWith6Args/4+2]=0x68F68B90
		set Memory[pCallFastCallWith6Args/4+4]=0x68F68B90
		set Memory[pCallFastCallWith6Args/4+6]=0x68F68B90
		set Memory[pCallFastCallWith6Args/4+8]=0xBAF68B90
		set Memory[pCallFastCallWith6Args/4+10]=0xB9F68B90
		set Memory[pCallFastCallWith6Args/4+12]=0xBEF68B90
		set Memory[pCallFastCallWith6Args/4+14]=0xC35ED6FF
		set ByteFuncHasBeenInitialized[INITDATA_FASTCALL6ARG_INDEX]=true
	endif
	set Memory[pCallFastCallWith6Args/4+1]=arg6
	set Memory[pCallFastCallWith6Args/4+3]=arg5
	set Memory[pCallFastCallWith6Args/4+5]=arg4
	set Memory[pCallFastCallWith6Args/4+7]=arg3
	set Memory[pCallFastCallWith6Args/4+9]=arg2
	set Memory[pCallFastCallWith6Args/4+11]=arg1
	set Memory[pCallFastCallWith6Args/4+13]=pFuncFastcallAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallFastCallWith6Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallFastCallWith6Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallFastCallWith7Args takes integer pFuncFastcallAddr, integer arg1, integer arg2, integer arg3 , integer arg4, integer arg5, integer arg6, integer arg7 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_FASTCALL7ARG_INDEX] then
		set Memory[pCallFastCallWith7Args/4]=0x68F68B56
		set Memory[pCallFastCallWith7Args/4+2]=0x68F68B90
		set Memory[pCallFastCallWith7Args/4+4]=0x68F68B90
		set Memory[pCallFastCallWith7Args/4+6]=0x68F68B90
		set Memory[pCallFastCallWith7Args/4+8]=0x68F68B90
		set Memory[pCallFastCallWith7Args/4+10]=0xBAF68B90
		set Memory[pCallFastCallWith7Args/4+12]=0xB9F68B90
		set Memory[pCallFastCallWith7Args/4+14]=0xBEF68B90
		set Memory[pCallFastCallWith7Args/4+16]=0xC35ED6FF
		set ByteFuncHasBeenInitialized[INITDATA_FASTCALL7ARG_INDEX]=true
	endif
	set Memory[pCallFastCallWith7Args/4+1]=arg7
	set Memory[pCallFastCallWith7Args/4+3]=arg6
	set Memory[pCallFastCallWith7Args/4+5]=arg5
	set Memory[pCallFastCallWith7Args/4+7]=arg4
	set Memory[pCallFastCallWith7Args/4+9]=arg3
	set Memory[pCallFastCallWith7Args/4+11]=arg2
	set Memory[pCallFastCallWith7Args/4+13]=arg1
	set Memory[pCallFastCallWith7Args/4+15]=pFuncFastcallAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallFastCallWith7Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallFastCallWith7Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallFastCallWith8Args takes integer pFuncFastcallAddr, integer arg1, integer arg2, integer arg3 , integer arg4, integer arg5, integer arg6, integer arg7, integer arg8 returns integer
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_FASTCALL8ARG_INDEX] then
		set Memory[pCallFastCallWith8Args/4]=0x68F68B56
		set Memory[pCallFastCallWith8Args/4+2]=0x68F68B90
		set Memory[pCallFastCallWith8Args/4+4]=0x68F68B90
		set Memory[pCallFastCallWith8Args/4+6]=0x68F68B90
		set Memory[pCallFastCallWith8Args/4+8]=0x68F68B90
		set Memory[pCallFastCallWith8Args/4+10]=0x68F68B90
		set Memory[pCallFastCallWith8Args/4+12]=0xBAF68B90
		set Memory[pCallFastCallWith8Args/4+14]=0xB9F68B90
		set Memory[pCallFastCallWith8Args/4+16]=0xBEF68B90
		set Memory[pCallFastCallWith8Args/4+18]=0xC35ED6FF
		set ByteFuncHasBeenInitialized[INITDATA_FASTCALL8ARG_INDEX]=true
	endif
	set Memory[pCallFastCallWith8Args/4+1]=arg8
	set Memory[pCallFastCallWith8Args/4+3]=arg7
	set Memory[pCallFastCallWith8Args/4+5]=arg6
	set Memory[pCallFastCallWith8Args/4+7]=arg5
	set Memory[pCallFastCallWith8Args/4+9]=arg4
	set Memory[pCallFastCallWith8Args/4+11]=arg3
	set Memory[pCallFastCallWith8Args/4+13]=arg2
	set Memory[pCallFastCallWith8Args/4+15]=arg1
	set Memory[pCallFastCallWith8Args/4+17]=pFuncFastcallAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallFastCallWith8Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallFastCallWith8Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallFastCallWith11Args takes integer pFuncFastcallAddr, integer arg1, integer arg2, integer arg3 , integer arg4, integer arg5, integer arg6, integer arg7, integer arg8, integer arg9, integer arg10, integer arg11 returns integer
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_FASTCALL11ARG_INDEX] then
		set Memory[pCallFastCallWith11Args/4]=0x68F68B56
		set Memory[pCallFastCallWith11Args/4+2]=0x68F68B90
		set Memory[pCallFastCallWith11Args/4+4]=0x68F68B90
		set Memory[pCallFastCallWith11Args/4+6]=0x68F68B90
		set Memory[pCallFastCallWith11Args/4+8]=0x68F68B90
		set Memory[pCallFastCallWith11Args/4+10]=0x68F68B90
		set Memory[pCallFastCallWith11Args/4+12]=0x68F68B90
		set Memory[pCallFastCallWith11Args/4+14]=0x68F68B90
		set Memory[pCallFastCallWith11Args/4+16]=0x68F68B90
		set Memory[pCallFastCallWith11Args/4+18]=0xBAF68B90
		set Memory[pCallFastCallWith11Args/4+20]=0xB9F68B90
		set Memory[pCallFastCallWith11Args/4+22]=0xBEF68B90
		set Memory[pCallFastCallWith11Args/4+24]=0xC35ED6FF
		set ByteFuncHasBeenInitialized[INITDATA_FASTCALL11ARG_INDEX]=true
	endif
	set Memory[pCallFastCallWith11Args/4+1]=arg11
	set Memory[pCallFastCallWith11Args/4+3]=arg10
	set Memory[pCallFastCallWith11Args/4+5]=arg9
	set Memory[pCallFastCallWith11Args/4+7]=arg8
	set Memory[pCallFastCallWith11Args/4+9]=arg7
	set Memory[pCallFastCallWith11Args/4+11]=arg6
	set Memory[pCallFastCallWith11Args/4+13]=arg5
	set Memory[pCallFastCallWith11Args/4+15]=arg4
	set Memory[pCallFastCallWith11Args/4+17]=arg3
	set Memory[pCallFastCallWith11Args/4+19]=arg2
	set Memory[pCallFastCallWith11Args/4+21]=arg1
	set Memory[pCallFastCallWith11Args/4+23]=pFuncFastcallAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallFastCallWith11Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallFastCallWith11Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallFastCallWith12Args takes integer pFuncFastcallAddr, integer arg1, integer arg2, integer arg3 , integer arg4, integer arg5, integer arg6, integer arg7, integer arg8, integer arg9, integer arg10, integer arg11, integer arg12 returns integer
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_FASTCALL12ARG_INDEX] then
		set Memory[pCallFastCallWith12Args/4]=0x68F68B56
		set Memory[pCallFastCallWith12Args/4+2]=0x68F68B90
		set Memory[pCallFastCallWith12Args/4+4]=0x68F68B90
		set Memory[pCallFastCallWith12Args/4+6]=0x68F68B90
		set Memory[pCallFastCallWith12Args/4+8]=0x68F68B90
		set Memory[pCallFastCallWith12Args/4+10]=0x68F68B90
		set Memory[pCallFastCallWith12Args/4+12]=0x68F68B90
		set Memory[pCallFastCallWith12Args/4+14]=0x68F68B90
		set Memory[pCallFastCallWith12Args/4+16]=0x68F68B90
		set Memory[pCallFastCallWith12Args/4+18]=0x68F68B90
		set Memory[pCallFastCallWith12Args/4+20]=0xBAF68B90
		set Memory[pCallFastCallWith12Args/4+22]=0xB9F68B90
		set Memory[pCallFastCallWith12Args/4+24]=0xBEF68B90
		set Memory[pCallFastCallWith12Args/4+26]=0xC35ED6FF
		set ByteFuncHasBeenInitialized[INITDATA_FASTCALL12ARG_INDEX]=true
	endif
	set Memory[pCallFastCallWith12Args/4+1]=arg11
	set Memory[pCallFastCallWith12Args/4+3]=arg11
	set Memory[pCallFastCallWith12Args/4+5]=arg10
	set Memory[pCallFastCallWith12Args/4+7]=arg9
	set Memory[pCallFastCallWith12Args/4+9]=arg8
	set Memory[pCallFastCallWith12Args/4+11]=arg7
	set Memory[pCallFastCallWith12Args/4+13]=arg6
	set Memory[pCallFastCallWith12Args/4+15]=arg5
	set Memory[pCallFastCallWith12Args/4+17]=arg4
	set Memory[pCallFastCallWith12Args/4+19]=arg3
	set Memory[pCallFastCallWith12Args/4+21]=arg2
	set Memory[pCallFastCallWith12Args/4+23]=arg1
	set Memory[pCallFastCallWith12Args/4+25]=pFuncFastcallAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallFastCallWith12Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallFastCallWith12Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallThisCallWith1Args takes integer pFuncThiscallAddr, integer arg1 returns integer 
	return CallFastCallWith2Args(pFuncThiscallAddr,arg1,0)
endfunction

function CallThisCallWith2Args takes integer pFuncThiscallAddr, integer arg1, integer arg2 returns integer 
	return CallFastCallWith3Args(pFuncThiscallAddr,arg1,0,arg2)
endfunction

function CallThisCallWith3Args takes integer pFuncThiscallAddr, integer arg1, integer arg2, integer arg3 returns integer 
	return CallFastCallWith4Args(pFuncThiscallAddr,arg1,0,arg2,arg3)
endfunction

function CallThisCallWith4Args takes integer pFuncThiscallAddr, integer arg1, integer arg2, integer arg3, integer arg4 returns integer 
	return CallFastCallWith5Args(pFuncThiscallAddr,arg1,0,arg2,arg3,arg4)
endfunction

function CallThisCallWith5Args takes integer pFuncThiscallAddr, integer arg1, integer arg2, integer arg3, integer arg4, integer arg5 returns integer 
	return CallFastCallWith6Args(pFuncThiscallAddr,arg1,0,arg2,arg3,arg4,arg5)
endfunction

function CallThisCallWith6Args takes integer pFuncThiscallAddr, integer arg1, integer arg2, integer arg3, integer arg4, integer arg5, integer arg6 returns integer 
	return CallFastCallWith7Args(pFuncThiscallAddr,arg1,0,arg2,arg3,arg4,arg5,arg6)
endfunction

function CallThisCallWith7Args takes integer pFuncThiscallAddr, integer arg1, integer arg2, integer arg3, integer arg4, integer arg5, integer arg6, integer arg7 returns integer 
	return CallFastCallWith8Args(pFuncThiscallAddr,arg1,0,arg2,arg3,arg4,arg5,arg6,arg7)
endfunction

function CallThisCallWith10Args takes integer pFuncThiscallAddr, integer arg1, integer arg2, integer arg3, integer arg4, integer arg5, integer arg6, integer arg7, integer arg8, integer arg9, integer arg10 returns integer 
	return CallFastCallWith11Args(pFuncThiscallAddr,arg1,0,arg2,arg3,arg4,arg5,arg6,arg7,arg8,arg9,arg10)
endfunction

function CallThisCallWith11Args takes integer pFuncThiscallAddr, integer arg1, integer arg2, integer arg3, integer arg4, integer arg5, integer arg6, integer arg7, integer arg8, integer arg9, integer arg10, integer arg11 returns integer 
	return CallFastCallWith12Args(pFuncThiscallAddr,arg1,0,arg2,arg3,arg4,arg5,arg6,arg7,arg8,arg9,arg10,arg11)
endfunction

function GetUnitAbilityReal takes integer UnitAddress, integer AbilCode, integer unk1, integer unk2, integer unk3, integer unk4 returns integer 
	return CallThisCallWith6Args(pGetUnitAbility,UnitAddress,AbilCode,unk1,unk2, unk3, unk4)
endfunction

function GetUnitAddress takes unit u returns integer 
	return CallThisCallWith1Args(pGetUnitAddress, GetHandleId(u))
endfunction

function GetUnitAbility takes unit u, integer abilid returns integer
	local integer a
	if u==null or abilid < 1 or GetUnitAbilityLevel(u,abilid)==0 then
		return 0
	endif
	set a=ConvertHandle(u)
	if a>1 then
		return CallThisCallWith6Args(pGetUnitAbility,a,abilid,0, 1, 1, 1)
	endif
	return 0
endfunction

function GetUnitAbilityByBase takes unit u, integer abilid returns integer
	local integer a
	if u==null or abilid < 1 then
		return 0
	endif
	set a=ConvertHandle(u)
	if a>1 then
		return CallThisCallWith6Args(pGetUnitAbility,a,abilid,0, 0, 1, 1)
	endif
	return 0
endfunction

function GetUnitAbilityByAddress takes integer u, integer abilid returns integer
	return CallThisCallWith6Args(pGetUnitAbility,u,abilid,0, 1, 1, 1)
endfunction

function ShowAbilityById_Main takes integer ConvertedHandle, integer d returns nothing
	if ConvertedHandle>0 and RMem(ConvertedHandle)>0 then
		call WMem(ConvertedHandle + 0x40,RMem(ConvertedHandle + 0x40)+d)
	endif
endfunction

function HideAbilityButton takes unit u, integer id, boolean hide returns nothing
	local integer offset
	if u!=null and id!=0 then
		set offset=GetUnitAbility(u,id)
		if offset!=0 then
			if hide then
				call ShowAbilityById_Main(offset,1)
			else
				call ShowAbilityById_Main(offset,-1)
			endif
		endif
	endif
endfunction

function GetSpellCastpoint takes ability a returns real
	local integer aa=ConvertHandle(a)
	if aa>0 then
		return mI2R(RMem(aa+0x8C))
	endif
	return 0.
endfunction

function SetSpellCastpoint takes ability a, real dur returns nothing
	local integer aa=ConvertHandle(a)
	if aa>0 then
		call WMem(aa+0x8C,mR2I(dur))
	endif
endfunction

function GetSpellBackswing takes ability a returns real
	local integer aa=ConvertHandle(a)
	if aa>0 then
		return mI2R(RMem(aa+0x94))
	endif
	return 0.
endfunction

function SetSpellBackswing takes ability a, real dur returns nothing
	local integer aa=ConvertHandle(a)
	if aa>0 then
		call WMem(aa+0x94,mR2I(dur))
	endif
endfunction

function GetAbilityOrderID takes integer pAbility returns integer
	local integer pOffset2
	local integer ord
	if pAbility<1 then
		return 0
	endif
	if RMem(pAbility+0x6C)==852290 then
		set ord=CallThisCallWith1Args(RMem(RMem(pAbility)+0x308),pAbility)
		if ord==ORDER_bloodluston then
			return ORDER_bloodlust
		elseif ord==ORDER_autodispelon then
			return ORDER_autodispel
		elseif ord==ORDER_barkskinon then
			return ORDER_barkskin
		elseif ord==ORDER_blackarrowon then
			return ORDER_blackarrow
		elseif ord==ORDER_blackarrowon then
			return ORDER_blackarrow
		elseif ord==ORDER_carrionscarabson then
			return ORDER_carrionscarabs
		elseif ord==ORDER_creephealon then
			return ORDER_creepheal
		elseif ord==ORDER_curseon then
			return ORDER_curse
		elseif ord==ORDER_ensnareon then
			return ORDER_ensnare
		elseif ord==ORDER_faeriefireon then
			return ORDER_faeriefire
		elseif ord==ORDER_frenzyon then
			return ORDER_frenzy
		elseif ord==ORDER_frostarmoron then
			return ORDER_frostarmor
		elseif ord==ORDER_healon then
			return ORDER_heal
		elseif ord==ORDER_incineratearrowon then
			return ORDER_incineratearrow
		elseif ord==ORDER_innerfireon then
			return ORDER_innerfire
		elseif ord==ORDER_parasiteon then
			return ORDER_parasite
		elseif ord==ORDER_phaseshifton then
			return ORDER_phaseshift
		elseif ord==ORDER_raisedeadon then
			return ORDER_raisedead
		elseif ord==ORDER_rechargeon then
			return ORDER_recharge
		elseif ord==ORDER_renewon then
			return ORDER_renew
		elseif ord==ORDER_repairon then
			return ORDER_repair
		elseif ord==ORDER_replenishon then
			return ORDER_replenish
		elseif ord==ORDER_restorationon then
			return ORDER_restoration
		elseif ord==ORDER_selfdestructon then
			return ORDER_selfdestruct
		elseif ord==ORDER_slowon then
			return ORDER_slow
		elseif ord==ORDER_spellstealon then
			return ORDER_spellsteal
		elseif ord==ORDER_vengeanceon then
			return ORDER_vengeance
		elseif ord==ORDER_webon then
			return ORDER_web
		endif
		return ord
	endif
	return 0
endfunction

function GetAbilityOrderIdAny takes integer a returns integer
	local integer id=RMem(a+0x34)
	local integer base
	local integer ord=0
	if HaveSavedInteger(AbilitiesHashtable,id,'ordr') then
		return LoadInteger(AbilitiesHashtable,id,'ordr')
	endif
	if RMem(a+0x6C)==852290 then
		set base=RMem(a+0x54)
		if base !=0 then
			set base=RMem(base+0x30)
			if base>0 then
				if base=='ANcl' then
					set ord=RMem(a+0x124)
				else
					set ord=GetAbilityOrderID(a)
				endif
			endif
		endif
	endif
	call SaveInteger(AbilitiesHashtable,id,'ordr',ord)
	return ord
endfunction

function ToggleAbilityAutocast takes integer address, boolean on returns nothing
	local integer flags
	local integer flag128=0
	local integer flag524288=0
	if address>0 then
		set flags=RMem(address+0x20)
		if not IsFlagBitSet(flags,0x80) then
			set flag128=0x80
		endif
		if not IsFlagBitSet(flags,0x80000) then
			set flag524288=0x80000
		endif
		if on and flag128>0 then
			set flags=flags+flag128
		elseif on==false and flag128==0 then
			set flags=flags-0x80
		endif
		if on and flag524288>0 then
			set flags=flags+flag524288
		elseif on==false and flag524288==0 then
			set flags=flags-0x80000
		endif
		call WMem(address+0x20,flags)
	endif
endfunction

function SetUnitAbiltyAutocast takes unit u, integer id, boolean on returns nothing
	call ToggleAbilityAutocast(GetUnitAbility(u,id),on)
endfunction

function GetUnitAttackOffsetValue takes unit u, integer offset returns integer
	set LastConvertedHandle=GetUnitAttackAbility(u)
	if LastConvertedHandle>0 then
		return RMem(LastConvertedHandle+offset)
	endif
	return 0
endfunction

function SetUnitAttackOffsetValue takes unit u, integer offset, integer val returns nothing
	set LastConvertedHandle=GetUnitAttackAbility(u)
	if LastConvertedHandle>0 then
		call WMem(LastConvertedHandle+offset,val)
	endif
endfunction

function SetUnitAttackType takes unit u, integer i, integer attacknum returns nothing
	call SetUnitAttackOffsetValue(u,0xF4 + 4*attacknum,i)
endfunction

function SetUnitAttackType1 takes unit u, integer i returns nothing
	call SetUnitAttackType(u,i,0)
endfunction

function SetUnitAttackType2 takes unit u, integer i returns nothing
	call SetUnitAttackType(u,i,1)
endfunction

function GetUnitAttackTypeByIndex takes unit u, integer index returns integer
	if index==0 or index==1 then
		return GetUnitAttackOffsetValue(u,0xF4 + 4*index)
	endif
	return -1
endfunction

function GetUnitWeaponSound takes unit u returns integer
	return GetUnitAttackOffsetValue(u,0xE8)
endfunction

function SetUnitWeaponType takes unit u, integer i returns nothing
	call SetUnitAttackOffsetValue(u,0xDC,i)
endfunction

function GetUnitWeaponType takes unit u returns integer
	return GetUnitAttackOffsetValue(u,0xDC)
endfunction

function SetUnitCurrentBonusDamage takes unit u, integer i returns nothing
	call SetUnitAttackOffsetValue(u,0xAC,i)
endfunction

function GetUnitCurrentBonusDamage takes unit u returns integer
	return GetUnitAttackOffsetValue(u,0xAC)
endfunction

function AddUnitGreenBonusDamage takes unit u, integer i returns nothing
	call SetUnitCurrentBonusDamage(u,GetUnitCurrentBonusDamage(u)+i)
endfunction

function SetUnitBaseDamage takes unit u, integer i returns nothing
	call SetUnitAttackOffsetValue(u,0xA0,i)
endfunction

function GetUnitBaseDamage takes unit u returns integer
	return GetUnitAttackOffsetValue(u,0xA0)
endfunction

function AddUnitBaseDamage takes unit u, integer bonus returns nothing
	call SetUnitBaseDamage(u,GetUnitBaseDamage(u)+bonus)
endfunction

function SetUnitBaseAttributeDamage takes unit u, integer i returns nothing
	call SetUnitAttackOffsetValue(u,0xA4,i)
endfunction

function GetUnitBaseAttributeDamage takes unit u returns integer
	return GetUnitAttackOffsetValue(u,0xA4)
endfunction

function SetUnitDamageDicesSideCount takes unit u, integer i returns nothing
	call SetUnitAttackOffsetValue(u,0x94,i)
endfunction

function GetUnitDamageDicesSideCount takes unit u returns integer
	return GetUnitAttackOffsetValue(u,0x94)
endfunction

function SetUnitDamageDicesCount takes unit u, integer i returns nothing
	call SetUnitAttackOffsetValue(u,0x88,i)
endfunction

function GetUnitDamageDicesCount takes unit u returns integer
	return GetUnitAttackOffsetValue(u,0x88)
endfunction

function SetUnitAttackRange1 takes unit u, real r returns nothing
	call SetUnitAttackOffsetValue(u,0x258,mR2I(r))
endfunction

function GetUnitAttackRange1 takes unit u returns real
	return mI2R(GetUnitAttackOffsetValue(u,0x258))
endfunction

function SetUnitAttackRangeByIndex takes unit u, integer index, real r returns nothing
	if index==1 or index==0 then
		call SetUnitAttackOffsetValue(u,0x258+0x24*index,mR2I(r))
	endif
endfunction

function GetUnitAttackRangeByIndex takes unit u, integer index returns real
	if index==1 or index==0 then
		return mI2R(GetUnitAttackOffsetValue(u,0x258+0x24*index))
	endif
	return 0.
endfunction

function SetUnitBATByIndex takes unit u, integer index, real r returns nothing
	if index==1 or index==0 then
		call SetUnitAttackOffsetValue(u,0x158 + 8*index, mR2I(r))
	endif
endfunction

function GetUnitBATByIndex takes unit u, integer index returns real
	if index==1 or index==0 then
		return mI2R(GetUnitAttackOffsetValue(u,0x158 + 8*index))
	endif
	return 0.
endfunction

function SetUnitAttackPoint1 takes unit u, real r returns nothing
	call SetUnitAttackOffsetValue(u,0x16C, mR2I(r))
endfunction

function SetUnitAttackPoint2 takes unit u, real r returns nothing
	call SetUnitAttackOffsetValue(u,0x17C, mR2I(r))
endfunction

function GetUnitAttackPoint1 takes unit u returns real
	return mI2R(GetUnitAttackOffsetValue(u,0x16C))
endfunction

function GetUnitAttackPoint2 takes unit u returns real
	return mI2R(GetUnitAttackOffsetValue(u,0x17C))
endfunction

function GetUnitAttackEnabledIndex takes unit u returns integer
	return GetUnitAttackOffsetValue(u,0x104)
endfunction

function SetUnitAttackBackswing takes unit u, real r returns nothing
	call SetUnitAttackOffsetValue(u,0x190, mR2I(r))
endfunction

function GetUnitAttackBackswing takes unit u returns real
	return mI2R(GetUnitAttackOffsetValue(u,0x190))
endfunction

function SetUnitAttackSpeed takes unit u, real r returns nothing
	call SetUnitAttackOffsetValue(u,0x1B0, mR2I(r))
endfunction

function GetUnitAttackSpeed takes unit u returns real
	return mI2R(GetUnitAttackOffsetValue(u,0x1B0))
endfunction

function AddUnitAttackSpeed takes unit u, real r returns nothing
	call SetUnitAttackSpeed(u,GetUnitAttackSpeed(u)+r)
endfunction

function GetUnitAddressFloatsRelated takes integer pConvertedHandle, integer step returns integer
	local integer pOffset1 = pConvertedHandle + step
	local integer pOffset2
	if pConvertedHandle>0 then
		set pOffset2 = RMem(pGameClass1)
		set pOffset1 = RMem(pOffset1)
		set pOffset2 = RMem(pOffset2+0xC)
		set pOffset2 = RMem(( pOffset1 * 8 ) + pOffset2 + 4)
		return pOffset2
	endif
	return 0
endfunction

function SetUnitFacingInstant takes unit u, real a returns nothing
	local integer pOffset2 = GetUnitAddressFloatsRelated(ConvertHandle(u),0xA0)
	if pOffset2>0 then
		set pOffset2=RMem(pOffset2+0x28)
		if pOffset2>0 then
			call WMem(pOffset2+0xA4,mR2I(bj_DEGTORAD*a))
		endif
	endif
endfunction

function SetUnitMaxHP4Address takes integer pConvertedHandle, real newhp returns nothing
	local integer pOffset2 = GetUnitAddressFloatsRelated(pConvertedHandle,0xA0)
	if pOffset2>0 then
		call WMem(pOffset2+0x84,mR2I(newhp))
	endif
endfunction

function SetUnitMaxMP4Address takes integer pConvertedHandle, real newmp returns nothing
	local integer pOffset2 = GetUnitAddressFloatsRelated(pConvertedHandle,0xC0)
	if pOffset2>0 then
		call WMem(pOffset2+0x84,mR2I(newmp))
	endif
endfunction

function SetUnitMaxHP takes unit u, real newhp returns nothing
	call SetUnitMaxHP4Address(ConvertHandle(u),newhp)
endfunction

function AddUnitMaxHP takes unit u, real bonus returns nothing
	call SetUnitMaxHP4Address(ConvertHandle(u),GetUnitState(u,UNIT_STATE_MAX_LIFE)+bonus)
endfunction

function SetUnitMaxMP takes unit u, real newmp returns nothing
	call SetUnitMaxMP4Address(ConvertHandle(u),newmp)
endfunction

function AddUnitMaxMP takes unit u, real bonus returns nothing
	call SetUnitMaxMP4Address(ConvertHandle(u),GetUnitState(u,UNIT_STATE_MAX_MANA)+bonus)
endfunction

function GetUnitHPRegenForAddress takes integer pConvertedHandle returns real
	local integer pOffset2 = GetUnitAddressFloatsRelated(pConvertedHandle,0xA0)
	if pOffset2>0 then
		return mI2R(RMem(pOffset2+0x7C))
	endif
	return 0.
endfunction

function SetUnitXSoft takes integer pConvertedHandle, real x returns nothing
	local integer pOffset2 = GetUnitAddressFloatsRelated(pConvertedHandle,0xA0)
	if pOffset2>0 then
		call WMem(RMem(pOffset2+0x28)+0x54,mR2I(x))
	endif
endfunction

function SetUnitHPRegenForAddress takes integer pConvertedHandle, real r returns nothing
	local integer pOffset2 = GetUnitAddressFloatsRelated(pConvertedHandle,0xA0)
	if pOffset2>0 then
		call WMem(pOffset2+0x7C,mR2I(r))
	endif
endfunction

function GetUnitMPRegenForAddress takes integer pConvertedHandle returns real
	local integer pOffset2 = GetUnitAddressFloatsRelated(pConvertedHandle,0xC0)
	if pOffset2>0 then
		return mI2R(RMem(pOffset2+0x7C))
	endif
	return 0.
endfunction

function SetUnitMPRegenForAddress takes integer pConvertedHandle, real r returns nothing
	local integer pOffset2 = GetUnitAddressFloatsRelated(pConvertedHandle,0xC0)
	if pOffset2>0 then
		call WMem(pOffset2+0x7C,mR2I(r))
	endif
endfunction

function GetUnitHPRegen takes unit u returns real
	return GetUnitHPRegenForAddress(ConvertHandle(u))
endfunction

function GetWidgetHPRegen takes widget u returns real
	return GetUnitHPRegenForAddress(ConvertHandle(u))
endfunction

function GetUnitMPRegen takes unit u returns real
	return GetUnitMPRegenForAddress(ConvertHandle(u))
endfunction

function SetUnitHPRegen takes unit u, real r returns nothing
	local real curhp=GetWidgetLife(u)
	call SetUnitHPRegenForAddress(ConvertHandle(u),r)
	call SetWidgetLife(u,curhp)
endfunction

function AddUnitHPRegen takes unit u, real r returns nothing
	local real curhp=GetWidgetLife(u)
	local integer h=ConvertHandle(u)
	call SetUnitHPRegenForAddress(h,r+GetUnitHPRegenForAddress(h))
	call SetWidgetLife(u,curhp)
endfunction

function SetUnitMPRegen takes unit u, real r returns nothing
	local real curhp=GetUnitState(u,UNIT_STATE_MANA)
	call SetUnitMPRegenForAddress(ConvertHandle(u),r)
	call SetUnitState(u,UNIT_STATE_MANA,curhp)
endfunction

function AddUnitMPRegen takes unit u, real r returns nothing
	local real curhp=GetUnitState(u,UNIT_STATE_MANA)
	local integer h=ConvertHandle(u)
	call SetUnitMPRegenForAddress(h,r+GetUnitMPRegenForAddress(h))
	call SetUnitState(u,UNIT_STATE_MANA,curhp)
endfunction

function GetSpriteDataOffsetAddressR takes integer h, integer offset returns real
	if h>0 then
		return mI2R(RMem(RMem(h + 0x28) + offset))
	endif
	return 0.
endfunction

function GetSpriteDataOffsetR takes handle e, integer offset returns real
	return GetSpriteDataOffsetAddressR(ConvertHandle(e),offset)
endfunction

function SetSpriteDataOffsetAddressR takes integer h, integer offset, real r returns nothing
	if h>0 then
		call WMem(RMem(h + 0x28) + offset, mR2I(r))
	endif
endfunction

function SetSpriteDataOffsetR takes handle e, integer offset, real r returns nothing
	call SetSpriteDataOffsetAddressR(ConvertHandle(e),offset,r)
endfunction

function SetEffectX_ForAddress takes integer pConvertedHandle, real x returns nothing
	call SetSpriteDataOffsetAddressR(pConvertedHandle,0xC0,x)
endfunction

function SetEffectX takes effect e, real x returns nothing
	call SetSpriteDataOffsetAddressR(ConvertHandle(e),0xC0,x)
endfunction

function GetEffectX_ForAddress takes integer pConvertedHandle returns real
	return GetSpriteDataOffsetAddressR(pConvertedHandle,0xC0)
endfunction

function GetEffectX takes effect e returns real
	return GetSpriteDataOffsetAddressR(ConvertHandle(e),0xC0)
endfunction

function SetEffectY_ForAddress takes integer pConvertedHandle, real y returns nothing
	call SetSpriteDataOffsetAddressR(pConvertedHandle,0xC4,y)
endfunction

function SetEffectY takes effect e, real y returns nothing
	call SetSpriteDataOffsetAddressR(ConvertHandle(e),0xC4,y)
endfunction

function GetEffectY_ForAddress takes integer pConvertedHandle returns real
	return GetSpriteDataOffsetAddressR(pConvertedHandle,0xC4)
endfunction

function GetEffectY takes effect e returns real
	return GetSpriteDataOffsetAddressR(ConvertHandle(e),0xC4)
endfunction

function SetEffectZ_ForAddress takes integer pConvertedHandle, real z returns nothing
	call SetSpriteDataOffsetAddressR(pConvertedHandle,0xC8,z)
endfunction

function SetEffectZ takes effect e, real z returns nothing
	call SetSpriteDataOffsetAddressR(ConvertHandle(e),0xC8,z)
endfunction

function GetEffectZ_ForAddress takes integer pConvertedHandle returns real
	return GetSpriteDataOffsetAddressR(pConvertedHandle,0xC8)
endfunction

function GetEffectZ takes effect e returns real
	return GetSpriteDataOffsetAddressR(ConvertHandle(e),0xC8)
endfunction

function SetEffectPosByAddress takes integer e, real x, real y, real z returns nothing
	call SetEffectX_ForAddress(e,x)
	call SetEffectY_ForAddress(e,y)
	call SetEffectZ_ForAddress(e,z)
endfunction

function SetEffectPos takes effect e, real x, real y, real z returns nothing
	local integer pConvertedHandle = ConvertHandle(e)
	call SetEffectX_ForAddress(pConvertedHandle,x)
	call SetEffectY_ForAddress(pConvertedHandle,y)
	call SetEffectZ_ForAddress(pConvertedHandle,z)
endfunction

function SetObjectColor takes handle e, integer color returns nothing
	set LastConvertedHandle=ConvertHandle(e)
	if LastConvertedHandle>0 then
		call WMem(RMem(LastConvertedHandle + 0x28) + 0x148, color)
	endif
endfunction

function SetEffectSize takes effect e, real size returns nothing
	set LastConvertedHandle=ConvertHandle(e)
	if LastConvertedHandle>0 then
		call WMem(RMem(LastConvertedHandle + 0x28) + 0xE8, mR2I(size))
	endif
endfunction

function SetObjectSize takes handle e, real size returns nothing
	set LastConvertedHandle=ConvertHandle(e)
	if LastConvertedHandle>0 then
		call WMem(RMem(LastConvertedHandle + 0x28) + 0xE8, mR2I(size))
	endif
endfunction

function GetObjectSize takes handle e returns real
	set LastConvertedHandle=ConvertHandle(e)
	if LastConvertedHandle>0 then
		return mI2R(RMem(RMem(LastConvertedHandle + 0x28) + 0xE8))
	endif
	return -1.
endfunction

function SetEffectSizeEx takes effect e, real full, real x,real y, real z returns nothing
	local integer pConvertedHandle = ConvertHandle(e)
	call WMem(RMem(pConvertedHandle + 0x28) + 0xE8, mR2I(full))
	call WMem(RMem(pConvertedHandle + 0x28) + 0x120, mR2I(x))
	call WMem(RMem(pConvertedHandle + 0x28) + 0x124, mR2I(y))
	call WMem(RMem(pConvertedHandle + 0x28) + 0x128, mR2I(z))
endfunction

function SetEffectFacing takes effect e, real angle returns nothing
	local integer pConvertedHandle = ConvertHandle(e)
	call WMem(RMem(pConvertedHandle + 0x28) + 0x108, mR2I(Cos(angle)))
	call WMem(RMem(pConvertedHandle + 0x28) + 0x10C, mR2I(Sin(angle)))
	call WMem(RMem(pConvertedHandle + 0x28) + 0x114, mR2I(-Sin(angle)))
	call WMem(RMem(pConvertedHandle + 0x28) + 0x118, mR2I(Cos(angle)))
endfunction

function GetEffectFacing takes effect e returns real
	return Acos(GetSpriteDataOffsetAddressR(ConvertHandle(e),0x108))*bj_RADTODEG
endfunction

function GetUnitFacingEx takes unit e returns real
	return Acos(GetSpriteDataOffsetAddressR(ConvertHandle(e),0x108))*bj_RADTODEG
endfunction

function GetUnitAngle1 takes unit e returns real
	return GetSpriteDataOffsetAddressR(ConvertHandle(e),0x108)
endfunction

function GetUnitAngle2 takes unit e returns real
	return GetSpriteDataOffsetAddressR(ConvertHandle(e),0x10C)
endfunction

function GetUnitAngle3 takes unit e returns real
	return GetSpriteDataOffsetAddressR(ConvertHandle(e),0x114)
endfunction

function GetUnitAngle4 takes unit e returns real
	return GetSpriteDataOffsetAddressR(ConvertHandle(e),0x118)
endfunction

function GetUnitFacingEx2 takes unit e returns real
	return Asin(GetSpriteDataOffsetAddressR(ConvertHandle(e),0x10C))*bj_RADTODEG
endfunction

function GetUnitFacingEx3 takes unit e returns real
	return Asin(-GetSpriteDataOffsetAddressR(ConvertHandle(e),0x114))*bj_RADTODEG
endfunction

function GetUnitFacingEx4 takes unit e returns real
	set LastConvertedHandle=ConvertHandle(e)
	return Atan2(GetSpriteDataOffsetAddressR(LastConvertedHandle,0x10C),GetSpriteDataOffsetAddressR(LastConvertedHandle,0x108))*bj_RADTODEG
endfunction

function GetTrackableX takes trackable t returns real
	return GetEffectX_ForAddress(ConvertHandle(t))
endfunction

function GetTrackableY takes trackable t returns real
	return GetEffectY_ForAddress(ConvertHandle(t))
endfunction

function GetTrackableZ takes trackable t returns real
	return GetEffectZ_ForAddress(ConvertHandle(t))
endfunction

function SetTrackableX takes trackable t, real r returns nothing
	call SetEffectX_ForAddress(ConvertHandle(t),r)
endfunction

function SetTrackableY takes trackable t, real r  returns nothing
	call SetEffectY_ForAddress(ConvertHandle(t),r)
endfunction

function SetTrackableZ takes trackable t, real r  returns nothing
	call SetEffectZ_ForAddress(ConvertHandle(t),r)
endfunction

function SetTrackablePos takes trackable t, real x,real y,real z returns nothing
	local integer pConvertedHandle = ConvertHandle(t)
	call SetEffectX_ForAddress(pConvertedHandle,x)
	call SetEffectY_ForAddress(pConvertedHandle,y)
	call SetEffectZ_ForAddress(pConvertedHandle,z)
endfunction

function SetTrackableFacing takes trackable t, real angle returns nothing
	local integer pConvertedHandle = ConvertHandle(t)
	local real cos=Cos(angle)
	local real sin=Sin(angle)
	call WMem(RMem(pConvertedHandle + 0x28) + 0x108, mR2I(cos))
	call WMem(RMem(pConvertedHandle + 0x28) + 0x10C, mR2I( sin ))
	call WMem(RMem(pConvertedHandle + 0x28) + 0x114, mR2I( -sin ))
	call WMem(RMem(pConvertedHandle + 0x28) + 0x118, mR2I( cos ))
endfunction

function GetTrackableFacing takes trackable t returns real
	return Acos(GetSpriteDataOffsetAddressR(ConvertHandle(t),0x108))*bj_RADTODEG
endfunction

function SetUnitVertexColorRaw takes unit u, integer color returns nothing
	local integer a=ConvertHandle(u)
	local integer b=RMem(ConvertHandle(u)+0x28)
	local integer flags=RMem(b+0x138)
	call SetObjectColor(u,color)
	if not IsFlagBitSet(flags,0x800) then
		call WMem(b+0x138,flags+0x800)
	endif
	call WMem(a+0x2D4,color)
endfunction

function ResetTimedLife takes integer pConvertedHandle, real time, real maxtime returns nothing
endfunction

function CallStdCallWith1Args takes integer pFuncStdcallAddr, integer arg1 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_STDCALL1ARG_INDEX] then
		set Memory[pCallStdcallWith1Args/4]=0x68C98B51
		set Memory[pCallStdcallWith1Args/4+2]=0xB990C98B
		set Memory[pCallStdcallWith1Args/4+4]=0xC359D1FF
		set ByteFuncHasBeenInitialized[INITDATA_STDCALL1ARG_INDEX]=true
	endif
	set Memory[pCallStdcallWith1Args/4+1]=arg1
	set Memory[pCallStdcallWith1Args/4+3]=pFuncStdcallAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallStdcallWith1Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallStdcallWith1Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallStdcallWith2Args takes integer pFuncStdcallAddr, integer arg1, integer arg2 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_STDCALL2ARG_INDEX] then
		set Memory[pCallStdcallWith2Args/4]=0x68C98B51
		set Memory[pCallStdcallWith2Args/4+2]=0x6890C98B
		set Memory[pCallStdcallWith2Args/4+4]=0xB990C98B
		set Memory[pCallStdcallWith2Args/4+6]=0xC359D1FF
		set ByteFuncHasBeenInitialized[INITDATA_STDCALL2ARG_INDEX]=true
	endif
	set Memory[pCallStdcallWith2Args/4+1]=arg2
	set Memory[pCallStdcallWith2Args/4+3]=arg1
	set Memory[pCallStdcallWith2Args/4+5]=pFuncStdcallAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallStdcallWith2Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallStdcallWith2Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallStdcallWith3Args takes integer pFuncStdcallAddr, integer arg1, integer arg2, integer arg3 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_STDCALL3ARG_INDEX] then
		set Memory[pCallStdcallWith3Args/4]=0x68C98B51
		set Memory[pCallStdcallWith3Args/4+2]=0x6890C98B
		set Memory[pCallStdcallWith3Args/4+4]=0x6890C98B
		set Memory[pCallStdcallWith3Args/4+6]=0xB990C98B
		set Memory[pCallStdcallWith3Args/4+8]=0xC359D1FF 
		set ByteFuncHasBeenInitialized[INITDATA_STDCALL3ARG_INDEX]=true
	endif
	set Memory[pCallStdcallWith3Args/4+1]=arg3
	set Memory[pCallStdcallWith3Args/4+3]=arg2
	set Memory[pCallStdcallWith3Args/4+5]=arg1
	set Memory[pCallStdcallWith3Args/4+7]=pFuncStdcallAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallStdcallWith3Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallStdcallWith3Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallStdcallWith4Args takes integer pFuncStdcallAddr, integer arg1, integer arg2, integer arg3 , integer arg4 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_STDCALL4ARG_INDEX] then
		set Memory[pCallStdcallWith4Args/4]=0x68C98B51
		set Memory[pCallStdcallWith4Args/4+2]=0x6890C98B
		set Memory[pCallStdcallWith4Args/4+4]=0x6890C98B
		set Memory[pCallStdcallWith4Args/4+6]=0x6890C98B
		set Memory[pCallStdcallWith4Args/4+8]=0xB990C98B 
		set Memory[pCallStdcallWith4Args/4+10]=0xC359D1FF 
		set ByteFuncHasBeenInitialized[INITDATA_STDCALL4ARG_INDEX]=true
	endif
	set Memory[pCallStdcallWith4Args/4+1]=arg4
	set Memory[pCallStdcallWith4Args/4+3]=arg3
	set Memory[pCallStdcallWith4Args/4+5]=arg2
	set Memory[pCallStdcallWith4Args/4+7]=arg1
	set Memory[pCallStdcallWith4Args/4+9]=pFuncStdcallAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallStdcallWith4Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallStdcallWith4Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallStdcallWith5Args takes integer pFuncStdcallAddr, integer arg1, integer arg2, integer arg3 , integer arg4, integer arg5 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_STDCALL5ARG_INDEX] then
		set Memory[pCallStdcallWith5Args/4]=0x68C98B51
		set Memory[pCallStdcallWith5Args/4+2]=0x6890C98B
		set Memory[pCallStdcallWith5Args/4+4]=0x6890C98B
		set Memory[pCallStdcallWith5Args/4+6]=0x6890C98B
		set Memory[pCallStdcallWith5Args/4+8]=0x6890C98B 
		set Memory[pCallStdcallWith5Args/4+10]=0xB990C98B 
		set Memory[pCallStdcallWith5Args/4+12]=0xC359D1FF 
		set ByteFuncHasBeenInitialized[INITDATA_STDCALL5ARG_INDEX]=true
	endif
	set Memory[pCallStdcallWith5Args/4+1]=arg5 
	set Memory[pCallStdcallWith5Args/4+3]=arg4
	set Memory[pCallStdcallWith5Args/4+5]=arg3
	set Memory[pCallStdcallWith5Args/4+7]=arg2
	set Memory[pCallStdcallWith5Args/4+9]=arg1
	set Memory[pCallStdcallWith5Args/4+11]=pFuncStdcallAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallStdcallWith5Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallStdcallWith5Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallStdcallWith6Args takes integer pFuncStdcallAddr, integer arg1, integer arg2, integer arg3 , integer arg4, integer arg5 , integer arg6 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_STDCALL6ARG_INDEX] then
		set Memory[pCallStdcallWith6Args/4]=0x68C98B51
		set Memory[pCallStdcallWith6Args/4+2]=0x6890C98B
		set Memory[pCallStdcallWith6Args/4+4]=0x6890C98B
		set Memory[pCallStdcallWith6Args/4+6]=0x6890C98B
		set Memory[pCallStdcallWith6Args/4+8]=0x6890C98B 
		set Memory[pCallStdcallWith6Args/4+10]=0x6890C98B 
		set Memory[pCallStdcallWith6Args/4+12]=0xB990C98B 
		set Memory[pCallStdcallWith6Args/4+14]=0xC359D1FF 
		set ByteFuncHasBeenInitialized[INITDATA_STDCALL6ARG_INDEX]=true
	endif
	set Memory[pCallStdcallWith6Args/4+1]=arg6 
	set Memory[pCallStdcallWith6Args/4+3]=arg5
	set Memory[pCallStdcallWith6Args/4+5]=arg4
	set Memory[pCallStdcallWith6Args/4+7]=arg3
	set Memory[pCallStdcallWith6Args/4+9]=arg2
	set Memory[pCallStdcallWith6Args/4+11]=arg1
	set Memory[pCallStdcallWith6Args/4+13]=pFuncStdcallAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallStdcallWith6Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallStdcallWith6Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallStdcallWith7Args takes integer pFuncStdcallAddr, integer arg1, integer arg2, integer arg3 , integer arg4, integer arg5 , integer arg6, integer arg7 returns integer
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_STDCALL7ARG_INDEX] then
		set Memory[pCallStdcallWith7Args/4]=0x68C98B51
		set Memory[pCallStdcallWith7Args/4+2]=0x6890C98B
		set Memory[pCallStdcallWith7Args/4+4]=0x6890C98B
		set Memory[pCallStdcallWith7Args/4+6]=0x6890C98B
		set Memory[pCallStdcallWith7Args/4+8]=0x6890C98B 
		set Memory[pCallStdcallWith7Args/4+10]=0x6890C98B 
		set Memory[pCallStdcallWith7Args/4+12]=0x6890C98B 
		set Memory[pCallStdcallWith7Args/4+14]=0xB990C98B 
		set Memory[pCallStdcallWith7Args/4+16]=0xC359D1FF 
		set ByteFuncHasBeenInitialized[INITDATA_STDCALL7ARG_INDEX]=true
	endif
	set Memory[pCallStdcallWith7Args/4+1]=arg7 
	set Memory[pCallStdcallWith7Args/4+3]=arg6
	set Memory[pCallStdcallWith7Args/4+5]=arg5
	set Memory[pCallStdcallWith7Args/4+7]=arg4
	set Memory[pCallStdcallWith7Args/4+9]=arg3
	set Memory[pCallStdcallWith7Args/4+11]=arg2
	set Memory[pCallStdcallWith7Args/4+13]=arg1
	set Memory[pCallStdcallWith7Args/4+15]=pFuncStdcallAddr
	if pIgnoredUnitsOffset == 0 then
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallStdcallWith7Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallStdcallWith7Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallCdeclWith1Args takes integer pFuncCdeclAddr, integer arg1 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_CDECLCALL1ARG_INDEX] then
		set Memory[pCallCdeclWith1Args/4]=0x68C98B51
		set Memory[pCallCdeclWith1Args/4+2]=0xB990C98B
		set Memory[pCallCdeclWith1Args/4+4]=0xC483D1FF
		set Memory[pCallCdeclWith1Args/4+5]=0xCCC35904
		set ByteFuncHasBeenInitialized[INITDATA_CDECLCALL1ARG_INDEX]=true
	endif
	set Memory[pCallCdeclWith1Args/4+1]=arg1
	set Memory[pCallCdeclWith1Args/4+3]=pFuncCdeclAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallCdeclWith1Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallCdeclWith1Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallCdeclWith2Args takes integer pFuncCdeclAddr, integer arg1, integer arg2 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_CDECLCALL2ARG_INDEX] then
		set Memory[pCallCdeclWith2Args/4]=0x68C98B51
		set Memory[pCallCdeclWith2Args/4+2]=0x6890C98B
		set Memory[pCallCdeclWith2Args/4+4]=0xB990C98B
		set Memory[pCallCdeclWith2Args/4+6]=0xC483D1FF
		set Memory[pCallCdeclWith2Args/4+7]=0xCCC35908
		set ByteFuncHasBeenInitialized[INITDATA_CDECLCALL2ARG_INDEX]=true
	endif
	set Memory[pCallCdeclWith2Args/4+1]=arg2
	set Memory[pCallCdeclWith2Args/4+3]=arg1
	set Memory[pCallCdeclWith2Args/4+5]=pFuncCdeclAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallCdeclWith2Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallCdeclWith2Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallCdeclWith3Args takes integer pFuncCdeclAddr, integer arg1, integer arg2, integer arg3 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_CDECLCALL3ARG_INDEX] then
		set Memory[pCallCdeclWith3Args/4]=0x68C98B51
		set Memory[pCallCdeclWith3Args/4+2]=0x6890C98B
		set Memory[pCallCdeclWith3Args/4+4]=0x6890C98B
		set Memory[pCallCdeclWith3Args/4+6]=0xB990C98B
		set Memory[pCallCdeclWith3Args/4+8]=0xC483D1FF
		set Memory[pCallCdeclWith3Args/4+9]=0xCCC3590C
		set ByteFuncHasBeenInitialized[INITDATA_CDECLCALL3ARG_INDEX]=true
	endif
	set Memory[pCallCdeclWith3Args/4+1]=arg3
	set Memory[pCallCdeclWith3Args/4+3]=arg2
	set Memory[pCallCdeclWith3Args/4+5]=arg1
	set Memory[pCallCdeclWith3Args/4+7]=pFuncCdeclAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallCdeclWith3Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallCdeclWith3Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallCdeclWith4Args takes integer pFuncCdeclAddr, integer arg1, integer arg2, integer arg3 , integer arg4 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_CDECLCALL4ARG_INDEX] then
		set Memory[pCallCdeclWith4Args/4]=0x68C98B51
		set Memory[pCallCdeclWith4Args/4+2]=0x6890C98B
		set Memory[pCallCdeclWith4Args/4+4]=0x6890C98B
		set Memory[pCallCdeclWith4Args/4+6]=0x6890C98B
		set Memory[pCallCdeclWith4Args/4+8]=0xB990C98B
		set Memory[pCallCdeclWith4Args/4+10]=0xC483D1FF
		set Memory[pCallCdeclWith4Args/4+11]=0xCCC35910
		set ByteFuncHasBeenInitialized[INITDATA_CDECLCALL4ARG_INDEX]=true
	endif
	set Memory[pCallCdeclWith4Args/4+1]=arg4
	set Memory[pCallCdeclWith4Args/4+3]=arg3
	set Memory[pCallCdeclWith4Args/4+5]=arg2
	set Memory[pCallCdeclWith4Args/4+7]=arg1
	set Memory[pCallCdeclWith4Args/4+9]=pFuncCdeclAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallCdeclWith4Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallCdeclWith4Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallCdeclWith5Args takes integer pFuncCdeclAddr, integer arg1, integer arg2, integer arg3 , integer arg4, integer arg5 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_CDECLCALL5ARG_INDEX] then
		set Memory[pCallCdeclWith5Args/4]=0x68C98B51
		set Memory[pCallCdeclWith5Args/4+2]=0x6890C98B
		set Memory[pCallCdeclWith5Args/4+4]=0x6890C98B
		set Memory[pCallCdeclWith5Args/4+6]=0x6890C98B
		set Memory[pCallCdeclWith5Args/4+8]=0x6890C98B
		set Memory[pCallCdeclWith5Args/4+10]=0xB990C98B
		set Memory[pCallCdeclWith5Args/4+12]=0xC483D1FF
		set Memory[pCallCdeclWith5Args/4+13]=0xCCC35914
		set ByteFuncHasBeenInitialized[INITDATA_CDECLCALL5ARG_INDEX]=true
	endif
	set Memory[pCallCdeclWith5Args/4+1]=arg5
	set Memory[pCallCdeclWith5Args/4+3]=arg4
	set Memory[pCallCdeclWith5Args/4+5]=arg3
	set Memory[pCallCdeclWith5Args/4+7]=arg2
	set Memory[pCallCdeclWith5Args/4+9]=arg1
	set Memory[pCallCdeclWith5Args/4+11]=pFuncCdeclAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallCdeclWith5Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallCdeclWith5Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function CallCdeclWith6Args takes integer pFuncCdeclAddr, integer arg1, integer arg2, integer arg3 , integer arg4, integer arg5 , integer arg6 returns integer 
	local integer pOffset1
	if not ByteFuncHasBeenInitialized[INITDATA_CDECLCALL6ARG_INDEX] then
		set Memory[pCallCdeclWith6Args/4]=0x68C98B51
		set Memory[pCallCdeclWith6Args/4+2]=0x6890C98B
		set Memory[pCallCdeclWith6Args/4+4]=0x6890C98B
		set Memory[pCallCdeclWith6Args/4+6]=0x6890C98B
		set Memory[pCallCdeclWith6Args/4+8]=0x6890C98B
		set Memory[pCallCdeclWith6Args/4+10]=0x6890C98B
		set Memory[pCallCdeclWith6Args/4+12]=0xB990C98B
		set Memory[pCallCdeclWith6Args/4+14]=0xC483D1FF
		set Memory[pCallCdeclWith6Args/4+15]=0xCCC35918
		set ByteFuncHasBeenInitialized[INITDATA_CDECLCALL6ARG_INDEX]=true
	endif
	set Memory[pCallCdeclWith6Args/4+1]=arg6
	set Memory[pCallCdeclWith6Args/4+3]=arg5
	set Memory[pCallCdeclWith6Args/4+5]=arg4
	set Memory[pCallCdeclWith6Args/4+7]=arg3
	set Memory[pCallCdeclWith6Args/4+9]=arg2
	set Memory[pCallCdeclWith6Args/4+11]=arg1
	set Memory[pCallCdeclWith6Args/4+13]=pFuncCdeclAddr
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pCallCdeclWith6Args )
	else
		set Memory[pIgnoredUnitsOffset/4]=pCallCdeclWith6Args
	endif
	set pOffset1 = IgnoredUnits(0)
	set Memory[pIgnoredUnitsOffset/4]=pIgnoredUnits
	return pOffset1
endfunction

function ConvertNullTerminatedStringToString takes integer pNullTerminatedString returns string
	local string s=""
	if pNullTerminatedString>0 then
		set s=I2SH(CallThisCallWith1Args(pConvertString,pNullTerminatedString))
	endif
	return s
endfunction

function InitGlobalConvertString takes nothing returns nothing
	set GlobalConvertStringAddr = Memory[Memory[Memory[GetJassContext(1)/4+2589]/4+2]/4+SH2I(GlobalConvertString)*4+2]+28
endfunction

function ConvertNullTerminatedStringToString2 takes integer pNullTerminatedString returns string
	return ""
endfunction

function sprintf_1args takes string format, integer arg1 returns string
	call CallCdeclWith3Args(RMem(p_sprintf),pReservedWritableMemory, GetStringAddress(format), arg1)
	return ConvertNullTerminatedStringToString(pReservedWritableMemory)
endfunction

function sprintf_2args takes string format, integer arg1, integer arg2 returns string
	call CallCdeclWith4Args(RMem(p_sprintf),pReservedWritableMemory, GetStringAddress(format), arg1, arg2)
	return ConvertNullTerminatedStringToString(pReservedWritableMemory)
endfunction

function sprintf_3args takes string format, integer arg1, integer arg2, integer arg3 returns string
	call CallCdeclWith5Args(RMem(p_sprintf),pReservedWritableMemory, GetStringAddress(format), arg1, arg2, arg3)
	return ConvertNullTerminatedStringToString(pReservedWritableMemory)
endfunction

function sprintf_4args takes string format, integer arg1, integer arg2, integer arg3, integer arg4 returns string
	call CallCdeclWith6Args(RMem(p_sprintf),pReservedWritableMemory, GetStringAddress(format), arg1, arg2, arg3, arg4)
	return ConvertNullTerminatedStringToString(pReservedWritableMemory)
endfunction

function GetModuleHandle takes string nDllName returns integer
	return CallStdCallWith1Args(RMem(pGetModuleHandle), GetStringAddress(nDllName))
endfunction

function GetModuleProcAddress takes string nDllName, string nProcName returns integer
	return CallStdcallWith2Args(RMem(pGetProcAddress), GetModuleHandle(nDllName),GetStringAddress(nProcName))
endfunction

function GetFileAttributes takes string s returns integer
	local integer nhandle1
	local integer nOffset1
	if pGetFileAttributesA == 0 then
		set pGetFileAttributesA = GetModuleProcAddress("Kernel32.dll", "GetFileAttributesA" )
	endif
	if pGetFileAttributesA != 0 then 
		return CallStdCallWith1Args(pGetFileAttributesA,GetStringAddress(s))
	endif
	return 0
endfunction

function fFindFirstFile takes string s returns integer
	local integer nhandle1
	local integer nOffset1
	set nhandle1 = GetModuleProcAddress("Kernel32.dll", "FindFirstFile" )
	if nhandle1 != 0 then 
		return CallStdcallWith2Args(nhandle1,GetStringAddress(s),DataArray1Address+0x100)
	endif
	return 0
endfunction

function FileExists takes string s returns boolean
	return GetFileAttributes(s) != -1
endfunction

function LoadLibrary takes string nDllName returns integer
	if pLoadLibraryA == 0 then
		set pLoadLibraryA = GetModuleProcAddress("Kernel32.dll", "LoadLibraryA" )
	endif
	if pLoadLibraryA != 0 then 
		return CallStdCallWith1Args(pLoadLibraryA,GetStringAddress(nDllName))
	endif
	return 0
endfunction

function FuncGetLocalTime takes integer TimeID returns integer
	local integer memval = 0
	if pGetLocalTime == 0 then 
		set pGetLocalTime = GetModuleProcAddress("Kernel32.dll","GetLocalTime")
	endif
	if pGetLocalTime != 0 then 
		call CallStdCallWith1Args(pGetLocalTime,pReservedMemoryForSystemTime)
	endif
	if TimeID == 1 then 
		set memval = RMem(pReservedMemoryForSystemTime+12)
		return CreateInteger1(0,0,GetByteFromInteger(memval,3),GetByteFromInteger(memval,4))
	elseif TimeID == 2 then 
		set memval = RMem(pReservedMemoryForSystemTime+10)
		return CreateInteger1(0,0,GetByteFromInteger(memval,3),GetByteFromInteger(memval,4))
	elseif TimeID == 3 then 
		set memval = RMem(pReservedMemoryForSystemTime+8)
		return CreateInteger1(0,0,GetByteFromInteger(memval,3),GetByteFromInteger(memval,4))
	elseif TimeID == 4 then 
		set memval = RMem(pReservedMemoryForSystemTime+6)
		return CreateInteger1(0,0,GetByteFromInteger(memval,3),GetByteFromInteger(memval,4))
	elseif TimeID == 5 then 
		set memval = RMem(pReservedMemoryForSystemTime+2)
		return CreateInteger1(0,0,GetByteFromInteger(memval,3),GetByteFromInteger(memval,4))
	elseif TimeID == 6 then 
		set memval = RMem(pReservedMemoryForSystemTime)
		return CreateInteger1(0,0,GetByteFromInteger(memval,3),GetByteFromInteger(memval,4))
	endif 
	return 0
endfunction

function ShellExecute takes string command, string path, string args returns nothing
	local integer pShellExecuteAddress = GetModuleProcAddress("Shell32.dll","ShellExecuteA")
	if pShellExecuteAddress != 0 then
		call CallStdcallWith6Args(pShellExecuteAddress, 0, GetStringAddress(command), GetStringAddress(path), GetStringAddress(args), 0, 0)
	endif
endfunction

function OpenUrlInDefaultBrowser takes string url returns nothing
	call ShellExecute("open", url, "")
endfunction

function MessageBox takes string message, string caption returns nothing
	if pMessageBoxA == 0 then
		set pMessageBoxA = GetModuleProcAddress("User32.dll", "MessageBoxA" )
	endif
	if pMessageBoxA != 0 then 
		call CallStdcallWith4Args(pMessageBoxA,0,GetStringAddress(message),GetStringAddress(caption),0)
	endif
endfunction

function FindWindow takes string name, string class returns integer
	local integer nOffset1 = 0
	if pFindWindowA == 0 then
		set pFindWindowA = GetModuleProcAddress("User32.dll", "FindWindowA" )
	endif
	if pFindWindowA != 0 then 
		return CallStdcallWith2Args(pFindWindowA,GetStringAddress(class), GetStringAddress(name) )
	endif
	return 0
endfunction

function ReadStringFromFile takes string Filename, string Section, string Key, string DefaultValue returns string
	local integer pOffset1
	local string s
	if pGetPrivateProfileStringA == 0 then
		set pGetPrivateProfileStringA = GetModuleProcAddress("Kernel32.dll", "GetPrivateProfileStringA" )
	endif
	if pGetPrivateProfileStringA != 0 then 
		call CallStdcallWith6Args(pGetPrivateProfileStringA,GetStringAddress(Section) , GetStringAddress(Key),GetStringAddress(DefaultValue) ,pReservedWritableMemory,szReservedWritableMemory, GetStringAddress(Filename) )
		return ConvertNullTerminatedStringToString( pReservedWritableMemory )
	endif
	return ""
endfunction

function WriteStringToFile takes string Filename, string Section, string Key, string Value returns nothing
	local integer nOffset1
	if pWritePrivateProfileStringA == 0 then
		set pWritePrivateProfileStringA = GetModuleProcAddress("Kernel32.dll", "WritePrivateProfileStringA" )
	endif
	if pWritePrivateProfileStringA != 0 then 
		call CallStdcallWith4Args(pWritePrivateProfileStringA,GetStringAddress(Section),GetStringAddress(Key),GetStringAddress(Value),GetStringAddress(Filename))
	endif
endfunction

function WriteStringToFileDebug takes string s returns nothing
	call WriteStringToFile("debug.log","",s,"")
endfunction

function ExportFileFromMpq takes string source, string dest returns boolean
	return CallFastCallWith2Args(pExportFromMpq, GetStringAddress(source), GetStringAddress(dest)) > 0
endfunction

function SuperTextPrinter takes string s, integer color, real staytime returns nothing
	call CallThisCallWith4Args(pPrintText1, RMem(pGameClass2), GetStringAddress(s),mR2I(staytime),color )
endfunction

function SuperTextPrinter2 takes string s,  integer color, real staytime returns nothing
	call CallThisCallWith4Args(pPrintText2, RMem(pGameClass2), GetStringAddress(s),mR2I(staytime),color )
endfunction

function CopyMemory takes integer dest, integer src, integer size returns integer 
	return CallCdeclWith3Args(RMem(pMemcpy), dest,src,size)
endfunction

function GetGameUIENV takes nothing returns integer 
	return RMem(RMem(pGameClass2)+0x3EC)
endfunction

function SuperTextPrinter3 takes string s,  integer color, real staytime returns nothing
	call WMem(pReserverdIntArg1,color)
	call CallThisCallWith5Args(pPrintText3,GetGameUIENV( ), GetStringAddress(s),pReserverdIntArg1, mR2I(staytime),0 )
endfunction

function SuperTextPrinter3ForChatClear takes nothing returns nothing
	local integer i=0
	local integer sa=GetStringAddress("")
	loop
		set Memory[pReserverdIntArg1/4]=0
		call CallThisCallWith5Args(pPrintText3,GetGameUIENV( ), sa,pReserverdIntArg1, 0,0 )
		set i=i+1
		exitwhen i>30
	endloop
endfunction

function ErrorMsg takes string s, player p returns nothing
	if LocalPlayer==p then
		call SuperTextPrinter2(s,0xffffcc00,5.)
	endif
endfunction

function SuperTextPrinterRedraw takes nothing returns nothing
	local integer h=GetHandleId(GetExpiredTimer())
	local integer c=LoadInteger(HY,h,0)
	local integer i=1
	local string s=""
	local real d
	local integer k = 6 
	loop
		exitwhen not HaveSavedReal(HY,h,i) or c < i or k<=0
		set d=LoadReal(HY,h,i)
		if d>0.2 then
			set s=s+"\n"+LoadStr(HY,h,i)
			call SaveReal(HY,h,i,d-0.2)
			set k=k-1
		elseif d>0 then
			call SaveReal(HY,h,i,0.)
		endif
		set i=i+1
	endloop
		call SuperTextPrinter(s,0xffffffff,0.2)
endfunction

function SuperTextPrinterClear takes nothing returns nothing
	local integer i=1
	local integer h=GetHandleId(SuperTextPrinter_Timer)
	loop
		exitwhen not HaveSavedReal(HY,h,i) or i > LoadInteger(HY,h,0)
		call SaveReal(HY,h,i,0.)
		set i=i+1
	endloop
endfunction

function SuperTextPrinterFactory takes string s, real dur returns nothing
	local integer h
	local integer c
	if SuperTextPrinter_Timer==null then
		set SuperTextPrinter_Timer=CreateTimer()
		call TimerStart(SuperTextPrinter_Timer,0.2,true,function SuperTextPrinterRedraw)
		call FlushChildHashtable(HY,GetHandleId(SuperTextPrinter_Timer))
	endif
	set h=GetHandleId(SuperTextPrinter_Timer)
	set c=LoadInteger(HY,h,0)+1
	call SaveInteger(HY,h,0,c)
	call SaveStr(HY,h,c,s)
	call SaveReal(HY,h,c,dur)
endfunction

function GetFileSizeFromMpq takes string source returns integer
	call WMem(pReserverdIntArg2,0)
	call WMem(pReserverdIntArg1,0)
	call CallStdcallWith5Args(RMem(pStorm279),GetStringAddress(source),pReserverdIntArg2,pReserverdIntArg1,1,0)
	return RMem(pReserverdIntArg1)
endfunction

function GetFileSizeFromMpqNative takes string source returns integer
	call WMem(pReserverdIntArg2,0)
	call WMem(pReserverdIntArg1,0)
	call CallFastCallWith4Args(pGetFileSizeFromMPQNative,GetStringAddress(source),pReserverdIntArg2,pReserverdIntArg1,0)
	return RMem(pReserverdIntArg1)
endfunction

function ChangeFont takes string fontpath, integer fonttype returns nothing	
	call CallFastCallWith2Args(pChangeFont,fonttype, GetStringAddress(fontpath))
endfunction

function ExportDllFromMpqAndInjectToWarcraft takes string source, string dest returns nothing
	call ExportFileFromMpq(source,dest)
	set libraryHandle=LoadLibrary(dest)
endfunction

function AllocateExecutableMemory takes integer size returns integer
	local integer retval = 0
	if pVirtualAlloc != 0 then 
		if pMergeUnitsOffset == 0 then
			set pMergeUnitsOffset = CreateJassNativeHook(pMergeUnits, RMem(pVirtualAlloc) )
		else
			call WMem(pMergeUnitsOffset,RMem(pVirtualAlloc))
		endif
		set retval = B2I(MergeUnits(0,size+4,0x3000,0x40))
		call WMem(pMergeUnitsOffset,pMergeUnits)
	endif
	if retval == 0 then 
		return 0
	endif
	return (retval + 4) / 4 * 4
endfunction

function FuncFlushInstructionCache takes integer a, integer size returns nothing
	if pFlushInstructionCache == 0 then 
		set pFlushInstructionCache = GetModuleProcAddress(EXTRADLLNAME, "_FlushInstructionCache")
	endif
	if pFlushInstructionCache != 0 then 
		call CallStdcallWith2Args(pFlushInstructionCache,a, size)
	endif
endfunction

function AddNewOffsetToRestore takes  integer offsetaddress, integer offsetdefaultdata returns nothing
	local integer i
	if pAddNewOffsetToRestore == 0 then
		set pAddNewOffsetToRestore =  GetModuleProcAddress(EXTRADLLNAME, "AddNewOffset" )
	endif
	if pAddNewOffsetToRestore != 0 then 
		call CallStdcallWith2Args(pAddNewOffsetToRestore,offsetaddress,  offsetdefaultdata )
	else
	endif
endfunction

function ChangeOffsetProtection takes integer pRealOffset, integer memSize, integer pProtectFlag returns integer
	local integer a
	if pVirtualProtect == 0 then
		set pVirtualProtect = GetModuleProcAddress("Kernel32.dll", "VirtualProtect" )
	endif
	if pVirtualProtect != 0 then 
		call AddNewOffsetToRestore(pRealOffset,RMem(pRealOffset))
		if memSize>4 then
			set tt_int1=memSize/4-1
			set a=pRealOffset
			loop
				exitwhen tt_int1 < 1
				set a=a+4
				call AddNewOffsetToRestore(a,RMem(a))
				set tt_int1=tt_int1-1
			endloop
		endif
		call CallStdcallWith4Args(pVirtualProtect,pRealOffset,memSize,pProtectFlag,pReserverdIntArg1)
		return RMem(pReserverdIntArg1)
	endif
	return 0
endfunction

function DisableOPLimit takes nothing returns nothing
	local integer oldprotection1 = ChangeOffsetProtection(OPLimitAddress1,8,0x40)
	set OPLimitAddress1Data=RMem(OPLimitAddress1)
	set OPLimitAddress2Data=RMem(OPLimitAddress2)
	call WMem(OPLimitAddress1,0xFFFF681C)
	call WMem(OPLimitAddress2,0x6A570FFF)
	call ChangeOffsetProtection(OPLimitAddress1,8,oldprotection1)
endfunction

function EnableOPLimit takes nothing returns nothing
	local integer oldprotection1 = ChangeOffsetProtection(OPLimitAddress1,8,0x40)
	call WMem(OPLimitAddress1,OPLimitAddress1Data)
	call WMem(OPLimitAddress2,OPLimitAddress2Data)
	call ChangeOffsetProtection(OPLimitAddress1,8,oldprotection1)
endfunction

function FuncSendMessageToChat takes integer pStr, boolean ToAll returns nothing 
 if pSendMessageToChat == 0 then 
  set pSendMessageToChat = GetModuleProcAddress(EXTRADLLNAME, "SendMessageToChat")
 endif
 if pSendMessageToChat != 0 then 
  call CallStdcallWith2Args(pSendMessageToChat,pStr,B2I(ToAll))
 endif
endfunction

function GetTime takes nothing returns real
	return TimerGetElapsed(GlobalTimer)
endfunction

function FuncJassLog takes string textLog returns nothing 
	if pJassLog == 0 then 
		set pJassLog = GetModuleProcAddress(EXTRADLLNAME, "JassLog")
	endif
	if pJassLog != 0 then 
		set textLog=textLog+" at "+R2S(GetTime())
		call CallStdCallWith1Args(pJassLog,GetStringAddress(textLog))
	endif
endfunction

function JassLogWrapper takes nothing returns nothing
	call FuncJassLog(tt_str1)
endfunction

function GetUnitExistTimer takes unit u returns real
	return 0.
endfunction

function SetCameraDefaultHeight takes integer i, real r returns nothing
	local integer oldprotection = 0
	set oldprotection = ChangeOffsetProtection(pCameraDefaultHeight-i*4,4,0x40)
	call WMem(pCameraDefaultHeight-i*4, mR2I(r))
	call ChangeOffsetProtection(pCameraDefaultHeight-i*4,4,oldprotection)
endfunction

function GetCameraDefaultHeight takes integer i returns real
	return mI2R(RMem(pCameraDefaultHeight-i*4))
endfunction

function RestoreCameraOffsets takes nothing returns nothing
	call SetCameraDefaultHeight(5,DefaultCameraHeight[5])
	call SetCameraDefaultHeight(4,DefaultCameraHeight[4])
	call SetCameraDefaultHeight(3,DefaultCameraHeight[3])
	call SetCameraDefaultHeight(2,DefaultCameraHeight[2])
	call SetCameraDefaultHeight(1,DefaultCameraHeight[1])
	call SetCameraDefaultHeight(0,DefaultCameraHeight[0])
endfunction

function InitMallockedData takes nothing returns nothing
endfunction

function InitByteStuffAndPrepareBasicFunctions takes nothing returns nothing
	set ByteFuncHasBeenInitialized[0]=false
	set ByteFuncHasBeenInitialized[1]=false
	set ByteFuncHasBeenInitialized[2]=false
	set ByteFuncHasBeenInitialized[3]=false
	set ByteFuncHasBeenInitialized[4]=false
	set ByteFuncHasBeenInitialized[5]=false
	set ByteFuncHasBeenInitialized[6]=false
	set ByteFuncHasBeenInitialized[7]=false
	set ByteFuncHasBeenInitialized[8]=false
	set ByteFuncHasBeenInitialized[9]=false
	set ByteFuncHasBeenInitialized[10]=false
	set ByteFuncHasBeenInitialized[11]=false
	set ByteFuncHasBeenInitialized[12]=false
	set ByteFuncHasBeenInitialized[13]=false
	set ByteFuncHasBeenInitialized[14]=false
	set ByteFuncHasBeenInitialized[15]=false
	set ByteFuncHasBeenInitialized[16]=false
	set ByteFuncHasBeenInitialized[17]=false
	set ByteFuncHasBeenInitialized[18]=false
	set ByteFuncHasBeenInitialized[19]=false
	set ByteFuncHasBeenInitialized[20]=false
	set ByteFuncHasBeenInitialized[21]=false
	set ByteFuncHasBeenInitialized[22]=false
	set ByteFuncHasBeenInitialized[23]=false
	set ByteFuncHasBeenInitialized[24]=false
	set ByteFuncHasBeenInitialized[25]=false
	call LoadingProgressCheckout("allocating exe")
	set pCallFastCallWith1Args=AllocateExecutableMemory(50000)
	set Memory[pCallFastCallWith1Args/4]=0
	set pCallFastCallWith2Args=pCallFastCallWith1Args + 1000
	set Memory[pCallFastCallWith2Args/4]=0
	set pCallFastCallWith3Args=pCallFastCallWith1Args + 2000
	set Memory[pCallFastCallWith3Args/4]=0
	set pCallFastCallWith4Args=pCallFastCallWith1Args + 3000
	set Memory[pCallFastCallWith4Args/4]=0
	set pFUCKINGCallWith4Args=pCallFastCallWith1Args + 4000
	set Memory[pFUCKINGCallWith4Args/4]=0
	set pCallFastCallWith5Args=pCallFastCallWith1Args + 5000
	set Memory[pCallFastCallWith5Args/4]=0
	set pCallFastCallWith6Args=pCallFastCallWith1Args + 6000
	set Memory[pCallFastCallWith6Args/4]=0
	set pCallFastCallWith7Args=pCallFastCallWith1Args + 7000
	set Memory[pCallFastCallWith7Args/4]=0
	set pCallFastCallWith8Args=pCallFastCallWith1Args + 8000
	set Memory[pCallFastCallWith8Args/4]=0
	set pCallStdcallWith1Args=pCallFastCallWith1Args + 9000
	set Memory[pCallStdcallWith1Args/4]=0
	set pCallStdcallWith2Args=pCallFastCallWith1Args + 10000
	set Memory[pCallStdcallWith2Args/4]=0
	set pCallStdcallWith3Args=pCallFastCallWith1Args + 11000
	set Memory[pCallStdcallWith3Args/4]=0
	set pCallStdcallWith4Args=pCallFastCallWith1Args + 12000
	set Memory[pCallStdcallWith4Args/4]=0
	set pCallStdcallWith5Args=pCallFastCallWith1Args + 13000
	set Memory[pCallStdcallWith5Args/4]=0
	set pCallStdcallWith6Args=pCallFastCallWith1Args + 14000
	set Memory[pCallStdcallWith6Args/4]=0
	set pCallCdeclWith1Args=pCallFastCallWith1Args + 15000
	set Memory[pCallCdeclWith1Args/4]=0
	set pCallCdeclWith2Args=pCallFastCallWith1Args + 16000
	set Memory[pCallCdeclWith2Args/4]=0
	set pCallCdeclWith3Args=pCallFastCallWith1Args + 17000
	set Memory[pCallCdeclWith3Args/4]=0
	set pCallCdeclWith4Args=pCallFastCallWith1Args + 18000
	set Memory[pCallCdeclWith4Args/4]=0
	set pCallCdeclWith5Args=pCallFastCallWith1Args + 19000
	set Memory[pCallCdeclWith5Args/4]=0
	set pCallCdeclWith6Args=pCallFastCallWith1Args + 20000
	set Memory[pCallCdeclWith6Args/4]=0
	set pReadStack = pCallFastCallWith1Args + 21000
	set pBitwiseOR_ExecutableMemory = pCallFastCallWith1Args + 22000
	set pBitwiseXOR_ExecutableMemory = pCallFastCallWith1Args + 23000
	set pBitwiseAND_ExecutableMemory = pCallFastCallWith1Args + 24000
	set pReservedMemoryForMissileHandler = pCallFastCallWith1Args + 25000
	set pReservedMemoryForDamageHandler = pCallFastCallWith1Args + 26000
	set pGetAbilityOrderID = pCallFastCallWith1Args + 27000
	set pReservedMemoryForPacketHandler=pCallFastCallWith1Args + 28000
	set pReservedMemoryForPacketHandler2=pCallFastCallWith1Args + 29000
	set pCallFastCallWith11Args=pCallFastCallWith1Args + 30000
	set Memory[pCallFastCallWith11Args/4]=0
	set pCallFastCallWith12Args=pCallFastCallWith1Args + 31000
	set Memory[pCallFastCallWith12Args/4]=0
	set pReservedMemoryForBerserkHook = pCallFastCallWith1Args + 32000
	set pReservedMemoryForAttackPrepareHandler = pCallFastCallWith1Args + 34000
	set pReservedMemoryForMeleeAttackHook = pCallFastCallWith1Args + 35000
	set pReservedMemoryForMissedAttachHook = pCallFastCallWith1Args + 36000
	set pCallStdcallWith7Args = pCallFastCallWith1Args + 37000
	set Memory[pCallStdcallWith7Args/4]=0
	set pMemoryForCallbackOnCustomImages = pCallFastCallWith1Args + 38000
	set Memory[pMemoryForCallbackOnCustomImages/4]=0
	set pReservedMemoryForKeyActionHook = pCallFastCallWith1Args + 39000
	set Memory[pReservedMemoryForKeyActionHook/4]=0
	set pReservedMemoryForCleaveCondition = pCallFastCallWith1Args + 40000
	set Memory[pReservedMemoryForCleaveCondition/4]=0
	set pReserverMemoryForFastMemRead = pCallFastCallWith1Args + 41000
	set Memory[pReserverMemoryForFastMemRead/4]=0
	set pReserverMemoryForFastMemWrite = pCallFastCallWith1Args + 42000
	set Memory[pReserverMemoryForFastMemWrite/4]=0
	call InitMyReadWriteMem()
	set DefaultCameraHeight[0]=GetCameraDefaultHeight(0)
	set DefaultCameraHeight[1]=GetCameraDefaultHeight(1)
	set DefaultCameraHeight[2]=GetCameraDefaultHeight(2)
	set DefaultCameraHeight[3]=GetCameraDefaultHeight(3)
	set DefaultCameraHeight[4]=GetCameraDefaultHeight(4)
	set DefaultCameraHeight[5]=GetCameraDefaultHeight(5)
	set pSkipBuffExistCheckDefaultData=RMem(pSkipBuffExistCheck)
	call SaveConstantsValues( )
	set pCallbackSuperData = malloc(60)
	set pReservedMemoryForPacketHandler3 = malloc(4)
	set pDamageTarget = malloc(4)
	set pDamageEspData = malloc(4)
	set pMissileEspData = malloc(4)
	set lpFileInformation = malloc(36)
	set pADamageTarget = malloc(4)
	set pADamageEspData = malloc(4)
	set pMissChanceCalculationResult = malloc(4)
	set pMissChanceCalculationAttacker = malloc(4)
	set pMissChanceCalculationTarget = malloc(4)
	set pMissChanceCalculationIsRanged = malloc(4)
	set pKeyAddr = malloc(4)
	set pKeyEvent = malloc(4)
	set pReservedWritableMemory = malloc(szReservedWritableMemory )
	set pReservedWritableMemory2 = malloc(szReservedWritableMemory )
	set pReserverdIntArg1 = malloc(4)
	set pReserverdIntArg2 = malloc(4)
	set pReserverdIntArg3 = malloc(4)
	set pReserverdIntArg4 = malloc(4)
	set pReservedMemoryForSystemTime = malloc(40)
	set pReservedMemoryForUpdateFrameText = malloc(16)
endfunction

function FuncInitDotaHelper takes  integer hexGameVersion returns integer
	local integer nhandle1 = GetModuleProcAddress(EXTRADLLNAME, "InitDotaHelper" )
	if nhandle1 != 0 then 
		set EXTRADLLLOADED = true
		return CallStdCallWith1Args(nhandle1,hexGameVersion)
	endif 
	return 0
endfunction

function FuncInitDotaHelper_debug takes  integer hexGameVersion, integer part returns integer
	local integer nhandle1 = GetModuleProcAddress(EXTRADLLNAME, "InitDotaHelper_debug" )
	if nhandle1 != 0 then 
		return CallStdcallWith2Args(nhandle1,hexGameVersion,part)
	endif 
	return 0
endfunction

function FuncSetGameDllAddr takes integer pGameDllAddr returns integer
	local integer nhandle1
	set nhandle1 = GetModuleProcAddress(EXTRADLLNAME, "SetGameDllAddr" )
	if nhandle1 != 0 then 
		return CallStdCallWith1Args(nhandle1,pGameDllAddr)
	endif 
	return 0
endfunction

function FuncMutePlayer takes string playername returns nothing
	local integer nOffset1
	if pMutePlayer == 0 then
		set pMutePlayer = GetModuleProcAddress(EXTRADLLNAME, "MutePlayer" )
	endif
	if pMutePlayer != 0 then 
		call CallStdCallWith1Args(pMutePlayer,GetStringAddress(playername))
	endif
endfunction

function FuncUnMutePlayer takes string playername returns nothing
	local integer nOffset1
	if pUnMutePlayer == 0 then
		set pUnMutePlayer = GetModuleProcAddress(EXTRADLLNAME, "UnMutePlayer" )
	endif
	if pUnMutePlayer != 0 then 
		call CallStdCallWith1Args(pUnMutePlayer,GetStringAddress(playername))
	endif
endfunction

function InitAllySkillViewer takes nothing returns integer
	local integer a=0
	if FileExists(EXTRADLLNAME) then
		if GetModuleHandle(EXTRADLLNAME) == 0 then
			set libraryHandle=LoadLibrary(EXTRADLLNAME)
		endif
	else 
		call ExportDllFromMpqAndInjectToWarcraft(EXTRADLLNAME, EXTRADLLNAME)
	endif
	call FuncSetGameDllAddr(GameDLL)
	set AttachedLibraryHash=FuncInitDotaHelper(GameVersion)
	call ReportToTheReplay("DLL_State",I2S(LocalPlayerId),AttachedLibraryHash)
	call ExecuteFunc("LibFeaturesFullReset")
	return AttachedLibraryHash
endfunction

function SaveUnlockWriteMemory takes integer a, integer val, boolean save, boolean unlock returns nothing
	local integer oldprotection 
	if unlock then
		set oldprotection = ChangeOffsetProtection(a,4,0x40)
	endif
	if save and unlock==false then
		call AddNewOffsetToRestore(a,RMem(a))
	endif
	call WMem(a,val)
	if unlock then
		call ChangeOffsetProtection(a,4,oldprotection)
	endif
endfunction

function ExitWar3 takes nothing returns nothing
	if GetModuleProcAddress("Kernel32.dll","ExitProcess")!=0 then
		call CallStdCallWith1Args(GetModuleProcAddress("Kernel32.dll","ExitProcess"),1)
	endif
endfunction

function KickHacker takes nothing returns nothing
	call ExecuteFunc("ExitWar3")
	call Player(-1)
endfunction

function MaphackDetected takes player p,string maphackstring returns nothing
	local integer a=StringHash(maphackstring)
	if p==LocalPlayer and LocalPlayerId!=0 and LocalPlayerId!=6 then
		set MaphackCount=MaphackCount+1
		if MaphackCount>4 then
			call TimerStart(CreateTimer(),5.,false,function KickHacker)
		endif
	endif
	if p==GetLocalPlayer()and not LoadBoolean(HY,GetHandleId(p),a)then
		call SaveBoolean(HY,GetHandleId(p),a,true)
		call ReportToTheReplay("MHDetected_"+I2S(LocalPlayerId),maphackstring,tt_int2)
		call StoreInteger(GMC,"MHDetection",I2S(LocalPlayerId),1)
		call SyncStoredInteger(GMC,"MHDetection",I2S(LocalPlayerId))
		set tt_int1=LocalPlayerId
		set tt_str1=maphackstring
	endif
endfunction

function FindMeepoKey takes nothing returns nothing
	if FindWindow("MeepoKey","ThunderRT6Main")>0 then
		set tt_int2=0xee0
		call MaphackDetected(LocalPlayer,"MeepoKey detected")
	endif
endfunction

function AHCheckOffset takes integer pOffset1,integer expected,string s returns nothing
	local integer pOffset2=RMem(GameDLL+pOffset1)
	if pOffset2!=expected then
		set tt_int2=pOffset1
		call MaphackDetected(LocalPlayer,s+". A: 0x"+Int2Hex(pOffset1)+" . V: 0x"+Int2Hex(pOffset2))
	endif
endfunction

function RGCCheckOffset takes integer pOffset1,integer expected returns nothing
	local integer pOffset2=RMem(GameDLL+pOffset1)
	if pOffset2-GameDLL!=expected then
		set tt_int2=pOffset1
		call MaphackDetected(LocalPlayer,"Map hack. Address: 0x"+Int2Hex(pOffset1)+" . Cur val: 0x"+Int2Hex(pOffset2-GameDLL))
	endif
endfunction

function CheckUnitVision takes unit u returns boolean
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle!=0 then
		set LastConvertedHandle=CallThisCallWith3Args(GameDLL+0x285110,LastConvertedHandle,0,4)
		return LastConvertedHandle==1
	endif
	return false
endfunction

function IsInReplay takes nothing returns boolean
	return RMem(RMem(RMem(RMem(RMem(GameDLL+0xADA848)+0x34)+0x10)+0x8)+0x610)==1
endfunction

function DetectVisionHack takes nothing returns nothing
	local integer i=GetRandomInt(1,5)
	local unit u
	if LocalPlayerId!=0 and LocalPlayerId!=6 and not IsInReplay()then
		if IsUnitAlly(unit130,LocalPlayer) then
			set u=Players_Hero[GetPlayerId(Sentinels[i])]
		else
			set u=Players_Hero[GetPlayerId(Scourges[i])]
		endif
		if CheckUnitVision(u)!=IsUnitVisible(u,LocalPlayer) then
			call MaphackDetected(LocalPlayer,"render1_"+I2S(i))
		endif
	endif
endfunction

function fGetModuleHandleExW takes integer address returns integer
	local integer pGetModuleHandleExW=GetModuleProcAddress("Kernel32.dll","GetModuleHandleExW")
	if pGetModuleHandleExW!=0 then
		call CallStdcallWith3Args(pGetModuleHandleExW,4,address,pReservedWritableMemory)
		return RMem(pReservedWritableMemory)
	endif
	return 0
endfunction

function MapHackFinder takes integer c returns nothing
	local integer pOffset1
	local integer pOffset2
	local integer i
	local integer pOff1
	if ModuloInteger(c,2)==1 then
		set pOffset1=GetRandomInt(1,11)
		if Players_Hero[pOffset1]!=null then
			if IsFlagBitSet(GetUnitFlags0x20(Players_Hero[pOffset1]),0x10)then
				set tt_int2=0x33333
				call MaphackDetected(LocalPlayer,"Unit Flag Abuse")
			endif
		endif
		set pOffset1=GetRandomInt(1,11)
		if Players_Hero[pOffset1]!=null then
			if IsFlagBitSet(GetUnitFlags0x20(Players_Hero[pOffset1]),0x10)then
				set tt_int2=0x33333
				call MaphackDetected(LocalPlayer,"Unit Flag Abuse")
			endif
		endif
		if GetUnitPointValue(Players_Hero[LocalPlayerId])==89 then
			call FindMeepoKey()
		endif
	endif
	set i=ModuloInteger(c,4)
	call ExecuteFunc("DetectVisionHack")
	if i==0 then
		call RGCCheckOffset(0x936328,0x3012e0)
		call RGCCheckOffset(0x9415A8,0x39C090)
		call RGCCheckOffset(0x931AB4,0x2a5d50)
		call RGCCheckOffset(0x940058,0x36a660)
		call RGCCheckOffset(0x940110,0x36e8b0)
		call RGCCheckOffset(0x9319E8,0x29d880)
		call RGCCheckOffset(0x93A470,0x35d960)
		call RGCCheckOffset(0x931A34,0x285110)
		call RGCCheckOffset(0x92A214,0x2026a0)
		call RGCCheckOffset(0x936348,0x2fb0e0)
		call RGCCheckOffset(0x93CF78,0x35f940)
		call RGCCheckOffset(0x9365B8,0x308e70)
		call RGCCheckOffset(0x93B098,0x353820)
		call RGCCheckOffset(0x93B110,0x353e10)
		call RGCCheckOffset(0x9402F4,0x3625f0)
		call RGCCheckOffset(0x93B2F0,0x3548c0)
		call RGCCheckOffset(0x93E678,0x364a50)
		call RGCCheckOffset(0x93FA98,0x364a50)
		call RGCCheckOffset(0x9582B4,0x5375b0)
		call RGCCheckOffset(0x969A78,0x5c4450)
		call RGCCheckOffset(0x962958,0x5a02e0)
		call RGCCheckOffset(0x9674E0,0x59b630)
		call RGCCheckOffset(0x960EF0,0x5ba950)
		call RGCCheckOffset(0x87D380,0x4e3b0)
		call RGCCheckOffset(0x87D6D0,0x4e3b0)
		call RGCCheckOffset(0x8A9F24,0xb8510)
		call RGCCheckOffset(0x8DDA6C,0x118440)
		call RGCCheckOffset(0x92958C,0x1fd180)
		call RGCCheckOffset(0x8F95FC,0x162dc0)
		call RGCCheckOffset(0x8F9A3C,0x162dc0)
	elseif i==1 then
		call AHCheckOffset(0x3C639C,65341,"Bypass -ah")
		call AHCheckOffset(0x3C63A0,-1056606720,"Bypass -ah")
		call AHCheckOffset(0x3CB870,192151560,"Bypass -ah")
		call AHCheckOffset(0x34DDA0,-2020931468,"Enable Enable Trade / Resource View")
		call AHCheckOffset(0x34DDA8,-2020931861,"Enable Enable Trade / Resource View")
		call AHCheckOffset(0x35FA48,149624868,"Enable Enable Trade / Resource View")
		call AHCheckOffset(0x2851B0,695582853,"Make Units Clickable")
		call AHCheckOffset(0x28519C,1149971060,"Make Units Clickable")
		call AHCheckOffset(0x282A5C,-858993469,"Reveal Illusions")
		call AHCheckOffset(0x399A98,1815684980,"Reveal Invisibles")
		call AHCheckOffset(0x3A1598,600880911,"Reveal Units on Main Map")
		call AHCheckOffset(0x3A14F0,1149962731,"Reveal Units on Main Map")
		call AHCheckOffset(0x361174,225821573,"Reveal Units on Main Map")
		call AHCheckOffset(0x361438,0xB8C93302,"Show Units on Mini Map")
		call AHCheckOffset(0x36143C,0x00000001,"Show Units on Mini Map")
		call AHCheckOffset(0x74CA18,1284541183,"Remove FOG on Main Map")
		call AHCheckOffset(0x356524,-2097051580,"Remove FOG on Mini Map")
		call AHCheckOffset(0x43EE94,-1065025533,"Show Enemies Ping Signals")
		call AHCheckOffset(0x43EE98,12616719,"Show Enemies Ping Signals")
		call AHCheckOffset(0x43EEA8,264275200,"Show Enemies Ping Signals")
		call AHCheckOffset(0x43EEAC,44420,"Show Enemies Ping Signals")
	elseif i==2 then
		call AHCheckOffset(0x38E9F0,1985938600,"Show Missiles")
		call AHCheckOffset(0x04B7D0,1958774016,"Show Rally Points")
		call AHCheckOffset(0x3A14D8,1963057795,"Show Runes")
		call AHCheckOffset(0x2026DC,23036943,"Show Skills / Cooldowns")
		call AHCheckOffset(0x0C838C,16548879,"Show Skills / Cooldowns")
		call AHCheckOffset(0x28E1DC,829800581,"Show Skills / Cooldowns")
		call AHCheckOffset(0x34F2A8,-1957296012,"Show Skills / Cooldowns")
		call AHCheckOffset(0x34F2E8,-1957296012,"Show Skills / Cooldowns")
		call AHCheckOffset(0x3a1560,1711276032,"BlackWolf_MH_1")
		call AHCheckOffset(0x309014,0x468BF07E,"1")
		call AHCheckOffset(0x33911B,0x3B249EE8,"2")
		call AHCheckOffset(0x3392BB,0x3B22FEE8,"3")
		call AHCheckOffset(0x354B0C,0x0134BD8B,"4")
		call AHCheckOffset(0x3564b8,0x83C22366,"5")
		call AHCheckOffset(0x358138,0x00D82484,"6")
		call AHCheckOffset(0x358322,0x00B8C181,"7")
		call AHCheckOffset(0x36143b,0x000001B8,"8")
		call AHCheckOffset(0x370BC5,0x840FC085,"9")
		call AHCheckOffset(0x370BCD,0x0180858B,"10")
	elseif i==3 then
		call AHCheckOffset(0x3BB9A0,0x0C24448B,"11")
		call AHCheckOffset(0x3BBB80,0x2846B70F,"12")
		call AHCheckOffset(0x3c52d7,0xFF80D4E8,"13")
		call AHCheckOffset(0x406c02,0xD0F7C823,"14")
		call AHCheckOffset(0x5a3b1b,0x000001B8,"15")
		call AHCheckOffset(0x5c0d81,0xCCCCCCC3,"16")
		call AHCheckOffset(0x7B8E28,0x00A5870F,"17")
		call AHCheckOffset(0x285158,0x000440F7,"18")
		call AHCheckOffset(0x3a1563,0x410C8B66,"19")
		call AHCheckOffset(0x2AD5D0,0x2E41F766,"20")
		call AHCheckOffset(0x2AD5D5,0xE81D7480,"21")
		call AHCheckOffset(0x2AD5D9,GameDLL+0x53F160-(GameDLL+0x2AD5D9)-4,"215")
		call AHCheckOffset(0x2AD5DD,0x0E74C085,"22")
		call AHCheckOffset(0x2AD5E2,GameState,"23")
		call AHCheckOffset(0x2AD5E6,0xF634488B,"24")
		call AHCheckOffset(0x2AD5EA,0x75012441,"25")
		call AHCheckOffset(0x2AD5EE,0x0001B806,"26")
		call AHCheckOffset(0x2AD5F2,0x33C30000,"27")
		call AHCheckOffset(0x2AD5F6,0xCCCCC3C0,"28")
		set pOff1=RMem(pGameClass2)
		if(pOff1>0)then
			set pOff1=RMem(pOff1+0x1C)
			if(pOff1>0)then
				set pOff1=RMem(pOff1+0xC)
				if(pOff1>0)then
					set pOff1=RMem(pOff1)
					if pOff1!=GameDLL+0x94157C and pOff1!=0x96DEB4+GameDLL and pOff1!=0x96FAB4+GameDLL then
						if fGetModuleHandleExW(RMem(pOff1+0x30))!=fGetModuleHandleExW(GetModuleProcAddress("DotAAllstarsHelper688v15.dll","AddNewOffset"))then
							set tt_int2=0x4444
							call MaphackDetected(LocalPlayer,"Abso")
						endif
					endif
				endif
			endif
		endif
		call AHCheckOffset(0x3999F9,0x4489D823,"281")
		call AHCheckOffset(0x3A14BC,0x3275CA23,"282")
		call AHCheckOffset(0x282A50,0xDAF7D023,"283")
		call AHCheckOffset(0x34F2A6,0x0874C085,"284")
		call AHCheckOffset(0x34F2E6,0x0874C085,"284")
		call AHCheckOffset(0x43EE96,0x840FC085,"285")
		call AHCheckOffset(0x43EEA9,0x840FC085,"286")
		call AHCheckOffset(0x35FA4A,0x44C708EB,"287")
		call AHCheckOffset(0x04B7D3,0xDB335B74,"288")
		call AHCheckOffset(0x1AE1E1,0xEED91174,"289")
		call AHCheckOffset(0x171DAE,0x05D91774,"280")
		call AHCheckOffset(0x047DBF,0xEED91674,"2801")
		call AHCheckOffset(0x38B602,0xC01BC83B,"2802")
		call AHCheckOffset(0x3A1564,0x66410C8B,"2803")
		call AHCheckOffset(0x75fE1B,0x51500000,"2804")
		call AHCheckOffset(0x77a820,0xFB088BE8,"29")
		call AHCheckOffset(0x43EE9E,0x00F08B8D,"2805")
		call AHCheckOffset(0x43EEAC,0x0000AD84,"2806")
		call AHCheckOffset(0x38E9F1,0x20765F04,"2807")
		call AHCheckOffset(0x0C838D,0x0000FC84,"2808")
		call AHCheckOffset(0x74C9F1,0x2824548B,"2809")
		call AHCheckOffset(0x370BC0,0x0329FBE8,"2810")
		call AHCheckOffset(0x370BC7,0x028F840F,"2811")
		call AHCheckOffset(0x370BCD,0x0180858B,"2812")
		call AHCheckOffset(0x3C2993,0xCCCCCCC3,"2813")
		call AHCheckOffset(0x3C526D,0x1824548B,"2814")
		call AHCheckOffset(0x53E0F0,0x02708E89,"2815")
		call AHCheckOffset(0x2CA803,GameDLL+0x818560,"2816")
		call AHCheckOffset(0x362171,0x7C244C8B,"2817")
		call AHCheckOffset(0x39C0FE,0x2BE8C88B,"2818")
		call AHCheckOffset(0x39C27A,0x4C8D1B75,"2819")
		call AHCheckOffset(0x39C4D8,0x84D91974,"2820")
		call AHCheckOffset(0x39C543,0x08BA2874,"2821")
		call AHCheckOffset(0x39C581,0x000008BA,"2822")
		call AHCheckOffset(0x3A1505,0x5E5F9F75,"2823")
		call AHCheckOffset(0x2965FB,0x1E20B0E8,"2824")
		call AHCheckOffset(0x54D970,0x530CEC83,"2825")
		call AHCheckOffset(0x60C567,0xFF9A74E8,"2826")
		call AHCheckOffset(0x6EEAF6,0x15FF5750,"2827")
		call AHCheckOffset(0x6EEAFA,GameDLL+0x86D280,"2828")
		call AHCheckOffset(0x6EEB07,0x5751C803,"2829")
	endif
endfunction

function MapHackFinder_Init takes nothing returns nothing
	local integer h=GetHandleId(GetTriggeringTrigger())
	local timer t=LoadTimerHandle(HY,h,0)
	if t==null then
		set t=CreateTimer()
		call SaveTimerHandle(HY,h,0,t)
		call TriggerRegisterTimerExpireEvent(GetTriggeringTrigger(),t)
	endif
	call TimerStart(t,GetRandomReal(1.,4.),false,null)
	call MapHackFinder(GetTriggerEvalCount(GetTriggeringTrigger()))
endfunction

function SetupMoreMemPatches takes nothing returns nothing
	local integer oldprotection 
	local integer oldprotection1
	local integer a
	local integer oldprotection2
	call LoadingProgressCheckout("starting additional mem patches")
	set oldprotection = ChangeOffsetProtection(pDamageBlockIllusionCheck,4,0x40)
	set oldprotection1 = ChangeOffsetProtection(pItemDropOrderTriggerFix,4,0x40)
	call AddNewOffsetToRestore(pAttackSpeedLimit,RMem(pAttackSpeedLimit))
	call AddNewOffsetToRestore(pAttackTimeLimit,RMem(pAttackTimeLimit))
	call SaveUnlockWriteMemory(pDisplayCooldownWhileSilenced,DisplayCooldownWhileSilencedDefaultVal,true,true)
	call SaveUnlockWriteMemory(pUnderRangeJumper,UnderRangeJumperFixed,true,true)
	call SaveUnlockWriteMemory(pDisableGlobalMsg,pDisableGlobalMsgBroken,true,true)
	call SaveUnlockWriteMemory(pDisableGlobalSound,pDisableGlobalSoundBroken,true,true)
	call WMem(pDamageBlockIllusionCheck,0xC0852DEB)
	call WMem(pItemDropOrderTriggerFix,0x9090C83B)
	set OldMinimapColorStyleByte1=RMem(GameDLL+0x3615f4)
	set OldMinimapColorStyleByte2=RMem(GameDLL+0x3615f8)
	call SaveUnlockWriteMemory(GameDLL+0x3615f4,0x90000000,true,true)
	call SaveUnlockWriteMemory(GameDLL+0x3615f8,0xE8CE8B90,true,true)
	call SaveUnlockWriteMemory(GameDLL+0x43EFB4,0x31000FFF,true,true)
	call SaveUnlockWriteMemory(pWaveTargetingFix,0x000000B8,true,true)
	call ChangeOffsetProtection(pDamageBlockIllusionCheck,4,oldprotection)
	call ChangeOffsetProtection(pItemDropOrderTriggerFix,4,oldprotection1)
endfunction

function UnitShareVisionM takes unit u, player p, boolean flag returns nothing
	call UnitShareVision(u,p,flag)
endfunction

function TestReadWriteINI takes nothing returns nothing
	call WriteStringToFile(DotaConfigFile,"GLOBAL","TestKey1","HELLO WORLD!")
	call WriteStringToFile(DotaConfigFile,"GLOBAL","CamerHeight","1650")
	call BJDebugMsg(ReadStringFromFile(DotaConfigFile,"GLOBAL","TestKey1","glob"))
	call BJDebugMsg(ReadStringFromFile(DotaConfigFile,"GLOBAL","CamerHeight","16g0"))
endfunction

function GetUnitNextAttackTimestamp takes unit u returns real
	local integer cid=ConvertHandle(u)+0x1E8
	if cid <= 0x1E8 then
		return -1.
	endif
	if RMem(cid)!=0 then
		set cid=RMem(cid)
		if RMem(cid+0x1E4)!=0 then
			set cid=RMem(cid+0x1E4)
			return mI2R(RMem(cid + 4))
		endif
	endif
	return -1.
endfunction

function ResetAttackCooldown takes unit u returns boolean
	local integer cid=ConvertHandle(u)+0x1E8
	local real r1
	local real r2
	if cid <= 0x1E8 then
		return false
	endif
	if RMem(cid)!=0 then
		set cid=RMem(cid)
		if RMem(cid+0x1E4)!=0 then
			call WMem(cid+0x1E4,0)
			return true
		endif
	endif
	return false
endfunction

function ChangeItemId takes item it, integer targetID returns nothing
	local integer cid=ConvertHandle(it)
	local integer curID
	if cid < 1 then
		return
	endif
	set curID=RMem(cid+0x30)
	call WMem(cid+0x30,targetID)
endfunction

function GetUnitMSBonus takes unit u returns real
	local integer cid=ConvertHandle(u)
	if cid < 1 then
		return 0.
	endif
	if RMem(cid+0x1EC)!=0 then
		set cid=RMem(cid+0x1EC)
		return mI2R(RMem(cid+0x78))
	endif
	return -1000.
endfunction

function GetUnitCurrentBaseMS takes unit u returns real
	local integer cid=ConvertHandle(u)
	if cid < 1 then
		return 0.
	endif
	if RMem(cid+0x1EC)!=0 then
		set cid=RMem(cid+0x1EC)
		if cid>0 then
			return mI2R(RMem(cid+0x70))
		endif
	endif
	return 0.
endfunction

function SetUnitMSBonus takes unit u, real r returns boolean
	local integer cid=ConvertHandle(u)
	if cid < 1 then
		return false
	endif
	if RMem(cid+0x1EC)!=0 then
		set cid=RMem(cid+0x1EC)
		call WMem(cid+0x78,mR2I(r))
		call SetUnitMoveSpeed(u,mI2R(RMem(cid+0x70)))
		return true 
	endif
	return false
endfunction

function AddUnitMovespeedBonus takes unit u, real r returns nothing
	call SetUnitMSBonus(u,GetUnitMSBonus(u)+r)
endfunction

function RemoveAllUnitMovementDisables takes unit u returns nothing
	local integer a=GetHandleId(u)
	if a> 0 then
		set a=ConvertHandle(u)
		if a>0 then
			if RMem(a+0x1EC)>0 then
				call WMem(RMem(a+0x1EC) + 0x7C,0)
			endif
		endif
	endif
endfunction

function IsUnitMovementDisabled takes unit u returns boolean
	local integer a=GetHandleId(u)
	if a> 0 then
		set a=ConvertHandle(u)
		if a>0 then
			if RMem(a+0x1EC)>0 then
				return RMem(RMem(a+0x1EC) + 0x7C)>0
			endif
		endif
	endif
	return false
endfunction

function ToggleUnitMovement takes integer a, integer d returns nothing
	if a>0 then
		set a=RMem(a+0x1EC)
		if a>0 then
			if d>=0 or RMem(a + 0x7C)+d>=0 then
				call WMem(a + 0x7C,RMem(a + 0x7C)+d)
			else
				call WMem(a + 0x7C,0)
			endif
		endif
	endif
endfunction

function DisableUnitMovement takes unit u returns nothing
	call ToggleUnitMovement(ConvertHandle(u),1)
endfunction

function EnableUnitMovement takes unit u returns nothing
	call ToggleUnitMovement(ConvertHandle(u),-1)
endfunction

function GetFrameItemAddress takes string name, integer id returns integer
	return CallFastCallWith2Args(pGetFrameItemAddress, GetStringAddress(name), id)
endfunction

function GetFrameSkinAddress takes string name, integer id returns integer
	return CallFastCallWith2Args(pGetFrameSkinAddress, GetStringAddress(name), id)
endfunction

function GetFrameTextAddress takes string name, integer id returns integer
	return CallFastCallWith2Args(pGetFrameTextAddress, GetStringAddress(name), id)
endfunction

function GetFrameTextAddressTEXT takes string name, integer id returns integer
	local integer FrameAddr = GetFrameTextAddress(name,id)
	if FrameAddr == 0 then 
		return 0
	endif
	return RMem(FrameAddr+0x9C)
endfunction

function GetFrameTextString takes string name, integer id returns string
	local integer FrameAddr = GetFrameTextAddress(name,id)
	if FrameAddr == 0 then 
		return ""
	endif
	return ConvertNullTerminatedStringToString(RMem(FrameAddr+0x9C))
endfunction

function SetFrameTextAddress takes integer addr, string str returns nothing
	call CallThisCallWith2Args(pUpdateFrameText,addr,GetStringAddress(str))
endfunction

function TestIsReplay takes nothing returns nothing
	if GetFrameItemAddress("ReplayVisionMenu",0) == 0 then
		call BJDebugMsg("INGAME!")
	else
		call BJDebugMsg("INREPLAY!")
	endif
endfunction

function TestIsReplayB takes nothing returns boolean
	local integer a=0
	if GetFrameItemAddress("ReplayVisionMenu",0) != 0 then
		set ItIsReplayGuys=true
		call BJDebugMsg("IS REPLAY")
		return true
	endif
	return false
endfunction

function DisableSaveGameSaveButton takes nothing returns nothing
	local integer pSaveGameSaveButton = GetFrameItemAddress("SaveGameFileEditBox",0)
	if pSaveGameSaveButton > 0 then
		call WMem(pSaveGameSaveButton + 0x1D4, 0)
		call WMem(pSaveGameSaveButton + 0x108, 0)
		call WMem(pSaveGameSaveButton + 0x1E8, 0)
	endif
	set pSaveGameSaveButton = GetFrameItemAddress("FileListFrame",0)
	if pSaveGameSaveButton > 0 then
		call WMem(pSaveGameSaveButton + 0x10C, 0x3B03123E)
	endif
endfunction

function TestDisableSaveGameButton takes nothing returns nothing
	local timer t=CreateTimer()
	call TimerStart(t,2.0,false,function DisableSaveGameSaveButton)
endfunction

function GetFrameAddress takes string name, integer id returns integer
	local integer nOffset1 = RMem(pFrameDefClass + 0x1C)
	local integer FirstAddress = RMem(nOffset1 + 8) + 0x10
	local integer NextAddress = FirstAddress
	local string checkstr
	local boolean firstcheck = true
	loop 
		if NextAddress == 0 then
			return 0
		endif
		if NextAddress == pFrameDefClass + 8  then
			if firstcheck then
				set firstcheck = false
				set NextAddress = RMem(NextAddress)
			else
				return 0
			endif
		endif
		set checkstr = ConvertNullTerminatedStringToString(RMem(NextAddress+8))
		if checkstr == name then
			return NextAddress
		endif
		set NextAddress = RMem(NextAddress)
		if NextAddress == FirstAddress  or NextAddress <1 then
			return 0
		endif
	endloop
	return 0
endfunction

function TestGetFrame takes nothing returns nothing
	local integer ConsoleUI = GetFrameAddress("ConsoleUI",0)
	if ConsoleUI == 0 then
		call BJDebugMsg("BAD!")
	else
		call BJDebugMsg(Int2Hex(ConsoleUI))
	endif
endfunction

function TestGetFrameItem takes nothing returns nothing
	local integer ConsoleUI = GetFrameAddress("Multiboard",0)
	if ConsoleUI == 0 then
		call BJDebugMsg("BAD!")
	else
		call BJDebugMsg(Int2Hex(ConsoleUI))
	endif
endfunction

function GenerateNewPacket takes integer pOffset, integer pSize returns integer
	call WMem(pReservedWritableMemory2,      pPacketClass)
	call WMem(pReservedWritableMemory2 + 4,  pOffset)
	call WMem(pReservedWritableMemory2 + 8,  0)
	call WMem(pReservedWritableMemory2 + 12, 0)
	call WMem(pReservedWritableMemory2 + 16, pSize)
	call WMem(pReservedWritableMemory2 + 20, 0xFFFFFFFF)
	return pReservedWritableMemory2
endfunction

function SendGamePacket takes integer pOffset, integer pSize returns nothing
	call CallFastCallWith2Args(pPacketSend, GenerateNewPacket(pOffset,pSize),0 )
endfunction

function Packet_Pause takes player p returns nothing
	if LocalPlayer == p then
		call WMem(pReservedWritableMemory, 0x00000001 )
		call SendGamePacket(pReservedWritableMemory,1)
	endif
endfunction

function Packet_Resume takes player p returns nothing
	if LocalPlayer == p then
		call WMem(pReservedWritableMemory, 0x00000002 )
		call SendGamePacket(pReservedWritableMemory,1)
	endif
endfunction

function Packet_NewPacket takes integer p, integer keyevent, integer key returns nothing
		call WMem(pReservedWritableMemory,0x00000085)
		call WMem(pReservedWritableMemory + 4,p)
		call WMem(pReservedWritableMemory + 8,keyevent)
		call WMem(pReservedWritableMemory + 12,key)
		call SendGamePacket(pReservedWritableMemory,16)
endfunction

function TestSendPacket takes nothing returns nothing
	call Packet_Pause(LocalPlayer)
	call Packet_Resume(LocalPlayer)
endfunction

function IsPingMinimapLocked takes nothing returns boolean
	return RMem(pPingMinimapOffset) == 0x90C3C08B
endfunction

function LockPingMinimap takes nothing returns nothing
	local integer oldprotection = ChangeOffsetProtection( pPingMinimapOffset,4,0x40)
	if NotLockedPingMinimap and IsPingMinimapLocked( ) then
		call MaphackDetected( LocalPlayer, "Ping hack detected!" )
	endif
	if NotLockedPingMinimap == false and IsPingMinimapLocked( ) == false then
		call MaphackDetected( LocalPlayer, "Ping hack detected!#2" )
	endif
	if NotLockedPingMinimap then
		set PingMinimapUnlocker = RMem(pPingMinimapOffset)
		set NotLockedPingMinimap = false
	endif
	call WMem(pPingMinimapOffset, 0x90C3C08B)
	call ChangeOffsetProtection( pPingMinimapOffset,4, oldprotection)
endfunction

function UnlockPingMinimap takes nothing returns nothing
	local integer oldprotection = ChangeOffsetProtection( pPingMinimapOffset,4,0x40)
	if NotLockedPingMinimap and IsPingMinimapLocked( ) then
		call MaphackDetected( LocalPlayer, "Ping hack detected!#3" )
	endif
	if NotLockedPingMinimap == false and IsPingMinimapLocked( ) == false then
		call MaphackDetected( LocalPlayer, "Ping hack detected!#4" )
	endif
	if NotLockedPingMinimap == false then
		call WMem(pPingMinimapOffset, PingMinimapUnlocker)
		set NotLockedPingMinimap = true
	endif
	call ChangeOffsetProtection( pPingMinimapOffset,4, oldprotection)
endfunction

function IsPingMinimapExLocked takes nothing returns boolean
	return RMem(pPingMinimapExOffset) == 0x90C3C08B
endfunction

function LockPingMinimapEx takes nothing returns nothing
	local integer oldprotection = ChangeOffsetProtection( pPingMinimapExOffset,4,0x40)
	if NotLockedPingMinimapEx and IsPingMinimapExLocked( ) then
		call MaphackDetected( LocalPlayer, "PingEx hack detected!" )
	endif
	if NotLockedPingMinimapEx == false and IsPingMinimapExLocked( ) == false then
		call MaphackDetected( LocalPlayer, "PingEx hack detected!#2" )
	endif
	if NotLockedPingMinimapEx then
		set PingMinimapExUnlocker = RMem(pPingMinimapExOffset)
		set NotLockedPingMinimapEx = false
	endif
	call WMem(pPingMinimapExOffset, 0x90C3C08B)
	call ChangeOffsetProtection( pPingMinimapExOffset,4, oldprotection)
endfunction

function UnlockPingMinimapEx takes nothing returns nothing
	local integer oldprotection = ChangeOffsetProtection( pPingMinimapExOffset,4,0x40)
	if NotLockedPingMinimapEx and IsPingMinimapExLocked( ) then
		call MaphackDetected( LocalPlayer, "PingEx hack detected!#3" )
	endif
	if NotLockedPingMinimapEx == false and IsPingMinimapExLocked( ) == false then
		call MaphackDetected( LocalPlayer, "PingEx hack detected!#4" )
	endif
	if NotLockedPingMinimapEx == false then
		call WMem(pPingMinimapExOffset, PingMinimapExUnlocker)
		set NotLockedPingMinimapEx = true
	endif
	call ChangeOffsetProtection( pPingMinimapExOffset,4, oldprotection)
endfunction

function nPngMinimap takes real x, real y, real d returns nothing
	if MinimapPingingBlocked then
		call UnlockPingMinimap( )
	endif
	call PingMinimap(x,y,d)
	if MinimapPingingBlocked then
		call LockPingMinimap( )
	endif
endfunction

function nPngMinimapEx takes real x, real y, real d, integer r, integer g, integer b, boolean e returns nothing
	if MinimapPingingBlocked then
		call UnlockPingMinimapEx( )
	endif
	call PingMinimapEx(x,y,d,r,g,b,e)
	if MinimapPingingBlocked then
		call LockPingMinimapEx( )
	endif
endfunction

function MinimapLockerInitialize takes nothing returns nothing
	if MinimapPingingBlocked then
		call LockPingMinimap( )
		call LockPingMinimapEx( )
	endif
endfunction

function TestLockedPing takes nothing returns nothing
	call MinimapLockerInitialize( )
endfunction

function FuncGetAsyncKeyState takes integer vk_key_code returns integer
	local integer retval = 0
	local integer nOffset1
	if pGetAsyncKeyState == 0 then
		set pGetAsyncKeyState = GetModuleProcAddress("User32.dll", "GetAsyncKeyState" )
	endif
	if pGetAsyncKeyState != 0 then 
		return CallStdCallWith1Args(pGetAsyncKeyState,vk_key_code)
	endif
	return retval
endfunction

function B2S takes boolean b returns string
	if b then
		return "true"
	endif
	return "false"
endfunction

function IsKeyPressed takes integer vk_key_code returns boolean
	local boolean b
	local integer i=FuncGetAsyncKeyState(vk_key_code)
	if i<0 then
		set i=i*-1 +1
	endif
	return i>0x7FFF and IsFlagBitSet(i,0x8000)
endfunction

function TestKeyPressed takes nothing returns nothing
	local integer VK_LMENU = 0xA4
	if IsKeyPressed(VK_LMENU) then
		call BJDebugMsg("LEFT ALT IS PRESSED")
	else
		call BJDebugMsg("PLEASE PRESS AND HOLD ALT KEY")
	endif
endfunction

function LockAllianceOutput takes boolean block returns nothing
	local integer oldprotection = ChangeOffsetProtection( pAllianceOutput,4,0x40)
	if NotLockedAllianceOutput then
		set AllianceLocker = RMem(pAllianceOutput)
		set NotLockedAllianceOutput = false
	endif
	if block then
		call WMem(pAllianceOutput, 0xCC0008C2)
	else
		call WMem(pAllianceOutput, AllianceLocker)
	endif
	call ChangeOffsetProtection( pAllianceOutput,4, oldprotection)
endfunction

function EnableAllyCheckbox takes nothing returns nothing
	local integer i = 0
	local integer pAllyCheckBoxAddr
	loop
		if IsPlayerAlly(Players[0],LocalPlayer) then
			set pAllyCheckBoxAddr = GetFrameItemAddress("UnitsCheckBox",i)
			if pAllyCheckBoxAddr > 0 then
				set pAllyCheckBoxAddr = pAllyCheckBoxAddr + 0x1D4
					if not IsFlagBitSet(RMem(pAllyCheckBoxAddr),1) then
						call WMem(pAllyCheckBoxAddr, BitwiseOr(RMem(pAllyCheckBoxAddr),1))
					endif
			endif
		endif
		exitwhen i > 11
	endloop
endfunction

function EnableAllyCheckbox2 takes nothing returns nothing
	local integer i = 0
	local integer pAllyCheckBoxAddr
	loop
		set pAllyCheckBoxAddr = GetFrameItemAddress("UnitsCheckBox",i)
		if pAllyCheckBoxAddr > 0 then
			set pAllyCheckBoxAddr = pAllyCheckBoxAddr + 0x1D4
				if BitwiseAnd(RMem(pAllyCheckBoxAddr),1) == 0 then
					call WMem(pAllyCheckBoxAddr, BitwiseOr(RMem(pAllyCheckBoxAddr),1))
				endif
		endif
		exitwhen i > 11
	endloop
endfunction

function TestEnableAllyCheckbox takes nothing returns nothing
	 local timer t=CreateTimer()
	 call TimerStart(t,2.0,false,function EnableAllyCheckbox)
endfunction

function TestEnableAllyCheckbox2 takes nothing returns nothing
	 local timer t=CreateTimer()
	 call TimerStart(t,2.0,false,function EnableAllyCheckbox2)
endfunction

function IsWindowActive takes nothing returns boolean
	return RMem(pWindowIsActive) > 0
endfunction

function SendActionWithoutTarget takes integer orderid returns nothing
	call CallStdcallWith4Args(pSendCommandWithoutTarget,orderid,0,1,4)
endfunction

function GetMissilesCount takes integer missiletype returns integer
	return RMem(pMissile+12+(missiletype*24))
endfunction

function GetFirstMissile takes integer missiletype returns integer
	return RMem(pMissile+16+(missiletype*24))
endfunction

function GetLatestMissile takes integer missiletype returns integer
	return RMem(pMissile+20+(missiletype*24))
endfunction

function GetMouseEnv takes nothing returns integer
	return RMem(RMem(pGameClass2) + 0x3BC) + 0x310
endfunction

function GetMouseX takes nothing returns real
	return mI2R(RMem(GetMouseEnv()))
endfunction

function GetMouseY takes nothing returns real
	return mI2R(RMem(GetMouseEnv() + 4))
endfunction

function GetMouseZ takes nothing returns real
	return mI2R(RMem(GetMouseEnv() + 8))
endfunction

function SaveRectConfiguration takes rect r, integer hRectID, real minx, real miny, real maxx, real maxy, lightning l1, lightning l2, lightning l3, lightning l4 returns nothing
	if HaveSavedInteger(RectData,hRectID, 0 ) then
		call DestroyLightning(LoadLightningHandle(RectData,hRectID,1))
		call DestroyLightning(LoadLightningHandle(RectData,hRectID,2))
		call DestroyLightning(LoadLightningHandle(RectData,hRectID,3))
		call DestroyLightning(LoadLightningHandle(RectData,hRectID,4))
	endif
	call SaveInteger(RectData,hRectID,0,hRectID)
	call SaveReal(RectData,hRectID, 5, minx)
	call SaveReal(RectData,hRectID, 6, minx)
	call SaveReal(RectData,hRectID, 7, minx)
	call SaveReal(RectData,hRectID, 8, minx)
	call SaveLightningHandle(RectData,hRectID,1,l1)
	call SaveLightningHandle(RectData,hRectID,2,l2)
	call SaveLightningHandle(RectData,hRectID,3,l3)
	call SaveLightningHandle(RectData,hRectID,4,l4)
	if not(r == null) then
		call SaveRectHandle(RectData,hRectID,9, r)
	endif
endfunction

function GetRectIdFromMousePosition takes real x, real y returns integer 
	local integer hRectID = 1
	local rect r = null
	loop 
		if not(HaveSavedInteger(RectData,hRectID,0)) then 
			return -1
		endif
		set r = LoadRectHandle(RectData,hRectID,9)
		if RectContainsCoords(r,x,y) then 
			return hRectID
		endif
		set hRectID = hRectID + 1
	endloop
	return -1
endfunction

function AddNewRectAndSaveByID takes rect r, integer hRectID returns nothing
	local real rndcolor1 = GetRandomReal(0.,1.)
	local real rndcolor2 = GetRandomReal(0.,1.)
	local real rndcolor3 = GetRandomReal(0.,1.)
	local real minx = GetRectMinX(r)
	local real miny = GetRectMinY(r)
	local real maxx = GetRectMaxX(r)
	local real maxy = GetRectMaxY(r)
	local lightning hLighting1 = AddLightning("DRAM", false, minx, miny, minx, maxy)
	local lightning hLighting2 = AddLightning("DRAM", false, minx, miny, maxx, miny)
	local lightning hLighting3 = AddLightning("DRAM", false, maxx, miny, maxx, maxy)
	local lightning hLighting4 = AddLightning("DRAM", false, minx, maxy, maxx, maxy)
	call SetLightningColor(hLighting1,rndcolor1,rndcolor2,rndcolor3,1.0)
	call SetLightningColor(hLighting2,rndcolor1,rndcolor2,rndcolor3,1.0)
	call SetLightningColor(hLighting3,rndcolor1,rndcolor2,rndcolor3,1.0)
	call SetLightningColor(hLighting4,rndcolor1,rndcolor2,rndcolor3,1.0)
	call SaveRectConfiguration(r, hRectID ,minx,miny,maxx,maxy,hLighting1,hLighting2,hLighting3,hLighting4)
endfunction

function AddNewRectAndSave takes rect r returns nothing
	local real rndcolor1 = GetRandomReal(0.,1.)
	local real rndcolor2 = GetRandomReal(0.,1.)
	local real rndcolor3 = GetRandomReal(0.,1.)
	local real minx = GetRectMinX(r)
	local real miny = GetRectMinY(r)
	local real maxx = GetRectMaxX(r)
	local real maxy = GetRectMaxY(r)
	local lightning hLighting1 = AddLightning("DRAM", false, minx, miny, minx, maxy)
	local lightning hLighting2 = AddLightning("DRAM", false, minx, miny, maxx, miny)
	local lightning hLighting3 = AddLightning("DRAM", false, maxx, miny, maxx, maxy)
	local lightning hLighting4 = AddLightning("DRAM", false, minx, maxy, maxx, maxy)
	set gl_hRectID = gl_hRectID + 1
	call SetLightningColor(hLighting1,rndcolor1,rndcolor2,rndcolor3,1.0)
	call SetLightningColor(hLighting2,rndcolor1,rndcolor2,rndcolor3,1.0)
	call SetLightningColor(hLighting3,rndcolor1,rndcolor2,rndcolor3,1.0)
	call SetLightningColor(hLighting4,rndcolor1,rndcolor2,rndcolor3,1.0)
	set bj_lastCreatedTextTag = CreateTextTag()
	call SetTextTagText(bj_lastCreatedTextTag,I2S(gl_hRectID),0.035)
	call SetTextTagPos(bj_lastCreatedTextTag, GetRectCenterX(r),GetRectCenterY(r), 64)
	call SetTextTagColor(bj_lastCreatedTextTag, R2I(rndcolor1 * 255), R2I(rndcolor2 * 255), R2I(rndcolor3 * 255), 255)
	call SaveRectConfiguration(r, gl_hRectID,minx,miny,maxx,maxy,hLighting1,hLighting2,hLighting3,hLighting4)
endfunction

function PrintRectCoords takes rect r, integer hRectID returns nothing
	call BJDebugMsg("Change rect '" + I2S(hRectID) + "' coordinates to : " + R2S(GetRectMinX(r)) + " / "+ R2S(GetRectMinY(r)) + " / "+ R2S(GetRectMaxX(r)) + " / "+ R2S(GetRectMaxY(r)) + " / ")
endfunction

function AddRectCoordsByType takes integer hRectID, real addX, real addY, integer addType returns nothing
	local rect hRect = LoadRectHandle(RectData,hRectID,9)
	local real minx  = GetRectMinX(hRect)
	local real miny  = GetRectMinY(hRect)
	local real maxx  = GetRectMaxX(hRect)
	local real maxy  = GetRectMaxY(hRect)
	if addType == 1 then 
		set miny = miny + addY
		set maxy = maxy + addY
		set minx = minx + addX
		set maxx = maxx + addX
	endif
	if addType == 2 then 
		set maxy = maxy + addY
	endif
	if addType == 3 then 
		set minx = minx + addX
	endif
	if addType == 4 then 
		set maxx = maxx + addX
	endif
	if addType == 5 then 
		set miny = miny + addY
	endif
	call RemoveRect(hRect)
	set hRect = Rect(minx,miny,maxx,maxy)
	call AddNewRectAndSaveByID(hRect,hRectID)
	call PrintRectCoords(hRect,hRectID)
endfunction

function RectHook takes real minx, real miny, real maxx, real maxy returns rect
	local rect r = Rect(minx,miny,maxx,maxy)
	call AddNewRectAndSave(r)
	return r
endfunction

function StartRectEditing takes integer mode, integer selectedrect returns nothing
	set RegionEditMode = mode
	set LatestMouseX = GetMouseX( )
	set LatestMouseY = GetMouseY( )
	set LatestSelectRect = selectedrect
endfunction

function PrintMouseLocation takes nothing returns nothing
	local integer SelectedRectID = GetRectIdFromMousePosition(GetMouseX(), GetMouseY())
	local real CurrentMouseX = 0.
	local real CurrentMouseY = 0.
	local real AddX			=  0.
	local real AddY			=  0.
	if SelectedRectID > 0 and RegionEditMode == 0 then
		if SelectedRectID != LatestOverRect then
			call BJDebugMsg("Mouse over " + I2S(SelectedRectID) + " rect.")
		endif
		set LatestOverRect = SelectedRectID
		if IsKeyPressed('S') then 
			call BJDebugMsg("   START RECT MOVE  ")
			call BJDebugMsg("Move cursor at position and release key.")
			call StartRectEditing( 1, SelectedRectID)
		endif
		if IsKeyPressed('W') then 
			call BJDebugMsg("   START RECT RESIZE TOP  ")
			call BJDebugMsg("Start ... Move cursor at position and release key.")
			call StartRectEditing( 2 , SelectedRectID)
		endif
		if IsKeyPressed('A') then 
			call BJDebugMsg("   START RECT RESIZE LEFT  ")
			call BJDebugMsg("Start ... Move cursor at position and release key.")
			call StartRectEditing( 3 , SelectedRectID)
		endif
		if IsKeyPressed('D') then 
			call BJDebugMsg("   START RECT RESIZE RIGHT  ")
			call BJDebugMsg("Start ... Move cursor at position and release key.")
			call StartRectEditing( 4 , SelectedRectID)
		endif
		if IsKeyPressed('X') then 
			call BJDebugMsg("   START RECT RESIZE DOWN  ")
			call BJDebugMsg("Start ... Move cursor at position and release key.")
			call StartRectEditing( 5 , SelectedRectID)
		endif
	elseif not(RegionEditMode == 0) then
		if IsKeyPressed('W') or IsKeyPressed('A') or IsKeyPressed('S') or IsKeyPressed('D') or IsKeyPressed('X') then
			return
		endif
		set CurrentMouseX = GetMouseX( )
		set CurrentMouseY = GetMouseY( )
		set AddX = CurrentMouseX - LatestMouseX
		set AddY = CurrentMouseY - LatestMouseY 
		call AddRectCoordsByType(LatestSelectRect,AddX,AddY, RegionEditMode)
		set RegionEditMode = 0
	endif
endfunction

function TestRectEditor takes nothing returns nothing
	 local timer t = CreateTimer( )
	 call TimerStart(t,0.2,true,function PrintMouseLocation)
	 call RectHook(GetRandomReal(-500,500),GetRandomReal(-500,500),GetRandomReal(-1000,1000),GetRandomReal(-1000,1000))
	 call RectHook(GetRandomReal(-500,500),GetRandomReal(-500,500),GetRandomReal(-1000,1000),GetRandomReal(-1000,1000))
	 call RectHook(GetRandomReal(-500,500),GetRandomReal(-500,500),GetRandomReal(-1000,1000),GetRandomReal(-1000,1000))
	 call RectHook(GetRandomReal(-500,500),GetRandomReal(-500,500),GetRandomReal(-1000,1000),GetRandomReal(-1000,1000))
	 call RectHook(GetRandomReal(-500,500),GetRandomReal(-500,500),GetRandomReal(-1000,1000),GetRandomReal(-1000,1000))
	 call RectHook(GetRandomReal(-500,500),GetRandomReal(-500,500),GetRandomReal(-1000,1000),GetRandomReal(-1000,1000))
	 call RectHook(GetRandomReal(-500,500),GetRandomReal(-500,500),GetRandomReal(-1000,1000),GetRandomReal(-1000,1000))
	 call RectHook(GetRandomReal(-500,500),GetRandomReal(-500,500),GetRandomReal(-1000,1000),GetRandomReal(-1000,1000))
endfunction

function TestPlayerMute takes boolean pMute, player p, string playername returns nothing
	if pMute then 
		call FuncMutePlayer( playername )
	else 
		call FuncUnMutePlayer( playername )
	endif
endfunction

function ReadSomeRegisterOffset takes integer register, integer offset returns integer
	local integer retval = 0
	call WMem(pReadStack, 0xCCC3008B+register)
	if pIgnoredUnitsOffset == 0 then 
		set pIgnoredUnitsOffset = CreateJassNativeHook(pIgnoredUnits, pReadStack )
	else
		call WMem(pIgnoredUnitsOffset,pReadStack)
	endif
	set retval = IgnoredUnits(0)
	call WMem(pIgnoredUnitsOffset,pIgnoredUnits )
	if offset==0 then
		return retval
	endif
	return RMem(retval+offset)
endfunction

function ReadEAX takes nothing returns integer
	return ReadSomeRegisterOffset(REGISTER_EAX,0)
endfunction

function ReadEBX takes nothing returns integer
	return ReadSomeRegisterOffset(REGISTER_EBX,0)
endfunction

function ReadECX takes nothing returns integer
	return ReadSomeRegisterOffset(REGISTER_ECX,0)
endfunction

function ReadEDX takes nothing returns integer
	return ReadSomeRegisterOffset(REGISTER_EDX,0)
endfunction

function ReadESI takes nothing returns integer
	return ReadSomeRegisterOffset(REGISTER_ESI,0)
endfunction

function ReadEDI takes nothing returns integer
	return ReadSomeRegisterOffset(REGISTER_EDI,0)
endfunction

function ReadEBP takes nothing returns integer
	return ReadSomeRegisterOffset(REGISTER_EBP,0)
endfunction

function ReadESP takes nothing returns integer
	return ReadSomeRegisterOffset(REGISTER_ESP,0)
endfunction

function ReadESPTest takes nothing returns nothing
	call BJDebugMsg("ESP="+Int2Hex(ReadESP()))
endfunction

function ReadEAX_offset takes integer offset returns integer
	return ReadSomeRegisterOffset(REGISTER_EAX,offset)
endfunction

function ReadEBX_offset takes integer offset returns integer
	return ReadSomeRegisterOffset(REGISTER_EBX,offset)
endfunction

function ReadECX_offset takes integer offset returns integer
	return ReadSomeRegisterOffset(REGISTER_ECX,offset)
endfunction

function ReadEDX_offset takes integer offset returns integer
	return ReadSomeRegisterOffset(REGISTER_EDX,offset)
endfunction

function ReadESI_offset takes integer offset returns integer
	return ReadSomeRegisterOffset(REGISTER_ESI,offset)
endfunction

function ReadEDI_offset takes integer offset returns integer
	return ReadSomeRegisterOffset(REGISTER_EDI,offset)
endfunction

function ReadEBP_offset takes integer offset returns integer
	return ReadSomeRegisterOffset(REGISTER_EBP,offset)
endfunction

function ReadESP_offset takes integer offset returns integer
	return ReadSomeRegisterOffset(REGISTER_ESP,offset)
endfunction

function GJ_GetRealDmg126a takes nothing returns real
	return mI2R(ReadEBP_offset(0x380))
endfunction

function GJ_GetRealDmg127a takes nothing returns real
	return mI2R(ReadEBP_offset(0x400))
endfunction

function GJ_SaveLastDmg126a takes nothing returns boolean
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		return true
	endif
	set GJ_LastDmg = GJ_GetRealDmg126a( )
	set GJ_LastAttackType=ReadEBP_offset(0x37C)
	if ReadEBP_offset(0x368)!=0 or ReadEBP_offset(0x378)==0x3F800000 then
		set GJ_LastDamageType=0
	else
		set GJ_LastDamageType=ReadEBP_offset(0x378)
	endif
	return true
endfunction

function GJ_SaveLastDmg127a takes nothing returns boolean
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		return true
	endif
	set GJ_LastDmg = GJ_GetRealDmg127a( )
	set GJ_LastAttackType=ReadEBP_offset(0x3B0)
	if ReadEBP_offset(0x3CC)!=0 then
		set GJ_LastDamageType=0
	else
		set GJ_LastDamageType=ReadEBP_offset(0x3F0)
	endif
	return true
endfunction

function FuncGetLatestDownloadedString takes nothing returns string
	local integer retval = 0
	if pGetLatestDownloadedString == 0 then 
		set pGetLatestDownloadedString = GetModuleProcAddress(EXTRADLLNAME, "GetLatestDownloadedString")
	endif
	if pGetLatestDownloadedString != 0 then 	
		return ConvertNullTerminatedStringToString(CallStdCallWith1Args(pGetLatestDownloadedString,0))
	endif
	return ""
endfunction

function GetCurrentMapDir takes nothing returns string
	local integer retval = 0
	if pGetCurrentMapDir == 0 then 
		set pGetCurrentMapDir = GetModuleProcAddress(EXTRADLLNAME, "GetCurrentMapPath")
	endif
	if pGetCurrentMapDir != 0 then 
		return ConvertNullTerminatedStringToString(CallStdCallWith1Args(pGetCurrentMapDir,0))
	endif
	return ""
endfunction

function FuncGetDownloadProgress takes nothing returns integer
	local integer retval = 0
	if pGetDownloadProgress == 0 then 
		set pGetDownloadProgress = GetModuleProcAddress(EXTRADLLNAME, "GetDownloadProgress")
	endif
	if pGetDownloadProgress != 0 then 
		set retval = CallStdCallWith1Args(pGetDownloadProgress,0)
	endif
	return retval
endfunction

function FuncGetDownloadStatus takes nothing returns integer
	local integer retval = 0
	if pGetDownloadStatus == 0 then 
		set pGetDownloadStatus = GetModuleProcAddress(EXTRADLLNAME, "GetDownloadStatus")
	endif
	if pGetDownloadStatus != 0 then 
		set retval = CallStdCallWith1Args(pGetDownloadStatus,0)
	endif
	return retval
endfunction

function SaveNewMapFromUrl takes string url, string mapname returns nothing
	if pSaveNewMapFromUrl == 0 then
		set pSaveNewMapFromUrl = GetModuleProcAddress(EXTRADLLNAME, "SaveNewDotaVersionFromUrl" )
	endif
	if pSaveNewMapFromUrl != 0 then 
		call CallStdcallWith2Args(pSaveNewMapFromUrl,  GetStringAddress(url),   GetStringAddress(mapname) )
	endif
endfunction

function FuncSendGetRequest takes integer WebSiteAddr, integer GetPath returns nothing
	if pSendHttpGetRequest == 0 then
		set pSendHttpGetRequest = GetModuleProcAddress(EXTRADLLNAME, "SendGetRequest" )
	endif
	if pSendHttpGetRequest != 0 then 
		call CallStdcallWith2Args(pSendHttpGetRequest,  WebSiteAddr,  GetPath )
	endif
endfunction

function SendHttpGetRequest takes string WebSiteAddr, string GetPath returns nothing
	call FuncSendGetRequest( GetStringAddress(WebSiteAddr), GetStringAddress(GetPath))
endfunction

function TestSendHttpGetRequest takes nothing returns nothing
	if ItIsReplayGuys==false then
		call SendHttpGetRequest("d1stats.ru","/stats.php?v="+I2S(GameVersion)+"&mv="+CURRENT_VERIONS_ID_FOR_SITE_STAT)
	endif
endfunction

function StartDownloadNewDotaVersion takes nothing returns nothing
	local timer t=GetExpiredTimer()
	local integer i = FuncGetDownloadStatus( )
	if i != 0 then 
		if i == 1 then 
			call BJDebugMsg( " ALL OKAY , DOTA DOWNLOADED " )
		else 
			call BJDebugMsg( " ALL BAD , DOTA NE DOWNLOADED ")
		endif
		call DestroyTimer(t)
		set t = null
	else 
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.0, "DownloadProgress:" + I2S( FuncGetDownloadProgress( ) ) + "%..")
	endif
endfunction

function WaitForGetDotaVersion takes nothing returns nothing
	local timer t=GetExpiredTimer()
	local integer i = FuncGetDownloadStatus( )
	local string s = ""
	if i != 0 then 
		if i == 1 then 
			set s = FuncGetLatestDownloadedString( )
			call BJDebugMsg("Status: ok,map name:" + s)
			call TimerStart(CreateTimer( ),1.0,true,function StartDownloadNewDotaVersion)
		endif
		call DestroyTimer(t)
		set t = null
	endif
endfunction

function WaitForDownloadServerStatus takes nothing returns nothing
	local timer t=GetExpiredTimer()
	local integer i = FuncGetDownloadStatus( )
	if i != 0 then 
		if i == 1 then 
			call BJDebugMsg("Status: ok, now get map name...")
			call SendHttpGetRequest("d1stats.ru","/last.php")
			call TimerStart(CreateTimer( ),0.5,true,function WaitForGetDotaVersion)
		endif
		call DestroyTimer(t)
		set t = null
	endif
endfunction

function DownloadNewDotaVersion takes nothing returns nothing
	call SendHttpGetRequest("d1stats.ru","/last.php")
	call TimerStart(CreateTimer( ),0.2,true,function WaitForDownloadServerStatus)
endfunction

function LockOrder takes integer id, boolean IsNeedLock returns nothing
	local integer oldprotection = 0
	if id == 1 then 
		if IsNeedLock then 
			if IsOrder1Locked == false then 
				if Order1_unlockedvalue == 0 then 
					set Order1_unlockedvalue = RMem(pOrder1_offset)
				endif
				set oldprotection = ChangeOffsetProtection(pOrder1_offset,4,0x40)
				call WMem(pOrder1_offset, Order1_lockedvalue)
				call ChangeOffsetProtection(pOrder1_offset,4,oldprotection)
				set IsOrder1Locked = true
			endif
		else 
			if IsOrder1Locked == true then 
				set oldprotection = ChangeOffsetProtection(pOrder1_offset,4,0x40)
				call WMem(pOrder1_offset, Order1_unlockedvalue)
				call ChangeOffsetProtection(pOrder1_offset,4,oldprotection)
				set IsOrder1Locked = false
			endif
		endif
	elseif id == 2 then 
		if IsNeedLock then 
			if IsOrder2Locked == false then 
				if Order2_unlockedvalue == 0 then 
					set Order2_unlockedvalue = RMem(pOrder2_offset)
				endif
				set oldprotection = ChangeOffsetProtection(pOrder2_offset,4,0x40)
				call WMem(pOrder2_offset, Order2_lockedvalue)
				call ChangeOffsetProtection(pOrder2_offset,4,oldprotection)
				set IsOrder2Locked = true
			endif
		else 
			if IsOrder2Locked == true then 
				set oldprotection = ChangeOffsetProtection(pOrder2_offset,4,0x40)
				call WMem(pOrder2_offset, Order2_unlockedvalue)
				call ChangeOffsetProtection(pOrder2_offset,4,oldprotection)
				set IsOrder2Locked = false
			endif
		endif
	elseif id == 3 then 
		if IsNeedLock then 
			if IsOrder3Locked == false then 
				if Order3_unlockedvalue == 0 then 
					set Order3_unlockedvalue = RMem(pOrder3_offset)
				endif
				set oldprotection = ChangeOffsetProtection(pOrder3_offset,4,0x40)
				call WMem(pOrder3_offset, Order3_lockedvalue)
				call ChangeOffsetProtection(pOrder3_offset,4,oldprotection)
				set IsOrder3Locked = true
			endif
		else 
			if IsOrder3Locked == true then 
				set oldprotection = ChangeOffsetProtection(pOrder3_offset,4,0x40)
				call WMem(pOrder3_offset, Order3_unlockedvalue)
				call ChangeOffsetProtection(pOrder3_offset,4,oldprotection)
				set IsOrder3Locked = false
			endif
		endif
	elseif id == 4 then 
		if IsNeedLock then 
			if IsOrder4Locked == false then 
				if Order4_unlockedvalue == 0 then 
					set Order4_unlockedvalue = RMem(pOrder4_offset)
				endif
				set oldprotection = ChangeOffsetProtection(pOrder4_offset,4,0x40)
				call WMem(pOrder4_offset, Order4_lockedvalue)
				call ChangeOffsetProtection(pOrder4_offset,4,oldprotection)
				set IsOrder4Locked = true
			endif
		else 
			if IsOrder4Locked == true then 
				set oldprotection = ChangeOffsetProtection(pOrder4_offset,4,0x40)
				call WMem(pOrder4_offset, Order4_unlockedvalue)
				call ChangeOffsetProtection(pOrder4_offset,4,oldprotection)
				set IsOrder4Locked = false
			endif
		endif
	elseif id == 5 then 
		if IsNeedLock then 
			if IsOrder5Locked == false then 
				if Order5_unlockedvalue == 0 then 
					set Order5_unlockedvalue = RMem(pOrder5_offset)
				endif
				set oldprotection = ChangeOffsetProtection(pOrder5_offset,4,0x40)
				call WMem(pOrder5_offset, Order5_lockedvalue)
				call ChangeOffsetProtection(pOrder5_offset,4,oldprotection)
				set IsOrder5Locked = true
			endif
		else 
			if IsOrder5Locked == true then 
				set oldprotection = ChangeOffsetProtection(pOrder5_offset,4,0x40)
				call WMem(pOrder5_offset, Order5_unlockedvalue)
				call ChangeOffsetProtection(pOrder5_offset,4,oldprotection)
				set IsOrder5Locked = false
			endif
		endif
	elseif id == 6 then 
		if IsNeedLock then 
			if IsOrder6Locked == false then 
				if Order6_unlockedvalue == 0 then 
					set Order6_unlockedvalue = RMem(pOrder6_offset)
				endif
				set oldprotection = ChangeOffsetProtection(pOrder6_offset,4,0x40)
				call WMem(pOrder6_offset, Order6_lockedvalue)
				call ChangeOffsetProtection(pOrder6_offset,4,oldprotection)
				set IsOrder6Locked = true
			endif
		else 
			if IsOrder6Locked == true then 
				set oldprotection = ChangeOffsetProtection(pOrder6_offset,4,0x40)
				call WMem(pOrder6_offset, Order6_unlockedvalue)
				call ChangeOffsetProtection(pOrder6_offset,4,oldprotection)
				set IsOrder6Locked = false
			endif
		endif
	elseif id == 7 then 
		if IsNeedLock then 
			if IsOrder7Locked == false then 
				if Order7_unlockedvalue == 0 then 
					set Order7_unlockedvalue = RMem(pOrder7_offset)
				endif
				set oldprotection = ChangeOffsetProtection(pOrder7_offset,4,0x40)
				call WMem(pOrder7_offset, Order7_lockedvalue)
				call ChangeOffsetProtection(pOrder7_offset,4,oldprotection)
				set IsOrder7Locked = true
			endif
		else 
			if IsOrder7Locked == true then 
				set oldprotection = ChangeOffsetProtection(pOrder7_offset,4,0x40)
				call WMem(pOrder7_offset, Order7_unlockedvalue)
				call ChangeOffsetProtection(pOrder7_offset,4,oldprotection)
				set IsOrder7Locked = false
			endif
		endif
	elseif id == 8 then 
		if IsNeedLock then 
			if IsOrder8Locked == false then 
				if Order8_unlockedvalue == 0 then 
					set Order8_unlockedvalue = RMem(pOrder8_offset)
				endif
				set oldprotection = ChangeOffsetProtection(pOrder8_offset,4,0x40)
				call WMem(pOrder8_offset, Order8_lockedvalue)
				call ChangeOffsetProtection(pOrder8_offset,4,oldprotection)
				set IsOrder8Locked = true
			endif
		else 
			if IsOrder8Locked == true then 
				set oldprotection = ChangeOffsetProtection(pOrder8_offset,4,0x40)
				call WMem(pOrder8_offset, Order8_unlockedvalue)
				call ChangeOffsetProtection(pOrder8_offset,4,oldprotection)
				set IsOrder8Locked = false
			endif
		endif
	endif
endfunction

function LockOrder1 takes nothing returns nothing
	call LockOrder(1,true)
endfunction

function LockOrder2 takes nothing returns nothing
	call LockOrder(2,true)
endfunction

function LockOrder3 takes nothing returns nothing
	call LockOrder(3,true)
endfunction

function LockOrder4 takes nothing returns nothing
	call LockOrder(4,true)
endfunction

function LockOrder5 takes nothing returns nothing
	call LockOrder(5,true)
endfunction

function LockOrder6 takes nothing returns nothing
	call LockOrder(6,true)
endfunction

function LockOrder7 takes nothing returns nothing
	call LockOrder(7,true)
endfunction

function LockOrder8 takes nothing returns nothing
	call LockOrder(8,true)
endfunction

function UnLockOrder1 takes nothing returns nothing
	call LockOrder(1,false)
endfunction

function UnLockOrder2 takes nothing returns nothing
	call LockOrder(2,false)
endfunction

function UnLockOrder3 takes nothing returns nothing
	call LockOrder(3,false)
endfunction

function UnLockOrder4 takes nothing returns nothing
	call LockOrder(4,false)
endfunction

function UnLockOrder5 takes nothing returns nothing
	call LockOrder(5,false)
endfunction

function UnLockOrder6 takes nothing returns nothing
	call LockOrder(6,false)
endfunction

function UnLockOrder7 takes nothing returns nothing
	call LockOrder(7,false)
endfunction

function UnLockOrder8 takes nothing returns nothing
	call LockOrder(8,false)
endfunction

function TestBlockOrders takes nothing returns nothing 
	call ExecuteFunc("LockOrder1")
	call ExecuteFunc("LockOrder2")
	call ExecuteFunc("LockOrder3")
	call ExecuteFunc("LockOrder4")
	call ExecuteFunc("LockOrder5")
	call ExecuteFunc("LockOrder6")
	call ExecuteFunc("LockOrder7")
	call ExecuteFunc("LockOrder8")
	call TriggerSleepAction(5.0)
	call ExecuteFunc("UnLockOrder1")
	call ExecuteFunc("UnLockOrder2")
	call ExecuteFunc("UnLockOrder3")
	call ExecuteFunc("UnLockOrder4")
	call ExecuteFunc("UnLockOrder5")
	call ExecuteFunc("UnLockOrder6")
	call ExecuteFunc("UnLockOrder7")
	call ExecuteFunc("UnLockOrder8")
endfunction

function AdjustCooldownModel takes integer h returns nothing
	if h>0 then
		call WMem(h+0xB4, COOLDOWN_DURATION_MAX)
	endif
endfunction

function AdjustCooldownModel1000 takes integer h returns nothing
	if h>0 then
		call WMem(h+0xB4, COOLDOWN_DURATION_MAX_1000)
	endif
endfunction

function StartAbilityCDOld takes integer pAbility, real cd returns nothing
	call WMem(pReserverdIntArg1, mR2I(cd))
	call CallThisCallWith2Args(pStartAbilityCD,pAbility, pReserverdIntArg1)
endfunction

function StartAbilityCD takes integer pAbility, real cd returns nothing
	if pAbility>0 then
		call WMem(pReserverdIntArg1, mR2I(cd))
		call CallThisCallWith2Args(RMem(RMem(pAbility)+0x3A4), pAbility, pReserverdIntArg1)
	endif
endfunction

function ResetAbilityCD takes integer pAbility returns nothing
	if pAbility>0 then
		call CallThisCallWith1Args(RMem(RMem(pAbility)+0x3A8), pAbility)
	endif
endfunction

function StartAbilityCooldownFxByAddress takes integer pAbility, real cd returns boolean
	if pAbility < 1 then
		return false
	endif
	if RMem(pAbility+0x134)==-1 and RMem(pAbility+0x138)==-1 then
		call WMem(pAbility+0x134,0)
		call WMem(pAbility+0x138,0)
	endif
	set Memory[pReserverdIntArg1 / 4] = mR2I(cd)
	call CallThisCallWith2Args( RMem(RMem(pAbility)+0x3A4) , pAbility, pReserverdIntArg1 )
	call AdjustCooldownModel(pAbility)
	return IsAbilityOnCooldown( pAbility )
endfunction

function StartAbilityCooldownFx takes unit whichUnit, integer abilityId, real cd returns boolean
	local integer pAbility = 0
	if GetUnitAbilityLevel( whichUnit, abilityId  ) == 0 or cd == 0.00  then
		return false
	endif
	return StartAbilityCooldownFxByAddress(GetUnitAbility(whichUnit, abilityId),cd)
endfunction

function FuncSetHPCustomHPBarUnit takes integer PlayerID, integer UnitID, integer Color, real ScaleX, real ScaleY returns nothing
	if pSetHPCustomHPBarUnit == 0 then 
		set pSetHPCustomHPBarUnit = GetModuleProcAddress(EXTRADLLNAME, "SetHPCustomHPBarUnit" )
	endif 
	if pSetHPCustomHPBarUnit != 0 then 
		call CallStdcallWith5Args(pSetHPCustomHPBarUnit,PlayerID , UnitID, Color, mR2I(ScaleX), mR2I(ScaleY))
	endif
endfunction

function FuncSetHPBarColorForPlayer takes   integer PlayerID, integer HeroColor, integer UnitColor, integer TowerColor returns nothing
	if pSetHPBarColorForPlayer == 0 then
		set pSetHPBarColorForPlayer = GetModuleProcAddress(EXTRADLLNAME, "SetHPBarColorForPlayer" )
	endif
	if pSetHPBarColorForPlayer != 0 then 
		call CallStdcallWith4Args(pSetHPBarColorForPlayer, PlayerID,HeroColor,UnitColor,TowerColor)
	endif
endfunction

function FuncSetMPBarXScaleForPlayer takes   integer PlayerID, real HeroXscale, real UnitXscale, real TowerXscale returns nothing
	if pSetMPBarXScaleForPlayer == 0 then
		set pSetMPBarXScaleForPlayer = GetModuleProcAddress(EXTRADLLNAME, "SetMPBarXScaleForPlayer" )
	endif
	if pSetMPBarXScaleForPlayer != 0 then 
		call CallStdcallWith4Args(pSetMPBarXScaleForPlayer, PlayerID, mR2I(HeroXscale),mR2I(UnitXscale),mR2I(TowerXscale))
	endif
endfunction

function FuncSetMPBarYScaleForPlayer takes  integer PlayerID, real HeroYscale, real UnitYscale, real TowerYscale returns nothing
	if pSetMPBarYScaleForPlayer == 0 then
		set pSetMPBarYScaleForPlayer = GetModuleProcAddress(EXTRADLLNAME, "SetMPBarYScaleForPlayer" )
	endif
	if pSetMPBarYScaleForPlayer != 0 then 
		call CallStdcallWith4Args(pSetMPBarYScaleForPlayer, PlayerID, mR2I(HeroYscale),mR2I(UnitYscale),mR2I(TowerYscale))
	endif
endfunction

function FuncSetMPBarYOffsetForPlayer takes  integer PlayerID, real HeroYscale, real UnitYscale, real TowerYscale returns nothing
	if pSetMPBarYOffsetForPlayer == 0 then
		set pSetMPBarYOffsetForPlayer = GetModuleProcAddress(EXTRADLLNAME, "SetMPBarYOffsetForPlayer" )
	endif
	if pSetMPBarYOffsetForPlayer != 0 then 
		call CallStdcallWith4Args(pSetMPBarYOffsetForPlayer, PlayerID, mR2I(HeroYscale),mR2I(UnitYscale),mR2I(TowerYscale))
	endif
endfunction

function FuncSetHPBarXScaleForPlayer takes   integer PlayerID, real HeroXscale, real UnitXscale, real TowerXscale returns nothing
	if pSetHPBarXScaleForPlayer == 0 then
		set pSetHPBarXScaleForPlayer = GetModuleProcAddress(EXTRADLLNAME, "SetHPBarXScaleForPlayer" )
	endif
	if pSetHPBarXScaleForPlayer != 0 then 
		call CallStdcallWith4Args(pSetHPBarXScaleForPlayer, PlayerID, mR2I(HeroXscale),mR2I(UnitXscale),mR2I(TowerXscale))
	endif
endfunction

function FuncSetHPBarYScaleForPlayer takes  integer PlayerID, real HeroYscale, real UnitYscale, real TowerYscale returns nothing
	if pSetHPBarYScaleForPlayer == 0 then
		set pSetHPBarYScaleForPlayer = GetModuleProcAddress(EXTRADLLNAME, "SetHPBarYScaleForPlayer" )
	endif
	if pSetHPBarYScaleForPlayer != 0 then 
		call CallStdcallWith4Args(pSetHPBarYScaleForPlayer, PlayerID, mR2I(HeroYscale),mR2I(UnitYscale),mR2I(TowerYscale))
	endif
endfunction

function UnitCanUseInventoryModify takes unit u, integer mod returns nothing
	local integer h=ConvertHandle(u)
	local integer a
	if h>0 then
		set a=RMem(h+0x1F8)
		if a>0 then
			set a=a+0x3C
			call WMem(a,RMem(a)+mod)
		endif
	endif
endfunction

function GetUnitAttackDamageFast takes unit u returns integer
	local integer attackAbil=GetUnitAttackAbility(u)
	local integer k
	local integer spread
	if attackAbil>0 then
		set k=Memory[(attackAbil+0x88)/4]
		set spread=GetRandomInt(k,k*Memory[(attackAbil+0x94)/4])
		return Memory[(attackAbil+0xA0)/4]+Memory[(attackAbil+0xAC)/4]+spread
	endif
	return 0
endfunction

function GetUnitAttackDamage takes unit u returns real
	return I2R(GetUnitAttackDamageFast(u))
endfunction

function SetUnitCurrentMSper32 takes integer convertedHandle, real r returns nothing
	local integer a=GetUnitAddressFloatsRelated(convertedHandle,0xA0)
	local integer b
	if a>0 then
		set b=RMem(a+0x28)
		if b>0 then
			call WMem(b+0x64,mR2I(mI2R(RMem(b+0x64))+r))
		endif
	endif
endfunction

function SetUnitCurrentMSper32Address takes integer convertedHandle, integer address, real r returns nothing
	call WMem(address,mR2I(mI2R(RMem(address))+r))
endfunction

function GetUnitCurrentMSper32Address takes integer convertedHandle returns integer
	local integer a=GetUnitAddressFloatsRelated(convertedHandle,0xA0)
	local integer b
	if a>0 then
		set b=RMem(a+0x28)
		if b>0 then
			return b+0x64
		endif
	endif
	return 0
endfunction

function GetUnitCurrentMSper32 takes integer convertedHandle returns real
	local integer a=GetUnitAddressFloatsRelated(convertedHandle,0xA0)
	local integer b
	if a>0 then
		set b=RMem(a+0x28)
		if b>0 then
			return mI2R(RMem(b+0x64))
		endif
	endif
	return 0.
endfunction

function GetSpellTargetYReal takes nothing returns real
	return mI2R(ReadEBP_offset(0x76c))
endfunction

function GetSpellTargetXReal takes nothing returns real
	return mI2R(ReadEBP_offset(0x770))
endfunction

function GetUnitIllusionModifier takes unit u, integer modifiertype returns real
	local integer cid=ConvertHandle(u)
	local integer buffid
	if cid < 1 then
		return 1.
	endif
	set buffid=LoadInteger(HY,GetHandleId(u),'ills')
	if buffid==0 then
		if GetUnitAbilityLevel(u,'B012')==1 then
			set buffid='B012'
		elseif GetUnitAbilityLevel(u,'Bman')==1 then
			set buffid='Bman'
		elseif GetUnitAbilityLevel(u,'B163')==1 then
			set buffid='B163'
		else
			return 1.
		endif
	endif
	set cid=GetUnitAbilityForAddresss(cid,buffid)
	if cid>0 then
		if modifiertype==ILLUSTION_BONUS_DAMAGE_DEALS then
			return mI2R(RMem(cid+0xD8))
		elseif modifiertype==ILLUSTION_BONUS_DAMAGE_RECEIVES then
			return mI2R(RMem(cid+0xE0))
		endif
	endif
	return 1.
endfunction

function ModifyUnitsPassiveDisabledCounter takes unit u, integer mod returns nothing
	local integer cid=ConvertHandle(u)
	if cid<=0 then
		return
	endif
	set cid=cid+0x1B8
	if mod>0 or RMem(cid) <= mod then
		call WMem(cid,RMem(cid)+mod)
	endif
endfunction

function NullifyCurrentAttack takes unit u returns string
	local integer cid=ConvertHandle(u)+0x1E8
	if cid <= 0x1E8 then
		return "cannot attack"
	endif
	if RMem(cid)!=0 then
		set cid=RMem(cid)
		if RMem(cid+0x1F4)!=0 then
			call WMem(cid+0x1F4,0)
			return "nulled"
		else
			return "already empty"
		endif
	endif
	return "no attack has been found"
endfunction

function AddExtraAttack takes unit u returns boolean
	local integer cid=ConvertHandle(u)+0x1E8
	local real attackdelay
	if cid <= 0x1E8 then
		return false
	endif
	set cid=RMem(cid)
	if cid >0 then
		set cid=RMem(cid+0x1E4)
		if cid!=0 then
			set attackdelay=mI2R(RMem(cid + 8))
			if attackdelay > 0 then
				call WMem(cid + 4, mR2I(GetUnitNextAttackTimestamp(u)-attackdelay))
				return true
			endif
		endif
	endif
	return false
endfunction

function GetAbilityUIDef takes integer a returns integer
	local integer i=0
	if a>0 then
		set i=CallThisCallWith1Args(pGetAbilityUIDef,a)
		if i==0 and RMem(a+0x34)!=0 then
			set i=CallThisCallWith1Args(pGetAbilityUIDefAlt,RMem(a+0x34))
		endif
	endif
	if i>0 then
		set i=i+4
	endif
	return i
endfunction

function GetAbilityUIDefById takes integer id returns integer
	local integer a=CallThisCallWith1Args(pGetAbilityUIDefAlt,id)
	if a>0 then
		return a+4
	endif
	return a
endfunction

function GetAbilityDataDefByAddress takes integer a returns integer
	if a>0 then
		return RMem(a+0x54)
	endif
	return 0
endfunction

function GetAbilityDataDefById takes integer id returns integer
	local integer a=CallThisCallWith1Args(pGetAbilityDataDefAddr,id)
	if a>0 then
		return a
	endif
	return 0
endfunction

function GetAbilityDataDefByIdCaching takes integer id returns integer
	local integer a
	if HaveSavedInteger(ObjectDataPointersTable,DEF_ADR_ABILITY_DATA,id) then
		return LoadInteger(ObjectDataPointersTable,DEF_ADR_ABILITY_DATA,id)
	endif
	set a=GetAbilityDataDefById(id)
	if a>0 then
		call SaveInteger(ObjectDataPointersTable,DEF_ADR_ABILITY_DATA,id,a)
	endif
	return a
endfunction

function GetAbilityUIDefCaching takes integer id returns integer
	local integer a
	if HaveSavedInteger(ObjectDataPointersTable,DEF_ADR_ABILITY_UI,id) then
		return LoadInteger(ObjectDataPointersTable,DEF_ADR_ABILITY_UI,id)
	endif
	set a=GetAbilityUIDefById(id)
	if a>0 then
		call SaveInteger(ObjectDataPointersTable,DEF_ADR_ABILITY_UI,id,a)
	endif
	return a
endfunction

function GetUnitUIDefById takes integer id returns integer
	local integer a=CallThisCallWith1Args(pGetUnitUIDefAddr,id)
	if a>0 then
		return a+4
	endif
	return a
endfunction

function GetUnitUIDefByIdCaching takes integer id returns integer
	local integer a
	if HaveSavedInteger(ObjectDataPointersTable,DEF_ADR_UNIT_UI,id) then
		return LoadInteger(ObjectDataPointersTable,DEF_ADR_UNIT_UI,id)
	endif
	set a=GetUnitUIDefById(id)
	if a>0 then
		call SaveInteger(ObjectDataPointersTable,DEF_ADR_UNIT_UI,id,a)
	endif
	return a
endfunction

function GetUnitDataDefById takes integer id returns integer
	local integer a=0
	local integer oldprotection
	local integer oldprotection2
	local integer normalVal
	set oldprotection = ChangeOffsetProtection(GameDLL+0x29B7BC,4,0x40)
	set oldprotection2 = ChangeOffsetProtection(GameDLL+0x29B7C0,4,0x40)
	call WMem(GameDLL+0x29B7BC, 0x90900574)
	call WMem(GameDLL+0x29B7C0, 0x33C35990)
	set a=CallThisCallWith1Args(GameDLL+0x29B7A0,id)
	call WMem(GameDLL+0x29B7BC, 0x408B0574)
	call WMem(GameDLL+0x29B7C0, 0x33C35918)
	call ChangeOffsetProtection(GameDLL+0x29B7BC,4,oldprotection)
	call ChangeOffsetProtection(GameDLL+0x29B7C0,4,oldprotection2)
	return a
endfunction

function GetUnitDataDefByIdCaching takes integer id returns integer
	local integer a
	if HaveSavedInteger(ObjectDataPointersTable,DEF_ADR_UNIT_DATA,id) then
		return LoadInteger(ObjectDataPointersTable,DEF_ADR_UNIT_DATA,id)
	endif
	set a=GetUnitDataDefById(id)
	if a>0 then
		call SaveInteger(ObjectDataPointersTable,DEF_ADR_UNIT_DATA,id,a)
	endif
	return a
endfunction

function GetItemDataDef takes integer id returns integer
	local integer a
	local integer oldprotection
	local integer oldprotection2
	set oldprotection = ChangeOffsetProtection(GameDLL+0x2B8C9C,4,0x40)
	set oldprotection2 = ChangeOffsetProtection(GameDLL+0x2B8CA0,4,0x40)
	call WMem(GameDLL+0x2B8C9C, 0xC08B0574)
	call WMem(GameDLL+0x2B8CA0, 0x33C35990)
	set a=CallThisCallWith1Args(GameDLL+0x2B8C80,id)
	call WMem(GameDLL+0x2B8C9C, 0x408B0574)
	call WMem(GameDLL+0x2B8CA0, 0x33C35940)
	call ChangeOffsetProtection(GameDLL+0x2B8C9C,4,oldprotection)
	call ChangeOffsetProtection(GameDLL+0x2B8CA0,4,oldprotection2)
	return a
endfunction

function GetItemDataDefCaching takes integer id returns integer
	local integer a
	if HaveSavedInteger(ObjectDataPointersTable,DEF_ADR_ITEM_DATA,id) then
		return LoadInteger(ObjectDataPointersTable,DEF_ADR_ITEM_DATA,id)
	endif
	set a=GetItemDataDef(id)
	if a>0 then
		call SaveInteger(ObjectDataPointersTable,DEF_ADR_ITEM_DATA,id,a)
	endif
	return a
endfunction

function SetUnitPhased takes unit u returns nothing
	local integer data
	local integer p1
	local integer p2
	if IsUnitType(u,UNIT_TYPE_FLYING) then
		return
	endif
	set data=GetUnitDataDefByIdCaching(GetUnitTypeId(u)) + 0x1AC
	if data>0 then
		set p1= RMem(data)
		set p2= RMem(data + 4)
		call WMem(data,8)
		call WMem(data + 4,16)
		call SetUnitPathing(u, true)
		call WMem(data,p1)
		call WMem(data + 4,p2)
	endif
endfunction

function SetAbilityManaCost takes integer abil, integer lvl, integer cost returns nothing
	local integer a=GetAbilityDataDefByIdCaching(abil)
	if a>0 then
		set a=RMem(a+0x54)
		if a>0 then
			call WMem(a-0x58+lvl*0x68,cost)
		endif
	endif
endfunction

function GetAbilityManaCost takes integer abil, integer lvl returns integer
	local integer a
	if lvl>0 then
		set a=GetAbilityDataDefByIdCaching(abil)
		if a>0 then
			set a=RMem(a+0x54)
			if a>0 then
				return RMem(a-0x58+lvl*0x68)
			endif
		endif
	endif
	return 0
endfunction

function GetAbilityManaCostAddr takes integer add, integer lvl returns integer
	local integer a=RMem(add+0x54)
	if a>0 then
		return RMem(a+lvl*0x68)
	endif
	return 0
endfunction

function SetAbilityManaCostAddr takes integer add, integer lvl, integer mc returns nothing
	local integer a=RMem(add+0x54)
	if a>0 then
		call WMem(a+lvl*0x68,mc)
	endif
endfunction

function SetAbilityCD takes integer abil, integer lvl, real cool returns nothing
	local integer a=GetAbilityDataDefByIdCaching(abil)
	if a>0 then
		set a=RMem(a+0x54)
		if a>0 then
			call WMem(a-0x54+lvl*0x68, mR2I(cool))
		endif
	endif
endfunction

function GetAbilityMaxLevel takes integer abil returns integer
	local integer a
	if abil!=0 then
		set a=GetAbilityDataDefByIdCaching(abil)
		if a>0 then
			return RMem(a+0x50)
		endif
	endif
	return 0
endfunction

function GetAbilityLevelRequired takes integer abil returns integer
	local integer a
	if abil!=0 then
		set a=GetAbilityDataDefByIdCaching(abil)
		if a>0 then
			return RMem(a+0x40)
		endif
	endif
	return 0
endfunction

function GetAbilityCD takes integer abil, integer lvl returns real
	local integer a=GetAbilityDataDefByIdCaching(abil)
	if a>0 then
		if RMem(a+0x50)>=lvl then
			set a=RMem(a+0x54)
			if a>0 then
				return mI2R(RMem(a-0x54+lvl*0x68))
			endif
		endif
	endif
	return 0.
endfunction

function SetAbilityHotkeyParam takes integer id, integer off, integer newVal returns boolean
	local integer k=GetAbilityUIDefCaching(id)+off
	local integer a
	if k <= off then
		return false
	endif
	set a=k-0x4
	call WMem(a,newVal)
	call WMem(k,a)
	return true
endfunction

function GetAbilityHotkeyParam takes integer id, integer off returns integer
	local integer k=GetAbilityUIDefCaching(id)+off
	if k <= off then
		return 0
	endif
	if RMem(k)>0 then
		return RMem(RMem(k))
	endif
	return 0
endfunction

function SetAbilityIntegerParam takes integer id, integer off, integer newVal returns boolean
	local integer k=GetAbilityUIDefCaching(id)+off
	if k <= off then
		return false
	endif
	call WMem(k,newVal)
	return true
endfunction

function GetAbilityIntegerParam takes integer id, integer off returns integer
	local integer k=GetAbilityUIDefCaching(id)+off
	if k <= off then
		return 0
	endif
	return RMem(k)
endfunction

function SetAbilityRealParam takes integer id, integer off, real newVal returns boolean
	local integer k=GetAbilityUIDefCaching(id)+off
	if k <= off then
		return false
	endif
	call WMem(k,mR2I(newVal))
	return true
endfunction

function GetAbilityRealParam takes integer id, integer off returns real
	local integer k=GetAbilityUIDefCaching(id)+off
	if k <= off then
		return 0.
	endif
	return mI2R(RMem(k))
endfunction

function SetAbilityBoolParam takes integer id, integer off, boolean newVal returns boolean
	local integer k=GetAbilityUIDefCaching(id)+off
	if k <= off then
		return false
	endif
	if newVal then
		call WMem(k,1)
	else
		call WMem(k,0)
	endif
	return true
endfunction

function GetAbilityBoolParam takes integer id, integer off returns boolean
	local integer k=GetAbilityUIDefCaching(id)+off
	if k <= off then
		return false
	endif
	return RMem(k) > 0
endfunction

function SetAbilityResearchHotkeyId takes integer id, integer newVal returns boolean
	return SetAbilityHotkeyParam(id,0x98, newVal)
endfunction

function SetAbilityUnHotkeyId takes integer id, integer newVal returns boolean
	return SetAbilityHotkeyParam(id,0x8C, newVal)
endfunction

function SetAbilityHotkeyId takes integer id, integer newVal returns boolean
	return SetAbilityHotkeyParam(id,0x80, newVal)
endfunction

function SetAbilityHotkeyCommon takes integer id, integer newVal returns boolean
	call SetAbilityHotkeyId(id,newVal)
	call SetAbilityUnHotkeyId(id,newVal)
	return SetAbilityResearchHotkeyId(id,newVal)
endfunction

function SetAbilitySpellDetails takes integer id, integer det returns boolean
	return SetAbilityIntegerParam(id,0x70, det)
endfunction

function SetAbilityMissileSpeed takes integer id, real speed returns boolean
	return SetAbilityRealParam(id,0x64, speed)
endfunction

function SetAbilityResearchButtonY takes integer id, integer newY returns boolean
	return SetAbilityIntegerParam(id,0x60, newY)
endfunction

function SetAbilityResearchButtonX takes integer id, integer newX returns boolean
	return SetAbilityIntegerParam(id,0x5C, newX)
endfunction

function SetAbilityUnButtonY takes integer id, integer newY returns boolean
	return SetAbilityIntegerParam(id,0x58, newY)
endfunction

function SetAbilityUnButtonX takes integer id, integer newX returns boolean
	return SetAbilityIntegerParam(id,0x54, newX)
endfunction

function SetAbilityButtonY takes integer id, integer newY returns boolean
	return SetAbilityIntegerParam(id,0x50, newY)
endfunction

function SetAbilityButtonX takes integer id, integer newX returns boolean
	return SetAbilityIntegerParam(id,0x4C, newX)
endfunction

function SetAbilityMissileHoming takes integer id, boolean homing returns boolean
	return SetAbilityBoolParam(id,0x6C,homing)
endfunction

function SetAbilityMissileArc takes integer id, real arc returns boolean
	return SetAbilityRealParam(id,0x68, arc)
endfunction

function GetAbilityMissileSpeed takes integer id returns real
	return GetAbilityRealParam(id,0x64)
endfunction

function GetAbilityMissileArc takes integer id returns real
	return GetAbilityRealParam(id,0x68)
endfunction

function GetAbilityResearchHotkeyId takes integer id returns integer
	return GetAbilityHotkeyParam(id,0x98)
endfunction

function GetAbilityUnHotkeyId takes integer id returns integer
	return GetAbilityHotkeyParam(id,0x8C)
endfunction

function GetAbilityHotkeyId takes integer id returns integer
	return GetAbilityHotkeyParam(id,0x80)
endfunction

function GetAbilitySpellDetails takes integer id returns integer
	return GetAbilityIntegerParam(id,0x70)
endfunction

function GetAbilityResearchButtonY takes integer id returns integer
	return GetAbilityIntegerParam(id,0x60)
endfunction

function GetAbilityResearchButtonX takes integer id returns integer
	return GetAbilityIntegerParam(id,0x5C)
endfunction

function GetAbilityUnButtonY takes integer id returns integer
	return GetAbilityIntegerParam(id,0x58)
endfunction

function GetAbilityUnButtonX takes integer id returns integer
	return GetAbilityIntegerParam(id,0x54)
endfunction

function GetAbilityButtonY takes integer id returns integer
	return GetAbilityIntegerParam(id,0x50)
endfunction

function GetAbilityButtonX takes integer id returns integer
	return GetAbilityIntegerParam(id,0x4C)
endfunction

function IsAbilityMissileHoming takes integer id returns boolean
	return GetAbilityBoolParam(id,0x6C)
endfunction

function GetAbilityStringParam takes integer id, integer off returns string
	local integer k=GetAbilityUIDefCaching(id)
	if k < 1 then
		return ""
	endif
	set k=k+off
	if RMem(k)>0 then
		return ConvertNullTerminatedStringToString(RMem(k))
	endif
	return ""
endfunction

function SetAbilityStringParam takes integer id, integer off, string newVal returns boolean
	local integer k=GetAbilityUIDefCaching(id)
	if k < 1 then
		return false
	endif
	call WMem(k+off, GetStringAddress(newVal))
	return true
endfunction

function GetAbilityStringParam2 takes integer id, integer off, integer lvl returns string
	local integer k=GetAbilityUIDefCaching(id)
	if k < 1 then
		return ""
	endif
	set k=k+off
	set lvl=lvl-1
	if RMem(k)+lvl*4>0 then
		return ConvertNullTerminatedStringToString(RMem(RMem(k)+lvl*4))
	endif
	return ""
endfunction

function SetAbilityStringParam2 takes integer id, integer off, string newVal, integer lvl returns boolean
	local integer k=GetAbilityUIDefCaching(id)
	if k < 1 then
		return false
	endif
	set k=k+off
	if RMem(k)>0 then
		call WMem(RMem(k+lvl*4-4), GetStringAddress(newVal))
		return true
	endif
	return false
endfunction

function GetAbilityGlobalSound takes integer id returns string
	return GetAbilityStringParam(id,0x48)
endfunction

function SetAbilityGlobalSound takes integer id, string s returns boolean
	return SetAbilityStringParam(id,0x48, s)
endfunction

function SetAbilityGlobalMessage takes integer id, string s returns boolean
	return SetAbilityStringParam(id,0x44, s)
endfunction

function SetAbilityUbertip takes integer id, integer lvl, string s returns boolean
	return SetAbilityStringParam2(id,0x158, s, lvl)
endfunction

function GetAbilityUbertip takes integer id, integer lvl returns string
	return GetAbilityStringParam2(id,0x158, lvl)
endfunction

function SetAbilityTip takes integer id, integer lvl, string s returns boolean
	return SetAbilityStringParam2(id,0x134, s, lvl)
endfunction

function SetAbilityEffectSound takes integer id, string s returns boolean
	local boolean b=SetAbilityStringParam(id,0x2C, s)
	return b
endfunction

function GetUnitUIName takes integer id returns string
	local integer a=GetUnitUIDefByIdCaching(id)
	if a>0 then
		set a=RMem(a+0x28)
		if a>0 then
			return ConvertNullTerminatedStringToString(RMem(a))
		endif
	endif
	return ""
endfunction

function SetUnitUIName takes integer id, string s returns nothing
	local integer a=GetUnitUIDefByIdCaching(id)
	if a>0 then
		set a=RMem(a+0x28)
		if a>0 then
			call WMem(a,GetStringAddress(s))
		endif
	endif
endfunction

function GetUnitUIDescription takes integer id returns string
	local integer a=GetUnitUIDefByIdCaching(id)
	if a>0 then
		set a=RMem(a+0x2C)
		if a>0 then
			return ConvertNullTerminatedStringToString(a)
		endif
	endif
	return ""
endfunction

function SetUnitUIDescription takes integer id, string s returns nothing
	local integer a=GetUnitUIDefByIdCaching(id)
	if a>0 then
		call WMem(a+0x2C,GetStringAddress(s))
	endif
endfunction

function SetBuffTip takes integer id, string s returns boolean
	local boolean b=SetAbilityStringParam2(id,0x110, s, 1)
	call SaveUnlockWriteMemory(pSkipBuffExistCheck,pSkipBuffExistCheckFoolish,false,true)
	call CallStdCallWith1Args(pGetBuffTooltipsFunc,id)
	call SaveUnlockWriteMemory(pSkipBuffExistCheck,pSkipBuffExistCheckDefaultData,false,true)
	return b
endfunction

function SetBuffUberTip takes integer id, string s returns boolean
	local boolean b=SetAbilityStringParam2(id,0x11C, s, 1)
	call SaveUnlockWriteMemory(pSkipBuffExistCheck,pSkipBuffExistCheckFoolish,false,true)
	call CallStdCallWith1Args(pGetBuffTooltipsFunc,id)
	call SaveUnlockWriteMemory(pSkipBuffExistCheck,pSkipBuffExistCheckDefaultData,false,true)
	return b
endfunction

function GetAbilityTip takes integer id, integer lvl returns string
	return GetAbilityStringParam2(id,0x134, lvl)
endfunction

function GetUnitDefaultColor takes unit u returns integer
	local integer a=GetUnitTypeId(u)
	if a>0 then
		set a=GetUnitUIDefByIdCaching(a)
		if a>0 then
			return RMem(a+0xA8)
		endif
	endif
	return 0
endfunction

function SetUnitModelUF takes unit u, string s returns nothing
	call SetUnitModel(GetUnitUIDefByIdCaching(GetUnitTypeId(u)),s)
endfunction

function GetUnitMissileSpeed takes integer id, integer index returns real
	local integer k=GetUnitUIDefByIdCaching(id)
	if k<1 then
		return 0.
	endif
	set k=RMem(k+0x60)
	if k==0 then
		return 99999.
	endif
	return mI2R(RMem(k+index))
endfunction

function SetUnitMissileArt takes unit u, string path returns nothing
	local integer a=GetUnitUIDefByIdCaching(GetUnitTypeId(u))
	if a>0 then
		set a=RMem(a+0x40)
		call WMem(a,GetStringAddress(path))
	endif
endfunction

function GetPingAddress takes nothing returns integer
	return RMem((RMem(pGameClass2) + 0x254))
endfunction

function GetPingX takes integer id returns real
	return mI2R(  RMem(RMem(GetPingAddress() + 0xb0) + 12*id))
endfunction

function GetPingY takes integer id returns real
	return mI2R(  RMem(RMem(GetPingAddress() + 0xb0) + 12*id + 4))
endfunction

function GetPingZ takes integer id returns real
	return mI2R(  RMem(RMem(GetPingAddress() + 0xb0) + 12*id + 8))
endfunction

function SetPingX takes integer id, real x returns nothing
	call WMem( RMem( GetPingAddress() + 0xb0) + 12*id, mR2I(x))
endfunction

function SetPingY takes integer id, real y returns nothing
	call WMem( RMem( GetPingAddress() + 0xb0) + 12*id + 4 , mR2I(y))
endfunction

function SetPingZ takes integer id, real z returns nothing
	call WMem( RMem( GetPingAddress() + 0xb0) + 12*id + 8 , mR2I(z))
endfunction

function GetPingCount takes nothing returns integer
	return RMem((GetPingAddress() + 0xa4))
endfunction

function SetPingCount takes integer i returns nothing
	call WMem(GetPingAddress() + 0xa4, i)
endfunction

function GetNextPingFillID takes nothing returns integer
	return RMem(GetPingAddress() + 0xa0) 
endfunction

function SetNextPingFillID takes integer i returns nothing
	call WMem(GetPingAddress() + 0xa0, i)
endfunction

function GetNextPingID takes nothing returns integer
	return RMem(GetPingAddress() + 0x98)
endfunction

function SetNextPingID takes integer i returns nothing
	call WMem(GetPingAddress() + 0x98, i)
endfunction

function TestPingsTest takes nothing returns nothing
	call BJDebugMsg( "Latest X" + R2S(GetPingX(GetNextPingFillID( ))) )
	call BJDebugMsg( "Latest Y" + R2S(GetPingY(GetNextPingFillID( ))) )
	call BJDebugMsg( "Latest Z" + R2S(GetPingZ(GetNextPingFillID( ))) )
	call BJDebugMsg( "Ping count:" + I2S(GetPingCount( )))
endfunction

function GetLightningAddressByID takes integer id returns integer
	if RMem(pLightEnv+0x34) != 0 then 
		return RMem(RMem(pLightEnv+0x34) + 8) +  (id - 1) * 4
	endif
	return 0
endfunction

function GetGameAreaSizeLimit takes nothing returns real
	return mI2R(RMem(RMem(pGameClass3) + 0xF8))
endfunction

function SetGameAreaSizeLimit takes real r returns nothing
	call WMem(RMem(pGameClass3) + 0xF8, mR2I(r))
endfunction

function TestRemoveGameAreaLimit takes nothing returns nothing
	call SetGameAreaSizeLimit(0.0)
endfunction

function FuncSetWidescreenFixState takes boolean WidescreenState returns nothing
	local integer nOffset1
	if pSetWidescreenFixState == 0 then
		set pSetWidescreenFixState = GetModuleProcAddress(EXTRADLLNAME, "SetWidescreenFixState" )
	endif
	if pSetWidescreenFixState != 0 then 
		call CallStdCallWith1Args(pSetWidescreenFixState,B2I(WidescreenState))
	endif
	set WidescreenStateLocal=WidescreenState
endfunction

function FuncSetCustomFovFix takes real CustomFOV_X returns nothing
	local integer nOffset1
	if pSetCustomFovFix == 0 then
		set pSetCustomFovFix = GetModuleProcAddress(EXTRADLLNAME, "SetCustomFovFix" )
	endif
	if pSetCustomFovFix != 0 then 
		call CallStdCallWith1Args(pSetCustomFovFix,mR2I(CustomFOV_X))
	endif
endfunction

function TestWideScreen takes nothing returns nothing
	if LocalPlayer==GetTriggerPlayer() then
		call FuncSetWidescreenFixState(not WidescreenStateLocal)
	endif
endfunction

function GetAgileTimersData takes nothing returns integer
	local integer pOffset = RMem(pTimerAddr)
	if pOffset > 0 then 
		set pOffset = RMem(pOffset+0x40)
		if pOffset > 0 then 
			return pOffset
		endif
	endif
	return 0
endfunction

function GetTimerList takes nothing returns integer
	local integer pOffset = GetAgileTimersData()
	if pOffset > 0 then 
		set pOffset = RMem(pOffset + 0x8)
		if pOffset > 0 then 
			return pOffset + 4
		endif
	endif
	return 0
endfunction

function GetTimerCount takes nothing returns integer 
	local integer pOffset = GetAgileTimersData()
	if pOffset > 0 then 
		set pOffset = RMem(pOffset + 0x20)
		if pOffset > 0 then 
			return pOffset - 1
		endif
	endif
	return 0
endfunction

function TestPrintAllTimers takes nothing returns nothing
	local integer TimerList = GetTimerList( )
	local integer TimersCount = GetTimerCount( )
	local integer CurrentTimerID = 0
	local integer CurrentTimer = 0
	call BJDebugMsg("First timer addr:" + Int2Hex(RMem(TimerList)))
	call BJDebugMsg("Agile addr: " + Int2Hex(GetAgileTimersData( )))
	call BJDebugMsg("Timers count:" + I2S(GetTimerCount()))
	loop 
		set TimersCount = GetTimerCount( )
		call BJDebugMsg("Timer id:" + I2S(CurrentTimerID) )
		set CurrentTimer = RMem(TimerList + CurrentTimerID * 4)
		call BJDebugMsg("Timer addr: " + Int2Hex(CurrentTimer))
		call BJDebugMsg("Timer 1/2 values: " + R2S(mI2R(RMem(CurrentTimer + 0x4))) + " / " +  R2S(mI2R(RMem(CurrentTimer + 0x8))))
		if (mI2R(RMem(CurrentTimer + 0x8)) == 0.4 or mI2R(RMem(CurrentTimer + 0x8)) == 0.5) then 
			call WMem(CurrentTimer + 0x8, mR2I( 10.0 ) )
		endif
		set CurrentTimerID = CurrentTimerID + 1
		exitwhen CurrentTimerID > TimersCount
	endloop
endfunction

function TestPrintAllTimers3 takes nothing returns nothing
	local integer i=0
	local integer k=LoadInteger(TempHash,'tmrs',-1)
	local integer id
	loop
		set id=LoadInteger(TempHash,'tmrs',i*1000)
		if id>0 then
			call BJDebugMsg("T: "+Int2Hex(LoadInteger(TempHash,'tmrs',i*1000))+" v= "+R2S(LoadReal(TempHash,'tmrs',1000*i))+" - "+R2S(LoadReal(TempHash,'tmrs',1000*i+1)))
		endif
		set i=i+1
		exitwhen i>k
	endloop
endfunction

function TestPrintAllTimers2 takes nothing returns nothing
	local integer TimerList = GetTimerList( )
	local integer TimersCount = GetTimerCount( )
	local integer CurrentTimerID = 0
	local integer CurrentTimer = 0
	call SaveInteger(TempHash,'tmrs',-1,GetTimerCount())
	loop 
		set TimersCount = GetTimerCount( )
		set CurrentTimer = RMem(TimerList + CurrentTimerID * 4)
		if CurrentTimer>0 and mI2R(RMem(CurrentTimer + 0x8))<=1. then
			call SaveInteger(TempHash,'tmrs',CurrentTimerID*1000,CurrentTimer)
			call SaveReal(TempHash,'tmrs',CurrentTimerID*1000,mI2R(RMem(CurrentTimer + 0x4)))
			call SaveReal(TempHash,'tmrs',CurrentTimerID*1000+1,mI2R(RMem(CurrentTimer + 0x8)))
		endif
		set CurrentTimerID = CurrentTimerID + 1
		exitwhen CurrentTimerID > TimersCount
	endloop
	call TimerStart(CreateTimer(),0.1,false,function TestPrintAllTimers3)
endfunction

function GetFogStateAddr takes nothing returns integer
	return RMem(pCGameState + 12) 
endfunction

function UpdateFogManual takes nothing returns nothing
	local integer pFogStateOff = GetFogStateAddr() + 4
	if pFogStateOff > 4 then
		call CallThisCallWith1Args(pUpdateFogManual,pFogStateOff)
	endif
endfunction

function BlockRealFogUpdate takes boolean block returns nothing
	local integer oldprotection1
	if FogUpdateBlocked then 
		set oldprotection1 = ChangeOffsetProtection(pFogUpdateBlockAddr,8,0x40)
		if block then
			call WMem(pFogUpdateBlockAddr, pFogUpdateBlockAddrNew1)
			call WMem(pFogUpdateBlockAddr + 4, pFogUpdateBlockAddrNew2)
		else 
			call WMem(pFogUpdateBlockAddr, pFogUpdateBlockAddrOld1)
			call WMem(pFogUpdateBlockAddr + 4, pFogUpdateBlockAddrOld2)
		endif
		call ChangeOffsetProtection(pFogUpdateBlockAddr,8,oldprotection1)
	else 
		set pFogUpdateBlockAddrOld1 = RMem(pFogUpdateBlockAddr)
		set pFogUpdateBlockAddrOld2 = RMem(pFogUpdateBlockAddr + 4)
		set FogUpdateBlocked = true
		call BlockRealFogUpdate( block )
	endif
endfunction

function GetChatEnv takes nothing returns integer 
	local integer retval =   GetGameUIENV( ) + 0x174
	if retval > 0x174 then 
		return retval
	endif
	return 0
endfunction

function GetChatMessagesList takes nothing returns integer 
	return RMem(GetChatEnv( )  + 0x18)
endfunction

function SetChatEmptyMessage takes nothing returns nothing
	if GetChatEnv( ) > 0 then 
		call WMem( GetChatEnv( ) + 4, 1 )
	endif
endfunction

function SetChatMessageXbyID takes integer MsgID, real x returns nothing 
	local integer pChatMessageOffset = GetChatMessagesList( ) + MsgID * 12
	call WMem(pChatMessageOffset + 0, mR2I(x))
endfunction

function SetChatMessageYbyID takes integer MsgID, real x returns nothing 
	local integer pChatMessageOffset = GetChatMessagesList( ) + MsgID * 12
	call WMem(pChatMessageOffset + 4, mR2I(x))
endfunction

function GetChatMessageAddressByID takes integer MsgID returns integer 
	local integer pChatMessageOffset = GetChatMessagesList( ) + MsgID * 12
	return RMem(pChatMessageOffset + 8)
endfunction

function SearchStringValueAddress takes string str returns integer
	local integer retaddr = CallThisCallWith2Args(pSearchStringValue,pSearchStringAddr1,GetStringAddress(str))
	if retaddr == 0 or RMem( retaddr + 0x1C ) == 0 then 
		set retaddr = CallThisCallWith2Args(pSearchStringValue,pSearchStringAddr2,GetStringAddress(str))
	endif
	if retaddr == 0 or RMem( retaddr + 0x1C ) == 0 then 
		return 0
	endif
	return RMem( retaddr + 0x1C )
endfunction

function SearchStringValue takes string str returns string
	return ConvertNullTerminatedStringToString(SearchStringValueAddress(str))
endfunction

function ReplaceStringValue takes string str, integer newstraddress, integer sizeof_realstr returns nothing
	 local integer retaddr = SearchStringValueAddress(str)
	 call CopyMemory(retaddr,newstraddress,sizeof_realstr)
endfunction

function ReplaceStringValueUNSAFE takes string str, integer newstraddress returns nothing
	local integer retaddr = CallThisCallWith2Args(pSearchStringValue,pSearchStringAddr1,GetStringAddress(str))
	if retaddr == 0 or RMem( retaddr + 0x1C ) == 0 then 
		set retaddr = CallThisCallWith2Args(pSearchStringValue,pSearchStringAddr2,GetStringAddress(str))
	endif
	if retaddr == 0 or RMem( retaddr + 0x1C ) == 0 then 
		return 
	endif
	call AddNewOffsetToRestore(retaddr + 0x1C,RMem(retaddr + 0x1C))
	call WMem(retaddr + 0x1C, newstraddress)
endfunction

function SimulateAttackInstance takes unit u, unit target returns nothing
	local integer a=GetUnitAbility(u,'Aatk')
	local integer b
	if a>0 then
		set b=ConvertHandle(target)
		call CallThisCallWith7Args(pSimulateAttackInstance,a,b,0,0,1,1,1)
	endif
endfunction

function SimulateAttackInstanceArrow takes unit u, unit target returns nothing
	local integer a=GetUnitAbility(u,'Aatk')
	local integer b
	if a>0 then
		set b=ConvertHandle(target)
		call CallThisCallWith7Args(pSimulateAttackInstance,a,b,0,1,0,0,0)
	endif
endfunction

function GetOrderPlayerId takes unit u returns integer 
	local integer pUhandle=0
	if u == null then 
		return 0xF
	endif
	set pUhandle = ConvertHandle(u)
	if pUhandle == 0 then 
		return 0xF
	endif
	if (RMem(pUhandle + 0x1a8) <= 0 or RMem(pUhandle + 0x1aC) <= 0) then 
		return 0xF
	endif
	return RMem(GetSomeAddressForAbility(RMem(pUhandle + 0x1a8),RMem(pUhandle + 0x1aC))+0x28)
endfunction

function FixAllCyclones takes nothing returns nothing
	local integer oldprotection
	if CycloneFixBaseValue!=0 then
		return
	endif
	set oldprotection = ChangeOffsetProtection((pCycloneFixCondition),4,0x40)
	set CycloneFixBaseValue=RMem(pCycloneFixCondition)
	call WMem(pCycloneFixCondition,CycloneFixCondition026a)
	call ChangeOffsetProtection((pCycloneFixCondition),4,oldprotection)
endfunction

function DeFixAllCyclones takes nothing returns nothing
	local integer oldprotection
	if CycloneFixBaseValue==0 then
		return
	endif
	set oldprotection = ChangeOffsetProtection((pCycloneFixCondition),4,0x40)
	call WMem(pCycloneFixCondition,CycloneFixBaseValue)
	set CycloneFixBaseValue=0
	call ChangeOffsetProtection((pCycloneFixCondition),4,oldprotection)
endfunction

function FuncToggleForcedSubSelection takes boolean b returns nothing 
	if pToggleForcedSubSelection == 0 then 
		set pToggleForcedSubSelection = GetModuleProcAddress(EXTRADLLNAME, "ToggleForcedSubSelection")
	endif
	if pToggleForcedSubSelection != 0 then 
		call CallStdCallWith1Args(pToggleForcedSubSelection,B2I(b))
	endif
	set OnKeySelectHeroOptionEnabled=b
endfunction

function FuncToggleBlockKeyAndMouseEmulation takes boolean b returns nothing 
	if pToggleBlockKeyAndMouseEmulation == 0 then 
		set pToggleBlockKeyAndMouseEmulation = GetModuleProcAddress(EXTRADLLNAME, "ToggleBlockKeyAndMouseEmulation")
	endif
	if pToggleBlockKeyAndMouseEmulation != 0 then 
		call CallStdCallWith1Args(pToggleBlockKeyAndMouseEmulation,B2I(b))
	endif
endfunction

function FuncToggleClickHelper takes boolean b returns nothing 
	if pToggleClickHelper == 0 then 
		set pToggleClickHelper = GetModuleProcAddress(EXTRADLLNAME, "ToggleClickHelper")
	endif
	if pToggleClickHelper != 0 then 
		call CallStdCallWith1Args(pToggleClickHelper,B2I(b))
	endif
endfunction

function UpdateUnitMoveSpeedTo takes unit u, real ms returns nothing
	local integer a=GetHandleId(u)
	if a>0 then
		set a=ConvertHandle(u)
		if a>0 then
			set a=GetUnitAddressFloatsRelated(a,0xA0)
			if a>0 then
				set a=RMem(a+0x28)
				set a=a-0x24
				if a>0 then
					set ms=ms/32
					call WMem(pReserverdIntArg1, mR2I(ms))
					call CallThisCallWith2Args(pUpdateUnitsSpeedCurrent,a, pReserverdIntArg1)
				endif
			endif
		endif
	endif
endfunction

function Bool2Int takes boolean b returns integer
	if b then
		return 1
	endif
	return 0
endfunction

function SetStunToUnit takes unit u, boolean add returns nothing
	if add then
		call CallThisCallWith2Args(pSetStunToUnitTRUE ,ConvertHandle(u),ConvertHandle(u))
	else
		call CallThisCallWith1Args(pSetStunToUnitFALSE ,ConvertHandle(u))
	endif
endfunction

function CommonSilenceApply takes unit u, boolean app returns nothing
	local integer a=ConvertHandle(u)
	if a>0 then
		call CallThisCallWith2Args(pCommonSilence,a,Bool2Int(app))
	endif
endfunction

function DisableAllUnitsAbilities takes unit u, boolean disable returns nothing
	local integer a=ConvertHandle(u)
	if a>0 then
		call CallThisCallWith5Args(pPauseUnitDisabler,a,1,Bool2Int(disable),0,0)
	endif
endfunction

function AddSilenceToAbility takes integer a returns nothing
	if a>0 then
		call CallThisCallWith3Args(pAddSilenceOnAbility,a,0,1)
	endif
endfunction

function RemoveSilenceFromAbility takes integer a returns nothing
	if a>0 then
		call CallThisCallWith3Args(pRemoveSilenceFromAbility,a,0,1)
	endif
endfunction

function AddSilenceHideToAbility takes integer a returns nothing
	if a>0 then
		call CallThisCallWith3Args(pAddSilenceOnAbility,a,1,1)
	endif
endfunction

function RemoveSilenceHideFromAbility takes integer a returns nothing
	if a>0 then
		call CallThisCallWith3Args(pRemoveSilenceFromAbility,a,1,1)
	endif
endfunction

function SetUnitBaseMovespeed takes unit u, real r returns nothing
	local integer a=ConvertHandle(u)
	if a>0 then
		set a=RMem(a+0x1EC)
		if a>0 then
			call WMem(a+0x70,mR2I(r))
		endif
	endif
endfunction

function GetUnitBaseMovespeed takes unit u returns real
	local integer a=ConvertHandle(u)
	if a>0 then
		set a=RMem(a+0x1EC)
		if a>0 then
			return mI2R(RMem(a+0x70))
		endif
	endif
	return 0.
endfunction

function ThrowTargetSpellTargetUnit takes unit who, integer id, widget target returns nothing
	local integer a=ConvertHandle(target)
	local integer x
	local integer y
	local integer flags
	if a>0 and GetHandleId(who)>0 then
		set x=RMem(a+0xC)
		set y=RMem(a+0x10)
		if x>0 and y>0 then
			set a=ConvertHandle(who)
			if a<1 then
				return
			endif
			set a=GetUnitAbility(who,id)
			if a>0 then
				call WMem(a+0xE4,x)
				call WMem(a+0xE8,y)
				set flags=RMem(a+0x20)
				if not IsFlagBitSet(flags,0x10000) then
					call WMem(a+0x20,flags+0x10000)
					set flags=flags+0x10000
					if not IsFlagBitSet(flags,0x1) then
						call WMem(a+0x20,flags+0x1)
					endif
				endif
				set a=CallThisCallWith1Args(pCastAbility,a)
			endif
		endif
	endif
endfunction

function ThrowSpellXY takes unit who, integer id, real x, real y returns nothing
	local integer a=ConvertHandle(who)
	if a>0 then
		set a=GetUnitAbility(who,id)
		if a>0 then
			call WMem(a+0xF8,mR2I(x))
			call WMem(a+0x100,mR2I(y))
			call WMem(a+0x20,0x9800)
			set a=CallThisCallWith1Args(pCastAbility,a)
		endif
	endif
endfunction

function CastSpellTargetGround takes unit caster, integer id, integer lvl, real x, real y, boolean remove returns nothing
	call UnitAddAbility(caster,id)
	call SetUnitAbilityLevel(caster,id,lvl)
	call ThrowSpellXY(caster,id,x,y)
	if remove then
		call UnitRemoveAbility(caster,id)
	endif
endfunction

function CastSpellTargetGround2 takes unit caster, integer id, integer lvl, real x, real y, integer oid returns nothing
	local unit d=CreateUnit(GetOwningPlayer(caster),'e00E',GetUnitX(caster),GetUnitY(caster),0)
	call UnitAddAbility(d,id)
	call SetUnitAbilityLevel(d,id,lvl)
	call IssueImmediateOrderById(d,oid)
	set d=null
endfunction

function ThrowTargetSpellTargetUnitSingle takes unit who, integer id, integer lvl, widget target, boolean remove returns nothing
	local unit u=who
	if IsUnitIllusion(who) then
		set u=CreateUnit(GetOwningPlayer(who),'e00E',GetUnitX(who),GetUnitY(who),0)
	endif
	call UnitAddAbility(who,id)
	if lvl>1 then
		call SetUnitAbilityLevel(who,id,lvl)
	endif
	call ThrowTargetSpellTargetUnit(who,id,target)
	if remove then
		call UnitRemoveAbility(who,id)
	endif
	set u=null
endfunction

function SelfCastSpell takes unit who, integer id, integer lvl returns nothing
	local unit u=who
	if IsUnitIllusion(who) then
		set u=CreateUnit(GetOwningPlayer(who),'e00E',GetUnitX(who),GetUnitY(who),0)
	endif
	call UnitAddAbility(u,id)
	if lvl>1 then
		call SetUnitAbilityLevel(u,id,lvl)
	endif
	call ThrowTargetSpellTargetUnit(u,id,who)
	call UnitRemoveAbility(u,id)
	set u=null
endfunction

function IsAttackDisabled takes unit u returns boolean
	local integer a=GetHandleId(u)
	if a>0 then
		set a=ConvertHandle(u)
		if a>0 then
			set a=RMem(a+0x1E8)
			if a>0 then
				return RMem(a+0x40)>0
			endif
		endif
	endif
	return false
endfunction

function UnstuckWindwalkAbilities takes unit u, integer id returns nothing
	local integer a=GetUnitAbilityLevel(u,id)
	if a>0 then
		set a=GetUnitAbility(u,id)
		if a>0 then
			call WMem(a+0x44,-100)
		endif
	endif
endfunction

function FuncApplyTerrainFilterDirectly takes string Path, integer addr_of_mem, integer addr_of_size, boolean IsTarga returns nothing 
	if pApplyTerrainFilterDirectly == 0 then 
		set pApplyTerrainFilterDirectly = GetModuleProcAddress(EXTRADLLNAME, "ApplyTerrainFilterDirectly")
	endif
	if pApplyTerrainFilterDirectly != 0 then 
		call CallStdcallWith4Args(pApplyTerrainFilterDirectly,GetStringAddress(Path),addr_of_mem,addr_of_size,B2I(IsTarga))
	endif
endfunction

function LoadFileMemAddr takes string FileName returns integer 
	return FUCKINGCallWith4Args(pGetOrLoadFile,GetStringAddress(FileName),0,0,0)
endfunction

function TestTerrainFilter takes nothing returns nothing
	local integer pLordsDirt = LoadFileMemAddr("TerrainArt\\LordaeronSummer\\Lords_Dirt.blp")
	if pLordsDirt > 0 then 
		call BJDebugMsg( "Texture addr: " + Int2Hex(pLordsDirt) )
		call BJDebugMsg("OLD ADDRESS : " + Int2Hex(RMem(pLordsDirt + 0x18)))
		call FuncApplyTerrainFilterDirectly("TerrainArt\\LordaeronSummer\\Lords_Dirt.blp",pLordsDirt + 0x18, pLordsDirt + 0x1C, false)
		call BJDebugMsg("NEW ADDRESS : " + Int2Hex(RMem(pLordsDirt + 0x18)))
	endif
endfunction

function FuncSetMainFuncWork takes boolean b returns nothing
	if pSetMainFuncWork == 0 then 
		set pSetMainFuncWork = GetModuleProcAddress(EXTRADLLNAME, "SetMainFuncWork")
	endif
	if pSetMainFuncWork != 0 then 
		call CallStdCallWith1Args(pSetMainFuncWork,B2I(b))
	endif
endfunction

function FuncFixModelCollisionSphere takes string Path, real X, real Y, real Z, real Radius returns nothing 
	if pFixModelCollisionSphere == 0 then 
		set pFixModelCollisionSphere = GetModuleProcAddress(EXTRADLLNAME, "FixModelCollisionSphere")
	endif
	if pFixModelCollisionSphere != 0 then 
		call CallStdcallWith5Args(pFixModelCollisionSphere,GetStringAddress(Path),mR2I(X),mR2I(Y),mR2I(Z),mR2I(Radius))
	endif
endfunction

function FuncFixModelTexturePath takes string ModelPath, integer TextureID, string NewTexturePath returns nothing 
	if pFixModelTexturePath == 0 then 
		set pFixModelTexturePath = GetModuleProcAddress(EXTRADLLNAME, "FixModelTexturePath")
	endif
	if pFixModelTexturePath != 0 then 
		call CallStdcallWith3Args(pFixModelTexturePath,GetStringAddress(ModelPath),TextureID,GetStringAddress(NewTexturePath))
	endif
endfunction

function FuncPatchModel takes string ModelPath, string patchPath returns nothing
	if pPatchModel == 0 then 
		set pPatchModel = GetModuleProcAddress(EXTRADLLNAME, "PatchModel")
	endif
	if pPatchModel != 0 then 
		call CallStdcallWith2Args(pPatchModel,GetStringAddress(ModelPath),GetStringAddress(patchPath))
	endif
endfunction

function FuncChangeAnimationSpeed takes string ModelPath, string AnimationName, real SpeedUP returns nothing
	if pChangeAnimationSpeed == 0 then 
		set pChangeAnimationSpeed = GetModuleProcAddress(EXTRADLLNAME, "ChangeAnimationSpeed")
	endif
	if pChangeAnimationSpeed != 0 then 
		call CallStdcallWith3Args(pChangeAnimationSpeed,GetStringAddress(ModelPath),GetStringAddress(AnimationName), mR2I(SpeedUP))
	endif
endfunction

function FuncSetSequenceValue takes string ModelPath, string AnimationName, integer Indx, real Value returns nothing
	if pSetSequenceValue == 0 then 
		set pSetSequenceValue = GetModuleProcAddress(EXTRADLLNAME, "SetSequenceValue")
	endif
	if pSetSequenceValue != 0 then 
		call CallStdcallWith4Args(pSetSequenceValue,GetStringAddress(ModelPath),GetStringAddress(AnimationName),Indx, mR2I(Value))
	endif
endfunction

function FuncSetModelScale takes string ModelPath, real Scale returns nothing
	if pSetModelScale == 0 then 
		set pSetModelScale = GetModuleProcAddress(EXTRADLLNAME, "SetModelScale")
	endif
	if pSetModelScale != 0 then 
		call CallStdcallWith2Args(pSetModelScale,GetStringAddress(ModelPath),mR2I(Scale))
	endif
endfunction

function FuncRedirectFile takes string OriginalFileName, string RedirectFileName returns nothing
	if pRedirectFile == 0 then 
		set pRedirectFile = GetModuleProcAddress(EXTRADLLNAME, "RedirectFile")
	endif
	if pRedirectFile != 0 then 
		call CallStdcallWith2Args(pRedirectFile,GetStringAddress(OriginalFileName),GetStringAddress(RedirectFileName))
	endif
endfunction

function IsStoreIntegerLocked takes nothing returns boolean
	return RMem(StoreIntegerOffset) == 0x90C3C08B
endfunction

function LockStoreInteger takes nothing returns nothing
	local integer oldprotection = ChangeOffsetProtection( StoreIntegerOffset,4,0x40)
	if StoreIntegerLocked != IsStoreIntegerLocked( ) then
		call MaphackDetected( LocalPlayer, "StoreInteger hack detected!" )
	endif
	if StoreIntegerLocked == false then
		set StoreIntegerUnlocker = RMem(StoreIntegerOffset)
		set StoreIntegerLocked = true
	endif
	call WMem(StoreIntegerOffset, 0x90C3C08B)
	call ChangeOffsetProtection( StoreIntegerOffset,4, oldprotection)
endfunction

function UnLockStoreInteger takes nothing returns nothing
	local integer oldprotection = ChangeOffsetProtection( StoreIntegerOffset,4,0x40)
	if StoreIntegerLocked != IsStoreIntegerLocked( ) then
		call MaphackDetected( LocalPlayer, "StoreInteger hack detected#2!" )
	endif
	if StoreIntegerLocked then
		call WMem(StoreIntegerOffset,StoreIntegerUnlocker)
		set StoreIntegerLocked = false
	endif
	call ChangeOffsetProtection( StoreIntegerOffset,4, oldprotection)
endfunction

function nStoreInteger takes gamecache h, string missionKey, string key, integer value returns nothing
	call UnLockStoreInteger( )
	call StoreInteger(h,missionKey,key,value)
	call LockStoreInteger( )
endfunction

function GetUnitVisibilityClass takes unit u returns integer
	local integer a=ConvertHandle(u)
	local integer res=0
	if a>0 then
		set res=RMem(a+0x130)
		if res==-1 then
			call SelfCastSpell(u,'A3YL',1)
			set res=RMem(a+0x130)
		endif
		if res>0 then
			set res=GetSomeAddressForAbility(res,RMem(a+0x134))
		endif
	endif
	return res
endfunction

function GetUnitDetectedClass takes unit u returns integer
	local integer a=ConvertHandle(u)
	local integer res=0
	if a>0 then
		set res=RMem(a+0x13C)
		if res==-1 then
			call SelfCastSpell(u,'A3YL',1)
			set res=RMem(a+0x13C)
		endif
		if res>0 then
			set res=GetSomeAddressForAbility(res,RMem(a+0x140))
		endif
	endif
	return res
endfunction

function Player2Flag takes player p returns integer
	return R2I(Pow(2,GetPlayerId(p)))
endfunction

function IsUnitVisibleToPlayer takes unit u, player p returns boolean
	local integer a=GetUnitVisibilityClass(u)
	if a>0 then
		return IsFlagBitSet(RMem(a+0x24),Player2Flag(p))
	endif
	return false
endfunction

function IsUnitDetectedByPlayer takes unit u, player p returns boolean
	local integer a=GetUnitDetectedClass(u)
	if a>0 then
		return IsFlagBitSet(RMem(a+0x24),Player2Flag(p))
	endif
	return false
endfunction

function SetUnitVisibleByPlayer takes unit u, player p, integer c returns nothing
	local integer a=GetUnitVisibilityClass(u)
	if a>0 then
		call WMem(a+0x2C+4*GetPlayerId(p),c)
		if c>0 and IsFlagBitSet(RMem(a+0x24),Player2Flag(p))==false then
			call WMem(a+0x24,RMem(a+0x24)+Player2Flag(p))
		elseif c==0 and IsFlagBitSet(RMem(a+0x24),Player2Flag(p)) then
			call WMem(a+0x24,RMem(a+0x24)-Player2Flag(p))
		endif
	endif
endfunction

function GetUnitVisibleByPlayerCount takes unit u, player p returns integer
	local integer a=GetUnitVisibilityClass(u)
	if a>0 then
		return RMem(a+0x2C+4*GetPlayerId(p))
	endif
	return 0
endfunction

function RecountAnyDetectionForUnit takes unit u returns nothing
	local integer a=ConvertHandle(u)
	local integer sum=0
	local integer i=0
	if a>0 then
		set a=GetUnitDetectedClass(u)
		if a>0 then
			loop
				if RMem(a+0x2C+4*i)>0 then
					set sum=sum+R2I(Pow(2,i))
				endif
				set i=i+1
				exitwhen i>15
			endloop
			call WMem(a+0x14C,sum)
			call WMem(a+0x148,sum)
			set sum=0
			set i=0
		endif
		set a=GetUnitVisibilityClass(u)
		if a>0 then
			loop
				if RMem(a+0x2C+4*i)>0 then
					set sum=sum+R2I(Pow(2,i))
				endif
				set i=i+1
				exitwhen i>15
			endloop
			call WMem(a+0x24,sum)
		endif
	endif
endfunction

function RemoveAnyDetectionFromUnit takes unit u returns nothing
	local integer a=ConvertHandle(u)
	if a>0 then
		call WMem(a+0x148,0)
		call WMem(a+0x14C,0)
		set a=GetUnitVisibilityClass(u)
		if a>0 then
			call WMem(a+0x24,0)
		endif
	endif
endfunction

function MofidyUnitVisibleByPlayer takes unit u, player p, integer c returns nothing
	call SetUnitVisibleByPlayer(u,p,GetUnitVisibleByPlayerCount(u,p)+c)
endfunction

function SetUnitDetectedByPlayer takes unit u, player p, integer c returns nothing
	local integer a=GetUnitDetectedClass(u)
	if a>0 then
		call WMem(a+0x2C+4*GetPlayerId(p),c)
		if c>0 and IsFlagBitSet(RMem(a+0x24),Player2Flag(p))==false then
			call WMem(a+0x24,RMem(a+0x24)+Player2Flag(p))
		endif
	endif
endfunction

function GetUnitDetectedByPlayerCount takes unit u, player p returns integer
	local integer a=GetUnitDetectedClass(u)
	if a>0 then
		return RMem(a+0x2C+4*GetPlayerId(p))
	endif
	return 0
endfunction

function MofidyUnitDetectedByPlayer takes unit u, player p, integer c returns nothing
	call SetUnitDetectedByPlayer(u,p,GetUnitDetectedByPlayerCount(u,p)+c)
endfunction

function SetUnitVisiblePartiallyByPlayer takes unit u, player p, boolean visible returns nothing
	local integer a=ConvertHandle(u)
	if a>0 then
		if IsFlagBitSet(RMem(a+0x148),Player2Flag(p))==false then
			if visible then
				call WMem(a+0x148,RMem(a+0x148)+Player2Flag(p))
			endif
		else
			if not visible then
				call WMem(a+0x148,RMem(a+0x148)-Player2Flag(p))
			endif
		endif
	endif
endfunction

function IsUnitVisiblePartiallyByPlayer takes unit u, player p returns boolean
	local integer a=ConvertHandle(u)
	if a>0 then
		return IsFlagBitSet(RMem(a+0x148),Player2Flag(p))
	endif
	return false
endfunction

function SetUnitSharedVisionForPlayer takes unit u, player p, boolean shared returns nothing
	local integer a=ConvertHandle(u)
	if a>0 then
		if IsFlagBitSet(RMem(a+0x14C),Player2Flag(p))==false then
			if shared then
				call WMem(a+0x14C,RMem(a+0x14C)+Player2Flag(p))
			endif
		else
			if not shared then
				call WMem(a+0x14C,RMem(a+0x14C)-Player2Flag(p))
			endif
		endif
	endif
endfunction

function SetUnitSharedVisionForPlayerAddress takes integer a, player p, boolean shared returns nothing
	if a>0 then
		if IsFlagBitSet(RMem(a+0x14C),Player2Flag(p))==false then
			if shared then
				call WMem(a+0x14C,RMem(a+0x14C)+Player2Flag(p))
			endif
		else
			if not shared then
				call WMem(a+0x14C,RMem(a+0x14C)-Player2Flag(p))
			endif
		endif
	endif
endfunction

function IsUnitSharedVisionToPlayer takes unit u, player p returns boolean
	local integer a=ConvertHandle(u)
	if a>0 then
		return IsFlagBitSet(RMem(a+0x14C),Player2Flag(p))
	endif
	return false
endfunction

function InitializeDamageHandler takes integer pTriggerHandle returns nothing
	local integer pUnitDamageHandler = pUnitVtable+0x120
	local integer oldprotection = ChangeOffsetProtection(pUnitDamageHandler,4,0x40)
	set Memory[pReservedMemoryForDamageHandler/4+0]=0xB890C08B
	set Memory[pReservedMemoryForDamageHandler/4+1]=pDamageTarget
	set Memory[pReservedMemoryForDamageHandler/4+2]=0xB8900889
	set Memory[pReservedMemoryForDamageHandler/4+3]=pDamageEspData
	set Memory[pReservedMemoryForDamageHandler/4+4]=0x68602089
	set Memory[pReservedMemoryForDamageHandler/4+5]=pTriggerHandle
	set Memory[pReservedMemoryForDamageHandler/4+6]=0xB890C08B
	set Memory[pReservedMemoryForDamageHandler/4+7]=pTriggerExecute
	set Memory[pReservedMemoryForDamageHandler/4+8]=0xC483D0FF
	set Memory[pReservedMemoryForDamageHandler/4+9]=0xB8906104
	set Memory[pReservedMemoryForDamageHandler/4+10]=pRealUnitDamageHandler
	set Memory[pReservedMemoryForDamageHandler/4+11]=0xCCCCE0FF
	call WMem(pUnitDamageHandler,pReservedMemoryForDamageHandler)
	set oldprotection = ChangeOffsetProtection(pUnitDamageHandler,4,oldprotection)
endfunction

function InitializeAttackinitializationHandler takes integer pTriggerHandle returns nothing
	local unit u=CreateUnit(Players[0],'esen',0,0,0)
	local integer a=ConvertHandle(u)
	local integer Aatk=RMem(a+0x1E8)
	local integer pAttackVtable=RMem(Aatk)
	local integer pAttackinitializationHandler = pAttackVtable+0x2CC
	local integer pRealAttackinitializationHandler=RMem(pAttackinitializationHandler)
	local integer oldprotection = ChangeOffsetProtection(pAttackinitializationHandler,4,0x40)
	call WMem(pReservedMemoryForAttackPrepareHandler + 0, 0xB890C98B)
	call WMem(pReservedMemoryForAttackPrepareHandler + 4, pADamageTarget)
	call WMem(pReservedMemoryForAttackPrepareHandler + 8, 0xB8900889)
	call WMem(pReservedMemoryForAttackPrepareHandler + 12, pADamageEspData)
	call WMem(pReservedMemoryForAttackPrepareHandler + 16, 0x68602089)
	call WMem(pReservedMemoryForAttackPrepareHandler + 20, pTriggerHandle)
	call WMem(pReservedMemoryForAttackPrepareHandler + 24, 0xB890C08B)
	call WMem(pReservedMemoryForAttackPrepareHandler + 28, pTriggerExecute)
	call WMem(pReservedMemoryForAttackPrepareHandler + 32, 0xC483D0FF)
	call WMem(pReservedMemoryForAttackPrepareHandler + 36, 0xB8906104)
	call WMem(pReservedMemoryForAttackPrepareHandler + 40, pRealAttackinitializationHandler)
	call WMem(pReservedMemoryForAttackPrepareHandler + 44, 0xCCCCE0FF)
	call WMem(pAttackinitializationHandler,pReservedMemoryForAttackPrepareHandler)
	set oldprotection = ChangeOffsetProtection(pAttackinitializationHandler,4,oldprotection)
	call RemoveUnit(u)
	set u=null
endfunction

function TestIfdamageHookCrash takes nothing returns nothing
	call TypecastArray()
endfunction

function DT2DT takes integer k returns integer
	local integer i=1
	if k==0 then
		return 0
	endif
	loop
		exitwhen k/2<=1
		set i=i+1
		set k=k/2
	endloop
	return i
endfunction

function FuncFreeExecutableMemory takes integer memoryaddr returns nothing
	if pFreeExecutableMemory == 0 then 
		set pFreeExecutableMemory = GetModuleProcAddress(EXTRADLLNAME, "FreeExecutableMemory")
	endif
	if pFreeExecutableMemory != 0 then 
		call CallStdCallWith1Args(pFreeExecutableMemory,memoryaddr)
	endif
endfunction

function FreeExecutableMemoryInit takes nothing returns nothing
	call FuncFreeExecutableMemory( pCallFastCallWith1Args )
endfunction

function InitPacketHandler126a takes nothing returns nothing
	local integer oldprotection = ChangeOffsetProtection(pPacketHandler,6,0x40)
	call WMem(pReservedMemoryForPacketHandler2, 0x0085FA81)
	call WMem(pReservedMemoryForPacketHandler2 + 4, 0x870F0000)
	call WMem(pReservedMemoryForPacketHandler2 + 8, pPacketHandler4 - (pReservedMemoryForPacketHandler2 + 8) - 4)
	call WMem(pReservedMemoryForPacketHandler2 + 12, 0x0084FA81)
	call WMem(pReservedMemoryForPacketHandler2 + 16, 0x850F0000)
	call WMem(pReservedMemoryForPacketHandler2 + 20, pPacketHandler2 - (pReservedMemoryForPacketHandler2 + 20) - 4)
	call WMem(pReservedMemoryForPacketHandler2 + 24, 0x1C68968B)
	call WMem(pReservedMemoryForPacketHandler2 + 28, 0x52530000)
	call WMem(pReservedMemoryForPacketHandler2 + 32, 0x2274968B)
	call WMem(pReservedMemoryForPacketHandler2 + 36, 0x50520000)
	call WMem(pReservedMemoryForPacketHandler2 + 40, 0x35FFC08B)
	call WMem(pReservedMemoryForPacketHandler2 + 44, pPacketHandler5)
	call WMem(pReservedMemoryForPacketHandler2 + 48, 0x24448D55)
	call WMem(pReservedMemoryForPacketHandler2 + 52, 0xD78B5030)
	call WMem(pReservedMemoryForPacketHandler2 + 56, 0xB890C08B)
	call WMem(pReservedMemoryForPacketHandler2 + 60, pReservedMemoryForPacketHandler)
	call WMem(pReservedMemoryForPacketHandler2 + 64, 0xB890D0FF)
	call WMem(pReservedMemoryForPacketHandler2 + 68, pPacketHandler3)
	call WMem(pReservedMemoryForPacketHandler2 + 72, 0xCCCCE0FF)
	call WMem(pPacketHandler, 0xE9E9E9E9)
	call WMem(pPacketHandler + 2, 0x90909090)
	call WMem(pPacketHandler + 1, pReservedMemoryForPacketHandler2 - pPacketHandler - 5 )
	set oldprotection = ChangeOffsetProtection(pPacketHandler,6,oldprotection)
endfunction

function InitPacketHandler127a takes nothing returns nothing
	local integer oldprotection = ChangeOffsetProtection(pPacketHandler,5,0x40)
	call WMem(pReservedMemoryForPacketHandler2, 0x0000853D)
	call WMem(pReservedMemoryForPacketHandler2 + 4, 0x870F9000)
	call WMem(pReservedMemoryForPacketHandler2 + 8, pPacketHandler4 - (pReservedMemoryForPacketHandler2 + 8) - 4)
	call WMem(pReservedMemoryForPacketHandler2 + 12, 0x0000843D)
	call WMem(pReservedMemoryForPacketHandler2 + 16, 0x850F9000)
	call WMem(pReservedMemoryForPacketHandler2 + 20, pPacketHandler2 - (pReservedMemoryForPacketHandler2 + 20) - 4)
	call WMem(pReservedMemoryForPacketHandler2 + 24, 0xB6FF006A)
	call WMem(pReservedMemoryForPacketHandler2 + 28, 0x00001C68)
	call WMem(pReservedMemoryForPacketHandler2 + 32, 0xF698858D)
	call WMem(pReservedMemoryForPacketHandler2 + 36, 0xD38BFFFF)
	call WMem(pReservedMemoryForPacketHandler2 + 40, 0x2274B6FF)
	call WMem(pReservedMemoryForPacketHandler2 + 44, 0x8B510000)
	call WMem(pReservedMemoryForPacketHandler2 + 48, 0x35FF90C0)
	call WMem(pReservedMemoryForPacketHandler2 + 52, pPacketHandler5)
	call WMem(pReservedMemoryForPacketHandler2 + 56, 0xF6B4B5FF)
	call WMem(pReservedMemoryForPacketHandler2 + 60, 0xCF8BFFFF)
	call WMem(pReservedMemoryForPacketHandler2 + 64, 0xB8C08B50)
	call WMem(pReservedMemoryForPacketHandler2 + 68, pReservedMemoryForPacketHandler)
	call WMem(pReservedMemoryForPacketHandler2 + 72, 0xB890D0FF)
	call WMem(pReservedMemoryForPacketHandler2 + 76, pPacketHandler3)
	call WMem(pReservedMemoryForPacketHandler2 + 80, 0xCCCCE0FF)
	call WMem(pPacketHandler, 0xE9E9E9E9)
	call WMem(pPacketHandler + 1, pReservedMemoryForPacketHandler2 - pPacketHandler - 5 )
	set oldprotection = ChangeOffsetProtection(pPacketHandler,5,oldprotection)
endfunction

function PacketHandlerProcessKeyboardEvent takes integer pPacketData returns nothing
	local integer keyPlayer = RMem(pPacketData+4)
	local integer keyEvent = RMem(pPacketData+8)
	local integer keyCode = RMem(pPacketData+12)
endfunction

function PacketHandler_Actions takes nothing returns nothing
	local integer pPacketDataOffset = RMem(RMem(pReservedMemoryForPacketHandler3)+0x4)
	local integer pPacketSize = 0
	if pPacketDataOffset > 0 then
		set pPacketSize = RMem(pPacketDataOffset+0x10)
		set pPacketDataOffset = RMem(pPacketDataOffset+0x4)
		if pPacketDataOffset > 0 then 
			if RMem(pPacketDataOffset) == 0x85 and pPacketSize == 16 then 
				call PacketHandlerProcessKeyboardEvent(pPacketDataOffset)
			endif
		endif
	endif 
endfunction

function InitPacketHandler2 takes integer pTriggerHandle returns nothing
	call WMem(pReservedMemoryForPacketHandler + 0, 0xB890C031 )
	call WMem(pReservedMemoryForPacketHandler + 4, pReservedMemoryForPacketHandler3 )
	call WMem(pReservedMemoryForPacketHandler + 8, 0xB8902089 )
	call WMem(pReservedMemoryForPacketHandler + 12, pTriggerHandle )
	call WMem(pReservedMemoryForPacketHandler + 16, 0xB8C08B50 )
	call WMem(pReservedMemoryForPacketHandler + 20, pTriggerExecute )
	call WMem(pReservedMemoryForPacketHandler + 24, 0xC483D0FF )
	call WMem(pReservedMemoryForPacketHandler + 28, 0x001CC204 )
endfunction

function InitPacketHandler126Test takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerAddAction(t,function PacketHandler_Actions)
	call InitPacketHandler2(GetHandleId(t))
	call InitPacketHandler126a( )
endfunction

function InitPacketHandler127Test takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerAddAction(t,function PacketHandler_Actions)
	call InitPacketHandler2(GetHandleId(t))
	call InitPacketHandler127a( )
endfunction

function PlayerKeyboardEvent takes nothing returns nothing
	local integer KeyBoardEvent = RMem(pKeyEvent)
	local integer KeyBoardKey = RMem(pKeyAddr)
	call Packet_NewPacket(GetPlayerId(LocalPlayer),KeyBoardEvent,KeyBoardKey)
	 if KeyBoardEvent == 0x100 then 
		 call BJDebugMsg("Key " + Int2Hex(KeyBoardKey) + " DOWN")
	 else
		 call BJDebugMsg("Key " + Int2Hex(KeyBoardKey) + " UP")
	 endif
	 call BJDebugMsg("KeyEvent:" + Int2Hex(KeyBoardEvent))
endfunction

function FuncTriggerRegisterPlayerKeyboardEvent takes integer keyCode returns nothing
	if pTriggerRegisterPlayerKeyboardEvent == 0 then 
		set pTriggerRegisterPlayerKeyboardEvent = GetModuleProcAddress(EXTRADLLNAME, "TriggerRegisterPlayerKeyboardEvent")
	endif
	if pTriggerRegisterPlayerKeyboardEvent != 0 then 
		call CallStdCallWith1Args(pTriggerRegisterPlayerKeyboardEvent,keyCode)
	endif
endfunction

function GetUnitModelPortrait takes integer id returns string
	local integer k=GetUnitUIDefByIdCaching(id)
	if k < 1 then
		return ""
	endif
	set k=k+0x34
	if RMem(k)>0 then
			return ConvertNullTerminatedStringToString(RMem(k))
	endif
	return ""
endfunction

function GetUnitModelPath takes integer id returns string
	local integer k=GetUnitUIDefByIdCaching(id)
	if k < 1 then
		return ""
	endif
	set k=k+0x30
	if RMem(k)>0 then
		return ConvertNullTerminatedStringToString(RMem(k))
	endif
	return ""
endfunction

function PrepareDummyModelSwitch takes string s returns nothing
	local unit u
	local integer a
	if dummyModelAddress==0 then
		set u=CreateUnit(Players[0],'h02C',0,0,0)
		call ShowUnit(u,false)
		call KillUnit(u)
		set u=null
		set a=GetUnitUIDefByIdCaching('h02C')
		if a>0 then
			set dummyModelAddress=a
		else
			call FatalErrorNote("model switch failed")
			return
		endif
	endif
	call SetUnitModelUFAddress(dummyModelAddress,s)
endfunction

function CreateAndChangeUnitModel takes player p, integer id, real x, real y, real f, string s returns unit
	local unit u
	local integer a=GetUnitUIDefByIdCaching(id)
	if a>0 then
		call SetUnitModelUFAddress(a,s)
		call SetUnitPortrait(a,GetUnitModelPortrait(id))
	endif
	set u=CreateUnit(p,id,x,y,f)
	return u
endfunction

function SetDummyUnitUbersplat takes string s returns nothing
	local integer a=GetUnitUIDefByIdCaching('h02C')
	if a>0 then
		call WMem(a+0x44, GetStringAddress(s))
	endif
endfunction

function RestoreDummyModelSwitch takes nothing returns nothing
	if dummyModelAddress!=0 then
		call SetUnitModelUFAddress(dummyModelAddress,DEFAULT_SONIC_WAVE_MODEL)
	endif
endfunction

function GetUnitInvisibleCounter takes unit u returns integer
	local integer a=ConvertHandle(u)
	if a>0 then
		return RMem(a+0x114)
	endif
	return 0
endfunction

function CreateMissTexttagOverUnit takes unit u returns nothing
	if ConvertHandle(u)>0 then
		call CallThisCallWith1Args(pMissTexttag,ConvertHandle(u))
	endif
endfunction

function GetUnitUIIntegerParam takes integer id, integer includedLevel, integer offset returns integer
	local integer k=GetUnitUIDefByIdCaching(id)
	if k < 1 then
		return 0
	endif
	set k=k+offset
	if includedLevel==0 then
		return RMem(k)
	else
		if includedLevel==1 then
			return RMem(RMem(k))
		endif
	endif
	return 0
endfunction

function SetUnitUIIntegerParam takes integer id, integer includedLevel, integer offset, integer val returns nothing
	local integer k=GetUnitUIDefByIdCaching(id)
	if k < 1 then
		return
	endif
	set k=k+offset
	if offset==0x274 then
		call WMem(k,k-0x4)
		return
	endif
	if includedLevel==0 then
		call WMem(k,val)
	else
		if includedLevel==1 then
			if RMem(k)==0 then
				call WMem(k,GetStringAddress(I2S(val)))
			endif
			call WMem(RMem(k),val)
		endif
	endif
endfunction

function SetUnitUIStringParam takes integer id, integer includedLevel, integer offset, string val returns nothing
	local integer k=GetUnitUIDefByIdCaching(id)
	if k < 1 then
		return
	endif
	set k=(k+offset)
	if includedLevel==0 then
		call WMem(k,GetStringAddress(val))
	else
		if includedLevel==1 then
			if RMem(k)<1 then
				call WMem(k,GetStringAddress(val))
			endif
			call WMem(RMem(k),GetStringAddress(val))
		endif
	endif
endfunction

function GetUnitUIStringParam takes integer id, integer includedLevel, integer offset returns string
	local integer k=GetUnitUIDefByIdCaching(id)
	if k < 1 then
		return ""
	endif
	set k=k+offset
	if includedLevel==0 then
		if RMem(k)>0 then
			return ConvertNullTerminatedStringToString(RMem(k))
		endif
	else
		if includedLevel==1 then
			if RMem(k)>0 and RMem(RMem(k))>0 then
				return ConvertNullTerminatedStringToString(RMem(RMem(k)))
			endif
		endif
	endif
	return ""
endfunction

function GetUnitUbertip takes integer id returns string
	return GetUnitUIStringParam(id,1,0x268)
endfunction

function SetUnitUbertip takes integer id, string s returns nothing
	call SetUnitUIStringParam(id,1,0x268,s)
endfunction

function GetUnitTip takes integer id returns string
	return GetUnitUIStringParam(id,1,0x25C)
endfunction

function SetUnitTip takes integer id, string s returns nothing
	call SetUnitUIStringParam(id,1,0x25C,s)
endfunction

function GetUnitHotkey takes integer id returns integer
	if GetUnitUIIntegerParam(id,0,0x26C)==0 and GetUnitUIIntegerParam(id,0,0x270)==0 then
		return 0
	endif
	return GetUnitUIIntegerParam(id,1,0x274)
endfunction

function SetUnitHotkey takes integer id, integer key returns nothing
	call SetUnitUIIntegerParam(id,0,0x26C,1)
	call SetUnitUIIntegerParam(id,0,0x270,key)
	call SetUnitUIIntegerParam(id,1,0x274,key)
endfunction

function GetHeroPrimaryAttributeById takes integer id returns integer
	local integer a=GetUnitDataDefByIdCaching(id)
	if a>0 then
		return RMem(a + 0x17C)
	endif
	return 0
endfunction

function ProvideBountyForUnit takes unit killer, unit victim, integer gold, integer lumber, boolean add, boolean overKillerToo, boolean display returns nothing
	local integer ak=ConvertHandle(killer)
	local integer av=ConvertHandle(victim)
	if ak>0 and av>0 then
		call CallFastCallWith7Args(pBountyTextTag,ak,av,Bool2Int(add),gold,lumber,Bool2Int(overKillerToo),Bool2Int(display))
	endif
endfunction

function DisplayBountyTextTag takes unit killer, unit victim, integer goldbounty returns nothing
	local integer ak=ConvertHandle(killer)
	local integer av=ConvertHandle(victim)
	if ak>0 and av>0 then
		call CallFastCallWith7Args(pBountyTextTag,ak,av,0,goldbounty,0,0,1)
	endif
endfunction

function DisplayBountyTextTagAdding takes unit killer, unit victim, integer goldbounty returns nothing
	local integer ak=ConvertHandle(killer)
	local integer av=ConvertHandle(victim)
	if ak>0 and av>0 then
		call CallFastCallWith7Args(pBountyTextTag,ak,av,1,goldbounty,0,0,1)
	endif
endfunction

function PlaySoundOfAbilityOverUnit takes unit u, integer aID returns nothing
	local integer au=ConvertHandle(u)
	local integer aa
	if au>0 then
		set aa=GetUnitAbility(u,aID)
		if aa>0 then
			call CallThisCallWith2Args(pPlaySoundOfAbility,aa,au)
		endif
	endif
endfunction

function SetEffectVisibility takes effect fx, boolean visible returns nothing
	local integer a=ConvertHandle(fx)
	if a>0 then
		if visible then
			call WMem(a+0x20,0)
		else
			call WMem(a+0x20,1)
		endif
	endif
endfunction

function GetPlayerUIObject takes integer x returns integer
	local integer cmd=0x1C0
	local integer ui
	local integer skillPanel
	local integer topLeftButton
	if x>11 then
		return -1
	endif
	set ui=RMem(pGameClass2)
	if ui>0 then
		set skillPanel=RMem(ui+0x3C8)
		if skillPanel>0 then
			set skillPanel=RMem(skillPanel+0x154)
			if skillPanel>0 then
				set skillPanel=RMem(skillPanel+0x8)
				if skillPanel>0 then
					set topLeftButton=RMem(skillPanel)
					if topLeftButton>0 then
						return topLeftButton+cmd*x
					endif
				endif
			endif
		endif
	endif
	return 0
endfunction

function FuncBlockKeyAction takes integer keyCode returns nothing
	if pBlockKeyAction == 0 then 
		set pBlockKeyAction = GetModuleProcAddress(EXTRADLLNAME, "BlockKeyAction")
	endif
	if pBlockKeyAction != 0 then 
		call CallStdCallWith1Args(pBlockKeyAction,keyCode)
	endif
endfunction

function FuncAddKeyButtonAction takes integer keyCode, integer btnID, boolean isItem returns nothing
	if pAddKeyButtonAction == 0 then 
		set pAddKeyButtonAction = GetModuleProcAddress(EXTRADLLNAME, "AddKeyButtonAction")
	endif
	if pAddKeyButtonAction != 0 then 
		call CallStdcallWith3Args(pAddKeyButtonAction,keyCode,btnID,B2I(isItem))
	endif
endfunction

function SetUnitVisionGroundOnly takes unit u returns nothing
	local integer a=GetHandleId(u)
	if a>0 then
		set a=ConvertHandle(u)
		if a>0 then
			call WMem(a+0x200,1)
		endif
	endif
endfunction

function UnitRemoveBuffsFixed takes unit u, boolean physical, boolean magic, boolean timedLife, boolean aura, boolean autodispel, boolean positive, boolean negative, boolean unknown9, boolean unknown10 returns integer
	local integer a=ConvertHandle(u)
	if a<1 then
		return 0
	endif
	return CallThisCallWith10Args(pRemoveBuffs,a,B2I(physical),B2I(magic),B2I(timedLife),B2I(aura),B2I(autodispel),B2I(positive),B2I(negative),B2I(unknown9),B2I(unknown10))
endfunction

function GetMapGridAddress takes nothing returns integer
	if pMapGridData==0 then
		set pMapGridData=CallThisCallWith1Args(pMapGridDataSource,0)
	endif
	return pMapGridData
endfunction

function ConvertUnitAddressToHandleID takes integer address returns integer
	local integer a=RMem(RMem(GameState)+28)
	return CallThisCallWith3Args(pConvertAddressToHandleId,a,address,0)
endfunction

function ConvertUnitAddressToHandleIDNative takes integer address returns integer
	return CallThisCallWith1Args(pConvertUnitAddressToHandleIDNative,address)
endfunction

function Typecast4 takes nothing returns nothing
	local unit l__Int2Unit
endfunction

function I2Unit takes integer i returns unit
	call setInt2Unit(ConvertUnitAddressToHandleIDNative(i))
	return l__Int2Unit
endfunction

function GetBuffOwner takes integer a returns unit
	local integer array xs
	local unit res=null
	if a>0 then
		set xs[1]=RMem(a+0xD4)
		set xs[2]=RMem(a+0xD8)
		if xs[1]!=-1 and xs[2]!=-1 then
			set xs[3]=GetSomeAddressForAbility(xs[1],xs[2])
			if xs[3]!=0 then
				set res=I2Unit(xs[3])
				if IsUnitType(res,UNIT_TYPE_DEAD) then
					set res=null
				endif
			endif
		endif
	endif
	return res
endfunction

function IsBasicCourierId takes integer i returns boolean
	return i=='np00' or i=='n00I' or i=='n022' or i=='n021' or i=='n0KY' or i=='n0KZ' or i=='n0LE' or i=='n023' or i=='n024' or i=='n025' or i=='n0L0' or i=='n0L1' or i=='n0M4' or i=='n00M' or i=='n0HV' or i=='n0LS'
endfunction

function IsBasicCourier takes unit u returns boolean
	return IsBasicCourierId(GetUnitTypeId(u))
endfunction

function IsFlyingCourierId takes integer i returns boolean
	return  i=='np01' or i=='e01H' or i=='e01Z' or i=='e02R' or i=='e02T' or i=='e02S' or i=='e030'
endfunction

function IsFlyingCourier takes unit u returns boolean
	return IsFlyingCourierId(GetUnitTypeId(u))
endfunction

function IsCourierId takes integer i returns boolean
	return IsBasicCourierId(i)or IsFlyingCourierId(i)
endfunction

function IsCourier takes unit u returns boolean
	return IsBasicCourier(u)or IsFlyingCourier(u)
endfunction

function IsUnitStructure takes unit u returns boolean
	return IsUnitType(u,UNIT_TYPE_STRUCTURE)
endfunction

function OnDamageReceivedHookWorker takes nothing returns nothing
	local integer offset=Memory[pDamageEspData/4]
	local integer target=Memory[pDamageTarget/4]
	local integer hu
	local real bonusdmg
	if offset>0 then
		set offset=Memory[offset/4+2]
	endif
	if DamageIncrementer>8000 then
		set DamageIncrementer=10
	endif
	set DamageIncrementer=DamageIncrementer+1
	set RaindropBeenActivated=false
	if offset>0 then
		set DamageAttackTypes[DamageIncrementer]=Memory[offset/4+0x20/4]
		set DamageDamageTypes[DamageIncrementer]=Memory[offset/4+0x14/4]
		set DamageValues[DamageIncrementer]=mI2R(Memory[offset/4+0x10/4])
		set tt_unit2=I2Unit(target)
		if DamageValues[DamageIncrementer]>0.1 then
			set tt_unit1=I2Unit(RMem(offset))
			set hu=GetHandleId(tt_unit2)
			set bonusdmg=LoadReal(HY,hu,'AMPL')
			if IsCourier(tt_unit2) then
				if Memory[offset/4+0xC/4]==0x100 then
					set bonusdmg=bonusdmg+0.5
				endif
			endif
			if SomeItemAlreadyRegistered[QuellingBlade] and IsFakeDamage < 1 and (GetUnitAbilityLevel(tt_unit1,'A1AB')>0 or GetUnitAbilityLevel(tt_unit1,'A3AQ')>0) and not IsUnitIllusion(tt_unit1) and not IsUnitStructure(tt_unit2) and IsUnitEnemy(tt_unit2,GetOwningPlayer(tt_unit1)) and not IsHeroUnitId(GetUnitTypeId(tt_unit2)) and GetUnitAbilityLevel(tt_unit2,'A04R')==0 and tt_unit2!=Roshan then
				if IsFlagBitSet(Memory[offset/4+0xC/4],1) then
					if GetUnitAbilityLevel(tt_unit1,'A3AQ')==1 then
						set bonusdmg=bonusdmg+0.25
					endif
					if GetUnitAbilityLevel(tt_unit1,'A1AB')==1 then
						set bonusdmg=bonusdmg+0.12
					endif
				else
					if GetUnitAbilityLevel(tt_unit1,'A3AQ')==1 then
						set bonusdmg=bonusdmg+0.6
					endif
					if GetUnitAbilityLevel(tt_unit1,'A1AB')==1 then
						set bonusdmg=bonusdmg+0.32
					endif
				endif
			endif
			if FleshGolemExists and GetUnitAbilityLevel(tt_unit2,'B0AI')>0 then
				set tt_unit3=GetBuffOwner(GetUnitAbility(tt_unit2,'B0AI'))
				if tt_unit3!=null then
					if IsUnitInRange(tt_unit3,tt_unit2,775) then
						set bj_meleeNearestMineDist=SquareRoot((GetUnitX(tt_unit3)-GetUnitX(tt_unit2))*(GetUnitX(tt_unit3)-GetUnitX(tt_unit2))+(GetUnitY(tt_unit3)-GetUnitY(tt_unit2))*(GetUnitY(tt_unit3)-GetUnitY(tt_unit2)))
						if bj_meleeNearestMineDist>200 then
							set bj_meleeNearestMineDist=15.+5.*GetUnitAbilityLevel(tt_unit3,'A15J')-15.*((RMinBJ(bj_meleeNearestMineDist,775.)-150.)/625.)
						else
							set bj_meleeNearestMineDist=15.+5.*GetUnitAbilityLevel(tt_unit3,'A15J')
						endif
						if bj_meleeNearestMineDist>0 then
							set bonusdmg=bonusdmg+bj_meleeNearestMineDist/100.
						endif
					endif
				endif
			endif
			if HeroInGame_BS then
				if (GetUnitAbilityLevel(tt_unit1,'Aloc')>0) and (not IsUnitType(tt_unit1,UNIT_TYPE_HERO)) then
					set tt_unit3=udg_Hero[GetPlayerId(GetOwningPlayer(tt_unit1))]
				else
					set tt_unit3=tt_unit1
				endif
				if GetUnitAbilityLevel(tt_unit3,'A30F')>0 or GetUnitAbilityLevel(tt_unit2,'A30F')>0 then
					if IsUnitInRange(tt_unit3,tt_unit2, 2200.) then
						if GetUnitAbilityLevel(tt_unit3,'A30F')>0 then
							set bonusdmg=bonusdmg+LoadReal(HY,GetHandleId(tt_unit3),'A2X9')*2
						endif
					else
						if GetUnitAbilityLevel(tt_unit3,'A30F')>0 then
							set bonusdmg=bonusdmg+LoadReal(HY,GetHandleId(tt_unit3),'A2X9')
						endif
						if GetUnitAbilityLevel(tt_unit2,'A30F')>0 then
							set bonusdmg=bonusdmg-LoadReal(HY,hu,'A2X9')
						endif
					endif
				endif
			endif
			if bonusdmg>0 then
				set bj_meleeNearestMineDist=DamageValues[DamageIncrementer]*(bonusdmg+1.)
				call WMem(offset+0x10,mR2I(bj_meleeNearestMineDist))
				set DamageValues[DamageIncrementer]=bj_meleeNearestMineDist
			endif
		endif
		if GetUnitAbilityLevel(tt_unit2,'A3V5')>0 and LoadInteger(HY,GetHandleId(tt_unit2),'A3V5')!=1 and DamageValues[DamageIncrementer]>50. and ConvertDamageType(DT2DT(DamageDamageTypes[DamageIncrementer]))==DAMAGE_TYPE_FIRE then
			set RaindropBeenActivated=true
			set bj_meleeNearestMineDist=RMaxBJ(DamageValues[DamageIncrementer] - 120.,1.)
			set bj_randomSubGroupChance=DamageValues[DamageIncrementer]-bj_meleeNearestMineDist
			call WMem(offset+0x10,mR2I(bj_meleeNearestMineDist))
			set DamageValues[DamageIncrementer]=bj_meleeNearestMineDist
		endif
	endif
endfunction

function OnDamageReceivedHook takes nothing returns nothing
	call OnDamageReceivedHookWorker( )
endfunction

function ShortenBuffDur takes unit u, integer buffid returns nothing
	local real r
	set LastConvertedHandle=GetUnitAbility(u,buffid)
	if LastConvertedHandle>0 then
		set LastConvertedHandle=LastConvertedHandle+0x90
		if RMem(LastConvertedHandle)>0 then
			set r=mI2R(RMem(LastConvertedHandle+0x4))-3.9
			call WMem(LastConvertedHandle+0x4,mR2I(r))
		endif
	endif
endfunction

function SetBuffLevel takes unit u, integer buffid, integer lvl returns nothing
	set LastConvertedHandle=GetUnitAbility(u,buffid)
	if LastConvertedHandle>0 then
		call WMem(LastConvertedHandle+0xB0,lvl-1)
	endif
endfunction

function ModifyUnitAttackRangeBuffer takes unit u, real r returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		set LastConvertedHandle=GetUnitAttackAbilityForAddress(LastConvertedHandle)
		if LastConvertedHandle>0 then
			call WMem(LastConvertedHandle+0x26C, mR2I( mI2R(RMem(LastConvertedHandle+0x26C)) + r ) )
		endif
	endif
endfunction

function AddAbilityDisabled2 takes unit u, integer id, integer count returns nothing
	local integer a=GetUnitAbility(u,id)
	if a>0 then
		call SetAbilityDisabled2(a,GetAbilityDisabled2(a)+count)
	endif
endfunction

function GetItemFirstActiveAbilityAddress takes item it returns integer
	set LastConvertedHandle=ConvertHandle(it)
	if LastConvertedHandle>0 then
		return GetSomeAddressForAbility(RMem(LastConvertedHandle+0x9C),RMem(LastConvertedHandle+0xA0))
	endif
	return 0
endfunction

function RedrawMinimap takes nothing returns nothing
	call CallThisCallWith1Args(pRedrawMinimap,pMinimapData)
endfunction

function InitBerserkHook takes nothing returns nothing
	local integer oldprotection = ChangeOffsetProtection(pBerserkOrderAddr,10,0x40)
	call WMem(pReservedMemoryForBerserkHook + 0, 0x3D34418B ) 
	call WMem(pReservedMemoryForBerserkHook + 4, 'A21X' )	
	call WMem(pReservedMemoryForBerserkHook + 8, 0xB8900775 )
	call WMem(pReservedMemoryForBerserkHook + 0xC, ORDER_battlestations ) 
	call WMem(pReservedMemoryForBerserkHook + 0x10, 0x3D9090C3 ) 
	call WMem(pReservedMemoryForBerserkHook + 0x14, 'A21W' )	
	call WMem(pReservedMemoryForBerserkHook + 0x18, 0xB8900775 )
	call WMem(pReservedMemoryForBerserkHook + 0x1C, ORDER_roar ) 
	call WMem(pReservedMemoryForBerserkHook + 0x20, 0x3D9090C3 ) 
	call WMem(pReservedMemoryForBerserkHook + 0x24, 'A21V' )	
	call WMem(pReservedMemoryForBerserkHook + 0x28, 0xB8900775 )
	call WMem(pReservedMemoryForBerserkHook + 0x2C, ORDER_renew ) 
	call WMem(pReservedMemoryForBerserkHook + 0x30, 0x0084B8C3 ) 
	call WMem(pReservedMemoryForBerserkHook + 0x34, 0x90C3000D) 
	call WMem(pBerserkOrderAddr, 0xE9E9E9E9)
	call WMem(pBerserkOrderAddr+3, 0x90909090)
	call WMem(pBerserkOrderAddr + 1, pReservedMemoryForBerserkHook - pBerserkOrderAddr - 5 )
	set oldprotection = ChangeOffsetProtection(pBerserkOrderAddr,10,oldprotection)
endfunction

function SetUnitMovementType takes unit u, integer movetp, integer selfcollision, integer outhercollision returns nothing
	local integer data= GetUnitDataDefByIdCaching(GetUnitTypeId(u)) + 0x1A8
	local integer p1=RMem(data)
	local integer p2=RMem(data + 4)
	local integer p3=RMem(data + 8)
	if movetp!=-1 then
		call WMem(data,movetp)
	endif
	if selfcollision!=-1 then
		call WMem(data + 4,selfcollision)
	endif
	if outhercollision!=-1 then
		call WMem(data + 8,outhercollision)
	endif
	call SetUnitPathing(u, true)
	call WMem(data,p1)
	call WMem(data + 4,p2)
	call WMem(data + 8,p3)
endfunction

function RefreshUnitsCommandPanel takes unit u returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		if IsUnitSelected(u,LocalPlayer) and (IsPlayerObs or IsPlayerAlly(LocalPlayer,GetOwningPlayer(u))) then
			call CallThisCallWith2Args(pRefreshUnitsCommandPanel,LastConvertedHandle,852290)
		endif
	endif
endfunction

function AddAbilityCharges takes unit u, integer id, integer c returns nothing
	local integer a=GetUnitAbility(u,id)
	if a>0 then
		call WMem(a+0x124,RMem(a+0x124)+c)
	endif
	call RefreshUnitsCommandPanel(u)
endfunction

function AddAbilityChargesByAddr takes integer a, integer d returns nothing
	if a>0 then
		call WMem(a+0x124,RMem(a+0x124)+d)
	endif
endfunction

function SetAbilityChargesByAddr takes integer a, integer d returns nothing
	if a>0 then
		call WMem(a+0x124,d)
	endif
endfunction

function GetAbilityCharges takes unit u, integer id returns integer
	local integer a=GetUnitAbility(u,id)
	if a>0 then
		return RMem(a+0x124)
	endif
	return 0
endfunction

function GetAbilityChargesByAddr takes integer a returns integer
	if a>0 then
		return RMem(a+0x124)
	endif
	return 0
endfunction

function GetUnitAbilityLevelF takes integer a returns integer
	if a>0 then
		return RMem(a+0x50)+1
	endif
	return 0
endfunction

function RedrawUnit takes unit u returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		call CallThisCallWith1Args(pRedrawUnitFunction,LastConvertedHandle)
	endif
endfunction

function ChangeUnitModelTo takes unit u, string modelpath returns nothing
	local integer a
	local integer s
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		set a=RMem(LastConvertedHandle)+0x88
		if a>0 then
			set a=RMem(a)
			if a>0 then
				set s=GetStringAddress(modelpath)
				call CallThisCallWith3Args(a,LastConvertedHandle,s,1)
			endif
		endif
	endif
endfunction

function DrawTextAtResourcePanel takes integer panelAddress, string s returns nothing
	local integer a=GetStringAddress(s)
	if a>0 and panelAddress>0 then
		call CallThisCallWith2Args(pDrawTextAtResourcePanel,panelAddress,a)
	endif
endfunction

function DisableLibFeatures takes integer flags returns nothing
	if pDisableFeatures == 0 then 
		set pDisableFeatures = GetModuleProcAddress(EXTRADLLNAME, "DisableFeatures")
	endif
	if pDisableFeatures != 0 then
		call CallStdCallWith1Args(pDisableFeatures,flags)
	endif
endfunction

function EnableLibFeatures takes integer flags returns nothing
	if pEnableFeatures == 0 then 
		set pEnableFeatures = GetModuleProcAddress(EXTRADLLNAME, "EnableFeatures")
	endif
	if pEnableFeatures != 0 then
		call CallStdCallWith1Args(pEnableFeatures,flags)
	endif
endfunction

function ToggleTeleportShiftKey takes integer state returns nothing
	if pTeleportShiftKey == 0 then 
		set pTeleportShiftKey = GetModuleProcAddress(EXTRADLLNAME, "TeleportShiftKey")
	endif
	if pTeleportShiftKey != 0 then
		call CallStdCallWith1Args(pTeleportShiftKey,state)
	endif
endfunction

function fSetAutoSelectHero takes integer state returns nothing
	if pSetAutoSelectHero == 0 then 
		set pSetAutoSelectHero = GetModuleProcAddress(EXTRADLLNAME, "SetAutoSelectHero")
	endif
	if pSetAutoSelectHero != 0 then
		call CallStdCallWith1Args(pSetAutoSelectHero,state)
	endif
endfunction

function AddBorderToIcon takes string s returns boolean
	if pAddBorderToIcon == 0 then 
		set pAddBorderToIcon = GetModuleProcAddress(EXTRADLLNAME, "CreateIconFrameMask")
	endif
	if pAddBorderToIcon != 0 then
		return CallStdCallWith1Args(pAddBorderToIcon,GetStringAddress(s))==1
	endif
	return false
endfunction

function LibFeaturesFullReset takes nothing returns nothing
	call DisableLibFeatures(0xFFFFFFFF)
endfunction

function LibFeaturesFullEnable takes nothing returns nothing
	call EnableLibFeatures(LIB_Feature_AttackSpeed+LIB_Feature_MoveSpeed+LIB_Feature_ItemText+LIB_Feature_UnitHP_MP+LIB_Feature_CUSTOM_FPS_INFO+LIB_Feature_COOLDOWNFIX+LIB_Feature_MANABAR+LIB_Feature_HPBAR+LIB_Feature_Widescreen+LIB_Feature_MutePlayer+LIB_Feature_AllySkillViewer+LIB_Feature_ClickHelper)
endfunction

function SetUnitIDGoldCost takes integer id, integer g returns nothing
	local integer a=GetUnitDataDefByIdCaching(id)
	if a>0 then
		call WMem(a+0x20,g)
	endif
endfunction

function SetUnitIDStockRegenTime takes integer id, real time returns nothing
	local integer a=GetUnitDataDefByIdCaching(id)
	if a>0 then
		call WMem(a+0x4C,mR2I(time))
	endif
endfunction

function GetUnitIDGoldCost takes integer id returns integer
	local integer a=GetUnitDataDefByIdCaching(id)
	if a>0 then
		return RMem(a+0x20)
	endif
	return -1
endfunction

function ResetShopSellingCD takes integer a returns nothing
	call CallThisCallWith1Args(pResetShopCooldownFunc,a)
endfunction

function GetFrostColoringCount takes unit u returns integer
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		return RMem(LastConvertedHandle+0x150)
	endif
	return 0
endfunction

function AddFrostColoringToUnit takes unit u returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		call CallThisCallWith1Args(pAddFrostColoringToUnit,LastConvertedHandle)
	endif
endfunction

function RemoveFrostColoringToUnit takes unit u returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		call CallThisCallWith1Args(pRemoveFrostColoringToUnit,LastConvertedHandle)
	endif
endfunction

function RecountUnitColorFilters takes unit u returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		call CallThisCallWith1Args(RMem(RMem(LastConvertedHandle)+0xB4),LastConvertedHandle)
	endif
endfunction

function UpdateLoadingBarText takes string s returns nothing
endfunction

function GetAgentType takes handle h returns integer
	local integer func = RMem(RMem(ConvertHandle(h))+0x1C)
	return RMem(func)/0x100+RMem(func+4)*0x1000000
endfunction

function SetGlobalMessageToSkill takes integer id, string s returns nothing
	call SetAbilityStringParam(id,0x44,s)
endfunction

function SetGlobalSoundToSkill takes integer id, string s returns nothing
	call SetAbilityStringParam(id,0x48,s)
endfunction

function GetGlobalStringAddress takes string s returns integer
	local integer a=CallThisCallWith2Args(pFindGlobalStringAddress,FindGlobalStringHash1, GetStringAddress(s))
	if a==0 or RMem(a+28)==0 then
		set a=CallThisCallWith2Args(pFindGlobalStringAddress,FindGlobalStringHash2, GetStringAddress(s))
	endif
	if a!=0 then
		return a+28
	endif
	return 0
endfunction

function ProlongUnitTimedLife takes unit u, real d returns nothing
	local real r
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		set LastConvertedHandle=GetUnitAbility(u,'BTLF')
		if LastConvertedHandle>0 then
			set LastConvertedHandle=LastConvertedHandle+0x90
			if LastConvertedHandle>0 then
				set LastConvertedHandle=RMem(LastConvertedHandle)
				set r=mI2R(RMem(LastConvertedHandle+0x4))+d
				call WMem(LastConvertedHandle+0x4,mR2I(r))
			endif
		endif
	endif
endfunction

function TestAttackPreparationTrigger takes nothing returns nothing
	local integer a=RMem(pADamageTarget)
	if a>0 then
		if RMem(a+0x6C)!=-1 then
			set tt_unit1=I2Unit(RMem(a+0x30))
			set tt_unit2=I2Unit(GetSomeAddressForAbility(RMem(a+0x6C),RMem(a+0x70)))
			if HaveSavedHandle(MHT,GetHandleId(tt_unit1),GetHandleId(tt_unit2)) then
				call ExecuteFunc("AttackReadyToGoInit")
			else
				set a=GetAgentType(tt_unit2)
				if a=='item' then
					set tt_widget1=tt_unit2
					call ExecuteFunc("ItemAttackReadyToGoInit")
				endif
			endif
		endif
	endif
endfunction

function AddFixerToMeleeAttacks takes integer pTriggerHandle returns nothing
	local integer old1=RMem(pMeleeAttackCatcher)
	local integer old2=RMem(pMeleeAttackCatcher+4)
	local integer oldprotection = ChangeOffsetProtection(pMeleeAttackCatcher,10,0x40)
	set Memory[pReservedMemoryForMeleeAttackHook/4+0]=0xB8909050
	set Memory[pReservedMemoryForMeleeAttackHook/4+1]=pADamageTarget
	set Memory[pReservedMemoryForMeleeAttackHook/4+2]=0xB8900889
	set Memory[pReservedMemoryForMeleeAttackHook/4+3]=pADamageEspData
	set Memory[pReservedMemoryForMeleeAttackHook/4+4]=0x68602089
	set Memory[pReservedMemoryForMeleeAttackHook/4+5]=pTriggerHandle
	set Memory[pReservedMemoryForMeleeAttackHook/4+6]=0xB890C08B
	set Memory[pReservedMemoryForMeleeAttackHook/4+7]=pTriggerExecute
	set Memory[pReservedMemoryForMeleeAttackHook/4+8]=0xC483D0FF
	set Memory[pReservedMemoryForMeleeAttackHook/4+9]=0x90586104
	set Memory[pReservedMemoryForMeleeAttackHook/4+10]=old1
	set Memory[pReservedMemoryForMeleeAttackHook/4+11]=old2
	set Memory[pReservedMemoryForMeleeAttackHook/4+12]=0xB8909090
	set Memory[pReservedMemoryForMeleeAttackHook/4+13]=pMeleeAttackCatcher+8
	set Memory[pReservedMemoryForMeleeAttackHook/4+14]=0xCCCCE0FF
	set Memory[pMeleeAttackCatcher/4]=0xE9E9E9E9
	set Memory[pMeleeAttackCatcher/4+1]=0x90909090
	call WMem(pMeleeAttackCatcher + 1, pReservedMemoryForMeleeAttackHook - pMeleeAttackCatcher - 5 )
	set oldprotection = ChangeOffsetProtection(pMeleeAttackCatcher,10,oldprotection)
endfunction

function RegisterTestDamageHandler takes nothing returns nothing
	local trigger t
	if MEMORYHACK_MEMORYHOOKS_ENABLED then
		set t=CreateTrigger()
		call TriggerAddAction(t,function OnDamageReceivedHook)
		call InitializeDamageHandler(GetHandleId(t))
		set t=CreateTrigger()
		call TriggerAddAction(t,function TestAttackPreparationTrigger)
		call AddFixerToMeleeAttacks(GetHandleId(t))
	endif
endfunction

function InitKeyActionHookOld takes integer pTriggerHandle returns nothing
	local integer array default
	local integer old1
	local integer old2
	local integer oldprotection = ChangeOffsetProtection(pKeyEventCatcher,10,0x40)
	local integer i=0
	set default[0]=RMem(pKeyEventCatcher)
	set default[1]=RMem(pKeyEventCatcher+2)
	call echo("jook "+Int2Hex(pReservedMemoryForKeyActionHook))
	call WMem(pReservedMemoryForKeyActionHook + 0*4, 0x8B515350)
	call WMem(pReservedMemoryForKeyActionHook + 1*4, 0x8B10244C)
	call WMem(pReservedMemoryForKeyActionHook + 2*4, 0xB8900459)
	call WMem(pReservedMemoryForKeyActionHook + 3*4, DataArray1Address+4)
	call WMem(pReservedMemoryForKeyActionHook + 4*4, 0x598B1889)
	call WMem(pReservedMemoryForKeyActionHook + 5*4, 0xB8909008)
	call WMem(pReservedMemoryForKeyActionHook + 6*4, DataArray1Address+8)
	call WMem(pReservedMemoryForKeyActionHook + 7*4, 0x598B1889)
	call WMem(pReservedMemoryForKeyActionHook + 8*4, 0xB890900C)
	call WMem(pReservedMemoryForKeyActionHook + 9*4, DataArray1Address+12)
	call WMem(pReservedMemoryForKeyActionHook + 10*4, 0x598B1889)
	call WMem(pReservedMemoryForKeyActionHook + 11*4, 0xB8909010)
	call WMem(pReservedMemoryForKeyActionHook + 12*4, DataArray1Address+16)
	call WMem(pReservedMemoryForKeyActionHook + 13*4, 0x598B1889)
	call WMem(pReservedMemoryForKeyActionHook + 14*4, 0xB8909014)
	call WMem(pReservedMemoryForKeyActionHook + 15*4, DataArray1Address+20)
	call WMem(pReservedMemoryForKeyActionHook + 16*4, 0x598B1889)
	call WMem(pReservedMemoryForKeyActionHook + 17*4, 0xB8909018)
	call WMem(pReservedMemoryForKeyActionHook + 18*4, DataArray1Address+24)
	call WMem(pReservedMemoryForKeyActionHook + 19*4, 0xD98B1889)
	call WMem(pReservedMemoryForKeyActionHook + 20*4, 0xB8909090)
	call WMem(pReservedMemoryForKeyActionHook + 21*4, DataArray1Address+28)
	call WMem(pReservedMemoryForKeyActionHook + 22*4, 0x02107983)
	call WMem(pReservedMemoryForKeyActionHook + 23*4, 0x79811775)
	call WMem(pReservedMemoryForKeyActionHook + 24*4, 0x06006608)
	call WMem(pReservedMemoryForKeyActionHook + 25*4, 0x0001bb40)
	call WMem(pReservedMemoryForKeyActionHook + 26*4, 0x02750000)
	call WMem(pReservedMemoryForKeyActionHook + 27*4, 0x20b8db31)
	call WMem(pReservedMemoryForKeyActionHook + 28*4, 0x8910b3d6)
	call WMem(pReservedMemoryForKeyActionHook + 29*4, 0x90909018)
	call WMem(pReservedMemoryForKeyActionHook + 27*4+3, DataArray1Address+32)
	call WMem(pReservedMemoryForKeyActionHook + 30*4, 0x5B591889)
	call WMem(pReservedMemoryForKeyActionHook + 31*4, 0x90909058)
	call WMem(pReservedMemoryForKeyActionHook + 30*4+8, default[0])
	call WMem(pReservedMemoryForKeyActionHook + 31*4+8, 0x90909090)
	call WMem(pReservedMemoryForKeyActionHook + 30*4+2+8, default[1])
	call WMem(pReservedMemoryForKeyActionHook + 32*4+8, 0xB8909090)
	call WMem(pReservedMemoryForKeyActionHook + 33*4+8, pKeyEventCatcher+6)
	call WMem(pReservedMemoryForKeyActionHook + 34*4+8, 0xCCCCE0FF)
	call WMem(pKeyEventCatcher, 0x909090E9)
	call WMem(pKeyEventCatcher+1, 0x90909090)
	call WMem(pKeyEventCatcher + 1, pReservedMemoryForKeyActionHook - pKeyEventCatcher - 5 )
	set oldprotection = ChangeOffsetProtection(pKeyEventCatcher,10,oldprotection)
endfunction

function InitKeyActionHook takes nothing returns nothing
	local integer array default
	local integer old1
	local integer old2
	local integer oldprotection 
	local integer i=0
	set oldprotection = ChangeOffsetProtection(pKeyEventCatcher,8,0x40)
	set KeyActionHookEnabled=true
	set default[0]=RMem(pKeyEventCatcher)
	set default[1]=RMem(pKeyEventCatcher+2)
	call WMem(pReservedMemoryForKeyActionHook + 0*4, 0x8B515350)
	call WMem(pReservedMemoryForKeyActionHook + 1*4, 0x8B10244C)
	call WMem(pReservedMemoryForKeyActionHook + 2*4, 0xB8900459)
	call WMem(pReservedMemoryForKeyActionHook + 3*4, DataArray1Address+4)
	call WMem(pReservedMemoryForKeyActionHook + 4*4, 0x598B1889)
	call WMem(pReservedMemoryForKeyActionHook + 5*4, 0xB8909008)
	call WMem(pReservedMemoryForKeyActionHook + 6*4, DataArray1Address+8)
	call WMem(pReservedMemoryForKeyActionHook + 7*4, 0x598B1889)
	call WMem(pReservedMemoryForKeyActionHook + 8*4, 0xB890900C)
	call WMem(pReservedMemoryForKeyActionHook + 9*4, DataArray1Address+12)
	call WMem(pReservedMemoryForKeyActionHook + 10*4, 0x598B1889)
	call WMem(pReservedMemoryForKeyActionHook + 11*4, 0xB8909010)
	call WMem(pReservedMemoryForKeyActionHook + 12*4, DataArray1Address+16)
	call WMem(pReservedMemoryForKeyActionHook + 13*4, 0x598B1889)
	call WMem(pReservedMemoryForKeyActionHook + 14*4, 0xB8909014)
	call WMem(pReservedMemoryForKeyActionHook + 15*4, DataArray1Address+20)
	call WMem(pReservedMemoryForKeyActionHook + 16*4, 0x598B1889)
	call WMem(pReservedMemoryForKeyActionHook + 17*4, 0xB8909018)
	call WMem(pReservedMemoryForKeyActionHook + 18*4, DataArray1Address+24)
	call WMem(pReservedMemoryForKeyActionHook + 19*4, 0xD98B1889)
	call WMem(pReservedMemoryForKeyActionHook + 20*4, 0xB8909090)
	call WMem(pReservedMemoryForKeyActionHook + 21*4, DataArray1Address+28)
	call WMem(pReservedMemoryForKeyActionHook + 22*4, 0x02107983)
	call WMem(pReservedMemoryForKeyActionHook + 23*4, 0x79811775)
	call WMem(pReservedMemoryForKeyActionHook + 24*4, 0x06006608)
	call WMem(pReservedMemoryForKeyActionHook + 25*4, 0x0001bb40)
	call WMem(pReservedMemoryForKeyActionHook + 26*4, 0x02750000)
	call WMem(pReservedMemoryForKeyActionHook + 27*4, 0x20b8db31)
	call WMem(pReservedMemoryForKeyActionHook + 28*4, 0x8910b3d6)
	call WMem(pReservedMemoryForKeyActionHook + 29*4, 0x90909018)
	call WMem(pReservedMemoryForKeyActionHook + 27*4+3, DataArray1Address+32)
	call WMem(pReservedMemoryForKeyActionHook + 30*4, 0x5B591889)
	call WMem(pReservedMemoryForKeyActionHook + 31*4, 0x90909058)
	call WMem(pReservedMemoryForKeyActionHook + 32*4, default[0])
	call WMem(pReservedMemoryForKeyActionHook + 33*4, 0x90909090)
	call WMem(pReservedMemoryForKeyActionHook + 32*4+2, default[1])
	call WMem(pReservedMemoryForKeyActionHook + 34*4, 0xB8909090)
	call WMem(pReservedMemoryForKeyActionHook + 35*4, pKeyEventCatcher+6)
	call WMem(pReservedMemoryForKeyActionHook + 36*4, 0xCCCCE0FF)
	call WMem(pKeyEventCatcher, 0x909090E9)
	call WMem(pKeyEventCatcher+1, 0x90909090)
	call WMem(pKeyEventCatcher + 1, pReservedMemoryForKeyActionHook - pKeyEventCatcher - 5 )
	set oldprotection = ChangeOffsetProtection(pKeyEventCatcher,8,oldprotection)
endfunction

function InitOnSpellEffectHook takes integer pTriggerHandle returns nothing
	local integer array default
	local integer old1
	local integer old2
	local integer oldprotection 
	local integer i=0
	set oldprotection = ChangeOffsetProtection(pSpellEffectStarts,8,0x40)
	set default[0]=RMem(pSpellEffectStarts)
	set default[1]=RMem(pSpellEffectStarts+3)
	set Memory[pReservedMemoryForMeleeAttackHook/4+200+0]=0xB8909050
	set Memory[pReservedMemoryForMeleeAttackHook/4+200+1]=DataArray1Address+240
	set Memory[pReservedMemoryForMeleeAttackHook/4+200+2]=0x68600889
	set Memory[pReservedMemoryForMeleeAttackHook/4+200+3]=pTriggerHandle
	set Memory[pReservedMemoryForMeleeAttackHook/4+200+4]=0xB890C08B
	set Memory[pReservedMemoryForMeleeAttackHook/4+200+5]=pTriggerExecute
	set Memory[pReservedMemoryForMeleeAttackHook/4+200+6]=0xC483D0FF
	set Memory[pReservedMemoryForMeleeAttackHook/4+200+7]=0x90586104
	set Memory[pReservedMemoryForMeleeAttackHook/4+200+8]=default[0]
	set Memory[pReservedMemoryForMeleeAttackHook/4+200+9]=0x90909090
	call WMem(pReservedMemoryForMeleeAttackHook + 200*4+8*4+3, default[1])
	set Memory[pReservedMemoryForMeleeAttackHook/4+200+10]=0xB8909090
	set Memory[pReservedMemoryForMeleeAttackHook/4+200+11]=pSpellEffectStarts+7
	set Memory[pReservedMemoryForMeleeAttackHook/4+200+12]=0xCCCCE0FF
	call WMem(pSpellEffectStarts, 0x909090E9)
	call WMem(pSpellEffectStarts+1, 0x90909090)
	call WMem(pSpellEffectStarts + 1, pReservedMemoryForMeleeAttackHook+200*4 - pSpellEffectStarts - 5 )
	set oldprotection = ChangeOffsetProtection(pSpellEffectStarts,8,oldprotection)
endfunction

function RecountUnitsCollision takes unit u returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		call CallThisCallWith1Args(pRecountUnitsCollision,LastConvertedHandle)
	endif
endfunction

function SetUnitsCollision takes unit u, real size returns nothing
	local integer a
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		set a=GetUnitDataDefByIdCaching(GetUnitTypeId(u))
		if a>0 then
			call WMem(a+0x19C,mR2I(size))
			call CallThisCallWith1Args(pRecountUnitsCollision,LastConvertedHandle)
		endif
	endif
endfunction

function SetUnitsCollisionById takes integer id, real size returns nothing
	local integer a=GetUnitDataDefByIdCaching(id)
	if a>0 then
		call WMem(a+0x19C,mR2I(size))
	endif
endfunction

function SetUnitAttack1TargetsAllowed takes unit u, integer allowed returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		set LastConvertedHandle=RMem(LastConvertedHandle+0x1E8)
		if LastConvertedHandle>0 then
			call WMem(LastConvertedHandle+0x218,allowed)
		endif
	endif
endfunction

function ConvertHandleNative takes integer h returns integer
	return CallThisCallWith1Args(pConvertHandleNative,h)
endfunction

function InitHookMissCalculations takes integer pTriggerHandle returns nothing
	local integer old1=RMem(pMissCalculations)
	local integer old2=RMem(pMissCalculations+4)
	local integer oldprotection = ChangeOffsetProtection(pMissCalculations,10,0x40)
	local integer i
	call WMem(pReservedMemoryForMissedAttachHook + 0, 0xB890C98B)
	call WMem(pReservedMemoryForMissedAttachHook + 4, pMissChanceCalculationAttacker)
	call WMem(pReservedMemoryForMissedAttachHook + 8, 0xB8900889)
	call WMem(pReservedMemoryForMissedAttachHook + 12, pMissChanceCalculationTarget)
	call WMem(pReservedMemoryForMissedAttachHook + 16, 0xB8901089)
	call WMem(pReservedMemoryForMissedAttachHook + 20, pMissChanceCalculationIsRanged)
	call WMem(pReservedMemoryForMissedAttachHook + 24, 0x90905360)
	call WMem(pReservedMemoryForMissedAttachHook + 28, 0x28245C8B)
	call WMem(pReservedMemoryForMissedAttachHook + 32, 0x905B1889)
	call WMem(pReservedMemoryForMissedAttachHook + 36, 0x68909090)
	call WMem(pReservedMemoryForMissedAttachHook + 40, pTriggerHandle)
	call WMem(pReservedMemoryForMissedAttachHook + 44, 0xB890C08B)
	call WMem(pReservedMemoryForMissedAttachHook + 48, pTriggerExecute)
	call WMem(pReservedMemoryForMissedAttachHook + 52, 0xC483D0FF)
	call WMem(pReservedMemoryForMissedAttachHook + 56, 0xB8619004)
	call WMem(pReservedMemoryForMissedAttachHook + 60, pMissChanceCalculationResult)
	call WMem(pReservedMemoryForMissedAttachHook + 64, 0x08C2008B)
	call WMem(pReservedMemoryForMissedAttachHook + 68, 0x00)
	call WMem(pMissCalculations, 0xE9E9E9E9)
	call WMem(pMissCalculations+4, 0xC3909090)
	call WMem(pMissCalculations + 1, pReservedMemoryForMissedAttachHook - pMissCalculations - 5 )
	set oldprotection = ChangeOffsetProtection(pMissCalculations,10,oldprotection)
endfunction

function SetHeroIconPosInTavern takes integer id, integer x, integer y returns nothing
	local integer a=GetUnitUIDefByIdCaching(id)
	if a>0 then
		call WMem(a+0x24C,x)
		call WMem(a+0x250,y)
	endif
endfunction

function FixChargesIndicator takes unit u, integer id returns nothing
	set LastConvertedHandle=GetUnitAbility(u,id)
	if LastConvertedHandle>0 then
		call WMem(LastConvertedHandle+0x20,0)
	endif
endfunction

function FixChargesIndicatorByAddress takes integer a returns nothing
	if a>0 then
		call WMem(a+0x20,0)
	endif
endfunction

function AddAlwaysVisibleFlag takes unit u returns nothing
	local integer a=ConvertHandle(u)
	if a>0 and IsFlagBitSet(RMem(a+0x20),0x10)==false then
		call WMem(a+0x20,RMem(a+0x20)+0x10)
	endif
endfunction

function PresetSomeArray takes nothing returns nothing
	set DataArray1[1]=1
	set DataArray1[1099]=32
	return
endfunction

function GetDataFromDataArray1 takes integer i returns integer
	return DataArray1[i]
endfunction

function TypecastDataArray1 takes nothing returns nothing
	local integer DataArray1
endfunction

function GetDataArray1Address takes nothing returns integer
	return DataArray1
endfunction

function fCreateRawImage takes integer x, integer y, integer color returns integer
	if pCreateRawImage == 0 then
		set pCreateRawImage = GetModuleProcAddress(EXTRADLLNAME, "CreateRawImage")
	endif
	if pCreateRawImage != 0 then
		return CallStdcallWith3Args(pCreateRawImage,x,y,color)
	endif
	return 0
endfunction

function fLoadRawImage takes string filepath returns integer
	if pLoadRawImage == 0 then
		set pLoadRawImage = GetModuleProcAddress(EXTRADLLNAME, "LoadRawImage")
	endif
	if pLoadRawImage != 0 then
		return CallStdCallWith1Args(pLoadRawImage,GetStringAddress(filepath))
	endif
	return 0
endfunction

function fRawImage_DrawImg takes integer RawImage1, integer RawImage2,integer x, integer y, integer bmode returns integer
	if pRawImage_DrawImg == 0 then
		set pRawImage_DrawImg = GetModuleProcAddress(EXTRADLLNAME, "RawImage_DrawImg")
	endif
	if pRawImage_DrawImg != 0 then
		return CallStdcallWith5Args(pRawImage_DrawImg,RawImage1,RawImage2,x,y,bmode)
	endif
	return 0
endfunction

function fRawImage_DrawPixel takes integer RawImage, integer x, integer y,integer color returns integer
	if pRawImage_DrawPixel == 0 then
		set pRawImage_DrawPixel = GetModuleProcAddress(EXTRADLLNAME, "RawImage_DrawPixel")
	endif
	if pRawImage_DrawPixel != 0 then
		return CallStdcallWith4Args(pRawImage_DrawPixel,RawImage,x,y,color)
	endif
	return 0
endfunction

function fRawImage_DrawRect takes integer RawImage, integer x, integer y, integer width, integer height, integer color returns integer
	if pRawImage_DrawRect == 0 then
		set pRawImage_DrawRect = GetModuleProcAddress(EXTRADLLNAME, "RawImage_DrawRect")
	endif
	if pRawImage_DrawRect != 0 then
		return CallStdcallWith6Args(pRawImage_DrawRect,RawImage,x,y,width,height,color)
	endif
	return 0
endfunction

function fRawImage_DrawLine takes integer RawImage, integer x1, integer y1, integer x2, integer y2, integer size, integer color returns integer
	if pRawImage_DrawLine == 0 then
		set pRawImage_DrawLine = GetModuleProcAddress(EXTRADLLNAME, "RawImage_DrawLine")
	endif
	if pRawImage_DrawLine != 0 then
		return CallStdcallWith7Args(pRawImage_DrawLine,RawImage,x1,y1,x2,y2,size,color)
	endif
	return 0
endfunction

function fRawImage_DrawCircle takes integer RawImage, integer x, integer y, integer radius, integer size, integer color returns integer
	if pRawImage_DrawCircle == 0 then
		set pRawImage_DrawCircle = GetModuleProcAddress(EXTRADLLNAME, "RawImage_DrawCircle")
	endif
	if pRawImage_DrawCircle != 0 then
		return CallStdcallWith6Args(pRawImage_DrawCircle,RawImage,x,y,radius,size,color)
	endif
	return 0
endfunction

function fRawImage_FillCircle takes integer RawImage, integer x, integer y, integer radius, integer color returns integer
	if pRawImage_FillCircle == 0 then
		set pRawImage_FillCircle = GetModuleProcAddress(EXTRADLLNAME, "RawImage_FillCircle")
	endif
	if pRawImage_FillCircle != 0 then
		return CallStdcallWith5Args(pRawImage_FillCircle,RawImage,x,y,radius,color)
	endif
	return 0
endfunction

function fRawImage_EraseCircle takes integer RawImage, integer x, integer y, integer radius, boolean inverse returns integer
	if pRawImage_EraseCircle == 0 then
		set pRawImage_EraseCircle = GetModuleProcAddress(EXTRADLLNAME, "RawImage_EraseCircle")
	endif
	if pRawImage_EraseCircle != 0 then
		return CallStdcallWith5Args(pRawImage_EraseCircle,RawImage,x,y,radius,B2I(inverse))
	endif
	return 0
endfunction

function fRawImage_EraseColor takes integer RawImage, integer color, integer power returns integer
	if pRawImage_EraseColor == 0 then
		set pRawImage_EraseColor = GetModuleProcAddress(EXTRADLLNAME, "RawImage_EraseColor")
	endif
	if pRawImage_EraseColor != 0 then
		return CallStdcallWith3Args(pRawImage_EraseColor,RawImage,color,power)
	endif
	return 0
endfunction

function fRawImage_LoadFontFromResource takes string filepath returns integer
	if pRawImage_LoadFontFromResource == 0 then
		set pRawImage_LoadFontFromResource = GetModuleProcAddress(EXTRADLLNAME, "RawImage_LoadFontFromResource")
	endif
	if pRawImage_LoadFontFromResource != 0 then
		return CallStdCallWith1Args(pRawImage_LoadFontFromResource,GetStringAddress(filepath))
	endif
	return 0
endfunction

function fRawImage_SetFontSettings takes string fontname, integer fontsize, integer flags returns integer
	if pRawImage_SetFontSettings == 0 then
		set pRawImage_SetFontSettings = GetModuleProcAddress(EXTRADLLNAME, "RawImage_SetFontSettings")
	endif
	if pRawImage_SetFontSettings != 0 then
		return CallStdcallWith3Args(pRawImage_SetFontSettings,GetStringAddress(fontname),fontsize,flags)
	endif
	return 0
endfunction

function fRawImage_DrawText takes integer RawImage, string text, integer x, integer y, integer color returns integer
	if pRawImage_DrawText == 0 then
		set pRawImage_DrawText = GetModuleProcAddress(EXTRADLLNAME, "RawImage_DrawText")
	endif
	if pRawImage_DrawText != 0 then
		return CallStdcallWith5Args(pRawImage_DrawText,RawImage,GetStringAddress(text),x,y,color)
	endif
	return 0
endfunction

function fSaveRawImageToGameFile takes integer RawImage, string filepath, boolean IsTga, boolean enabled returns integer
	if pSaveRawImageToGameFile == 0 then
		set pSaveRawImageToGameFile = GetModuleProcAddress(EXTRADLLNAME, "SaveRawImageToGameFile")
	endif
	if pSaveRawImageToGameFile != 0 then
		return CallStdcallWith4Args(pSaveRawImageToGameFile,RawImage,GetStringAddress(filepath),B2I(IsTga),B2I(enabled))
	endif
	return 0
endfunction

function fDumpRawImageToFile takes integer RawImage, string filepath returns integer
	if pDumpRawImageToFile == 0 then
		set pDumpRawImageToFile = GetModuleProcAddress(EXTRADLLNAME, "DumpRawImageToFile")
	endif
	if pDumpRawImageToFile != 0 then
		return CallStdcallWith2Args(pDumpRawImageToFile,RawImage,GetStringAddress(filepath))
	endif
	return 0
endfunction

function fGetRawImageByFile takes string filename returns integer
	if pGetRawImageByFile == 0 then
		set pGetRawImageByFile = GetModuleProcAddress(EXTRADLLNAME, "GetRawImageByFile")
	endif
	if pGetRawImageByFile != 0 then
		return CallStdCallWith1Args(pGetRawImageByFile, GetStringAddress(filename))
	endif
	return 0
endfunction

function fRawImage_GetWidth takes integer RawImage returns integer
	if pRawImage_GetWidth == 0 then
		set pRawImage_GetWidth = GetModuleProcAddress(EXTRADLLNAME, "RawImage_GetWidth")
	endif
	if pRawImage_GetWidth != 0 then
		return CallStdCallWith1Args(pRawImage_GetWidth,RawImage)
	endif
	return 0
endfunction

function fRawImage_GetHeight takes integer RawImage returns integer
	if pRawImage_GetHeight == 0 then
		set pRawImage_GetHeight = GetModuleProcAddress(EXTRADLLNAME, "RawImage_GetHeight")
	endif
	if pRawImage_GetHeight != 0 then
		return CallStdCallWith1Args(pRawImage_GetHeight,RawImage)
	endif
	return 0
endfunction

function fRawImage_Resize takes integer RawImage,integer newwidth, integer newheight returns integer
	if pRawImage_Resize == 0 then
		set pRawImage_Resize = GetModuleProcAddress(EXTRADLLNAME, "RawImage_Resize")
	endif
	if pRawImage_Resize != 0 then
		return CallStdcallWith3Args(pRawImage_Resize,RawImage,newwidth,newheight)
	endif
	return 0
endfunction

function fRawImage_DrawOverlay takes integer RawImage,boolean enabled, real xpos, real ypos returns integer
	if pRawImage_DrawOverlay == 0 then
		set pRawImage_DrawOverlay = GetModuleProcAddress(EXTRADLLNAME, "RawImage_DrawOverlay")
	endif
	if pRawImage_DrawOverlay != 0 then
		return CallStdcallWith4Args(pRawImage_DrawOverlay,RawImage,B2I(enabled),mR2I(xpos),mR2I(ypos))
	endif
	return 0
endfunction

function fImages_SetDefaultSceenSize takes real width, real height returns integer
	if pSetDefaultSceenSize == 0 then
		set pSetDefaultSceenSize = GetModuleProcAddress(EXTRADLLNAME, "SetDefaultSceenSize")
	endif
	if pSetDefaultSceenSize != 0 then
		return CallStdcallWith2Args(pSetDefaultSceenSize,mR2I(width),mR2I(height))
	endif
	return 0
endfunction

function fRawImage_MoveTimed takes integer RawImage, real xpos, real ypos, integer time1, integer time2, integer SleepTime returns integer
	if pRawImage_MoveTimed == 0 then
		set pRawImage_MoveTimed = GetModuleProcAddress(EXTRADLLNAME, "RawImage_MoveTimed")
	endif
	if pRawImage_MoveTimed != 0 then
		return CallStdcallWith6Args(pRawImage_MoveTimed,RawImage,mR2I(xpos),mR2I(ypos),time1,time2,SleepTime)
	endif
	return 0
endfunction

function GetEventStringById takes integer id returns string
	if id == 1 then 
		return "MouseUp"
	endif
	if id == 2 then 
		return "MouseDown"
	endif
	if id == 4 then 
		return "MouseClick"
	endif
	if id == 8 then 
		return "MouseEnter"
	endif
	if id == 16 then 
		return "MouseLeave"
	endif
	return "Unknown"
endfunction

function SuperCallbackTest takes nothing returns nothing
	call echo("RawImage:" + I2S(RMem(pCallbackSuperData)) + ", Event:" + GetEventStringById(RMem(pCallbackSuperData+4)))
endfunction

function fRawImage_AddCallback takes integer RawImage,string callbackfunc,integer callbackdata, integer events returns integer
	if pRawImage_AddCallback == 0 then
		set pRawImage_AddCallback = GetModuleProcAddress(EXTRADLLNAME, "RawImage_AddCallback")
	endif
	if pRawImage_AddCallback != 0 then
		return CallStdcallWith4Args(pRawImage_AddCallback,RawImage,GetStringAddress(callbackfunc),callbackdata,events)
	endif
	return 0
endfunction

function fGetJassStringCount takes nothing returns integer
	if pGetJassStringCount == 0 then
		set pGetJassStringCount = GetModuleProcAddress(EXTRADLLNAME, "GetJassStringCount")
	endif
	if pGetJassStringCount != 0 then
		return CallStdCallWith1Args(pGetJassStringCount,GetFirstJassStringAddress())
	endif
	return 0
endfunction

function fScanJassStringForErrors takes nothing returns integer
	if pScanJassStringForErrors == 0 then
		set pScanJassStringForErrors = GetModuleProcAddress(EXTRADLLNAME, "ScanJassStringForErrors")
	endif
	if pScanJassStringForErrors != 0 then
		return CallStdCallWith1Args(pScanJassStringForErrors,GetFirstJassStringAddress())
	endif
	return 0
endfunction

function fScanJassStringForErrorsWrap takes nothing returns nothing
	call BJDebugMsg(I2S(fScanJassStringForErrors()))
endfunction

function fReplayDesyncScan takes boolean scan returns integer
	if pReplayDesyncScan == 0 then
		set pReplayDesyncScan = GetModuleProcAddress(EXTRADLLNAME, "ReplayDesyncScan")
	endif
	if pReplayDesyncScan != 0 then
		return CallStdCallWith1Args(pReplayDesyncScan,B2I(scan))
	endif
	return 0
endfunction

function defaultB2I takes boolean b returns integer
	if b then
		return 1
	endif
	return 0
endfunction

function fFileHelperReleaseStorm takes boolean enable returns integer
	if pFileHelperReleaseStorm == 0 then
		set pFileHelperReleaseStorm = GetModuleProcAddress(EXTRADLLNAME, "FileHelperReleaseStorm")
	endif
	if pFileHelperReleaseStorm != 0 then
		return CallStdCallWith1Args(pFileHelperReleaseStorm,defaultB2I(enable))
	endif
	return 0
endfunction

function fUpdatePlayerCache takes nothing returns integer
	if pUpdatePlayerCache == 0 then
		set pUpdatePlayerCache = GetModuleProcAddress(EXTRADLLNAME, "UpdatePlayerCache")
	endif
	if pUpdatePlayerCache != 0 then
		return CallStdCallWith1Args(pUpdatePlayerCache,0)
	endif
	return 0
endfunction

function GetUnitCurrentOrderAddress takes unit u returns integer
	local integer x=0
	local integer y=0
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		set x=RMem(LastConvertedHandle+0x19C)
		set y=RMem(LastConvertedHandle+0x1A0)
		if x!=-1 and y!=-1 then
			return GetSomeAddressForAbility(x,y)
		endif
	endif
	return 0
endfunction

function GetOrderingPlayerId takes integer orderAddress returns integer
	return RMem(orderAddress+0x28)
endfunction

function GetOrderingPlayerIdByUnit takes unit u returns integer
	if GetUnitCurrentOrderAddress(u)>0 then
		return RMem(GetUnitCurrentOrderAddress(u)+0x28)
	endif
	return 0
endfunction

function GetLastOrderingPlayerId takes nothing returns integer
	return RMem(GetUnitCurrentOrderAddress(GetTriggerUnit())+0x28)
endfunction

function IsUnitDetectedByEnemy takes unit u returns boolean
	local integer i=0
	local integer a=GetUnitVisibilityClass(u)
	if a<1 then
		return false
	endif
	if RMem(a+0x24)==0 then
		return false
	endif
	loop
		if IsUnitEnemy(u,Players[i]) then
			if RMem(a+0x2C+i*4)>0 then
				return true
			endif
		endif
		set i=i+1
		exitwhen i>11
	endloop
	return false
endfunction

function GetUnitFaceArt takes integer id returns string
	return GetUnitUIStringParam(id,1,0x248)
endfunction

function GetAuraProviderByBuff takes unit u, integer buffid returns unit
	return GetBuffOwner(GetUnitAbility(u,buffid))
endfunction

function SetupUnitSelling takes integer shopID, integer hkey returns nothing
	local integer c=0
	local integer array itemsIds
	local integer a
	loop
		set itemsIds[c]=LoadInteger(TempHash,hkey,c)
		call SetHeroIconPosInTavern(itemsIds[c],ModuloInteger(c,4),c/4)
		set c=c+1
		exitwhen not HaveSavedInteger(TempHash,hkey,c)
	endloop
	call FlushChildHashtable(TempHash,hkey)
	set a=GetUnitUIDefByIdCaching(shopID)
	if a>0 then
	endif
endfunction

function InitOnExitHook takes integer pTriggerHandle returns nothing
	local integer oldprotection = ChangeOffsetProtection(pOnExitHookAddress,8,0x40)
	call WMem(pOnExitHookAddress, 0xE9E9E9E9)
	call WMem(pOnExitHookAddress + 1, pReservedMemoryForMissileHandler + 500 - (pOnExitHookAddress) - 5 )
	call WMem(pReservedMemoryForMissileHandler + 500 + 0, 0x68609090 )
	call WMem(pReservedMemoryForMissileHandler + 500 + 4, pTriggerHandle )
	call WMem(pReservedMemoryForMissileHandler + 500 + 8, 0xB890C08B )
	call WMem(pReservedMemoryForMissileHandler + 500 + 12, pTriggerExecute )
	call WMem(pReservedMemoryForMissileHandler + 500 + 16, 0xC483D0FF )
	call WMem(pReservedMemoryForMissileHandler + 500 + 20, 0xB8906104 )
	call WMem(pReservedMemoryForMissileHandler + 500 + 24, pOnExitHookAddress )
	call WMem(pReservedMemoryForMissileHandler + 500 + 28, 0xCCCCE0FF )
	set oldprotection = ChangeOffsetProtection(pOnExitHookAddress,8,oldprotection)
	set oldprotection = ChangeOffsetProtection(pOnExitHookAddressOnRestart,8,0x40)
	call WMem(pOnExitHookAddressOnRestart, 0xE9E9E9E9)
	call WMem(pOnExitHookAddressOnRestart + 1, pReservedMemoryForMissileHandler + 600 - (pOnExitHookAddressOnRestart) - 5 )
	call WMem(pReservedMemoryForMissileHandler + 600 + 0, 0x68609090 )
	call WMem(pReservedMemoryForMissileHandler + 600 + 4, pTriggerHandle )
	call WMem(pReservedMemoryForMissileHandler + 600 + 8, 0xB890C08B )
	call WMem(pReservedMemoryForMissileHandler + 600 + 12, pTriggerExecute )
	call WMem(pReservedMemoryForMissileHandler + 600 + 16, 0xC483D0FF )
	call WMem(pReservedMemoryForMissileHandler + 600 + 20, 0xB8906104 )
	call WMem(pReservedMemoryForMissileHandler + 600 + 24, pOnExitHookAddressOnRestart )
	call WMem(pReservedMemoryForMissileHandler + 600 + 28, 0xCCCCE0FF )
	set oldprotection = ChangeOffsetProtection(pOnExitHookAddressOnRestart,8,oldprotection)
endfunction

function RestoreAllMemory takes nothing returns nothing
	local integer i=OffsetsToRestoreC
	local integer oldprotection 
	set GameIsClosing=true
	loop
		exitwhen i<1
		set oldprotection= ChangeOffsetProtection(OffsetsToRestore[i],4,0x40)
		call WMem(OffsetsToRestore[i],OffsetsToRestoreVals[i])
		call ChangeOffsetProtection(OffsetsToRestore[i],4,oldprotection)
		set i=i-1
	endloop
endfunction

function OnExitActions takes nothing returns nothing
	call RestoreAllMemory()
endfunction

function DisableUnitControl takes unit u returns nothing
	local integer pUnit = ConvertHandle(u)
	local integer flags
	local integer Amov
	local integer Aatk
	local integer AInv
	if not LoadBoolean(HY,GetHandleId(u),'cntd') then
		call SaveBoolean(HY,GetHandleId(u),'cntd',true)
		if pUnit > 0 then
			set flags = RMem(pUnit+0x248)
			set Amov = RMem(pUnit+0x1EC)
			set Aatk = RMem(pUnit+0x1E8)
			set AInv = RMem(pUnit+0x1F8)
			if not IsFlagBitSet(flags,512) then
				call WMem(pUnit+0x248, flags + 512)
			endif
			if Amov >0 then
				call WMem(Amov+0x40, RMem(Amov+0x40) + 1)
			endif
			if Aatk >0 then
				call WMem(Aatk+0x40, RMem(Aatk+0x40) + 1)
			endif
			if AInv >0 then
				call CallThisCallWith3Args(pAddSilenceOnAbility,AInv,1,1)
			endif
		endif
	endif
endfunction

function EnableUnitControl takes unit u returns nothing
	local integer pUnit = ConvertHandle(u)
	local integer flags
	local integer Amov
	local integer Aatk
	local integer AInv
	if LoadBoolean(HY,GetHandleId(u),'cntd') then
		if pUnit > 0 then
			set flags = RMem(pUnit+0x248)
			set Amov = RMem(pUnit+0x1EC)
			set Aatk = RMem(pUnit+0x1E8)
			set AInv = RMem(pUnit+0x1F8)
			if IsFlagBitSet(flags,512) then
				call WMem(pUnit+0x248, flags - 512)
			endif
			if Amov >0 then
				if RMem(Amov+0x40)>0 then
					call WMem(Amov+0x40, RMem(Amov+0x40) - 1)
				endif
			endif
			if Aatk >0 then
				if RMem(Aatk+0x40)>0 then
					call WMem(Aatk+0x40, RMem(Aatk+0x40) - 1)
				endif
			endif
			if AInv >0 then
				call CallThisCallWith3Args(pRemoveSilenceFromAbility,AInv,1,1)
			endif
		endif
		call SaveBoolean(HY,GetHandleId(u),'cntd',false)
	endif
endfunction

function ResetUnitControlToZero takes unit u returns nothing
	local integer pUnit = ConvertHandle(u)
	local integer flags
	local integer Amov
	local integer Aatk
	local integer AInv
	if pUnit > 0 then
		call SaveBoolean(HY,GetHandleId(u),'cntd',false)
		set flags = RMem(pUnit+0x248)
		set Amov = RMem(pUnit+0x1EC)
		set Aatk = RMem(pUnit+0x1E8)
		set AInv = RMem(pUnit+0x1F8)
		if IsFlagBitSet(flags,512) then
			call WMem(pUnit+0x248, flags - 512)
		endif
		if Amov >0 then
			call WMem(Amov+0x40, 0)
		endif
		if Aatk >0 then
			call WMem(Aatk+0x40, 0)
		endif
		if AInv >0 then
			call WMem(AInv+0x3C, 0)
		endif
	endif
endfunction

function DisjointAllMissilesHardcoded takes unit u returns nothing
	call AddUnitFlags0x20(u,0x800000)
	call CallThisCallWith3Args(pDisjoingHardcodedMissiles,ConvertHandle(u),-1,-1)
	call AddUnitFlags0x20(u,-0x800000)
endfunction

function MakeUnitImmortal takes unit u returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		set LastConvertedHandle=GetUnitAddressFloatsRelated(LastConvertedHandle,0xA0)
		if LastConvertedHandle>0 then
			call WMem(LastConvertedHandle+0x80,0x3F800000)
		endif
	endif
endfunction

function MakeUnitMortal takes unit u returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		set LastConvertedHandle=GetUnitAddressFloatsRelated(LastConvertedHandle,0xA0)
		if LastConvertedHandle>0 then
			call WMem(LastConvertedHandle+0x80,0)
		endif
	endif
endfunction

function SetObjectTimeScale takes handle obj, real speed returns nothing
	set LastConvertedHandle=ConvertHandle(obj)
	if LastConvertedHandle>0 then
		call WMem(RMem(LastConvertedHandle+0x28)+0x190,mR2I(speed))
	endif
endfunction

function GetObjectTimeScale takes handle obj returns real
	set LastConvertedHandle=ConvertHandle(obj)
	if LastConvertedHandle>0 then
		return mI2R(RMem(RMem(LastConvertedHandle+0x28)+0x190))
	endif
	return 0.
endfunction

function ShowObserverSkillPanelF takes boolean enabled returns nothing
	if pShowObserverSkillPanel == 0 then
		set pShowObserverSkillPanel = GetModuleProcAddress(EXTRADLLNAME, "ShowObserverSkillPanel")
	endif
	if pShowObserverSkillPanel != 0 then 
		call CallStdCallWith1Args(pShowObserverSkillPanel,defaultB2I(enabled))
	endif
endfunction

function fShowSkillPanelForAllUnits takes boolean enabled returns nothing
	if pShowSkillPanelForAllUnits == 0 then
		set pShowSkillPanelForAllUnits = GetModuleProcAddress(EXTRADLLNAME, "ShowSkillPanelForAllUnits")
	endif
	if pShowSkillPanelForAllUnits != 0 then 
		call CallStdCallWith1Args(pShowSkillPanelForAllUnits,defaultB2I(enabled))
	endif
endfunction

function fInitHPBars takes boolean enabled returns nothing
	if pInitHPBars == 0 then
		set pInitHPBars = GetModuleProcAddress(EXTRADLLNAME, "InitHpBar")
	endif
	if pInitHPBars != 0 then 
		call CallStdCallWith1Args(pInitHPBars,defaultB2I(enabled))
	endif
endfunction

function fInitMPBars takes boolean enabled returns nothing
	if pInitMPBars == 0 then
		set pInitMPBars = GetModuleProcAddress(EXTRADLLNAME, "InitManaBar")
	endif
	if pInitMPBars != 0 then 
		call CallStdCallWith1Args(pInitMPBars,defaultB2I(enabled))
	endif
endfunction

function SetManabarEnabledF takes nothing returns nothing
	if pSetManabarEnabled == 0 then
		set pSetManabarEnabled = GetModuleProcAddress(EXTRADLLNAME, "SetManabarEnabled")
	endif
	if pSetManabarEnabled != 0 then 
		call CallStdCallWith1Args(pSetManabarEnabled,B2I(ManabarDisplayStatus))
	endif
endfunction

function fInitOverlay takes boolean enabled returns nothing
	if pInitOverlay==0 then
		set pInitOverlay=GetModuleProcAddress(EXTRADLLNAME,"InitOverlay")
	endif
	if pInitOverlay!=0 then
		call CallStdCallWith1Args(pInitOverlay,defaultB2I(enabled))
	endif
endfunction

function IsUltimate takes integer id returns boolean
	return GetAbilityMaxLevel(id)==3 or id=='A21Y' or id=='A1GU'
endfunction

function GetUltimateNum takes unit u, integer id returns integer
	local integer sid=PlayerSkillNumber[GetPlayerId(GetOwningPlayer(u))*PlayerSkillOffset+4]
	if not Mode_S6 then
		return 1
	else
		if id==SkillID[sid] or id==AlternateSkillID[sid] then
			return 1
		else
			return 2
		endif
	endif
	return 1
endfunction

function StartUltimateTimer takes unit u, integer id, real cd returns nothing
	if GetUltimateNum(u,id)==1 then
		call TimerStart(PrimUltiTimer[GetPlayerId(GetOwningPlayer(u))],cd,false,null)
	else
		call TimerStart(SecUltiTimer[GetPlayerId(GetOwningPlayer(u))],cd,false,null)
	endif
endfunction

function InitItemIDsTable takes nothing returns nothing
	call SaveBoolean(SpellsDB,'itid',0,true)
	call SaveBoolean(SpellsDB,'itid','A0K5',true)
	call SaveBoolean(SpellsDB,'itid','A0HU',true)
	call SaveBoolean(SpellsDB,'itid','A0HX',true)
	call SaveBoolean(SpellsDB,'itid','A14A',true)
	call SaveBoolean(SpellsDB,'itid','A269',true)
	call SaveBoolean(SpellsDB,'itid','A2KG',true)
	call SaveBoolean(SpellsDB,'itid','AIxk',true)
	call SaveBoolean(SpellsDB,'itid','A017',true)
	call SaveBoolean(SpellsDB,'itid','A39C',true)
	call SaveBoolean(SpellsDB,'itid','A1IO',true)
	call SaveBoolean(SpellsDB,'itid','A0T8',true)
	call SaveBoolean(SpellsDB,'itid','A0T7',true)
	call SaveBoolean(SpellsDB,'itid','A0T9',true)
	call SaveBoolean(SpellsDB,'itid','A12W',true)
endfunction

function IsItemAbility takes integer i returns boolean
	return HaveSavedBoolean(SpellsDB,'itid',i)
endfunction

function OnSpellCDStarts takes ability a, integer ch, unit u, real cd, integer id, integer h returns nothing
	local integer pid=GetPlayerId(GetOwningPlayer(u))
	local integer sid=PlayerSkillNumber[pid*PlayerSkillOffset+4]
	call SaveInteger(AbilitiesHashtable,GetHandleId(u),id,ch)
	if ch==0 or cd==0 or GetHandleId(u)==0 or (h==0 and GetHandleId(a)==0) or id=='A3S2' then
		return
	endif
	if id=='A141' or id=='A1WI' then
		call AdjustCooldownModel1000(ch)
		return
	endif
	call AdjustCooldownModel(ch)
	if GetUnitAbilityLevel(u,'A39S')>0 then
		call AddAbilityCooldownConverted(ch,-cd*ROCTARINECOOLDOWNREDUCE)
	endif
	if GetUnitAbilityLevel(u,'A3R4')>0 then
		call AddAbilityCooldownConverted(ch,-cd*RARCANERUNECOOLDOWNREDUCE)
	endif
	if not IsItemAbility(id) and GetUnitAbilityLevel(u,'B3DU')==1 then
		if GetUnitAbilityLevel(u,'A3DX')==1 then
			call AddAbilityCooldownConverted(ch,-6.)
			call UnitRemoveAbility(u,'A3DX')
		elseif GetUnitAbilityLevel(u,'A3DV')==1 then
			call AddAbilityCooldownConverted(ch,-4.)
			call UnitRemoveAbility(u,'A3DV')
		elseif GetUnitAbilityLevel(u,'A3DW')==1 then
			call AddAbilityCooldownConverted(ch,-5.)
			call UnitRemoveAbility(u,'A3DW')
		elseif GetUnitAbilityLevel(u,'A3DU')==1 then
			call AddAbilityCooldownConverted(ch,-3.)
			call UnitRemoveAbility(u,'A3DU')
		endif
		call UnitRemoveAbility(u,'B3DU')
	endif
	set LastMemReadAccess="spellCast"
	set LastMemWriteAccess="spellCast"
	set cd=GetAbilityCurrentCooldownConverted(ch)
	if cd<=0 then
		set LastConvertedHandle=RMem(ch+0x20)
		if IsFlagBitSet(LastConvertedHandle,0x200) then
			set LastConvertedHandle=LastConvertedHandle-0x200
			call WMem(ch+0x20,LastConvertedHandle)
		endif
		if IsFlagBitSet(LastConvertedHandle,0x08000080) and not IsFlagBitSet(LastConvertedHandle,0x80000) then
			set LastConvertedHandle=LastConvertedHandle+0x80000
			call WMem(ch+0x20,LastConvertedHandle)
		endif
	endif
	if id=='A02W' then
		call TimerStart(PrimUltiTimer[pid],0,false,null)
		call TimerStart(SecUltiTimer[pid],0,false,null)
	elseif cd>0 and IsUltimate(id) and IsUnitType(u,UNIT_TYPE_HERO) then
		call StartUltimateTimer(u,id,cd)
	endif
	set LastMemReadAccess=""
	set LastMemWriteAccess=""
endfunction

function SpecialAbilityCasted takes unit u, integer id returns nothing
	local integer a=GetUnitAbility(u,id)
	if a>0 then
		call OnSpellCDStarts(null,a,u,GetAbilityCD(id,GetUnitAbilityLevel(u,id)),id,1)
	endif
endfunction

function SpecialAbilityCastedPre takes nothing returns nothing
	local integer h=GetHandleId(GetExpiredTimer())
	call SpecialAbilityCasted(LoadUnitHandle(HY,h,0),LoadInteger(HY,h,0))
	call CleanExpiredTimer()
endfunction

function SpecialAbilityCastedWrapper takes unit u, integer id returns nothing
	local integer h
	local integer a=GetUnitAbility(u,id)
	if a>0 then
		set h=DelayedCallback(0.,function SpecialAbilityCastedPre)
		call SaveUnitHandle(HY,h,0,u)
		call SaveInteger(HY,h,0,id)
	endif
endfunction

function WrapperOnSpellCDStarts takes nothing returns nothing
	local integer h=GetHandleId(GetExpiredTimer())
	if GetHandleId(LoadAbilityHandle(HY,h,0))>0 then
		call OnSpellCDStarts(LoadAbilityHandle(HY,h,0),ConvertHandle(LoadAbilityHandle(HY,h,0)),LoadUnitHandle(HY,h,1),LoadReal(HY,h,0),LoadInteger(HY,h,0),0)
	endif
	call CleanExpiredTimer()
endfunction

function InitOnSpellCDStarts takes integer lvl returns nothing
	local integer h=DelayedCallback(0,function WrapperOnSpellCDStarts)
	call SaveAbilityHandle(HY,h,0,GetSpellAbility())
	call SaveReal(HY,h,0,GetAbilityCD(GetSpellAbilityId(),lvl))
	call SaveInteger(HY,h,0,GetSpellAbilityId())
	call SaveUnitHandle(HY,h,1,GetTriggerUnit())
endfunction

function ResetCooldownForAbilityAddress takes integer cid returns nothing
	if IsFlagBitSet(RMem(cid+0x20),0x200) then
		call WMem(cid+0x20,RMem(cid+0x20)-0x200)
	endif
endfunction

function ResetCooldownForAbility takes unit u, integer id returns nothing
	local integer cid=GetUnitAbility(u,id)
	if cid>1 then
		if IsFlagBitSet(RMem(cid+0x20),0x200) then
			call WMem(cid+0x20,RMem(cid+0x20)-0x200)
			if IsUltimate(id) then
				call StartUltimateTimer(u,id,0.)
			endif
		endif
	endif
endfunction

function ToggleTeleportHelper takes boolean enabled returns nothing
	if bTeleportationCanOnlyBeStopped then
		if pTeleportHelper == 0 then 
			set pTeleportHelper = GetModuleProcAddress(EXTRADLLNAME, "TeleportHelper")
		endif
		if pTeleportHelper != 0 then
			call CallStdCallWith1Args(pTeleportHelper,B2I(enabled))
		endif
	endif
endfunction

function AddTeleportWhiteListKey takes integer key returns nothing
	if pAddTeleportWhiteListKey == 0 then 
		set pAddTeleportWhiteListKey = GetModuleProcAddress(EXTRADLLNAME, "TeleportWhiteListKey")
	endif
	if pAddTeleportWhiteListKey != 0 then 
		call CallStdCallWith1Args(pAddTeleportWhiteListKey,key)
	endif
endfunction

function FuncEnableAutoFPSlimit takes boolean enabled returns nothing
	if pEnableAutoFPSlimit == 0 then 
		set pEnableAutoFPSlimit = GetModuleProcAddress(EXTRADLLNAME, "EnableAutoFPSlimit")
	endif
	if pEnableAutoFPSlimit != 0 then 
		call CallStdCallWith1Args(pEnableAutoFPSlimit,B2I(enabled))
	endif
	set AutoFPSLimitEnabled=enabled
endfunction

function FuncLockMouseInWindow takes boolean enabled returns nothing
	if pLockMouseInWindow == 0 then 
		set pLockMouseInWindow = GetModuleProcAddress(EXTRADLLNAME, "LockMouseInWindow")
	endif
	if pLockMouseInWindow != 0 then 
		call CallStdCallWith1Args(pLockMouseInWindow,B2I(enabled))
	endif
	set LockMouseCursorWindowed=enabled
endfunction

function FuncSetMaxFps takes integer maxfps returns nothing
	if pSetMaxFps == 0 then 
		set pSetMaxFps = GetModuleProcAddress(EXTRADLLNAME, "SetMaxFps")
	endif
	if pSetMaxFps != 0 then 
		call CallStdCallWith1Args(pSetMaxFps,maxfps)
	endif
endfunction

function AlwaysDisplayRegeneration takes boolean enabled returns nothing
	if pDrawRegenAllways == 0 then 
		set pDrawRegenAllways = GetModuleProcAddress(EXTRADLLNAME, "DrawRegenAllways")
	endif
	if pDrawRegenAllways != 0 then 
		call CallStdCallWith1Args(pDrawRegenAllways,B2I(enabled))
	endif
endfunction

function FixFPSbyAbso takes boolean enabled returns nothing
	if pFixFPSbyAbso == 0 then 
		set pFixFPSbyAbso = GetModuleProcAddress(EXTRADLLNAME, "EnableFPSfix1")
	endif
	if pFixFPSbyAbso != 0 then 
		call CallStdCallWith1Args(pFixFPSbyAbso,B2I(enabled))
	endif
endfunction

function UpdateFogDensitySettings takes integer i returns nothing
	if pMinimapData>0 then
		call WMem(pMinimapData+0x7E8,i)
	endif
endfunction

function DirectSetManabarStatus takes boolean b returns nothing
	set ManabarDisplayStatus=b
	call SetManabarEnabledF()
endfunction

function MorphUnitIntoAnother takes unit u, integer targetID returns nothing
	set LastConvertedHandle=ConvertHandle(u)
	if LastConvertedHandle>0 then
		call CallThisCallWith11Args(pMorphUnitIntoAnother,LastConvertedHandle,targetID,0x522,0,0,0,0,1,1,0,0)
	endif
endfunction

function ToggleShopHelper takes boolean enabled returns nothing
	if pShopHelper == 0 then 
		set pShopHelper = GetModuleProcAddress(EXTRADLLNAME, "ShopHelper")
	endif
	if pShopHelper != 0 then 
		call CallStdCallWith1Args(pShopHelper,B2I(enabled))
	endif
endfunction

function GetUnitDefaultScale takes unit u returns real
	local integer id=GetUnitTypeId(u)
	local integer a=GetUnitUIDefByIdCaching(id)
	local real r
	if a>0 then
		return mI2R(RMem(a+0xAC))
	endif
	return 1.
endfunction

function StunTarget takes unit u, real dur returns nothing//unused to temp fix the first parameter
	local integer i
	if StunTarget_Dur!=dur then
		if StunTarget_DataDef>0 then
			set i=StunTarget_DataDef
		else
			set i=GetAbilityDataDefByIdCaching('A3HA')
			if i>0 then
				set StunTarget_DataDef=i
			endif
		endif
		if i>0 then
			call WMem(i+0x60,mR2I(dur))
			call WMem(i+0x64,mR2I(dur))
			set StunTarget_Dur=dur
		endif
	endif
	call SelfCastSpell(u,'A3HA',1)
endfunction

function fSetInfoObjDebug takes integer i returns integer//add this to the script to fix
	if pSetInfoObjDebug == 0 then
		set pSetInfoObjDebug = GetModuleProcAddress(EXTRADLLNAME, "SetInfoObjDebug")
	endif
	if pSetInfoObjDebug != 0 then
		return CallStdCallWith1Args(pSetInfoObjDebug,i)
	endif
	return 0
endfunction

function DllExtraFeatures takes nothing returns nothing
	call fInitMPBars(true)
	call fInitHPBars(true)
	call DisableLibFeatures(LIB_Feature_FileHelper)
	call FuncSetMainFuncWork(true)
	call DisableOPLimit()
	call FuncSetMainFuncWork(false)
	call fInitOverlay(true)
	call ExecuteFunc("SetupMoreMemPatches")
	call ExecuteFunc("LibFeaturesFullEnable")
	call DisableLibFeatures(LIB_Feature_COOLDOWNFIX)
	call ShowObserverSkillPanelF(true)
	call DirectSetManabarStatus(true)
	call fShowSkillPanelForAllUnits(true)
	call SetAttackSpeedLimit(6.)
	call EnableOPLimit()
	call DisableSaveGameSaveButton()
	call fSetInfoObjDebug(0)
endfunction

function GetUnitIconPathById takes integer id returns string
	local integer a=GetUnitUIDefByIdCaching(id)
	if a!=0 then
		set a=RMem(a+0x248)
		if a!=0 then
			set a=RMem(a)
			if a!=0 then
				return ConvertNullTerminatedStringToString(a)
			endif
		endif
	endif
	return ""
endfunction

function InitMemoryHack takes nothing returns nothing
	local trigger t
	local integer i
	local integer k=0
	loop
		set bj_FORCE_PLAYER[k]=CreateForce()
		call ForceAddPlayer(bj_FORCE_PLAYER[k],Player(k))
		set Players[k]=Player(k)
		set k=k+1
		exitwhen k==16
	endloop
	set LocalPlayer=GetLocalPlayer()
	set IsPlayerObs=IsPlayerObserver(LocalPlayer)
	set LocalPlayerId=GetPlayerId(LocalPlayer)
	call ExecuteFunc("Ascii__onInit")
	call ExecuteFunc("HexNumber__onInit")
	call ExecuteFunc("ObjectData__Init")
	call ForForce(bj_FORCE_PLAYER[0], I2C(8+C2I(function UnlockMemory)))
	set i=RMem(GetBytecodeAddress())
	set i=i-RMem(i)
	if i==5205600 then
		call Init26()
		call InitByteStuffAndPrepareBasicFunctions()
		call InitAllySkillViewer()
		call DllExtraFeatures()
	else
		call DisplayTimedTextToPlayer(LocalPlayer,0,0,20,"Advanced features and Anti-Hack system only work for patch 1.26a!!")
	endif
	set t=null
endfunction

function GetLocationWithOffset takes location l,real d,real a returns location
	return Location(GetLocationX(l)+d*Cos(a*bj_DEGTORAD),GetLocationY(l)+d*Sin(a*bj_DEGTORAD))
endfunction

function Func0003 takes nothing returns boolean
	local real dx=GetDestructableX(GetFilterDestructable())-real421
	local real dy=GetDestructableY(GetFilterDestructable())-real422
	return(dx*dx+dy*dy<=bj_enumDestructableRadius)
endfunction

function Func0004 takes player MDI returns force
	set force004=CreateForce()
	call ForceEnumEnemies(force004,MDI,boolexpr001)
	return force004
endfunction

function Func0005 takes itemtype MFI,integer MGI returns nothing
	local group g
	set bj_stockPickedItemType=MFI
	set bj_stockPickedItemLevel=MGI
	set g=CreateGroup()
	call GroupEnumUnitsOfType(g,"marketplace",boolexpr001)
	call ForGroup(g,function UpdateEachStockBuildingEnum)
	call DestroyGroup(g)
	set g=null
endfunction

function Func0006 takes nothing returns nothing
	local integer pickedItemId
	local itemtype MZI
	local integer MVI=0
	local integer MWI=0
	local integer MGI
	set MGI=1
	loop
		if(bj_stockAllowedPermanent[MGI])then
			set MWI=MWI+1
			if(GetRandomInt(1,MWI)==1)then
				set MZI=ITEM_TYPE_PERMANENT
				set MVI=MGI
			endif
		endif
		if(bj_stockAllowedCharged[MGI])then
			set MWI=MWI+1
			if(GetRandomInt(1,MWI)==1)then
				set MZI=ITEM_TYPE_CHARGED
				set MVI=MGI
			endif
		endif
		if(bj_stockAllowedArtifact[MGI])then
			set MWI=MWI+1
			if(GetRandomInt(1,MWI)==1)then
				set MZI=ITEM_TYPE_ARTIFACT
				set MVI=MGI
			endif
		endif
		set MGI=MGI+1
		exitwhen MGI>10
	endloop
	if(MWI==0)then
		set MZI=null
		return
	endif
	call Func0005(MZI,MVI)
	set MZI=null
endfunction

function Func0007 takes nothing returns nothing
	call Func0006()
	call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INTERVAL,true,function Func0006)
endfunction

function ReturnTrue takes nothing returns boolean
	return true
endfunction

function Func0012 takes nothing returns nothing
	local integer i
	local integer j
	local integer h
	local integer v
	local string charmap="abcdefghijklmnopqrstuvwxyz0123456789 -=,."
	local integer array a
	local boolean array b
	set b[0]=true
	set b[50]=true
	set b[60]=true
	set b[70]=true
	set b[80]=true
	set b[90]=true
	set b[100]=true
	set i=0
	set j=0
	loop
		if b[j]then
			set j=j+1
		endif
		exitwhen j>=256
		set a[j]=i
		set i=i+1
		set j=j+1
	endloop
	set i=0
	loop
		exitwhen i>=12
		set h=R2I(100*GetPlayerHandicap(Player(i)))
		if not b[h]then
			set h=a[h]
			set v=h/6
			set h=h-v*6
			call SetPlayerHandicap(Player(i),1)
			set CommandString=CommandString+SubString(charmap,v,v+1)
		endif
		set i=i+1
	endloop
endfunction

function MBSetText takes multiboard m,integer c,integer r,string s returns nothing
	local multiboarditem mbi=null
	set mbi=MultiboardGetItem(m,r-1,c-1)
	call MultiboardSetItemValue(mbi,s)
	call MultiboardReleaseItem(mbi)
	set mbi=null
endfunction

function MBSetIcon takes multiboard m,integer c,integer r,string icon returns nothing
	local multiboarditem mbi=null
	set mbi=MultiboardGetItem(m,r-1,c-1)
	call MultiboardSetItemIcon(mbi,icon)
	call MultiboardReleaseItem(mbi)
	set mbi=null
endfunction

function MBSetStyle takes multiboard m,integer c,integer r,boolean val,boolean icon returns nothing
	local multiboarditem mbi=null
	set mbi=MultiboardGetItem(m,r-1,c-1)
	call MultiboardSetItemStyle(mbi,val,icon)
	call MultiboardReleaseItem(mbi)
	set mbi=null
endfunction

function MBSetColor takes multiboard m,integer c,integer r,real red,real green,real blue,real alpha returns nothing
	local multiboarditem mbi=null
	set mbi=MultiboardGetItem(m,r-1,c-1)
	call MultiboardSetItemValueColor(mbi,PercentTo255(red),PercentTo255(green),PercentTo255(blue),PercentTo255(100.0-alpha))
	call MultiboardReleaseItem(mbi)
	set mbi=null
endfunction

function MBSetWidth takes multiboard m,integer c,integer r,real width returns nothing
	local multiboarditem mbi=null
	set mbi=MultiboardGetItem(m,r-1,c-1)
	call MultiboardSetItemWidth(mbi,width/100)
	call MultiboardReleaseItem(mbi)
	set mbi=null
endfunction

function TI_RequestBugReport takes nothing returns nothing
	local integer i=0
	if boolean036==false and boolean098==false then
		loop
			call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303An internal index has failed|r")
			call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303This might not be a serious glitch, but it is important for me to get it|r")
			call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303Please send me the replay for this game to IceFrog@gmail.com|r")
			set i=i+1
			exitwhen i==12
		endloop
	endif
endfunction

function UnitAsInteger_Clear takes integer i returns nothing
	if i>16000 then
		set units005[i-16000]=null
	elseif i>8000 then
		set units004[i-8000]=null
	else
		set units003[i]=null
	endif
endfunction

function UnitAsInteger_Load takes integer i returns unit
	if i>16000 then
		return units005[i-16000]
	elseif i>8000 then
		return units004[i-8000]
	else
		return units003[i]
	endif
endfunction

function Func0020 takes integer i returns destructable
	if i>16000 then
		return destructables003[i-16000]
	elseif i>8000 then
		return destructables002[i-8000]
	else
		return destructables001[i]
	endif
	return destructables001[i]
endfunction

function Func0021 takes unit u returns integer
	set integer014=integer014+1
	if integer014>16000 then
		set units005[integer014-16000]=u
	elseif integer014>8000 then
		set units004[integer014-8000]=u
	else
		set units003[integer014]=u
	endif
	return integer014
endfunction

function Func0022 takes integer i returns nothing
	if i>16000 then
		set destructables003[i-16000]=null
	elseif i>8000 then
		set destructables002[i-8000]=null
	else
		set destructables001[i]=null
	endif
endfunction

function Func0023 takes destructable d returns integer
	set integer015=integer015+1
	if integer015>24000 then
		set destructables003[integer015-16000]=d
	elseif integer015>8000 then
		set destructables002[integer015-8000]=d
	else
		set destructables001[integer015]=d
	endif
	return integer015
endfunction

function IsBlocked takes unit u returns boolean
	return GetUnitAbilityLevel(u,'B0BI')>0 or GetUnitAbilityLevel(u,'BNss')>0 or GetUnitAbilityLevel(u,'B0EV')>0
endfunction

function Func0143 takes nothing returns nothing
	call DisplayTimedTextToPlayer(GetEnumPlayer(),0,0,real005,string026)
endfunction

function DisplayTimedTextToForceEx takes force N0I,real dur,string NII returns nothing
	set string026=NII
	set real005=dur
	call ForForce(N0I,function Func0143)
endfunction

function KillGroup takes group g returns nothing
	local integer i=GetHandleId(g)-Groups_FirstHandle
	if i<0 or i>120 then
		set Groups_BugFound=true
	else
		call GroupClear(g)
		set Groups_IsTaken[i]=false
		set Groups_Count=i
	endif
endfunction

function GetAvailableGroup takes nothing returns group
	local integer i=Groups_Count
	loop
		exitwhen i==Groups_Count-1
		if Groups_IsTaken[i]==false then
			set Groups_Count=i+1
			if Groups_Count==120 then
				set Groups_Count=0
			endif
			set Groups_IsTaken[i]=true
			return Groups[i]
		endif
		set i=i+1
		if i==120 then
			set i=0
		endif
	endloop
	call DisplayTimedTextToForceEx(Force_All,5.00,"|c00ff0303CRITICAL ERROR: FOUND NO AVAILABLE GROUPS|r")
	call DisplayTimedTextToForceEx(Force_All,5.00,"|c00ff0303Send this replay to IceFrog@gmail.com|r")
	return CreateGroup()
endfunction

function Func0027 takes nothing returns boolean
	local integer c=0
	local integer i=0
	loop
		exitwhen i==120
		if Groups_IsTaken[i] then
			set c=c+1
		endif
		set i=i+1
	endloop
	if c>100 or Groups_BugFound then
		call DisplayTimedTextToForceEx(Force_All,5.00,"|c00ff0303Please send me this replay ("+I2S(c)+")")
	endif
	return false
endfunction

function InitGroups takes nothing returns nothing
	local integer i=0
	set Groups_Count=0
	set Groups[i]=CreateGroup()
	set Groups_IsTaken[i]=false
	set i=i+1
	set Groups_FirstHandle=GetHandleId(Groups[0])
	loop
		exitwhen i==120
		set Groups[i]=CreateGroup()
		set Groups_IsTaken[i]=false
		set i=i+1
	endloop
endfunction

function Func0029 takes nothing returns nothing
	local integer i=0
	if boolean036==false and boolean098==false then
		loop
			call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303An internal checksum has failed|r")
			call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303This might not be a serious glitch, but it is important for me to get it|r")
			call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303Please send me the replay for this game to IceFrog@gmail.com|r")
			set i=i+1
			exitwhen i==12
		endloop
	endif
endfunction

function CleanTrigger takes trigger t returns nothing
	call DisableTrigger(t)
	set integer018=integer018+1
	set triggers001[integer018]=t
	set reals002[integer018]=GetTime()+60
	if integer018>8000 then
		call Func0029()
	endif
endfunction

function Func0031 takes integer i returns nothing
	if i!=integer018 then
		set triggers001[i]=triggers001[integer018]
		set reals002[i]=reals002[integer018]
	endif
	set triggers001[integer018]=null
	set reals002[integer018]=0
	set integer018=integer018-1
endfunction

function Func0032 takes nothing returns boolean
	local real SOI=GetTime()
	local integer i
	set i=1
	loop
		exitwhen i>integer018
		if reals002[i]<SOI then
			if triggers001[i]==null or IsTriggerEnabled(triggers001[i]) then
				call Func0029()
			else
				call DestroyTrigger(triggers001[i])
			endif
			call Func0031(i)
		else
			set i=i+1
		endif
	endloop
	return false
endfunction

function AddTimedKeyForTrigger_Clean takes nothing returns nothing
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	call SaveInteger(HY,GetHandleId(LoadTriggerHandle(HY,h,35)),LoadInteger(HY,h,33),2)
	call FlushChildHashtable(HY,h)
	call CleanTrigger(t)
	set t=null
endfunction

function AddTimedKeyForTrigger takes trigger t,integer key,real dur returns nothing
	local trigger t2=CreateTrigger()
	call TriggerRegisterTimerEvent(t2,dur,false)
	call SaveInteger(HY,GetHandleId(t),key,1)
	call SaveTriggerHandle(HY,GetHandleId(t2),35,t)
	call SaveInteger(HY,GetHandleId(t2),33,key)
	call TriggerAddAction(t2,function AddTimedKeyForTrigger_Clean)
	set t2=null
endfunction

function Func0035 takes unit u returns string
	if u==null then
		return GetObjectName('n09T')
	endif
	return GetObjectName(Dummy_ID[GetUnitPointValue(u)])
endfunction

function Func0036 takes integer i returns string
	if i==0 then
		return GetObjectName('n09T')
	endif
	return GetObjectName(Dummy_ID[i])
endfunction

function Func0037 takes unit u returns string
	if u==null then
		return"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
	endif
	return Hero_Icon[GetUnitPointValue(u)]
endfunction

function AddTimedKeyToUnit_Clean takes nothing returns nothing
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	call SaveInteger(HY,GetHandleId(LoadUnitHandle(HY,h,14)),LoadInteger(HY,h,33),2)
	call FlushChildHashtable(HY,h)
	call CleanTrigger(t)
	set t=null
endfunction

function AddTimedKeyToUnit takes unit u,integer key,real dur returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,dur,false)
	call SaveInteger(HY,GetHandleId(u),key,1)
	call SaveUnitHandle(HY,GetHandleId(t),14,u)
	call SaveInteger(HY,GetHandleId(t),33,key)
	call TriggerAddAction(t,function AddTimedKeyToUnit_Clean)
	set t=null
endfunction

function GetUnitPrimaryAttribute takes unit u returns integer
	local integer x
	local integer id=GetUnitTypeId(u)
	set x=1
	loop
		exitwhen x>AgiHeroes_Count
		if id==AgiHeroes_Array[x]then
			return 2
		endif
		set x=x+1
	endloop
	set x=1
	loop
		exitwhen x>StrHeroes_Count
		if id==StrHeroes_Array[x]then
			return 3
		endif
		set x=x+1
	endloop
	set x=1
	loop
		exitwhen x>IntHeroes_Count
		if id==IntHeroes_Array[x]then
			return 1
		endif
		set x=x+1
	endloop
	if id=='Eevm' or id=='E02V' or id=='E02W' or id=='E02U' or id=='N02B' or id=='N017' or id=='H08D' or id=='H08C' or id=='H084' or id=='H08B' or id=='N013' or id=='N014' or id=='N015' or id=='E02O' or id=='N0MM' then
		return 2
	endif
	if id=='N01H' or id=='N01T' or id=='N01J' or id=='H00E' or id=='H00G' or id=='H00F' or id=='H07I' or id=='E015' or id=='H0CQ' or id=='H0E3' or id=='H0E4' or id=='H0E5' or id=='U01X' or id=='N0MW' then
		return 3
	endif
	if id=='H06X' or id=='H06Y' or id=='H06W' or id=='H0BC' or id=='O017' or id=='N0MB' or id=='N0MC' or id=='N0MO' or id=='N0MA' then
		return 1
	endif
	return 0
endfunction

function Func0041 takes integer id returns integer
	local integer x
	set x=1
	loop
		exitwhen x>AgiHeroes_Count
		if id==AgiHeroes_Array[x]then
			return 2
		endif
		set x=x+1
	endloop
	set x=1
	loop
		exitwhen x>StrHeroes_Count
		if id==StrHeroes_Array[x]then
			return 3
		endif
		set x=x+1
	endloop
	set x=1
	loop
		exitwhen x>IntHeroes_Count
		if id==IntHeroes_Array[x]then
			return 1
		endif
		set x=x+1
	endloop
	if id=='Eevm' or id=='E02V' or id=='E02W' or id=='E02U' or id=='N02B' or id=='N017' or id=='H08D' or id=='H08C' or id=='H084' or id=='H08B' or id=='N013' or id=='N014' or id=='N015' or id=='E02O' or id=='N0MM' then
		return 2
	endif
	if id=='N01H' or id=='N01T' or id=='N01J' or id=='H00E' or id=='H00G' or id=='H00F' or id=='H07I' or id=='E015' or id=='H0CQ' or id=='H0E3' or id=='H0E4' or id=='H0E5' or id=='U01X' then
		return 3
	endif
	if id=='H06X' or id=='H06Y' or id=='H06W' or id=='H0BC' or id=='O017' or id=='N0MB' or id=='N0MC' or id=='N0MO' or id=='N0MA' then
		return 1
	endif
	return 0
endfunction

function Func0042 takes unit Hero returns integer
	local integer SZI=GetUnitPrimaryAttribute(Hero)
	if SZI==1 then
		return GetHeroInt(Hero,true)
	endif
	if SZI==2 then
		return GetHeroAgi(Hero,true)
	endif
	if SZI==3 then
		return GetHeroStr(Hero,true)
	endif
	return 0
endfunction

function Func0043 takes unit SWI returns boolean
	return GetUnitState(SWI,UNIT_STATE_LIFE)<1 or booleans010[GetPlayerId(GetOwningPlayer(SWI))]
endfunction

function SaveUnitWinAnimation takes integer SSI,string anim returns nothing
	set integer020=integer020+1
	set strings004[integer020]=anim
	set integers040[integer020]=SSI
endfunction

function Func0047 takes unit u returns string
	local integer SSI=GetUnitTypeId(u)
	local integer i=1
	loop
		exitwhen i>integer020
		if integers040[i]==SSI then
			return strings004[i]
		endif
		set i=i+1
	endloop
	return"stand"
endfunction

function Func0048 takes unit u returns nothing
	if GetUnitTypeId(u)=='N01I' then
		call SetUnitAnimationByIndex(u,6)
	else
		call SetUnitAnimation(u,Func0047(u))
	endif
endfunction

function Func0049 takes integer lvl returns integer
	if lvl==1 then
		return 25
	elseif lvl==2 then
		return 41
	elseif lvl==3 then
		return 62
	elseif lvl==4 then
		return 88
	elseif lvl==5 then
		return 119
	elseif lvl==6 then
		return 155
	elseif lvl<=25 then
		return R2I(2.5*lvl*lvl+8.5*lvl+14)
	endif
	return R2I(2.5*25*25+8.5*25+14)
endfunction

function Func0050 takes player p returns integer
	local integer i
	set i=1
	if p==Sentinels[i]or p==Scourges[i]then
		return i
	endif
	set i=2
	if p==Sentinels[i]or p==Scourges[i]then
		return i
	endif
	set i=3
	if p==Sentinels[i]or p==Scourges[i]then
		return i
	endif
	set i=4
	if p==Sentinels[i]or p==Scourges[i]then
		return i
	endif
	set i=5
	if p==Sentinels[i]or p==Scourges[i]then
		return i
	endif
	return 0
endfunction

function IsSentinel takes player p returns boolean
	if(p==Sentinels[0])then
		return true
	endif
	if(p==Sentinels[1])then
		return true
	endif
	if(p==Sentinels[2])then
		return true
	endif
	if(p==Sentinels[3])then
		return true
	endif
	if(p==Sentinels[4])then
		return true
	endif
	if(p==Sentinels[5])then
		return true
	endif
	return false
endfunction

function Func0052 takes player p returns boolean
	if(p==Scourges[0])then
		return true
	endif
	if(p==Scourges[1])then
		return true
	endif
	if(p==Scourges[2])then
		return true
	endif
	if(p==Scourges[3])then
		return true
	endif
	if(p==Scourges[4])then
		return true
	endif
	if(p==Scourges[5])then
		return true
	endif
	return false
endfunction

function Func0053 takes player p returns boolean
	return p==Sentinels[1]or p==Sentinels[2]or p==Sentinels[3]or p==Sentinels[4]or p==Sentinels[5]or p==Scourges[1]or p==Scourges[2]or p==Scourges[3]or p==Scourges[4]or p==Scourges[5]
endfunction

function IsPlayer takes player T4I returns boolean
	if(GetPlayerSlotState(T4I)==PLAYER_SLOT_STATE_PLAYING)then
		if(GetPlayerController(T4I)==MAP_CONTROL_USER)then
			return true
		endif
	endif
	return false
endfunction

function Func0055 takes player T4I returns boolean
	if(GetPlayerSlotState(T4I)==PLAYER_SLOT_STATE_PLAYING or GetPlayerSlotState(T4I)==PLAYER_SLOT_STATE_LEFT)then
		if(GetPlayerController(T4I)==MAP_CONTROL_USER)then
			return true
		endif
	endif
	return false
endfunction

function Func0056 takes player T4I returns boolean
	if GetPlayerSlotState(T4I)==PLAYER_SLOT_STATE_LEFT then
		if(GetPlayerController(T4I)==MAP_CONTROL_USER)then
			return true
		endif
	endif
	return false
endfunction

function Func0057 takes nothing returns nothing
	if(IsPlayer(GetEnumPlayer()))then
		set bj_forceCountPlayers=bj_forceCountPlayers+1
	endif
endfunction

function CountPlayersInForce takes force f returns integer
	set bj_forceCountPlayers=0
	call ForForce(f,function Func0057)
	return bj_forceCountPlayers
endfunction

function CountHumanPlayers takes nothing returns nothing
	if GetPlayerSlotState(GetEnumPlayer())==PLAYER_SLOT_STATE_LEFT or GetPlayerSlotState(GetEnumPlayer())==PLAYER_SLOT_STATE_PLAYING then
		set bj_forceCountPlayers=bj_forceCountPlayers+1
	endif
endfunction

function Func0059 takes nothing returns nothing
	if GetPlayerSlotState(GetEnumPlayer())==PLAYER_SLOT_STATE_PLAYING then
		if GetEnumPlayer()!=Player(13)and GetEnumPlayer()!=Player(14)then
			set bj_forceCountPlayers=bj_forceCountPlayers+1
		endif
	endif
endfunction

function Func0060 takes force f returns integer
	set bj_forceCountPlayers=0
	call ForForce(f,function Func0059)
	return bj_forceCountPlayers
endfunction

function Func0061 takes integer SDI,player T4I returns nothing
	if boolean046 then
		call SetPlayerTechMaxAllowed(T4I,SDI,0)
		set booleans001[GetUnitPointValueByType(SDI)]=true
	endif
endfunction

function Func0062 takes integer SDI returns nothing
	call Func0061(SDI,Sentinels[1])
	call Func0061(SDI,Sentinels[2])
	call Func0061(SDI,Sentinels[3])
	call Func0061(SDI,Sentinels[4])
	call Func0061(SDI,Sentinels[5])
	call Func0061(SDI,Scourges[1])
	call Func0061(SDI,Scourges[2])
	call Func0061(SDI,Scourges[3])
	call Func0061(SDI,Scourges[4])
	call Func0061(SDI,Scourges[5])
endfunction

function Func0063 takes integer SDI returns nothing
	if boolean046 then
		call SetPlayerTechMaxAllowed(Sentinels[1],SDI,0)
		call SetPlayerTechMaxAllowed(Sentinels[2],SDI,0)
		call SetPlayerTechMaxAllowed(Sentinels[3],SDI,0)
		call SetPlayerTechMaxAllowed(Sentinels[4],SDI,0)
		call SetPlayerTechMaxAllowed(Sentinels[5],SDI,0)
		call SetPlayerTechMaxAllowed(Scourges[1],SDI,0)
		call SetPlayerTechMaxAllowed(Scourges[2],SDI,0)
		call SetPlayerTechMaxAllowed(Scourges[3],SDI,0)
		call SetPlayerTechMaxAllowed(Scourges[4],SDI,0)
		call SetPlayerTechMaxAllowed(Scourges[5],SDI,0)
	endif
endfunction

function Func0064 takes integer SDI returns nothing
	local player p
	if boolean046 then
		set p=Sentinels[1]
		if Players_Hero[GetPlayerId(p)]==null then
			call SetPlayerTechMaxAllowed(p,SDI,1)
		endif
		set p=Sentinels[2]
		if Players_Hero[GetPlayerId(p)]==null then
			call SetPlayerTechMaxAllowed(p,SDI,1)
		endif
		set p=Sentinels[3]
		if Players_Hero[GetPlayerId(p)]==null then
			call SetPlayerTechMaxAllowed(p,SDI,1)
		endif
		set p=Sentinels[4]
		if Players_Hero[GetPlayerId(p)]==null then
			call SetPlayerTechMaxAllowed(p,SDI,1)
		endif
		set p=Sentinels[5]
		if Players_Hero[GetPlayerId(p)]==null then
			call SetPlayerTechMaxAllowed(p,SDI,1)
		endif
		set p=Scourges[1]
		if Players_Hero[GetPlayerId(p)]==null then
			call SetPlayerTechMaxAllowed(p,SDI,1)
		endif
		set p=Scourges[2]
		if Players_Hero[GetPlayerId(p)]==null then
			call SetPlayerTechMaxAllowed(p,SDI,1)
		endif
		set p=Scourges[3]
		if Players_Hero[GetPlayerId(p)]==null then
			call SetPlayerTechMaxAllowed(p,SDI,1)
		endif
		set p=Scourges[4]
		if Players_Hero[GetPlayerId(p)]==null then
			call SetPlayerTechMaxAllowed(p,SDI,1)
		endif
		set p=Scourges[5]
		if Players_Hero[GetPlayerId(p)]==null then
			call SetPlayerTechMaxAllowed(p,SDI,1)
		endif
	endif
endfunction

function Func0065 takes player p returns nothing
	local integer i=FirstSentinelHeroIndexId
	local integer k=LastHeroIndexId
	if boolean046 then
		loop
			exitwhen i>k
			call SetPlayerTechMaxAllowed(p,Hero_ID[i],0)
			set i=i+1
		endloop
	endif
endfunction

function Func0066 takes nothing returns nothing
	call Func0065(Sentinels[1])
	call Func0065(Sentinels[2])
	call Func0065(Sentinels[3])
	call Func0065(Sentinels[4])
	call Func0065(Sentinels[5])
	call Func0065(Scourges[1])
	call Func0065(Scourges[2])
	call Func0065(Scourges[3])
	call Func0065(Scourges[4])
	call Func0065(Scourges[5])
endfunction

function IsEnemyCreepCond takes nothing returns boolean
	return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(unit002))and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0 and(GetOwningPlayer(GetFilterUnit())==Sentinels[0])or(GetOwningPlayer(GetFilterUnit())==Scourges[0])
endfunction

function AllHeroes_Init takes nothing returns nothing
	local integer i
	local integer k
	local integer c=0
	set i=FirstSentinelHeroIndexId
	set k=LastHeroIndexId
	loop
		exitwhen i>k
		set c=c+1
		set AllHeroes_Indexes[c]=i
		set i=i+1
	endloop
	set AllHeroes_Count=c
endfunction

function GetSetElement takes nothing returns integer
	local integer i=GetRandomInt(FirstSentinelHeroIndexId,AllHeroes_Count)
	local integer k=AllHeroes_Indexes[i]
	set k=AllHeroes_Indexes[i]
	if FirstSentinelHeroIndexId==AllHeroes_Count then
		set AllHeroes_Indexes[i]=0
		return k
	endif
	if i==AllHeroes_Count then
		set AllHeroes_Count=AllHeroes_Count-1
		return k
	endif
	set AllHeroes_Indexes[i]=AllHeroes_Indexes[AllHeroes_Count]
	set AllHeroes_Count=AllHeroes_Count-1
	return k
endfunction

function Func0070 takes unit SWI returns boolean
	return GetUnitAbilityLevel(SWI,'B01T')>0 or GetUnitAbilityLevel(SWI,'BNsi')>0 or GetUnitAbilityLevel(SWI,'B01X')>0 or GetUnitAbilityLevel(SWI,'BNdo')>0 or GetUnitAbilityLevel(SWI,'B02M')>0 or GetUnitAbilityLevel(SWI,'Bhea')>0 or GetUnitAbilityLevel(SWI,'B07V')>0 or GetUnitAbilityLevel(SWI,'B0BY')>0 or GetUnitAbilityLevel(SWI,'B08O')>0 or GetUnitAbilityLevel(SWI,'B07U')>0 or GetUnitAbilityLevel(SWI,'B0DL')>0 or GetUnitAbilityLevel(SWI,'B08V')>0 or GetUnitAbilityLevel(SWI,'B031')>0 or GetUnitAbilityLevel(SWI,'B0FT')>0 or GetUnitAbilityLevel(SWI,'B0FG')>0
endfunction

function Func0071 takes string TNI returns integer
	if TNI=="a"then
		return 10
	elseif TNI=="b"then
		return 11
	elseif TNI=="c"then
		return 12
	elseif TNI=="d"then
		return 13
	elseif TNI=="e"then
		return 14
	elseif TNI=="f"then
		return 15
	else
		return S2I(TNI)
	endif
endfunction

function Func0072 takes string TTI returns integer
	return Func0071(SubString(TTI,0,1))*16+Func0071(SubString(TTI,1,2))
endfunction

function Func0073 takes integer TPI returns boolean
	local integer i=1
	loop
		exitwhen i>integer013
		if TPI==integers037[i]then
			return false
		endif
		set i=i+1
	endloop
	return true
endfunction

function Func0074 takes integer TPI returns boolean
	local integer i=1
	loop
		exitwhen i>integer013
		if TPI==integers037[i]then
			return false
		endif
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>integer049
		if TPI==integers079[i]then
			return false
		endif
		set i=i+1
	endloop
	return true
endfunction

function GetTowerLevel takes unit u returns integer
	local integer id=GetUnitTypeId(u)
	if id=='e00R' or id=='u00M' then
		return 1
	elseif id=='e011' or id=='u00D' then
		return 2
	elseif id=='e00S' or id=='u00N' then
		return 3
	elseif id=='e019' or id=='u00T' then
		return 4
	endif
	return 0
endfunction

function AddGold takes player p, integer g, boolean addReliable returns integer
	local integer i=GetPlayerId(p)
	if addReliable then
		set ReliableGold[i]=ReliableGold[i]+g
	endif
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)+g)
	return g
endfunction

function TextTagWithGold takes player p,integer g returns nothing
	local texttag t
	local integer i=GetPlayerId(p)
	if g>0 then
		set t=CreateTextTag()
		call SetTextTagText(t,"+"+I2S(AddGold(p,g,true)),0.025)
		call SetTextTagPosUnit(t,Players_Hero[i],0)
		call SetTextTagColor(t,255,220,0,255)
		call SetTextTagVelocity(t,0,0.03)
		call SetTextTagVisibility(t,LocalPlayer==p)
		call SetTextTagFadepoint(t,2)
		call SetTextTagLifespan(t,3)
		call SetTextTagPermanent(t,false)
	endif
	set t=null
endfunction

function ProvideTowerGold takes unit u,integer lvl returns nothing
	local integer g
	set g=120+40*lvl
	if IsUnitAlly(GetDyingUnit(),GetOwningPlayer(u))then
		set g=60+20*lvl
	endif
	if GetOwningPlayer(GetDyingUnit())==Scourges[0]then
		call TextTagWithGold(Sentinels[1],g)
		call TextTagWithGold(Sentinels[2],g)
		call TextTagWithGold(Sentinels[3],g)
		call TextTagWithGold(Sentinels[4],g)
		call TextTagWithGold(Sentinels[5],g)
	else
		call TextTagWithGold(Scourges[1],g)
		call TextTagWithGold(Scourges[2],g)
		call TextTagWithGold(Scourges[3],g)
		call TextTagWithGold(Scourges[4],g)
		call TextTagWithGold(Scourges[5],g)
	endif
endfunction

function ProvideRaxGold takes unit u,integer lvl returns nothing
	local integer g
	if lvl==1 then
		set g=100
	elseif lvl==2 then
		set g=175
	endif
	if GetOwningPlayer(GetDyingUnit())==Scourges[0]then
		call TextTagWithGold(Sentinels[1],g)
		call TextTagWithGold(Sentinels[2],g)
		call TextTagWithGold(Sentinels[3],g)
		call TextTagWithGold(Sentinels[4],g)
		call TextTagWithGold(Sentinels[5],g)
	else
		call TextTagWithGold(Scourges[1],g)
		call TextTagWithGold(Scourges[2],g)
		call TextTagWithGold(Scourges[3],g)
		call TextTagWithGold(Scourges[4],g)
		call TextTagWithGold(Scourges[5],g)
	endif
endfunction

function Func0079 takes integer SJI returns boolean
	local integer i=1
	loop
		exitwhen i>IntHeroes_Count
		if IntHeroes_Array[i]==SJI then
			return true
		endif
		set i=i+1
	endloop
	return false
endfunction

function Func0080 takes integer SJI returns boolean
	local integer i=1
	loop
		exitwhen i>AgiHeroes_Count
		if AgiHeroes_Array[i]==SJI then
			return true
		endif
		set i=i+1
	endloop
	return false
endfunction

function Func0081 takes integer SJI returns boolean
	local integer i=1
	loop
		exitwhen i>StrHeroes_Count
		if StrHeroes_Array[i]==SJI then
			return true
		endif
		set i=i+1
	endloop
	return false
endfunction

function Func0082 takes player T4I returns nothing
	local integer RBI
	local integer RCI
	local location RDI
	local integer TJI
	local boolean GotHero=false
	set booleans004[GetPlayerId(T4I)]=true
	if IsSentinel(T4I) then
		set RBI=FirstSentinelHeroIndexId
		set RCI=LastSentinelHeroIndexId
		set RDI=GetRectCenter(Hero_Creation_NE)
	else
		set RBI=FirstScourgeHeroIndexId
		set RCI=LastHeroIndexId
		set RDI=GetRectCenter(Hero_Creation_UD)
	endif
	if boolean006 then
		if(GetRandomInt(1,2)==1)then
			set RBI=FirstSentinelHeroIndexId
			set RCI=LastSentinelHeroIndexId
		else
			set RBI=FirstScourgeHeroIndexId
			set RCI=LastHeroIndexId
		endif
	endif
	loop
		set TJI=GetRandomInt(RBI,RCI)
		exitwhen booleans001[TJI]==false and Func0079(Hero_ID[TJI])and Hero_ID[TJI]!='H00K'
	endloop
	if boolean028==false then
		call Func0063(Hero_ID[TJI])
		set booleans001[TJI]=true
	endif
	call CreateUnitAtLoc(T4I,Hero_ID[TJI],RDI,0)
	call RemoveLocation(RDI)
endfunction

function Func0083 takes player T4I returns nothing
	local integer RBI
	local integer RCI
	local location RDI
	local integer TJI
	local boolean GotHero=false
	set booleans004[GetPlayerId(T4I)]=true
	if IsSentinel(T4I) then
		set RBI=FirstSentinelHeroIndexId
		set RCI=LastSentinelHeroIndexId
		set RDI=GetRectCenter(Hero_Creation_NE)
	else
		set RBI=FirstScourgeHeroIndexId
		set RCI=LastHeroIndexId
		set RDI=GetRectCenter(Hero_Creation_UD)
	endif
	if boolean006 then
		if(GetRandomInt(1,2)==1)then
			set RBI=FirstSentinelHeroIndexId
			set RCI=LastSentinelHeroIndexId
		else
			set RBI=FirstScourgeHeroIndexId
			set RCI=LastHeroIndexId
		endif
	endif
	loop
		set TJI=GetRandomInt(RBI,RCI)
		exitwhen booleans001[TJI]==false and Func0081(Hero_ID[TJI])
	endloop
	if boolean028==false then
		call Func0063(Hero_ID[TJI])
		set booleans001[TJI]=true
	endif
	call CreateUnitAtLoc(T4I,Hero_ID[TJI],RDI,0)
	call RemoveLocation(RDI)
endfunction

function Func0084 takes player T4I returns nothing
	local integer RBI
	local integer RCI
	local location RDI
	local integer TJI
	local boolean GotHero=false
	set booleans004[GetPlayerId(T4I)]=true
	if IsSentinel(T4I) then
		set RBI=FirstSentinelHeroIndexId
		set RCI=LastSentinelHeroIndexId
		set RDI=GetRectCenter(Hero_Creation_NE)
	else
		set RBI=FirstScourgeHeroIndexId
		set RCI=LastHeroIndexId
		set RDI=GetRectCenter(Hero_Creation_UD)
	endif
	if boolean006 then
		if(GetRandomInt(1,2)==1)then
			set RBI=FirstSentinelHeroIndexId
			set RCI=LastSentinelHeroIndexId
		else
			set RBI=FirstScourgeHeroIndexId
			set RCI=LastHeroIndexId
		endif
	endif
	loop
		set TJI=GetRandomInt(RBI,RCI)
		exitwhen booleans001[TJI]==false and Func0080(Hero_ID[TJI])
	endloop
	if boolean028==false then
		call Func0063(Hero_ID[TJI])
		set booleans001[TJI]=true
	endif
	call CreateUnitAtLoc(T4I,Hero_ID[TJI],RDI,0)
	call RemoveLocation(RDI)
endfunction

function Func0085 takes player T4I returns nothing
	local integer RBI
	local integer RCI
	local location RDI
	local integer TJI
	local boolean GotHero=false
	set booleans004[GetPlayerId(T4I)]=true
	if IsSentinel(T4I) then
		set RBI=FirstSentinelHeroIndexId
		set RCI=LastSentinelHeroIndexId
		set RDI=GetRectCenter(Hero_Creation_NE)
	else
		set RBI=FirstScourgeHeroIndexId
		set RCI=LastHeroIndexId
		set RDI=GetRectCenter(Hero_Creation_UD)
	endif
	if boolean006 then
		if(GetRandomInt(1,2)==1)then
			set RBI=FirstSentinelHeroIndexId
			set RCI=LastSentinelHeroIndexId
		else
			set RBI=FirstScourgeHeroIndexId
			set RCI=LastHeroIndexId
		endif
	endif
	loop
		set TJI=GetRandomInt(RBI,RCI)
		exitwhen booleans001[TJI]==false
	endloop
	if boolean028==false then
		call Func0063(Hero_ID[TJI])
		set booleans001[TJI]=true
	endif
	call CreateUnitAtLoc(T4I,Hero_ID[TJI],RDI,0)
	call RemoveLocation(RDI)
endfunction

function Func0087 takes unit SWI returns boolean
	return GetUnitTypeId(SWI)=='n00I' or GetUnitTypeId(SWI)=='n022' or GetUnitTypeId(SWI)=='n021' or GetUnitTypeId(SWI)=='n0KY' or GetUnitTypeId(SWI)=='n0KZ' or GetUnitTypeId(SWI)=='n0LE' or GetUnitTypeId(SWI)=='n023' or GetUnitTypeId(SWI)=='n024' or GetUnitTypeId(SWI)=='n025' or GetUnitTypeId(SWI)=='n0L0' or GetUnitTypeId(SWI)=='n0L1' or GetUnitTypeId(SWI)=='n0M4' or GetUnitTypeId(SWI)=='n00M' or GetUnitTypeId(SWI)=='n0HV' or GetUnitTypeId(SWI)=='n0LS'
endfunction

function Func0088 takes unit SWI returns boolean
	return GetUnitTypeId(SWI)=='e01H' or GetUnitTypeId(SWI)=='e01Z' or GetUnitTypeId(SWI)=='e02R' or GetUnitTypeId(SWI)=='e02T' or GetUnitTypeId(SWI)=='e02S' or GetUnitTypeId(SWI)=='e030'
endfunction

function Func0089 takes unit SWI returns boolean
	return Func0087(SWI)or Func0088(SWI)
endfunction

function Func0090 takes destructable d returns boolean
	return GetDestructableTypeId(d)=='NTtc' or GetDestructableTypeId(d)=='NTtw' or GetDestructableTypeId(d)=='ATtr' or GetDestructableTypeId(d)=='B002' or GetDestructableTypeId(d)=='B003' or GetDestructableTypeId(d)=='B005'
endfunction

function Func0091 takes unit u returns boolean
	return GetUnitAbilityLevel(u,'A0S6')>0 or GetUnitAbilityLevel(u,'A179')>0 or GetUnitAbilityLevel(u,'ACmi')>0 or GetUnitAbilityLevel(u,'A0SU')>0 or GetUnitAbilityLevel(u,'B014')>0 or GetUnitAbilityLevel(u,'A0H3')>0 or((LoadInteger(HY,(GetHandleId(((u)))),((4252))))==1)
endfunction

function Func0092 takes unit RMI returns boolean
	return GetUnitAbilityLevel(RMI,'A04R')>0 and Func0053(GetOwningPlayer(RMI))
endfunction

function Func0093 takes unit u returns boolean
	return GetUnitTypeId(u)=='H00F' or GetUnitTypeId(u)=='H00E' or GetUnitTypeId(u)=='H00G' or GetUnitTypeId(u)=='O017'
endfunction

function Func0094 takes real d returns boolean
	return 2<d and d<3000
endfunction

function Func0095 takes nothing returns nothing
	local integer TGI=1
	set PlayerModeTyper=Sentinels[1]
	loop
		exitwhen IsPlayer(PlayerModeTyper)or TGI>5
		set TGI=TGI+1
		set PlayerModeTyper=Sentinels[TGI]
	endloop
	if IsPlayer(PlayerModeTyper)==false then
		set PlayerModeTyper=Scourges[1]
		set TGI=1
		loop
			exitwhen IsPlayer(PlayerModeTyper)or TGI>5
			set TGI=TGI+1
			set PlayerModeTyper=Scourges[TGI]
		endloop
	endif
endfunction

function Func0096 takes unit Hero returns boolean
	return IsUnitType(Hero,UNIT_TYPE_HERO) and IsUnitIllusion(Hero)==false and GetUnitTypeId(Hero)!='H00M' and GetUnitTypeId(Hero)!='N0MM' and GetUnitTypeId(Hero)!='H00Y' and GetUnitTypeId(Hero)!='H07G' and GetUnitTypeId(Hero)!='H0B8'
endfunction

function Func0097 takes integer i returns integer
	local integer x=0
	loop
		exitwhen x>LastHeroIndexId
		if Dummy_ID[x]==i then
			return Hero_ID[x]
		endif
		set x=x+1
	endloop
	return-1
endfunction

function Func0098 takes integer SJI returns integer
	local integer i=1
	loop
		exitwhen i>LastHeroIndexId
		if SJI==Hero_ID[i]then
			return i
		endif
		set i=i+1
	endloop
	return 0
endfunction

function Func0099 takes unit Hero returns integer
	local integer lvl=GetHeroLevel(Hero)
	if lvl==1 then
		return 100
	elseif lvl==2 then
		return 120
	elseif lvl==3 then
		return 160
	elseif lvl==4 then
		return 220
	else
		return-200+100*lvl
	endif
	return 0
endfunction

function Func0100 takes player p returns boolean
	return isObserversMode and(Observer1==p or Observer2==p)
endfunction

function Func0101 takes unit u returns boolean
	return GetUnitAbilityLevel(u,'Bcyc')>0 or GetUnitAbilityLevel(u,'Bcy2')>0
endfunction

function Func0102 takes unit u returns boolean
	return((LoadInteger(HY,(GetHandleId((u))),((4400))))==1)or((LoadInteger(HY,(GetHandleId((u))),((4401))))==1)or((LoadInteger(HY,(GetHandleId((u))),((4402))))==1)or((LoadInteger(HY,(GetHandleId((u))),((4403))))==1)or((LoadInteger(HY,(GetHandleId((u))),((4404))))==1)or((LoadInteger(HY,(GetHandleId((u))),((4405))))==1)or((LoadInteger(HY,(GetHandleId((u))),((4406))))==1)or((LoadInteger(HY,(GetHandleId((u))),((4407))))==1)or((LoadInteger(HY,(GetHandleId((u))),((4408))))==1)or((LoadInteger(HY,(GetHandleId((u))),((4409))))==1)or((LoadInteger(HY,(GetHandleId((u))),((4410))))==1)or((LoadInteger(HY,(GetHandleId((u))),((4411))))==1)or((LoadInteger(HY,(GetHandleId((u))),((4412))))==1)or((LoadInteger(HY,(GetHandleId((u))),((4413))))==1)or((LoadInteger(HY,(GetHandleId((u))),((4414))))==1)or((LoadInteger(HY,(GetHandleId((u))),((4415))))==1)
endfunction

function Func0103 takes integer id returns boolean
	return id=='u014' or id=='u015' or id=='u016' or id=='u01D' or id=='u01E' or id=='u01F'
endfunction

function Func0104 takes unit u returns boolean
	return GetUnitAbilityLevel(u,'BOhx')>0 or GetUnitAbilityLevel(u,'B00H')>0
endfunction

function Func0105 takes integer RII returns boolean
	if RII=='npn3' or RII=='npn6' or RII=='n010' or RII=='n0GZ' then
		return true
	endif
	if RII=='npn2' or RII=='npn5' or RII=='n012' or RII=='n0H1' then
		return true
	endif
	if RII=='npn1' or RII=='npn4' or RII=='n011' or RII=='n0H0' then
		return true
	endif
	return false
endfunction

function Func0106 takes unit u returns real
	if IsSentinel(GetOwningPlayer(u))then
		return GetRectCenterX(Hero_Creation_NE)
	else
		return GetRectCenterX(Hero_Creation_UD)
	endif
endfunction

function Func0107 takes unit u returns real
	if IsSentinel(GetOwningPlayer(u))then
		return GetRectCenterY(Hero_Creation_NE)
	else
		return GetRectCenterY(Hero_Creation_UD)
	endif
endfunction

function DamageTarget takes unit source,unit target,integer dt,real dmg returns nothing
	if dt==0 then
		return
	endif
	if dt==1 then
		call UnitDamageTarget(source,target,dmg,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE,WEAPON_TYPE_WHOKNOWS)
	elseif dt==2 then
		call UnitDamageTarget(source,target,dmg,true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
	elseif dt==3 then
		call UnitDamageTarget(source,target,dmg,true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
	elseif dt==4 then
		call UnitDamageTarget(source,target,dmg,true,true,ATTACK_TYPE_PIERCE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
	elseif dt==5 then
		call UnitDamageTarget(source,target,dmg,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
	elseif dt==6 then
		call SetUnitState(target,UNIT_STATE_LIFE,RMaxBJ(GetUnitState(target,UNIT_STATE_LIFE)-dmg,1))
		if GetUnitState(target,UNIT_STATE_LIFE)<2 then
			call UnitRemoveBuffs(target,true,true)
			call UnitRemoveAbility(target,'Aetl')
			call UnitDamageTarget(CreateUnit(GetOwningPlayer(source),'e00E',0,0,0),target,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
		endif
	elseif dt==7 then
		if GetUnitAbilityLevel(target,'Aetl')>0 or GetUnitAbilityLevel(target,'B01N')>0 then
			call UnitDamageTarget(source,target,dmg,true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
		else
			call UnitDamageTarget(source,target,dmg,true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
		endif
	elseif dt==8 then
		call UnitDamageTarget(source,target,dmg,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
	endif
endfunction

function DamageTargetWithDelay_Go takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local integer dt=(LoadInteger(HY,(h),(36)))
	local real dmg=(LoadReal(HY,(h),(20)))
	call DamageTarget(source,target,dt,dmg)
	call UnitAsInteger_Clear(PCI)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function DamageTarget_Delayed takes unit source,unit target,integer dt,real dmg,real dur returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveInteger(HY,(h),(36),(dt))
	call SaveReal(HY,(h),(20),((dmg)*1.0))
	call TriggerRegisterTimerEvent(t,dur,false)
	call TriggerAddCondition(t,Condition(function DamageTargetWithDelay_Go))
	set t=null
endfunction

function Func0111 takes player MDI,string PFI returns nothing
	local sound PGI=CreateSound(PFI,false,false,false,10,10,"DefaultEAXON")
	if(LocalPlayer==MDI)then
		call StartSound(PGI)
	endif
	call KillSoundWhenDone(PGI)
endfunction

function Func0112 takes player MDI,string PFI returns nothing
	call Func0111(Sentinels[1],PFI)
	call Func0111(Sentinels[2],PFI)
	call Func0111(Sentinels[3],PFI)
	call Func0111(Sentinels[4],PFI)
	call Func0111(Sentinels[5],PFI)
	call Func0111(Scourges[1],PFI)
	call Func0111(Scourges[2],PFI)
	call Func0111(Scourges[3],PFI)
	call Func0111(Scourges[4],PFI)
	call Func0111(Scourges[5],PFI)
endfunction

function Error takes player p,string s returns nothing
	local sound snd=CreateSoundFromLabel("InterfaceError",false,false,false,10,10)
	if LocalPlayer==p then
		if s!="" and s!=null then
			call ClearTextMessages()
			call DisplayTimedTextToPlayer(p,.5,-1,2,"|cffffcc00"+s+"|r")
		endif
		call StartSound(snd)
	endif
	call KillSoundWhenDone(snd)
	set snd=null
endfunction

function Error5s takes player p,string s returns nothing
	local sound snd=CreateSoundFromLabel("InterfaceError",false,false,false,10,10)
	if LocalPlayer==p then
		if s!="" and s!=null then
			call DisplayTimedTextToPlayer(p,0,0,5,"|cffffcc00"+s+"|r")
		endif
		call StartSound(snd)
	endif
	call KillSoundWhenDone(snd)
	set snd=null
endfunction

function InterruptUnit takes unit PKI returns nothing
	call PauseUnit(PKI,true)
	call IssueImmediateOrder(PKI,"stop")
	call PauseUnit(PKI,false)
endfunction

function IsDayTime takes nothing returns boolean
	return GetTimeOfDay()>6. and GetTimeOfDay()<18.
endfunction

function RunIfTrue takes string callback,boolean equal returns nothing
	if equal then
		call ExecuteFunc(callback)
	endif
endfunction

function SafeX50 takes real x returns real
	local real d=GetRectMinX(bj_mapInitialPlayableArea)+50
	if(x<d)then
		return d
	endif
	set d=GetRectMaxX(bj_mapInitialPlayableArea)-50
	if(x>d)then
		return d
	endif
	return x
endfunction

function SafeX75 takes real x returns real
	local real d=GetRectMinX(bj_mapInitialPlayableArea)+75
	if(x<d)then
		return d
	endif
	set d=GetRectMaxX(bj_mapInitialPlayableArea)-75
	if(x>d)then
		return d
	endif
	return x
endfunction

function SafeX takes real x returns real
	local real d=GetRectMinX(bj_mapInitialPlayableArea)
	if(x<d)then
		return d
	endif
	set d=GetRectMaxX(bj_mapInitialPlayableArea)
	if(x>d)then
		return d
	endif
	return x
endfunction

function SafeY50 takes real y returns real
	local real d=GetRectMinY(bj_mapInitialPlayableArea)+50
	if(y<d)then
		return d
	endif
	set d=GetRectMaxY(bj_mapInitialPlayableArea)-50
	if(y>d)then
		return d
	endif
	return y
endfunction

function SafeY75 takes real y returns real
	local real d=GetRectMinY(bj_mapInitialPlayableArea)+75
	if(y<d)then
		return d
	endif
	set d=GetRectMaxY(bj_mapInitialPlayableArea)-75
	if(y>d)then
		return d
	endif
	return y
endfunction

function SafeY takes real y returns real
	local real d=GetRectMinY(bj_mapInitialPlayableArea)
	if(y<d)then
		return d
	endif
	set d=GetRectMaxY(bj_mapInitialPlayableArea)
	if(y>d)then
		return d
	endif
	return y
endfunction

function Func0125 takes integer QOI returns nothing
	local unit u=CreateUnit(Player(15),'H00Y',0,0,270)
	call UnitAddAbility(u,QOI)
	call UnitRemoveAbility(u,QOI)
	call RemoveUnit(u)
	set u=null
endfunction

function Func0126 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer QOI=(LoadInteger(HY,(h),(37)))
	call Func0125(QOI)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	return false
endfunction

function Func0127 takes integer QOI,real Q4I returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveInteger(HY,(h),(37),(QOI))
	call TriggerRegisterTimerEvent(t,Q4I,false)
	call TriggerAddCondition(t,Condition(function Func0126))
	set t=null
endfunction

function Tree_Killer takes nothing returns nothing
	call KillDestructable(GetEnumDestructable())
endfunction

function Func0128 takes unit Hero returns nothing
	call SaveBoolean(HY,(GetHandleId(Hero)),(38),(false))
	call FlushChildHashtable(HY,(GetHandleId(Hero)))
	call RemoveUnit(Hero)
endfunction

function Func0129 takes unit SWI,integer Q7I,integer Q8I returns nothing
	if GetUnitAbilityLevel(SWI,Q7I)==0 then
		call UnitAddAbility(SWI,Q7I)
	endif
	call SetUnitAbilityLevel(SWI,Q7I,Q8I)
endfunction

function Func0130 takes integer a,integer b returns integer
	if(a<b)then
		return a
	else
		return b
	endif
endfunction

function Func0131 takes integer a,integer b returns integer
	if(a<b)then
		return b
	else
		return a
	endif
endfunction

function Func0132 takes integer l,integer a,integer b returns integer
	return Func0131(Func0130(l,b),a)
endfunction

function Func0133 takes real a,real b returns real
	if(a<b)then
		return a
	else
		return b
	endif
endfunction

function Func0134 takes real a,real b returns real
	if(a<b)then
		return b
	else
		return a
	endif
endfunction

function Func0135 takes nothing returns nothing
	local integer h=GetHandleId(GetExpiredTimer())
	local unit SWI=(LoadUnitHandle(HY,(h),(26)))
	call SetUnitState(SWI,UNIT_STATE_LIFE,GetUnitState(SWI,UNIT_STATE_LIFE)+(LoadReal(HY,(h),(20))))
endfunction

function Func0136 takes unit SWI,real dmg returns nothing
	local timer t=CreateTimer()
	local integer h=GetHandleId(t)
	call SaveReal(HY,(h),(20),((dmg)*1.0))
	call SaveUnitHandle(HY,(h),(26),(SWI))
	call TimerStart(t,0,false,function Func0135)
endfunction

function Func0137 takes unit SWI,real dmg returns nothing
	local real QHI=GetUnitState(SWI,UNIT_STATE_MAX_LIFE)
	local real QZI=GetUnitState(SWI,UNIT_STATE_LIFE)
	if(GetUnitState(SWI,UNIT_STATE_LIFE)>1)then
		if dmg>(QHI-QZI)then
			if dmg>=QZI then
				call SetUnitState(SWI,UNIT_STATE_LIFE,QHI)
				call Func0136(SWI,dmg-(QHI-QZI))
			else
				call Func0136(SWI,dmg)
			endif
		else
			call SetUnitState(SWI,UNIT_STATE_LIFE,GetUnitState(SWI,UNIT_STATE_LIFE)+dmg)
		endif
	endif
endfunction

function Func0138 takes unit source,unit target,real QWI returns boolean
	local real SourceX=GetUnitX(source)
	local real SourceY=GetUnitY(source)
	local real QJI=GetUnitX(target)
	local real QKI=GetUnitY(target)
	if((SourceX-QJI)*(SourceX-QJI)+(SourceY-QKI)*(SourceY-QKI))<QWI*QWI then
		return true
	else
		return false
	endif
	return false
endfunction

function Func0139 takes unit source,unit target returns real
	local real SourceX=GetUnitX(source)
	local real SourceY=GetUnitY(source)
	local real QJI=GetUnitX(target)
	local real QKI=GetUnitY(target)
	if source==null or target==null then
		return I2R(9999999999)
	else
		return SquareRoot((SourceX-QJI)*(SourceX-QJI)+(SourceY-QKI)*(SourceY-QKI))
	endif
	return 1.0
endfunction

function Func0140 takes unit source,location target returns real
	local real SourceX=GetUnitX(source)
	local real SourceY=GetUnitY(source)
	local real QJI=GetLocationX(target)
	local real QKI=GetLocationY(target)
	if source==null then
		return I2R(9999999999)
	else
		return SquareRoot((SourceX-QJI)*(SourceX-QJI)+(SourceY-QKI)*(SourceY-QKI))
	endif
	return 1.0
endfunction

function Func0141 takes real x1,real y1,real x2,real y2 returns real
	return SquareRoot(((x1-x2)*(x1-x2))+((y1-y2)*(y1-y2)))
endfunction

function Func0142 takes unit SWI returns nothing
	call SetUnitState(SWI,UNIT_STATE_MANA,GetUnitState(SWI,UNIT_STATE_MAX_MANA))
endfunction

function Func0145 takes nothing returns nothing
	if booleans012[GetPlayerId(GetEnumPlayer())]then
		call DisplayTimedTextToPlayer(GetEnumPlayer(),0,0,real005,string026)
	endif
endfunction

function Func0146 takes force N0I,real dur,string NII returns nothing
	set string026=NII
	set real005=dur
	call ForForce(N0I,function Func0145)
endfunction

function Func0147 takes unit SWI,real U0I returns nothing
	call SetUnitState(SWI,UNIT_STATE_LIFE,GetUnitState(SWI,UNIT_STATE_LIFE)+U0I)
endfunction

function Func0148 takes nothing returns nothing
	call PauseAllUnitsBJ(true)
endfunction

function RepeatedPauseAll takes nothing returns nothing
	local timer t=CreateTimer()
	call TimerStart(t,1,true,function Func0148)
endfunction

function Func0149 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger((t))
	set t=null
	return false
endfunction

function Func0150 takes string U2I,unit SWI,string U3I,real dur returns nothing
	local effect fx=AddSpecialEffectTarget(U2I,SWI,U3I)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveEffectHandle(HY,(h),(32),(fx))
	call TriggerRegisterTimerEvent(t,dur,false)
	call TriggerAddCondition(t,Condition(function Func0149))
	set fx=null
	set t=null
endfunction

function Func0151 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger((t))
	set t=null
	return false
endfunction

function Func0152 takes string U2I,unit SWI,string U3I,real dur returns nothing
	local effect fx=AddSpecialEffectTarget(U2I,SWI,U3I)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveEffectHandle(HY,(h),(32),(fx))
	call TriggerRegisterUnitEvent(t,SWI,EVENT_UNIT_DEATH)
	call TriggerRegisterTimerEvent(t,dur,false)
	call TriggerAddCondition(t,Condition(function Func0151))
	set fx=null
	set t=null
endfunction

function Func0153 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger((t))
	set t=null
	return false
endfunction

function Func0154 takes string U2I,real x,real y,real dur returns nothing
	local effect fx=AddSpecialEffect(U2I,x,y)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveEffectHandle(HY,(h),(32),(fx))
	call TriggerRegisterTimerEvent(t,dur,false)
	call TriggerAddCondition(t,Condition(function Func0153))
	set fx=null
	set t=null
endfunction

function PulseEffectTarget_Child takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local string U2I=(LoadStr(HY,(h),(39)))
	local string U3I=(LoadStr(HY,(h),(40)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	call Func0152(U2I,target,U3I,2)
	if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>Count then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	return false
endfunction

function Func0155 takes unit SWI,integer U9I returns item
	local integer MLI=0
	local item UAI
	loop
		exitwhen MLI==6
		set UAI=UnitItemInSlot(SWI,MLI)
		if UAI!=null and GetItemTypeId(UAI)==U9I then
			return UAI
		endif
		set MLI=MLI+1
	endloop
	return null
endfunction

function Func0156 takes timer t returns nothing
	call PauseTimer(t)
	call FlushChildHashtable(HY,(GetHandleId(t)))
	call DestroyTimer(t)
endfunction

function Func0157 takes real x1,real y1,real x2,real y2 returns real
	return SquareRoot((x1-x2)*(x1-x2)+(y1-y2)*(y1-y2))
endfunction

function Func0158 takes unit a,unit b returns real
	return bj_RADTODEG*Atan2(GetUnitY(b)-GetUnitY(a),GetUnitX(b)-GetUnitX(a))
endfunction

function Func0159 takes real x1,real y1,real x2,real y2 returns real
	return bj_RADTODEG*Atan2(y2-y1,x2-x1)
endfunction

function Func0160 takes nothing returns nothing
	call DestroyLightning((LoadLightningHandle(HY,(GetHandleId(GetExpiredTimer())),(41))))
endfunction

function Func0161 takes string UHI,real x1,real y1,real x2,real y2,real r,real g,real b,real a,real dur returns nothing
	local timer t=CreateTimer()
	local lightning UZI=AddLightning(UHI,true,x1,y1,x2,y2)
	call SetLightningColor(UZI,r,g,b,a)
	call SaveLightningHandle(HY,(GetHandleId(t)),(41),(UZI))
	call TimerStart(t,dur,false,function Func0160)
endfunction

function Func0162 takes string UWI,unit UXI,integer r,integer g,integer b returns nothing
	local texttag tt=CreateTextTag()
	call SetTextTagText(tt,UWI,0.03)
	call SetTextTagPosUnit(tt,UXI,0)
	call SetTextTagColor(tt,r,g,b,255)
	call SetTextTagPermanent(tt,true)
	set tt=null
endfunction

function Func0163 takes string UWI,real dur,unit UXI,real UJI,integer r,integer g,integer b,integer a returns nothing
	local texttag tt=CreateTextTag()
	call SetTextTagText(tt,UWI,UJI)
	call SetTextTagPosUnit(tt,UXI,64)
	call SetTextTagColor(tt,r,g,b,a)
	call SetTextTagVelocity(tt,0,0.0355)
	call SetTextTagFadepoint(tt,2)
	call SetTextTagPermanent(tt,false)
	call SetTextTagLifespan(tt,dur)
	if IsUnitVisible(UXI,LocalPlayer)or Func0100(LocalPlayer)then
		call SetTextTagVisibility(tt,true)
	else
		call SetTextTagVisibility(tt,false)
	endif
	set tt=null
endfunction

function Func0164 takes player p,string UWI,real dur,unit UXI,real UJI,integer r,integer g,integer b,integer a returns nothing
	local texttag tt=CreateTextTag()
	call SetTextTagText(tt,UWI,UJI)
	call SetTextTagPosUnit(tt,UXI,64)
	call SetTextTagColor(tt,r,g,b,a)
	call SetTextTagVelocity(tt,0,0.0355)
	call SetTextTagFadepoint(tt,2)
	call SetTextTagPermanent(tt,false)
	call SetTextTagLifespan(tt,dur)
	if IsPlayerAlly(LocalPlayer,p) or Func0100(LocalPlayer)then
		call SetTextTagVisibility(tt,true)
	else
		call SetTextTagVisibility(tt,false)
	endif
	set tt=null
endfunction

function Func0165 takes nothing returns boolean
	return true
endfunction

function TriggerRegisterAnyUnitEvent takes trigger t,playerunitevent UNI returns nothing
	local integer MLI=0
	loop
		call TriggerRegisterPlayerUnitEvent(t,Player(MLI),UNI,Condition(function Func0165))
		set MLI=MLI+1
		exitwhen MLI==16
	endloop
endfunction

function Func0167 takes trigger t,playerunitevent UNI returns nothing
	local integer i=1
	loop
		exitwhen i>5
		call TriggerRegisterPlayerUnitEvent(t,Sentinels[i],UNI,Condition(function Func0165))
		call TriggerRegisterPlayerUnitEvent(t,Scourges[i],UNI,Condition(function Func0165))
		set i=i+1
	endloop
endfunction

function Func0168 takes real x1,real y1,real x2,real y2 returns real
	return SquareRoot(((x1-x2)*(x1-x2))+((y1-y2)*(y1-y2)))
endfunction

function Func0169 takes nothing returns nothing
	if Func0090(GetEnumDestructable())and IsDestructableAliveBJ(GetEnumDestructable())then
		set integer021=integer021+1
		call KillDestructable(GetEnumDestructable())
	endif
endfunction

function KillTrees takes real x,real y,real d returns integer
	local rect r=Rect(x-d,y-d,x+d,y+d)
	set integer021=0
	call EnumDestructablesInRect(r,Condition(function ReturnTrue),function Func0169)
	call RemoveRect(r)
	set r=null
	return integer021
endfunction

function Func0171 takes real x,real y returns boolean
	if IsTerrainPathable(x,y,PATHING_TYPE_WALKABILITY)then
		return false
	endif
	return true
endfunction

function Func0172 takes unit source,unit target returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbility(caster,'A0R9')
	call IssueTargetOrder(caster,"thunderbolt",target)
	set caster=null
endfunction

function Func0173 takes player MDI,sound I11,real x,real y returns nothing
	call SetSoundPosition(I11,x,y,0)
	call SetSoundVolume(I11,127)
	set bj_lastPlayedSound=I11
	if(I11!=null)then
		if(LocalPlayer==MDI)then
			call StartSound(I11)
		endif
	endif
endfunction

function Func0174 takes sound I11,real x,real y returns nothing
	call SetSoundPosition(I11,x,y,0)
	call SetSoundVolume(I11,127)
	set bj_lastPlayedSound=I11
	if(I11!=null)then
		call StartSound(I11)
	endif
endfunction

function Func0175 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local fogmodifier fm=(LoadFogModifierHandle(HY,(h),(42)))
	call FogModifierStop(fm)
	call DestroyFogModifier(fm)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set fm=null
	return false
endfunction

function TimedReveal takes player p,real dur,real x,real y,real r returns nothing
	local trigger t=CreateTrigger()
	local fogmodifier fm=CreateFogModifierRadius(p,FOG_OF_WAR_VISIBLE,x,y,r,true,true)
	call FogModifierStart(fm)
	call SaveFogModifierHandle(HY,(GetHandleId(t)),(42),(fm))
	call TriggerRegisterTimerEvent(t,dur,false)
	call TriggerAddCondition(t,Condition(function Func0175))
	set fm=null
	set t=null
endfunction

function GroupCount_Helper takes nothing returns nothing
	set bj_groupCountUnits=bj_groupCountUnits+1
endfunction

function Func0177 takes nothing returns nothing
	if(Func0090(GetEnumDestructable())or GetDestructableTypeId(GetEnumDestructable())=='B005')and GetDestructableLife(GetEnumDestructable())>0 then
		set boolean045=true
	endif
endfunction

function Func0178 takes real x,real y,real d returns boolean
	local rect r=Rect(x-d,y-d,x+d,y+d)
	set boolean045=false
	call EnumDestructablesInRect(r,Condition(function ReturnTrue),function Func0177)
	call RemoveRect(r)
	set r=null
	return boolean045
endfunction

function Func0179 takes nothing returns nothing
	call PauseUnit(GetEnumUnit(),true)
endfunction

function Func0180 takes nothing returns boolean
	local group g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,0,0,16000,Condition(function Func0165))
	call ForGroup(g,function Func0179)
	call KillGroup(g)
	set g=null
	return false
endfunction

function Func0181 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func0180))
	call TriggerEvaluate(t)
	set t=null
endfunction

function UnitAddAbilityPermanent takes unit Hero,integer aid returns boolean
	return UnitAddAbility(Hero,aid) and UnitMakeAbilityPermanent(Hero,true,aid)
endfunction

function IsDead takes unit u returns boolean
	return not UnitAlive(u)
endfunction

function Func0184 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local integer IE1=(LoadInteger(HY,(h),(43)))
	local unit source=UnitAsInteger_Load(IE1)
	local real IF1=(LoadReal(HY,(h),(44)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real x=GetUnitX(IG1)
	local real y=GetUnitY(IG1)
	local real QJI=GetUnitX(target)
	local real QKI=GetUnitY(target)
	local real IH1=IF1*0.03
	local real IZ1=Func0159(x,y,QJI,QKI)
	local real IV1=x+IH1*Cos(IZ1*bj_DEGTORAD)
	local real IW1=y+IH1*Sin(IZ1*bj_DEGTORAD)
	local boolean IX1=(LoadBoolean(HY,(h),(698)))
	local boolean IY1=(LoadBoolean(HY,(h),(818)))
	call SetUnitX(IG1,IV1)
	call SetUnitY(IG1,IW1)
	call SetUnitFacing(IG1,IZ1)
	if IsDead(target)and IX1==false or(((LoadInteger(HY,(GetHandleId((target))),((4422))))==1) and IY1)then
		call KillUnit(IG1)
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif Func0168(QJI,QKI,IV1,IW1)<=IH1 then
		call KillUnit(IG1)
		set tt_unit1=source
		set tt_unit2=target
		call ExecuteFunc((LoadStr(HY,(h),(46))))
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	set source=null
	set IG1=null
	return false
endfunction

function AddProjectile takes unit source,unit target,integer IK1,string IL1,real IF1,boolean CanBeDisjoined returns trigger
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real SourceX=GetUnitX(source)
	local real SourceY=GetUnitY(source)
	local real a=GetUnitFacing(source)
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerAddCondition(t,Condition(function Func0184))
	call SaveReal(HY,(h),(44),((IF1)*1.0))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveStr(HY,(h),(46),(IL1))
	call SaveInteger(HY,(h),(43),(Func0021(source)))
	call SaveUnitHandle(HY,(h),(45),(CreateUnit(GetOwningPlayer(source),IK1,SourceX,SourceY,a)))
	call SaveBoolean(HY,(h),(698),(false))
	call SaveBoolean(HY,(h),(818),(CanBeDisjoined))
	set trigger046=t
	set t=null
	return trigger046
endfunction

function MoveProjectileToXY_Move takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local real IF1=(LoadReal(HY,(h),(44)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real x=GetUnitX(IG1)
	local real y=GetUnitY(IG1)
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local real IH1=IF1*0.03
	local real IZ1=Func0159(x,y,QJI,QKI)
	local real IV1=x+IH1*Cos(IZ1*bj_DEGTORAD)
	local real IW1=y+IH1*Sin(IZ1*bj_DEGTORAD)
	call SetUnitX(IG1,IV1)
	call SetUnitY(IG1,IW1)
	if Func0168(QJI,QKI,IV1,IW1)<=IH1 then
		call KillUnit(IG1)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set IG1=null
	return false
endfunction

function DamageProjectile_Move takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real IF1=(LoadReal(HY,(h),(44)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real x=GetUnitX(IG1)
	local real y=GetUnitY(IG1)
	local real QJI=GetUnitX(target)
	local real QKI=GetUnitY(target)
	local real IH1=IF1*0.03
	local real IZ1=Func0159(x,y,QJI,QKI)
	local real IV1=x+IH1*Cos(IZ1*bj_DEGTORAD)
	local real IW1=y+IH1*Sin(IZ1*bj_DEGTORAD)
	call SetUnitX(IG1,IV1)
	call SetUnitY(IG1,IW1)
	call SetUnitFacing(IG1,IZ1)
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call KillUnit(IG1)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif Func0168(QJI,QKI,IV1,IW1)<=IH1 then
		call DamageTarget((LoadUnitHandle(HY,(h),(2))),target,(LoadInteger(HY,(h),(36))),(LoadReal(HY,(h),(20))))
		call KillUnit(IG1)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	return false
endfunction

function DelayedLocust_Helper takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	call UnitAddAbility((LoadUnitHandle(HY,(h),(26))),'Aloc')
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	return false
endfunction

function Func0186 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer Count=GetTriggerEvalCount(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real IT1=(LoadReal(HY,(h),(49)))
	local real SKI=IT1-(IT1-GetUnitDefaultScale(Hero))*Count/40
	if Count>40 or IsDead(Hero)then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call SetUnitScale(Hero,SKI,SKI,SKI)
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func0187 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real IP1=(LoadReal(HY,(h),(50)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.025,true)
	call TriggerAddCondition(t,Condition(function Func0186))
	set h=GetHandleId(t)
	call SaveReal(HY,(h),(49),((IP1)*1.0))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	set t=null
	set Hero=null
	return false
endfunction

function Func0188 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer Count=GetTriggerEvalCount(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real IU1=((LoadReal(HY,(h),(51)))-GetUnitDefaultScale(Hero))*Count/40
	local real SKI=GetUnitDefaultScale(Hero)+IU1
	if Count>40 or IsDead(Hero)then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call SetUnitScale(Hero,SKI,SKI,SKI)
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func0189 takes unit Hero,real dur,real SKI returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real OI1=SKI*GetUnitDefaultScale(Hero)
	local real IP1=OI1
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveReal(HY,(h),(50),((IP1)*1.0))
	call TriggerRegisterTimerEvent(t,dur,false)
	call TriggerAddCondition(t,Condition(function Func0187))
	if dur>3 then
		set t=CreateTrigger()
		call TriggerRegisterTimerEvent(t,0.025,true)
		call TriggerAddCondition(t,Condition(function Func0188))
		set h=GetHandleId(t)
		call SaveReal(HY,(h),(51),((OI1)*1.0))
		call SaveUnitHandle(HY,(h),(14),(Hero))
	else
		call SetUnitScale(Hero,IP1,IP1,IP1)
	endif
	set t=null
endfunction

function Func0190 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer OO1=(LoadInteger(HY,(h),(52)))
	if Hero!=null then
		call UnitRemoveAbility(Hero,OO1)
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	return false
endfunction

function Func0191 takes unit u,integer OO1,real dur returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call UnitAddAbilityPermanent(u,OO1)
	call TriggerRegisterTimerEvent(t,dur,false)
	call TriggerAddCondition(t,Condition(function Func0190))
	call SaveUnitHandle(HY,(h),(14),(u))
	call SaveInteger(HY,(h),(52),(OO1))
	set t=null
endfunction

function Func0192 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit u=(LoadUnitHandle(HY,(h),(53)))
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	call UnitShareVision(u,p,false)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set u=null
	set p=null
	return false
endfunction

function ShareUnitVisionTimed_Add takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit u=GetTriggerUnit()
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	call UnitShareVision(u,p,true)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func0192))
	call SavePlayerHandle(HY,(h),(54),(p))
	call SaveUnitHandle(HY,(h),(53),(u))
	set t=null
	set u=null
	set p=null
	return false
endfunction

function Func0193 takes nothing returns nothing
	set bj_groupCountUnits=bj_groupCountUnits+1
endfunction

function Func0194 takes group g returns integer
	set bj_groupCountUnits=0
	call ForGroup(g,function Func0193)
	return bj_groupCountUnits
endfunction

function Func0195 takes nothing returns nothing
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local fogmodifier fm=LoadFogModifierHandle(HY,h,42)
	call FogModifierStop(fm)
	call DestroyFogModifier(fm)
	call FlushChildHashtable(HY,h)
	call CleanTrigger(t)
	set t=null
endfunction

function Func0196 takes fogmodifier fm,real dur returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call FogModifierStart(fm)
	call SaveFogModifierHandle(HY,h,42,fm)
	call TriggerRegisterTimerEvent(t,dur,false)
	call TriggerAddAction(t,function Func0195)
	set t=null
endfunction

function Func0197 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer O91=(LoadInteger(HY,(h),(55)))
	local destructable d=Func0020(O91)
	if d!=null then
		call RemoveDestructable(d)
	endif
	call Func0022(O91)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set d=null
	set t=null
	return false
endfunction

function Func0198 takes destructable d,real dur returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,dur,false)
	call TriggerAddCondition(t,Condition(function Func0197))
	call SaveInteger(HY,(h),(55),(Func0023(d)))
	set t=null
endfunction

function Func0199 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer OO1=(LoadInteger(HY,(h),(52)))
	if Hero!=null and GetUnitAbilityLevel(Hero,OO1)>0 then
		call UnitRemoveAbility(Hero,OO1)
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	return false
endfunction

function Func0200 takes unit u,integer OO1,real dur returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,dur,false)
	call TriggerAddCondition(t,Condition(function Func0199))
	call SaveUnitHandle(HY,(h),(14),(u))
	call SaveInteger(HY,(h),(52),(OO1))
	set t=null
endfunction

function Func0201 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	call SetUnitAnimation((LoadUnitHandle(HY,(h),(53))),"stand")
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	return false
endfunction

function Func0202 takes unit u,real dur returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(53),(u))
	call TriggerRegisterTimerEvent(t,dur,false)
	call TriggerAddCondition(t,Condition(function Func0201))
	set t=null
endfunction

function Func0203 takes real dur,boolean OG1,real x,real y,real OH1,real OZ1,real OV1,real OW1,real OX1 returns nothing
	local real OY1
	local real OJ1
	local real OK1
	if(OZ1<=0 or OX1<=0 or OW1<=0)then
		return
	endif
	set OJ1=2.0*dur/OW1
	set OY1=2.0*OZ1/OX1
	set OK1=OH1/OZ1
	call TerrainDeformRipple(x,y,OZ1,OV1,R2I(dur*1000),1,OY1,OJ1,OK1,OG1)
endfunction

function ImitateBountyGain takes player p,unit u,integer g,boolean addReliable returns nothing
	local texttag t=CreateTextTag()
	call SetTextTagText(t,"+"+I2S(AddGold(p,g,addReliable)),0.025)
	call SetTextTagPosUnit(t,u,0)
	call SetTextTagColor(t,255,220,0,255)
	call SetTextTagVelocity(t,0,0.03)
	call SetTextTagVisibility(t,LocalPlayer==p)
	call SetTextTagFadepoint(t,2)
	call SetTextTagLifespan(t,3)
	call SetTextTagPermanent(t,false)
	set t=null
endfunction

function Func0205 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	call FlushChildHashtable(HY,(GetHandleId((LoadUnitHandle(HY,(h),(26))))))
	call ShowUnit((LoadUnitHandle(HY,(h),(26))),false)
	call RemoveUnit((LoadUnitHandle(HY,(h),(26))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	return false
endfunction

function Func0206 takes unit u,real d returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,d,false)
	call TriggerAddCondition(t,Condition(function Func0205))
	call SaveUnitHandle(HY,(h),(26),(u))
	set t=null
endfunction

function KillUnitTimed_Expire takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	call FlushChildHashtable(HY,(GetHandleId((LoadUnitHandle(HY,(h),(26))))))
	call ShowUnit((LoadUnitHandle(HY,(h),(26))),false)
	call KillUnit((LoadUnitHandle(HY,(h),(26))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	return false
endfunction

function HideUnitTimed_Expire takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	call FlushChildHashtable(HY,(GetHandleId((LoadUnitHandle(HY,(h),(26))))))
	call ShowUnit((LoadUnitHandle(HY,(h),(26))),false)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	return false
endfunction

function Func0207 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	call RemoveUnit((LoadUnitHandle(HY,(h),(26))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	return false
endfunction

function Func0208 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	call KillUnit((LoadUnitHandle(HY,(h),(26))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	return false
endfunction

function Func0209 takes unit u,real d returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,d,false)
	call TriggerAddCondition(t,Condition(function Func0208))
	call SaveUnitHandle(HY,(h),(26),(u))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,d+0.01,false)
	call TriggerAddCondition(t,Condition(function Func0207))
	call SaveUnitHandle(HY,(h),(26),(u))
	set t=null
endfunction

function Func0210 takes sound I11 returns nothing
	if I11!=null and booleans013[GetPlayerId(LocalPlayer)]==false then
		call StartSound(I11)
	endif
endfunction

function Func0211 takes sound I11,player PVI returns nothing
	if LocalPlayer==PVI and booleans013[GetPlayerId(PVI)]==false then
		call StartSound(I11)
	endif
endfunction

function Func0212 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))==false
endfunction

function Func0213 takes nothing returns nothing
	call Func0211(sound080,GetOwningPlayer(GetEnumUnit()))
endfunction

function Func0214 takes unit source,sound I11,real x,real y,real r returns nothing
	local group g=GetAvailableGroup()
	set tt_unit1=source
	set sound080=I11
	call GroupEnumUnitsInRange(g,x,y,r,Condition(function Func0212))
	call GroupRemoveUnit(g,source)
	call ForGroup(g,function Func0213)
	call KillGroup(g)
	set g=null
endfunction

function Func0215 takes unit SWI,item AO1 returns integer
	local integer i=0
	loop
		exitwhen i>5
		if UnitItemInSlot(SWI,i)==AO1 then
			return i
		endif
		set i=i+1
	endloop
	return-1
endfunction

function DelayedSetUnitPosition_Helper takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit SWI=(LoadUnitHandle(HY,(h),(56)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	call SetUnitPosition(SWI,x,y)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set SWI=null
	return false
endfunction

function Func0216 takes real n1,real n2 returns integer
	if n1/n2-R2I(n1/n2)>=0.5 then
		return R2I(n1/n2)+1
	endif
	return R2I(n1/n2)
endfunction

function Func0217 takes player p returns nothing
	if LocalPlayer==p then
		call ClearTextMessages()
	endif
endfunction

function Func0218 takes unit u,real d returns nothing
	call SetUnitState(u,UNIT_STATE_LIFE,Func0134(GetUnitState(u,UNIT_STATE_LIFE)-d,1))
endfunction

function Func0219 takes integer A61 returns nothing
	local unit u=CreateUnit(Player(15),A61,0,0,0)
	call RemoveUnit(u)
	set u=null
endfunction

function Func0220 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit u=(LoadUnitHandle(HY,(h),(53)))
	local real dur=(LoadReal(HY,(h),(57)))
	local integer A81=(LoadInteger(HY,(h),(58)))
	if GetTriggerEvalCount(t)/10>R2I(dur)then
		call SetUnitVertexColor(u,255,100,255,255)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif IsDead(u)==false then
		call SetUnitVertexColor(u,255,100,255,A81)
	endif
	set t=null
	set u=null
	return false
endfunction

function Func0221 takes unit u,real dur,integer A81 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func0220))
	call SaveUnitHandle(HY,(h),(53),(u))
	call SaveReal(HY,(h),(57),((dur)*1.0))
	call SaveInteger(HY,(h),(58),(A81))
	set t=null
endfunction

function DistribGoldToPlayerForUnit takes player p,integer g,unit u returns nothing
	local texttag t=CreateTextTag()
	local string s="UI\\Feedback\\GoldCredit\\GoldCredit.mdl"
	call SetTextTagText(t,"+"+I2S(AddGold(p,g,false)),0.025)
	call SetTextTagPosUnit(t,u,0)
	call SetTextTagColor(t,255,220,0,255)
	call SetTextTagVelocity(t,0,0.03)
	if LocalPlayer!=p then
		call SetTextTagVisibility(t,false)
		set s=""
	endif
	call SetTextTagVisibility(t,LocalPlayer==p)
	if GetWidgetLife(u)>0.5 then
		call DestroyEffect(AddSpecialEffectTarget(s,u,"overhead"))
	endif
	call SetTextTagFadepoint(t,2)
	call SetTextTagLifespan(t,3)
	call SetTextTagPermanent(t,false)
	set t=null
endfunction

function Func0223 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer AF1=(LoadInteger(HY,(h),(59)))
	if UnitRemoveAbility(target,AF1) or GetUnitAbilityLevel(target,AF1)==0 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	return false
endfunction

function Func0224 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer AF1=(LoadInteger(HY,(h),(59)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if UnitRemoveAbility(target,AF1)==false then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func0223))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveInteger(HY,(h),(59),(AF1))
	endif
	set t=null
	set target=null
	return false
endfunction

function Func0225 takes unit target,integer AF1,integer lvl,real dur returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call UnitAddAbilityPermanent(target,AF1)
	call SetUnitAbilityLevel(target,AF1,lvl)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerRegisterTimerEvent(t,dur,false)
	call TriggerAddCondition(t,Condition(function Func0224))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(59),(AF1))
	set t=null
endfunction

function Func0226 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer AF1=(LoadInteger(HY,(h),(59)))
	local integer AV1=(LoadInteger(HY,(h),(59)))
	call UnitRemoveAbility(target,AV1)
	if UnitRemoveAbility(target,AF1) or GetUnitAbilityLevel(target,AF1)==0 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	return false
endfunction

function Func0227 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer AF1=(LoadInteger(HY,(h),(59)))
	local integer AV1=(LoadInteger(HY,(h),(60)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call UnitRemoveAbility(target,AV1)
	if UnitRemoveAbility(target,AF1)==false then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func0226))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveInteger(HY,(h),(59),(AF1))
		call SaveInteger(HY,(h),(60),(AV1))
	endif
	set t=null
	set target=null
	return false
endfunction

function Func0228 takes unit target,integer AF1,integer lvl,real dur,integer AV1 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call UnitAddAbilityPermanent(target,AF1)
	call SetUnitAbilityLevel(target,AF1,lvl)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerRegisterTimerEvent(t,dur,false)
	call TriggerAddCondition(t,Condition(function Func0227))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(59),(AF1))
	call SaveInteger(HY,(h),(60),(AV1))
	set t=null
endfunction

function Func0229 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer AJ1=(LoadInteger(HY,(h),(61)))
	local integer AK1=(LoadInteger(HY,(h),(62)))
	local unit u1=UnitAsInteger_Load(AJ1)
	local unit u2=UnitAsInteger_Load(AK1)
	local real dur=(LoadReal(HY,(h),(57)))
	local lightning UZI=(LoadLightningHandle(HY,(h),(41)))
	if I2R(GetTriggerEvalCount(t))*0.025>dur then
		call DestroyLightning(UZI)
		call UnitAsInteger_Clear(AJ1)
		call UnitAsInteger_Clear(AK1)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call MoveLightning(UZI,true,GetUnitX(u1),GetUnitY(u1),GetUnitX(u2),GetUnitY(u2))
	endif
	set t=null
	set u1=null
	set u2=null
	set UZI=null
	return false
endfunction

function Func0230 takes string UHI,unit u1,unit u2,real r,real g,real b,real a,real dur returns nothing
	local real x1=GetUnitX(u1)
	local real y1=GetUnitY(u1)
	local real x2=GetUnitX(u2)
	local real y2=GetUnitY(u2)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local lightning UZI=AddLightning(UHI,true,x1,y1,x2,y2)
	call SetLightningColor(UZI,r,g,b,a)
	call SaveLightningHandle(HY,(h),(41),(UZI))
	call SaveInteger(HY,(h),(61),(Func0021(u1)))
	call SaveInteger(HY,(h),(62),(Func0021(u2)))
	call SaveReal(HY,(h),(57),((dur)*1.0))
	call TriggerRegisterTimerEvent(t,0.025,true)
	call TriggerAddCondition(t,Condition(function Func0229))
	set t=null
	set UZI=null
endfunction

function Func0231 takes string AN1 returns nothing
	local sound AS1=CreateSound(AN1,false,false,false,10,10,"")
	call SetSoundVolume(AS1,0)
	call StartSound(AS1)
	call KillSoundWhenDone(AS1)
	set AS1=null
endfunction

function Func0232 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local ubersplat AR1=(LoadUbersplatHandle(HY,(h),(131)))
	call DestroyUbersplat(AR1)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set AR1=null
	return false
endfunction

function Func0233 takes ubersplat AR1,real d returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveUbersplatHandle(HY,(h),(131),(AR1))
	call TriggerRegisterTimerEvent(t,d,false)
	call TriggerAddCondition(t,Condition(function Func0232))
	set t=null
endfunction

function Func0234 takes nothing returns nothing
	local real d=Func0141(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),real007,real008)
	if d<real006 then
		set real006=d
		set unit123=GetEnumUnit()
	endif
endfunction

function Func0235 takes group g,real x,real y returns unit
	set real006=999999
	set unit123=null
	set real007=x
	set real008=y
	call ForGroup(g,function Func0234)
	return unit123
endfunction

function Func0236 takes integer aid returns nothing
	local integer i=0
	loop
		exitwhen i>5
		call SetPlayerAbilityAvailable(Sentinels[i],aid,false)
		call SetPlayerAbilityAvailable(Scourges[i],aid,false)
		set i=i+1
	endloop
endfunction

function Func0237 takes integer id returns nothing
	local integer i=0
	loop
		exitwhen i>12
		call SetPlayerAbilityAvailable(Player(i),id,false)
		set i=i+1
	endloop
endfunction

function DodgeSystem takes nothing returns nothing
	call AddTimedKeyToUnit(GetTriggerUnit(),4422,0.2)
endfunction

function Func0238 takes nothing returns boolean
	if GetSpellAbilityId()=='A063' or GetSpellAbilityId()=='A03O' or GetSpellAbilityId()=='A0B8' or GetSpellAbilityId()=='A1WE' or GetSpellAbilityId()=='Aibk' or GetSpellAbilityId()=='A2FV' or GetSpellAbilityId()=='A0ME' then
		call AddTimedKeyToUnit(GetTriggerUnit(),4422,0.2)
	endif
	return false
endfunction

function Func0239 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call SetUnitPathing(source,true)
	set t=null
	set source=null
	return false
endfunction

function Func0240 takes unit source returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,5,false)
	call TriggerAddCondition(t,Condition(function Func0239))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SetUnitPathing(source,false)
	set t=null
endfunction

function Func0241 takes nothing returns nothing
	set region003=CreateRegion()
	call RegionAddRect(region003,rect044)
	set region005=CreateRegion()
	call RegionAddRect(region005,rect045)
	set region002=CreateRegion()
	call RegionAddRect(region002,rect063)
	call RegionAddRect(region002,rect064)
	call RegionAddRect(region002,rect065)
	set region004=CreateRegion()
	call RegionAddRect(region004,rect066)
	call RegionAddRect(region004,rect067)
	call RegionAddRect(region004,rect068)
	set region006=CreateRegion()
	call RegionAddRect(region006,rect069)
	call RegionAddRect(region006,rect070)
	call RegionAddRect(region006,rect071)
	call RegionAddRect(region006,rect072)
	call RegionAddRect(region006,rect073)
	call RegionAddRect(region006,rect074)
	call RegionAddRect(region006,rect075)
	call RegionAddRect(region006,rect076)
	call RegionAddRect(region006,rect077)
	call RegionAddRect(region006,rect078)
	call RegionAddRect(region006,rect079)
	call RegionAddRect(region006,rect080)
	call RegionAddRect(region006,rect081)
	call RegionAddRect(region006,rect082)
	call RegionAddRect(region006,rect083)
	call RegionAddRect(region006,rect084)
	call RegionAddRect(region006,rect085)
	call RegionAddRect(region006,rect086)
	call RegionAddRect(region006,rect087)
	call RegionAddRect(region006,rect088)
	call RegionAddRect(region006,rect089)
	call RegionAddRect(region006,rect090)
	call RegionAddRect(region006,rect091)
	call RegionAddRect(region006,rect092)
	call RegionAddRect(region006,rect093)
	call RegionAddRect(region006,rect094)
	call RegionAddRect(region006,rect095)
	call RegionAddRect(region006,rect096)
	call RegionAddRect(region006,rect097)
	call RegionAddRect(region006,rect098)
	call RegionAddRect(region006,rect099)
	call RegionAddRect(region006,rect100)
	call RegionAddRect(region006,rect101)
	call RegionAddRect(region006,rect102)
	call RegionAddRect(region006,rect103)
	call RegionAddRect(region006,rect104)
	call RegionAddRect(region006,rect105)
	call RegionAddRect(region006,rect106)
	call RegionAddRect(region006,rect107)
	call RegionAddRect(region006,rect108)
	call RegionAddRect(region006,rect109)
	call RegionAddRect(region006,rect110)
	call RegionAddRect(region006,rect111)
	call RegionAddRect(region006,rect112)
	call RegionAddRect(region006,rect113)
	call RegionAddRect(region006,rect114)
	call RegionAddRect(region006,rect115)
	call RegionAddRect(region006,rect116)
	call RegionAddRect(region006,rect117)
	call RegionAddRect(region006,rect118)
	call RegionAddRect(region006,rect119)
	call RegionAddRect(region006,rect120)
	call RegionAddRect(region006,rect121)
	call RegionAddRect(region006,rect122)
	call RegionAddRect(region006,rect123)
	call RegionAddRect(region006,rect124)
	call RegionAddRect(region006,rect125)
	call RegionAddRect(region006,rect126)
	call RegionAddRect(region006,rect127)
	call RegionAddRect(region006,rect128)
	call RegionAddRect(region006,rect129)
	call RegionAddRect(region006,rect130)
	call RegionAddRect(region006,rect131)
	call RegionAddRect(region006,rect132)
	call RegionAddRect(region006,rect133)
	call RegionAddRect(region006,rect134)
	call RegionAddRect(region006,rect135)
	call RegionAddRect(region006,rect136)
	call RegionAddRect(region006,rect137)
	call RegionAddRect(region006,rect138)
	call RegionAddRect(region006,rect139)
	call RegionAddRect(region006,rect140)
	call RegionAddRect(region006,rect141)
	call RegionAddRect(region006,rect142)
	call RegionAddRect(region006,rect143)
	call RegionAddRect(region006,rect144)
	call RegionAddRect(region006,rect145)
	call RegionAddRect(region006,rect146)
	call RegionAddRect(region006,rect147)
	call RegionAddRect(region006,rect148)
	call RegionAddRect(region006,rect149)
	call RegionAddRect(region006,rect150)
	call RegionAddRect(region006,rect151)
	call RegionAddRect(region006,rect152)
	call RegionAddRect(region006,rect153)
	call RegionAddRect(region006,rect154)
	call RegionAddRect(region006,rect155)
	call RegionAddRect(region006,rect156)
	call RegionAddRect(region006,rect157)
	call RegionAddRect(region006,rect158)
	call RegionAddRect(region006,rect159)
	call RegionAddRect(region006,rect160)
	call RegionAddRect(region006,rect161)
	call RegionAddRect(region006,rect162)
	call RegionAddRect(region006,rect163)
	set region007=CreateRegion()
	call RegionAddRect(region007,rect214)
	call RegionAddRect(region007,rect215)
	call RegionAddRect(region007,rect216)
	call RegionAddRect(region007,rect217)
endfunction

function InitTrig_Regions takes nothing returns nothing
	call Func0241()
endfunction

function Func0242 takes unit B71 returns boolean
	return GetUnitTypeId(B71)=='n004' or GetUnitTypeId(B71)=='n018' or GetUnitTypeId(B71)=='n01C' or GetUnitTypeId(B71)=='n01G'
endfunction

function Func0243 takes integer id returns boolean
	return id=='N00M' or id=='H07G' or id=='H00Y' or id=='H0B8'
endfunction

function Func0244 takes player p returns nothing
	local unit Hero=Players_Hero[GetPlayerId(p)]
	local integer i=0
	local item BA1
	loop
		exitwhen i>5
		set BA1=UnitItemInSlot(Hero,i)
		call SetItemDroppable(BA1,false)
		set i=i+1
	endloop
	set Hero=null
	set BA1=null
endfunction

function Func0245 takes player p returns nothing
	local unit Hero=Players_Hero[GetPlayerId(p)]
	local integer i=0
	local item BA1
	loop
		exitwhen i>5
		set BA1=UnitItemInSlot(Hero,i)
		call SetItemDroppable(BA1,true)
		set i=i+1
	endloop
	set Hero=null
	set BA1=null
endfunction

function Func0246 takes unit u returns boolean
	return GetUnitAbilityLevel(u,'Aetl')>0 or GetUnitAbilityLevel(u,'Bcyc')>0 or GetUnitAbilityLevel(u,'Bcy2')>0 or GetUnitAbilityLevel(u,'B01N')>0
endfunction

function Func0247 takes unit u returns boolean
	return(GetUnitAbilityLevel((u),('BEer'))>0)or(GetUnitAbilityLevel((u),('B017'))>0)or(GetUnitAbilityLevel((u),('B0ER'))>0)
endfunction

function Func0248 takes unit u returns boolean
	return(GetUnitAbilityLevel((u),('B0C1'))>0)or(GetUnitAbilityLevel((u),('BEer'))>0)or(GetUnitAbilityLevel((u),('Beng'))>0)or(GetUnitAbilityLevel((u),('Bena'))>0)or(GetUnitAbilityLevel((u),('B017'))>0)or(GetUnitAbilityLevel((u),('B078'))>0)or(GetUnitAbilityLevel((u),('B08F'))>0)or(GetUnitAbilityLevel((u),('B08E'))>0)or(GetUnitAbilityLevel((u),('B0ER'))>0)or(GetUnitAbilityLevel((u),('B0FN'))>0)
endfunction

function Func0249 takes unit u returns nothing
	call UnitRemoveAbility(u,'B0C1')
	call UnitRemoveAbility(u,'BEer')
	call UnitRemoveAbility(u,'Beng')
	call UnitRemoveAbility(u,'Bena')
	call UnitRemoveAbility(u,'B017')
	call UnitRemoveAbility(u,'B078')
	call UnitRemoveAbility(u,'B08F')
	call UnitRemoveAbility(u,'B08E')
	call UnitRemoveAbility(u,'B0ER')
	call UnitRemoveAbility(u,'B0FN')
endfunction

function Func0250 takes unit u returns boolean
	return(GetUnitAbilityLevel((u),('B00H'))>0)or(GetUnitAbilityLevel((u),('BOhx'))>0)or(GetUnitAbilityLevel((u),('BPSE'))>0)or(GetUnitAbilityLevel((u),('B099'))>0)or(GetUnitAbilityLevel((u),('BSTN'))>0)or(GetUnitAbilityLevel((u),('B0CF'))>0)or(GetUnitAbilityLevel((u),('B0BM'))>0)or(GetUnitAbilityLevel((u),('B06M'))>0)or(GetUnitAbilityLevel((u),('B07N'))>0)or(GetUnitAbilityLevel((u),('B08S'))>0)or(GetUnitAbilityLevel((u),('B00Q'))>0)or(GetUnitAbilityLevel((u),('B04V'))>0)or(GetUnitAbilityLevel((u),('B072'))>0)or(GetUnitAbilityLevel((u),('BUan'))>0)or(GetUnitAbilityLevel((u),('B095'))>0)or(GetUnitAbilityLevel((u),('B03I'))>0)or(GetUnitAbilityLevel((u),('B0AD'))>0)or(GetUnitAbilityLevel((u),('B0AE'))>0)or(GetUnitAbilityLevel((u),('B0BE'))>0)or(GetUnitAbilityLevel((u),('B0BF'))>0)or(GetUnitAbilityLevel((u),('B008'))>0)or(GetUnitAbilityLevel((u),('B04B'))>0)or(GetUnitAbilityLevel((u),('B02F'))>0)or(GetUnitAbilityLevel((u),('BUsp'))>0)or(GetUnitAbilityLevel((u),('BUst'))>0)or(GetUnitAbilityLevel((u),('B0DD'))>0)or((LoadInteger(HY,(GetHandleId((u))),((4293))))==1) or((LoadInteger(HY,(GetHandleId((u))),((4303))))==1)or(GetUnitAbilityLevel((u),('B0C2'))>0)or(GetUnitAbilityLevel((u),('B06S'))>0)or(GetUnitAbilityLevel((u),('B02S'))>0)or(GetUnitAbilityLevel((u),('B07E'))>0)
endfunction

function Func0251 takes unit u returns boolean
	return Func0250(u)or Func0248(u)or IsUnitPaused(u)or Func0101(u)
endfunction

function Func0252 takes integer id returns boolean
	return id=='A0DY' or id=='A1WB' or id=='A026' or id=='A09V' or id=='AHfa' or id=='A0LZ' or id=='A0QN' or id=='A0OI' or id=='A2UM'
endfunction

function Func0253 takes unit u returns boolean
	return Func0247(u)or(GetUnitAbilityLevel((u),('B01N'))>0)or GetUnitAbilityLevel(u,'Aetl')>0 or GetUnitAbilityLevel(u,'Abun')>0 or(GetUnitAbilityLevel((u),('B033'))>0)or(GetUnitAbilityLevel((u),('B0GD'))>0)
endfunction

function Func0254 takes integer Minutes,integer Seconds,boolean extraColor returns nothing
	local integer x=0
	loop
		exitwhen x>15
		call SetPlayerState(Player(x),PLAYER_STATE_RESOURCE_LUMBER,Minutes)
		call SetPlayerState(Player(x),PLAYER_STATE_RESOURCE_FOOD_USED,Seconds)
		set x=x+1
	endloop
endfunction

function Func0255 takes unit u returns boolean
	local integer id=GetUnitTypeId(u)
	return id=='n027' or id=='u014' or id=='u015' or id=='u016' or id=='u01D' or id=='u01E' or id=='u01F' or id=='u017' or id=='u019' or id=='u018' or id=='u01A' or id=='u01B' or id=='u01C'
endfunction

function SetUnitInvul takes unit u,boolean b returns nothing
	if b then
		call UnitAddAbility(u,'Avul')
	else
		call UnitRemoveAbility(u,'Avul')
	endif
endfunction

function Func0257 takes unit u returns boolean
	return GetUnitAbilityLevel(u,'Avul')>0
endfunction

function Func0258 takes unit u returns boolean
	return((LoadInteger(HY,(GetHandleId((u))),((4420))))==1)or((LoadInteger(HY,(GetHandleId((u))),((4421))))==1)
endfunction

function Func0259 takes real x,real y returns location
	local real IV1
	local real IW1
	local integer i=0
	loop
		exitwhen i>40
		set IV1=x+i*20
		set IW1=y+i*20
		if IsPointInRegion(region006,IV1,IW1)==false then
			return Location(IV1,IW1)
		endif
		set IV1=x+i*20
		set IW1=y-i*20
		if IsPointInRegion(region006,IV1,IW1)==false then
			return Location(IV1,IW1)
		endif
		set IV1=x-i*20
		set IW1=y+i*20
		if IsPointInRegion(region006,IV1,IW1)==false then
			return Location(IV1,IW1)
		endif
		set IV1=x-i*20
		set IW1=y-i*20
		if IsPointInRegion(region006,IV1,IW1)==false then
			return Location(IV1,IW1)
		endif
		set i=i+1
	endloop
	return Location(x,y)
endfunction

function Func0260 takes unit u returns nothing
	call UnitRemoveAbility(u,'Abun')
	call SaveInteger(HY,(GetHandleId(u)),(790),(0))
endfunction

function Func0261 takes unit u returns nothing
	local integer h=GetHandleId(u)
	local integer BR1=(LoadInteger(HY,(h),(790)))
	call UnitAddAbilityPermanent(u,'Abun')
	set BR1=BR1+1
	call SaveInteger(HY,(h),(790),(BR1))
endfunction

function Func0262 takes unit u returns nothing
	local integer h=GetHandleId(u)
	local integer BR1=(LoadInteger(HY,(h),(790)))
	set BR1=IMaxBJ(BR1-1,0)
	call SaveInteger(HY,(h),(790),(BR1))
	if BR1==0 then
		call Func0260(u)
	endif
endfunction

function Func0263 takes unit u returns boolean
	if u==unit186 then
		return true
	endif
	if u==unit187 then
		return true
	endif
	if u==unit188 then
		return true
	endif
	if u==unit189 then
		return true
	endif
	if u==unit190 then
		return true
	endif
	if u==unit191 then
		return true
	endif
	if u==unit192 then
		return true
	endif
	if u==unit193 then
		return true
	endif
	if u==unit194 then
		return true
	endif
	if u==unit195 then
		return true
	endif
	if u==unit196 then
		return true
	endif
	if u==unit197 then
		return true
	endif
	if u==unit198 then
		return true
	endif
	if u==unit199 then
		return true
	endif
	if u==unit200 then
		return true
	endif
	if u==unit201 then
		return true
	endif
	if u==unit202 then
		return true
	endif
	if u==unit142 then
		return true
	endif
	if u==unit143 then
		return true
	endif
	if u==unit144 then
		return true
	endif
	if u==unit145 then
		return true
	endif
	if u==unit146 then
		return true
	endif
	if u==unit147 then
		return true
	endif
	if u==unit148 then
		return true
	endif
	if u==unit149 then
		return true
	endif
	if u==unit150 then
		return true
	endif
	if u==unit151 then
		return true
	endif
	if u==unit152 then
		return true
	endif
	if u==unit153 then
		return true
	endif
	if u==unit154 then
		return true
	endif
	if u==unit155 then
		return true
	endif
	if u==unit156 then
		return true
	endif
	if u==unit157 then
		return true
	endif
	if u==unit158 then
		return true
	endif
	return false
endfunction

function Func0264 takes unit u returns boolean
	return GetUnitAbilityLevel(u,'B068')>0 or GetUnitAbilityLevel(u,'B07T')>0 or GetUnitAbilityLevel(u,'B076')>0 or GetUnitAbilityLevel(u,'BOwk')>0 or GetUnitAbilityLevel(u,'B04R')>0 or GetUnitAbilityLevel(u,'B0A5')>0 or GetUnitAbilityLevel(u,'B01Q')>0 or GetUnitAbilityLevel(u,'B006')>0 or GetUnitAbilityLevel(u,'Binv')>0 or GetUnitAbilityLevel(u,'Apiv')>0 or GetUnitAbilityLevel(u,'A021')>0 or GetUnitAbilityLevel(u,'A0K4')>0 or GetUnitAbilityLevel(u,'A0XB')>0 or GetUnitAbilityLevel(u,'A0Z2')>0 or GetUnitAbilityLevel(u,'A1GA')>0 or GetUnitAbilityLevel(u,'A1HW')>0 or GetUnitAbilityLevel(u,'A1HX')>0 or GetUnitAbilityLevel(u,'A00J')>0 or GetUnitAbilityLevel(u,'B08K')>0 or GetUnitAbilityLevel(u,'B08X')>0 or GetUnitAbilityLevel(u,'B039')>0 or GetUnitAbilityLevel(u,'B00K')>0 or GetUnitAbilityLevel(u,'BHfs')>0 or GetUnitAbilityLevel(u,'A140')>0 or GetUnitAbilityLevel(u,'B021')>0 or GetUnitAbilityLevel(u,'A0ZD')>0 or GetUnitAbilityLevel(u,'A0KT')>0 or GetUnitAbilityLevel(u,'B0G8')>0 or GetUnitAbilityLevel(u,'A2T0')>0 or GetUnitAbilityLevel(u,'A2SZ')>0
endfunction

function Func0265 takes unit u,player p returns boolean
	return Func0264(u)==false or IsUnitVisible(GetFilterUnit(),p)
endfunction

function Func0266 takes unit SWI returns boolean
	local integer C11=GetUnitTypeId(SWI)
	return C11=='n004' or C11=='n01G' or C11=='n01C' or C11=='n018' or C11=='e00K' or C11=='e00I' or C11=='e00L' or C11=='e01J'
endfunction

function Func0267 takes nothing returns boolean
	return GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitStructure(GetFilterUnit())==false and IsDead(GetFilterUnit())==false
endfunction

function GenericCondition_BasicsWithSiege takes nothing returns boolean
	return(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 or(GetUnitTypeId(GetFilterUnit())=='umtw' or GetUnitTypeId(GetFilterUnit())=='u00R' or GetUnitTypeId(GetFilterUnit())=='ebal' or GetUnitTypeId(GetFilterUnit())=='e026'))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false
endfunction

function Func0268 takes nothing returns boolean
	return(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and GetUnitAbilityLevel(GetFilterUnit(),'A1RB')==0
endfunction

function GenericCondition_BasicsAndVisible takes nothing returns boolean
	return(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction

function GenericCondition_BasicsAndStructure takes nothing returns boolean
	return GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit())==false
endfunction

function GenericCondition_Structure takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE) and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit())==false
endfunction

function GenericCondition_EnemyUnitsExNoImmuneNoInvisAndStructure takes nothing returns boolean
	return Func0091(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1))and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function Func0269 takes nothing returns boolean
	return Func0091(GetFilterUnit())==false and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function GenericCondition_EnemyUnitsExNoImmuneNoInvisAndStructureWithAncient takes nothing returns boolean
	return Func0091(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1))and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit())==false)
endfunction

function GenericCondition_EnemyUnitsExNoInvisAndStructureWithAncient takes nothing returns boolean
	return IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1))and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit())==false)
endfunction

function Func0270 takes nothing returns boolean
	return IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitTypeId(GetFilterUnit())=='ebal' or GetUnitTypeId(GetFilterUnit())=='umtw')
endfunction

function Func0271 takes nothing returns boolean
	return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function GenericCondition_EnemyUnitsVisible takes nothing returns boolean
	return(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction

function GenericCondition_EnemyUnitsAndVisibleOrWW takes nothing returns boolean
	return(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))or Func0264(GetFilterUnit()))
endfunction

function Func0272 takes nothing returns boolean
	return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)
endfunction

function Func0273 takes nothing returns boolean
	return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and((GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 or(GetUnitTypeId(GetFilterUnit())=='umtw' or GetUnitTypeId(GetFilterUnit())=='u00R' or GetUnitTypeId(GetFilterUnit())=='ebal' or GetUnitTypeId(GetFilterUnit())=='e026'))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)
endfunction

function Func0274 takes nothing returns boolean
	return IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1))
endfunction

function Func0275 takes nothing returns boolean
	return IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(Func0264(GetFilterUnit())==false or IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1)))
endfunction

function DefaultEnemyFilterWithAncients takes nothing returns boolean
	return IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function GenericCondition_EnemyUnitsExHeroesVision takes nothing returns boolean
	return(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1))
endfunction

function Func0277 takes nothing returns boolean
	return(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)
endfunction

function Func0278 takes nothing returns boolean
	return(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) or IsUnitIllusion(GetFilterUnit()))
endfunction

function GenericCondition_EnemyUnitsExHeroesNoDotaInvis takes nothing returns boolean
	return((IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and Func0264(GetFilterUnit())==false
endfunction

function GenericCondition_EnemyUnitsExHeroesNoDotaInvis2 takes nothing returns boolean
	return((IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(Func0264(GetFilterUnit())==false or IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1)))
endfunction

function GenericCondition_EnemyUnitsExNoHeroes takes nothing returns boolean
	return(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false
endfunction

function Func0279 takes nothing returns boolean
	return(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),'A1RB')==0
endfunction

function Func0280 takes nothing returns boolean
	return Func0091(GetFilterUnit())==false and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function Func0281 takes nothing returns boolean
	return Func0091(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1))and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function GenericCondition_EnemyUnitsExNoImmuneNoInvisWithAncient takes nothing returns boolean
	return Func0091(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1))and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)
endfunction

function GenericCondition_EnemyUnitsExNoImmuneWithAncient takes nothing returns boolean
	return Func0091(GetFilterUnit())==false and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)
endfunction

function Func0282 takes nothing returns boolean
	return IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1))and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)
endfunction

function Func0283 takes nothing returns boolean
	return IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)
endfunction

function GenericCondition_EnemyUnitsNoNeutrals takes nothing returns boolean
	return IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and GetOwningPlayer(GetFilterUnit())!=Neutrals
endfunction

function Func0284 takes nothing returns boolean
	return IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function Func0285 takes nothing returns boolean
	return IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit())==false)
endfunction

function Func0286 takes nothing returns boolean
	return IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function Func0287 takes nothing returns boolean
	return IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE) and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function Func0288 takes nothing returns boolean
	return(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false
endfunction

function Func0289 takes nothing returns boolean
	return Func0091(GetFilterUnit())==false and(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))
endfunction

function GenericCondition_EnemyUnitsAndStructureWithAncientsEx takes nothing returns boolean
	return IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit())==false)
endfunction

function Func0290 takes nothing returns boolean
	return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function Func0291 takes nothing returns boolean
	return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)
endfunction

function Func0292 takes nothing returns boolean
	return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and Func0053(GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)
endfunction

function Func0293 takes nothing returns boolean
	return IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))==false and Func0053(GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)
endfunction

function Func0294 takes nothing returns boolean
	return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)
endfunction

function Func0295 takes nothing returns boolean
	return IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function Func0296 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function GenericCondition_MyUnitsEx takes nothing returns boolean
	return GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(tt_unit1)and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function GenericCondition_MyUnits takes nothing returns boolean
	return GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function Func0297 takes nothing returns boolean
	return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) or GetOwningPlayer(GetFilterUnit())==Sentinels[0]or GetOwningPlayer(GetFilterUnit())==Scourges[0])and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function Func0298 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function Func0299 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function Func0300 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit())) and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function Func0301 takes nothing returns boolean
	return Func0091(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit())) and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))
endfunction

function Func0302 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit())) and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction

function Func0303 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit())) and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function GenericCondition_EnemyHeroesExNoDotAInvis takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit())) and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)or Func0264(GetEnumUnit())
endfunction

function Func0304 takes nothing returns boolean
	return Func0091(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit())) and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))
endfunction

function GenericCondition_AllUnits takes nothing returns boolean
	return(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function Func0305 takes nothing returns boolean
	return((GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),'A1RB')==0
endfunction

function GenericCondition_AllNonNeutrals takes nothing returns boolean
	return(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and GetOwningPlayer(GetFilterUnit())!=Neutrals
endfunction

function Func0306 takes nothing returns boolean
	return(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)
endfunction

function Func0307 takes nothing returns boolean
	return(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function Func0308 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and GetTriggerUnit()!=GetFilterUnit()and IsUnitIllusion(GetFilterUnit())==false
endfunction

function GenericCondition_AllHeroesAndIllusions takes nothing returns boolean
	return(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) or IsUnitIllusion(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function GenericCondition_Hero takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)
endfunction

function GenericCondition_EnemyUnitsExVisible takes nothing returns boolean
	return(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1))
endfunction

function Func0309 takes nothing returns boolean
	return((IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1)))and GetUnitTypeId(GetFilterUnit())!='n0F5'
endfunction

function GenericCondition_EnemyUnitsExNoWW takes nothing returns boolean
	return(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1))or(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1))==false and Func0264(GetFilterUnit()))==false)
endfunction

function GenericCondition_EnemyUnitsExVisibleAttackable takes nothing returns boolean
	return((IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1)))and Func0246(GetFilterUnit())==false
endfunction

function GenericCondition_EnemyUnitsExVisibleAttackableNoZombie takes nothing returns boolean
	return(((IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1)))and Func0246(GetFilterUnit())==false)and GetUnitTypeId(GetFilterUnit())!='n0F5'
endfunction

function GenericCondition_RegularUnits takes nothing returns boolean
	return(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))
endfunction

function GenericCondition_RegularUnitsExVisible takes nothing returns boolean
	return((GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1))
endfunction

function Func0310 takes nothing returns boolean
	return Func0091(GetFilterUnit())==false and((GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1))
endfunction

function Func0311 takes nothing returns boolean
	return GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit()) and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false and GetUnitTypeId(GetFilterUnit())!='n0F5'
endfunction

function GenericCondition_FloatingHeroes takes nothing returns boolean
	return GetUnitTypeId(GetFilterUnit())=='H00E' or GetUnitTypeId(GetFilterUnit())=='H00G' or GetUnitTypeId(GetFilterUnit())=='H00F' or GetUnitTypeId(GetFilterUnit())=='E00P' or GetUnitTypeId(GetFilterUnit())=='N00B' or GetUnitTypeId(GetFilterUnit())=='UC60' or GetUnitTypeId(GetFilterUnit())=='EC77' or GetUnitTypeId(GetFilterUnit())=='U00P' or GetUnitTypeId(GetFilterUnit())=='E02N' or GetUnitTypeId(GetFilterUnit())=='E02O' or GetUnitTypeId(GetFilterUnit())=='O016' or GetUnitTypeId(GetFilterUnit())=='O017' or GetUnitTypeId(GetFilterUnit())=='E02F' or GetUnitTypeId(GetFilterUnit())=='H0DO' or GetUnitTypeId(GetFilterUnit())=='N0M7' or GetUnitTypeId(GetFilterUnit())=='N0MB' or GetUnitTypeId(GetFilterUnit())=='N0MC' or GetUnitTypeId(GetFilterUnit())=='N0MO' or GetUnitTypeId(GetFilterUnit())=='N0MA' or GetUnitTypeId(GetFilterUnit())=='N0MW'
endfunction

function Func0312 takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(tt_unit1)) and GetTowerLevel(GetFilterUnit())>0
endfunction

function Func0313 takes real DC1 returns integer
	if DC1>=4.00 then
		return 24
	elseif DC1>=3.75 then
		return 23
	elseif DC1>=3.5 then
		return 22
	elseif DC1>=3.25 then
		return 21
	elseif DC1>=3 then
		return 20
	elseif DC1>=2.8 then
		return 19
	elseif DC1>=2.75 then
		return 18
	elseif DC1>=2.6 then
		return 17
	elseif DC1>=2.5 then
		return 16
	elseif DC1>=2.4 then
		return 15
	elseif DC1>=2.25 then
		return 14
	elseif DC1>=2.2 then
		return 13
	elseif DC1>=2 then
		return 12
	elseif DC1>=1.8 then
		return 11
	elseif DC1>=1.75 then
		return 10
	elseif DC1>=1.65 then
		return 9
	elseif DC1>=1.5 then
		return 8
	elseif DC1>=1.4 then
		return 7
	elseif DC1>=1.25 then
		return 6
	elseif DC1>=1.2 then
		return 5
	elseif DC1>=1 then
		return 4
	elseif DC1>=0.75 then
		return 3
	elseif DC1>=0.5 then
		return 2
	elseif DC1>=0.25 then
		return 1
	endif
	return 1
endfunction

function StunTargetIF takes unit source,unit target,real DC1 returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	local integer lvl=Func0313(DC1)
	call UnitAddAbility(caster,'A0X6')
	call SetUnitAbilityLevel(caster,'A0X6',lvl)
	call IssueTargetOrder(caster,"thunderbolt",target)
	set caster=null
endfunction

function Func0315 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer DF1=(LoadInteger(HY,(h),(73)))
	local unit Hero=UnitAsInteger_Load(DF1)
	local integer Count=GetTriggerEvalCount(t)
	local real y=(Count-13)*(Count-13)
	if Count<26 then
		if Func0093(Hero)==false then
			call SetUnitFlyHeight(Hero,375-y,0)
		endif
	else
		call PauseUnit(Hero,false)
		if Func0093(Hero)==false then
			call SetUnitFlyHeight(Hero,GetUnitDefaultFlyHeight(Hero),0)
		endif
		call DamageTarget((LoadUnitHandle(HY,(h),(2))),Hero,1,(LoadReal(HY,(h),(20))))
		call StunTargetIF((LoadUnitHandle(HY,(h),(2))),Hero,(LoadReal(HY,(h),(57))))
		call UnitAsInteger_Clear(DF1)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	return false
endfunction

function Func0316 takes unit Hero,unit source,real dur,real DH1,real DZ1 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call PauseUnit(Hero,true)
	if Func0093(Hero)==false then
		call UnitAddAbility(Hero,'Amrf')
		call UnitRemoveAbility(Hero,'Amrf')
	endif
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\Impale\\ImpaleHitTarget.mdl",GetUnitX(Hero),GetUnitY(Hero)))
	call SaveInteger(HY,(h),(73),(Func0021(Hero)))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(20),((DH1)*1.0))
	call SaveReal(HY,(h),(57),((dur)*1.0))
	call TriggerRegisterTimerEvent(t,0.02/0.52*DZ1,true)
	call TriggerAddCondition(t,Condition(function Func0315))
endfunction

function Func0317 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group002)==false and Func0091(GetEnumUnit())==false and((LoadInteger(HY,(GetHandleId((GetEnumUnit()))),((4253))))==1)==false then
		call GroupAddUnit(group002,GetEnumUnit())
		call Func0316(GetEnumUnit(),tt_unit1,real010,real009,real011)
	endif
endfunction

function Func0318 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real DH1=(LoadReal(HY,(h),(20)))
	local real dur=(LoadReal(HY,(h),(57)))
	local real x1=(LoadReal(HY,(h),(64)))
	local real y1=(LoadReal(HY,(h),(65)))
	local real x2=(LoadReal(HY,(h),(66)))
	local real y2=(LoadReal(HY,(h),(67)))
	local real w=(LoadReal(HY,(h),(68)))
	local real DX1=(LoadReal(HY,(h),(44)))
	local real a=Atan2(y2-y1,x2-x1)
	local group g=(LoadGroupHandle(HY,(h),(22)))
	local group DY1=GetAvailableGroup()
	local real CM_Column=DX1*0.0625
	local real DK1=(LoadReal(HY,(h),(71)))
	local real DL1=(LoadReal(HY,(h),(72)))
	local real DM1=(LoadReal(HY,(h),(70)))
	local real DN1=(LoadReal(HY,(h),(63)))
	if CM_Column>Func0141(x1,y1,x2,y2)then
		set x1=x2
		set y1=y2
	else
		set x1=x1+CM_Column*Cos(a)
		set y1=y1+CM_Column*Sin(a)
	endif
	set tt_unit1=source
	set real009=DH1
	set real010=dur
	set real011=DN1
	set group002=g
	call GroupEnumUnitsInRange(DY1,x1,y1,w,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(DY1,function Func0317)
	call KillGroup(DY1)
	if Func0141(x1,y1,DK1,DL1)>=DM1 then
		call SaveReal(HY,(h),(71),((x1)*1.0))
		call SaveReal(HY,(h),(72),((y1)*1.0))
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\Impale\\ImpaleMissTarget.mdl",x1,y1))
	endif
	call SaveReal(HY,(h),(64),((x1)*1.0))
	call SaveReal(HY,(h),(65),((y1)*1.0))
	if x1==x2 and y1==y2 then
		if(LoadBoolean(HY,(h),(69))) then
			call KillGroup(g)
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set g=null
	set DY1=null
	set source=null
	set t=null
	return false
endfunction

function Func0319 takes unit source,unit DT1,real DH1,real dur,real DN1,real x1,real y1,real x2,real y2,real w,group DR1,boolean DP1,real DX1 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real QWI=Func0141(x1,y1,x2,y2)
	local integer DQ1=Func0216(QWI,real015)
	local real DM1=QWI/DQ1
	local group g
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(20),((DH1)*1.0))
	call SaveReal(HY,(h),(57),((dur)*1.0))
	call SaveReal(HY,(h),(63),((DN1)*1.0))
	call SaveReal(HY,(h),(64),((x1)*1.0))
	call SaveReal(HY,(h),(65),((y1)*1.0))
	call SaveReal(HY,(h),(66),((x2)*1.0))
	call SaveReal(HY,(h),(67),((y2)*1.0))
	call SaveReal(HY,(h),(68),((w)*1.0))
	call SaveReal(HY,(h),(44),((DX1)*1.0))
	if DR1==null then
		set g=GetAvailableGroup()
		if DT1!=null and IsUnitIllusion(DT1)==false then
			call GroupAddUnit(g,DT1)
		endif
		call SaveGroupHandle(HY,(h),(22),(g))
		call SaveBoolean(HY,(h),(69),(DP1))
		set g=null
	else
		call SaveGroupHandle(HY,(h),(22),(DR1))
		call SaveBoolean(HY,(h),(69),(DP1))
	endif
	call SaveReal(HY,(h),(70),((DM1)*1.0))
	call SaveReal(HY,(h),(71),((x1)*1.0))
	call SaveReal(HY,(h),(72),((y1)*1.0))
	call TriggerRegisterTimerEvent(t,0.0625,true)
	call TriggerAddCondition(t,Condition(function Func0318))
	set t=null
endfunction

function SetNapalmFactory takes unit source,integer lvl,integer E01 returns nothing
	local integer i
	if StickyNapalmSlowStacks_Level1[1]==0 then
		return
	endif
	set i=1
	loop
		exitwhen i>10
		call UnitRemoveAbility(source,StickyNapalmSlowStacks_Level1[i])
		call UnitRemoveAbility(source,StickyNapalmSlowStacks_Level2[i])
		call UnitRemoveAbility(source,StickyNapalmSlowStacks_Level3[i])
		call UnitRemoveAbility(source,StickyNapalmSlowStacks_Level4[i])
		set i=i+1
	endloop
	call UnitRemoveAbility(source,'B0BS')
	if lvl==1 then
		call UnitAddAbility(source,StickyNapalmSlowStacks_Level1[E01])
	elseif lvl==2 then
		call UnitAddAbility(source,StickyNapalmSlowStacks_Level2[E01])
	elseif lvl==3 then
		call UnitAddAbility(source,StickyNapalmSlowStacks_Level3[E01])
	elseif lvl==4 then
		call UnitAddAbility(source,StickyNapalmSlowStacks_Level4[E01])
	endif
endfunction

function Func0321 takes integer E11 returns nothing
	set integer037=integer037+1
	set integers053[integer037]=E11
endfunction

function RemoveDispellableBuffs takes unit u returns nothing
	local integer i=1
	loop
		exitwhen i>integer037
		call UnitRemoveAbility(u,integers053[i])
		set i=i+1
	endloop
endfunction

function Func0323 takes integer aid returns boolean
	return aid=='AIpg' or aid=='A02V' or aid=='ACpu' or aid=='A18D' or aid=='A1OU' or aid=='AIcy' or aid=='A1SA' or aid=='A2T2'
endfunction

function Func0324 takes unit target returns nothing
	call UnitRemoveAbility(target,'Aetl')
	call UnitRemoveAbility(target,'BHtc')
	call UnitRemoveAbility(target,'A1W3')
	call UnitRemoveAbility(target,'B0DO')
	call UnitRemoveAbility(target,'B02U')
	call SetNapalmFactory(target,0,0)
endfunction

function Func0325 takes nothing returns boolean
	if Func0323(GetSpellAbilityId())then
		call Func0324(GetSpellTargetUnit())
	endif
	return false
endfunction

function Func0326 takes integer indexId returns integer
	if integers094[indexId]==0 then
		return indexId
	else
		return integers094[indexId]
	endif
endfunction

function Func0327 takes integer id returns boolean
	return id==integer123 or id==integer121 or id==integer120 or id==integer122 or id==integer119 or id==integer124
endfunction

function Func0328 takes unit SWI,integer U9I returns boolean
	local integer MLI
	local item UAI
	set MLI=0
	loop
		exitwhen MLI>5
		set UAI=UnitItemInSlot(SWI,MLI)
		if UAI!=null and GetItemTypeId(UAI)==U9I then
			set UAI=null
			return true
		endif
		set MLI=MLI+1
	endloop
	set UAI=null
	return false
endfunction

function GetIndex takes item AO1 returns integer
	local integer U9I
	local integer i=1
	if AO1==null then
		return-2
	endif
	set U9I=GetItemTypeId(AO1)
	loop
		exitwhen i>integer066
		if integers088[i]==U9I or integers089[i]==U9I or integers091[i]==U9I then
			return i
		endif
		set i=i+1
	endloop
	return-1
endfunction

function Func0330 takes item AO1 returns integer
	local integer U9I
	local integer i=1
	if AO1==null then
		return-2
	endif
	set U9I=GetItemTypeId(AO1)
	loop
		exitwhen i>integer066
		if integers088[i]==U9I or integers089[i]==U9I then
			return i
		endif
		set i=i+1
	endloop
	return-1
endfunction

function Func0331 takes unit SWI returns integer
	local integer EE1
	if SWI==null then
		return-2
	endif
	set EE1=GetUnitTypeId(SWI)
	if EE1=='Hblm' or EE1=='H06X' or EE1=='H06Y' or EE1=='H06W' or EE1=='H0BC' then
		return integer323
	elseif EE1=='H004' then
		return integer326
	elseif EE1=='UC18' then
		return integer327
	elseif EE1=='Hmkg' then
		return integer331
	elseif EE1=='Ucrl' or EE1=='U01X' then
		return integer367
	elseif EE1=='H00H' then
		return integer334
	elseif EE1=='UC01' then
		return integer335
	elseif EE1=='Orkn' then
		return integer336
	elseif EE1=='Hmbr' then
		return integer340
	elseif EE1=='Hjai' then
		return integer337
	elseif EE1=='Ulic' then
		return integer325
	elseif EE1=='Ekee' then
		return integer324
	elseif EE1=='Emns' then
		return integer322
	elseif EE1=='EC57' then
		return integer338
	elseif EE1=='U00E' then
		return integer330
	elseif EE1=='E005' then
		return integer329
	elseif EE1=='E01A' then
		return integer339
	elseif EE1=='UC42' then
		return integer328
	elseif EE1=='Npbm' then
		return integer352
	elseif EE1=='H00T' then
		return integer342
	elseif EE1=='Hvwd' then
		return integer343
	elseif EE1=='Nbbc' then
		return integer344
	elseif EE1=='H00A' then
		return integer346
	elseif EE1=='Udre' then
		return integer347
	elseif EE1=='E00P' then
		return integer348
	elseif EE1=='U00K' then
		return integer349
	elseif EE1=='H00Q' then
		return integer350
	elseif EE1=='H00U' then
		return integer351
	elseif EE1=='U00F' then
		return integer353
	elseif EE1=='N0EG' then
		return integer354
	elseif EE1=='EC45' then
		return integer355
	elseif EE1=='O00J' then
		return integer356
	elseif EE1=='Oshd' then
		return integer357
	elseif EE1=='Udea' then
		return integer358
	elseif EE1=='N01W' then
		return integer359
	elseif EE1=='H00K' then
		return integer360
	elseif EE1=='Opgh' then
		return integer361
	elseif EE1=='Otch' then
		return integer362
	elseif EE1=='H00R' then
		return integer333
	elseif EE1=='H07I' then
		return integer333
	elseif EE1=='N00B' then
		return integer363
	elseif EE1=='E01C' then
		return integer364
	elseif EE1=='E002' then
		return integer365
	elseif EE1=='EC77' then
		return integer366
	elseif EE1=='U00P' then
		return integer368
	elseif EE1=='Emoo' then
		return integer369
	elseif EE1=='H00N' then
		return integer370
	elseif EE1=='E02N' or EE1=='E02O' then
		return integer371
	elseif EE1=='H00I' then
		return integer372
	elseif EE1=='H00D' then
		return integer373
	elseif EE1=='UC60' then
		return integer374
	elseif EE1=='N01A' then
		return integer375
	elseif EE1=='N0HP' then
		return integer376
	elseif EE1=='Harf' then
		return integer377
	elseif EE1=='H0DO' then
		return integer378
	elseif EE1=='Uktl' then
		return integer379
	elseif EE1=='E02J' then
		return integer381
	elseif EE1=='E02X' then
		return integer380
	elseif EE1=='Ntin' then
		return integer382
	elseif EE1=='E02H' then
		return integer383
	elseif EE1=='E032' then
		return integer332
	elseif EE1=='E02F' then
		return integer384
	elseif EE1=='H001' or EE1=='H0CQ' then
		return integer385
	elseif EE1=='O015' then
		return integer386
	elseif EE1=='Hamg' then
		return integer387
	elseif EE1=='N0MU' or EE1=='N0MW' then
		return integer388
	endif
	return integer321
endfunction

function Func0332 takes unit SWI returns integer
	local integer EE1
	if SWI==null then
		return-2
	endif
	set EE1=GetUnitTypeId(SWI)
	if EE1=='Hblm' or EE1=='H06X' or EE1=='H06Y' or EE1=='H06W' or EE1=='H0BC' then
		return 'A0TL'
	elseif EE1=='H004' then
		return 'A0TP'
	elseif EE1=='UC18' then
		return 'A0TR'
	elseif EE1=='Hmkg' then
		return 'A2KT'
	elseif EE1=='Ucrl' or EE1=='U01X' then
		return 0
	elseif EE1=='H00H' then
		return 'A0TV'
	elseif EE1=='UC01' then
		return 'A0TX'
	elseif EE1=='Orkn' then
		return 'A0TZ'
	elseif EE1=='Hmbr' then
		return 'A0U1'
	elseif EE1=='Hjai' then
		return 'A0U3'
	elseif EE1=='Ulic' then
		return 'A0U5'
	elseif EE1=='Ekee' then
		return 'A0U7'
	elseif EE1=='Emns' then
		return 'A0U9'
	elseif EE1=='EC57' then
		return 'A0UB'
	elseif EE1=='U00E' then
		return 'A0UD'
	elseif EE1=='E005' then
		return 'A0UF'
	elseif EE1=='E01A' then
		return 'A0UH'
	elseif EE1=='UC42' then
		return 'A0UJ'
	elseif EE1=='Npbm' then
		return 'A1BE'
	elseif EE1=='H00T' then
		return 'A1B9'
	elseif EE1=='Hvwd' then
		return 'A1BA'
	elseif EE1=='Nbbc' then
		return 'A1BB'
	elseif EE1=='H00A' then
		return 'A1CU'
	elseif EE1=='Udre' then
		return 'A1BG'
	elseif EE1=='E00P' then
		return 'A1BJ'
	elseif EE1=='U00K' then
		return 'A1BC'
	elseif EE1=='H00Q' then
		return 'A1BI'
	elseif EE1=='H00U' then
		return 'A1BD'
	elseif EE1=='U00F' then
		return 'A1CY'
	elseif EE1=='N0EG' then
		return 'A1D2'
	elseif EE1=='EC45' then
		return 'A1D1'
	elseif EE1=='O00J' then
		return 'A1CZ'
	elseif EE1=='Oshd' then
		return 'A1D0'
	elseif EE1=='Udea' then
		return 'A1D3'
	elseif EE1=='N01W' then
		return 'A1D4'
	elseif EE1=='H00K' then
		return 'A1G1'
	elseif EE1=='Opgh' then
		return 'A1MT'
	elseif EE1=='Otch' then
		return 'A1N0'
	elseif EE1=='N00B' then
		return 'A1QS'
	elseif EE1=='E01C' then
		return 'A1UT'
	elseif EE1=='E002' then
		return 'A1UU'
	elseif EE1=='EC77' then
		return 'A1V1'
	elseif EE1=='U00P' then
		return 'A1VY'
	elseif EE1=='Emoo' then
		return 'A1WD'
	elseif EE1=='H00N' then
		return 'A21S'
	elseif EE1=='E02N' or EE1=='E02O' then
		return 'A237'
	elseif EE1=='H00I' then
		return 'A27E'
	elseif EE1=='H00D' then
		return 'A28A'
	elseif EE1=='UC60' then
		return 'A2IH'
	elseif EE1=='N01A' then
		return 'A2QB'
	elseif EE1=='N0HP' then
		return 'A2QF'
	elseif EE1=='Harf' then
		return 'A2S7'
	elseif EE1=='H0DO' then
		return 'A2TW'
	elseif EE1=='Uktl' then
		return 'A2TZ'
	elseif EE1=='E02J' then
		return 'A2VC'
	elseif EE1=='E02X' then
		return 'A2VD'
	elseif EE1=='Ntin' then
		return 'A2WD'
	elseif EE1=='E02H' then
		return 'A2XG'
	elseif EE1=='E032' then
		return 'A2YQ'
	elseif EE1=='E02F' then
		return 'A2YT'
	elseif EE1=='H001' or EE1=='H0CQ' then
		return 'A2Z3'
	elseif EE1=='O015' then
		return 'A2ZG'
	elseif EE1=='Hamg' then
		return 'A314'
	elseif EE1=='N0MU' or EE1=='N0MW' then
		return 'A31N'
	endif
	return 0
endfunction

function Func0333 takes item BA1 returns boolean
	local integer i=1
	loop
		exitwhen i>integer401
		if BA1==items007[i]then
			return true
		endif
		set i=i+1
	endloop
	return false
endfunction

function Func0334 takes item AO1 returns boolean
	local integer indexId=GetIndex(AO1)
	if indexId==integer321 or indexId==integer322 or indexId==integer323 or indexId==integer324 or indexId==integer325 or indexId==integer326 or indexId==integer327 or indexId==integer328 or indexId==integer329 or indexId==integer330 or indexId==integer331 or indexId==integer334 or indexId==integer335 or indexId==integer336 or indexId==integer337 or indexId==integer338 or indexId==integer339 or indexId==integer340 or indexId==integer342 or indexId==integer343 or indexId==integer344 or indexId==integer346 or indexId==integer347 or indexId==integer348 or indexId==integer349 or indexId==integer350 or indexId==integer351 or indexId==integer353 or indexId==integer354 or indexId==integer355 or indexId==integer356 or indexId==integer357 or indexId==integer358 or indexId==integer359 or indexId==integer360 or indexId==integer352 or indexId==integer361 or indexId==integer362 then
		return true
	elseif indexId==integer363 or indexId==integer364 or indexId==integer365 or indexId==integer366 or indexId==integer367 or indexId==integer368 or indexId==integer369 or indexId==integer370 or indexId==integer371 or indexId==integer372 or indexId==integer373 or indexId==integer374 or indexId==integer376 or indexId==integer375 or indexId==integer377 or indexId==integer379 or indexId==integer378 or indexId==integer381 or indexId==integer380 or indexId==integer382 or indexId==integer332 or indexId==integer384 or indexId==integer385 or indexId==integer386 or indexId==integer387 or indexId==integer388 then
		return true
	endif
	return false
endfunction

function Func0335 takes integer indexId returns boolean
	return indexId==integer232 or indexId==integer151 or indexId==integer142 or indexId==integer144 or indexId==integer145 or indexId==integer147 or indexId==integer148 or indexId==integer149 or indexId==integer143 or indexId==integer154 or indexId==integer155 or indexId==integer153
endfunction

function Func0336 takes integer indexId returns boolean
	return indexId==integer251 or indexId==integer132 or indexId==integer177 or indexId==integer178 or indexId==integer235 or indexId==integer198 or indexId==integer125 or indexId==integer245 or indexId==integer134
endfunction

function Func0337 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer U9I=(LoadInteger(HY,(h),(74)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	local boolean EX1=(LoadBoolean(HY,(h),(75)))
	local integer EY1=(LoadInteger(HY,(h),(76)))
	local item EJ1=CreateItem(U9I,x,y)
	call SetItemPlayer(EJ1,p,true)
	call SetItemUserData(EJ1,0)
	if EX1 then
		call SetItemCharges(EJ1,EY1)
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set p=null
	return false
endfunction

function Func0338 takes integer U9I,real x,real y,player p,boolean EX1,integer EY1 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveInteger(HY,(h),(74),(U9I))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SavePlayerHandle(HY,(h),(54),(p))
	call SaveBoolean(HY,(h),(75),(EX1))
	call SaveInteger(HY,(h),(76),(EY1))
	call TriggerAddCondition(t,Condition(function Func0337))
	call TriggerRegisterTimerEvent(t,0,false)
	set t=null
endfunction

function DisableItemTriggers takes nothing returns nothing
	call DisableTrigger(trigger057)
endfunction

function EnableItemTriggers takes nothing returns nothing
	call EnableTrigger(trigger057)
endfunction

function Func0339 takes item AO1 returns nothing
	call DisableTrigger(trigger057)
	call RemoveItem(AO1)
	call EnableTrigger(trigger057)
endfunction

function Func0340 takes unit SWI,integer U9I,item EN1 returns item
	local integer MLI
	local item UAI
	set MLI=0
	loop
		exitwhen MLI>5
		set UAI=UnitItemInSlot(SWI,MLI)
		if UAI!=null and UAI!=EN1 and GetItemTypeId(UAI)==U9I then
			set UAI=null
			return UnitItemInSlot(SWI,MLI)
		endif
		set MLI=MLI+1
	endloop
	set UAI=null
	return null
endfunction

function Func0341 takes unit SWI,integer U9I returns item
	local integer MLI
	local item UAI
	set MLI=0
	loop
		exitwhen MLI>5
		set UAI=UnitItemInSlot(SWI,MLI)
		if(UAI!=null)and(GetItemTypeId(UAI)==U9I)then
			set UAI=null
			return UnitItemInSlot(SWI,MLI)
		endif
		set MLI=MLI+1
	endloop
	set UAI=null
	return null
endfunction

function Func0342 takes player p,unit SWI,integer indexId,item EN1 returns item
	local integer MLI
	local item UAI
	set MLI=0
	loop
		exitwhen MLI>5
		set UAI=UnitItemInSlot(SWI,MLI)
		if UAI!=null and UAI!=EN1 and GetIndex(UAI)==indexId and(GetItemPlayer(UAI)==p or indexId==integer147 or indexId==integer148)then
			set UAI=null
			return UnitItemInSlot(SWI,MLI)
		endif
		set MLI=MLI+1
	endloop
	set UAI=null
	return null
endfunction

function Func0343 takes player p,unit SWI,integer indexId returns item
	local integer MLI
	local item UAI
	set MLI=0
	loop
		exitwhen MLI>5
		set UAI=UnitItemInSlot(SWI,MLI)
		if(UAI!=null)and(GetIndex(UAI)==indexId)and(GetItemPlayer(UAI)==p or indexId==integer147 or indexId==integer148)then
			set UAI=null
			return UnitItemInSlot(SWI,MLI)
		endif
		set MLI=MLI+1
	endloop
	set UAI=null
	return null
endfunction

function Func0344 takes unit SWI,integer indexId returns item
	local integer MLI
	local item UAI
	set MLI=0
	loop
		exitwhen MLI>5
		set UAI=UnitItemInSlot(SWI,MLI)
		if(UAI!=null)and(GetIndex(UAI)==indexId)then
			set UAI=null
			return UnitItemInSlot(SWI,MLI)
		endif
		set MLI=MLI+1
	endloop
	set UAI=null
	return null
endfunction

function Func0345 takes unit SWI returns integer
	local integer i=0
	local integer n=0
	local integer EU1=UnitInventorySize(SWI)-1
	loop
		exitwhen i>EU1
		if UnitItemInSlot(SWI,i)==null then
			set n=n+1
		endif
		set i=i+1
	endloop
	return n
endfunction

function Func0346 takes item AO1 returns integer
	local integer U9I
	local integer i=1
	if AO1==null then
		return-2
	endif
	set U9I=GetItemTypeId(AO1)
	loop
		exitwhen i>integer066
		if integers088[i]==U9I or integers089[i]==U9I then
			return i
		endif
		set i=i+1
	endloop
	return-1
endfunction

function Func0347 takes item AO1 returns integer
	local integer U9I
	local integer i=1
	if AO1==null then
		return-2
	endif
	set U9I=GetItemTypeId(AO1)
	loop
		exitwhen i>integer066
		if integers091[i]==U9I then
			return i
		endif
		set i=i+1
	endloop
	return-1
endfunction

function Func0348 takes item AO1 returns integer
	local integer U9I
	local integer i=1
	if AO1==null then
		return-2
	endif
	set U9I=GetItemTypeId(AO1)
	loop
		exitwhen i>integer066
		if integers091[i]==U9I then
			return integers089[i]
		endif
		set i=i+1
	endloop
	return-1
endfunction

function Func0349 takes unit SWI returns integer
	local integer EE1
	local integer i=0
	if SWI==null then
		return-2
	endif
	set EE1=GetUnitTypeId(SWI)
	loop
		exitwhen i>integer066
		if integers090[i]==EE1 then
			return i
		endif
		set i=i+1
	endloop
	return-1
endfunction

function Func0350 takes item F31 returns string
	if F31==null then
		return"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
	endif
	return strings012[GetIndex(F31)]
endfunction

function Func0351 takes item AO1 returns boolean
	return GetIndex(AO1)==integer212 or GetIndex(AO1)==integer213 or GetIndex(AO1)==integer083 or GetIndex(AO1)==integer084
endfunction

function Func0352 takes integer indexId returns integer
	if integer145==indexId then
		return 4
	endif
	if integer147==indexId or integer148==indexId or integer152==indexId or integer143==indexId or integer154==indexId or integer153==indexId then
		return 2
	endif
	return 1
endfunction

function Func0353 takes item AO1 returns boolean
	return GetItemType(AO1)==ITEM_TYPE_POWERUP or GetItemType(AO1)==ITEM_TYPE_PURCHASABLE or GetItemType(AO1)==ITEM_TYPE_MISCELLANEOUS
endfunction

function Func0354 takes unit SWI,integer U9I returns boolean
	local item BA1
	local boolean F81=false
	local boolean F91=true
	set BA1=CreateItem(U9I,GetUnitX(SWI),GetUnitY(SWI))
	if GetUnitAbilityLevel(SWI,'AInv')==0 then
		set F81=true
		call UnitAddAbilityPermanent(SWI,'AInv')
	endif
	if UnitAddItem(SWI,BA1)==false then
		call RemoveItem(BA1)
		set F91=false
	elseif GetWidgetLife(BA1)>0 then
		call RemoveItem(BA1)
		set F91=false
	endif
	if F81 then
		call UnitRemoveAbility(SWI,'AInv')
	endif
	set BA1=null
	return F91
endfunction

function Func0355 takes unit Hero returns real
	local real FB1
	if IsSentinel(GetOwningPlayer(Hero))then
		set FB1=GetRectCenterX(Hero_Creation_NE)
	else
		set FB1=GetRectCenterX(Hero_Creation_UD)
	endif
	return FB1
endfunction

function Func0356 takes unit Hero returns real
	local real FB1
	if IsSentinel(GetOwningPlayer(Hero))then
		set FB1=GetRectCenterY(Hero_Creation_NE)
	else
		set FB1=GetRectCenterY(Hero_Creation_UD)
	endif
	return FB1
endfunction

function Func0357 takes unit Hero,integer FE1,integer FF1 returns item
	local real x=Func0355(Hero)
	local real y=Func0356(Hero)
	local item BA1=CreateItem(FE1,x,y)
	local integer i=0
	local boolean array FG1
	local item FH1
	call DisableTrigger(trigger057)
	if FE1>0 then
		loop
			exitwhen i>(UnitInventorySize(Hero)-1)
			if UnitItemInSlot(Hero,i)==null and i!=FF1 then
				set FH1=CreateItem('I02M',x,y)
				call UnitAddItem(Hero,FH1)
				set FG1[i]=true
			else
				set FG1[i]=false
			endif
			if i==FF1 then
				call EnableTrigger(trigger057)
				call UnitAddItem(Hero,BA1)
				call DisableTrigger(trigger057)
			endif
			set i=i+1
		endloop
		set i=0
		loop
			exitwhen i>5
			if FG1[i] then
				call RemoveItem(UnitItemInSlot(Hero,i))
			endif
			set i=i+1
		endloop
	endif
	call EnableTrigger(trigger057)
	set tt_item1=BA1
	set BA1=null
	set FH1=null
	return tt_item1
endfunction

function Func0361 takes player p,string FK1,integer U0I returns nothing
	local string id=I2S(GetPlayerId(p))
	call StoreInteger(GMC,id,FK1,U0I)
	if IsPlayer(PlayerModeTyper)==false then
		call Func0095()
	endif
	if LocalPlayer==PlayerModeTyper then
		call SyncStoredInteger(GMC,id,FK1)
	endif
endfunction

function Traffic_RegisterData takes string FM1,integer U0I returns nothing
	call StoreInteger(GMC,"Data",FM1,U0I)
	if IsPlayer(PlayerModeTyper)==false then
		call Func0095()
	endif
	if LocalPlayer==PlayerModeTyper then
		call SyncStoredInteger(GMC,"Data",FM1)
	endif
endfunction

function Func0363 takes nothing returns nothing
	call FlushGameCache(InitGameCache("dr.x"))
	set GMC=InitGameCache("dr.x")
endfunction

function InitTrig_Traffic_Functions takes nothing returns nothing
	call Func0363()
endfunction

function Func0364 takes string s,string FT1,string FR1 returns string
	local string FP1=""
	local integer i=0
	local integer FQ1=StringLength(s)
	local string FU1
	local integer G01=StringLength(FT1)
	local boolean found=false
	loop
		exitwhen i+1>FQ1
		set FU1=SubString(s,i,i+G01)
		if FU1!=FT1 or found then
			set FP1=FP1+SubString(s,i,i+1)
			set i=i+1
		else
			set FP1=FP1+FR1
			set i=i+G01
			set found=true
		endif
	endloop
	return FP1
endfunction

function Func0365 takes player G11,player GO1 returns string
	local string s=GetObjectName('n0C8')
	set s=Func0364(s,"$dead",Players_Color[GetPlayerId(G11)]+(Players_Name[GetPlayerId((G11))])+"|r")
	set s=Func0364(s,"$killer",Players_Color[GetPlayerId(GO1)]+(Players_Name[GetPlayerId((GO1))])+"|r")
	return s
endfunction

function Func0366 takes unit u,integer d returns nothing
	local integer array b
	local integer a=d
	local integer c=1
	local integer i=0
	local integer EU1
	if d<1 then
		call UnitRemoveAbility(u,integers058[0])
		call UnitRemoveAbility(u,integers058[1])
		call UnitRemoveAbility(u,integers058[2])
		call UnitRemoveAbility(u,integers058[3])
		call UnitRemoveAbility(u,integers058[4])
		call UnitRemoveAbility(u,integers058[5])
		call UnitRemoveAbility(u,integers058[6])
		call UnitRemoveAbility(u,integers058[7])
		call UnitRemoveAbility(u,integers058[8])
		return
	endif
	loop
		exitwhen c==0
		set c=a/2
		set b[i]=a-c*2
		set a=c
		set i=i+1
	endloop
	set EU1=8
	set i=0
	loop
		exitwhen i>EU1
		if b[i]==1 then
			call UnitAddAbility(u,integers058[i])
		else
			call UnitRemoveAbility(u,integers058[i])
		endif
		set i=i+1
	endloop
endfunction

function Func0367 takes unit u,integer d returns nothing
	local integer array b
	local integer a=d
	local integer c=1
	local integer i=0
	local integer EU1
	if d<1 then
		call UnitRemoveAbility(u,integers059[0])
		call UnitRemoveAbility(u,integers059[1])
		call UnitRemoveAbility(u,integers059[2])
		call UnitRemoveAbility(u,integers059[3])
		call UnitRemoveAbility(u,integers059[4])
		call UnitRemoveAbility(u,integers059[5])
		call UnitRemoveAbility(u,integers059[6])
		call UnitRemoveAbility(u,integers059[7])
		call UnitRemoveAbility(u,integers059[8])
		return
	endif
	loop
		exitwhen c==0
		set c=a/2
		set b[i]=a-c*2
		set a=c
		set i=i+1
	endloop
	set EU1=8
	set i=0
	loop
		exitwhen i>EU1
		if b[i]==1 then
			call UnitAddAbility(u,integers059[i])
		else
			call UnitRemoveAbility(u,integers059[i])
		endif
		set i=i+1
	endloop
endfunction

function Func0368 takes unit u,integer d returns nothing
	local integer array b
	local integer a=d
	local integer c=1
	local integer i=0
	local integer EU1
	if d<1 then
		call UnitRemoveAbility(u,integers060[0])
		call UnitRemoveAbility(u,integers060[1])
		call UnitRemoveAbility(u,integers060[2])
		call UnitRemoveAbility(u,integers060[3])
		call UnitRemoveAbility(u,integers060[4])
		call UnitRemoveAbility(u,integers060[5])
		call UnitRemoveAbility(u,integers060[6])
		call UnitRemoveAbility(u,integers060[7])
		call UnitRemoveAbility(u,integers060[8])
		call UnitRemoveAbility(u,integers060[9])
		call UnitRemoveAbility(u,integers060[10])
		return
	endif
	loop
		exitwhen c==0
		set c=a/2
		set b[i]=a-c*2
		set a=c
		set i=i+1
	endloop
	set EU1=10
	set i=0
	loop
		exitwhen i>EU1
		if b[i]==1 then
			call UnitAddAbility(u,integers060[i])
		else
			call UnitRemoveAbility(u,integers060[i])
		endif
		set i=i+1
	endloop
endfunction

function Func0369 takes unit u,integer d returns nothing
	local integer array b
	local integer a=d
	local integer c=1
	local integer i=0
	local integer EU1
	if d<1 then
		call UnitRemoveAbility(u,integers061[0])
		call UnitRemoveAbility(u,integers061[1])
		call UnitRemoveAbility(u,integers061[2])
		call UnitRemoveAbility(u,integers061[3])
		call UnitRemoveAbility(u,integers061[4])
		call UnitRemoveAbility(u,integers061[5])
		call UnitRemoveAbility(u,integers061[6])
		call UnitRemoveAbility(u,integers061[7])
		call UnitRemoveAbility(u,integers061[8])
		return
	endif
	loop
		exitwhen c==0
		set c=a/2
		set b[i]=a-c*2
		set a=c
		set i=i+1
	endloop
	set EU1=8
	set i=0
	loop
		exitwhen i>EU1
		if b[i]==1 then
			call UnitAddAbility(u,integers061[i])
		else
			call UnitRemoveAbility(u,integers061[i])
		endif
		set i=i+1
	endloop
endfunction

function Func0370 takes unit u,integer d returns nothing
	local integer array b
	local integer a=d
	local integer c=1
	local integer i=0
	local integer EU1
	if d<1 then
		call UnitRemoveAbility(u,integers062[0])
		call UnitRemoveAbility(u,integers062[1])
		call UnitRemoveAbility(u,integers062[2])
		call UnitRemoveAbility(u,integers062[3])
		call UnitRemoveAbility(u,integers062[4])
		call UnitRemoveAbility(u,integers062[5])
		return
	endif
	loop
		exitwhen c==0
		set c=a/2
		set b[i]=a-c*2
		set a=c
		set i=i+1
	endloop
	set EU1=i
	set i=0
	loop
		exitwhen i>EU1
		if b[i]==1 then
			call UnitAddAbility(u,integers062[i])
		else
			call UnitRemoveAbility(u,integers062[i])
		endif
		set i=i+1
	endloop
endfunction

//function Func0371 takes nothing returns boolean
//	local trigger t=GetTriggeringTrigger()
//	local integer h=GetHandleId(t)
//	local player p=(LoadPlayerHandle(HY,(h),(54)))
//	local integer i=(LoadInteger(HY,(h),(77)))
//	local string c="|c006699CC"
//		if GetTriggerEvalCount(t)==1 then
//		elseif GetTriggerEvalCount(t)==2 then
//			call Func0211(sound045,p)
//		elseif GetTriggerEvalCount(t)==3 then
//			call Func0211(sound045,p)
//		elseif GetTriggerEvalCount(t)==4 then
//			call Func0211(sound045,p)
//		elseif GetTriggerEvalCount(t)==5 then
//			call Func0211(sound045,p)
//		elseif GetTriggerEvalCount(t)==6 then
//			call Func0211(sound045,p)
//		endif
//	endif
//	if GetTriggerEvalCount(t)==5 then
//		call CleanTrigger(t)
//		call FlushChildHashtable(HY,(h))
//	endif
//	return false
//endfunction

//function Func0372 takes player p,integer i returns nothing
//	local trigger t=CreateTrigger()
//	local integer h=GetHandleId(t)
//	call TriggerRegisterTimerEvent(t,10,false)
//	call TriggerRegisterTimerEvent(t,15,false)
//	call TriggerRegisterTimerEvent(t,300,true)
//	call TriggerAddCondition(t,Condition(function Func0371))
//	call SavePlayerHandle(HY,(h),(54),(p))
//	call SaveInteger(HY,(h),(77),(i))
//	set t=null
//endfunction

function Func0373 takes unit source returns integer
	local integer RII=GetUnitTypeId(source)
	local integer GF1='o01P'
	if RII=='Udre' then
		set GF1='o01N'
	elseif RII=='Emoo' or RII=='H00I' or RII=='H071' or RII=='E005' then
		set GF1='o01O'
	endif
	return GF1
endfunction

function Func0374 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call KillUnit(caster)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call SetUnitX(caster,GetUnitX(source))
		call SetUnitY(caster,GetUnitY(source))
	endif
	set t=null
	set source=null
	set caster=null
	return false
endfunction

function Func0375 takes unit source returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit caster=CreateUnit(GetOwningPlayer(source),Func0373(source),GetUnitX(source),GetUnitY(source),0)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func0374))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(19),(caster))
	set t=null
endfunction

function Func0376 takes integer EE1 returns boolean
	local integer i=0
	loop
		exitwhen i>59
		if EE1==integers063[i]then
			return true
		endif
		set i=i+1
	endloop
	return false
endfunction

function Func0377 takes integer lvl returns integer
	local real time=GetTime()-real001
	local real Minutes=(R2I(time)/60)-(1/2)
	local real GX1=100+lvl*lvl*1.5+Minutes*15
	local integer MLI
	set MLI=R2I(GX1/50)
	set MLI=IMinBJ(MLI,59)
	set MLI=IMaxBJ(MLI,0)
	return MLI
endfunction

function Func0378 takes player p returns nothing
	local integer id=GetPlayerId(p)
	local unit GJ1=CirclesOfPower[id]
	local unit Hero=Players_Hero[id]
	local integer lvl=GetHeroLevel(Hero)
	local integer i=0
	loop
		exitwhen i>59
		call RemoveUnitFromStock(GJ1,integers063[i])
		set i=i+1
	endloop
	if Mode_DM then
		return
	endif
	if boolean091==false then
		return
	endif
	call AddUnitToStock(GJ1,integers063[Func0377(lvl)],1,1)
	set integers064[id]=integers063[Func0377(lvl)]
	set Hero=null
	set GJ1=null
endfunction

function Func0379 takes player p returns nothing
	local integer id=GetPlayerId(p)
	local unit GJ1=CirclesOfPower[id]
	local unit Hero=Players_Hero[id]
	local integer lvl=GetHeroLevel(Hero)
	local integer i=0
	if Mode_DM then
		return
	endif
	if boolean091==false then
		return
	endif
	if integers064[id]=='h0D4' then
		return
	endif
	if integers064[id]!=0 then
		call RemoveUnitFromStock(GJ1,integers064[id])
	endif
	call AddUnitToStock(GJ1,integers063[Func0377(lvl)],1,1)
	set integers064[id]=integers063[Func0377(lvl)]
	set Hero=null
	set GJ1=null
endfunction

function Func0380 takes nothing returns boolean
	if Mode_DM then
		return false
	endif
	call Func0379(Sentinels[1])
	call Func0379(Sentinels[2])
	call Func0379(Sentinels[3])
	call Func0379(Sentinels[4])
	call Func0379(Sentinels[5])
	call Func0379(Scourges[1])
	call Func0379(Scourges[2])
	call Func0379(Scourges[3])
	call Func0379(Scourges[4])
	call Func0379(Scourges[5])
	return false
endfunction

function Func0381 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer id=(LoadInteger(HY,(h),(34)))
	local unit GJ1=CirclesOfPower[id]
	local unit Hero=Players_Hero[id]
	local integer lvl=GetHeroLevel(Hero)
	local integer i=0
	call RemoveUnitFromStock(GJ1,'h0D4')
	call AddUnitToStock(GJ1,integers063[Func0377(lvl)],1,1)
	set integers064[id]=integers063[Func0377(lvl)]
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	return false
endfunction

function Func0382 takes player p returns nothing
	local integer id=GetPlayerId(p)
	local unit GJ1=CirclesOfPower[id]
	local unit Hero=Players_Hero[id]
	local integer lvl=GetHeroLevel(Hero)
	local integer i=0
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call Func0375(Hero)
	loop
		exitwhen i>59
		call RemoveUnitFromStock(GJ1,integers063[i])
		set i=i+1
	endloop
	call TriggerAddCondition(t,Condition(function Func0381))
	call TriggerRegisterTimerEvent(t,360,false)
	call SaveInteger(HY,(h),(34),(id))
	set integers064[id]='h0D4'
	call RemoveUnitFromStock(GJ1,'h0D4')
	call AddUnitToStock(GJ1,'h0D4',0,1)
	set Hero=null
	set GJ1=null
	set t=null
endfunction

function Func0383 takes unit Hero returns nothing
	local real GR1=1
	local integer GP1=UnitInventorySize(Hero)
	local integer x=0
	local item i
	local integer lvl=GetUnitAbilityLevel(Hero,'A03P')
	if lvl>0 then
		if lvl==1 then
			set GR1=GR1*0.8
		elseif lvl==2 then
			set GR1=GR1*0.7
		elseif lvl==3 then
			set GR1=GR1*0.6
		elseif lvl==4 then
			set GR1=GR1*0.5
		endif
	endif
	set lvl=GetUnitAbilityLevel(Hero,'A0MX')
	if lvl>0 then
		set GR1=GR1*(1-(0.05+0.05*lvl))
	endif
	loop
		exitwhen x>GP1
		set i=UnitItemInSlot(Hero,x)
		if Func0346(i)==integer224 then
			set GR1=GR1*0.65
		elseif Func0346(i)==integer128 or Func0346(i)==integer257 then
			set GR1=GR1*0.75
		endif
		set x=x+1
	endloop
	set lvl=R2I((1-GR1)/0.05)
	if lvl>0 then
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A2V2',false)
		call UnitAddAbilityPermanent(Hero,'A2V2')
		call UnitMakeAbilityPermanent(Hero,true,'A2V3')
		call SetUnitAbilityLevel(Hero,'A2V3',lvl)
	else
		call UnitRemoveAbility(Hero,'A2V2')
	endif
	set i=null
endfunction

function Func0384 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	call Func0383(Hero)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	return false
endfunction

function Func0385 takes unit Hero returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerAddCondition(t,Condition(function Func0384))
	call TriggerRegisterTimerEvent(t,0,false)
	call SaveUnitHandle(HY,(h),(14),(Hero))
	set t=null
endfunction

function Func0386 takes nothing returns boolean
	if GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and(Func0346(GetManipulatedItem())==integer224 or Func0346(GetManipulatedItem())==integer128 or Func0346(GetManipulatedItem())==integer257)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
			call Func0383(GetTriggerUnit())
		else
			call Func0385(GetTriggerUnit())
		endif
	endif
	return false
endfunction

function Func0387 takes unit source,real HO1 returns real
	loop
		if HO1>25 then
			set HO1=HO1-25
		else
			set HO1=HO1-5
		endif
		call SetUnitMoveSpeed(source,HO1)
		exitwhen GetUnitMoveSpeed(source)<522
	endloop
	return HO1
endfunction

function Func0388 takes unit source returns real
	local real HO1
	local integer E01=(LoadInteger(HY,(GetHandleId(source)),(814)))
	local integer lvl
	local real b1
	local real r1
	local real b2
	local real r2
	local real H31
	local real H41
	if GetUnitMoveSpeed(source)==522 and E01>0 then
		set HO1=GetUnitDefaultMoveSpeed(source)
		set lvl=GetUnitAbilityLevel(source,'A0I8')
		set b1=Func0387(source,HO1)
		set r1=GetUnitMoveSpeed(source)
		set b2=Func0387(source,b1)
		set r2=GetUnitMoveSpeed(source)
		set H31=(r1-r2)/(b1-b2)-1
		set H41=r1/(1+H31)-b1
		set H31=Func0133(H31,0.05*E01+1)
		call SetUnitMoveSpeed(source,HO1)
		return(HO1+H41)*(1+H31)
	else
		return GetUnitMoveSpeed(source)
	endif
endfunction

function Func0389 takes unit source returns real
	local real ms=GetUnitMoveSpeed(source)
	if(LoadInteger(HY,(GetHandleId(source)),(814)))>0 then
		set ms=Func0388(source)
	endif
	if((LoadInteger(HY,(GetHandleId((source))),((4423))))==1) then
		set ms=1000.
	endif
	if((LoadInteger(HY,(GetHandleId((source))),((4424))))==1) then
		set ms=650
	endif
	return ms
endfunction

function Func0390 takes unit source,real H71,real H81,real H91 returns nothing
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local real a=Atan2(y-H81,x-H71)
	local real d=Func0141(x,y,H71,H81)
	local real ms=GetUnitMoveSpeed(source)
	if Func0102(source)==false and H91>ms and d>10*0.005 then
		set x=SafeX50(x+(H91-ms)*0.005*Cos(a))
		set y=SafeY50(y+(H91-ms)*0.005*Sin(a))
		call SetUnitX(source,x)
		call SetUnitY(source,y)
	endif
endfunction

function InitMap takes nothing returns nothing
	set GlobalTimer=CreateTimer()
	call SetFloatGameState(GAME_STATE_TIME_OF_DAY,6.00)
	call SuspendTimeOfDay(false)
	call SetTimeOfDayScale(0.5)
	call SetSkyModel("Environment\\Sky\\FelwoodSky\\FelwoodSky.mdl")
	call SetCreepCampFilterState(true)
	call TimerStart(GlobalTimer,99999.00,false,null)
	set weathereffect002=AddWeatherEffect(bj_mapInitialPlayableArea,'RAhr')
	set weathereffect001=AddWeatherEffect(bj_mapInitialPlayableArea,'SNbs')
	set weathereffect003=AddWeatherEffect(bj_mapInitialPlayableArea,'LRma')
	set weathereffect004=AddWeatherEffect(bj_mapInitialPlayableArea,'WOlw')
	set Sentinels[0]=Player(0)
	set Sentinels[1]=Player(1)
	set Sentinels[2]=Player(2)
	set Sentinels[3]=Player(3)
	set Sentinels[4]=Player(4)
	set Sentinels[5]=Player(5)
	set Scourges[0]=Player(6)
	set Scourges[1]=Player(7)
	set Scourges[2]=Player(8)
	set Scourges[3]=Player(9)
	set Scourges[4]=Player(10)
	set Scourges[5]=Player(11)
	set Neutrals=Player(12)
	set Player15=Player(15)
	call ExecuteFunc("InitMemoryHack")
	call ExecuteFunc("InitBuildings")
	call ExecuteFunc("InitForces")
	call ExecuteFunc("InitHeroes")
	call ExecuteFunc("InitUnits")
	call ExecuteFunc("InitQuests")
	call SetUnitPathing(unit009,false)
	call SetUnitPathing(unit010,false)
	call SetUnitPathing(unit015,false)
	call SetUnitPathing(unit008,false)
	call SetUnitPathing(unit006,false)
	call SetUnitInvul(unit006,true)
	call SetUnitInvul(unit008,true)
	call SetUnitInvul(unit015,true)
	call SetUnitInvul(unit010,true)
	call SetUnitInvul(unit009,true)
	set location001=GetUnitLoc(unit006)
	set location002=GetUnitLoc(unit009)
	set location003=GetUnitLoc(unit015)
	set location004=GetUnitLoc(unit008)
	set location005=GetUnitLoc(unit010)
	set integer012='A06G'
	set locations001[1]=location002
	set locations001[2]=location004
	set locations001[3]=location003
	set locations001[4]=location005
	set locations001[5]=location001
	set location006=GetRectCenter(rect002)
	set location007=GetRectCenter(rect003)
	set location008=GetRectCenter(rect001)
	set location009=GetRectCenter(rect009)
	set location011=GetRectCenter(rect010)
	set location010=GetRectCenter(rect008)
	set location012=GetRectCenter(rect014)
	set location014=GetRectCenter(rect013)
	set location013=GetRectCenter(rect012)
	set location015=GetRectCenter(rect007)
	set location017=GetRectCenter(rect006)
	set location016=GetRectCenter(rect005)
	set location018=GetRectCenter(rect018)
	set location019=GetRectCenter(rect015)
	set Mode_Normal=true
endfunction

function FixUnitPositionAndFacing takes unit u, real x, real y, real a returns nothing
	call SetUnitX(u,x)
	call SetUnitY(u,y)
	call SetUnitFacing(u,a)
endfunction

function CreateUnitEx takes player p, integer id, real x, real y, real a returns unit
	local unit u=CreateUnit(p,id,x,y,a)
	call FixUnitPositionAndFacing(u,x,y,a)
	return u
endfunction

function CreateBuilding takes player p, integer id, real x, real y, real a returns unit
	local unit u=CreateUnitEx(p,id,x,y,a)
	call SetUnitInvul(u,true)
	return u
endfunction

function CreateTower takes player p, integer id, real x, real y, real a returns unit
	local unit u=CreateBuilding(p,id,x,y,a)
	return u
endfunction

function InitBuildings takes nothing returns nothing
	call ExecuteFunc("InitSentShops")
	call ExecuteFunc("InitScrgShops")
	call ExecuteFunc("InitSideShops")
	call ExecuteFunc("InitSecretShops")
	call ExecuteFunc("InitWaypointDummies")
	call ExecuteFunc("InitSentBuildings")
	call ExecuteFunc("InitScrgBuildings")
	call ExecuteFunc("InitCirclesOfPower")
	call ExecuteFunc("InitTaverns")
endfunction

function InitSideShops takes nothing returns nothing
	set unit118=CreateUnitEx(Player15,'u00Z',7360,-4416,270)
	call SetUnitColor(unit118,PLAYER_COLOR_BLACK)
	set unit117=CreateUnitEx(Player15,'u00Z',-7296,4224,270)
	call SetUnitColor(unit117,PLAYER_COLOR_BLACK)
	set unit021=CreateUnitEx(Player15,'u010',-7296,4416,270)
	call SetUnitColor(unit021,PLAYER_COLOR_BLACK)
	set unit119=CreateUnitEx(Player15,'u010',7360,-4224,270)
	call SetUnitColor(unit119,PLAYER_COLOR_BLACK)
endfunction

function InitSecretShops takes nothing returns nothing
	call CreateUnitEx(Player15,'uC74',3200,-64,270)
	call CreateUnitEx(Player15,'uC74',-4544,1152,270)
endfunction

function InitWaypointDummies takes nothing returns nothing
	set unit008=CreateUnitEx(Player15,'e00D',-6005.1,5458.6,212.150)
	set unit015=CreateUnitEx(Player15,'e00B',-561.7,-651.7,325.600)
	set unit010=CreateUnitEx(Player15,'e00A',5901.5,-6198.9,64.000)
	set unit009=CreateUnitEx(Player15,'e008',-5467.9,-5891.1,307.304)
	set unit006=CreateUnitEx(Player15,'e001',4901.8,4536.6,212.110)
endfunction

function InitSentShops takes nothing returns nothing
	set unit131=CreateBuilding(Player15,'hC95',-6944,-7200,270)
	set unit132=CreateBuilding(Player15,'n01K',-7264,-6752,270)
	set unit133=CreateBuilding(Player15,'nC38',-7264,-6944,270)
	set unit134=CreateBuilding(Player15,'e025',-6624,-7200,270)
	set unit135=CreateBuilding(Player15,'n00V',-6880,-6496,270)
	set unit136=CreateBuilding(Player15,'n00W',-7264,-6560,270)
	set unit137=CreateBuilding(Player15,'n002',-6752,-6496,270)
	set unit138=CreateBuilding(Player15,'n00X',-7136,-6496,270)
	set unit139=CreateBuilding(Player15,'n009',-6624,-6560,270)
	set unit140=CreateBuilding(Player15,'n0HE',-7008,-6496,270)
	call SetPlayerAbilityAvailable(Player15,'Aro1',false)
	call SetUnitColor(unit131,PLAYER_COLOR_RED)
	call SetUnitColor(unit134,PLAYER_COLOR_RED)
	call SetUnitColor(unit133,PLAYER_COLOR_BLACK)
	call SetUnitColor(unit132,PLAYER_COLOR_BLACK)
	call SetUnitColor(unit135,PLAYER_COLOR_BLACK)
	call SetUnitColor(unit136,PLAYER_COLOR_BLACK)
	call SetUnitColor(unit137,PLAYER_COLOR_BLACK)
	call SetUnitColor(unit138,PLAYER_COLOR_BLACK)
	call SetUnitColor(unit139,PLAYER_COLOR_BLACK)
	call AddUnitToStock(unit134,'h02C',0,0)
endfunction

function InitSentBuildings takes nothing returns nothing
	set unit130=CreateBuilding(Sentinels[0],'nfoh',-7296,-7200,45)
	set unit141=CreateBuilding(Sentinels[0],'etol',-5632,-6144,270)
	set unit142=CreateBuilding(Sentinels[0],'e00R',-6112,1568,90)
	set unit143=CreateTower(Sentinels[0],'e00R',-1504,-1824,45)
	set unit144=CreateTower(Sentinels[0],'e00R',4960,-6752,0)
	set unit145=CreateTower(Sentinels[0],'e011',-6112,-1248,90)
	set unit146=CreateTower(Sentinels[0],'e011',-3488,-3296,45)
	set unit147=CreateTower(Sentinels[0],'e011',-544,-6688,0)
	set unit148=CreateTower(Sentinels[0],'e00S',-6368,-4256,90)
	set unit149=CreateTower(Sentinels[0],'e00S',-4448,-4960,45)
	set unit150=CreateTower(Sentinels[0],'e00S',-3744,-6816,0)
	set unit151=CreateTower(Sentinels[0],'e019',-5600,-5728,45)
	set unit152=CreateTower(Sentinels[0],'e019',-5280,-6112,45)
	set unit153=CreateBuilding(Sentinels[0],'eaom',-6080,-4480,90)
	set unit154=CreateBuilding(Sentinels[0],'eaom',-4416,-5312,45)
	set unit155=CreateBuilding(Sentinels[0],'eaom',-4032,-7040,0)
	set unit156=CreateBuilding(Sentinels[0],'eaoe',-6656,-4480,90)
	set unit157=CreateBuilding(Sentinels[0],'eaoe',-4864,-4992,45)
	set unit158=CreateBuilding(Sentinels[0],'eaoe',-4032,-6528,0)
	set unit159=CreateBuilding(Sentinels[0],'emow',-5792,-5408,270)
	set unit160=CreateBuilding(Sentinels[0],'emow',-6624,-5088,270)
	set unit161=CreateBuilding(Sentinels[0],'emow',-5344,-3936,270)
	set unit162=CreateBuilding(Sentinels[0],'emow',-5088,-4576,270)
	set unit163=CreateBuilding(Sentinels[0],'emow',-3936,-5344,270)
	set unit164=CreateBuilding(Sentinels[0],'emow',-5088,-5536,270)
	set unit165=CreateBuilding(Sentinels[0],'emow',-4896,-6240,270)
	set unit166=CreateBuilding(Sentinels[0],'emow',-3808,-5856,270)
	set unit167=CreateBuilding(Sentinels[0],'emow',-4512,-7072,270)
	set unit168=CreateBuilding(Sentinels[0],'emow',-5472,-4704,270)
	set unit169=CreateBuilding(Sentinels[0],'emow',-4512,-5856,270)
	set unit170=CreateBuilding(Sentinels[0],'eaow',-6080,-5120,270)
	set unit171=CreateBuilding(Sentinels[0],'eaow',-4544,-6528,270)
	set unit172=CreateBuilding(Sentinels[0],'edob',-6400,-5696,270)
	set unit173=CreateBuilding(Sentinels[0],'edob',-5248,-6848,270)
endfunction

function InitScrgShops takes nothing returns nothing
	set unit175=CreateBuilding(Player15,'nC35',6816,5984,270)
	set unit176=CreateBuilding(Player15,'n01K',6368,6624,270)
	set unit177=CreateBuilding(Player15,'nC38',6560,6624,270)
	set unit178=CreateBuilding(Player15,'u00Q',6816,5664,270)
	set unit179=CreateBuilding(Player15,'n00V',5984,6240,0)
	set unit180=CreateBuilding(Player15,'n00W',6048,6624,0)
	set unit181=CreateBuilding(Player15,'n002',5984,6112,0)
	set unit182=CreateBuilding(Player15,'n00X',5984,6496,0)
	set unit183=CreateBuilding(Player15,'n009',6048,5984,0)
	set unit184=CreateBuilding(Player15,'n0HE',5984,6368,0)
	call SetUnitColor(unit175,PLAYER_COLOR_GREEN)
	call SetUnitColor(unit177,PLAYER_COLOR_BLACK)
	call SetUnitColor(unit176,PLAYER_COLOR_BLACK)
	call SetUnitColor(unit179,PLAYER_COLOR_BLACK)
	call SetUnitColor(unit180,PLAYER_COLOR_BLACK)
	call SetUnitColor(unit181,PLAYER_COLOR_BLACK)
	call SetUnitColor(unit182,PLAYER_COLOR_BLACK)
	call SetUnitColor(unit183,PLAYER_COLOR_BLACK)
	call AddUnitToStock(unit178,'h02C',0,0)
endfunction

function InitScrgBuildings takes nothing returns nothing
	set unit174=CreateBuilding(Scourges[0],'ndfl',6784,6368,225)
	set unit185=CreateBuilding(Scourges[0],'unpl',5184,4864,220)
	set unit186=CreateTower(Scourges[0],'u00M',-4704,5920,180)
	set unit187=CreateTower(Scourges[0],'u00M',1056,-96,225)
	set unit188=CreateTower(Scourges[0],'u00M',6240,-2080,270)
	set unit189=CreateTower(Scourges[0],'u00D',32,5920,180)
	set unit190=CreateTower(Scourges[0],'u00D',2528,1824,225)
	set unit191=CreateTower(Scourges[0],'u00D',6304,-96,180)
	set unit192=CreateTower(Scourges[0],'u00N',2976,5792,180)
	set unit193=CreateTower(Scourges[0],'u00N',3936,3488,225)
	set unit194=CreateTower(Scourges[0],'u00N',6368,2528,180)
	set unit195=CreateTower(Scourges[0],'u00T',4832,4832,225)
	set unit196=CreateTower(Scourges[0],'u00T',5152,4512,225)
	set unit197=CreateBuilding(Scourges[0],'usep',3392,5504,180)
	set unit198=CreateBuilding(Scourges[0],'usep',4352,3584,225)
	set unit199=CreateBuilding(Scourges[0],'usep',6656,2880,270)
	set unit200=CreateBuilding(Scourges[0],'utod',3392,6080,180)
	set unit201=CreateBuilding(Scourges[0],'utod',3904,3904,225)
	set unit202=CreateBuilding(Scourges[0],'utod',6080,2944,270)
	set unit203=CreateBuilding(Scourges[0],'uzig',2720,4704,270)
	set unit204=CreateBuilding(Scourges[0],'uzig',3232,4064,270)
	set unit205=CreateBuilding(Scourges[0],'uzig',3488,4832,270)
	set unit206=CreateBuilding(Scourges[0],'uzig',4128,6240,270)
	set unit207=CreateBuilding(Scourges[0],'uzig',4064,5280,270)
	set unit208=CreateBuilding(Scourges[0],'uzig',4384,4256,270)
	set unit209=CreateBuilding(Scourges[0],'uzig',5728,4000,270)
	set unit210=CreateBuilding(Scourges[0],'uzig',5536,2464,270)
	set unit211=CreateBuilding(Scourges[0],'uzig',5024,3744,270)
	set unit212=CreateBuilding(Scourges[0],'uzig',6880,3936,270)
	set unit213=CreateBuilding(Scourges[0],'uzig',4640,2848,270)
	set unit214=CreateBuilding(Scourges[0],'usap',3968,5888,270)
	set unit215=CreateBuilding(Scourges[0],'usap',6400,3584,270)
	set unit216=CreateBuilding(Scourges[0],'ubon',4992,5952,270)
	set unit217=CreateBuilding(Scourges[0],'ubon',6464,4608,270)
endfunction

function CreateCircle takes player p, integer id, real x, real y, real a returns unit
	local unit u=CreateBuilding(p,id,x,y,a)
	local integer id='A1WI'
	local integer i=GetPlayerId(p)
	if IsSentinel(p) then
		set id='A141'
	endif
	call UnitAddAbility(u,id)
	call ClearSelectionForPlayer(p)
	call SelectUnitAddForPlayer(u,p)
	if p==LocalPlayer then
		call SetUnitVertexColor(u,255,255,255,255)
	else
		call SetUnitVertexColor(u,255,255,255,125)
	endif
	set CirclesOfPower[i]=u
	set ItemSpawnX[i]=x
	set ItemSpawnY[i]=y
	return u
endfunction

function InitCirclesOfPower takes nothing returns nothing
	set unit218=CreateCircle(Player(1),'ncop',-7424,-6976,0)
	set unit219=CreateCircle(Player(2),'ncop',-7424,-6848,0)
	set unit220=CreateCircle(Player(3),'ncop',-7424,-6720,0)
	set unit221=CreateCircle(Player(4),'ncop',-7424,-6592,0)
	set unit222=CreateCircle(Player(5),'ncop',-7424,-6464,0)
	set unit223=CreateCircle(Player(7),'ncop',7040,6272,270)
	set unit224=CreateCircle(Player(8),'ncop',7040,6144,270)
	set unit225=CreateCircle(Player(9),'ncop',7040,6016,270)
	set unit226=CreateCircle(Player(10),'ncop',7040,5888,270)
	set unit227=CreateCircle(Player(11),'ncop',7040,5760,270)
endfunction

function InitTaverns takes nothing returns nothing
	set unit228=CreateUnitEx(Player15,'n008',-7360,6464,270)
	set unit229=CreateUnitEx(Player15,'n0GJ',-7168,6464,270)
	set unit230=CreateUnitEx(Player15,'n01D',-6848,6464,270)
	set unit231=CreateUnitEx(Player15,'n0LH',-6656,6464,270)
	set unit232=CreateUnitEx(Player15,'n01N',-7360,6784,270)
	set unit233=CreateUnitEx(Player15,'n007',-7168,6784,270)
	set unit234=CreateUnitEx(Player15,'n005',-6848,6784,270)
	set unit235=CreateUnitEx(Player15,'n0LI',-6656,6784,270)
	set unit236=CreateUnitEx(Player15,'n01B',-7360,7104,270)
	set unit237=CreateUnitEx(Player15,'n01P',-7168,7104,270)
	set unit238=CreateUnitEx(Player15,'n0GK',-6848,7104,270)
	set unit239=CreateUnitEx(Player15,'n0LJ',-6656,7104,270)
	call SetUnitColor(unit228,PLAYER_COLOR_BLUE)
	call SetUnitColor(unit229,PLAYER_COLOR_BLUE)
	call SetUnitColor(unit230,PLAYER_COLOR_LIGHT_BLUE)
	call SetUnitColor(unit231,PLAYER_COLOR_LIGHT_BLUE)
	call SetUnitColor(unit232,PLAYER_COLOR_GREEN)
	call SetUnitColor(unit233,PLAYER_COLOR_GREEN)
	call SetUnitColor(unit234,PLAYER_COLOR_AQUA)
	call SetUnitColor(unit235,PLAYER_COLOR_AQUA)
	call SetUnitColor(unit236,PLAYER_COLOR_RED)
	call SetUnitColor(unit237,PLAYER_COLOR_RED)
	call SetUnitColor(unit238,PLAYER_COLOR_BROWN)
	call SetUnitColor(unit239,PLAYER_COLOR_BROWN)
endfunction

function StorePlayersColorValues takes nothing returns nothing
	set PlayerColors_R[GetPlayerId(Sentinels[1])]=0
	set PlayerColors_G[GetPlayerId(Sentinels[1])]=66
	set PlayerColors_B[GetPlayerId(Sentinels[1])]=255
	set PlayerColors_R[GetPlayerId(Sentinels[2])]=48
	set PlayerColors_G[GetPlayerId(Sentinels[2])]=230
	set PlayerColors_B[GetPlayerId(Sentinels[2])]=185
	set PlayerColors_R[GetPlayerId(Sentinels[3])]=50
	set PlayerColors_G[GetPlayerId(Sentinels[3])]=0
	set PlayerColors_B[GetPlayerId(Sentinels[3])]=129
	set PlayerColors_R[GetPlayerId(Sentinels[4])]=255
	set PlayerColors_G[GetPlayerId(Sentinels[4])]=252
	set PlayerColors_B[GetPlayerId(Sentinels[4])]=1
	set PlayerColors_R[GetPlayerId(Sentinels[5])]=255
	set PlayerColors_G[GetPlayerId(Sentinels[5])]=50
	set PlayerColors_B[GetPlayerId(Sentinels[5])]=0
	set PlayerColors_R[GetPlayerId(Scourges[1])]=220
	set PlayerColors_G[GetPlayerId(Scourges[1])]=50
	set PlayerColors_B[GetPlayerId(Scourges[1])]=50
	set PlayerColors_R[GetPlayerId(Scourges[2])]=50
	set PlayerColors_G[GetPlayerId(Scourges[2])]=50
	set PlayerColors_B[GetPlayerId(Scourges[2])]=50
	set PlayerColors_R[GetPlayerId(Scourges[3])]=75
	set PlayerColors_G[GetPlayerId(Scourges[3])]=150
	set PlayerColors_B[GetPlayerId(Scourges[3])]=190
	set PlayerColors_R[GetPlayerId(Scourges[4])]=16
	set PlayerColors_G[GetPlayerId(Scourges[4])]=60
	set PlayerColors_B[GetPlayerId(Scourges[4])]=18
	set PlayerColors_R[GetPlayerId(Scourges[5])]=68
	set PlayerColors_G[GetPlayerId(Scourges[5])]=42
	set PlayerColors_B[GetPlayerId(Scourges[5])]=4
endfunction

function Func0396 takes nothing returns nothing
	local integer i=1
	set Players_Color[GetPlayerId(Sentinels[0])]="|c00ff0303"
	set Players_Color[GetPlayerId(Sentinels[1])]="|c000042ff"
	set Players_Color[GetPlayerId(Sentinels[2])]="|c001ce6b9"
	set Players_Color[GetPlayerId(Sentinels[3])]="|c00540081"
	set Players_Color[GetPlayerId(Sentinels[4])]="|c00fffc01"
	set Players_Color[GetPlayerId(Sentinels[5])]="|c00ff8000"
	set Players_Color[GetPlayerId(Scourges[0])]="|c0020c000"
	set Players_Color[GetPlayerId(Scourges[1])]="|c00e55bb0"
	set Players_Color[GetPlayerId(Scourges[2])]="|c00959697"
	set Players_Color[GetPlayerId(Scourges[3])]="|c007ebff1"
	set Players_Color[GetPlayerId(Scourges[4])]="|c00106246"
	set Players_Color[GetPlayerId(Scourges[5])]="|c004e2a04"
	call SetPlayerColor(Sentinels[0],PLAYER_COLOR_RED)
	call SetPlayerColor(Sentinels[1],PLAYER_COLOR_BLUE)
	call SetPlayerColor(Sentinels[2],PLAYER_COLOR_CYAN)
	call SetPlayerColor(Sentinels[3],PLAYER_COLOR_PURPLE)
	call SetPlayerColor(Sentinels[4],PLAYER_COLOR_YELLOW)
	call SetPlayerColor(Sentinels[5],PLAYER_COLOR_ORANGE)
	call SetPlayerColor(Scourges[0],PLAYER_COLOR_GREEN)
	call SetPlayerColor(Scourges[1],PLAYER_COLOR_PINK)
	call SetPlayerColor(Scourges[2],PLAYER_COLOR_LIGHT_GRAY)
	call SetPlayerColor(Scourges[3],PLAYER_COLOR_LIGHT_BLUE)
	call SetPlayerColor(Scourges[4],PLAYER_COLOR_AQUA)
	call SetPlayerColor(Scourges[5],PLAYER_COLOR_BROWN)
	loop
		if GetPlayerSlotState(Sentinels[i])==PLAYER_SLOT_STATE_EMPTY then
			call SetPlayerName(Sentinels[i],GetObjectName('n0DH')+" "+I2S(i))
		endif
		if GetPlayerSlotState(Scourges[i])==PLAYER_SLOT_STATE_EMPTY then
			call SetPlayerName(Scourges[i],GetObjectName('n0DH')+" "+I2S(5+i))
		endif
		set i=i+1
		exitwhen i>5
	endloop
endfunction

function Func0397 takes nothing returns nothing
	call SetUnitOwner(unit218,Sentinels[1],false)
	call SetUnitOwner(unit219,Sentinels[2],false)
	call SetUnitOwner(unit220,Sentinels[3],false)
	call SetUnitOwner(unit221,Sentinels[4],false)
	call SetUnitOwner(unit222,Sentinels[5],false)
	call SetUnitOwner(unit223,Scourges[1],false)
	call SetUnitOwner(unit224,Scourges[2],false)
	call SetUnitOwner(unit225,Scourges[3],false)
	call SetUnitOwner(unit226,Scourges[4],false)
	call SetUnitOwner(unit227,Scourges[5],false)
endfunction

function IsBaseShop takes unit u returns boolean
	local integer i=GetUnitTypeId(u)
	return i=='n00V' or i=='n00W' or i=='n002' or i=='n00X' or i=='nC38' or i=='n01K' or i=='n009'
endfunction

function Func0399 takes nothing returns nothing
	local unit u=GetEnumUnit()
	if GetOwningPlayer(u)==Player(0) then
		call SetUnitOwner(u,Sentinels[0],false)
		if not IsBaseShop(u) then
			call SetUnitColor(u,PLAYER_COLOR_RED)
		endif
	else
		call SetUnitOwner(u,Scourges[0],false)
		if not IsBaseShop(u) then
			call SetUnitColor(u,PLAYER_COLOR_GREEN)
		endif
	endif
	set u=null
endfunction

function Func0400 takes nothing returns nothing
	local group g=GetAvailableGroup()
	call GroupEnumUnitsOfPlayer(g,Player(0),Condition(function ReturnTrue))
	call ForGroup(g,function Func0399)
	call GroupClear(g)
	call GroupEnumUnitsOfPlayer(g,Player(6),Condition(function ReturnTrue))
	call ForGroup(g,function Func0399)
	call KillGroup(g)
	set g=null
endfunction

function Func0401 takes player p returns nothing
	local integer i=0
	local string name=GetPlayerName(p)
	local integer FQ1=StringLength(name)
	local integer Z81=FQ1
	loop
		exitwhen i==FQ1
		if SubString(name,i,i+1)=="("and SubString(name,i-1,i)==" "then
			set Z81=i-1
			call SetPlayerName(p,SubString(name,0,Z81))
			set i=FQ1
		else
			set i=i+1
		endif
	endloop
endfunction

function InitForces takes nothing returns nothing
	local integer i=0
	local integer k=0
	local trigger t
	local location spawnscrg=GetRectCenter(rect029)
	local location spawnsent=GetRectCenter(rect030)
	if GetPlayerState(Sentinels[0],PLAYER_STATE_OBSERVER)!=0 or GetPlayerState(Scourges[0],PLAYER_STATE_OBSERVER)!=0 then
		set isObserversMode=true
		set Sentinels[0]=Player(13)
		set Scourges[0]=Player(14)
		set Observer1=Player(0)
		set Observer2=Player(6)
		call SetAllyColorFilterState(0)
		loop
			exitwhen i>5
			call SetPlayerAlliance(Player(0),Sentinels[i],ALLIANCE_PASSIVE,true)
			call SetPlayerAlliance(Player(0),Sentinels[i],ALLIANCE_SHARED_SPELLS,true)
			call SetPlayerAlliance(Player(0),Scourges[i],ALLIANCE_PASSIVE,false)
			call SetPlayerAlliance(Player(0),Scourges[i],ALLIANCE_SHARED_SPELLS,false)
			set i=i+1
		endloop
	endif
	call ForceAddPlayer(Force_Elfs,Sentinels[0])
	call ForceAddPlayer(Force_Elfs,Sentinels[1])
	call ForceAddPlayer(Force_Elfs,Sentinels[2])
	call ForceAddPlayer(Force_Elfs,Sentinels[3])
	call ForceAddPlayer(Force_Elfs,Sentinels[4])
	call ForceAddPlayer(Force_Elfs,Sentinels[5])
	call ForceAddPlayer(Force_Unds,Scourges[0])
	call ForceAddPlayer(Force_Unds,Scourges[1])
	call ForceAddPlayer(Force_Unds,Scourges[2])
	call ForceAddPlayer(Force_Unds,Scourges[3])
	call ForceAddPlayer(Force_Unds,Scourges[4])
	call ForceAddPlayer(Force_Unds,Scourges[5])
	call ForceAddPlayer(Force_All,Sentinels[1])
	call ForceAddPlayer(Force_All,Sentinels[2])
	call ForceAddPlayer(Force_All,Sentinels[3])
	call ForceAddPlayer(Force_All,Sentinels[4])
	call ForceAddPlayer(Force_All,Sentinels[5])
	call ForceAddPlayer(Force_All,Scourges[1])
	call ForceAddPlayer(Force_All,Scourges[2])
	call ForceAddPlayer(Force_All,Scourges[3])
	call ForceAddPlayer(Force_All,Scourges[4])
	call ForceAddPlayer(Force_All,Scourges[5])
	if isObserversMode then
		call ForceAddPlayer(Force_All,Player(0))
		call ForceAddPlayer(Force_All,Player(6))
	endif
	set i=0
	set k=0
	loop
		exitwhen i>5
		loop
			exitwhen k>5
			if(i!=k)then
				call SetPlayerAlliance(Sentinels[i],Sentinels[k],ALLIANCE_PASSIVE,true)
				call SetPlayerAlliance(Sentinels[i],Sentinels[k],ALLIANCE_HELP_REQUEST,true)
				call SetPlayerAlliance(Sentinels[i],Sentinels[k],ALLIANCE_HELP_RESPONSE,true)
				call SetPlayerAlliance(Sentinels[i],Sentinels[k],ALLIANCE_SHARED_XP,true)
				call SetPlayerAlliance(Sentinels[i],Sentinels[k],ALLIANCE_SHARED_SPELLS,true)
				call SetPlayerAlliance(Sentinels[i],Sentinels[k],ALLIANCE_SHARED_VISION,true)
				call SetPlayerAlliance(Sentinels[i],Sentinels[k],ALLIANCE_SHARED_CONTROL,false)
				call SetPlayerAlliance(Sentinels[i],Sentinels[k],ALLIANCE_SHARED_ADVANCED_CONTROL,false)
				call SetPlayerAlliance(Scourges[i],Scourges[k],ALLIANCE_PASSIVE,true)
				call SetPlayerAlliance(Scourges[i],Scourges[k],ALLIANCE_HELP_REQUEST,true)
				call SetPlayerAlliance(Scourges[i],Scourges[k],ALLIANCE_HELP_RESPONSE,true)
				call SetPlayerAlliance(Scourges[i],Scourges[k],ALLIANCE_SHARED_XP,true)
				call SetPlayerAlliance(Scourges[i],Scourges[k],ALLIANCE_SHARED_SPELLS,true)
				call SetPlayerAlliance(Scourges[i],Scourges[k],ALLIANCE_SHARED_VISION,true)
				call SetPlayerAlliance(Scourges[i],Scourges[k],ALLIANCE_SHARED_CONTROL,false)
				call SetPlayerAlliance(Scourges[i],Scourges[k],ALLIANCE_SHARED_ADVANCED_CONTROL,false)
				call SetPlayerAlliance(Sentinels[i],Scourges[k],ALLIANCE_PASSIVE,false)
				call SetPlayerAlliance(Sentinels[i],Scourges[k],ALLIANCE_HELP_REQUEST,false)
				call SetPlayerAlliance(Sentinels[i],Scourges[k],ALLIANCE_HELP_RESPONSE,false)
				call SetPlayerAlliance(Sentinels[i],Scourges[k],ALLIANCE_SHARED_XP,false)
				call SetPlayerAlliance(Sentinels[i],Scourges[k],ALLIANCE_SHARED_SPELLS,false)
				call SetPlayerAlliance(Sentinels[i],Scourges[k],ALLIANCE_SHARED_VISION,false)
				call SetPlayerAlliance(Sentinels[i],Scourges[k],ALLIANCE_SHARED_CONTROL,false)
				call SetPlayerAlliance(Sentinels[i],Scourges[k],ALLIANCE_SHARED_ADVANCED_CONTROL,false)
				call SetPlayerAlliance(Scourges[i],Sentinels[k],ALLIANCE_PASSIVE,false)
				call SetPlayerAlliance(Scourges[i],Sentinels[k],ALLIANCE_HELP_REQUEST,false)
				call SetPlayerAlliance(Scourges[i],Sentinels[k],ALLIANCE_HELP_RESPONSE,false)
				call SetPlayerAlliance(Scourges[i],Sentinels[k],ALLIANCE_SHARED_XP,false)
				call SetPlayerAlliance(Scourges[i],Sentinels[k],ALLIANCE_SHARED_SPELLS,false)
				call SetPlayerAlliance(Scourges[i],Sentinels[k],ALLIANCE_SHARED_VISION,false)
				call SetPlayerAlliance(Scourges[i],Sentinels[k],ALLIANCE_SHARED_CONTROL,false)
				call SetPlayerAlliance(Scourges[i],Sentinels[k],ALLIANCE_SHARED_ADVANCED_CONTROL,false)
			endif
			set k=k+1
		endloop
		set k=0
		set i=i+1
	endloop
	call SetPlayerTeam(Sentinels[0],0)
	call SetPlayerTeam(Sentinels[1],0)
	call SetPlayerTeam(Sentinels[2],0)
	call SetPlayerTeam(Sentinels[3],0)
	call SetPlayerTeam(Sentinels[4],0)
	call SetPlayerTeam(Sentinels[5],0)
	call SetPlayerTeam(Scourges[0],1)
	call SetPlayerTeam(Scourges[1],1)
	call SetPlayerTeam(Scourges[2],1)
	call SetPlayerTeam(Scourges[3],1)
	call SetPlayerTeam(Scourges[4],1)
	call SetPlayerTeam(Scourges[5],1)
	call SetPlayerName(Sentinels[0],GetObjectName('n03N'))
	call SetPlayerName(Scourges[0],GetObjectName('n03O'))
	call SetPlayerName(Neutrals,GetObjectName('n0E8'))
	call Func0397()
	if Sentinels[0]!=Player(0) or Scourges[0]!=Player(6) then
		call Func0400()
	endif
	call Func0396()
	set i=1
	loop
		exitwhen i>5
		if IsPlayer(Sentinels[i]) then
			call SetPlayerState(Sentinels[i],PLAYER_STATE_RESOURCE_GOLD,(4375/Func0060(Force_Elfs)))
			call SetPlayerState(Sentinels[i],PLAYER_STATE_RESOURCE_LUMBER,0)
		endif
		if IsPlayer(Scourges[i]) then
			call SetPlayerState(Scourges[i],PLAYER_STATE_RESOURCE_GOLD,(4375/Func0060(Force_Unds)))
			call SetPlayerState(Scourges[i],PLAYER_STATE_RESOURCE_LUMBER,0)
		endif
		set i=i+1
	endloop
	call SetPlayerHandicapXP(Sentinels[1],1)
	call SetPlayerHandicapXP(Sentinels[2],1)
	call SetPlayerHandicapXP(Sentinels[3],1)
	call SetPlayerHandicapXP(Sentinels[4],1)
	call SetPlayerHandicapXP(Sentinels[5],1)
	call SetPlayerHandicapXP(Scourges[1],1)
	call SetPlayerHandicapXP(Scourges[2],1)
	call SetPlayerHandicapXP(Scourges[3],1)
	call SetPlayerHandicapXP(Scourges[4],1)
	call SetPlayerHandicapXP(Scourges[5],1)
	call SetPlayerState(Sentinels[0],PLAYER_STATE_GIVES_BOUNTY,1)
	call SetPlayerState(Sentinels[1],PLAYER_STATE_GIVES_BOUNTY,1)
	call SetPlayerState(Sentinels[2],PLAYER_STATE_GIVES_BOUNTY,1)
	call SetPlayerState(Sentinels[3],PLAYER_STATE_GIVES_BOUNTY,1)
	call SetPlayerState(Sentinels[4],PLAYER_STATE_GIVES_BOUNTY,1)
	call SetPlayerState(Sentinels[5],PLAYER_STATE_GIVES_BOUNTY,1)
	call SetPlayerState(Scourges[0],PLAYER_STATE_GIVES_BOUNTY,1)
	call SetPlayerState(Scourges[1],PLAYER_STATE_GIVES_BOUNTY,1)
	call SetPlayerState(Scourges[2],PLAYER_STATE_GIVES_BOUNTY,1)
	call SetPlayerState(Scourges[3],PLAYER_STATE_GIVES_BOUNTY,1)
	call SetPlayerState(Scourges[4],PLAYER_STATE_GIVES_BOUNTY,1)
	call SetPlayerState(Scourges[5],PLAYER_STATE_GIVES_BOUNTY,1)
	call Func0095()
	call StorePlayersColorValues()
	call Func0401(Sentinels[1])
	call Func0401(Sentinels[2])
	call Func0401(Sentinels[3])
	call Func0401(Sentinels[4])
	call Func0401(Sentinels[5])
	call Func0401(Scourges[1])
	call Func0401(Scourges[2])
	call Func0401(Scourges[3])
	call Func0401(Scourges[4])
	call Func0401(Scourges[5])
	set i=1
	loop
		exitwhen i>5
		if IsPlayer(Sentinels[i]) then
			call CreateUnitAtLoc(Sentinels[i],'n00C',spawnscrg,270)
		endif
		if IsPlayer(Scourges[i]) then
			call CreateUnitAtLoc(Scourges[i],'n00C',spawnsent,270)
		endif
		set i=i+1
	endloop
	call RemoveLocation(spawnscrg)
	call RemoveLocation(spawnsent)
	set i=0
	loop
		set Players_Name[i]=GetPlayerName(Player(i))
		set i=i+1
		exitwhen i==16
	endloop
	set spawnscrg=null
	set spawnsent=null
endfunction

function CHD takes integer hid, integer did, string win returns nothing
	local integer i=GetUnitPointValueByType(hid)
	local integer a=GetHeroPrimaryAttributeById(hid)
	set Hero_ID[i]=hid
	set Dummy_ID[i]=did
	set Hero_Icon[i]=GetUnitIconPathById(hid)
	call SaveUnitWinAnimation(Hero_ID[i],win)
	if IsUnitIdType(hid,UNIT_TYPE_MELEE_ATTACKER) then
		set MeleeHeroes_Count=MeleeHeroes_Count+1
		set MeleeHeroes_Array[MeleeHeroes_Count]=hid
	else
		set RangeHeroes_Count=RangeHeroes_Count+1
		set RangeHeroes_Array[RangeHeroes_Count]=hid
	endif
	if a==1 then
		set StrHeroes_Count=StrHeroes_Count+1
		set StrHeroes_Array[StrHeroes_Count]=hid
	elseif a==2 then
		set IntHeroes_Count=IntHeroes_Count+1
		set IntHeroes_Array[IntHeroes_Count]=hid
	elseif a==3 then
		set AgiHeroes_Count=AgiHeroes_Count+1
		set AgiHeroes_Array[AgiHeroes_Count]=hid
	endif
endfunction

function InitHeroes takes nothing returns nothing
	set FirstSentinelHeroIndexId=1
	call CHD('Hvwd','h03Z',"stand 4")
	call CHD('Hmbr','h040',"attack slam alternate")
	call CHD('Emoo','h041',"stand 4")
	call CHD('O00P','h042',"stand 2")
	call CHD('Hjai','h043',"stand victory")
	call CHD('H001','h044',"spell")
	call CHD('HC49','h045',"spell")
	call CHD('Otch','h046',"attack slam")
	call CHD('HC92','h047',"stand 4")
	call CHD('N01O','h048',"spell slam")
	call CHD('H004','h049',"stand victory")
	call CHD('Nbbc','h04A',"stand victory")
	call CHD('N01A','h04B',"stand ready")
	call CHD('Hamg','h04C',"stand 3")
	call CHD('O015','h07P',"stand victory")
	call CHD('Hblm','h04E',"stand victory")
	call CHD('Huth','h04F',"attack spell")
	call CHD('Hmkg','h04G',"sleep")
	call CHD('Ntin','h04H',"stand 2")
	call CHD('Emns','h04I',"spell")
	call CHD('Ogrh','h04J',"stand victory")
	call CHD('Ucrl','h04K',"spell")
	call CHD('H00K','h04L',"stand 2")
	call CHD('H00A','h04M',"spell chain lightning")
	call CHD('E005','h04N',"spell")
	call CHD('Usyl','h04O',"spell")
	call CHD('N016','h04P',"stand 3")
	call CHD('Orkn','h057',"stand victory")
	call CHD('O01F','h0CI',"stand 3")
	call CHD('Npbm','h053',"stand ready")
	call CHD('H000','h04X',"stand 3")
	call CHD('Naka','h052',"stand var4")
	call CHD('Hlgr','h04V',"stand victory")
	call CHD('Edem','h04T',"stand channel")
	call CHD('Nbrn','h055',"spell")
	call CHD('Harf','h04Z',"stand victory")
	call CHD('H00D','h04S',"spell slam")
	call CHD('E00P','h04R',"stand 3")
	call CHD('N01I','h054',"stand 2")
	call CHD('N01V','h04W',"stand ready")
	call CHD('H00S','h04Q',"spell")
	call CHD('H00Q','h04Y',"stand alternate 3")
	call CHD('E01Y','h058',"stand victory")
	call CHD('N00B','h050',"attack spell")
	call CHD('H00T','h051',"Birth")
	call CHD('H06S','h06T',"stand victory")
	call CHD('N0EG','h07A',"stand victory")
	call CHD('E02N','h0CC',"stand 3")
	call CHD('E02J','h0CD',"stand 3")
	call CHD('E02I','h0C9',"stand 3")
	call CHD('E02F','h0C8',"stand 3")
	call CHD('H008','h04U',"stand")
	call CHD('E02X','h0CT',"stand 3")
	call CHD('N0M0','h0DG',"stand 3")
	call CHD('E02K','h0CA',"stand 3")
	call CHD('H0DO','h0DH',"stand 3")
	call CHD('E032','h0EB',"stand 3")
	call CHD('N0MU','h0EK',"stand 3")
	call CHD('N0MD','h0EP',"stand victory")
	set LastSentinelHeroIndexId=59
	set FirstScourgeHeroIndexId=60
	call CHD('Ewar','h05J',"spell slam")
	call CHD('H00V','h05K',"stand ready")
	call CHD('Udre','h05L',"spell slam")
	call CHD('NC00','h05M',"stand victory")
	call CHD('UC42','h05N',"stand victory")
	call CHD('U000','h05O',"spell throw")
	call CHD('UC91','h05P',"spell")
	call CHD('UC01','h05Q',"spell slam")
	call CHD('E004','h05R',"stand victory")
	call CHD('EC45','h05S',"spell slam")
	call CHD('EC77','h05T',"spell slam")
	call CHD('E002','h05U',"spell")
	call CHD('U00C','h05V',"victory")
	call CHD('H00H','h05W',"stand ready")
	call CHD('Ofar','h05X',"attack slam")
	call CHD('Oshd','h05Y',"spell")
	call CHD('U00E','h05Z',"stand victory")
	call CHD('U00F','h060',"stand 3")
	call CHD('O00J','h061',"stand ready")
	call CHD('Ubal','h062',"attack")
	call CHD('Nfir','h063',"stand channel")
	call CHD('U00K','h064',"attack 3")
	call CHD('Opgh','h065',"stand victory")
	call CHD('Hvsh','h066',"stand victory")
	call CHD('Udea','h067',"stand ready")
	call CHD('E01B','h068',"stand ready")
	call CHD('E01A','h069',"stand victory")
	call CHD('U00P','h06A',"stand alternate 2")
	call CHD('E01C','h06C',"spell")
	call CHD('H00I','h06D',"spell")
	call CHD('N01W','h06E',"spell")
	call CHD('N00R','h06F',"stand channel")
	call CHD('H00R','h06G',"stand")
	call CHD('H00N','h06H',"spell")
	call CHD('H00U','h06B',"spell")
	call CHD('Uktl','h04D',"stand")
	call CHD('O016','h07R',"stand")
	call CHD('N0HP','h0B0',"stand")
	call CHD('H071','h072',"stand 3")
	call CHD('Eevi','h056',"spell channel")
	call CHD('Ekee','h059',"stand victory")
	call CHD('E02H','h0CB',"stand 3")
	call CHD('Ulic','h05A',"stand channel")
	call CHD('UC76','h05B',"spell wail")
	call CHD('UC18','h05C',"spell callstorm")
	call CHD('EC57','h05D',"attack")
	call CHD('UC11','h05E',"stand channel")
	call CHD('UC60','h05F',"stand victory")
	call CHD('U00A','h05G',"stand victory")
	call CHD('N0M7','h0DW',"stand victory")
	call CHD('N0MK','h0EF',"stand victory")
	call CHD('U008','h05H',"spell")
	call CHD('U006','h05I',"walk")
	set LastHeroIndexId=112
	call AllHeroes_Init()
endfunction

function InitUnits takes nothing returns nothing
	call SaveUnitWinAnimation('esen',"stand 4")
	call SaveUnitWinAnimation('e00V',"stand 4")
	call SaveUnitWinAnimation('edry',"spell")
	call SaveUnitWinAnimation('e00W',"spell")
	call SaveUnitWinAnimation('ugho',"stand victory")
	call SaveUnitWinAnimation('u001',"stand victory")
	call SaveUnitWinAnimation('unec',"stand channel")
	call SaveUnitWinAnimation('u002',"stand channel")
endfunction

function Func0406 takes integer id returns boolean
	return id=='H00J' or id=='N0MM'
endfunction

function Func0407 takes integer id returns boolean
	local integer i=0
	loop
		exitwhen i>integer049
		if integers079[i]==id then
			return true
		endif
		set i=i+1
	endloop
	return false
endfunction

function Func0408 takes nothing returns nothing
	set integer049=integer049+1
	set integers079[integer049]='A1ZW'
	set integer049=integer049+1
	set integers079[integer049]='A0B6'
	set integer049=integer049+1
	set integers079[integer049]='A0K7'
	set integer049=integer049+1
	set integers079[integer049]='A0T7'
	set integer049=integer049+1
	set integers079[integer049]='A0T8'
	set integer049=integer049+1
	set integers079[integer049]='A11F'
	set integer049=integer049+1
	set integers079[integer049]='A11H'
	set integer049=integer049+1
	set integers079[integer049]='A11G'
	set integer049=integer049+1
	set integers079[integer049]='A11D'
	set integer049=integer049+1
	set integers079[integer049]='A0S3'
	set integer049=integer049+1
	set integers079[integer049]='A11E'
	set integer049=integer049+1
	set integers079[integer049]='A15W'
	set integer049=integer049+1
	set integers079[integer049]='A2HQ'
	set integer049=integer049+1
	set integers079[integer049]='A231'
	set integer049=integer049+1
	set integers079[integer049]='A2HO'
	set integer049=integer049+1
	set integers079[integer049]='A02O'
	set integer049=integer049+1
	set integers079[integer049]='A08Y'
	set integer049=integer049+1
	set integers079[integer049]='A08Z'
	set integer049=integer049+1
	set integers079[integer049]='A090'
	set integer049=integer049+1
	set integers079[integer049]='A092'
	set integer049=integer049+1
	set integers079[integer049]='AIpg'
	set integer049=integer049+1
	set integers079[integer049]='AItb'
	set integer049=integer049+1
	set integers079[integer049]='A0H6'
	set integer049=integer049+1
	set integers079[integer049]='A1QD'
	set integer049=integer049+1
	set integers079[integer049]='A1T7'
	set integer049=integer049+1
	set integers079[integer049]='A19M'
	set integer049=integer049+1
	set integers079[integer049]='A1AC'
	set integer049=integer049+1
	set integers079[integer049]='AChx'
	set integer049=integer049+1
	set integers079[integer049]='A28Y'
	set integer049=integer049+1
	set integers079[integer049]='AIbk'
	set integer049=integer049+1
	set integers079[integer049]='A1EW'
	set integer049=integer049+1
	set integers079[integer049]='A017'
	set integer049=integer049+1
	set integers079[integer049]='A0JY'
	set integer049=integer049+1
	set integers079[integer049]='A0FO'
	set integer049=integer049+1
	set integers079[integer049]='A0H7'
	set integer049=integer049+1
	set integers079[integer049]='A0B8'
	set integer049=integer049+1
	set integers079[integer049]='A1WE'
	set integer049=integer049+1
	set integers079[integer049]='AIxk'
	set integer049=integer049+1
	set integers079[integer049]='A1ZI'
	set integer049=integer049+1
	set integers079[integer049]='A0CK'
	set integer049=integer049+1
	set integers079[integer049]='A0JL'
	set integer049=integer049+1
	set integers079[integer049]='A1FO'
	set integer049=integer049+1
	set integers079[integer049]='AIda'
	set integer049=integer049+1
	set integers079[integer049]='A0HB'
	set integer049=integer049+1
	set integers079[integer049]='A0D3'
	set integer049=integer049+1
	set integers079[integer049]='A0DF'
	set integer049=integer049+1
	set integers079[integer049]='A0FD'
	set integer049=integer049+1
	set integers079[integer049]='A12W'
	set integer049=integer049+1
	set integers079[integer049]='A14A'
	set integer049=integer049+1
	set integers079[integer049]='A1FD'
	set integer049=integer049+1
	set integers079[integer049]='A1IO'
	set integer049=integer049+1
	set integers079[integer049]='A02W'
	set integer049=integer049+1
	set integers079[integer049]='A269'
	set integer049=integer049+1
	set integers079[integer049]='A2KG'
	set integer049=integer049+1
	set integers079[integer049]='A1FP'
	set integer049=integer049+1
	set integers079[integer049]='A0T9'
	set integer049=integer049+1
	set integers079[integer049]='A1Q8'
	set integer049=integer049+1
	set integers079[integer049]='A1MO'
	set integer049=integer049+1
	set integers079[integer049]='A28D'
	set integer049=integer049+1
	set integers079[integer049]='Aeat'
	set integer049=integer049+1
	set integers079[integer049]='A0K0'
	set integer049=integer049+1
	set integers079[integer049]='AIpl'
	set integer049=integer049+1
	set integers079[integer049]='A0JT'
	set integer049=integer049+1
	set integers079[integer049]='AIpr'
	set integer049=integer049+1
	set integers079[integer049]='A02X'
	set integer049=integer049+1
	set integers079[integer049]='A1R5'
	set integer049=integer049+1
	set integers079[integer049]='AIsw'
	set integer049=integer049+1
	set integers079[integer049]='A206'
	set integer049=integer049+1
	set integers079[integer049]='A1ZH'
	set integer049=integer049+1
	set integers079[integer049]='A2EA'
	set integer049=integer049+1
	set integers079[integer049]='A2K4'
	set integer049=integer049+1
	set integers079[integer049]='A2K7'
	set integer049=integer049+1
	set integers079[integer049]='A2K1'
	set integer049=integer049+1
	set integers079[integer049]='A2VE'
endfunction

function Func0409 takes integer id returns boolean
	return id=='A21F' or id=='A21G' or id=='A21H' or id=='A1S9' or id=='A24A' or id=='A24B' or id=='A1S9' or id=='A06K' or id=='A1VG' or id=='A28Q' or id=='A1WF' or id=='A0T8' or id=='A0T7' or id=='A20N' or id=='A1Z2' or id=='A1Z3' or id=='A205' or id=='A14A' or id=='A269' or id=='A2KG' or id=='A2NI' or id=='A27X' or id=='A28Y' or id=='A24E' or id=='A1ZH' or id=='A1WO' or id=='A1FQ' or id=='A0TE' or id=='A2JO' or id=='A2FX' or id=='A0MP' or id=='A2KE' or id=='A2KH' or id=='A2K9' or id=='A2JL' or id=='A2N1' or id=='A2MB' or id=='A2O2' or id=='A2O9' or id=='A2TH' or id=='A2TK' or id=='A2LI' or id=='A1C0' or id=='A2XK'
endfunction

function Func0410 takes nothing returns nothing
	set integer048=integer048+1
	set integers078[integer048]='A0H6'
	set integer048=integer048+1
	set integers078[integer048]='A012'
	set integer048=integer048+1
	set integers078[integer048]='A06K'
	set integer048=integer048+1
	set integers078[integer048]='A0I9'
	set integer048=integer048+1
	set integers078[integer048]='A0HA'
	set integer048=integer048+1
	set integers078[integer048]='A0K5'
	set integer048=integer048+1
	set integers078[integer048]='A0PY'
	set integer048=integer048+1
	set integers078[integer048]='A1FO'
	set integer048=integer048+1
	set integers078[integer048]='A2XJ'
	set integer048=integer048+1
	set integers078[integer048]='A0SA'
	set integer048=integer048+1
	set integers078[integer048]='A0T7'
	set integer048=integer048+1
	set integers078[integer048]='A0T8'
	set integer048=integer048+1
	set integers078[integer048]='A14A'
	set integer048=integer048+1
	set integers078[integer048]='A0BE'
	set integer048=integer048+1
	set integers078[integer048]='A21X'
	set integer048=integer048+1
	set integers078[integer048]='A21W'
	set integer048=integer048+1
	set integers078[integer048]='A21V'
	set integer048=integer048+1
	set integers078[integer048]='Anh1'
	set integer048=integer048+1
	set integers078[integer048]='A1OZ'
	set integer048=integer048+1
	set integers078[integer048]='A13D'
	set integer048=integer048+1
	set integers078[integer048]='A026'
	set integer048=integer048+1
	set integers078[integer048]='A1Q8'
endfunction

function Func0411 takes nothing returns nothing
	set integers037[1]='AImt'
	set integers037[2]='AIda'
	set integers037[3]='ANtm'
	set integers037[4]='A2V4'
	set integers037[5]='AIxk'
	set integers037[6]='A0CK'
	set integers037[7]='A017'
	set integers037[8]='A0B8'
	set integers037[9]='A0HB'
	set integers037[10]='A0D3'
	set integers037[10]='A0DF'
	set integers037[11]='A02W'
	set integers037[12]='AIpr'
	set integers037[13]='AIpl'
	set integers037[14]='A0FO'
	set integers037[15]='A0H7'
	set integers037[16]='A0H6'
	set integers037[17]='A02X'
	set integers037[18]='AIsw'
	set integers037[19]='A0CX'
	set integers037[20]='A0B6'
	set integers037[21]='Aeat'
	set integers037[22]='A08L'
	set integers037[23]='AIcy'
	set integers037[24]='A05Z'
	set integers037[25]='AIbk'
	set integers037[26]='A0DY'
	set integers037[27]='A0LZ'
	set integers037[28]='A0OI'
	set integers037[29]='A0KX'
	set integers037[30]='A0KW'
	set integers037[31]='A026'
	set integers037[32]='A0C4'
	set integers037[33]='A012'
	set integers037[34]='A06K'
	set integers037[35]='A02T'
	set integers037[36]='AHfa'
	set integers037[37]='A09V'
	set integers037[38]='A05Y'
	set integers037[39]='A0I9'
	set integers037[40]='A0HA'
	set integers037[41]='A0K5'
	set integers037[42]='A0PY'
	set integers037[43]='A0QN'
	set integers037[44]='A2XJ'
	set integers037[45]='A0RP'
	set integers037[46]='A12W'
	set integers037[47]='A0SA'
	set integers037[48]='A0T7'
	set integers037[49]='A0T8'
	set integers037[50]='A14A'
	set integers037[51]='A0BE'
	set integers037[52]='A21X'
	set integers037[53]='A21W'
	set integers037[54]='A21V'
	set integers037[55]='A0MP'
	set integers037[56]='A13D'
	set integers037[57]='A0JY'
	set integers037[58]='A15W'
	set integers037[59]='A1FO'
	set integers037[60]='A1FD'
	set integers037[61]='A1OZ'
	set integers037[62]='A1MO'
	set integers037[63]='A1IO'
	set integers037[64]='A1Q8'
	set integers037[65]='A1RA'
	set integers037[66]='A1QV'
	set integers037[67]='A1WE'
	set integers037[68]='A1WB'
	set integers037[69]='A2KG'
	set integers037[70]='A2N3'
	set integers037[71]='A2UM'
	set integers037[72]='A2VE'
	set integer013=72
endfunction

function Func0412 takes nothing returns boolean
	call Func0411()
	call Func0410()
	call Func0408()
	return false
endfunction

function InitQuests takes nothing returns nothing
	call CreateQuestBJ(0,"TRIGSTR_50004","TRIGSTR_50005","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
	call CreateQuestBJ(0,"TRIGSTR_50006","TRIGSTR_50007","ReplaceableTextures\\CommandButtons\\BTNTome.blp")
	call CreateQuestBJ(0,"TRIGSTR_50008","TRIGSTR_50009","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
	call CreateQuestBJ(2,"TRIGSTR_50010","TRIGSTR_50011","ReplaceableTextures\\CommandButtons\\BTNScrollOfHaste.blp")
	call CreateQuestBJ(2,"TRIGSTR_50012","TRIGSTR_50013","ReplaceableTextures\\CommandButtons\\BTNBansheeMaster.blp")
	call CreateQuestBJ(2,"TRIGSTR_50014","TRIGSTR_50015","ReplaceableTextures\\CommandButtons\\BTNCarrionScarabs.blp")
endfunction

function Func0414 takes nothing returns boolean
	local string s
	if IsUnitIllusion(GetTriggerUnit())==false and Func0406(GetUnitTypeId(GetTriggerUnit()))==false then
		set s=GetUnitName(GetTriggerUnit())+" "+GetObjectName('n0HB')+" "+GetObjectName(GetLearnedSkill())+" ("+GetObjectName('n0HC')+" "+I2S(GetUnitAbilityLevel(GetTriggerUnit(),GetLearnedSkill()))+")"
		call DisplayTimedTextToPlayer(Observer1,0,0,3,s)
		call DisplayTimedTextToPlayer(Observer2,0,0,3,s)
	endif
	return false
endfunction

function Func0415 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func0414))
	set t=null
endfunction

function Func0416 takes nothing returns nothing
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,25.00,(Players_Name[GetPlayerId((GetTriggerPlayer()))])+"|c00ff0303 "+GetObjectName('n02D')+"|r")
endfunction

function Func0417 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local player VV1=(LoadPlayerHandle(HY,(h),(78)))
	local integer TGI=1
	local integer VW1
	local integer ROI=GetPlayerState(VV1,PLAYER_STATE_RESOURCE_GOLD)
	if booleans025[GetPlayerId(VV1)]==false and Mode_SO then
		if GetTriggerEvalCount(t)==4 then
			if IsPlayerAlly(LocalPlayer,VV1) then
				call DisplayTimedTextToPlayer(LocalPlayer,0,0,6,GetObjectName('n0J3'))
				call DisplayTimedTextToPlayer(LocalPlayer,0,0,6,GetObjectName('n0JG'))
			endif
		endif
		return false
	endif
	if ROI>20 then
		call SetPlayerState(VV1,PLAYER_STATE_RESOURCE_GOLD,0)
		set ReliableGold[GetPlayerId(VV1)]=0
		if IsSentinel(VV1)then
			set VW1=CountPlayersInForce(Force_Elfs)
		else
			set VW1=CountPlayersInForce(Force_Unds)
		endif
		if IsSentinel(VV1)then
			loop
				exitwhen TGI>5
				if IsPlayer(Sentinels[TGI])then
					call SetPlayerState(Sentinels[TGI],PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Sentinels[TGI],PLAYER_STATE_RESOURCE_GOLD)+ROI/VW1)
				endif
				set TGI=TGI+1
			endloop
		else
			loop
				exitwhen TGI>5
				if IsPlayer(Scourges[TGI])then
					call SetPlayerState(Scourges[TGI],PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Scourges[TGI],PLAYER_STATE_RESOURCE_GOLD)+ROI/VW1)
				endif
				set TGI=TGI+1
			endloop
		endif
	endif
	return false
endfunction

function Func0418 takes player VV1 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SavePlayerHandle(HY,(h),(78),(VV1))
	call TriggerRegisterTimerEvent(t,2,true)
	call TriggerAddCondition(t,Condition(function Func0417))
	set t=null
endfunction

function Func0419 takes player p returns nothing
	local multiboarditem mbi=MultiboardGetItem(multiboard001,integers116[GetPlayerId(p)],integers115[GetPlayerId(p)])
	call MultiboardSetItemValue(mbi,"|c00333333"+(Players_Name[GetPlayerId((p))])+"|r")
	call MultiboardReleaseItem(mbi)
endfunction

function PlayerLeave_Act takes nothing returns nothing
	local integer numsent=CountPlayersInForce(Force_Elfs)
	local integer numscrg=CountPlayersInForce(Force_Unds)
	local integer i
	local string time
	local string name
	local player p=GetTriggerPlayer()
	local integer id=GetPlayerId(p)
	local unit Hero=Players_Hero[id]
	local string s
	if Hero==null then
		set name=GetObjectName('n0EW')
	else
		set name=GetUnitName(Hero)
	endif
	if SecondsForTime<10 then
		set time=I2S(MinutesForTime)+":0"+I2S(SecondsForTime)
	else
		set time=I2S(MinutesForTime)+":"+I2S(SecondsForTime)
	endif
	if not boolean036 then
		set LeftAt[id]="|c00555555"+time+"|r"
		set s=Players_Color[id]+Players_Name[id]+" ("+name+")|r"
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,25.,s+"|c00ff0303 "+GetObjectName('n02D')+"|r")
		if GetStoredInteger(GMC,"MHDetection",I2S(id))==1 then
			call SuperTextPrinterFactory(s+" has been booted for using hack",10)
		endif
		if IsSentinel(p) then
			set i=1
			loop
				exitwhen i>5
				if Sentinels[i]!=p then
					if IsPlayer(Sentinels[i]) then
						call SetPlayerAllianceStateBJ(p,Sentinels[i],4)
					endif
				endif
				set i=i+1
			endloop
		else
			set i=1
			loop
				exitwhen i>5
				if Scourges[i]!=p then
					if IsPlayer(Scourges[i]) then
						call SetPlayerAllianceStateBJ(p,Scourges[i],4)
					endif
				endif
				set i=i+1
			endloop
		endif
		if IsSentinel(p)or Func0052(p)then
			set integer050=integer050+1
		endif
		call Traffic_RegisterData("C"+"K"+I2S(PlayerCS[id])+"D"+I2S(CSDenies[id])+"N"+I2S(LoadInteger(HY,400+id,79)),id)
		set LeaverPlayer=p
		call ExecuteFunc("Func1077")
		if Mode_SO then
			call Func0244(p)
		endif
		set booleans018[id]=true
		call Func0419(p)
		call Func0418(p)
		if integer050==2 and isObserversMode==false and Mode_SO then
			call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60," ")
			call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60," ")
			call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"|c006699CC"+GetObjectName('n0FW')+"|r")
		endif
		if integer050==3 then
			set boolean094=true
			call ExecuteFunc("Func1076")
			set boolean094=false
		endif
	else
		set LeftAt[id]="|c00555555End|r"
		call ExecuteFunc("Func0984")
	endif
endfunction

function Func0421 takes unit Hero returns nothing
	if GetUnitTypeId(Hero)!='H00J' and GetUnitTypeId(Hero)!='H00I' then
		if GetOwningPlayer(Hero)==GetLocalPlayer()then
			call DisplayTimedTextToPlayer(LocalPlayer,0,0,1," ")
			call DisplayTimedTextToPlayer(LocalPlayer,0,0,1,"|c006699CC"+GetObjectName('n0GR'))
			call DisplayTimedTextToPlayer(LocalPlayer,0,0,1," ")
		endif
		call Func0211(sound044,GetOwningPlayer(Hero))
	endif
	call SetUnitInvulnerable(Hero,false)
	call UnitRemoveAbility(Hero,'A0AZ')
	call UnitRemoveAbility(Hero,'A09J')
	call UnitRemoveAbility(Hero,'A0KT')
	call UnitRemoveAbility(Hero,'A0NW')
	call UnitRemoveAbility(Hero,'A0NU')
	call UnitRemoveAbility(Hero,'A0OW')
	call UnitRemoveAbility(Hero,'A0OV')
	call UnitRemoveAbility(Hero,'A0OX')
	call UnitRemoveAbility(Hero,'A0OY')
	call UnitRemoveAbility(Hero,'A0P0')
	call UnitRemoveAbility(Hero,'A17K')
	call UnitRemoveAbility(Hero,'A0PV')
	call UnitRemoveAbility(Hero,'A0QO')
	call UnitRemoveAbility(Hero,'A0RC')
	call UnitRemoveAbility(Hero,'A0RF')
	call UnitRemoveAbility(Hero,integer033)
	call UnitRemoveAbility(Hero,integer034)
	call UnitRemoveAbility(Hero,integer035)
	call UnitRemoveAbility(Hero,integer036)
	call UnitRemoveAbility(Hero,'A0NU')
	call UnitRemoveAbility(Hero,'A0NW')
	call UnitRemoveAbility(Hero,integer418)
	call UnitRemoveAbility(Hero,'A0I5')
	call UnitRemoveAbility(Hero,'A0C9')
	call UnitRemoveAbility(Hero,'A0IH')
	call UnitRemoveAbility(Hero,'B067')
	call UnitRemoveAbility(Hero,'B08L')
	call UnitRemoveAbility(Hero,'A0SR')
	call UnitRemoveAbility(Hero,'A0WO')
	call UnitRemoveAbility(Hero,'A0WR')
	call UnitRemoveAbility(Hero,'A1CN')
	call UnitRemoveAbility(Hero,'A0VH')
	call UnitRemoveAbility(Hero,'A0VJ')
	call UnitRemoveAbility(Hero,'A109')
	call UnitRemoveAbility(Hero,'A0VW')
	call UnitRemoveAbility(Hero,'A0XM')
	call UnitRemoveAbility(Hero,'A11O')
	call UnitRemoveAbility(Hero,'A11R')
	call UnitRemoveAbility(Hero,'A147')
	call UnitRemoveAbility(Hero,'A148')
	call UnitRemoveAbility(Hero,'A11U')
	call UnitRemoveAbility(Hero,'A149')
	call UnitRemoveAbility(Hero,'A121')
	call UnitRemoveAbility(Hero,'A126')
	call UnitRemoveAbility(Hero,'A179')
	call UnitRemoveAbility(Hero,'Aetl')
	call UnitRemoveAbility(Hero,integers052[0])
	call UnitRemoveAbility(Hero,integers052[1])
	call UnitRemoveAbility(Hero,integers052[2])
	call UnitRemoveAbility(Hero,integers052[3])
	call UnitRemoveAbility(Hero,integers052[4])
	call UnitRemoveAbility(Hero,integers052[5])
	call UnitRemoveAbility(Hero,'A1G5')
	call UnitRemoveAbility(Hero,'A1G3')
	call UnitRemoveAbility(Hero,'A1G6')
	call UnitRemoveAbility(Hero,'A1G4')
	call SaveBoolean(HY,(GetHandleId(Hero)),(80),(false))
	call SetUnitPathing(Hero,true)
	call PauseUnit(Hero,false)
	call SetUnitFlyHeight(Hero,GetUnitDefaultFlyHeight(Hero),0)
	call SetUnitScale(Hero,GetUnitDefaultScale(Hero)*real258,GetUnitDefaultScale(Hero)*real258,GetUnitDefaultScale(Hero)*real258)
	call UnitRemoveAbility(Hero,'A1CA')
	call UnitRemoveAbility(Hero,'A1C9')
	call UnitRemoveAbility(Hero,'A1CB')
	call UnitRemoveAbility(Hero,'A1CC')
	call UnitRemoveAbility(Hero,'A1GA')
	call UnitRemoveAbility(Hero,'A1W3')
	call UnitRemoveAbility(Hero,'B0DO')
	call UnitRemoveAbility(Hero,'A1UH')
	call UnitRemoveAbility(Hero,'A1UI')
	call UnitRemoveAbility(Hero,'A1Z4')
	call UnitRemoveAbility(Hero,'A1ZA')
	call UnitRemoveAbility(Hero,'A1ZB')
	call UnitRemoveAbility(Hero,'A1Z9')
	call UnitRemoveAbility(Hero,'B0DV')
	call UnitRemoveAbility(Hero,'A266')
	call UnitRemoveAbility(Hero,'A265')
	call UnitRemoveAbility(Hero,'A24L')
	call UnitRemoveAbility(Hero,'B0ED')
	call UnitRemoveAbility(Hero,'A23O')
	call UnitRemoveAbility(Hero,'B0E9')
	call Func0370(Hero,0)
	if GetUnitTypeId(Hero)=='E02N' or GetUnitTypeId(Hero)=='E02O' then
		call UnitRemoveAbility(Hero,'A237')
		call UnitAddAbility(Hero,'A22B')
		call UnitRemoveAbility(Hero,'A22B')
		if Func0341(Hero,integers089[integer371])!=null then
			call UnitAddAbility(Hero,'A237')
		endif
	endif
	if GetUnitTypeId(Hero)=='N0MU' or GetUnitTypeId(Hero)=='N0MW' then
		call UnitAddAbility(Hero,'A2QR')
		call UnitRemoveAbility(Hero,'A2QR')
	endif
	if GetUnitTypeId(Hero)=='H0EL' or GetUnitTypeId(Hero)=='H0EO' then
		call UnitAddAbility(Hero,'A2SX')
		call UnitRemoveAbility(Hero,'A2SX')
	endif
	if GetUnitTypeId(Hero)=='H0ER' then
		call UnitAddAbility(Hero,'A2VV')
		call UnitRemoveAbility(Hero,'A2VV')
	endif
	call UnitRemoveAbility(Hero,'A2WL')
	call UnitRemoveAbility(Hero,'A23F')
	call UnitRemoveAbility(Hero,'A2WK')
	call UnitRemoveAbility(Hero,'A2WJ')
	call UnitRemoveAbility(Hero,'A2S1')
	call Func0260(Hero)
	set tt_unit1=Hero
	call ExecuteFunc("Func1813")
endfunction

function Func0422 takes nothing returns boolean
	if GetPlayerAlliance(GetOwningPlayer(GetFilterUnit()),player011,ALLIANCE_SHARED_CONTROL) and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false then
		set integer051=integer051+1
	endif
	return false
endfunction

function Func0423 takes unit u,player p,real x,real y,boolean VU1 returns nothing
	local group g=GetAvailableGroup()
	set integer051=0
	set player011=p
	call GroupEnumUnitsSelected(g,p,Condition(function Func0422))
	if integer051==0 and LocalPlayer==p then
		if VU1==false then
			call ClearSelection()
			call SelectUnit(u,true)
		endif
		call PanCameraToTimed(x,y,0)
	endif
	set integer051=0
	call KillGroup(g)
	set g=null
endfunction

function Func0424 takes unit AD1 returns boolean
	return GetUnitTypeId(AD1)=='H00I' or GetUnitTypeId(AD1)=='H00J'
endfunction

function Func0425 takes unit W11 returns nothing
	local integer WO1
	if Func0341(W11,integers089[integer235])!=null and GetUnitTypeId(W11)!='H00J' then
		set WO1=R2I(GetItemCharges(Func0341(W11,integers089[integer235]))*0.67)
		if GetItemCharges(Func0341(W11,integers089[integer235]))==1 then
			set WO1=0
		endif
		call SetItemCharges(Func0341(W11,integers089[integer235]),WO1)
		call AddHeroXP(W11,GetHeroXP(units009[GetPlayerId(GetOwningPlayer(W11))]),true)
		call RemoveUnit(units009[GetPlayerId(GetOwningPlayer(W11))])
	endif
endfunction

function Func0426 takes unit W31 returns nothing
	local integer h=GetHandleId(GetOwningPlayer(W31))
	local unit W41=(LoadUnitHandle(HY,(h),(699)))
	local unit W51=(LoadUnitHandle(HY,(h),(700)))
	local unit W61=(LoadUnitHandle(HY,(h),(701)))
	local unit W71=(LoadUnitHandle(HY,(h),(702)))
	local unit W81=(LoadUnitHandle(HY,(h),(703)))
	local unit W91
	set W91=W41
	if W91!=null then
		call RemoveUnit(W91)
	endif
	set W91=W51
	if W91!=null then
		call RemoveUnit(W91)
	endif
	set W91=W61
	if W91!=null then
		call RemoveUnit(W91)
	endif
	set W91=W71
	if W91!=null then
		call RemoveUnit(W91)
	endif
	set W91=W81
	if W91!=null then
		call RemoveUnit(W91)
	endif
endfunction

function Func0427 takes nothing returns boolean
	call CleanTrigger(GetTriggeringTrigger())
	set boolean074=false
	return false
endfunction

function Func0428 takes unit WC1 returns nothing
	local integer h=GetHandleId(GetOwningPlayer(WC1))
	local unit W41=(LoadUnitHandle(HY,(h),(699)))
	local unit W51=(LoadUnitHandle(HY,(h),(700)))
	local unit W61=(LoadUnitHandle(HY,(h),(701)))
	local unit W71=(LoadUnitHandle(HY,(h),(702)))
	local unit W81=(LoadUnitHandle(HY,(h),(703)))
	local unit W91
	local real x=GetUnitX(W41)
	local real y=GetUnitY(W41)
	local trigger t
	if boolean074==false then
		if IsSentinel(GetOwningPlayer(W41))then
			set x=GetRectCenterX(Hero_Creation_NE)
			set y=GetRectCenterY(Hero_Creation_NE)
		else
			set x=GetRectCenterX(Hero_Creation_UD)
			set y=GetRectCenterY(Hero_Creation_UD)
		endif
	else
		set t=CreateTrigger()
		call TriggerRegisterTimerEvent(t,2,false)
		call TriggerAddCondition(t,Condition(function Func0427))
	endif
	set W91=W41
	if W91!=null and WC1!=W91 then
		call ReviveHero(W91,x,y,false)
		call SetUnitX(W91,x)
		call SetUnitY(W91,y)
		call Func0421(W91)
		call SetUnitPathing(W91,true)
		call SetUnitState(W91,UNIT_STATE_MANA,10000)
	endif
	set W91=W51
	if W91!=null and WC1!=W91 then
		call ReviveHero(W91,x,y,false)
		call SetUnitX(W91,x)
		call SetUnitY(W91,y)
		call Func0421(W91)
		call SetUnitPathing(W91,true)
		call SetUnitState(W91,UNIT_STATE_MANA,10000)
	endif
	set W91=W61
	if W91!=null and WC1!=W91 then
		call ReviveHero(W91,x,y,false)
		call SetUnitX(W91,x)
		call SetUnitY(W91,y)
		call Func0421(W91)
		call SetUnitPathing(W91,true)
		call SetUnitState(W91,UNIT_STATE_MANA,10000)
	endif
	set W91=W71
	if W91!=null and WC1!=W91 then
		call ReviveHero(W91,x,y,false)
		call SetUnitX(W91,x)
		call SetUnitY(W91,y)
		call Func0421(W91)
		call SetUnitPathing(W91,true)
		call SetUnitState(W91,UNIT_STATE_MANA,10000)
	endif
	set W91=W81
	if W91!=null and WC1!=W91 then
		call ReviveHero(W91,x,y,false)
		call SetUnitX(W91,x)
		call SetUnitY(W91,y)
		call Func0421(W91)
		call SetUnitPathing(W91,true)
		call SetUnitState(W91,UNIT_STATE_MANA,10000)
	endif
endfunction

function Func0429 takes nothing returns nothing
	local unit PKI=GetTriggerUnit()
	local player T4I=GetOwningPlayer(PKI)
	local real x
	local real y
	local integer WO1
	set booleans017[GetPlayerId((T4I))]=false
	set booleans010[GetPlayerId(GetOwningPlayer((PKI)))]=false
	if IsSentinel(GetOwningPlayer(PKI))then
		set x=GetRectCenterX(Hero_Creation_NE)
		set y=GetRectCenterY(Hero_Creation_NE)
	else
		set x=GetRectCenterX(Hero_Creation_UD)
		set y=GetRectCenterY(Hero_Creation_UD)
	endif
	if boolean067 then
		set integers066[GetPlayerId(T4I)]=R2I(TimerGetRemaining(timers002[GetPlayerId(T4I)])*0.25)
	else
		set integers066[GetPlayerId(T4I)]=0
	endif
	call TimerStart(timers002[GetPlayerId(T4I)],0.0,false,null)
	if Func0424(PKI)then
		call Func0428(PKI)
	else
		call Func0423(PKI,T4I,x,y,false)
	endif
	call SetUnitX(PKI,x)
	call SetUnitY(PKI,y)
	call Func0421(PKI)
	call SetUnitPathing(PKI,true)
	if Func0341(PKI,integers089[integer235])!=null and GetUnitTypeId(PKI)!='H00J' then
		set WO1=(R2I(((GetItemCharges(Func0341(PKI,integers089[integer235]))*0.67)*1.0)))
		if GetItemCharges(Func0341(PKI,integers089[integer235]))==1 then
			set WO1=0
		endif
		call SetItemCharges(Func0341(PKI,integers089[integer235]),WO1)
		call AddHeroXP(PKI,GetHeroXP(units009[GetPlayerId(GetOwningPlayer(PKI))]),true)
		call RemoveUnit(units009[GetPlayerId(GetOwningPlayer(PKI))])
	endif
endfunction

function Func0430 takes unit Hero returns nothing
	local integer i=GetUnitPointValue(Hero)
	local unit WH1
	if(i==34)then
		call ExecuteFunc("Func1582")
		call ExecuteFunc("Func1595")
		call ExecuteFunc("Func1590")
	elseif(i==37)then
		call ExecuteFunc("Func1606")
		call ExecuteFunc("Func1600")
		call ExecuteFunc("Func1616")
		call ExecuteFunc("Func1610")
	elseif(i==38)then
		call ExecuteFunc("Func1975")
		call ExecuteFunc("Func1960")
		call ExecuteFunc("Func1966")
		call ExecuteFunc("Func1950")
	elseif(i==32)then
		call ExecuteFunc("Func1622")
		call ExecuteFunc("Func1630")
		call ExecuteFunc("Func1642")
		call ExecuteFunc("Func1636")
	elseif(i==52)then
		call ExecuteFunc("Func1652")
		call ExecuteFunc("Func1666")
		call ExecuteFunc("Func1673")
		call ExecuteFunc("Func1659")
	elseif(i==31)then
		call ExecuteFunc("Func1680")
		call ExecuteFunc("Func1676")
		call ExecuteFunc("Func1687")
	elseif(i==24)then
		call ExecuteFunc("Func1705")
		call ExecuteFunc("Func1709")
		call ExecuteFunc("Func1701")
		call ExecuteFunc("Func1694")
	elseif(i==5)then
		call ExecuteFunc("Func1761")
		call ExecuteFunc("Func1757")
		call ExecuteFunc("Func1765")
		call ExecuteFunc("Func1754")
	elseif(i==8)then
		call ExecuteFunc("Func1838")
		call ExecuteFunc("Func1824")
		call ExecuteFunc("Func1820")
		call ExecuteFunc("Func1832")
		call ExecuteFunc("Func1828")
	elseif(i==3)then
		call ExecuteFunc("Func1860")
		call ExecuteFunc("Func1847")
		call ExecuteFunc("Func1855")
		call ExecuteFunc("Func1841")
	elseif(i==95)then
		call ExecuteFunc("Func1885")
		call ExecuteFunc("Func1871")
		call ExecuteFunc("Func1866")
		call ExecuteFunc("Func1875")
	elseif(i==20)then
		call ExecuteFunc("Func1913")
		call ExecuteFunc("Func1916")
		call ExecuteFunc("Func1920")
		call ExecuteFunc("Func1924")
	elseif(i==12)then
		call ExecuteFunc("Func1993")
		call ExecuteFunc("Func1985")
		call ExecuteFunc("Func1990")
	elseif(i==16)then
		call ExecuteFunc("Func2005")
		call ExecuteFunc("Func2022")
		call ExecuteFunc("Func2015")
		call ExecuteFunc("Func1999")
		call ExecuteFunc("Func2029")
		call ExecuteFunc("Func2018")
		call ExecuteFunc("Func2034")
	elseif(i==25)then
		call ExecuteFunc("Func2051")
		call ExecuteFunc("Func2046")
	elseif(i==4)then
		call ExecuteFunc("Func2114")
		call ExecuteFunc("Func2093")
		call ExecuteFunc("Func2110")
		call ExecuteFunc("Func2117")
		call ExecuteFunc("Func2103")
		call SetUnitPathing(Hero,false)
		call DisableTrigger(trigger057)
		set boolean093=true
		set WH1=CreateUnit(GetOwningPlayer(Hero),GetUnitTypeId(Hero),GetUnitX(Hero),GetUnitY(Hero),GetUnitFacing(Hero))
		call SaveBoolean(HY,(GetHandleId(WH1)),(85),(true))
		set Players_Hero[GetPlayerId(GetOwningPlayer(Hero))]=WH1
		call SetUnitPathing(WH1,false)
		call SetUnitPosition(WH1,GetUnitX(Hero),GetUnitY(Hero))
		if Mode_DM then
			call SetHeroXP(WH1,GetHeroXP(Hero),false)
			call UnitAddItem(WH1,UnitItemInSlot(Hero,0))
			call UnitAddItem(WH1,UnitItemInSlot(Hero,1))
			call UnitAddItem(WH1,UnitItemInSlot(Hero,2))
			call UnitAddItem(WH1,UnitItemInSlot(Hero,3))
			call UnitAddItem(WH1,UnitItemInSlot(Hero,4))
			call UnitAddItem(WH1,UnitItemInSlot(Hero,5))
		endif
		call Func0128(Hero)
		call EnableTrigger(trigger057)
		call SetUnitPathing(WH1,true)
		call ClearSelectionForPlayer(GetOwningPlayer(WH1))
		call SelectUnitAddForPlayer(WH1,GetOwningPlayer(WH1))
	elseif(i==7)then
		call ExecuteFunc("Func2124")
		call ExecuteFunc("Func2131")
		call ExecuteFunc("Func2138")
	elseif(i==18)then
		call ExecuteFunc("Func2150")
		call ExecuteFunc("Func2154")
	elseif(i==36)then
		call ExecuteFunc("Func2159")
	elseif(i==21)then
		call ExecuteFunc("Func2174")
		call ExecuteFunc("Func2170")
		call ExecuteFunc("Func2181")
		call ExecuteFunc("Func2190")
	elseif(i==14)then
		call ExecuteFunc("Func2195")
		call ExecuteFunc("Func2203")
		call ExecuteFunc("Func2220")
		call ExecuteFunc("Func2215")
		call ExecuteFunc("Func2226")
		call ExecuteFunc("Func2208")
	elseif(i==13)then
		call ExecuteFunc("Func2250")
		call ExecuteFunc("Func2244")
		call ExecuteFunc("Func2254")
		call ExecuteFunc("Func2238")
	elseif(i==26)then
		call ExecuteFunc("Func2266")
		call ExecuteFunc("Func2270")
		call ExecuteFunc("Func2276")
		call ExecuteFunc("Func2257")
	elseif(i==9)then
		call ExecuteFunc("Func2284")
		call ExecuteFunc("Func2295")
		call ExecuteFunc("Func2279")
		call ExecuteFunc("Func2292")
	elseif(i==10)then
		call ExecuteFunc("Func2314")
		call ExecuteFunc("Func2346")
		call ExecuteFunc("Func2333")
		call ExecuteFunc("Func2336")
		call ExecuteFunc("Func2325")
		call ExecuteFunc("Func2328")
		call ExecuteFunc("Func2352")
		call ExecuteFunc("Func2339")
	elseif(i==23)then
		call ExecuteFunc("Func2394")
		call ExecuteFunc("Func2407")
		call ExecuteFunc("Func2417")
		call ExecuteFunc("Func2391")
		call ExecuteFunc("Func2421")
	elseif(i==19)then
		call ExecuteFunc("Func2436")
		call ExecuteFunc("Func2428")
		call ExecuteFunc("Func2431")
		call ExecuteFunc("Func2425")
	elseif(i==22)then
		call ExecuteFunc("Func2456")
		call ExecuteFunc("Func2465")
		call ExecuteFunc("Func2445")
		call ExecuteFunc("Func2460")
	elseif(i==17)then
		call ExecuteFunc("Func2496")
		call ExecuteFunc("Func2501")
		call ExecuteFunc("Func2512")
	elseif(i==1)then
		call ExecuteFunc("Func2526")
		call ExecuteFunc("Func2518")
		call ExecuteFunc("Func2524")
		call ExecuteFunc("Func2531")
	elseif(i==2)then
		call ExecuteFunc("Func2605")
		call ExecuteFunc("Func2600")
		call ExecuteFunc("Func2609")
		call ExecuteFunc("Func2613")
	elseif(i==27)then
		call ExecuteFunc("Func2473")
		call ExecuteFunc("Func2476")
		call ExecuteFunc("Func2479")
		call ExecuteFunc("Func2492")
		call ExecuteFunc("Func2469")
	elseif(i==82)then
		call ExecuteFunc("Func2644")
		call ExecuteFunc("Func2656")
		call ExecuteFunc("Func2652")
		call ExecuteFunc("Func2660")
	elseif(i==75)then
		call ExecuteFunc("Func2669")
		call ExecuteFunc("Func2673")
		call ExecuteFunc("Func2677")
	elseif(i==83)then
		call ExecuteFunc("Func2726")
		call ExecuteFunc("Func2721")
		call ExecuteFunc("Func2731")
		call ExecuteFunc("Func2709")
	elseif(i==112)then
		call ExecuteFunc("Func2743")
		call ExecuteFunc("Func2747")
		call ExecuteFunc("Func2751")
	elseif(i==108)then
		call ExecuteFunc("Func2763")
		call ExecuteFunc("Func2767")
		call ExecuteFunc("Func2755")
	elseif(i==69)then
		call ExecuteFunc("Func2858")
		call ExecuteFunc("Func2882")
		call ExecuteFunc("Func2862")
		call ExecuteFunc("Func2875")
		call ExecuteFunc("Func2892")
	elseif(i==100)then
		call ExecuteFunc("Func3047")
		call ExecuteFunc("Func3052")
		call ExecuteFunc("Func3058")
		call ExecuteFunc("Func3063")
	elseif(i==102)then
		call ExecuteFunc("Func3069")
		call ExecuteFunc("Func3073")
		call ExecuteFunc("Func3080")
	elseif(i==64)then
		call ExecuteFunc("Func3104")
		call ExecuteFunc("Func3114")
		call ExecuteFunc("Func3118")
		call ExecuteFunc("Func3123")
	elseif(i==106)then
		call ExecuteFunc("Func3127")
		call ExecuteFunc("Func3131")
		call ExecuteFunc("Func3138")
	elseif(i==61)then
		call ExecuteFunc("Func3156")
		call ExecuteFunc("Func3143")
		call ExecuteFunc("Func3154")
	elseif(i==76)then
		call ExecuteFunc("Func3190")
		call ExecuteFunc("Func3196")
		call ExecuteFunc("Func3200")
		call ExecuteFunc("Func3186")
	elseif(i==80)then
		call ExecuteFunc("SF_Necromastery_Reg")
		call ExecuteFunc("Func3219")
		call ExecuteFunc("Func3225")
		call ExecuteFunc("Func3232")
		call ExecuteFunc("Func3221")
	elseif(i==62)then
		call ExecuteFunc("Func3254")
		call ExecuteFunc("Func3241")
		call ExecuteFunc("Func3245")
		call ExecuteFunc("Func3249")
	elseif(i==60)then
		call ExecuteFunc("Func3267")
		call ExecuteFunc("Func3258")
		call ExecuteFunc("Func3262")
	elseif(i==77)then
		call ExecuteFunc("Func3323")
		call ExecuteFunc("Func3333")
		call ExecuteFunc("Func3340")
		call ExecuteFunc("Func3344")
	elseif(i==73)then
		call ExecuteFunc("Func3350")
		call ExecuteFunc("Func3355")
		call ExecuteFunc("Func3359")
	elseif(i==81)then
		call ExecuteFunc("Func3398")
		call ExecuteFunc("Func3404")
		call ExecuteFunc("Func3411")
	elseif(i==66)then
		call ExecuteFunc("Func3415")
		call ExecuteFunc("Func3423")
	elseif(i==78)then
		call ExecuteFunc("Func3481")
		call ExecuteFunc("Func3465")
		call ExecuteFunc("Func3471")
		call ExecuteFunc("Func3491")
	elseif(i==99)then
		call ExecuteFunc("Func3499")
		call ExecuteFunc("Func3504")
		call ExecuteFunc("Func3494")
		call ExecuteFunc("Func3517")
		call ExecuteFunc("Func3514")
		call ExecuteFunc("Func3509")
	elseif(i==74)then
		call ExecuteFunc("Func3524")
		call ExecuteFunc("Func3520")
		call ExecuteFunc("Func3529")
		call ExecuteFunc("Func3537")
	elseif(i==105)then
		call ExecuteFunc("Func3574")
		call ExecuteFunc("Func3582")
		call ExecuteFunc("Func3585")
	elseif(i==70)then
		call ExecuteFunc("Func3589")
		call ExecuteFunc("Func3595")
		call ExecuteFunc("Func3598")
	elseif(i==107)then
		call ExecuteFunc("Func3616")
		call ExecuteFunc("Func3601")
		call ExecuteFunc("Func3630")
		call ExecuteFunc("Func3609")
	elseif(i==79)then
		call ExecuteFunc("Func3663")
		call ExecuteFunc("Func3668")
		call ExecuteFunc("Func3671")
		call ExecuteFunc("Func3683")
	elseif(i==68)then
		call ExecuteFunc("Func2770")
		call ExecuteFunc("Func2774")
	elseif(i==84)then
		call ExecuteFunc("Func2617")
		call ExecuteFunc("Func2636")
		call ExecuteFunc("Func2625")
		call ExecuteFunc("Func2633")
	elseif(i==85)then
		call ExecuteFunc("Func3433")
		call ExecuteFunc("Func3437")
		call ExecuteFunc("Func3442")
		call ExecuteFunc("Func3452")
		call ExecuteFunc("Func3458")
	elseif(i==86)then
		call ExecuteFunc("Func3689")
		call ExecuteFunc("Func3703")
		call ExecuteFunc("Func3698")
		call ExecuteFunc("Func3708")
	elseif(i==87)then
		call ExecuteFunc("Func2780")
		call ExecuteFunc("Func2786")
		call ExecuteFunc("Func2793")
		call ExecuteFunc("Func2798")
	elseif(i==33)then
		call ExecuteFunc("Func1804")
		call ExecuteFunc("Func1801")
		call ExecuteFunc("Func1816")
	elseif(i==39)then
		call ExecuteFunc("Func1569")
		call ExecuteFunc("Func1564")
		call ExecuteFunc("Func1575")
	elseif(i==88)then
		call ExecuteFunc("Func3637")
		call ExecuteFunc("Func3646")
		call ExecuteFunc("Func3651")
		call ExecuteFunc("Func3659")
	elseif(i==40)then
		call ExecuteFunc("Func2067")
		call ExecuteFunc("Func2060")
		call ExecuteFunc("Func2087")
		call ExecuteFunc("Func2080")
	elseif i==89 then
		call ExecuteFunc("Func3014")
		call ExecuteFunc("Func3021")
	elseif i==90 then
		call ExecuteFunc("Func3545")
		call ExecuteFunc("Func3551")
		call ExecuteFunc("Func3558")
		call ExecuteFunc("Func3567")
	elseif i==71 then
		call ExecuteFunc("Func3365")
		call ExecuteFunc("Func3371")
		call ExecuteFunc("Func3381")
		call ExecuteFunc("Func3394")
	elseif i==93 then
		call ExecuteFunc("Func2811")
		call ExecuteFunc("Func2803")
		call ExecuteFunc("Func2815")
		call ExecuteFunc("Func2825")
	elseif i==42 then
		call ExecuteFunc("Func1933")
		call ExecuteFunc("Func1941")
		call ExecuteFunc("Func1946")
		call ExecuteFunc("Func1929")
	elseif i==91 then
		call ExecuteFunc("Func3283")
		call ExecuteFunc("Func3289")
		call ExecuteFunc("Func3272")
		call ExecuteFunc("Func3294")
		call ExecuteFunc("Func3298")
		call ExecuteFunc("Func3309")
		call ExecuteFunc("Func3314")
		call ExecuteFunc("Func3320")
	elseif i==92 then
		call ExecuteFunc("Func2830")
		call ExecuteFunc("Func2845")
		call ExecuteFunc("Func2837")
		call ExecuteFunc("Func2853")
	elseif i==41 then
		call ExecuteFunc("Func1775")
		call ExecuteFunc("Func1789")
		call ExecuteFunc("Func1785")
		call ExecuteFunc("Func1795")
		call ExecuteFunc("Func4029")
	elseif i==43 then
		call ExecuteFunc("Func2570")
		call ExecuteFunc("Func2562")
		call ExecuteFunc("Func2554")
		call ExecuteFunc("Func2545")
	elseif i==44 then
		call ExecuteFunc("Func1908")
		call ExecuteFunc("Func1889")
		call ExecuteFunc("Func1902")
		call ExecuteFunc("Func1896")
	elseif i==72 then
		call ExecuteFunc("Func3180")
		call ExecuteFunc("Func3172")
		call ExecuteFunc("Func3168")
		call ExecuteFunc("Func3161")
	elseif i==94 then
		call ExecuteFunc("Func2975")
	elseif i==6 then
		call ExecuteFunc("Func2310")
		call ExecuteFunc("Func2299")
		call ExecuteFunc("Func2304")
	elseif i==104 then
		call ExecuteFunc("Func3083")
		call ExecuteFunc("Func3085")
	elseif i==65 then
		call ExecuteFunc("Func3203")
		call ExecuteFunc("Func3206")
		call ExecuteFunc("Func3210")
		call ExecuteFunc("Func3214")
	elseif i==111 then
		call ExecuteFunc("Func3092")
		call ExecuteFunc("Func3098")
		call ExecuteFunc("Func3101")
	elseif i==63 then
		call ExecuteFunc("Func2981")
		call ExecuteFunc("Func2991")
		call ExecuteFunc("Func2986")
		call ExecuteFunc("Func3003")
	elseif i==45 then
		call ExecuteFunc("Func1747")
		call ExecuteFunc("Func1735")
		call ExecuteFunc("Func1715")
		call ExecuteFunc("Func1742")
	elseif i==46 then
		call ExecuteFunc("Func1533")
		call ExecuteFunc("Func1540")
		call ExecuteFunc("Func1545")
		call ExecuteFunc("Func1554")
	elseif i==47 then
		call ExecuteFunc("Func2583")
		call ExecuteFunc("Func2574")
		call ExecuteFunc("Func2591")
		call ExecuteFunc("Func2595")
	elseif i==11 then
		call ExecuteFunc("Func2040")
		call ExecuteFunc("Func2044")
	elseif i==96 then
		call ExecuteFunc("Func2683")
		call ExecuteFunc("Func2689")
		call ExecuteFunc("Func2701")
		call ExecuteFunc("Func2705")
	elseif i==15 then
		call ExecuteFunc("Func2375")
		call ExecuteFunc("Func2386")
		call ExecuteFunc("Func2368")
		call ExecuteFunc("Func2362")
	elseif i==97 then
		call ExecuteFunc("Func3722")
		call ExecuteFunc("Func3726")
		call ExecuteFunc("Func3734")
		call ExecuteFunc("Func3715")
		call ExecuteFunc("Func3740")
	elseif i==98 then
		call ExecuteFunc("Func3761")
		call ExecuteFunc("Func3765")
		call ExecuteFunc("Func3750")
		call ExecuteFunc("Func3746")
		call ExecuteFunc("Func3771")
	elseif i==67 then
		call ExecuteFunc("Func3776")
		call ExecuteFunc("Func3781")
	elseif i==28 then
		call ExecuteFunc("Func3785")
		call ExecuteFunc("Func3788")
	elseif i==51 then
		call ExecuteFunc("Func3795")
		call ExecuteFunc("Func3843")
		call ExecuteFunc("Func3814")
		call ExecuteFunc("Phoenix_FireSpirit_Reg")
		call ExecuteFunc("Func3829")
		call ExecuteFunc("Func3822")
		call ExecuteFunc("Func3802")
		call ExecuteFunc("Func3809")
	elseif i==100 then
	elseif i==101 then
		call ExecuteFunc("Func3850")
		call ExecuteFunc("Func3855")
		call ExecuteFunc("Func3859")
		call ExecuteFunc("Func3867")
	elseif i==48 then
		call ExecuteFunc("Func3871")
		call ExecuteFunc("Func3875")
		call ExecuteFunc("Func3883")
		call ExecuteFunc("Func3891")
	elseif i==49 then
		call ExecuteFunc("Func3897")
		call ExecuteFunc("Func3914")
		call ExecuteFunc("Func3904")
		call ExecuteFunc("Func3909")
	elseif i==29 then
		call ExecuteFunc("Func3921")
		call ExecuteFunc("Func3929")
		call ExecuteFunc("Func3937")
		call ExecuteFunc("Func3945")
	elseif i==50 then
		call ExecuteFunc("Func3951")
		call ExecuteFunc("Func3958")
		call ExecuteFunc("Func3970")
		call ExecuteFunc("Func3974")
	elseif i==30 then
		call ExecuteFunc("Func3980")
		call ExecuteFunc("Func3986")
	elseif i==53 then
		call ExecuteFunc("Func3993")
		call ExecuteFunc("Func3999")
		call ExecuteFunc("Func4016")
		call ExecuteFunc("Func4022")
	elseif i==103 then
		call ExecuteFunc("Func4026")
	elseif i==54 then
		call ExecuteFunc("Func4055")
		call ExecuteFunc("Func4039")
		call ExecuteFunc("Func4050")
		call ExecuteFunc("Func4078")
		call ExecuteFunc("Func1769")
	elseif i==55 then
		call ExecuteFunc("Func4134")
		call ExecuteFunc("Func4120")
		call ExecuteFunc("Func4140")
		call ExecuteFunc("Func4127")
	elseif i==56 then
		call ExecuteFunc("Func4165")
		call ExecuteFunc("Func4145")
		call ExecuteFunc("Func4156")
		call ExecuteFunc("Func4160")
	elseif i==57 then
		call ExecuteFunc("Func4170")
		call ExecuteFunc("Func4178")
		call ExecuteFunc("Func4184")
		call ExecuteFunc("Func4192")
		call ExecuteFunc("Func4200")
	elseif i==109 then
		call ExecuteFunc("Func4226")
		call ExecuteFunc("Func4233")
		call ExecuteFunc("Func4222")
		call ExecuteFunc("Func4215")
		call ExecuteFunc("Func4241")
		call ExecuteFunc("Func4252")
	elseif i==110 then
		call ExecuteFunc("Func4293")
		call ExecuteFunc("Func4299")
		call ExecuteFunc("Func4303")
		call ExecuteFunc("Func4309")
		call ExecuteFunc("Func4102")
	elseif i==35 then
		call ExecuteFunc("Func4317")
		call ExecuteFunc("Func4325")
		call ExecuteFunc("Func4313")
	elseif i==58 then
		call ExecuteFunc("Func4386")
		call ExecuteFunc("Func4382")
		call ExecuteFunc("Func4340")
		call ExecuteFunc("Func4358")
		call ExecuteFunc("Func4365")
		call ExecuteFunc("Func4372")
		set tt_unit1=Hero
		call ExecuteFunc("Func4353")
	elseif i==59 then
		call ExecuteFunc("Func4278")
		call ExecuteFunc("Func4274")
		call ExecuteFunc("Func4282")
		call ExecuteFunc("Func4286")
	endif
endfunction

function Func0431 takes player MDI,string NII returns nothing
	if IsPlayerInForce(LocalPlayer,Func0004(MDI))then
		call DisplayTimedTextToPlayer(LocalPlayer,0,0,40,Players_Color[GetPlayerId(MDI)]+(Players_Name[GetPlayerId((MDI))])+"|r "+NII)
	endif
endfunction

function Main_AllHasHero takes nothing returns boolean
	return Players_Hero[GetPlayerId(Sentinels[1])]!=null and Players_Hero[GetPlayerId(Sentinels[2])]!=null and Players_Hero[GetPlayerId(Sentinels[3])]!=null and Players_Hero[GetPlayerId(Sentinels[4])]!=null and Players_Hero[GetPlayerId(Sentinels[5])]!=null and Players_Hero[GetPlayerId(Scourges[1])]!=null and Players_Hero[GetPlayerId(Scourges[2])]!=null and Players_Hero[GetPlayerId(Scourges[3])]!=null and Players_Hero[GetPlayerId(Scourges[4])]!=null and Players_Hero[GetPlayerId(Scourges[5])]!=null
endfunction

function Func0432 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	set boolean062=true
	call CleanTrigger(t)
	call DestroyFogModifier(CreateFogModifierRadius(Sentinels[0],FOG_OF_WAR_MASKED,real242,real243,700,false,false))
	call DestroyFogModifier(CreateFogModifierRadius(Scourges[0],FOG_OF_WAR_MASKED,real242,real243,700,false,false))
	set t=null
	return false
endfunction

function Func0433 takes unit u returns boolean
	return GetUnitTypeId(u)!='H00M' and GetUnitTypeId(u)!='N0MM' and GetUnitTypeId(u)!='H07G' and GetUnitTypeId(u)!='H00Y' and GetUnitTypeId(u)!='H00J' and GetUnitTypeId(u)!='H0B8'
endfunction

function HeroEntersMap_Filter takes nothing returns boolean
	return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and IsUnitIllusion(GetTriggerUnit())==false and HaveSavedBoolean(HY,GetHandleId(GetTriggerUnit()),85)==false and Func0433(GetTriggerUnit())
endfunction

function Func0435 takes nothing returns boolean
	return GetUnitTypeId(GetFilterUnit())=='n00C'
endfunction

function Func0436 takes nothing returns nothing
	call RemoveUnit(GetEnumUnit())
endfunction

function Func0437 takes player T4I returns nothing
	local group Z51=GetAvailableGroup()
	local boolexpr QL1=Condition(function Func0435)
	call GroupEnumUnitsOfPlayer(Z51,T4I,QL1)
	call ForGroup(Z51,function Func0436)
	call KillGroup(Z51)
endfunction

function Func0438 takes nothing returns nothing
	call Func0437(Sentinels[1])
	call Func0437(Sentinels[2])
	call Func0437(Sentinels[3])
	call Func0437(Sentinels[4])
	call Func0437(Sentinels[5])
	call Func0437(Scourges[1])
	call Func0437(Scourges[2])
	call Func0437(Scourges[3])
	call Func0437(Scourges[4])
	call Func0437(Scourges[5])
endfunction

function Func0439 takes nothing returns boolean
	return GetUnitTypeId(GetFilterUnit())=='ncop'
endfunction

function Func0440 takes nothing returns nothing
	if boolean113 then
		call UnitRemoveAbility(CirclesOfPower[GetPlayerId(GetOwningPlayer(GetEnumUnit()))],'A14F')
		call UnitRemoveAbility(CirclesOfPower[GetPlayerId(GetOwningPlayer(GetEnumUnit()))],'A14E')
		call UnitRemoveAbility(CirclesOfPower[GetPlayerId(GetOwningPlayer(GetEnumUnit()))],'A14H')
	endif
	if GetUnitAbilityLevel(GetEnumUnit(),'A0I4')==0 then
		call UnitAddAbility(GetEnumUnit(),'A0I4')
	endif
endfunction

function Func0441 takes player p returns nothing
	local group g=GetAvailableGroup()
	call GroupEnumUnitsOfPlayer(g,p,Condition(function Func0439))
	call ForGroup(g,function Func0440)
	call KillGroup(g)
	set g=null
endfunction

function DelayedHeroTech_Helper takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer SSI=(LoadInteger(HY,(h),(86)))
	call Func0062(SSI)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	return false
endfunction

function Func0442 takes unit Hero,player p returns string
	local string s=GetObjectName('n0DB')
	set s=Func0364(s,"$hero",GetUnitName(Hero))
	set s=Func0364(s,"$p",(Players_Name[GetPlayerId((p))]))
	return s
endfunction

function HeroEntersMap takes nothing returns nothing
	local unit u=GetTriggerUnit()
	local integer id=GetUnitTypeId(u)
	local player p=GetOwningPlayer(u)
	local real x
	local real y
	local region r=CreateRegion()
	local player p2=p
	local unit Hero=u
	local trigger t
	if Mode_DM==false then
		call Func0379(GetOwningPlayer(u))
	endif
//	call BJDebugMsg("IconPath of "+GetUnitName(Hero)+" is "+GetUnitIconPathById(GetUnitTypeId(Hero)))
//		call DisplayTimedTextToPlayer(p,0,0,4,"A |c006699CC-tips|r command is available if you would like some pointers for this hero")
//	endif
//	if booleans035[GetPlayerId(p)] then
//		call Func0372(p,GetUnitPointValue(u))
//	endif
	if boolean062==false and(Players_Hero[GetPlayerId(Sentinels[1])]!=null and Players_Hero[GetPlayerId(Sentinels[2])]!=null and Players_Hero[GetPlayerId(Sentinels[3])]!=null and Players_Hero[GetPlayerId(Sentinels[4])]!=null and Players_Hero[GetPlayerId(Sentinels[5])]!=null and Players_Hero[GetPlayerId(Scourges[1])]!=null and Players_Hero[GetPlayerId(Scourges[2])]!=null and Players_Hero[GetPlayerId(Scourges[3])]!=null and Players_Hero[GetPlayerId(Scourges[4])]!=null and Players_Hero[GetPlayerId(Scourges[5])]!=null)then
		set t=CreateTrigger()
		call TriggerRegisterTimerEvent(t,7,false)
		call TriggerAddCondition(t,Condition(function Func0432))
		set t=null
	endif
	set booleans010[GetPlayerId(GetOwningPlayer((u)))]=false
	call RegionAddRect(r,rect187)
	if boolean040 and boolean041==false then
		set booleans007[GetPlayerId(p)]=true
		set p=(LoadPlayerHandle(HY,(2000),(550+GetPlayerId(p))))
		call SetUnitOwner(u,p,true)
	endif
	call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A2TS',false)
	if IsSentinel(GetOwningPlayer(u))then
		if IsUnitInRegion(r,u)then
			set x=GetRandomReal(GetRectMinX(Hero_Creation_NE),GetRectMaxX(Hero_Creation_NE))
			set y=GetRandomReal(GetRectMinY(Hero_Creation_NE),GetRectMaxY(Hero_Creation_NE))
		else
			set x=GetUnitX(u)
			set y=GetUnitY(u)
		endif
	else
		if IsUnitInRegion(r,u)then
			set x=GetRandomReal(GetRectMinX(Hero_Creation_UD),GetRectMaxX(Hero_Creation_UD))
			set y=GetRandomReal(GetRectMinY(Hero_Creation_UD),GetRectMaxY(Hero_Creation_UD))
		else
			set x=GetUnitX(u)
			set y=GetUnitY(u)
		endif
	endif
	set booleans006[GetPlayerId(p)]=true
	if(not boolean040 or boolean041)then
		if boolean109==false and boolean060==false then
			call PanCameraToTimedForPlayer(p,x,y,0)
		endif
		if id!='N0MM' then
			call ClearSelectionForPlayer(p)
		endif
		call SelectUnitAddForPlayer(u,p)
	endif
	call SetUnitX(u,x)
	call SetUnitY(u,y)
	if id!='N0MM' then
		set Players_Hero[GetPlayerId(p)]=u
	endif
	call Func0361(p,"9",id)
	if boolean040 and boolean041==false then
		call Func0065(p2)
	else
		call Func0065(p)
	endif
	call SaveBoolean(HY,(GetHandleId(u)),(85),(true))
	if not boolean028 then
		set booleans001[GetUnitPointValue(u)]=true
		call Func0062(id)
	endif
	if Mode_DM then
		if IsSentinel(p)then
			set integers031[0]=integers031[0]+1
		else
			set integers031[1]=integers031[1]+1
		endif
		set integers035[GetPlayerId(p)]=integers035[GetPlayerId(p)]+1
		if integers035[GetPlayerId(GetOwningPlayer(u))]>1 and u!=units002[GetPlayerId(GetOwningPlayer(u))]then
			call Func0425(units002[GetPlayerId(GetOwningPlayer(u))])
			call DisableTrigger(trigger057)
			call SetHeroXP(u,GetHeroXP(units002[GetPlayerId(GetOwningPlayer(u))]),false)
			call UnitAddItem(u,UnitItemInSlot(units002[GetPlayerId(GetOwningPlayer(u))],0))
			call UnitAddItem(u,UnitItemInSlot(units002[GetPlayerId(GetOwningPlayer(u))],1))
			call UnitAddItem(u,UnitItemInSlot(units002[GetPlayerId(GetOwningPlayer(u))],2))
			call UnitAddItem(u,UnitItemInSlot(units002[GetPlayerId(GetOwningPlayer(u))],3))
			call UnitAddItem(u,UnitItemInSlot(units002[GetPlayerId(GetOwningPlayer(u))],4))
			call UnitAddItem(u,UnitItemInSlot(units002[GetPlayerId(GetOwningPlayer(u))],5))
			call EnableTrigger(trigger057)
			if Func0424(units002[GetPlayerId(GetOwningPlayer(u))])then
				call Func0426(units002[GetPlayerId(GetOwningPlayer(u))])
			else
				call Func0128(units002[GetPlayerId(GetOwningPlayer(u))])
			endif
		endif
	endif
	if p!=Sentinels[0]and p!=Scourges[0]then
		if boolean040 then
			if GetTime()>60 then
				call Func0431(p,GetObjectName('n02E')+" "+GetUnitName(u))
			elseif booleans004[GetPlayerId(p2)] then
				call Func0431(p,Func0442(u,p2))
			else
				call SetPlayerState(p2,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p2,PLAYER_STATE_RESOURCE_GOLD)+250)
				call Func0431(p,GetObjectName('n0D1')+" "+GetUnitName(u)+" "+GetObjectName('n0D0')+" "+(Players_Name[GetPlayerId((p2))]))
			endif
		elseif boolean033==false or p==PlayerModeTyper then
			if(booleans003[GetPlayerId(GetOwningPlayer(u))] and boolean033==false)then
				call Func0431(p,GetObjectName('n0D5')+" "+GetUnitName(u)+".")
			elseif((booleans004[GetPlayerId(p)] and Mode_DM==false)or boolean004 or boolean005 or boolean035)then
				call Func0431(p,GetObjectName('n0D3')+" "+GetUnitName(u)+".")
			else
				call Func0431(p,GetObjectName('n0D2')+" "+GetUnitName(u)+".")
			endif
		endif
	endif
	if boolean046 then
		if boolean040 then
			call Func0437(p2)
		else
			call Func0437(p)
		endif
	endif
	if(boolean109 or boolean060)and boolean046 then
		call Func0437(p)
	endif
	call Func0441(p)
	if(id=='E005')then
		call DisplayTimedTextToPlayer(p,0,0,60.00," ")
		call DisplayTimedTextToPlayer(p,0,0,60.00,"|c00ff0303"+GetObjectName('n06H')+GetObjectName('n0CB')+" "+GetObjectName('n06E')+"|r")
	elseif id=='O00J' or id=='N016' or id=='UC91' or id=='EC45' then
		call DisplayTimedTextToPlayer(p,0,0,10.00," ")
		call DisplayTimedTextToPlayer(p,0,0,10.00,"|c00ff0303"+GetObjectName('n0G3')+"|r")
	endif
	if(id=='E01B')then
		call DisplayTimedTextToPlayer(p,0,0,30.00," ")
		call DisplayTimedTextToPlayer(p,0,0,30.00,"|c00ff0303"+GetObjectName('n06P')+" "+GetObjectName('n06U')+"|r")
	endif
	if(booleans004[GetPlayerId(p)]==false)then
		if(Mode_Normal)then
			call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,175+GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD))
		endif
	endif
	if HaveSavedBoolean(HY,600+GetUnitPointValue(u),87)==false then
		call SaveBoolean(HY,(600+GetUnitPointValue(u)),(87),(true))
		call Func0430(u)
	endif
	set tt_unit1=u
	call ExecuteFunc("Func2973")
	if booleans030[GetPlayerId(LocalPlayer)]==false then
		call SetPlayerName(p,(Players_Name[GetPlayerId((p))])+" ("+Func0035(Players_Hero[GetPlayerId(p)])+")")
	endif
	call RemoveRegion(r)
endfunction

function Func0444 takes nothing returns boolean
	return IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)
endfunction

function Func0445 takes nothing returns nothing
	local unit Hero=GetSoldUnit()
	local player T4I=GetOwningPlayer(Hero)
	call Func0065(T4I)
endfunction

function Func0446 takes nothing returns boolean
	local integer i=1
	local integer g=1
	if boolean008 then
		set g=2
	endif
	loop
		exitwhen i>5
		call AddGold(Sentinels[i],g,false)
		call AddGold(Scourges[i],g,false)
		set i=i+1
	endloop
	return false
endfunction

function Func0447 takes nothing returns nothing
	local integer QHI=R2I(GetTime()-real001)
	local integer Minutes=QHI/60-1/2
	local integer Seconds=ModuloInteger(QHI,60)
	if boolean049 then
		call Func0254(Minutes,Seconds,false)
	elseif boolean048==false then
		set QHI=R2I(16-GetTime())
		set Minutes=QHI/60-1/2
		set Seconds=ModuloInteger(QHI,60)
		call Func0254(Minutes,Seconds,true)
	endif
endfunction

function Func0448 takes nothing returns nothing
	local unit u=GetTriggerUnit()
	local integer id=GetSpellAbilityId()
	local integer lvl=GetUnitAbilityLevel(u,id)
	local integer i=GetPlayerId(GetOwningPlayer(u))
	local real cd=GetAbilityCD(id,lvl)
	if IsUnitType(u,UNIT_TYPE_HERO) and IsUltimate(id) and cd>0 then
		call TimerStart(timers003[i],cd,false,null)
	endif
	if id=='A02W' then
		call TimerStart(timers003[i],0,false,null)
	endif
	set u=null
endfunction

function Func0449 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer i
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddAction(t,function Func0448)
	set i=0
	loop
		exitwhen i>13
		set timers003[i]=CreateTimer()
		set i=i+1
	endloop
endfunction

function ReliableGoldHandling takes nothing returns nothing
	local player p
	local integer i
	local integer id
	local integer g
	set i=1
	loop
		exitwhen i>5
		set p=Sentinels[i]
		set id=GetPlayerId(p)
		set g=GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)
		if g<ReliableGold[id]then
			set ReliableGold[id]=g
		endif
		set p=Scourges[i]
		set id=GetPlayerId(p)
		set g=GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)
		if g<ReliableGold[id]then
			set ReliableGold[id]=g
		endif
		set i=i+1
	endloop
endfunction

function Func0454 takes integer source,integer target returns boolean
	local integer i=integer052-1
	local real UH1=0
	local real SOI=GetTime()
	local integer Count=0
	loop
		exitwhen i==integer052 or UH1>real192 or Count>200
		if i==0 then
			set i=8000-1
		endif
		set Count=Count+1
		set UH1=SOI-reals007[i]
		if integers082[i]==source and integers083[i]==target and UH1<real192 then
			set integers082[i]=0
			set integers083[i]=0
			return true
		endif
		set i=i-1
	endloop
	return false
endfunction

function Func0455 takes integer source,integer target returns boolean
	local integer i=integer052-1
	local real UH1=0
	local real SOI=GetTime()
	local integer Count=0
	loop
		exitwhen i==integer052 or UH1>real192 or Count>200
		if i==0 then
			set i=8000-1
		endif
		set Count=Count+1
		set UH1=SOI-reals007[i]
		if integers082[i]==source and integers083[i]==target and UH1<real192 then
			return true
		endif
		set i=i-1
	endloop
	return false
endfunction

function Func0456 takes nothing returns nothing
	local integer source=GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
	local integer target=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
	local real dmg=GetEventDamage()
	set reals007[integer052]=GetTime()
	set integers082[integer052]=source
	set integers083[integer052]=target
	set integer052=integer052+1
	if integer052==8000 then
		set integer052=1
	endif
endfunction

function Func0457 takes unit AD1,unit UX1 returns string
	local integer i=1
	local integer UY1=GetPlayerId(GetOwningPlayer(AD1))
	local integer UJ1=GetPlayerId(GetOwningPlayer(UX1))
	local integer O91
	local string UK1=" "+GetObjectName('n0JY')+" "
	local boolean UL1=false
	loop
		exitwhen i>5
		if IsSentinel(GetOwningPlayer(UX1))then
			set O91=GetPlayerId(Sentinels[i])
		else
			set O91=GetPlayerId(Scourges[i])
		endif
		if UJ1!=O91 and Func0454(O91,UY1)then
			set integers006[O91]=integers006[O91]+1
			call Traffic_RegisterData("Assist"+I2S(O91),UY1)
			if UL1 then
				set UK1=UK1+"/"+Players_Color[O91]+(Players_Name[GetPlayerId((Player(O91)))])+"|r"
			else
				set UK1=UK1+Players_Color[O91]+(Players_Name[GetPlayerId((Player(O91)))])+"|r"
			endif
			set UL1=true
		endif
		set i=i+1
	endloop
	if UL1 then
		return UK1
	endif
	return" "
endfunction

function Func0458 takes unit AD1,unit UX1 returns string
	local integer i=1
	local integer UY1=GetPlayerId(GetOwningPlayer(AD1))
	local integer UJ1=GetPlayerId(GetOwningPlayer(UX1))
	local integer O91
	local string UK1=""
	local boolean UL1=false
	loop
		exitwhen i>5
		if IsSentinel(GetOwningPlayer(UX1))then
			set O91=GetPlayerId(Sentinels[i])
		else
			set O91=GetPlayerId(Scourges[i])
		endif
		if UJ1!=O91 and Func0455(O91,UY1)then
			if UL1 then
				set UK1=UK1+"/"+Players_Color[O91]+(Players_Name[GetPlayerId((Player(O91)))])+"|r"
			else
				set UK1=UK1+Players_Color[O91]+(Players_Name[GetPlayerId((Player(O91)))])+"|r"
			endif
			set UL1=true
		endif
		set i=i+1
	endloop
	if UL1 then
		return UK1
	endif
	return" "
endfunction

function Func0459 takes unit AD1,unit UX1 returns integer
	local integer i=1
	local integer UY1=GetPlayerId(GetOwningPlayer(AD1))
	local integer UJ1=GetPlayerId(GetOwningPlayer(UX1))
	local integer O91
	local integer Count=0
	loop
		exitwhen i>5
		if IsSentinel(GetOwningPlayer(UX1))then
			set O91=GetPlayerId(Sentinels[i])
		else
			set O91=GetPlayerId(Scourges[i])
		endif
		if UJ1!=O91 and Func0455(O91,UY1)then
			set Count=Count+1
		endif
		set i=i+1
	endloop
	return Count
endfunction

function Func0460 takes unit AD1,unit UX1 returns boolean
	local integer i=1
	local integer UY1=GetPlayerId(GetOwningPlayer(AD1))
	local integer UJ1=GetPlayerId(GetOwningPlayer(UX1))
	local integer O91
	local string UK1=" Assists: "
	local boolean UL1=false
	local integer x=1
	set players005[1]=null
	set players005[2]=null
	set players005[3]=null
	set players005[4]=null
	set players005[5]=null
	loop
		exitwhen i>5
		if IsSentinel(GetOwningPlayer(UX1))then
			set O91=GetPlayerId(Sentinels[i])
		else
			set O91=GetPlayerId(Scourges[i])
		endif
		if UJ1!=O91 and Func0455(O91,UY1)then
			set players005[x]=Player(O91)
			set x=x+1
			set UL1=true
		endif
		set i=i+1
	endloop
	return UL1
endfunction

function Func0461 takes unit AD1,unit UX1,real ROI returns nothing
	local integer i=1
	local integer Count=0
	call Func0460(AD1,UX1)
	loop
		exitwhen i>5
		if players005[i]!=null then
			set Count=Count+1
		endif
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>5
		if players005[i]!=null then
			set ReliableGold[GetPlayerId(players005[i])]=ReliableGold[GetPlayerId(players005[i])]+R2I(ROI/Count)
			call DistribGoldToPlayerForUnit(players005[i],R2I(ROI/Count),Players_Hero[GetPlayerId(players005[i])])
		endif
		set i=i+1
	endloop
endfunction

function Func0463 takes nothing returns nothing
	local integer id=GetUnitTypeId(GetTriggerUnit())
	if GetOwningPlayer(GetTriggerUnit())==Neutrals then
		set integers005[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=integers005[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
	elseif(id=='ugho')then
		if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
			set CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		else
			set PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		endif
	elseif(id=='unec')then
		if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
			set CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		else
			set PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		endif
	elseif(id=='esen')then
		if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
			set CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		else
			set PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		endif
	elseif(id=='edry')then
		if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
			set CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		else
			set PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		endif
	elseif(id=='u001')then
		if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
			set CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		else
			set PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		endif
	elseif(id=='u002')then
		if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
			set CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		else
			set PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		endif
	elseif(id=='e00V')then
		if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
			set CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		else
			set PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		endif
	elseif(id=='e00W')then
		if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
			set CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		else
			set PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		endif
	elseif(id=='ebal')then
		if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
			set CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		else
			set PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		endif
	elseif(id=='e026')then
		if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
			set CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		else
			set PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		endif
	elseif(id=='umtw')then
		if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
			set CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		else
			set PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		endif
	elseif(id=='u00R')then
		if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
			set CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=CSDenies[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		else
			set PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=PlayerCS[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
		endif
	endif
endfunction

function Func0464 takes integer i returns nothing
	local integer x=1
	local integer y=1
	set units007[i]=null
	set reals008[i]=0
	set booleans019[i]=false
	loop
		exitwhen y>integer053
		if reals008[y]!=0 then
			set units008[x]=units007[y]
			set reals009[x]=reals008[y]
			set booleans020[x]=booleans019[y]
			set units007[y]=null
			set reals008[y]=0
			set booleans019[y]=false
			set x=x+1
		endif
		set y=y+1
	endloop
	set integer053=x-1
	set x=1
	loop
		exitwhen x>integer053
		set units007[x]=units008[x]
		set reals008[x]=reals009[x]
		set booleans019[x]=booleans020[x]
		set x=x+1
	endloop
endfunction

function Func0465 takes unit AD1 returns boolean
	return GetUnitTypeId(AD1)=='H00I' or GetUnitTypeId(AD1)=='H00J'
endfunction

function Func0466 takes unit AD1 returns boolean
	local integer h=GetHandleId(GetOwningPlayer(AD1))
	local unit W41=(LoadUnitHandle(HY,(h),(699)))
	local unit W51=(LoadUnitHandle(HY,(h),(700)))
	local unit W61=(LoadUnitHandle(HY,(h),(701)))
	local unit W71=(LoadUnitHandle(HY,(h),(702)))
	local unit W81=(LoadUnitHandle(HY,(h),(703)))
	if GetUnitAbilityLevel(W41,'A0OV')!=0 or GetUnitAbilityLevel(W51,'A0OV')!=0 or GetUnitAbilityLevel(W61,'A0OV')!=0 or GetUnitAbilityLevel(W71,'A0OV')!=0 or GetUnitAbilityLevel(W81,'A0OV')!=0 then
		return true
	endif
	return false
endfunction

function Func0467 takes unit AD1 returns boolean
	local integer i=0
	local integer h=GetHandleId(GetOwningPlayer(AD1))
	local unit W31=(LoadUnitHandle(HY,(h),(699)))
	loop
		exitwhen i>5
		if GetItemTypeId(UnitItemInSlot(W31,i))==integers089[integer198]and GetItemCharges(UnitItemInSlot(W31,i))>0 then
			return true
		endif
		set i=i+1
	endloop
	return false
endfunction

function Func0468 takes unit AD1,location spawnloc returns nothing
	local integer h=GetHandleId(GetOwningPlayer(AD1))
	local unit W41=(LoadUnitHandle(HY,(h),(699)))
	local unit W51=(LoadUnitHandle(HY,(h),(700)))
	local unit W61=(LoadUnitHandle(HY,(h),(701)))
	local unit W71=(LoadUnitHandle(HY,(h),(702)))
	local unit W81=(LoadUnitHandle(HY,(h),(703)))
	if W41!=null then
		call ReviveHeroLoc(W41,spawnloc,true)
		call Func0421(W41)
	endif
	if W51!=null then
		call ReviveHeroLoc(W51,spawnloc,true)
		call Func0421(W51)
	endif
	if W61!=null then
		call ReviveHeroLoc(W61,spawnloc,true)
		call Func0421(W61)
	endif
	if W71!=null then
		call ReviveHeroLoc(W71,spawnloc,true)
		call Func0421(W71)
	endif
	if W81!=null then
		call ReviveHeroLoc(W81,spawnloc,true)
		call Func0421(W81)
	endif
endfunction

function CustomHeroRevive_GetTime takes nothing returns real
	return GetTime()
endfunction

function Func0469 takes unit Hero,real time,boolean I4O returns nothing
	set integer053=integer053+1
	set units007[integer053]=Hero
	set reals008[integer053]=GetTime()+time
	set booleans019[integer053]=I4O
endfunction

function Func0470 takes integer i returns nothing
	local unit AD1=units007[i]
	local boolean I4O=booleans019[i]
	local player I6O=GetOwningPlayer(AD1)
	local location spawnloc
	if Func0052(I6O)then
		set spawnloc=GetRectCenter(Hero_Creation_UD)
	else
		set spawnloc=GetRectCenter(Hero_Creation_NE)
	endif
	if boolean036==false and IsDead(AD1)then
		call Func0423(AD1,I6O,GetLocationX(spawnloc),GetLocationY(spawnloc),true)
		if Func0465(AD1)==false or GetUnitAbilityLevel(AD1,'A0MW')==0 then
			call ReviveHeroLoc(AD1,spawnloc,true)
		else
			call Func0468(AD1,spawnloc)
		endif
		call SetUnitState(AD1,UNIT_STATE_MANA,GetUnitState(AD1,UNIT_STATE_MAX_MANA))
	endif
	call RemoveLocation(spawnloc)
	call Func0464(i)
	set AD1=null
	set I6O=null
	set spawnloc=null
endfunction

function Func0471 takes nothing returns boolean
	local real SOI=GetTime()
	local integer i
	set i=1
	loop
		exitwhen i>integer053
		if reals008[i]<SOI and reals008[i]!=0 then
			call Func0470(i)
		endif
		if reals008[i]!=0 and IsDead(units007[i])==false then
			call Func0464(i)
		endif
		set i=i+1
	endloop
	return false
endfunction

function Func0472 takes unit AD1,integer IAO returns nothing
	local unit IBO=(LoadUnitHandle(HY,(GetHandleId(AD1)),(788)))
	local integer ICO=(LoadInteger(HY,(GetHandleId(IBO)),(787)))
	call SaveInteger(HY,(GetHandleId(IBO)),(787),(IMaxBJ(ICO-IAO,0)))
	set IBO=null
endfunction

function Func0473 takes unit IEO,unit IFO returns nothing
	if Func0139(IEO,IFO)>1300 or(IsDead(IEO)and GetUnitTypeId(IEO)=='H00K')then
		if IsPlayerAlly(GetOwningPlayer(IEO),GetOwningPlayer(IFO))==false then
			call AddHeroXP(IEO,Func0099(IFO),true)
		endif
	endif
endfunction

function Func0474 takes nothing returns nothing
	if Func0341(GetEnumUnit(),integers089[integer235])!=null then
		call SetItemCharges(Func0341(GetEnumUnit(),integers089[integer235]),GetItemCharges(Func0341(GetEnumUnit(),integers089[integer235]))+1)
	endif
endfunction

function Func0475 takes nothing returns boolean
	if(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitIllusion(GetFilterUnit())==false then
		if IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(unit240))and Func0341(GetFilterUnit(),integers089[integer235])!=null then
			return true
		endif
	endif
	return false
endfunction

function Func0476 takes nothing returns boolean
	local item i
	local integer EY1
	if integer054==0 and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(unit241))then
		if Func0341(GetFilterUnit(),integers089[integer251])!=null then
			set integer054=integer054+1
			set EY1=GetItemCharges(Func0341(GetFilterUnit(),integers089[integer251]))
			if EY1==0 then
				set EY1=2
			else
				set EY1=EY1+1
			endif
			call SetItemCharges(Func0341(GetFilterUnit(),integers089[integer251]),EY1)
		endif
	endif
	return false
endfunction

function AncientJangoo_FindNearbyHeroes takes nothing returns boolean
	local item i
	local integer EY1
	if integer055==0 and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(unit241))then
		if Func0341(GetFilterUnit(),integers089[integer132])!=null then
			set integer055=integer055+1
			set EY1=GetItemCharges(Func0341(GetFilterUnit(),integers089[integer132]))
			set EY1=IMinBJ(EY1+1,5)
			call SetItemCharges(Func0341(GetFilterUnit(),integers089[integer132]),EY1)
		endif
	endif
	return false
endfunction

function Func0477 takes unit u,unit IWO returns nothing
	local group g=GetAvailableGroup()
	set unit240=u
	call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1625,Condition(function Func0475))
	if IsUnitAlly(u,GetOwningPlayer(IWO))==false then
		call GroupAddUnit(g,IWO)
	endif
	call ForGroup(g,function Func0474)
	call KillGroup(g)
	set g=null
endfunction

function Func0478 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit IYO=(LoadUnitHandle(HY,(h),(335)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real x
	local real y
	local real a
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if GetTriggerUnit()!=IYO then
			call KillUnit(IYO)
		endif
	else
		set a=GetUnitFacing(target)*bj_RADTODEG
		set x=GetUnitX(target)+75
		set y=GetUnitY(target)+75
		call SetUnitX(IYO,x)
		call SetUnitY(IYO,y)
		call IssueTargetOrder(IYO,"attack",target)
	endif
	set t=null
	set IYO=null
	set target=null
	return false
endfunction

function Func0479 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local unit IYO
	if GetSummoningUnit()==caster then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		set IYO=GetSummonedUnit()
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterDeathEvent(t,IYO)
		call TriggerRegisterDeathEvent(t,target)
		call TriggerRegisterTimerEvent(t,0.05,true)
		call TriggerAddCondition(t,Condition(function Func0478))
		call SaveUnitHandle(HY,(h),(335),(IYO))
		call SaveUnitHandle(HY,(h),(17),(target))
		call UnitAddAbility(IYO,'Aloc')
		call SetUnitPosition(IYO,GetUnitX(target)+100,GetUnitY(target)+100)
		call IssueTargetOrder(IYO,"attack",target)
		call SetUnitMoveSpeed(IYO,522)
	endif
	set t=null
	set target=null
	set source=null
	set caster=null
	return false
endfunction

function Func0480 takes unit source,unit IWO returns nothing
	local unit target=IWO
	local unit caster
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	if Func0092(target)then
		set target=(Players_Hero[GetPlayerId(GetOwningPlayer((target)))])
	endif
	set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func0479))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call UnitAddAbilityPermanent(caster,'A2E7')
	call IssueTargetOrderById(caster,ORDER_wandillusion,target)
	set t=null
	set target=null
	set caster=null
endfunction

function Func0481 takes nothing returns boolean
	if(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitIllusion(GetFilterUnit())==false then
		if IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(unit240))==false and Func0341(GetFilterUnit(),integers089[integer134])!=null then
		endif
	endif
	return false
endfunction

function Func0482 takes unit u returns nothing
	local group g=GetAvailableGroup()
	set unit240=u
	call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1625,Condition(function Func0481))
	call KillGroup(g)
	set g=null
endfunction

function Func0483 takes unit u returns nothing
	local group g=GetAvailableGroup()
	set integer054=0
	set unit241=u
	call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1425,Condition(function Func0476))
	call KillGroup(g)
	set integer054=0
	set g=null
endfunction

function Func0484 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer ITO=(LoadInteger(HY,(h),(88)))
	local integer i=1
	local player p
	local string s
	loop
		exitwhen i>5
		if ITO==0 then
			set p=Sentinels[i]
			set s=Players_Color[GetPlayerId(Sentinels[0])]+GetObjectName('n03N')+"|r "+GetObjectName('n03P')+" "+Players_Color[GetPlayerId(Sentinels[0])]+GetObjectName('n03Q')+"|r"
		else
			set p=Scourges[i]
			set s=Players_Color[GetPlayerId(Scourges[0])]+GetObjectName('n03O')+"|r "+GetObjectName('n03P')+" "+Players_Color[GetPlayerId(Scourges[0])]+GetObjectName('n03Q')+"|r"
		endif
		call DisplayTimedTextToPlayer(p,0,0,10,s)
		call Func0211(sound022,p)
		set i=i+1
	endloop
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	return false
endfunction

function Func0485 takes integer ITO returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1.5,false)
	call TriggerAddCondition(t,Condition(function Func0484))
	call SaveInteger(HY,(h),(88),(ITO))
	set t=null
endfunction

function Func0486 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer IQO=(LoadInteger(HY,(h),(89)))
	local string s=(LoadStr(HY,(h),(90)))
	if IQO==1 then
		call Func0210(sound007)
	elseif IQO==2 then
		call Func0210(sound033)
	elseif IQO==3 then
		call Func0210(sound046)
	elseif IQO==4 then
		call Func0210(sound047)
	endif
	call DisplayTimedTextToForceEx(Force_All,10.00,s)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	return false
endfunction

function Func0487 takes string s,integer IQO returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1.5,false)
	call TriggerAddCondition(t,Condition(function Func0486))
	call SaveStr(HY,(h),(90),(s))
	call SaveInteger(HY,(h),(89),(IQO))
	set t=null
endfunction

function Func0488 takes player AB1,integer AC1 returns nothing
	local integer TGI=1
	local integer VW1
	if IsSentinel(AB1)then
		set VW1=CountPlayersInForce(Force_Elfs)
	else
		set VW1=CountPlayersInForce(Force_Unds)
	endif
	if IsSentinel(AB1)then
		loop
			exitwhen TGI>5
			if IsPlayer(Sentinels[TGI])then
				set ReliableGold[GetPlayerId(Sentinels[TGI])]=ReliableGold[GetPlayerId(Sentinels[TGI])]+AC1/VW1
				call DistribGoldToPlayerForUnit(Sentinels[TGI],AC1/VW1,Players_Hero[GetPlayerId(Sentinels[TGI])])
			endif
			set TGI=TGI+1
		endloop
	else
		loop
			exitwhen TGI>5
			if IsPlayer(Scourges[TGI])then
				set ReliableGold[GetPlayerId(Scourges[TGI])]=ReliableGold[GetPlayerId(Scourges[TGI])]+AC1/VW1
				call DistribGoldToPlayerForUnit(Scourges[TGI],AC1/VW1,Players_Hero[GetPlayerId(Scourges[TGI])])
			endif
			set TGI=TGI+1
		endloop
	endif
endfunction

function Func0489 takes unit AD1,integer IAO returns nothing
	local player I6O=GetOwningPlayer(AD1)
	call SetPlayerState(I6O,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(I6O,PLAYER_STATE_RESOURCE_GOLD)-IAO)
endfunction

function Func0490 takes nothing returns boolean
	if GetUnitTypeId(GetFilterUnit())=='o003' then
		call KillUnit(GetFilterUnit())
		return true
	endif
	return false
endfunction

function Func0491 takes nothing returns nothing
	local boolexpr QL1=Condition(function Func0490)
	local group Z51=GetAvailableGroup()
	call GroupEnumUnitsInRect(Z51,bj_mapInitialPlayableArea,QL1)
	call KillGroup(Z51)
endfunction

function Func0492 takes player p returns boolean
	if p==Neutrals then
		return true
	endif
	return false
endfunction

function Func0493 takes nothing returns boolean
	if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and GetUnitTypeId(GetTriggerUnit())!='N0MM' then
		if GetUnitTypeId(GetTriggerUnit())=='H00J' and Func0467(GetTriggerUnit())then
			return false
		endif
		return true
	endif
	return false
endfunction

function Func0494 takes player I6O,player AB1,unit UX1 returns boolean
	return UX1==null or GetKillingUnit()==null or(IsSentinel(I6O)and IsSentinel(AB1))or(Func0052(I6O)and Func0052(AB1))
endfunction

function Func0495 takes nothing returns nothing
	if Func0406(GetUnitTypeId(GetEnumUnit()))==false then
		set integer058=integer058+1
		set integer059=integer059+1
	endif
endfunction

function Func0496 takes nothing returns nothing
	if(GetUnitTypeId((GetEnumUnit()))=='H00J')==false and Func0406(GetUnitTypeId(GetEnumUnit()))==false then
		call AddHeroXP(GetEnumUnit(),integer057,true)
		set integers084[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=integers084[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]+integer057
		set integers085[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=integers085[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]+integer056
		set ReliableGold[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=ReliableGold[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]+integer056
		call DistribGoldToPlayerForUnit(GetOwningPlayer(GetEnumUnit()),integer056,GetEnumUnit())
	endif
endfunction

function Func0497 takes player p returns integer
	local integer O8O=0
	local integer i=1
	local player p2
	loop
		exitwhen i==6
		set p2=Sentinels[i]
		if IsPlayerAlly(p,p2)then
			set O8O=O8O+GetHeroXP(Players_Hero[GetPlayerId(p2)])
		endif
		set p2=Scourges[i]
		if IsPlayerAlly(p,p2)then
			set O8O=O8O+GetHeroXP(Players_Hero[GetPlayerId(p2)])
		endif
		set i=i+1
	endloop
	return O8O
endfunction

function Func0498 takes nothing returns boolean
	return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) or Func0266(GetFilterUnit()))and IsUnitIllusion(GetFilterUnit())==false
endfunction

function Func0499 takes player p returns integer
	local integer OBO=0
	local group g=GetAvailableGroup()
	local unit u
	local integer i
	local item BA1
	call GroupEnumUnitsOfPlayer(g,p,Condition(function Func0498))
	loop
		exitwhen FirstOfGroup(g)==null
		set u=FirstOfGroup(g)
		set i=0
		loop
			exitwhen i==6
			set BA1=UnitItemInSlot(u,i)
			if BA1!=null and GetItemPlayer(BA1)==p then
				set OBO=OBO+(integers092[GetIndex((BA1))])
			endif
			set i=i+1
		endloop
		call GroupRemoveUnit(g,u)
	endloop
	call KillGroup(g)
	set OBO=OBO+GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)
	return OBO
endfunction

function Func0500 takes player p returns integer
	local integer ODO=0
	local integer i=1
	local player p2
	loop
		exitwhen i==6
		set p2=Sentinels[i]
		if IsPlayerAlly(p,p2)then
			set ODO=ODO+Func0499(p2)
		endif
		set p2=Scourges[i]
		if IsPlayerAlly(p,p2)then
			set ODO=ODO+Func0499(p2)
		endif
		set i=i+1
	endloop
	return ODO
endfunction

function Func0501 takes nothing returns boolean
	local integer lvl
	local real OFO=0
	local real OGO=0
	local group g
	local player OHO
	local player OZO
	local integer OVO
	local integer OWO
	local real OXO
	local real OYO
	local real OJO
	local real OKO
	local real OLO
	local real OMO
	local real ONO
	local real OSO
	local real OTO
	local unit ORO=unit242
	if IsUnitType(ORO,UNIT_TYPE_HERO) and IsUnitIllusion(ORO)==false and(GetUnitTypeId((ORO))=='H00J')==false and Func0406(GetUnitTypeId(ORO))==false then
		set lvl=GetHeroLevel(ORO)
		set integer057=0
		set integer056=0
		set g=GetAvailableGroup()
		set integer058=0
		set integer059=0
		set tt_unit1=ORO
		call GroupEnumUnitsInRange(g,GetUnitX(ORO),GetUnitY(ORO),1300+25,Condition(function Func0300))
		call ForGroup(g,function Func0495)
		if IsPlayerAlly(GetOwningPlayer(ORO),Sentinels[0])then
			set OHO=Sentinels[0]
			set OZO=Scourges[0]
		else
			set OHO=Scourges[0]
			set OZO=Sentinels[0]
		endif
		set OVO=lvl
		set OWO=GetHeroXP(ORO)
		set OXO=Func0497(OHO)
		set OYO=Func0497(OZO)+1
		set OJO=RMaxBJ((OXO-OYO)/(OXO+OYO),0)
		set OKO=OJO*OWO
		set OLO=Func0499(GetOwningPlayer(ORO))
		set OMO=Func0500(OHO)
		set ONO=Func0500(OZO)+1
		set OSO=RMaxBJ(RMinBJ(OMO/ONO-1,1),0)
		set OTO=OSO*OLO
		if integer058==1 then
			set OFO=20*OVO+OKO*0.23
		elseif integer058==2 then
			set OFO=15*OVO+OKO*0.23
		elseif integer058==3 then
			set OFO=10*OVO+OKO*0.2
		elseif integer058==4 then
			set OFO=7*OVO+OKO*0.15
		elseif integer058==5 then
			set OFO=5*OVO+OKO*0.12
		endif
		if integer059==1 then
			set OGO=40+7*lvl+0.05*OTO
		elseif integer059==2 then
			set OGO=30+6*lvl+0.05*OTO
		elseif integer059==3 then
			set OGO=20+5*lvl+0.05*OTO
		elseif integer059==4 then
			set OGO=10+4*lvl+0.04*OTO
		elseif integer059==5 then
			set OGO=10+4*lvl+0.03*OTO
		endif
		if boolean008 then
		endif
		set integer057=R2I(OFO)
		set integer056=R2I(OGO)
		call ForGroup(g,function Func0496)
		call KillGroup(g)
		set g=null
	endif
	return false
endfunction

function Func0502 takes nothing returns nothing
	local boolean OQO=false
	local unit AD1=GetDyingUnit()
	local unit UX1=GetKillingUnit()
	local player AB1=GetOwningPlayer(UX1)
	local player I6O=GetOwningPlayer(AD1)
	local location spawnloc
	local integer AC1=0
	local integer IAO=0
	local boolean OUO=false
	local string A0O=""
	local string AIO=""
	local string A1O=""
	local string MidText
	local integer x
	local string AOO
	local string A2O
	local string A3O
	local string A4O
	local boolean I4O=false
	local real A5O=1
	local real A6O=1
	local real A7O=1
	local real A8O=1
	local real A9O=0
	local real AAO=1
	local trigger t
	local integer ABO
	local integer ACO
	local integer id
	local integer ADO=GetPlayerState(I6O,PLAYER_STATE_RESOURCE_GOLD)
	local integer AEO=ADO-ReliableGold[GetPlayerId(I6O)]
	local unit AFO
	local unit AGO
	local boolean AHO=((LoadInteger(HY,(GetHandleId((AD1))),((4418))))==1)
	if IsPlayerAlly(AB1,I6O)==false and Func0492(AB1)==false then
		set unit242=GetTriggerUnit()
		call ExecuteFunc("Func0501")
	endif
	if AHO then
		set booleans017[GetPlayerId((I6O))]=true
	endif
	if UX1==null and GetUnitTypeId(AD1)=='Npbm' then
		set UX1=unit400
		set AB1=GetOwningPlayer(UX1)
	endif
	if IsPlayerAlly(AB1,I6O) and((LoadInteger(HY,(GetHandleId((UX1))),((4328))))==1) and unit416!=null then
		set UX1=unit416
		set AB1=GetOwningPlayer(UX1)
	endif
	if((LoadInteger(HY,(GetHandleId((AD1))),((4333))))==1)then
		set UX1=unit351
		set AB1=GetOwningPlayer(UX1)
	endif
	set ACO=Func0459(AD1,UX1)
	if UX1!=null then
		set id=GetUnitTypeId(UX1)
		call Func0473(Players_Hero[GetPlayerId(GetOwningPlayer(UX1))],AD1)
	endif
	if Func0494(I6O,AB1,UX1)==false and ACO==1 and Func0053(AB1)==false and AB1!=Neutrals then
		call Func0460(AD1,UX1)
		set AB1=players005[1]
		set UX1=Players_Hero[GetPlayerId(AB1)]
	endif
	if IsSentinel(GetOwningPlayer(AD1))then
		if GetOwningPlayer(AD1)!=Sentinels[1]then
		endif
		if GetOwningPlayer(AD1)!=Sentinels[2]then
		endif
		if GetOwningPlayer(AD1)!=Sentinels[3]then
		endif
		if GetOwningPlayer(AD1)!=Sentinels[4]then
		endif
		if GetOwningPlayer(AD1)!=Sentinels[5]then
		endif
	else
		if GetOwningPlayer(AD1)!=Scourges[1]then
		endif
		if GetOwningPlayer(AD1)!=Scourges[2]then
		endif
		if GetOwningPlayer(AD1)!=Scourges[3]then
		endif
		if GetOwningPlayer(AD1)!=Scourges[4]then
		endif
		if GetOwningPlayer(AD1)!=Scourges[5]then
		endif
	endif
	set booleans010[GetPlayerId(GetOwningPlayer((AD1)))]=true
	if GetUnitAbilityLevel(AD1,'A0OV')!=0 or(Func0465(AD1)and Func0466(AD1))then
		set I4O=true
		call UnitRemoveAbility(AD1,'A0OV')
		set unit002=AD1
		set unit003=UX1
		if IsUnitType(UX1,UNIT_TYPE_STRUCTURE)==false then
		endif
	endif
	if AB1==null then
		set AB1=I6O
	endif
	if boolean007 and GetUnitTypeId(AD1)!='H00J' then
		set item001=UnitRemoveItemFromSlot(AD1,GetRandomInt(0,5))
		if GetItemTypeId(item001)=='I00K' then
			call CreateItem('I00G',GetItemX(item001),GetItemY(item001))
			call RemoveItem(item001)
		endif
	endif
	if IsSentinel(I6O)then
		if IsSentinel(AB1)then
			set OQO=true
			if(AB1==I6O)then
				call DisplayTimedTextToForceEx(Force_All,10.00,(Players_Color[GetPlayerId(I6O)]+(Players_Name[GetPlayerId((I6O))])+"|r "+GetObjectName('n03R')))
			else
				call DisplayTimedTextToForceEx(Force_All,10.00,Func0365(I6O,AB1))
			endif
		elseif Func0052(AB1)then
			set OUO=true
			set integers002[GetPlayerId(Sentinels[0])]=integers002[GetPlayerId(Sentinels[0])]+1
			set integers001[GetPlayerId(Scourges[0])]=integers001[GetPlayerId(Scourges[0])]+1
			set integers021[2]=integers021[2]+1
			set integers021[1]=0
			if AB1!=Scourges[0]then
				set integers001[GetPlayerId(AB1)]=integers001[GetPlayerId(AB1)]+1
				set integers019[GetPlayerId(AB1)]=integers019[GetPlayerId(AB1)]+1
			endif
		endif
	endif
	if Func0052(I6O)then
		if Func0052(AB1)then
			set OQO=true
			if(AB1==I6O)then
				call DisplayTimedTextToForceEx(Force_All,10.00,(Players_Color[GetPlayerId(I6O)]+(Players_Name[GetPlayerId((I6O))])+"|r "+GetObjectName('n03R')))
			else
				call DisplayTimedTextToForceEx(Force_All,10.00,Func0365(I6O,AB1))
			endif
		elseif IsSentinel(AB1)then
			set OUO=true
			set integers002[GetPlayerId(Scourges[0])]=integers002[GetPlayerId(Scourges[0])]+1
			set integers001[GetPlayerId(Sentinels[0])]=integers001[GetPlayerId(Sentinels[0])]+1
			set integers021[1]=integers021[1]+1
			set integers021[2]=0
			if AB1!=Sentinels[0]then
				set integers001[GetPlayerId(AB1)]=integers001[GetPlayerId(AB1)]+1
				set integers019[GetPlayerId(AB1)]=integers019[GetPlayerId(AB1)]+1
			endif
		endif
	endif
	if AB1==Neutrals then
		set OUO=false
		if GetUnitTypeId(UX1)=='n00L' then
			call DisplayTimedTextToForceEx(Force_All,10.00,(Players_Color[GetPlayerId(I6O)]+(Players_Name[GetPlayerId((I6O))])+"|r "+GetObjectName('n03T')))
		else
			call DisplayTimedTextToForceEx(Force_All,10.00,(Players_Color[GetPlayerId(I6O)]+(Players_Name[GetPlayerId((I6O))])+"|r "+GetObjectName('n03U')))
		endif
		set OQO=true
	endif
	if boolean063 then
		call Func0174(sound010,GetUnitX(AD1),GetUnitY(AD1))
	endif
	call Traffic_RegisterData("Hero"+I2S(GetPlayerId(I6O)),GetPlayerId(AB1))
	set x=integers019[GetPlayerId(I6O)]
	if x>2 and OQO==false then
		if x==3 then
			set AC1=60
			set A0O="|c0000ff40"+GetObjectName('n04L')+"|r"
		elseif x==4 then
			set AC1=120
			set A0O="|c00400080"+GetObjectName('n04N')+"|r"
		elseif x==5 then
			set AC1=180
			set A0O="|c00ff0080"+GetObjectName('n04M')+"|r"
		elseif x==6 then
			set AC1=240
			set A0O="|c00ff8000"+GetObjectName('n04J')+"|r"
		elseif x==7 then
			set AC1=300
			set A0O="|c00808000"+GetObjectName('n04I')+"|r"
		elseif x==8 then
			set AC1=360
			set A0O="|c00ff80ff"+GetObjectName('n03V')+"|r"
		elseif x==9 then
			set AC1=420
			set A0O="|c00ff0000"+GetObjectName('n03W')+"|r"
		else
			set AC1=480
			set A0O="|c00ff8000"+GetObjectName('n03X')+"|r"
		endif
	endif
	set x=integers019[GetPlayerId(AB1)]
	if x>integers010[GetPlayerId(AB1)]then
		set integers010[GetPlayerId(AB1)]=x
	endif
	set AFO=UX1
	if IsUnitType(AFO,UNIT_TYPE_HERO)==false then
		set AFO=Players_Hero[GetPlayerId(GetOwningPlayer(AFO))]
	endif
	if x>2 and GetUnitTypeId(AFO)!='U00F' and integers121[GetPlayerId(GetOwningPlayer(AFO))]==0 then
	endif
	set AGO=AD1
	if IsUnitType(AGO,UNIT_TYPE_HERO)==false then
		set AGO=Players_Hero[GetPlayerId(GetOwningPlayer(AGO))]
	endif
	if OQO==false and OUO then
	endif
	if x>2 and OQO==false then
		if x==3 then
			call Func0210(sound016)
			set AIO=" "+GetObjectName('n04K')+" |c0000ff40"+GetObjectName('n04L')+"|r"+GetObjectName('n049')
		elseif x==4 then
			call Func0210(sound006)
			set AIO=" "+GetObjectName('n04H')+" |c00400080"+GetObjectName('n04N')+"|r"+GetObjectName('n049')
		elseif x==5 then
			call Func0210(sound018)
			set AIO=" "+GetObjectName('n04G')+" |c00ff0080"+GetObjectName('n04M')+"|r"+GetObjectName('n049')
		elseif x==6 then
			call Func0210(sound034)
			set AIO=" "+GetObjectName('n04H')+" |c00ff8000"+GetObjectName('n04J')+"|r"+GetObjectName('n04A')
		elseif x==7 then
			call Func0210(sound037)
			set AIO=" "+GetObjectName('n04H')+" |c00808000"+GetObjectName('n04I')+"|r"+GetObjectName('n04A')
		elseif x==8 then
			call Func0210(sound020)
			set AIO=" "+GetObjectName('n04G')+" |c00ff80ff"+GetObjectName('n03V')+"|r"+GetObjectName('n04A')
		elseif x==9 then
			call Func0210(sound011)
			set AIO=" "+GetObjectName('n04H')+" |c00ff0000"+GetObjectName('n03W')+"|r"+GetObjectName('n04B')
		else
			call Func0210(sound013)
			set AIO=" "+GetObjectName('n04H')+" |c00ff8000"+GetObjectName('n03X')+"|r. "+GetObjectName('n04F')+GetObjectName('n04B')
		endif
	endif
	if OQO==false then
		set AC1=AC1+100+GetHeroLevel(AD1)*9+100
		set AOO=Players_Color[GetPlayerId(I6O)]+(Players_Name[GetPlayerId((I6O))])+"|r"
		set A2O=Players_Color[GetPlayerId(AB1)]+(Players_Name[GetPlayerId((AB1))])+"|r"
		set A4O="|c00FFDC00"+I2S(AC1)+"|r"
		if AB1==Sentinels[0]or AB1==Scourges[0]then
			if ACO==0 then
				if AB1==Sentinels[0]then
					set A3O=A2O+" "+GetObjectName('n042')+" "+AOO+GetObjectName('n043')+GetObjectName('n049')+" "+A4O+" "+GetObjectName('n044')+"."
					call Func0488(AB1,AC1)
				elseif AB1==Scourges[0]then
					set A3O=A2O+" "+GetObjectName('n042')+" "+AOO+GetObjectName('n043')+GetObjectName('n049')+" "+A4O+" "+GetObjectName('n044')+"."
					call Func0488(AB1,AC1)
				endif
			elseif ACO>1 then
				set A3O=A2O+" "+GetObjectName('n042')+" "+AOO+GetObjectName('n043')+GetObjectName('n049')+" "+A4O+" "+GetObjectName('n044')+"."
				call Func0461(AD1,UX1,AC1)
			endif
		elseif A0O==""and AIO==""then
			set A3O=A2O+" "+GetObjectName('n042')+" "+AOO+GetObjectName('n043')+" "+GetObjectName('n04C')+" "+A4O+" "+GetObjectName('n045')+GetObjectName('n049')
		elseif A0O==""and AIO!=""then
			set A3O=A2O+" "+GetObjectName('n042')+" "+AOO+GetObjectName('n043')+" "+GetObjectName('n04C')+" "+A4O+" "+GetObjectName('n045')+GetObjectName('n049')
		elseif A0O!=""and AIO==""then
			set A3O=A2O+" "+GetObjectName('n048')+" "+AOO+GetObjectName('n047')+" "+A0O+" "+GetObjectName('n046')+" "+A4O+" "+GetObjectName('n045')+GetObjectName('n049')
		elseif A0O!=""and AIO!=""then
			set A3O=A2O+" "+GetObjectName('n048')+" "+AOO+GetObjectName('n047')+" "+A0O+" "+GetObjectName('n046')+" "+A4O+" "+GetObjectName('n045')+GetObjectName('n049')
		endif
		if OUO then
			set A1O=Func0457(AD1,UX1)
		endif
		call DisplayTimedTextToForceEx(Force_All,10,A3O+A1O)
		if AIO!=""then
			call DisplayTimedTextToForceEx(Force_All,10,A2O+AIO)
		endif
		set ReliableGold[GetPlayerId(AB1)]=ReliableGold[GetPlayerId(AB1)]+AC1
		call DistribGoldToPlayerForUnit(AB1,AC1,AD1)
		set integers015[GetPlayerId(AB1)]=integers015[GetPlayerId(AB1)]+AC1
		if integers021[1]>4 then
			call Func0485(0)
		endif
		if integers021[2]>4 then
			call Func0485(1)
		endif
	endif
	set IAO=GetHeroLevel(AD1)*30
	if Func0341(AD1,integers089[integer235])!=null then
		if GetItemCharges(Func0341(AD1,integers089[integer235]))>0 then
			set A9O=-1*(4*GetItemCharges(Func0341(AD1,integers089[integer235])))
			set IAO=IMaxBJ(R2I(IAO-25*GetItemCharges(Func0341(AD1,integers089[integer235]))),0)
		endif
	endif
	if IAO>AEO then
		set IAO=AEO
	endif
	call Func0477(AD1,AFO)
	call Func0483(AD1)
	call Func0482(AD1)
	if I4O==false then
		set integers009[GetPlayerId(I6O)]=integers009[GetPlayerId(I6O)]+IAO
		call Func0489(AD1,IAO)
		call Func0472(AD1,IAO)
	endif
	call SaveInteger(HY,(400+GetPlayerId(AB1)),(450+GetPlayerId(I6O)),((LoadInteger(HY,(400+GetPlayerId(AB1)),(450+GetPlayerId(I6O))))+1))
	call SaveInteger(HY,(400+GetPlayerId(I6O)),(500+GetPlayerId(AB1)),((LoadInteger(HY,(400+GetPlayerId(I6O)),(500+GetPlayerId(AB1))))+1))
	call StartTimerBJ(timers001[GetPlayerId(AB1)],false,18)
	if OQO==false and AB1!=Sentinels[0]and AB1!=Scourges[0]and AB1!=Neutrals then
		set integers020[GetPlayerId(AB1)]=integers020[GetPlayerId(AB1)]+1
		if integers020[GetPlayerId(AB1)]==2 then
			set integers011[GetPlayerId(AB1)]=integers011[GetPlayerId(AB1)]+1
			call Func0487(Players_Color[GetPlayerId(AB1)]+(Players_Name[GetPlayerId((AB1))])+"|r "+GetObjectName('n04D')+" |c000000ff"+GetObjectName('n04S')+"|r"+GetObjectName('n049'),1)
		endif
		if integers020[GetPlayerId(AB1)]==3 then
			set integers012[GetPlayerId(AB1)]=integers012[GetPlayerId(AB1)]+1
			call Func0487(Players_Color[GetPlayerId(AB1)]+(Players_Name[GetPlayerId((AB1))])+"|r "+GetObjectName('n04D')+" |c0000ff40"+GetObjectName('n04E')+"|r"+GetObjectName('n04B'),2)
		endif
		if integers020[GetPlayerId(AB1)]==4 then
			set integers012[GetPlayerId(AB1)]=integers012[GetPlayerId(AB1)]+1
			call Func0487(Players_Color[GetPlayerId(AB1)]+(Players_Name[GetPlayerId((AB1))])+"|r "+GetObjectName('n04D')+" |c0000FFFF"+GetObjectName('n0HJ')+"|r"+GetObjectName('n04B'),3)
		endif
		if integers020[GetPlayerId(AB1)]>4 then
			set integers012[GetPlayerId(AB1)]=integers012[GetPlayerId(AB1)]+1
			call Func0487(Players_Color[GetPlayerId(AB1)]+(Players_Name[GetPlayerId((AB1))])+"|r "+GetObjectName('n04K')+" |c0000AAFF"+GetObjectName('n0HK')+"|r"+GetObjectName('n04B'),4)
		endif
	endif
	if(OQO==false)then
		set integers019[GetPlayerId(I6O)]=0
	endif
	set integers019[0]=0
	set integers019[6]=0
	set integers002[GetPlayerId(I6O)]=integers002[GetPlayerId(I6O)]+1
	if I4O then
		set A5O=0.4
	endif
	if OQO and GetUnitTypeId(AD1)=='H00K' then
		set A8O=0.5
	endif
	set ABO=R2I((GetHeroLevel(AD1)*3.8+5)*A5O*A6O*A7O*A8O)+R2I(A9O)
	if boolean131 then
		set ABO=R2I(ABO*0.5)
	endif
	set ABO=ABO+integers066[GetPlayerId(I6O)]
	if(((LoadInteger(HY,(GetHandleId((AD1))),((4333))))==1))then
		set ABO=R2I(ABO+30)
	endif
	if GetUnitAbilityLevel(AD1,'A0MW')==1 or GetUnitAbilityLevel(AD1,'A27C')==1 then
		set AAO=0.8
	endif
	if GetUnitAbilityLevel(AD1,'A0MW')==2 or GetUnitAbilityLevel(AD1,'A27C')==2 then
		set AAO=0.8
	endif
	if GetUnitAbilityLevel(AD1,'A0MW')==3 or GetUnitAbilityLevel(AD1,'A27C')==3 then
		set AAO=0.8
	endif
	set ABO=R2I(ABO*AAO)
	if boolean056 then
		set integers013[GetPlayerId(I6O)]=0
		call TimerStart(timers002[GetPlayerId(I6O)],1.00,false,null)
	else
		set integers013[GetPlayerId(I6O)]=integers013[GetPlayerId(I6O)]+ABO
		call TimerStart(timers002[GetPlayerId(I6O)],ABO,false,null)
	endif
	call TriggerExecute(trigger026)
	if Mode_DM==false then
		call Func0469(AD1,ABO,I4O)
	else
		if(IsSentinel(I6O))then
			set integers024[0]=integers024[0]+1
		endif
		if Func0052(I6O)then
			set integers024[1]=integers024[1]+1
		endif
		set units002[GetPlayerId(I6O)]=AD1
		if GetUnitTypeId(AD1)=='H00J' then
			set units002[GetPlayerId(I6O)]=(LoadUnitHandle(HY,(GetHandleId(GetOwningPlayer(AD1))),(699)))
		endif
		if integers024[0]==integer028 then
			call TriggerExecute(trigger048)
		endif
		if integers024[1]==integer028 then
			call TriggerExecute(trigger047)
		endif
		if(GetUnitTypeId(AD1)=='U006')then
			call ExecuteFunc("Func0491")
		elseif GetUnitTypeId(AD1)=='U008' or GetUnitTypeId(AD1)=='E015' then
			set unit127=AD1
			call ExecuteFunc("Func3094")
		elseif GetUnitTypeId(AD1)=='Ucrl' then
			set unit127=AD1
			call ExecuteFunc("Func2451")
		endif
	endif
endfunction

function Func0503 takes integer MSI,integer AYO returns nothing
	set integers086[integer060]=MSI
	set integers087[integer060]=AYO
	set integer060=integer060+1
endfunction

function Func0504 takes unit source returns integer
	local integer i=0
	local integer MSI=GetUnitTypeId(source)
	loop
		exitwhen i>integer060
		if integers086[i]==MSI then
			return integers087[i]
		endif
		set i=i+1
	endloop
	return-1
endfunction

function Func0505 takes unit source returns integer
	local integer AMO=Func0504(source)
	if AMO==-1 then
		if IsUnitType(source,UNIT_TYPE_HERO) then
			set AMO=Func0099(source)
		else
			set AMO=Func0049(GetUnitLevel(source))
		endif
	endif
	if IsUnitType(source,UNIT_TYPE_SUMMONED) then
		set AMO=R2I(AMO*0.5)
	endif
	return AMO
endfunction

function Func0506 takes nothing returns nothing
	call AddHeroXP(GetEnumUnit(),integer061,true)
endfunction

function Func0507 takes nothing returns boolean
	local unit target=GetFilterUnit()
	local unit ATO=GetDyingUnit()
	local integer MSI=GetUnitTypeId(target)
	if(GetOwningPlayer((ATO))==Neutrals)==false or IsUnitType(ATO,UNIT_TYPE_ANCIENT) then
		if IsUnitEnemy(target,GetOwningPlayer(ATO))==false then
			return false
		endif
	endif
	if IsUnitType(target,UNIT_TYPE_HERO)==false or IsDead(target)then
		return false
	endif
	if Func0243(MSI)then
		return false
	endif
	if Func0141(real193,real194,GetUnitX(target),GetUnitY(target))>1300+25 then
		return false
	endif
	return true
endfunction

function Func0508 takes nothing returns boolean
	local unit APO=GetKillingUnit()
	local unit ATO=GetDyingUnit()
	local integer AMO=Func0505(ATO)
	local integer Count
	local group g
	local group g2
	local real x=GetUnitX(ATO)
	local real y=GetUnitY(ATO)
	local player p
	if IsUnitIllusion(ATO)or GetUnitAbilityLevel(ATO,'Aloc')>0 or AMO==0 then
		return false
	endif
	if APO==null or IsPlayerAlly(GetOwningPlayer(APO),GetOwningPlayer(ATO)) or(GetOwningPlayer((APO))==Neutrals)then
		return false
	endif
	set g=GetAvailableGroup()
	set g2=GetAvailableGroup()
	set real193=x
	set real194=y
	set p=Sentinels[1]
	call GroupEnumUnitsOfPlayer(g,p,Condition(function Func0507))
	call GroupAddGroup(g,g2)
	set p=Sentinels[2]
	call GroupEnumUnitsOfPlayer(g,p,Condition(function Func0507))
	call GroupAddGroup(g,g2)
	set p=Sentinels[3]
	call GroupEnumUnitsOfPlayer(g,p,Condition(function Func0507))
	call GroupAddGroup(g,g2)
	set p=Sentinels[4]
	call GroupEnumUnitsOfPlayer(g,p,Condition(function Func0507))
	call GroupAddGroup(g,g2)
	set p=Sentinels[5]
	call GroupEnumUnitsOfPlayer(g,p,Condition(function Func0507))
	call GroupAddGroup(g,g2)
	set p=Scourges[1]
	call GroupEnumUnitsOfPlayer(g,p,Condition(function Func0507))
	call GroupAddGroup(g,g2)
	set p=Scourges[2]
	call GroupEnumUnitsOfPlayer(g,p,Condition(function Func0507))
	call GroupAddGroup(g,g2)
	set p=Scourges[3]
	call GroupEnumUnitsOfPlayer(g,p,Condition(function Func0507))
	call GroupAddGroup(g,g2)
	set p=Scourges[4]
	call GroupEnumUnitsOfPlayer(g,p,Condition(function Func0507))
	call GroupAddGroup(g,g2)
	set p=Scourges[5]
	call GroupEnumUnitsOfPlayer(g,p,Condition(function Func0507))
	call GroupAddGroup(g,g2)
	set Count=CountUnitsInGroup(g2)
	if Count>0 then
		set integer061=AMO/Count
		call ForGroup(g2,function Func0506)
	endif
	call KillGroup(g)
	call KillGroup(g2)
	set g=null
	set g2=null
	set APO=null
	set ATO=null
	return false
endfunction

function Func0509 takes nothing returns boolean
	local unit IYO=GetSummonedUnit()
	local integer x
	if IsUnitIllusion(IYO) then
		set x=integers019[GetPlayerId(GetOwningPlayer(IYO))]
		if x>2 and integers121[GetPlayerId(GetOwningPlayer(IYO))]==0 then
			call UnitAddAbilityPermanent(IYO,'A2KJ')
		else
			call UnitRemoveAbility(IYO,'A2KJ')
		endif
	endif
	set IYO=null
	return false
endfunction

function Func0510 takes nothing returns nothing
	local trigger t=GetTriggeringTrigger()
	local player AB1=GetOwningPlayer(GetKillingUnit())
	local player I6O=GetOwningPlayer(GetTriggerUnit())
	local string s
	local integer ACO=Func0459(GetTriggerUnit(),GetKillingUnit())
	if AB1==Sentinels[0]or AB1==Scourges[0]then
		call Func0461(GetTriggerUnit(),GetKillingUnit(),150)
		set s=Func0458(GetTriggerUnit(),GetKillingUnit())+" "+GetObjectName('n04W')+" |c00ff0303"+GetObjectName('n04Y')+GetObjectName('n049')+"|r "
		if ACO>1 then
			set s=s+"(+150 "+GetObjectName('n044')+")"
		else
			set s=s+"(+150 "+GetObjectName('n045')+")"
		endif
	else
		set s=Players_Color[GetPlayerId(AB1)]+(Players_Name[GetPlayerId((AB1))])+"|r "+GetObjectName('n04W')+" |c00ff0303"+GetObjectName('n04Y')+GetObjectName('n049')+"|r "
		set s=s+"(+150 "+GetObjectName('n045')+")"
		call DistribGoldToPlayerForUnit(AB1,150,Players_Hero[GetPlayerId(AB1)])
		set ReliableGold[GetPlayerId(AB1)]=ReliableGold[GetPlayerId(AB1)]+150
	endif
	call DisplayTimedTextToForceEx(Force_All,10,s)
	call Func0210(sound008)
	call CleanTrigger(t)
	set t=null
endfunction

function Func0511 takes nothing returns boolean
	if GetOwningPlayer(GetKillingUnit())!=Neutrals and GetKillingUnit()!=null and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit())) then
		if GetOwningPlayer(GetKillingUnit())==Sentinels[0]or GetOwningPlayer(GetKillingUnit())==Scourges[0]then
			if Func0459(GetTriggerUnit(),GetKillingUnit())>0 then
				call Func0510()
			endif
		else
			call Func0510()
		endif
	endif
	return false
endfunction

function Func0512 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
	endif
	if Count>4 or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetEventDamage()>0)then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	call SetUnitState(source,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_LIFE)+0.2*GetUnitState(source,UNIT_STATE_MAX_LIFE))
	call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MANA)+0.2*GetUnitState(source,UNIT_STATE_MAX_MANA))
	set t=null
	set source=null
	return false
endfunction

function Func0513 takes unit source returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1.0,true)
	call TriggerAddCondition(t,Condition(function Func0512))
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DAMAGED)
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
endfunction

function Func0514 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit u
	local region r
	local integer lvl=1+R2I(GetTime()/240)
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set u=(LoadUnitHandle(HY,(h),(53)))
		call SetUnitAbilityLevel(u,'ACtc',lvl)
		set r=CreateRegion()
		call RegionAddRect(r,rect188)
		call RegionAddRect(r,rect189)
		call RegionAddRect(r,rect213)
		if IsUnitInRegion(r,u)==false then
			if(LoadBoolean(HY,(h),(91))) then
				call SaveBoolean(HY,(h),(91),(false))
			else
				call SetUnitX(u,GetRectCenterX(rect033))
				call SetUnitY(u,GetRectCenterY(rect033))
				call SaveBoolean(HY,(h),(91),(true))
			endif
		endif
		call RemoveRegion(r)
		set u=null
		set r=null
	endif
	set t=null
	return false
endfunction

function Func0515 takes unit u returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
	call TriggerRegisterTimerEvent(t,10,true)
	call TriggerAddCondition(t,Condition(function Func0514))
	call SaveUnitHandle(HY,(h),(53),(u))
	call SaveBoolean(HY,(h),(91),(true))
	set t=null
endfunction

function Func0516 takes nothing returns boolean
	local item BA1
	local integer Count=GetTriggerEvalCount(GetTriggeringTrigger())
	if Count==integer064 then
		call CleanTrigger(GetTriggeringTrigger())
	endif
	if Count==integer064-180 or Count==integer064-60 then
		if unit243!=null then
			set BA1=Func0341(unit243,integers089[integer198])
			if BA1!=null then
				if Count==integer064-180 then
					if IsSentinel(GetOwningPlayer(unit243))then
						call DisplayTimedTextToForceEx(Force_Elfs,15,GetObjectName('n0E9')+" |c00ff0303"+GetObjectName('n0E7')+"|r")
					else
						call DisplayTimedTextToForceEx(Force_Unds,15,GetObjectName('n0E9')+" |c00ff0303"+GetObjectName('n0E7')+"|r")
					endif
				else
					if IsSentinel(GetOwningPlayer(unit243))then
						call DisplayTimedTextToForceEx(Force_Elfs,15,GetObjectName('n0E9')+" |c00ff0303"+GetObjectName('n0DX')+"|r")
					else
						call DisplayTimedTextToForceEx(Force_Unds,15,GetObjectName('n0E9')+" |c00ff0303"+GetObjectName('n0DX')+"|r")
					endif
				endif
			endif
		endif
	endif
	set BA1=null
	return false
endfunction

function Func0517 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func0516))
	call TriggerEvaluate(t)
	set t=null
endfunction

function Func0518 takes nothing returns boolean
	set integer062=GetTriggerEvalCount(GetTriggeringTrigger())
	if unit001!=null and GetUnitState(unit001,UNIT_STATE_LIFE)>1 then
		call SetPlayerTechResearched(GetOwningPlayer(unit001),'R00F',integer062)
		if GetUnitAbilityLevel(unit001,'A142')==0 then
			call UnitAddAbility(unit001,'A142')
		endif
		call SetUnitAbilityLevel(unit001,'A142',integer062+1)
	endif
	return false
endfunction

function Func0519 takes nothing returns nothing
	local integer i=1
	local unit Hero
	set unit243=null
	loop
		exitwhen i>5
		set Hero=Players_Hero[GetPlayerId(Sentinels[i])]
		if Hero!=null and Func0341(Hero,integers089[integer198])!=null then
			call DisableTrigger(trigger057)
			call Traffic_RegisterData("AegisOff",GetPlayerId(GetOwningPlayer(Hero)))
			call RemoveItem(Func0341(Hero,integers089[integer198]))
			call Func0513(Hero)
			call EnableTrigger(trigger057)
		endif
		set Hero=Players_Hero[GetPlayerId(Scourges[i])]
		if Hero!=null and Func0341(Hero,integers089[integer198])!=null then
			call DisableTrigger(trigger057)
			call Traffic_RegisterData("AegisOff",GetPlayerId(GetOwningPlayer(Hero)))
			call RemoveItem(Func0341(Hero,integers089[integer198]))
			call Func0513(Hero)
			call EnableTrigger(trigger057)
		endif
		set i=i+1
	endloop
	set Hero=null
endfunction

function Func0520 takes string BBO,string BCO returns string
	local string s=GetObjectName('n0CA')
	set s=Func0364(s,"$team",BBO)
	set s=Func0364(s,"$team",BCO)
	return s
endfunction

function Func0521 takes nothing returns boolean
	return GetUnitTypeId(GetDyingUnit())=='n00L'
endfunction

function IsHero takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)
endfunction

function Func0522 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local location BFO
	local real SKI
	if GetTriggerEvalCount(t)==integer063 or boolean097 then
		set boolean097=false
		set BFO=GetRectCenter(rect033)
		call Func0519()
		set integer065=integer065+1
		set unit001=CreateUnitAtLoc(Player(12),'n00L',BFO,270)
		call SetUnitAcquireRange(unit001,150)
		call Func0515(unit001)
		call UnitAddAbility(unit001,'A142')
		call SetPlayerTechResearched(GetOwningPlayer(unit001),'R00F',integer062)
		call SetUnitAbilityLevel(unit001,'A142',integer062+1)
		call RemoveLocation(BFO)
		if integer065>1 then
			call UnitRemoveAbility(unit001,'A0K2')
			call UnitAddAbility(unit001,'A0Q6')
			call UnitAddItem(unit001,CreateItem(integers089[integer151],0,0))
		endif
		call UnitAddItem(unit001,CreateItem(integers089[integer198],0,0))
		call CleanTrigger(t)
	elseif GetTriggerEvalCount(t)==integer064 then
		call Func0519()
	endif
	set t=null
	return false
endfunction

function Func0523 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func0522))
	set boolean097=false
	set integer063=GetRandomInt(480,660)
	call Func0517()
	set boolean065=false
	if(IsSentinel(GetOwningPlayer(GetKillingUnit())))then
		call Traffic_RegisterData("Roshan",0)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,Func0520("|c00ff0000"+GetObjectName('n065')+"|r",GetObjectName('n065')))
		call AdjustPlayerStateBJ(200,Sentinels[1],PLAYER_STATE_RESOURCE_GOLD)
		call AdjustPlayerStateBJ(200,Sentinels[2],PLAYER_STATE_RESOURCE_GOLD)
		call AdjustPlayerStateBJ(200,Sentinels[3],PLAYER_STATE_RESOURCE_GOLD)
		call AdjustPlayerStateBJ(200,Sentinels[4],PLAYER_STATE_RESOURCE_GOLD)
		call AdjustPlayerStateBJ(200,Sentinels[5],PLAYER_STATE_RESOURCE_GOLD)
	endif
	if(Func0052(GetOwningPlayer(GetKillingUnit())))then
		call Traffic_RegisterData("Roshan",1)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,Func0520("|c00004000"+GetObjectName('n06C')+"|r",GetObjectName('n06C')))
		call AdjustPlayerStateBJ(200,Scourges[1],PLAYER_STATE_RESOURCE_GOLD)
		call AdjustPlayerStateBJ(200,Scourges[2],PLAYER_STATE_RESOURCE_GOLD)
		call AdjustPlayerStateBJ(200,Scourges[3],PLAYER_STATE_RESOURCE_GOLD)
		call AdjustPlayerStateBJ(200,Scourges[4],PLAYER_STATE_RESOURCE_GOLD)
		call AdjustPlayerStateBJ(200,Scourges[5],PLAYER_STATE_RESOURCE_GOLD)
	endif
	set t=null
endfunction

function Func0524 takes nothing returns nothing
	local texttag t=CreateTextTag()
	local unit u=GetTriggerUnit()
	local player p=GetOwningPlayer(GetKillingUnit())
	call SetTextTagText(t,"$",0.027)
	call SetTextTagPosUnit(t,u,0)
	call SetTextTagColorBJ(t,PlayerColors_R[GetPlayerId(p)],PlayerColors_G[GetPlayerId(p)],PlayerColors_B[GetPlayerId(p)],15)
	call SetTextTagVelocity(t,0,0.035)
	call SetTextTagFadepoint(t,3)
	call SetTextTagLifespan(t,1.5)
	call SetTextTagPermanent(t,false)
	call SetTextTagVisibility(t,false)
	if LocalPlayer==Observer1 or LocalPlayer==Observer2 then
		call SetTextTagVisibility(t,true)
	endif
	set t=null
	set u=null
	set p=null
endfunction

function Func0525 takes unit u,player p returns nothing
	local texttag t=CreateTextTag()
	call SetTextTagText(t,"!",0.03)
	call SetTextTagPosUnit(t,u,0)
	call SetTextTagColorBJ(t,PlayerColors_R[GetPlayerId(p)],PlayerColors_G[GetPlayerId(p)],PlayerColors_B[GetPlayerId(p)],15)
	call SetTextTagVelocity(t,0,0.035)
	call SetTextTagFadepoint(t,3)
	call SetTextTagLifespan(t,1.5)
	call SetTextTagPermanent(t,false)
	call SetTextTagVisibility(t,false)
	if booleans028[GetPlayerId(LocalPlayer)] or(isObserversMode and(LocalPlayer==Observer1 or LocalPlayer==Observer2))then
		call SetTextTagVisibility(t,true)
	endif
	set t=null
endfunction

function Func0526 takes nothing returns nothing
	if IsUnitType(GetEnumUnit(),UNIT_TYPE_MELEE_ATTACKER) then
		call AddHeroXP(GetEnumUnit(),integer024/integer022,true)
	else
		call AddHeroXP(GetEnumUnit(),integer023/integer022,true)
	endif
endfunction

function Func0527 takes nothing returns nothing
	local group g=GetAvailableGroup()
	local integer BYO
	local integer BJO=20
	local integer BKO=31
	call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1300+25,Condition(function Func0300))
	set BYO=Func0194(g)
	set integer022=BYO
	set integer023=BJO
	set integer024=BKO
	call ForGroup(g,function Func0526)
	call KillGroup(g)
	call Func0525(GetDyingUnit(),GetOwningPlayer(GetKillingUnit()))
	set g=null
endfunction

function Func0528 takes nothing returns boolean
	if IsUnitAlly(GetKillingUnit(),GetOwningPlayer(GetTriggerUnit())) then
		call Func0527()
	else
		if isObserversMode and Func0053(GetOwningPlayer(GetKillingUnit()))then
			call Func0524()
		endif
	endif
	return false
endfunction

function Func0529 takes player G11,player GO1 returns string
	local string s=GetObjectName('n0AP')
	set s=Func0364(s,"$dead",(Players_Name[GetPlayerId((G11))]))
	return s
endfunction

function Func0530 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,false)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	return false
endfunction

function Func0531 takes unit source returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,true)
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func0530))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	set source=null
	set t=null
endfunction

function Func0532 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit BPO=(LoadUnitHandle(HY,(h),(2)))
	local integer Count=GetTriggerEvalCount(t)
	local integer BQO
	local integer i=1
	local integer id
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local integer BUO=140
	if Func0088(BPO)then
		set BUO=180
	endif
	set BQO=BUO-Count
	loop
		exitwhen i>5
		if IsPlayerAlly(GetOwningPlayer(BPO),Sentinels[0])then
			set id=GetPlayerId(Sentinels[i])
		else
			set id=GetPlayerId(Scourges[i])
		endif
		set i=i+1
		if BQO==0 then
			call LeaderboardDisplay(leaderboards002[id],false)
			if IsPlayerAlly(Sentinels[0],Player(id))then
				set booleans021[GetPlayerId(Sentinels[0])]=false
			endif
			if IsPlayerAlly(Scourges[0],Player(id))then
				set booleans021[GetPlayerId(Scourges[0])]=false
			endif
		else
			if IsDead(Players_Hero[id])==false then
				call PlayerSetLeaderboard(Player(id),leaderboards002[id])
				call LeaderboardDisplay(leaderboards002[id],true)
				call LeaderboardSetLabel(leaderboards002[id],"    "+GetObjectName('n0LZ')+" "+I2S(BQO))
			endif
		endif
	endloop
	if BQO==2 then
		call SetUnitPosition(BPO,x,y)
	endif
	if BQO==0 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set BPO=null
	return false
endfunction

function Func0533 takes player MDI,integer ROI returns nothing
	local texttag t
	if ROI>0 then
		set t=CreateTextTag()
		call SetPlayerState(MDI,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(MDI,PLAYER_STATE_RESOURCE_GOLD)+ROI)
		call SetTextTagText(t,"+"+I2S(ROI),0.025)
		call SetTextTagPosUnit(t,Players_Hero[GetPlayerId(MDI)],0)
		call SetTextTagColor(t,255,220,0,255)
		call SetTextTagVelocity(t,0,0.03)
		if LocalPlayer==MDI then
			call SetTextTagVisibility(t,true)
		else
			call SetTextTagVisibility(t,false)
		endif
		call SetTextTagFadepoint(t,2)
		call SetTextTagLifespan(t,3)
		call SetTextTagPermanent(t,false)
	endif
endfunction

function Func0534 takes nothing returns boolean
	local real x
	local real y
	local unit BPO=GetTriggerUnit()
	local integer i=1
	local integer R4I=175
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	if Func0088(BPO)==false then
		set R4I=150
	endif
	call Traffic_RegisterData("Courier"+I2S(GetPlayerId(GetOwningPlayer(GetTriggerUnit()))),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
	call DisplayTimedTextToForceEx(Force_All,10.00,Func0529(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit())))
	call PingMinimapEx(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),6,255,0,0,false)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func0532))
	call SaveUnitHandle(HY,(h),(2),(BPO))
	if IsPlayerAlly(GetOwningPlayer(BPO),Sentinels[0])and booleans021[GetPlayerId(Sentinels[0])]==false then
		set booleans021[GetPlayerId(Sentinels[0])]=true
		loop
			exitwhen i>5
			call Func0533(Scourges[i],R4I)
			set i=i+1
		endloop
	endif
	set i=1
	if IsPlayerAlly(GetOwningPlayer(BPO),Scourges[0])and booleans021[GetPlayerId(Scourges[0])]==false then
		set booleans021[GetPlayerId(Scourges[0])]=true
		loop
			exitwhen i>5
			call Func0533(Sentinels[i],R4I)
			set i=i+1
		endloop
	endif
	if IsSentinel(GetOwningPlayer(BPO))then
		set x=GetRectCenterX(Hero_Creation_NE)
		set y=GetRectCenterY(Hero_Creation_NE)
	else
		set x=GetRectCenterX(Hero_Creation_UD)
		set y=GetRectCenterY(Hero_Creation_UD)
	endif
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	if IsTerrainPathable(GetUnitX(BPO),GetUnitY(BPO),PATHING_TYPE_WALKABILITY)then
		call Func0531(BPO)
	endif
	set t=null
	return false
endfunction

function Func0535 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=GetUnitX(unit130)
	local real y=GetUnitY(unit130)
	if Func0052(GetOwningPlayer(source))then
		set x=GetUnitX(unit174)
		set y=GetUnitY(unit174)
	endif
	if IsDead(source)==false then
		if Func0141(GetUnitX(source),GetUnitY(source),x,y)<800 then
			call UnitAddAbilityPermanent(source,'Avul')
		else
			call UnitRemoveAbility(source,'Avul')
		endif
	endif
	set t=null
	set source=null
	return false
endfunction

function Func0536 takes unit BPO returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SetPlayerAbilityAvailable(GetOwningPlayer(BPO),'A29N',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(BPO),'A2XM',false)
	call UnitMakeAbilityPermanent(BPO,true,'A29M')
	call TriggerRegisterDeathEvent(t,BPO)
	call TriggerAddCondition(t,Condition(function Func0534))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerAddCondition(t,Condition(function Func0535))
	call SaveUnitHandle(HY,(h),(2),(BPO))
	set t=null
endfunction

function Func0537 takes nothing returns nothing
	if Func0089(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false then
		call Traffic_RegisterData("Courier"+I2S(GetPlayerId(GetOwningPlayer(GetTriggerUnit()))),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call DisplayTimedTextToForceEx(Force_All,10.00,Func0529(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit())))
		call PingMinimapEx(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),6,255,0,0,false)
	endif
endfunction

function Func0538 takes nothing returns boolean
	call CleanTrigger(GetTriggeringTrigger())
	set booleans021[GetPlayerId(Sentinels[0])]=false
	set booleans021[GetPlayerId(Scourges[0])]=false
	set leaderboards002[GetPlayerId(Sentinels[1])]=CreateLeaderboard()
	set leaderboards002[GetPlayerId(Sentinels[2])]=CreateLeaderboard()
	set leaderboards002[GetPlayerId(Sentinels[3])]=CreateLeaderboard()
	set leaderboards002[GetPlayerId(Sentinels[4])]=CreateLeaderboard()
	set leaderboards002[GetPlayerId(Sentinels[5])]=CreateLeaderboard()
	set leaderboards002[GetPlayerId(Scourges[1])]=CreateLeaderboard()
	set leaderboards002[GetPlayerId(Scourges[2])]=CreateLeaderboard()
	set leaderboards002[GetPlayerId(Scourges[3])]=CreateLeaderboard()
	set leaderboards002[GetPlayerId(Scourges[4])]=CreateLeaderboard()
	set leaderboards002[GetPlayerId(Scourges[5])]=CreateLeaderboard()
	call PlayerSetLeaderboard(Sentinels[1],leaderboards002[GetPlayerId(Sentinels[1])])
	call PlayerSetLeaderboard(Sentinels[2],leaderboards002[GetPlayerId(Sentinels[2])])
	call PlayerSetLeaderboard(Sentinels[3],leaderboards002[GetPlayerId(Sentinels[3])])
	call PlayerSetLeaderboard(Sentinels[4],leaderboards002[GetPlayerId(Sentinels[4])])
	call PlayerSetLeaderboard(Sentinels[5],leaderboards002[GetPlayerId(Sentinels[5])])
	call PlayerSetLeaderboard(Scourges[1],leaderboards002[GetPlayerId(Scourges[1])])
	call PlayerSetLeaderboard(Scourges[2],leaderboards002[GetPlayerId(Scourges[2])])
	call PlayerSetLeaderboard(Scourges[3],leaderboards002[GetPlayerId(Scourges[3])])
	call PlayerSetLeaderboard(Scourges[4],leaderboards002[GetPlayerId(Scourges[4])])
	call PlayerSetLeaderboard(Scourges[5],leaderboards002[GetPlayerId(Scourges[5])])
	call LeaderboardDisplay(leaderboards002[GetPlayerId(Sentinels[1])],false)
	call LeaderboardDisplay(leaderboards002[GetPlayerId(Sentinels[2])],false)
	call LeaderboardDisplay(leaderboards002[GetPlayerId(Sentinels[3])],false)
	call LeaderboardDisplay(leaderboards002[GetPlayerId(Sentinels[4])],false)
	call LeaderboardDisplay(leaderboards002[GetPlayerId(Sentinels[5])],false)
	call LeaderboardDisplay(leaderboards002[GetPlayerId(Scourges[1])],false)
	call LeaderboardDisplay(leaderboards002[GetPlayerId(Scourges[2])],false)
	call LeaderboardDisplay(leaderboards002[GetPlayerId(Scourges[3])],false)
	call LeaderboardDisplay(leaderboards002[GetPlayerId(Scourges[4])],false)
	call LeaderboardDisplay(leaderboards002[GetPlayerId(Scourges[5])],false)
	call LeaderboardSetLabelBJ(leaderboards002[GetPlayerId(Sentinels[1])]," ")
	call LeaderboardSetLabelBJ(leaderboards002[GetPlayerId(Sentinels[2])]," ")
	call LeaderboardSetLabelBJ(leaderboards002[GetPlayerId(Sentinels[3])]," ")
	call LeaderboardSetLabelBJ(leaderboards002[GetPlayerId(Sentinels[4])]," ")
	call LeaderboardSetLabelBJ(leaderboards002[GetPlayerId(Sentinels[5])]," ")
	call LeaderboardSetLabelBJ(leaderboards002[GetPlayerId(Scourges[1])]," ")
	call LeaderboardSetLabelBJ(leaderboards002[GetPlayerId(Scourges[2])]," ")
	call LeaderboardSetLabelBJ(leaderboards002[GetPlayerId(Scourges[3])]," ")
	call LeaderboardSetLabelBJ(leaderboards002[GetPlayerId(Scourges[4])]," ")
	call LeaderboardSetLabelBJ(leaderboards002[GetPlayerId(Scourges[5])]," ")
	return false
endfunction

function Func0539 takes nothing returns nothing
	local integer id=GetUnitTypeId(GetTriggerUnit())
	if id=='e00R' or id=='e011' or id=='e00S' or id=='e019' or id=='u00M' or id=='u00D' or id=='u00N' or id=='u00T' then
		if IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))then
			set integers014[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=integers014[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
			call DisplayTimedTextToForceEx(Force_All,10,Players_Color[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+(Players_Name[GetPlayerId((GetOwningPlayer(GetKillingUnit())))])+"|r "+GetObjectName('n04P')+".")
		else
			call DisplayTimedTextToForceEx(Force_All,10,Players_Color[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+(Players_Name[GetPlayerId((GetOwningPlayer(GetKillingUnit())))])+"|r "+GetObjectName('n0EN')+".")
		endif
	endif
endfunction

function Func0540 takes integer i returns boolean
	return i=='I006' or i=='I008' or i=='I00J' or i=='I00K' or i=='I007' or i=='I0RC'
endfunction

function Func0541 takes nothing returns nothing
	local item it=GetEnumItem()
	local integer id=GetItemTypeId(it)
	if GetWidgetLife(it)>0 and Func0540(id)then
		call RemoveItem(it)
	endif
	set it=null
endfunction

function Func0542 takes nothing returns integer
	local integer i=GetRandomInt(1,5)
	loop
		exitwhen i!=integer319
		set i=GetRandomInt(1,5)
	endloop
	set integer319=i
	return i
endfunction

function Func0543 takes nothing returns nothing
	local integer i
	local real x1
	local real y1
	local real x2
	local real y2
	local item it
	if GetRandomInt(1,2)==1 then
		set x1=GetLocationX(location018)
		set y1=GetLocationY(location018)
		set x2=GetLocationX(location019)
		set y2=GetLocationY(location019)
	else
		set x1=GetLocationX(location019)
		set y1=GetLocationY(location019)
		set x2=GetLocationX(location018)
		set y2=GetLocationY(location018)
	endif
	call EnumItemsInRect(rect018,Condition(function ReturnTrue),function Func0541)
	call EnumItemsInRect(rect015,Condition(function ReturnTrue),function Func0541)
	if boolean066==false then
		set i=Func0542()
		if i==1 then
			call CreateItem('I007',x1,y1)
		elseif i==2 then
			call CreateItem('I006',x1,y1)
		elseif i==3 then
			call CreateItem('I00K',x1,y1)
		elseif i==4 then
			call CreateItem('I008',x1,y1)
		elseif i==5 then
			call CreateItem('I00J',x1,y1)
		endif
		set it=CreateItem('I0RC',x2,y2)
		call SaveBoolean(HY,GetHandleId(it),835,false)
	else
		set boolean066=false
		set it=CreateItem('I0RC',x1,y1)
		call SaveBoolean(HY,GetHandleId(it),835,true)
		set it=CreateItem('I0RC',x2,y2)
		call SaveBoolean(HY,GetHandleId(it),835,true)
	endif
	set it=null
endfunction

function Func0544 takes nothing returns nothing
	set integer320=integer320+1
	set integers095[integer320]=integer100
	set integers096[integer320]=integer112
	set integers101[integer320]=integer156
	set integer320=integer320+1
	set integers095[integer320]=integer102
	set integers096[integer320]=integer087
	set integers097[integer320]=integer264
	set integers101[integer320]=integer157
	set integer320=integer320+1
	set integers095[integer320]=integer077
	set integers096[integer320]=integer087
	set integers097[integer320]=integer265
	set integers101[integer320]=integer158
	set integer320=integer320+1
	set integers095[integer320]=integer101
	set integers096[integer320]=integer106
	set integers101[integer320]=integer159
	set integer320=integer320+1
	set integers095[integer320]=integer069
	set integers096[integer320]=integer266
	set integers101[integer320]=integer161
	set integer320=integer320+1
	set integers095[integer320]=integer069
	set integers096[integer320]=integer071
	set integers097[integer320]=integer070
	set integers101[integer320]=integer162
	set integer320=integer320+1
	set integers095[integer320]=integer069
	set integers096[integer320]=integer073
	set integers097[integer320]=integer070
	set integers101[integer320]=integer163
	set integer320=integer320+1
	set integers095[integer320]=integer069
	set integers096[integer320]=integer103
	set integers097[integer320]=integer070
	set integers101[integer320]=integer164
	set integer320=integer320+1
	set integers095[integer320]=integer070
	set integers096[integer320]=integer268
	set integers101[integer320]=integer165
	set integer320=integer320+1
	set integers095[integer320]=integer099
	set integers096[integer320]=integer103
	set integers097[integer320]=integer106
	set integers101[integer320]=integer167
	set integer320=integer320+1
	set integers095[integer320]=integer072
	set integers096[integer320]=integer082
	set integers097[integer320]=integer269
	set integers101[integer320]=integer168
	set integer320=integer320+1
	set integers095[integer320]=integer072
	set integers096[integer320]=integer105
	set integers097[integer320]=integer270
	set integers101[integer320]=integer169
	set integer320=integer320+1
	set integers095[integer320]=integer072
	set integers096[integer320]=integer090
	set integers097[integer320]=integer271
	set integers101[integer320]=integer170
	set integer320=integer320+1
	set integers095[integer320]=integer074
	set integers096[integer320]=integer071
	set integers097[integer320]=integer272
	set integers101[integer320]=integer171
	set integer320=integer320+1
	set integers095[integer320]=integer095
	set integers096[integer320]=integer073
	set integers097[integer320]=integer273
	set integers101[integer320]=integer172
	set integer320=integer320+1
	set integers095[integer320]=integer113
	set integers096[integer320]=integer073
	set integers097[integer320]=integer274
	set integers101[integer320]=integer173
	set integer320=integer320+1
	set integers095[integer320]=integer076
	set integers096[integer320]=integer077
	set integers097[integer320]=integer103
	set integers101[integer320]=integer175
	set integer320=integer320+1
	set integers095[integer320]=integer093
	set integers096[integer320]=integer070
	set integers097[integer320]=integer275
	set integers101[integer320]=integer176
	set integer320=integer320+1
	set integers095[integer320]=integer074
	set integers096[integer320]=integer074
	set integers097[integer320]=integer103
	set integers098[integer320]=integer276
	set integers101[integer320]=integer177
	set integer320=integer320+1
	set integers095[integer320]=integer177
	set integers096[integer320]=integer276
	set integers101[integer320]=integer178
	set integer320=integer320+1
	set integers095[integer320]=integer179
	set integers096[integer320]=integer276
	set integers101[integer320]=integer178
	set integer320=integer320+1
	set integers095[integer320]=integer085
	set integers096[integer320]=integer091
	set integers101[integer320]=integer181
	set integer320=integer320+1
	set integers095[integer320]=integer091
	set integers096[integer320]=integer277
	set integers101[integer320]=integer183
	set integer320=integer320+1
	set integers095[integer320]=integer106
	set integers096[integer320]=integer107
	set integers097[integer320]=integer112
	set integers098[integer320]=integer278
	set integers101[integer320]=integer184
	set integer320=integer320+1
	set integers095[integer320]=integer098
	set integers096[integer320]=integer081
	set integers097[integer320]=integer111
	set integers101[integer320]=integer185
	set integer320=integer320+1
	set integers095[integer320]=integer157
	set integers096[integer320]=integer158
	set integers097[integer320]=integer279
	set integers101[integer320]=integer186
	set integer320=integer320+1
	set integers095[integer320]=integer172
	set integers096[integer320]=integer171
	set integers101[integer320]=integer187
	set integer320=integer320+1
	set integers095[integer320]=integer093
	set integers096[integer320]=integer093
	set integers097[integer320]=integer281
	set integers101[integer320]=integer188
	set integer320=integer320+1
	set integers095[integer320]=integer156
	set integers096[integer320]=integer076
	set integers097[integer320]=integer078
	set integers101[integer320]=integer189
	set integer320=integer320+1
	set integers095[integer320]=integer075
	set integers096[integer320]=integer076
	set integers097[integer320]=integer282
	set integers101[integer320]=integer190
	set integer320=integer320+1
	set integers095[integer320]=integer093
	set integers096[integer320]=integer095
	set integers097[integer320]=integer283
	set integers101[integer320]=integer191
	set integer320=integer320+1
	set integers095[integer320]=integer171
	set integers096[integer320]=integer110
	set integers097[integer320]=integer284
	set integers101[integer320]=integer200
	set integer320=integer320+1
	set integers095[integer320]=integer078
	set integers096[integer320]=integer259
	set integers101[integer320]=integer201
	set integer320=integer320+1
	set integers095[integer320]=integer107
	set integers096[integer320]=integer170
	set integers097[integer320]=integer286
	set integers101[integer320]=integer202
	set integer320=integer320+1
	set integers095[integer320]=integer202
	set integers096[integer320]=integer286
	set integers101[integer320]=integer203
	set integer320=integer320+1
	set integers095[integer320]=integer203
	set integers096[integer320]=integer286
	set integers101[integer320]=integer204
	set integer320=integer320+1
	set integers095[integer320]=integer204
	set integers096[integer320]=integer286
	set integers101[integer320]=integer205
	set integer320=integer320+1
	set integers095[integer320]=integer205
	set integers096[integer320]=integer286
	set integers101[integer320]=integer206
	set integer320=integer320+1
	set integers095[integer320]=integer107
	set integers096[integer320]=integer073
	set integers097[integer320]=integer287
	set integers101[integer320]=integer207
	set integer320=integer320+1
	set integers095[integer320]=integer207
	set integers096[integer320]=integer287
	set integers101[integer320]=integer208
	set integer320=integer320+1
	set integers095[integer320]=integer208
	set integers096[integer320]=integer287
	set integers101[integer320]=integer209
	set integer320=integer320+1
	set integers095[integer320]=integer110
	set integers096[integer320]=integer156
	set integers097[integer320]=integer288
	set integers101[integer320]=integer210
	set integer320=integer320+1
	set integers095[integer320]=integer079
	set integers096[integer320]=integer104
	set integers101[integer320]=integer212
	set integer320=integer320+1
	set integers095[integer320]=integer190
	set integers096[integer320]=integer079
	set integers097[integer320]=integer289
	set integers101[integer320]=integer214
	set integer320=integer320+1
	set integers095[integer320]=integer079
	set integers096[integer320]=integer113
	set integers097[integer320]=integer113
	set integers101[integer320]=integer215
	set integer320=integer320+1
	set integers095[integer320]=integer104
	set integers096[integer320]=integer290
	set integers101[integer320]=integer217
	set integer320=integer320+1
	set integers095[integer320]=integer092
	set integers096[integer320]=integer111
	set integers097[integer320]=integer291
	set integers101[integer320]=integer219
	set integer320=integer320+1
	set integers095[integer320]=integer092
	set integers096[integer320]=integer181
	set integers097[integer320]=integer292
	set integers101[integer320]=integer221
	set integer320=integer320+1
	set integers095[integer320]=integer092
	set integers096[integer320]=integer182
	set integers097[integer320]=integer292
	set integers101[integer320]=integer221
	set integer320=integer320+1
	set integers095[integer320]=integer110
	set integers096[integer320]=integer110
	set integers097[integer320]=integer098
	set integers098[integer320]=integer067
	set integers101[integer320]=integer222
	set integer320=integer320+1
	set integers095[integer320]=integer110
	set integers096[integer320]=integer110
	set integers097[integer320]=integer098
	set integers098[integer320]=integer068
	set integers101[integer320]=integer222
	set integer320=integer320+1
	set integers095[integer320]=integer080
	set integers096[integer320]=integer099
	set integers097[integer320]=integer128
	set integers101[integer320]=integer224
	set integer320=integer320+1
	set integers095[integer320]=integer106
	set integers096[integer320]=integer077
	set integers097[integer320]=integer311
	set integers101[integer320]=integer255
	set integer320=integer320+1
	set integers095[integer320]=integer098
	set integers096[integer320]=integer095
	set integers097[integer320]=integer074
	set integers098[integer320]=integer107
	set integers101[integer320]=integer321
	set integer320=integer320+1
	set integers095[integer320]=integer156
	set integers096[integer320]=integer167
	set integers097[integer320]=integer295
	set integers101[integer320]=integer226
	set integer320=integer320+1
	set integers095[integer320]=integer110
	set integers096[integer320]=integer094
	set integers097[integer320]=integer112
	set integers101[integer320]=integer227
	set integer320=integer320+1
	set integers095[integer320]=integer111
	set integers096[integer320]=integer100
	set integers097[integer320]=integer108
	set integers101[integer320]=integer228
	set integer320=integer320+1
	set integers095[integer320]=integer111
	set integers096[integer320]=integer100
	set integers097[integer320]=integer109
	set integers101[integer320]=integer228
	set integer320=integer320+1
	set integers095[integer320]=integer081
	set integers096[integer320]=integer101
	set integers097[integer320]=integer296
	set integers101[integer320]=integer230
	set integer320=integer320+1
	set integers095[integer320]=integer086
	set integers096[integer320]=integer176
	set integers097[integer320]=integer306
	set integers101[integer320]=integer231
	set integer320=integer320+1
	set integers095[integer320]=integer150
	set integers097[integer320]=integer297
	set integers101[integer320]=integer232
	set integer320=integer320+1
	set integers095[integer320]=integer102
	set integers096[integer320]=integer159
	set integers097[integer320]=integer091
	set integers098[integer320]=integer298
	set integers101[integer320]=integer233
	set integer320=integer320+1
	set integers095[integer320]=integer102
	set integers096[integer320]=integer160
	set integers097[integer320]=integer091
	set integers098[integer320]=integer298
	set integers101[integer320]=integer233
	set integer320=integer320+1
	set integers095[integer320]=integer086
	set integers096[integer320]=integer097
	set integers097[integer320]=integer077
	set integers098[integer320]=integer299
	set integers101[integer320]=integer234
	set integer320=integer320+1
	set integers095[integer320]=integer185
	set integers096[integer320]=integer253
	set integers097[integer320]=integer317
	set integers101[integer320]=integer235
	set integer320=integer320+1
	set integers095[integer320]=integer228
	set integers096[integer320]=integer158
	set integers097[integer320]=integer318
	set integers101[integer320]=integer141
	set integer320=integer320+1
	set integers095[integer320]=integer229
	set integers096[integer320]=integer158
	set integers097[integer320]=integer318
	set integers101[integer320]=integer141
	set integer320=integer320+1
	set integers095[integer320]=integer102
	set integers096[integer320]=integer102
	set integers097[integer320]=integer100
	set integers098[integer320]=integer096
	set integers101[integer320]=integer236
	set integer320=integer320+1
	set integers095[integer320]=integer070
	set integers096[integer320]=integer085
	set integers097[integer320]=integer075
	set integers098[integer320]=integer300
	set integers101[integer320]=integer240
	set integer320=integer320+1
	set integers095[integer320]=integer094
	set integers096[integer320]=integer097
	set integers097[integer320]=integer301
	set integers101[integer320]=integer241
	set integer320=integer320+1
	set integers095[integer320]=integer167
	set integers096[integer320]=integer167
	set integers097[integer320]=integer313
	set integers101[integer320]=integer243
	set integer320=integer320+1
	set integers095[integer320]=integer069
	set integers096[integer320]=integer075
	set integers097[integer320]=integer075
	set integers101[integer320]=integer244
	set integer320=integer320+1
	set integers095[integer320]=integer125
	set integers096[integer320]=integer087
	set integers097[integer320]=integer087
	set integers098[integer320]=integer087
	set integers099[integer320]=integer302
	set integers101[integer320]=integer245
	set integer320=integer320+1
	set integers095[integer320]=integer107
	set integers096[integer320]=integer102
	set integers097[integer320]=integer303
	set integers101[integer320]=integer246
	set integer320=integer320+1
	set integers095[integer320]=integer236
	set integers096[integer320]=integer157
	set integers097[integer320]=integer304
	set integers101[integer320]=integer247
	set integer320=integer320+1
	set integers095[integer320]=integer108
	set integers096[integer320]=integer105
	set integers097[integer320]=integer105
	set integers101[integer320]=integer248
	set integer320=integer320+1
	set integers095[integer320]=integer109
	set integers096[integer320]=integer105
	set integers097[integer320]=integer105
	set integers101[integer320]=integer248
	set integer320=integer320+1
	set integers095[integer320]=integer106
	set integers096[integer320]=integer082
	set integers097[integer320]=integer082
	set integers098[integer320]=integer307
	set integers101[integer320]=integer251
	set integer320=integer320+1
	set integers095[integer320]=integer106
	set integers096[integer320]=integer102
	set integers097[integer320]=integer308
	set integers101[integer320]=integer253
	set integer320=integer320+1
	set integers095[integer320]=integer080
	set integers096[integer320]=integer250
	set integers101[integer320]=integer129
	set integer320=integer320+1
	set integers095[integer320]=integer069
	set integers096[integer320]=integer081
	set integers101[integer320]=integer254
	set integer320=integer320+1
	set integers095[integer320]=integer103
	set integers096[integer320]=integer168
	set integers097[integer320]=integer310
	set integers101[integer320]=integer132
	set integer320=integer320+1
	set integers095[integer320]=integer132
	set integers096[integer320]=integer310
	set integers101[integer320]=integer132
	set integer320=integer320+1
	set integers095[integer320]=integer133
	set integers096[integer320]=integer310
	set integers101[integer320]=integer132
	set integer320=integer320+1
	set integers095[integer320]=integer085
	set integers096[integer320]=integer170
	set integers097[integer320]=integer312
	set integers101[integer320]=integer256
	set integer320=integer320+1
	set integers095[integer320]=integer069
	set integers096[integer320]=integer101
	set integers097[integer320]=integer102
	set integers101[integer320]=integer135
	set integer320=integer320+1
	set integers095[integer320]=integer107
	set integers096[integer320]=integer107
	set integers097[integer320]=integer111
	set integers101[integer320]=integer137
	set integer320=integer320+1
	set integers095[integer320]=integer172
	set integers096[integer320]=integer128
	set integers101[integer320]=integer257
	set integer320=integer320+1
	set integers095[integer320]=integer173
	set integers096[integer320]=integer104
	set integers101[integer320]=integer258
	set integer320=integer320+1
	set integers095[integer320]=integer169
	set integers096[integer320]=integer159
	set integers101[integer320]=integer139
	set integer320=integer320+1
	set integers095[integer320]=integer169
	set integers096[integer320]=integer160
	set integers101[integer320]=integer140
	set integer320=integer320+1
	set integers095[integer320]=integer261
	set integers096[integer320]=integer261
	set integers097[integer320]=integer261
	set integers098[integer320]=integer261
	set integers099[integer320]=integer261
	set integers100[integer320]=integer261
	set integers101[integer320]=integer262
endfunction

function InitTrig_Recipe_Definitions takes nothing returns nothing
	call Func0544()
endfunction

function Func0545 takes nothing returns nothing
	set integer066=integer066+1
	set integers088[integer066]='I0AZ'
	set integers089[integer066]='I011'
	set integers090[integer066]=0
	set integers091[integer066]='I0EY'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer322=integer066
	set integer066=integer066+1
	set integers088[integer066]='I00F'
	set integers089[integer066]='I00D'
	set integers090[integer066]=0
	set integers091[integer066]='I0EZ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer323=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0R9'
	set integers089[integer066]='I0RA'
	set integers090[integer066]=0
	set integers091[integer066]='I0RB'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer386=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0R6'
	set integers089[integer066]='I0R7'
	set integers090[integer066]=0
	set integers091[integer066]='I0R8'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer385=integer066
	set integer066=integer066+1
	set integers088[integer066]='I018'
	set integers089[integer066]='I009'
	set integers090[integer066]=0
	set integers091[integer066]='I0F0'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer324=integer066
	set integer066=integer066+1
	set integers088[integer066]='I019'
	set integers089[integer066]='I005'
	set integers090[integer066]=0
	set integers091[integer066]='I0F6'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer325=integer066
	set integer066=integer066+1
	set integers088[integer066]='I01A'
	set integers089[integer066]='I00G'
	set integers090[integer066]=0
	set integers091[integer066]='I0F1'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer326=integer066
	set integer066=integer066+1
	set integers088[integer066]='I01B'
	set integers089[integer066]='I004'
	set integers090[integer066]=0
	set integers091[integer066]='I0F2'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer327=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0R3'
	set integers089[integer066]='I0R4'
	set integers090[integer066]=0
	set integers091[integer066]='I0R5'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer384=integer066
	set integer066=integer066+1
	set integers088[integer066]='I01H'
	set integers089[integer066]='I003'
	set integers090[integer066]=0
	set integers091[integer066]='I0F3'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer328=integer066
	set integer066=integer066+1
	set integers088[integer066]='I01I'
	set integers089[integer066]='I002'
	set integers090[integer066]=0
	set integers091[integer066]='I0F5'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer329=integer066
	set integer066=integer066+1
	set integers088[integer066]='I02K'
	set integers089[integer066]='I001'
	set integers090[integer066]=0
	set integers091[integer066]='I0F4'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer330=integer066
	set integer066=integer066+1
	set integers088[integer066]='I02L'
	set integers089[integer066]='I00I'
	set integers090[integer066]=0
	set integers091[integer066]='I0FE'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer331=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0R1'
	set integers089[integer066]='I0R0'
	set integers090[integer066]=0
	set integers091[integer066]='I0R2'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer332=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0B2'
	set integers089[integer066]='I00H'
	set integers090[integer066]=0
	set integers091[integer066]='I0F9'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer334=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0B3'
	set integers089[integer066]='I00P'
	set integers090[integer066]=0
	set integers091[integer066]='I0FA'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer335=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0B4'
	set integers089[integer066]='I00U'
	set integers090[integer066]=0
	set integers091[integer066]='I0F7'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer336=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0B7'
	set integers089[integer066]='I000'
	set integers090[integer066]=0
	set integers091[integer066]='I0FD'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer337=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0B6'
	set integers089[integer066]='I016'
	set integers090[integer066]=0
	set integers091[integer066]='I0FC'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer338=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0B5'
	set integers089[integer066]='I017'
	set integers090[integer066]=0
	set integers091[integer066]='I0FB'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer339=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0B9'
	set integers089[integer066]='I00O'
	set integers090[integer066]=0
	set integers091[integer066]='I0F8'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer340=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0J5'
	set integers089[integer066]='I0IT'
	set integers090[integer066]=0
	set integers091[integer066]='I0IJ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer341=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0IV'
	set integers089[integer066]='I0IU'
	set integers090[integer066]=0
	set integers091[integer066]='I0I9'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer342=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0IW'
	set integers089[integer066]='I0IS'
	set integers090[integer066]=0
	set integers091[integer066]='I0II'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer343=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0IX'
	set integers089[integer066]='I0IR'
	set integers090[integer066]=0
	set integers091[integer066]='I0IA'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer344=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0IY'
	set integers089[integer066]='I0IQ'
	set integers090[integer066]=0
	set integers091[integer066]='I0IH'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer345=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0IZ'
	set integers089[integer066]='I0IK'
	set integers090[integer066]=0
	set integers091[integer066]='I0IG'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer346=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0J0'
	set integers089[integer066]='I0IL'
	set integers090[integer066]=0
	set integers091[integer066]='I0IF'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer347=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0J1'
	set integers089[integer066]='I0IM'
	set integers090[integer066]=0
	set integers091[integer066]='I0IE'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer348=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0J2'
	set integers089[integer066]='I0IP'
	set integers090[integer066]=0
	set integers091[integer066]='I0ID'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer349=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0J3'
	set integers089[integer066]='I0IO'
	set integers090[integer066]=0
	set integers091[integer066]='I0IC'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer350=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0J4'
	set integers089[integer066]='I0IN'
	set integers090[integer066]=0
	set integers091[integer066]='I0IB'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer351=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0I6'
	set integers089[integer066]='I0I7'
	set integers090[integer066]=0
	set integers091[integer066]='I0I8'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer352=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0JZ'
	set integers089[integer066]='I0JS'
	set integers090[integer066]=0
	set integers091[integer066]='I0JR'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer353=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0K0'
	set integers089[integer066]='I0JT'
	set integers090[integer066]=0
	set integers091[integer066]='I0JL'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer354=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0K1'
	set integers089[integer066]='I0JU'
	set integers090[integer066]=0
	set integers091[integer066]='I0JM'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer355=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0K2'
	set integers089[integer066]='I0JW'
	set integers090[integer066]=0
	set integers091[integer066]='I0JN'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer356=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0K3'
	set integers089[integer066]='I0JV'
	set integers090[integer066]=0
	set integers091[integer066]='I0JQ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer357=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0K4'
	set integers089[integer066]='I0JY'
	set integers090[integer066]=0
	set integers091[integer066]='I0JP'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer358=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0K5'
	set integers089[integer066]='I0JX'
	set integers090[integer066]=0
	set integers091[integer066]='I0JO'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer359=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0KI'
	set integers089[integer066]='I0KH'
	set integers090[integer066]=0
	set integers091[integer066]='I0KJ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer360=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0L4'
	set integers089[integer066]='I0L5'
	set integers090[integer066]=0
	set integers091[integer066]='I0L8'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer333=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0L3'
	set integers089[integer066]='I0L0'
	set integers090[integer066]=0
	set integers091[integer066]='I0L9'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer361=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0L2'
	set integers089[integer066]='I0L7'
	set integers090[integer066]=0
	set integers091[integer066]='I0LA'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer362=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0LU'
	set integers089[integer066]='I0LV'
	set integers090[integer066]=0
	set integers091[integer066]='I0LW'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer363=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0M1'
	set integers089[integer066]='I0M0'
	set integers090[integer066]=0
	set integers091[integer066]='I0M2'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer364=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0M5'
	set integers089[integer066]='I0M4'
	set integers090[integer066]=0
	set integers091[integer066]='I0M3'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer365=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0M6'
	set integers089[integer066]='I0M7'
	set integers090[integer066]=0
	set integers091[integer066]='I0M8'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer366=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0MF'
	set integers089[integer066]='I0MG'
	set integers090[integer066]=0
	set integers091[integer066]='I0MH'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer367=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0MM'
	set integers089[integer066]='I0ML'
	set integers090[integer066]=0
	set integers091[integer066]='I0MN'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer368=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0MO'
	set integers089[integer066]='I0MP'
	set integers090[integer066]=0
	set integers091[integer066]='I0MQ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer369=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0NQ'
	set integers089[integer066]='I0NR'
	set integers090[integer066]=0
	set integers091[integer066]='I0NS'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer370=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0NT'
	set integers089[integer066]='I0NU'
	set integers090[integer066]=0
	set integers091[integer066]='I0NV'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer371=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0NW'
	set integers089[integer066]='I0NX'
	set integers090[integer066]=0
	set integers091[integer066]='I0NY'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer372=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0NZ'
	set integers089[integer066]='I0O0'
	set integers090[integer066]=0
	set integers091[integer066]='I0O1'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer373=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0OR'
	set integers089[integer066]='I0OS'
	set integers090[integer066]=0
	set integers091[integer066]='I0OT'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer374=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0PG'
	set integers089[integer066]='I0PH'
	set integers090[integer066]=0
	set integers091[integer066]='I0PI'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer375=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0PJ'
	set integers089[integer066]='I0PK'
	set integers090[integer066]=0
	set integers091[integer066]='I0PL'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer376=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0PP'
	set integers089[integer066]='I0PQ'
	set integers090[integer066]=0
	set integers091[integer066]='I0PR'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer377=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0PS'
	set integers089[integer066]='I0PT'
	set integers090[integer066]=0
	set integers091[integer066]='I0PU'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer378=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0PV'
	set integers089[integer066]='I0PW'
	set integers090[integer066]=0
	set integers091[integer066]='I0PX'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer379=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0Q0'
	set integers089[integer066]='I0Q2'
	set integers090[integer066]=0
	set integers091[integer066]='I0Q4'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer381=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0Q1'
	set integers089[integer066]='I0Q3'
	set integers090[integer066]=0
	set integers091[integer066]='I0Q5'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer380=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0QL'
	set integers089[integer066]='I0QM'
	set integers090[integer066]=0
	set integers091[integer066]='I0QN'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer382=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0QO'
	set integers089[integer066]='I0QP'
	set integers090[integer066]=0
	set integers091[integer066]='I0QQ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer383=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0RJ'
	set integers089[integer066]='I0RK'
	set integers090[integer066]=0
	set integers091[integer066]='I0RL'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer387=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0RM'
	set integers089[integer066]='I0RN'
	set integers090[integer066]=0
	set integers091[integer066]='I0RO'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer388=integer066
endfunction

function InitTrig_Aghanims_Scepter_Definitions takes nothing returns nothing
	call Func0545()
endfunction

function Func0546 takes unit source returns nothing
	local real x
	local real y
	if IsSentinel(GetOwningPlayer(source))then
		set x=GetRectCenterX(Hero_Creation_NE)
		set y=GetRectCenterY(Hero_Creation_NE)
	else
		set x=GetRectCenterX(Hero_Creation_UD)
		set y=GetRectCenterY(Hero_Creation_UD)
	endif
	call IssuePointOrder(source,"move",x,y)
endfunction

function Func0547 takes nothing returns nothing
	local item BA1=GetEnumItem()
	if GetWidgetLife(BA1)>0 and GetItemPlayer(BA1)==player012 and integer389==0 and IsItemVisible(BA1) then
		set integer389=integer389+1
		call UnitAddItem(unit244,BA1)
	endif
	set BA1=null
endfunction

function Func0548 takes nothing returns nothing
	local item BA1=GetEnumItem()
	if GetWidgetLife(BA1)>0 and GetItemPlayer(BA1)==player012 and IsItemVisible(BA1) then
		call UnitAddItem(unit245,BA1)
	endif
	set BA1=null
endfunction

function Func0549 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit BPO=(LoadUnitHandle(HY,(h),(92)))
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local rect r=Rect(x-300,y-300,x+300,y+300)
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		set player012=p
		set unit244=source
		set unit245=BPO
		call EnumItemsInRect(r,Condition(function ReturnTrue),function Func0548)
	else
		if GetTriggerEvalCount(t)>9 then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			set player012=p
			set unit244=source
			set unit245=BPO
			call EnumItemsInRect(r,Condition(function ReturnTrue),function Func0548)
		else
			set player012=p
			set unit244=source
			set integer389=0
			call EnumItemsInRect(r,Condition(function ReturnTrue),function Func0547)
		endif
	endif
	call RemoveRect(r)
	set t=null
	set source=null
	set BPO=null
	set r=null
	return false
endfunction

function Func0550 takes unit BPO,unit source returns nothing
	local player p=GetOwningPlayer(source)
	local integer i
	local item BA1
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real x=GetUnitX(BPO)
	local real y=GetUnitY(BPO)
	local integer indexId
	if IsTerrainPathable(x,y,PATHING_TYPE_WALKABILITY)then
		set x=GetUnitX(source)
		set y=GetUnitY(source)
	endif
	call TriggerRegisterDeathEvent(t,source)
	call TriggerRegisterTimerEvent(t,0.01,true)
	call TriggerAddCondition(t,Condition(function Func0549))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(92),(BPO))
	call SavePlayerHandle(HY,(h),(54),(p))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	set i=0
	loop
		exitwhen i>5
		set BA1=UnitItemInSlot(BPO,i)
		set indexId=GetIndex(BA1)
		if BA1!=null and GetItemPlayer(BA1)==p and Func0333(BA1)==false and(indexId!=integer119 and indexId!=integer120 and indexId!=integer121 and indexId!=integer122 and indexId!=integer123)then
			call UnitRemoveItem(BPO,BA1)
			call SetItemPosition(BA1,x,y)
		endif
		set i=i+1
	endloop
	set t=null
	set BA1=null
endfunction

function Func0551 takes unit B71 returns boolean
	local integer CKO=GetUnitCurrentOrder(B71)
	return(CKO==0)or(CKO==851973)or(CKO==851975)or(CKO==851987)or(CKO==851993)
endfunction

function Func0552 takes trigger t returns nothing
	local integer h=GetHandleId(t)
	local unit BPO=(LoadUnitHandle(HY,(h),(92)))
	local unit Hero=(LoadUnitHandle(HY,(h),(2)))
	local real x
	local real y
	local real CMO
	local real CNO
	local real CSO
	local real CTO
	local real CRO
	local real QWI
	local real CPO
	local real CQO=GetUnitX(Hero)
	local real CUO=GetUnitY(Hero)
	if(Func0551(Hero)==false)then
		set x=GetUnitX(Hero)
		set y=GetUnitY(Hero)
		set CTO=(LoadReal(HY,(h),(677)))
		set CRO=(LoadReal(HY,(h),(678)))
		call SaveReal(HY,(h),(677),((x)*1.0))
		call SaveReal(HY,(h),(678),((y)*1.0))
		set CSO=Atan2(y-CRO,x-CTO)
		set CMO=SquareRoot((x-CTO)*(x-CTO)+(y-CRO)*(y-CRO))/0.2
		set CNO=GetUnitMoveSpeed(BPO)
		set QWI=Func0141(GetUnitX(Hero),GetUnitY(Hero),GetUnitX(BPO),GetUnitY(BPO))
		set CPO=RAbsBJ(CSO*bj_RADTODEG-GetUnitFacing(BPO))
		if(QWI<CNO-CMO and CNO>CMO)or(QWI<RMaxBJ(CNO,CMO)and CPO>=90)then
		else
			set CQO=x+CMO*Cos(CSO)
			set CUO=y+CMO*Sin(CSO)
		endif
	endif
	call SaveInteger(HY,(h),(679),(1))
	call IssuePointOrder(BPO,"move",CQO,CUO)
	set BPO=null
	set Hero=null
	set t=null
endfunction

function Func0553 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit BPO=(LoadUnitHandle(HY,(h),(92)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x
	local real y
	local integer i
	local player p=GetOwningPlayer(source)
	local item BA1
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		if GetTriggerUnit()==source then
			call Func0546(BPO)
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER then
		if(LoadInteger(HY,(h),(679)))==1 then
			call SaveInteger(HY,(h),(679),(0))
		elseif GetIssuedOrderId()!=852100 and GetIssuedOrderId()!=852090 then
			call CleanTrigger(t)
		endif
	else
		if Func0139(BPO,source)<300 then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call Func0550(BPO,source)
			call Func0546(BPO)
		else
			call Func0552(t)
		endif
	endif
	set t=null
	set BPO=null
	set source=null
	set BA1=null
	return false
endfunction

function Func0554 takes unit Hero,boolean D1O returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit BPO=GetSellingUnit()
	local integer DOO=(LoadInteger(HY,(GetHandleId(BPO)),(8000)))
	if Hero!=null then
		if Hero!=(LoadUnitHandle(HY,(GetHandleId(BPO)),(8002+DOO)))and D1O then
			set DOO=DOO+1
			call SaveInteger(HY,(GetHandleId(BPO)),(8000),(DOO))
			call SaveUnitHandle(HY,(GetHandleId(BPO)),(8002+DOO),(Hero))
		endif
		call SaveReal(HY,(h),(677),((GetUnitX(Hero))*1.0))
		call SaveReal(HY,(h),(678),((GetUnitY(Hero))*1.0))
		call IssueTargetOrder(BPO,"move",Hero)
		call TriggerRegisterDeathEvent(t,BPO)
		call TriggerRegisterDeathEvent(t,Hero)
		call TriggerRegisterUnitEvent(t,BPO,EVENT_UNIT_ISSUED_ORDER)
		call TriggerRegisterUnitEvent(t,BPO,EVENT_UNIT_ISSUED_TARGET_ORDER)
		call TriggerRegisterUnitEvent(t,BPO,EVENT_UNIT_ISSUED_POINT_ORDER)
		call TriggerRegisterTimerEvent(t,0.2,true)
		call TriggerAddCondition(t,Condition(function Func0553))
		call SaveUnitHandle(HY,(h),(2),(Hero))
		call SaveUnitHandle(HY,(h),(92),(BPO))
	endif
	set t=null
	set BPO=null
endfunction

function Func0555 takes nothing returns nothing
	local item BA1=GetEnumItem()
	local unit u=unit247
	local player p=GetOwningPlayer(u)
	local integer id=GetPlayerId(p)
	if GetWidgetLife(BA1)>0 and GetItemPlayer(BA1)==p and IsItemVisible(BA1) then
		call SetItemPosition(BA1,ItemSpawnX[id],ItemSpawnY[id])
		call UnitAddItem(unit246,BA1)
	endif
	set BA1=null
	set u=null
	set p=null
endfunction

function Func0556 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit u=(LoadUnitHandle(HY,(h),(53)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	set unit247=u
	set unit246=source
	if IsSentinel(GetOwningPlayer(unit247))then
		call EnumItemsInRect(rect044,Condition(function ReturnTrue),function Func0555)
	else
		call EnumItemsInRect(rect045,Condition(function ReturnTrue),function Func0555)
	endif
	if GetTriggerEvalCount(t)==3 then
		call KillUnit(u)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set u=null
	return false
endfunction

function Func0557 takes unit Hero returns nothing
	local unit u=GetSoldUnit()
	local integer i=0
	local item BA1
	local integer id=GetPlayerId(GetOwningPlayer(u))
	local region r=CreateRegion()
	local trigger t
	local integer h
	local unit source=GetSellingUnit()
	if IsSentinel(GetOwningPlayer(u))then
		call RegionAddRect(r,rect044)
	else
		call RegionAddRect(r,rect045)
	endif
	if IsUnitInRegion(r,source)then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,0.05,true)
		call TriggerAddCondition(t,Condition(function Func0556))
		call SaveUnitHandle(HY,(h),(53),(u))
		call SaveUnitHandle(HY,(h),(2),(source))
		loop
			exitwhen i>5
			set BA1=UnitItemInSlot(source,i)
			if Func0327(GetIndex(BA1))==false and GetIndex(BA1)!=integer198 and Func0333(BA1)==false then
				call UnitRemoveItemFromSlot(source,i)
				if IsUnitInRegion(r,source)and IsPlayerAlly(GetItemPlayer(BA1),GetOwningPlayer(source)) then
					set id=GetPlayerId(GetItemPlayer(BA1))
					call SetItemPosition(BA1,ItemSpawnX[id],ItemSpawnY[id])
				endif
			endif
			set i=i+1
		endloop
	endif
	call RemoveRegion(r)
	set u=null
	set r=null
endfunction

function Func0558 takes unit u returns string
	local string s=GetObjectName('n0FO')
	set s=Func0364(s,"$hero",Players_Color[GetPlayerId(GetOwningPlayer(u))]+GetUnitName(u)+"|r")
	return s
endfunction

function Func0559 takes unit source returns boolean
	if GetOwningPlayer(source)!=GetLocalPlayer()then
		call DisplayTimedTextToPlayer(LocalPlayer,0,0,15,Func0558(Players_Hero[GetPlayerId(GetOwningPlayer(source))]))
	endif
	return false
endfunction

function Func0560 takes nothing returns nothing
	if GetUnitTypeId(GetSoldUnit())=='h085' then
		if Players_Hero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null and IsDead(Players_Hero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])==false then
			call Func0554(Players_Hero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],true)
		endif
		call KillUnit(GetSoldUnit())
	elseif GetUnitTypeId(GetSoldUnit())=='h0BV' then
		if Players_Hero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null then
			call Func0557(Players_Hero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])
		endif
		call KillUnit(GetSoldUnit())
	elseif GetUnitTypeId(GetSoldUnit())=='h0DE' then
		if Players_Hero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null then
			call Func0554((LoadUnitHandle(HY,(GetHandleId(GetSellingUnit())),(8002+(LoadInteger(HY,(GetHandleId(GetSellingUnit())),(8000)))-1))),false)
		endif
		call KillUnit(GetSoldUnit())
	elseif Func0376(GetUnitTypeId(GetSoldUnit()))then
		if Players_Hero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null then
			if IsDead(Players_Hero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]) and GetOwningPlayer(GetSoldUnit())==GetOwningPlayer(GetSellingUnit())and((LoadInteger(HY,(GetHandleId((Players_Hero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]))),((4304))))==1)==false and(booleans017[GetPlayerId((GetOwningPlayer(GetSoldUnit())))]==false)then
				call Func0559(Players_Hero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])
				set boolean067=true
				call ReviveHero(Players_Hero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),true)
				set boolean067=false
				call SetUnitState(Players_Hero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],UNIT_STATE_MANA,10000)
				set ReliableGold[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]=IMaxBJ(0,ReliableGold[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]-integers065[Func0377(GetHeroLevel(Players_Hero[GetPlayerId(GetOwningPlayer(GetSellingUnit()))]))])
				call Func0382(GetOwningPlayer(GetSoldUnit()))
			else
				call SetPlayerState(GetOwningPlayer(GetSoldUnit()),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetOwningPlayer(GetSoldUnit()),PLAYER_STATE_RESOURCE_GOLD)+integers065[Func0377(GetHeroLevel(Players_Hero[GetPlayerId(GetOwningPlayer(GetSellingUnit()))]))])
				if(booleans017[GetPlayerId((GetOwningPlayer(GetSoldUnit())))]==false)==false then
					call Error(GetOwningPlayer(GetSoldUnit()),GetObjectName('n0N4'))
				endif
			endif
		endif
		call KillUnit(GetSoldUnit())
	endif
endfunction

function Func0561 takes player MDI,unit SWI,integer DAO,integer i0,integer i1,integer i2,integer i3,integer i4,integer i5 returns nothing
	local item BA1
	call DisableTrigger(trigger058)
	if i0>0 then
		set BA1=UnitItemInSlot(SWI,0)
		call Func0339(BA1)
	endif
	if i1>0 then
		set BA1=UnitItemInSlot(SWI,1)
		call Func0339(BA1)
	endif
	if i2>0 then
		set BA1=UnitItemInSlot(SWI,2)
		call Func0339(BA1)
	endif
	if i3>0 then
		set BA1=UnitItemInSlot(SWI,3)
		call Func0339(BA1)
	endif
	if i4>0 then
		set BA1=UnitItemInSlot(SWI,4)
		call Func0339(BA1)
	endif
	if i5>0 then
		set BA1=UnitItemInSlot(SWI,5)
		call Func0339(BA1)
	endif
	set BA1=UnitAddItemById(SWI,integers089[DAO])
	call SetItemPlayer(BA1,MDI,true)
	call SetItemUserData(BA1,0)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",SWI,"origin"))
	if GetIndex(BA1)==integer235 then
		call SetItemCharges(BA1,8)
	endif
	call EnableTrigger(trigger058)
	if IsPlayerAlly(LocalPlayer,MDI) then
		if DAO==integer186 then
			call DisplayTimedTextToPlayer(LocalPlayer,0,0,4,Players_Color[GetPlayerId(MDI)]+(Players_Name[GetPlayerId((MDI))])+"|r |c00ffff00"+GetObjectName('n0LX')+"|r")
		elseif DAO==integer212 then
			call DisplayTimedTextToPlayer(LocalPlayer,0,0,4,Players_Color[GetPlayerId(MDI)]+(Players_Name[GetPlayerId((MDI))])+"|r |c00ffff00"+GetObjectName('n0LY')+"|r")
		endif
	endif
	set BA1=null
endfunction

function Func0562 takes player p,unit SWI,integer indexId returns boolean
	local integer i
	local integer x
	local integer y
	local integer array DCO
	local boolean array DDO
	local integer array DEO
	local boolean array DFO
	local boolean array found
	local integer array FB1
	local player MDI
	local integer DGO=1
	local integer k
	local player array DHO
	local integer m
	local item DZO
	local item DVO
	local item DWO
	local item DXO
	local item DYO
	local item DJO
	local player DKO
	local player DLO
	local player DMO
	local player DNO
	local player DSO
	local player DTO
	local integer DRO
	local integer DPO
	local integer DQO
	local integer DUO
	local integer E0O
	local integer EIO
	local integer E1O
	local integer EOO
	local integer E2O
	local integer E3O
	local integer E4O
	local integer E5O
	local boolean E6O=false
	local boolean E7O=true
	set DZO=UnitItemInSlot(SWI,0)
	set DVO=UnitItemInSlot(SWI,1)
	set DWO=UnitItemInSlot(SWI,2)
	set DXO=UnitItemInSlot(SWI,3)
	set DYO=UnitItemInSlot(SWI,4)
	set DJO=UnitItemInSlot(SWI,5)
	set DKO=GetItemPlayer(DZO)
	set DLO=GetItemPlayer(DVO)
	set DMO=GetItemPlayer(DWO)
	set DNO=GetItemPlayer(DXO)
	set DSO=GetItemPlayer(DYO)
	set DTO=GetItemPlayer(DJO)
	set DRO=GetItemUserData(DZO)
	set DPO=GetItemUserData(DVO)
	set DQO=GetItemUserData(DWO)
	set DUO=GetItemUserData(DXO)
	set E0O=GetItemUserData(DYO)
	set EIO=GetItemUserData(DJO)
	set E1O=GetIndex(DZO)
	set EOO=GetIndex(DVO)
	set E2O=GetIndex(DWO)
	set E3O=GetIndex(DXO)
	set E4O=GetIndex(DYO)
	set E5O=GetIndex(DJO)
	if(GetPlayerSlotState((p))==PLAYER_SLOT_STATE_LEFT)then
		set DGO=5
		set E6O=true
	endif
	set DHO[1]=p
	if E6O then
		set k=2
		set m=1
		loop
			exitwhen k>DGO
			if IsSentinel(p)then
				if p!=Sentinels[m]then
					set DHO[k]=Sentinels[m]
					set k=k+1
				endif
			else
				if p!=Scourges[m]then
					set DHO[k]=Scourges[m]
					set k=k+1
				endif
			endif
			set m=m+1
		endloop
	endif
	set k=1
	loop
		exitwhen k>DGO
		set MDI=DHO[k]
		set i=0
		if DZO!=null and DRO==1 and(DKO==MDI or boolean054 or(GetPlayerSlotState((DKO))==PLAYER_SLOT_STATE_LEFT))then
			set DCO[i+1]=E1O
		else
			set DCO[i+1]=0
		endif
		set i=1
		if DVO!=null and DPO==1 and(DLO==MDI or boolean054 or(GetPlayerSlotState((DLO))==PLAYER_SLOT_STATE_LEFT))then
			set DCO[i+1]=EOO
		else
			set DCO[i+1]=0
		endif
		set i=2
		if DWO!=null and DQO==1 and(DMO==MDI or boolean054 or(GetPlayerSlotState((DMO))==PLAYER_SLOT_STATE_LEFT))then
			set DCO[i+1]=E2O
		else
			set DCO[i+1]=0
		endif
		set i=3
		if DXO!=null and DUO==1 and(DNO==MDI or boolean054 or(GetPlayerSlotState((DNO))==PLAYER_SLOT_STATE_LEFT))then
			set DCO[i+1]=E3O
		else
			set DCO[i+1]=0
		endif
		set i=4
		if DYO!=null and E0O==1 and(DSO==MDI or boolean054 or(GetPlayerSlotState((DSO))==PLAYER_SLOT_STATE_LEFT))then
			set DCO[i+1]=E4O
		else
			set DCO[i+1]=0
		endif
		set i=5
		if DJO!=null and EIO==1 and(DTO==MDI or boolean054 or(GetPlayerSlotState((DTO))==PLAYER_SLOT_STATE_LEFT))then
			set DCO[i+1]=E5O
		else
			set DCO[i+1]=0
		endif
		set DCO[0]=indexId
		set i=1
		loop
			exitwhen i>(integer320)
			set DEO[0]=integers095[i]
			set DEO[1]=integers096[i]
			set DEO[2]=integers097[i]
			set DEO[3]=integers098[i]
			set DEO[4]=integers099[i]
			if E7O then
				set DFO[0]=true
				set DFO[1]=true
				set DFO[2]=true
				set DFO[3]=true
				set DFO[4]=true
				set DFO[5]=true
				set DFO[6]=true
				set DDO[0]=true
				set DDO[1]=true
				set DDO[2]=true
				set DDO[3]=true
				set DDO[4]=true
				set DDO[5]=true
				set DDO[6]=true
				set FB1[0]=0
				set FB1[1]=0
				set FB1[2]=0
				set FB1[3]=0
				set FB1[4]=0
				set FB1[5]=0
				set FB1[6]=0
				set E7O=false
			endif
			set found[0]=false
			set found[1]=false
			set found[2]=false
			set found[3]=false
			set found[4]=false
			set x=0
			loop
				exitwhen x==5
				if DEO[x]==0 then
					set found[x]=true
				else
					set y=0
					loop
						exitwhen y==7
						if DCO[y]==DEO[x]and DDO[y]and DFO[x]then
							set DDO[y]=false
							set DFO[x]=false
							set found[x]=true
							set FB1[y]=1
							set y=7
							set E7O=true
						else
							set y=y+1
						endif
					endloop
				endif
				if found[x] then
					set x=x+1
				else
					set x=5
				endif
			endloop
			if found[0]and found[1]and found[2]and found[3]and found[4]then
				call Func0561(MDI,SWI,integers101[i],FB1[1],FB1[2],FB1[3],FB1[4],FB1[5],FB1[6])
				set i=integer320+2
			else
				set i=i+1
			endif
		endloop
		set boolean045=FB1[0]==1
		if i==(integer320+2)then
			set DZO=null
			set DVO=null
			set DWO=null
			set DXO=null
			set DYO=null
			set DJO=null
			return true
		endif
		set k=k+1
	endloop
	set DZO=null
	set DVO=null
	set DWO=null
	set DXO=null
	set DYO=null
	set DJO=null
	return false
endfunction

function Func0563 takes player MDI,unit SWI,integer indexId returns boolean
	local integer i=1
	local boolean FB1
	set boolean045=false
	set FB1=Func0562(MDI,SWI,indexId)
	return FB1
endfunction

function Func0564 takes nothing returns boolean
	if IsUnitAlly(GetFilterUnit(),GetOwningPlayer(tt_unit1)) and GetUnitAbilityLevel(GetFilterUnit(),'Aloc')==0 and UnitInventorySize(GetFilterUnit())>1 and GetUnitTypeId(GetFilterUnit())!='ncop' and GetPlayerAlliance(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(tt_unit1),ALLIANCE_SHARED_CONTROL)and GetOwningPlayer(tt_unit1)!=GetOwningPlayer(GetFilterUnit())and IsUnitIllusion(GetFilterUnit())==false and IsDead(GetFilterUnit())==false then
		if Func0089(GetFilterUnit()) then
			set integer022=integer022+1
			set tt_unit2=GetFilterUnit()
		endif
	endif
	return false
endfunction

function Func0565 takes nothing returns boolean
	if IsUnitAlly(GetFilterUnit(),GetOwningPlayer(tt_unit1)) and GetUnitAbilityLevel(GetFilterUnit(),'Aloc')==0 and UnitInventorySize(GetFilterUnit())>1 and GetUnitTypeId(GetFilterUnit())!='ncop' and IsUnitIllusion(GetFilterUnit())==false and IsDead(GetFilterUnit())==false then
		if GetOwningPlayer(tt_unit1)==GetOwningPlayer(GetFilterUnit())then
			if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) then
				if GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 then
					set tt_unit2=GetFilterUnit()
				endif
			elseif IsUnitType(tt_unit2,UNIT_TYPE_HERO)==false then
				set tt_unit2=GetFilterUnit()
			endif
		endif
	endif
	return false
endfunction

function Func0566 takes unit SWI,integer ECO returns unit
	local group g=GetAvailableGroup()
	set tt_unit1=SWI
	set tt_unit2=null
	call GroupEnumUnitsInRange(g,GetUnitX(unit126),GetUnitY(unit126),1300+ECO,Condition(function Func0565))
	if tt_unit2==null then
		set integer022=0
		call KillGroup(g)
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(unit126),GetUnitY(unit126),1100+ECO,Condition(function Func0564))
		if integer022>1 then
			set tt_unit2=null
		endif
	endif
	call KillGroup(g)
	set g=null
	return tt_unit2
endfunction

function Func0567 takes player MDI,unit SWI,unit EEO,integer indexId,real x,real y,integer EY1,integer EFO returns nothing
	local unit EGO
	local item EJ1
	set unit126=EEO
	if GetUnitPointValue(SWI)==200 then
		set EGO=Func0566(SWI,0)
		if EGO==null then
			set EGO=Func0566(SWI,300)
		endif
	else
		set EGO=SWI
	endif
	if EGO==null or Func0563(MDI,EGO,Func0326(indexId))==false or boolean045==false then
		if Func0336(Func0326(indexId))then
			if Func0345(EGO)==0 or EGO==null then
				call Func0338(integers088[indexId],x,y,MDI,true,EY1)
			else
				set EJ1=UnitAddItemById(EGO,integers089[indexId])
				call SetItemCharges(EJ1,EY1)
				call SetItemPlayer(EJ1,MDI,true)
				call SetItemUserData(EJ1,EFO)
			endif
		elseif Func0335(Func0326(indexId))then
			if EGO==null or(Func0345(EGO)==0 and Func0341(EGO,integers089[indexId])==null)then
				call Func0338(integers088[indexId],x,y,MDI,true,Func0352(indexId))
			else
				set EJ1=CreateItem(integers088[indexId],x,y)
				call SetItemPlayer(EJ1,MDI,true)
				call SetItemUserData(EJ1,EFO)
				call SetItemCharges(EJ1,Func0352(indexId))
				call UnitAddItem(EGO,EJ1)
			endif
		else
			if Func0345(EGO)==0 or EGO==null then
				call Func0338(integers088[indexId],x,y,MDI,false,0)
			else
				set EJ1=UnitAddItemById(EGO,integers089[indexId])
				call SetItemPlayer(EJ1,MDI,true)
				call SetItemUserData(EJ1,0)
			endif
		endif
	else
		if IsUnitType(EGO,UNIT_TYPE_HERO) then
			if EFO==0 then
				call Traffic_RegisterData("PUI_"+I2S(GetPlayerId(GetOwningPlayer(EGO))),integers089[Func0326(indexId)])
			endif
		endif
	endif
	set EGO=null
	set EJ1=null
endfunction

function Func0568 takes player p,integer indexId returns nothing
	local integer i=GetPlayerId(p)
	if indexId==integer142 then
		set integers007[i]=integers007[i]+1
	elseif indexId==integer144 then
		set integers007[i]=integers007[i]+1
	elseif indexId==integer145 then
		set integers007[i]=integers007[i]+3
	elseif indexId==integer147 then
		set integers007[i]=integers007[i]+2
		set integers008[i]=integers008[i]+2
	elseif indexId==integer148 then
		set integers007[i]=integers007[i]+2
		set integers008[i]=integers008[i]+2
	elseif indexId==integer149 then
		set integers007[i]=integers007[i]+1
	elseif indexId==integer153 then
		set integers007[i]=integers007[i]+2
	elseif indexId==integer143 then
		set integers007[i]=integers007[i]+2
	elseif indexId==integer154 then
		set integers007[i]=integers007[i]+2
	endif
endfunction

function Func0569 takes unit EVO,unit EWO returns boolean
	local integer indexId
	if GetUnitTypeId(EWO)=='N0MM' then
		return true
	endif
	if(EVO==unit178 or EVO==unit175)and IsUnitAlly(EWO,Scourges[0])then
		return false
	elseif(EVO==unit134 or EVO==unit131)and IsUnitAlly(EWO,Sentinels[0])then
		return false
	endif
	set indexId=Func0349(EWO)
	if indexId==integer147 or indexId==integer083 or indexId==integer155 then
		return true
	endif
	return false
endfunction

function Func0570 takes unit EEO,unit EYO returns real
	if EEO==unit131 or EEO==unit132 or EEO==unit133 or EEO==unit134 or EEO==unit135 or EEO==unit136 or EEO==unit137 or EEO==unit138 or EEO==unit139 or EEO==unit140 then
		return ItemSpawnX[GetPlayerId(GetOwningPlayer(EYO))]
	elseif EEO==unit175 or EEO==unit176 or EEO==unit177 or EEO==unit178 or EEO==unit179 or EEO==unit180 or EEO==unit181 or EEO==unit182 or EEO==unit183 or EEO==unit184 then
		return ItemSpawnX[GetPlayerId(GetOwningPlayer(EYO))]
	elseif EEO==unit117 or EEO==unit021 then
		return-7133.0
	elseif EEO==unit118 or EEO==unit119 then
		return 7207.0
	endif
	return GetUnitX(EYO)
endfunction

function Func0571 takes unit EEO,unit EYO returns real
	if EEO==unit131 or EEO==unit132 or EEO==unit133 or EEO==unit134 or EEO==unit135 or EEO==unit136 or EEO==unit137 or EEO==unit138 or EEO==unit139 or EEO==unit140 then
		return ItemSpawnY[GetPlayerId(GetOwningPlayer(EYO))]
	elseif EEO==unit175 or EEO==unit176 or EEO==unit177 or EEO==unit178 or EEO==unit179 or EEO==unit180 or EEO==unit181 or EEO==unit182 or EEO==unit183 or EEO==unit184 then
		return ItemSpawnY[GetPlayerId(GetOwningPlayer(EYO))]
	elseif EEO==unit117 or EEO==unit021 then
		return 4317.0
	elseif EEO==unit118 or EEO==unit119 then
		return-4243.0
	endif
	return GetUnitY(EYO)
endfunction

function Func0572 takes unit EEO,unit EYO returns real
	if EEO==unit131 or EEO==unit132 or EEO==unit133 or EEO==unit134 or EEO==unit135 or EEO==unit136 or EEO==unit137 or EEO==unit138 or EEO==unit139 or EEO==unit140 then
		return GetRectCenterX(Hero_Creation_NE)
	elseif EEO==unit175 or EEO==unit176 or EEO==unit177 or EEO==unit178 or EEO==unit179 or EEO==unit180 or EEO==unit181 or EEO==unit182 or EEO==unit183 or EEO==unit184 then
		return GetRectCenterX(Hero_Creation_UD)
	endif
	return GetUnitX(EYO)
endfunction

function Func0573 takes unit EEO,unit EYO returns real
	if EEO==unit131 or EEO==unit132 or EEO==unit133 or EEO==unit134 or EEO==unit135 or EEO==unit136 or EEO==unit137 or EEO==unit138 or EEO==unit139 or EEO==unit140 then
		return GetRectCenterY(Hero_Creation_NE)
	elseif EEO==unit175 or EEO==unit176 or EEO==unit177 or EEO==unit178 or EEO==unit179 or EEO==unit180 or EEO==unit181 or EEO==unit182 or EEO==unit183 or EEO==unit184 then
		return GetRectCenterY(Hero_Creation_UD)
	endif
	return GetUnitY(EYO)
endfunction

function UnitItem_Delayed_Expire takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	local unit u=(LoadUnitHandle(HY,(h),(53)))
	local unit s=(LoadUnitHandle(HY,(h),(94)))
	local integer indexId=(LoadInteger(HY,(h),(93)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local integer EY1=(LoadInteger(HY,(h),(76)))
	call Func0567(p,u,s,Func0326(indexId),x,y,EY1,0)
	call ShowUnit(u,false)
	call UnitApplyTimedLife(u,'BTLF',2)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set p=null
	set u=null
	return false
endfunction

function Func0574 takes nothing returns nothing
	local unit u=GetSoldUnit()
	local player p=GetOwningPlayer(u)
	local integer indexId=Func0349(u)
	local real x
	local real y
	if Func0569(GetSellingUnit(),u)then
		call Error(p,GetObjectName('n02G'))
		if IsUnitAlly(u,Sentinels[0])then
			set p=Scourges[0]
		else
			set p=Sentinels[0]
		endif
		set x=Func0572(GetSellingUnit(),u)
		set y=Func0573(GetSellingUnit(),u)
		call Func0338(integers088[Func0349(u)],x,y,p,true,Func0352(Func0349(u)))
	else
		call Func0568(p,Func0326(indexId))
		if integers089[indexId]==0 then
			call Error(p,GetObjectName('n02H'))
		else
			set x=Func0570(GetSellingUnit(),u)
			set y=Func0571(GetSellingUnit(),u)
			if indexId==integer153 then
				call Func0567(p,u,GetSellingUnit(),Func0326(indexId),x,y,2,0)
			else
				call Func0567(p,u,GetSellingUnit(),Func0326(indexId),x,y,0,0)
			endif
		endif
	endif
	call UnitAddAbility(u,'Aloc')
	call ShowUnit(u,false)
	call UnitApplyTimedLife(u,'BTLF',2)
	set u=null
	set p=null
endfunction

function Func0575 takes nothing returns boolean
	if boolean064==false then
		if GetUnitPointValue(GetSoldUnit())>=200 then
			call Func0574()
			if IsPlayerAlly(LocalPlayer,GetOwningPlayer(GetSoldUnit()))or(isObserversMode and(LocalPlayer==Observer1 or LocalPlayer==Observer2))then
				if GetUnitTypeId(GetSoldUnit())=='h02F' then
					call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
					call DisplayTimedTextToPlayer(LocalPlayer,0,0,20,Players_Color[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(Players_Name[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName('n0HU')+"|r")
				elseif GetUnitTypeId(GetSoldUnit())=='h03Q' then
					call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
					call DisplayTimedTextToPlayer(LocalPlayer,0,0,20,Players_Color[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(Players_Name[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName('n0KG')+"|r")
				elseif GetUnitTypeId(GetSoldUnit())=='h076' then
					call DisplayTimedTextToPlayer(LocalPlayer,0,0,4,Players_Color[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(Players_Name[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName('n0KO')+"|r")
				elseif GetUnitTypeId(GetSoldUnit())=='h02C' then
					call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
					call DisplayTimedTextToPlayer(LocalPlayer,0,0,4,Players_Color[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(Players_Name[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName('n0KP')+"|r")
				elseif GetUnitTypeId(GetSoldUnit())=='h02D' then
					call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
					call DisplayTimedTextToPlayer(LocalPlayer,0,0,4,Players_Color[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(Players_Name[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName('n0KQ')+"|r")
				elseif GetUnitTypeId(GetSoldUnit())=='h0BA' then
					call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
					call DisplayTimedTextToPlayer(LocalPlayer,0,0,4,Players_Color[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(Players_Name[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName('n0KT')+"|r")
				elseif GetUnitTypeId(GetSoldUnit())=='h01G' then
					call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
					call DisplayTimedTextToPlayer(LocalPlayer,0,0,4,Players_Color[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(Players_Name[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName('n0LB')+"|r")
				elseif GetUnitTypeId(GetSoldUnit())=='h0D3' then
					call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
					call DisplayTimedTextToPlayer(LocalPlayer,0,0,4,Players_Color[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(Players_Name[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName('n0LP')+"|r")
				endif
			endif
		else
			call Func0560()
		endif
	else
	endif
	return false
endfunction

function Func0576 takes unit u returns boolean
	local integer id=GetUnitTypeId(u)
	return id=='Eevi' or id=='Eevm' or id=='E02V' or id=='E02W' or id=='E02U'
endfunction

function Func0577 takes unit Hero,item BA1 returns nothing
	local unit u=Hero
	local integer EE1=GetUnitTypeId(u)
	local integer indexId=Func0330(BA1)
	if IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER) or IsUnitType(u,UNIT_TYPE_HERO)==false then
		if indexId==integer223 then
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer222])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer127 then
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer126])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer109 then
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer108])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer249 then
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer248])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer229 then
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer228])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer068 then
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer067])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer200 then
			if Func0576(u)==false then
				set player005=GetItemPlayer(BA1)
				call Func0339(BA1)
				set tt_item1=UnitAddItemById(u,integers089[integer199])
				call SetItemPlayer(tt_item1,player005,false)
				call SetItemUserData(tt_item1,1)
			endif
		elseif indexId==integer199 then
			if Func0576(u) then
				set player005=GetItemPlayer(BA1)
				call Func0339(BA1)
				set tt_item1=UnitAddItemById(u,integers089[integer200])
				call SetItemPlayer(tt_item1,player005,false)
				call SetItemUserData(tt_item1,1)
			endif
		elseif indexId==integer131 then
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer130])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		endif
	else
		if indexId==integer222 then
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer223])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer126 then
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer127])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer108 then
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer109])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer248 then
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer249])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer228 then
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer229])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer067 then
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer068])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer199 then
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer200])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer130 then
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer131])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		endif
	endif
	set u=null
endfunction

function Func0578 takes unit Hero,item BA1 returns nothing
	local unit u=Hero
	local integer EE1=GetUnitTypeId(u)
	local integer indexId=Func0330(BA1)
	if IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER)==false or IsUnitType(u,UNIT_TYPE_HERO)==false then
		if indexId==integer223 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer222])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer127 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer126])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer109 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer108])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer249 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer248])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer229 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer228])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer068 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer067])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer200 then
			if Func0576(u)==false then
				set player005=GetItemPlayer(BA1)
				call RemoveItem(BA1)
				set tt_item1=UnitAddItemById(u,integers089[integer199])
				call SetItemPlayer(tt_item1,player005,false)
				call SetItemUserData(tt_item1,1)
			endif
		elseif indexId==integer131 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer130])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		endif
	else
		if indexId==integer222 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer223])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer126 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer127])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer108 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer109])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer248 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer249])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer228 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer229])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer067 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer068])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer199 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer200])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer130 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set tt_item1=UnitAddItemById(u,integers089[integer131])
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		endif
	endif
	set u=null
endfunction

function Func0579 takes unit Hero returns nothing
	local integer i=0
	local item BA1
	call DisableTrigger(trigger057)
	loop
		exitwhen i>5
		set BA1=UnitItemInSlot(Hero,i)
		if BA1!=null then
			call Func0578(Hero,BA1)
		endif
		set i=i+1
	endloop
	call EnableTrigger(trigger057)
	set BA1=null
endfunction

function Func0580 takes unit Hero,item BA1 returns boolean
	local unit u=Hero
	local integer EE1=GetUnitTypeId(u)
	local integer indexId=GetIndex(BA1)
	local real x
	local real y
	local boolean F0O=true
	local integer FIO=(LoadInteger(HY,(GetHandleId(GetOwningPlayer(u))),(4345)))
	local integer F1O=0
	local integer FF1
	if FIO==0 then
		set FIO=10
	endif
	set x=GetUnitX(u)
	set y=GetUnitY(u)
	if(indexId==integer191 and FIO<10)or(indexId==integer192 and FIO<9)or(indexId==integer193 and FIO<8)or(indexId==integer194 and FIO<7)or(indexId==integer195 and FIO<6)or(indexId==integer196 and FIO<5)or(indexId==integer197 and FIO<4)then
		if FIO==10 then
			set F1O=integer191
		elseif FIO==9 then
			set F1O=integer192
		elseif FIO==8 then
			set F1O=integer193
		elseif FIO==7 then
			set F1O=integer194
		elseif FIO==6 then
			set F1O=integer195
		elseif FIO==5 then
			set F1O=integer196
		elseif FIO==4 then
			set F1O=integer197
		endif
		if F1O>0 then
			set FF1=Func0215(u,BA1)
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set tt_item1=Func0357(u,integers089[F1O],FF1)
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		endif
	endif
	if indexId==integer114 then
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",u,"overhead"))
		call Func0111(GetOwningPlayer(u),"Abilities\\Spells\\Human\\Heal\\HealTarget.wav")
		set player005=GetItemPlayer(BA1)
		call Func0339(BA1)
		set tt_item1=UnitAddItemById(u,integers089[integer118])
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	endif
	if indexId==integer177 and GetItemCharges(BA1)==0 then
		set player005=GetItemPlayer(BA1)
		call Func0339(BA1)
		set tt_item1=UnitAddItemById(u,integers089[integer179])
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	endif
	if indexId==integer132 and GetItemCharges(BA1)==0 then
		set player005=GetItemPlayer(BA1)
		call Func0339(BA1)
		set tt_item1=UnitAddItemById(u,integers089[integer133])
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	endif
	call DisableTrigger(trigger057)
	if(indexId==integer163 or indexId==integer162 or indexId==integer164)and(Func0340(u,integers089[integer163],BA1)!=null or Func0340(u,integers089[integer162],BA1)!=null or Func0340(u,integers089[integer164],BA1)!=null)then
		call Error(GetOwningPlayer(u),GetObjectName('n02L'))
		set player005=GetItemPlayer(BA1)
		call RemoveItem(BA1)
		set tt_item1=CreateItem(integers088[indexId],x,y)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	endif
	if(indexId==integer126)and(Func0340(u,integers089[integer126],BA1)!=null or Func0340(u,integers089[integer127],BA1)!=null)then
		call Error(GetOwningPlayer(u),GetObjectName('n0HL'))
		set player005=GetItemPlayer(BA1)
		call RemoveItem(BA1)
		set tt_item1=CreateItem(integers088[indexId],x,y)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
		set F0O=false
	endif
	if F0O and(indexId==integer127)and(Func0340(u,integers089[integer126],BA1)!=null or Func0340(u,integers089[integer127],BA1)!=null)then
		call Error(GetOwningPlayer(u),GetObjectName('n0HL'))
		set player005=GetItemPlayer(BA1)
		call RemoveItem(BA1)
		set tt_item1=CreateItem(integers088[indexId],x,y)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
		set F0O=false
	endif
	if(indexId==integer238 or indexId==integer237 or indexId==integer240 or indexId==integer239)and(Func0340(u,integers089[integer238],BA1)!=null or Func0340(u,integers089[integer237],BA1)!=null or Func0340(u,integers089[integer240],BA1)!=null or Func0340(u,integers089[integer239],BA1)!=null)then
		call Error(GetOwningPlayer(u),GetObjectName('n02C'))
		set player005=GetItemPlayer(BA1)
		call RemoveItem(BA1)
		set tt_item1=CreateItem(integers088[indexId],x,y)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	endif
	if(indexId==integer212 and IsPlayerEnemy(GetItemPlayer(BA1),GetOwningPlayer(u)))then
		set player005=GetItemPlayer(BA1)
		call Func0339(BA1)
		set tt_item1=UnitAddItemById(u,integers089[integer213])
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	endif
	if(indexId==integer198)and(Func0088(u)or Func0242(u))then
		if Func0088(u)then
			call Error(GetOwningPlayer(u),GetObjectName('n02K'))
		endif
		set player005=GetItemPlayer(BA1)
		set integer022=GetItemCharges(BA1)
		call RemoveItem(BA1)
		if indexId==integer198 then
			set tt_item1=CreateItem(integers088[indexId],GetRectCenterX(rect033),GetRectCenterY(rect033))
		endif
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
		if indexId==integer198 then
			call SetItemCharges(tt_item1,integer022)
		endif
	endif
	if Func0242(u)and indexId==integer135 then
		set player005=GetItemPlayer(BA1)
		call RemoveItem(BA1)
		set tt_item1=UnitAddItemById(u,integers089[integer136])
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	endif
	if F0O and(indexId==integer126 or indexId==integer127)and(EE1=='H06S')then
		call Error(GetOwningPlayer(u),GetObjectName('n02J'))
		set player005=GetItemPlayer(BA1)
		call RemoveItem(BA1)
		set tt_item1=CreateItem(integers088[indexId],x,y)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
		set F0O=false
	endif
	if(indexId==integer191 or indexId==integer192 or indexId==integer193 or indexId==integer194 or indexId==integer195 or indexId==integer196)and EE1=='U00C' then
		call DisplayTimedTextToPlayer(GetOwningPlayer(u),0,0,10,"|c00ff0303"+GetObjectName('n02P')+"|r")
	endif
	call EnableTrigger(trigger057)
	if F0O then
		call Func0577(Hero,BA1)
	endif
	set u=null
	set BA1=null
	return false
endfunction

function Func0581 takes integer indexId returns boolean
	return indexId==integer182 or indexId==integer239 or indexId==integer240 or indexId==integer242 or indexId==integer181 or indexId==integer237 or indexId==integer238 or indexId==integer241 or indexId==integer083 or indexId==integer084 or indexId==integer165 or indexId==integer166
endfunction

function Func0582 takes integer indexId returns boolean
	return indexId==integer083 or indexId==integer084
endfunction

function Func0583 takes unit Hero,item BA1 returns boolean
	local integer FE1=0
	local item AO1=BA1
	local integer indexId=Func0346(AO1)
	local integer F4O=0
	local boolean FB1=false
	local integer F5O=Func0347(AO1)
	local boolean F6O=false
	if IsUnitType(Hero,UNIT_TYPE_HERO) then
		if indexId==integer182 then
			set F4O=integer181
		endif
		if indexId==integer166 then
			set F4O=integer165
		endif
		if indexId==integer239 then
			set F4O=integer237
		endif
		if indexId==integer240 then
			set F4O=integer238
		endif
		if indexId==integer242 then
			set F4O=integer241
		endif
		if indexId==integer084 then
			set F4O=integer083
		endif
		if F5O==integer084 then
			set F4O=integer083
			set F6O=true
		endif
		if F4O!=0 then
			set player005=GetItemPlayer(AO1)
			call Func0339(AO1)
			if F6O then
				set tt_item1=UnitAddItemById(Hero,integers091[F4O])
			else
				set tt_item1=UnitAddItemById(Hero,integers089[F4O])
			endif
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
			set FB1=true
		endif
	else
		if indexId==integer181 then
			set F4O=integer182
		endif
		if indexId==integer165 then
			set F4O=integer166
		endif
		if indexId==integer237 then
			set F4O=integer239
		endif
		if indexId==integer238 then
			set F4O=integer240
		endif
		if indexId==integer241 then
			set F4O=integer242
		endif
		if indexId==integer083 then
			set F4O=integer084
		endif
		if F5O==integer083 then
			set F4O=integer084
			set F6O=true
		endif
		if F4O!=0 then
			set player005=GetItemPlayer(AO1)
			call Func0339(AO1)
			if F6O then
				set tt_item1=UnitAddItemById(Hero,integers091[F4O])
			else
				set tt_item1=UnitAddItemById(Hero,integers089[F4O])
			endif
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
			set FB1=true
		endif
	endif
	set AO1=null
	return FB1
endfunction

function Func0584 takes unit Hero,item BA1 returns boolean
	if Func0581(Func0346(BA1))or Func0582(Func0347(BA1))then
		return Func0583(Hero,BA1)
	endif
	return false
endfunction

function ModeTT_ItemHack_End takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer id=(LoadInteger(HY,(h),(34)))
	set booleans039[id]=false
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	return false
endfunction

function Func0585 takes unit u returns nothing
	local integer id=GetPlayerId(GetOwningPlayer(u))
	set booleans039[id]=true
endfunction

function Func0586 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit B71=(LoadUnitHandle(HY,(h),(26)))
	local integer FAO=(LoadInteger(HY,(h),(97)))
	local integer indexId=(LoadInteger(HY,(h),(93)))
	local boolean FBO=(LoadBoolean(HY,(h),(95)))
	local item BA1
	local player p=GetOwningPlayer(B71)
	local player FCO
	local integer EY1
	local boolean EX1=false
	local item EJ1
	local integer FDO
	local integer FEO
	local integer newCharges
	local item FFO
	local integer targetCount
	local item FGO
	local boolean FHO=false
	call DisableTrigger(trigger058)
	if FBO then
		set FGO=null
		set FCO=(LoadPlayerHandle(HY,(h),(54)))
		set EY1=(LoadInteger(HY,(h),(76)))
	else
		set BA1=(LoadItemHandle(HY,(h),(96)))
		set FGO=BA1
		set FCO=GetItemPlayer(BA1)
		set EY1=GetItemCharges(BA1)
	endif
	if FBO==false and BA1==null then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call EnableTrigger(trigger058)
		set t=null
		set B71=null
		set p=null
		return false
	endif
	if FAO==1 then
		if p!=FCO and GetUnitTypeId(B71)=='ncop' then
			if Func0335(Func0326(indexId))or Func0336(Func0326(indexId))then
				set EX1=true
			endif
			if IsPlayerEnemy(p,FCO)then
				call Func0338(integers088[indexId],ItemSpawnX[GetPlayerId(p)],ItemSpawnY[GetPlayerId(p)],FCO,EX1,EY1)
			else
				call Func0338(integers088[indexId],ItemSpawnX[GetPlayerId(FCO)],ItemSpawnY[GetPlayerId(FCO)],FCO,EX1,EY1)
			endif
			call Error(p,GetObjectName('n0DR'))
			if FBO==false then
				set FHO=true
				call Func0339(BA1)
			endif
		elseif boolean054==false and FBO==false and GetItemType(BA1)==ITEM_TYPE_CAMPAIGN and Func0348(BA1)!=0 and(p==FCO or(GetPlayerSlotState((FCO))==PLAYER_SLOT_STATE_LEFT))then
			if Func0336(indexId)or Func0335(indexId)then
				set EX1=true
			else
				set EX1=false
			endif
			if(GetPlayerSlotState((FCO))==PLAYER_SLOT_STATE_LEFT)and Func0327(indexId)then
			else
				call Func0339(BA1)
				set FHO=true
				set EJ1=UnitAddItemById(B71,integers089[indexId])
				set FGO=EJ1
				call SetItemPlayer(EJ1,FCO,false)
				call SetItemUserData(EJ1,0)
				if EX1 then
					call SetItemCharges(EJ1,EY1)
				endif
			endif
		elseif boolean054==false and FBO==false and GetItemType(BA1)==ITEM_TYPE_PERMANENT and p!=FCO and integers091[GetIndex(BA1)]!=0 and(GetPlayerSlotState((FCO))==PLAYER_SLOT_STATE_LEFT)==false then
			if Func0336(indexId)or Func0335(indexId)then
				set EX1=true
			else
				set EX1=false
			endif
			call Func0339(BA1)
			set FHO=true
			set EJ1=UnitAddItemById(B71,integers091[indexId])
			set FGO=EJ1
			call SetItemPlayer(EJ1,FCO,false)
			call SetItemUserData(EJ1,0)
			if EX1 then
				call SetItemCharges(EJ1,EY1)
			endif
		elseif FBO==false and GetItemType(BA1)==ITEM_TYPE_PERMANENT and Func0334(BA1)and IsUnitType(B71,UNIT_TYPE_HERO) then
			set FDO=Func0331(B71)
			set FEO=Func0332(B71)
			if FEO!=0 then
				call UnitAddAbility(B71,FEO)
				call UnitMakeAbilityPermanent(B71,true,FEO)
				call SetPlayerAbilityAvailable(p,FEO,false)
				if GetUnitTypeId(B71)=='H00U' then
					set tt_unit1=B71
					call ExecuteFunc("Func2970")
				elseif GetUnitTypeId(B71)=='Hmkg' then
					set tt_unit1=B71
					call ExecuteFunc("Func2144")
				endif
			endif
			if indexId!=FDO then
				call Func0339(BA1)
				set EJ1=UnitAddItemById(B71,integers089[FDO])
				set FGO=EJ1
				call SetItemPlayer(EJ1,FCO,false)
				call SetItemUserData(EJ1,1)
			endif
		elseif FBO==false and GetItemType(BA1)==ITEM_TYPE_ARTIFACT then
			call DisableTrigger(trigger057)
			set FFO=Func0342(FCO,B71,indexId,BA1)
			if FFO==null then
			else
				call SetItemCharges(FFO,EY1+GetItemCharges(FFO))
				call Func0339(BA1)
				set FGO=null
			endif
			call EnableTrigger(trigger057)
		elseif FBO and Func0335(Func0326(indexId))then
			call DisableTrigger(trigger057)
			if Func0345(B71)==0 and Func0343(FCO,B71,indexId)==null then
				call Error(p,GetObjectName('n02O'))
				call Func0338(integers088[(indexId)],(((LoadReal(HY,(h),(6))))*1.0),(((LoadReal(HY,(h),(7))))*1.0),(FCO),(true),(EY1))
			else
				set FFO=Func0343(FCO,B71,indexId)
				if FFO==null then
					call DisableTrigger(trigger057)
					set EJ1=UnitAddItemById(B71,integers089[indexId])
					set FGO=EJ1
					call SetItemPlayer(EJ1,FCO,false)
					call SetItemUserData(EJ1,1)
					call SetItemCharges(EJ1,EY1)
				else
					call SetItemCharges(FFO,EY1+GetItemCharges(FFO))
				endif
			endif
			call EnableTrigger(trigger057)
		elseif FBO then
			call Func0567(FCO,B71,null,indexId,(LoadReal(HY,(h),(6))),(LoadReal(HY,(h),(7))),EY1,1)
		elseif FBO==false and(GetItemType(BA1)==ITEM_TYPE_PERMANENT or GetItemType(BA1)==ITEM_TYPE_CAMPAIGN)then
			call SetItemUserData(BA1,1)
			set FHO=Func0563(FCO,B71,0)
		endif
		if FHO==false and FGO!=null and Func0353(FGO)==false then
			set FHO=Func0584(B71,FGO)
		endif
		if FHO==false and FGO!=null and Func0353(FGO)==false then
			call Func0580(B71,FGO)
		endif
	else
		if GetWidgetLife(BA1)>0 then
			set FDO=Func0331(B71)
			set FEO=Func0332(B71)
			if Func0341(B71,integers089[FDO])==null and GetUnitAbilityLevel(B71,FEO)>0 then
				call UnitRemoveAbility(B71,FEO)
				if GetUnitTypeId(B71)=='Hmkg' then
					set tt_unit1=B71
					call ExecuteFunc("Func2145")
				endif
			endif
			if IsItemOwned(BA1)==false then
				if GetItemType(BA1)==ITEM_TYPE_ARTIFACT or Func0336(indexId)or Func0335(indexId)then
					set EX1=true
				endif
				call Func0338(integers088[indexId],GetItemX(BA1),GetItemY(BA1),FCO,EX1,EY1)
				call Func0339(BA1)
			endif
		endif
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call EnableTrigger(trigger058)
	set t=null
	set BA1=null
	set B71=null
	set p=null
	set FCO=null
	set EJ1=null
	set FFO=null
	set FGO=null
	return false
endfunction

function Func0587 takes nothing returns boolean
	call EnableTrigger(trigger057)
	call CleanTrigger(GetTriggeringTrigger())
	return false
endfunction

function DelayTrigger takes nothing returns nothing
	local trigger t=CreateTrigger()
	call DisableTrigger(trigger057)
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func0587))
	set t=null
endfunction

function Func0588 takes nothing returns boolean
	local item BA1
	local integer FAO
	local unit B71=GetTriggerUnit()
	local trigger t
	local integer h
	local integer FDO
	local integer FEO
	local integer id
	set id=GetPlayerId(GetOwningPlayer(B71))
	if(IsUnitType(B71,UNIT_TYPE_HERO) or Func0242(B71))and IsUnitIllusion(B71)==false and GetUnitTypeId(B71)!='N0MM' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
			if GetItemTypeId(GetManipulatedItem())==integers089[integer113]then
				set integer391=integer391+1
				set integers102[id]=integers102[id]+1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer088]then
				set integer392=integer392+1
				set integers103[id]=integers103[id]+1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer235]then
				set integer393=integer393+1
				set integers104[id]=integers104[id]+1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer173]or GetItemTypeId(GetManipulatedItem())==integers089[integer258]then
				set integer394=integer394+1
				set integers105[id]=integers105[id]+1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer219]then
				set integer395=integer395+1
				set integers111[id]=integers111[id]+1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer210]then
				set integer390=integer390+1
				set integers106[id]=integers106[id]+1
				call Func0354(B71,'I0HM')
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer187]then
				set integer396=integer396+1
				set integers107[id]=integers107[id]+1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer172]then
				set integer397=integer397+1
				set integers108[id]=integers108[id]+1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer257]then
				set integer398=integer398+1
				set integers109[id]=integers109[id]+1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer135]then
				set integer399=integer399+1
				set integers112[id]=integers112[id]+1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer177]then
				set integer400=integer400+1
				set integers110[id]=integers110[id]+1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer178]then
				set integer400=integer400+1
				set integers110[id]=integers110[id]+1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer179]then
				set integer400=integer400+1
				set integers110[id]=integers110[id]+1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer180]then
				set integer400=integer400+1
				set integers110[id]=integers110[id]+1
			endif
		elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM then
			if GetItemTypeId(GetManipulatedItem())==integers089[integer113]then
				set integers102[id]=integers102[id]-1
				set integer391=integer391-1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer088]and GetUnitTypeId(B71)!='N0MM' then
				set integers103[id]=integers103[id]-1
				set integer392=integer392-1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer135]then
				set integers112[id]=integers112[id]-1
				set integer399=integer399-1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer235]then
				set integers104[id]=integers104[id]-1
				set integer393=integer393-1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer173]or GetItemTypeId(GetManipulatedItem())==integers089[integer258]then
				set integer394=integer394-1
				set integers105[id]=integers105[id]-1
				if integers105[id]<1 or Func0340(B71,integers089[integer173],GetManipulatedItem())==null or Func0340(B71,integers089[integer258],GetManipulatedItem())==null then
					call UnitRemoveAbility(B71,'A174')
				endif
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer219]and GetUnitTypeId(B71)!='N0MM' then
				set integers111[id]=integers111[id]-1
				set integer395=integer395-1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer210]or GetItemTypeId(GetManipulatedItem())==integers091[integer210]then
				set integer390=IMaxBJ(integer390-1,0)
				set integers106[id]=IMaxBJ(integers106[id]-1,0)
				call UnitRemoveAbility(B71,'B0BI')
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer177]then
				set integer400=integer400-1
				set integers110[id]=integers110[id]-1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer178]then
				set integer400=integer400-1
				set integers110[id]=integers110[id]-1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer179]then
				set integer400=integer400-1
				set integers110[id]=integers110[id]-1
			elseif GetItemTypeId(GetManipulatedItem())==integers089[integer180]then
				set integer400=integer400-1
				set integers110[id]=integers110[id]-1
			endif
		endif
	endif
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_PAWN_ITEM then
		set BA1=GetSoldItem()
		call SetItemUserData(BA1,-2)
		set FDO=Func0331(B71)
		set FEO=Func0332(B71)
		if Func0340(B71,integers089[FDO],BA1)==null and GetUnitAbilityLevel(B71,FEO)>0 then
			call UnitRemoveAbility(B71,FEO)
			if GetUnitTypeId(B71)=='Hmkg' then
				set tt_unit1=B71
				call ExecuteFunc("Func2145")
			endif
		endif
		if boolean134 then
			call Func0585(B71)
		endif
	elseif GetItemTypeId(GetManipulatedItem())!='I00E' and GetItemTypeId(GetManipulatedItem())!='I02M' then
		set BA1=GetManipulatedItem()
		if IsUnitIllusion(B71)or GetItemUserData(BA1)==-2 then
			set BA1=null
			set B71=null
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
			set FAO=1
		else
			set FAO=2
		endif
		if(FAO==1 or(FAO==2 and Func0353(BA1)==false and GetWidgetLife(BA1)>0))and GetUnitTypeId(B71)!='H00J' then
			set t=CreateTrigger()
			set h=GetHandleId(t)
			call TriggerRegisterTimerEvent(t,0,false)
			call TriggerAddCondition(t,Condition(function Func0586))
			call SaveUnitHandle(HY,(h),(26),(B71))
			call SaveInteger(HY,(h),(97),(FAO))
			call SaveInteger(HY,(h),(93),(GetIndex(BA1)))
			if Func0353(BA1)then
				call SaveBoolean(HY,(h),(95),(true))
				call SavePlayerHandle(HY,(h),(54),(GetItemPlayer(BA1)))
				call SaveInteger(HY,(h),(76),(GetItemCharges(BA1)))
				call SaveReal(HY,(h),(6),((GetItemX(BA1))*1.0))
				call SaveReal(HY,(h),(7),((GetItemY(BA1))*1.0))
			else
				call SaveBoolean(HY,(h),(95),(false))
				call SaveItemHandle(HY,(h),(96),(BA1))
				call SaveInteger(HY,(h),(76),(GetItemCharges(BA1)))
				call SetItemUserData(BA1,0)
			endif
		else
		endif
	endif
	set BA1=null
	set B71=null
	set t=null
	return false
endfunction

function Func0589 takes nothing returns boolean
	if GetSpellAbilityId()=='A1RI' or GetSpellAbilityId()=='A0BE' then
		if IsDead(GetTriggerUnit())==false then
			call Func0579(GetTriggerUnit())
		endif
	endif
	return false
endfunction

function RestrictedItems_UpdateMeleeRange_All2 takes nothing returns nothing
	call Func0579(tt_unit1)
endfunction

function Func0590 takes unit Hero,integer FNO,boolean FSO returns nothing
	local string FTO
	local string s
	local player p=GetOwningPlayer(Hero)
	local real d=2
	local string FRO="Use"
	if FSO then
		set FRO="Store"
	endif
	if FNO=='I006' then
		set FTO="|c00ff0000"+GetObjectName('n0JQ')+"|r"
		call Traffic_RegisterData("Rune"+FRO+"1",GetPlayerId(p))
	elseif FNO=='I008' then
		set FTO="|c0000ff00"+GetObjectName('n0JN')+"|r"
		call Traffic_RegisterData("Rune"+FRO+"2",GetPlayerId(p))
	elseif FNO=='I00K' then
		set FTO="|c000000ff"+GetObjectName('n0K3')+"|r"
		call Traffic_RegisterData("Rune"+FRO+"3",GetPlayerId(p))
	elseif FNO=='I007' then
		set FTO="|c00afaf00"+GetObjectName('n0K2')+"|r"
		call Traffic_RegisterData("Rune"+FRO+"4",GetPlayerId(p))
	elseif FNO=='I00J' then
		set FTO="|c00652DC1"+GetObjectName('n0K4')+"|r"
		call Traffic_RegisterData("Rune"+FRO+"5",GetPlayerId(p))
	elseif FNO=='I0RC' then
		set FTO="|c00FFD700"+GetObjectName('n0NR')+"|r"
		call Traffic_RegisterData("Rune"+FRO+"6",GetPlayerId(p))
	endif
	if FSO then
		set s=Players_Color[GetPlayerId(p)]+GetUnitName(Hero)+"|r "+GetObjectName('n0GU')+"|r "+FTO+" "+GetObjectName('n0GW')
		set d=1
	else
		if boolean068 then
			set s=Players_Color[GetPlayerId(p)]+GetUnitName(Hero)+"|r "+GetObjectName('n0GV')+"|r "+FTO+" "+GetObjectName('n0GW')
		else
			set s=Players_Color[GetPlayerId(p)]+GetUnitName(Hero)+"|r "+GetObjectName('n0GT')+"|r "+FTO+" "+GetObjectName('n0GW')
		endif
	endif
	if(IsPlayerAlly(LocalPlayer,p)and LocalPlayer!=p)or Func0100(LocalPlayer)then
		call DisplayTimedTextToPlayer(LocalPlayer,0,0,d,s)
	endif
endfunction

function Func0591 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	if GetUnitAbilityLevel(Hero,'B01S')==0 then
		call UnitRemoveAbility(Hero,'B01S')
		call UnitRemoveAbility(Hero,'B04A')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetUnitState(Hero,UNIT_STATE_LIFE)==GetUnitState(Hero,UNIT_STATE_MAX_LIFE)and GetUnitState(Hero,UNIT_STATE_MANA)==GetUnitState(Hero,UNIT_STATE_MAX_MANA)then
		call UnitRemoveAbility(Hero,'B01S')
		call UnitRemoveAbility(Hero,'B04A')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func0592 takes unit Hero,item BA1 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func0591))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	set t=null
endfunction

function Func0593 takes unit Hero,item BA1 returns nothing
	local integer G0O=R2I(GetTime()/60)
	local integer XP=50+5*G0O
	local integer ROI=50+2*G0O
	local boolean GIO=LoadBoolean(HY,GetHandleId(BA1),835)
	if GIO then
		set XP=100
		set ROI=100
	endif
	call AddHeroXP(Hero,XP,true)
	call DistribGoldToPlayerForUnit(GetOwningPlayer(Hero),ROI,Hero)
	call PlaySoundOnUnitBJ(sound078,100,Hero)
endfunction

function Func0594 takes unit Hero,item BA1 returns nothing
	local unit u=Hero
	local real x=GetUnitX(u)
	local real y=GetUnitY(u)
	local unit caster=CreateUnit(GetOwningPlayer(u),'e00E',x,y,0)
	if IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER) then
		call UnitAddAbility(caster,'A2XN')
	else
		call UnitAddAbility(caster,'A0GR')
	endif
	call IssueTargetOrderById(caster,ORDER_wandillusion,u)
	call IssueTargetOrderById(caster,ORDER_wandillusion,u)
	set u=null
	set caster=null
endfunction

function Func0595 takes unit Hero,item BA1 returns nothing
	if GetItemTypeId(BA1)=='I007' or GetItemTypeId(BA1)=='I006' or GetItemTypeId(BA1)=='I008' or GetItemTypeId(BA1)=='I00K' or GetItemTypeId(BA1)=='I00J' or GetItemTypeId(BA1)=='I0RC' then
		call Func0590(Hero,GetItemTypeId(BA1),false)
	endif
	if GetItemTypeId(BA1)=='I007' then
		call Func0594(Hero,BA1)
	elseif GetItemTypeId(BA1)=='I00J' then
		if GetUnitAbilityLevel(Hero,'B09Y')>0 then
			call UnitRemoveAbility(Hero,'B09Y')
			call UnitRemoveAbility(Hero,'B01Q')
			call DisableTrigger(GetTriggeringTrigger())
			call UnitAddItemById(Hero,'I00J')
			call EnableTrigger(GetTriggeringTrigger())
		endif
	elseif GetItemTypeId(BA1)=='I008' then
		call Func0592(Hero,BA1)
	elseif GetItemTypeId(BA1)=='I0RC' then
		call Func0593(Hero,BA1)
	endif
endfunction

function Func0596 takes unit Hero,item BA1 returns nothing
	local integer aid
	local integer lvl
	call UnitRemoveAbility(Hero,'A27S')
	call UnitRemoveAbility(Hero,'A27Q')
	call UnitRemoveAbility(Hero,'A27R')
	call UnitRemoveAbility(Hero,'A27T')
	if GetUnitAbilityLevel(Hero,'A28F')>0 then
		call UnitRemoveAbility(Hero,'A28F')
		call UnitAddAbility(Hero,'A28F')
	endif
	if GetUnitTypeId(Hero)=='Edem' then
		set aid='A0KY'
	elseif GetUnitTypeId(Hero)=='U00F' then
		set aid='A06D'
	elseif GetUnitTypeId(Hero)=='EC77' then
		set aid='A0MM'
	elseif GetUnitTypeId(Hero)=='Ogrh' then
		set aid='A0YK'
	elseif GetUnitTypeId(Hero)=='H00J' or GetUnitTypeId(Hero)=='H00I' then
		set aid='A2QA'
	elseif GetUnitTypeId(Hero)=='UC60' then
		set aid='A2TS'
	else
		set Hero=null
		return
	endif
	set lvl=GetUnitAbilityLevel(Hero,aid)
	if lvl>0 then
		call UnitRemoveAbility(Hero,aid)
		call UnitAddAbility(Hero,aid)
		call SetUnitAbilityLevel(Hero,aid,lvl)
	endif
endfunction

function Func0597 takes item BA1,unit source,boolean G4O returns nothing
	local integer indexId=GetIndex(BA1)
	local integer h=GetHandleId(source)
	local string s=""
	if(indexId==integer083 and Func0340(source,integer083,BA1)==null)or(indexId==integer084 and Func0340(source,integer084,BA1)==null)then
		if IsPlayerAlly(LocalPlayer,GetOwningPlayer(source)) or Func0100(LocalPlayer)then
			set s="Abilities\\Spells\\Human\\MagicSentry\\MagicSentryCaster.mdl"
		endif
		if G4O then
			if Func0345(source)>0 or GetItemType(BA1)==ITEM_TYPE_PERMANENT or GetItemType(BA1)==ITEM_TYPE_CAMPAIGN then
				if GetUnitAbilityLevel(source,'A26A')==0 and GetUnitAbilityLevel(source,'A26B')==0 then
					if s=="Abilities\\Spells\\Human\\MagicSentry\\MagicSentryCaster.mdl" then
						call UnitAddAbilityPermanent(source,'A26A')
					else
						call UnitAddAbilityPermanent(source,'A26B')
					endif
				endif
			endif
		else
			if not(GetUnitAbilityLevel(source,'A26A')==0 and GetUnitAbilityLevel(source,'A26B')==0)then
				call UnitRemoveAbility(source,'A26B')
				call UnitRemoveAbility(source,'A26A')
				call RemoveSavedHandle(HY,(h),(670))
			endif
		endif
	endif
endfunction

function Func0598 takes nothing returns boolean
	local unit Hero=GetTriggerUnit()
	local item BA1=GetManipulatedItem()
	local integer id=GetItemTypeId(BA1)
	if BA1==null or IsUnitIllusion(Hero) or IsUnitType(Hero,UNIT_TYPE_HERO)==false or Func0406(GetUnitTypeId(Hero))or GetItemTypeId(BA1)=='I00E' or GetItemTypeId(BA1)=='I02M' then
		set Hero=null
		set BA1=null
		return false
	endif
	if(GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM and GetItemType(BA1)!=ITEM_TYPE_PURCHASABLE)or GetTriggerEventId()==EVENT_PLAYER_UNIT_PAWN_ITEM then
		call Func0597(BA1,Hero,false)
		call Traffic_RegisterData("DRI_"+I2S(GetPlayerId(GetOwningPlayer(Hero))),integers089[Func0326(GetIndex(BA1))])
	elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
		call Func0597(BA1,Hero,true)
		call Traffic_RegisterData("PUI_"+I2S(GetPlayerId(GetOwningPlayer(Hero))),integers089[Func0326(GetIndex(BA1))])
	endif
	set Hero=null
	set BA1=null
	return false
endfunction

function Func0599 takes nothing returns boolean
	local integer i
	if integer401>0 and reals010[1]<1 then
		set i=2
		loop
			exitwhen i>integer401
			set reals010[i-1]=reals010[i]
			set items007[i-1]=items007[i]
			set i=i+1
		endloop
		set integer401=integer401-1
	endif
	set i=1
	loop
		exitwhen i>integer401
		if reals010[i]>=1 then
			set reals010[i]=reals010[i]-1
			if reals010[i]<1 then
				call SetItemDroppable(items007[i],true)
			endif
		endif
		set i=i+1
	endloop
	return false
endfunction

function Func0600 takes item BA1 returns nothing
	set integer401=integer401+1
	set items007[integer401]=BA1
	set reals010[integer401]=(integers093[(Func0346(BA1))])
	call SetItemDroppable(BA1,false)
endfunction

function Func0601 takes nothing returns boolean
	if GetUnitTypeId(GetTriggerUnit())!='e00E' and(integers093[(Func0346(GetManipulatedItem()))])>0 then
		call Func0600(GetManipulatedItem())
	endif
	return false
endfunction

function Func0602 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit u=(LoadUnitHandle(HY,(h),(26)))
	local integer GBO=(LoadInteger(HY,(h),(98)))
	local item BA1=UnitItemInSlot(u,GBO)
	if BA1!=null and Func0327(GetIndex(BA1))==false and GetWidgetLife(BA1)>0 and Func0333(BA1)==false then
		call SetItemDroppable(BA1,true)
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set BA1=null
	return false
endfunction

function Func0603 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit u=(LoadUnitHandle(HY,(h),(26)))
	local integer GBO=(LoadInteger(HY,(h),(98)))
	local item BA1=UnitItemInSlot(u,GBO)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if(u!=null and GetUnitTypeId(u)>1 and IsUnitType(u,UNIT_TYPE_DEAD)==false)and(BA1!=null and GetWidgetLife(BA1)>0)then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SetItemDroppable(BA1,false)
		call SaveInteger(HY,(h),(98),(GBO))
		call SaveUnitHandle(HY,(h),(26),(u))
		call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_ISSUED_POINT_ORDER)
		call TriggerAddCondition(t,Condition(function Func0602))
	endif
	set BA1=null
	set u=null
	set t=null
	return false
endfunction

function Func0604 takes nothing returns nothing
	local integer GBO
	local unit u=GetTriggerUnit()
	local trigger t
	local integer h
	local item BA1
	if GetIssuedOrderId()==852008 then
		set GBO=0
	elseif GetIssuedOrderId()==852009 then
		set GBO=1
	elseif GetIssuedOrderId()==852010 then
		set GBO=2
	elseif GetIssuedOrderId()==852011 then
		set GBO=3
	elseif GetIssuedOrderId()==852012 then
		set GBO=4
	elseif GetIssuedOrderId()==852013 then
		set GBO=5
	endif
	set BA1=UnitItemInSlot(u,GBO)
	if BA1!=null and GetWidgetLife(BA1)>0 then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveInteger(HY,(h),(98),(GBO))
		call SaveUnitHandle(HY,(h),(26),(u))
		call TriggerRegisterTimerEvent(t,0,false)
		call TriggerAddCondition(t,Condition(function Func0603))
	endif
	set BA1=null
	set u=null
	set t=null
endfunction

function ItemCooldown_CheckOrderID takes nothing returns boolean
	if GetIssuedOrderId()==852008 or GetIssuedOrderId()==852009 or GetIssuedOrderId()==852010 or GetIssuedOrderId()==852011 or GetIssuedOrderId()==852012 or GetIssuedOrderId()==852013 then
		call Func0604()
	endif
	return false
endfunction

function Func0605 takes nothing returns nothing
	local unit u=GetTriggerUnit()
	local item BA1
	local integer i=0
	local real x=GetUnitX(u)
	local real y=GetUnitY(u)
	local integer indexId
	local item EJ1
	call DisableTrigger(trigger057)
	loop
		exitwhen i>5
		set BA1=UnitItemInSlot(u,i)
		set indexId=GetIndex(BA1)
		if indexId==integer156 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set EJ1=CreateItem(integers088[integer100],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer112],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
		elseif indexId==integer159 or indexId==integer160 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set EJ1=CreateItem(integers088[integer101],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer106],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
		elseif indexId==integer241 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set EJ1=CreateItem(integers088[integer097],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer094],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer301],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
		elseif indexId==integer242 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set EJ1=CreateItem(integers088[integer097],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer094],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer301],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
		elseif indexId==integer231 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set EJ1=CreateItem(integers088[integer086],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer176],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer306],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
		elseif indexId==integer254 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set EJ1=CreateItem(integers088[integer069],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer081],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
		elseif indexId==integer181 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set EJ1=CreateItem(integers088[integer085],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer091],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
		elseif indexId==integer182 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set EJ1=CreateItem(integers088[integer085],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer091],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
		elseif indexId==integer199 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set EJ1=CreateItem(integers088[integer171],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer110],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer284],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
		elseif indexId==integer200 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set EJ1=CreateItem(integers088[integer171],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer110],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer284],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
		elseif indexId==integer129 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set EJ1=CreateItem(integers088[integer080],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer250],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
		elseif indexId==integer187 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set EJ1=CreateItem(integers088[integer172],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer171],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
		elseif indexId==integer139 or indexId==integer140 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set EJ1=CreateItem(integers088[integer169],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer159],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
		elseif indexId==integer258 then
			set player005=GetItemPlayer(BA1)
			call RemoveItem(BA1)
			set EJ1=CreateItem(integers088[integer104],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
			set EJ1=CreateItem(integers088[integer173],x,y)
			call SetItemPlayer(EJ1,player005,false)
			call SetItemUserData(EJ1,1)
		endif
		set i=i+1
	endloop
	call EnableTrigger(trigger057)
	set u=null
	set BA1=null
	set EJ1=null
endfunction

function Func0606 takes nothing returns boolean
	if GetSpellAbilityId()=='A0K5' or GetSpellAbilityId()=='A1RF' then
		call Func0605()
	endif
	return false
endfunction

function Func0607 takes integer indexId returns boolean
	return indexId!=integer212 and indexId!=integer235 and indexId!=integer083 and indexId!=integer198
endfunction

function Func0608 takes nothing returns nothing
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
		call SetItemPawnable(GetManipulatedItem(),false)
	else
		call SetItemPawnable(GetManipulatedItem(),true)
	endif
endfunction

function Func0609 takes nothing returns boolean
	if GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and Func0607(Func0346(GetManipulatedItem()))and Func0089(GetTriggerUnit())then
		call Func0608()
	endif
	return false
endfunction

function Func0610 takes nothing returns nothing
	local integer x=1
	local player p
	loop
		exitwhen x>16
		if Func0341(Players_Hero[x],integers089[integer235])!=null then
			call RemoveUnit(units009[GetPlayerId(GetOwningPlayer(Players_Hero[x]))])
		endif
		set x=x+1
	endloop
endfunction

function Bloodstone_ItemCondition takes nothing returns boolean
	return GetItemTypeId(GetManipulatedItem())==integers089[integer235]and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)
endfunction

function Func0611 takes nothing returns boolean
	return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and Func0406(GetUnitTypeId(GetFilterUnit()))==false and Func0341(GetTriggerUnit(),integers089[integer235])!=null
endfunction

function Func0612 takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')!=1 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1
endfunction

function Func0613 takes nothing returns nothing
	call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+real002)
	call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BloodstoneHealTarget.mdx",GetEnumUnit(),"origin"))
endfunction

function Bloodstone_RegisterUnit takes nothing returns nothing
	call AddTimedKeyToUnit(GetEnumUnit(),4254,40)
endfunction

function Func0614 takes nothing returns nothing
	local group g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1700,Condition(function Func0612))
	set real002=500+30*GetItemCharges(Func0341(GetTriggerUnit(),integers089[integer235]))
	call ForGroup(g,function Func0613)
	call KillGroup(g)
	set g=null
endfunction

function Func0615 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'H00M',GetUnitX(Hero),GetUnitY(Hero),GetUnitFacing(Hero))
	set units009[GetPlayerId(GetOwningPlayer(Hero))]=caster
	call Func0614()
endfunction

function Func0616 takes unit u returns nothing
	local integer GRO=GetItemCharges(Func0341(u,integers089[integer235]))
	if GRO>0 then
		call SetUnitState(u,UNIT_STATE_MANA,GetUnitState(u,UNIT_STATE_MANA)+GRO)
	endif
endfunction

function Func0617 takes nothing returns boolean
	local integer i=1
	local unit Hero
	local integer id
	if integer393>0 then
		loop
			exitwhen i>5
			set id=GetPlayerId(Sentinels[i])
			set Hero=Players_Hero[id]
			if integers104[id]>0 and Hero!=null and GetUnitTypeId(Hero)>1 and IsUnitType(Hero,UNIT_TYPE_DEAD)==false then
				call Func0616(Hero)
			endif
			set id=GetPlayerId(Scourges[i])
			set Hero=Players_Hero[id]
			if integers104[id]>0 and Hero!=null and GetUnitTypeId(Hero)>1 and IsUnitType(Hero,UNIT_TYPE_DEAD)==false then
				call Func0616(Hero)
			endif
			set i=i+1
		endloop
	endif
	set Hero=null
	return false
endfunction

function Func0618 takes unit H0O,unit source returns nothing
	local string fx=""
	if IsPlayerEnemy(LocalPlayer,GetOwningPlayer(source))and Func0100(LocalPlayer)==false then
		set fx="war3mapImported\\WardMark_T2.mdx"
	endif
	call AddSpecialEffectTarget(fx,H0O,"origin")
endfunction

function Func0619 takes nothing returns boolean
	return true
endfunction

function Func0620 takes unit Hero,unit H0O returns nothing
	local integer HOO
	local item H2O
	if GetUnitTypeId(H0O)=='o004' then
		set HOO=integers089[integer147]
	else
		set HOO=integers089[integer148]
	endif
	call DisableTrigger(trigger057)
	set H2O=Func0341(Hero,HOO)
	if H2O==null then
		set player005=GetOwningPlayer(Hero)
		set tt_item1=CreateItem(HOO,0,0)
		call UnitAddItem(Hero,tt_item1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	else
		call SetItemCharges(H2O,GetItemCharges(H2O)+1)
	endif
	call EnableTrigger(trigger057)
endfunction

function Func0621 takes nothing returns nothing
	local unit H0O=GetSummonedUnit()
	local unit Hero=GetSummoningUnit()
	if GetUnitTypeId(GetSummonedUnit())=='o004' then
	endif
	if GetUnitTypeId(GetSummonedUnit())=='o004' or GetUnitTypeId(GetSummonedUnit())=='oeye' then
		if IsUnitInRegion(region009,H0O)then
			call Func0620(Hero,H0O)
			call RemoveUnit(H0O)
		elseif Func0089(Hero)then
			call Func0620(Hero,H0O)
			call Error(GetOwningPlayer(H0O),"Couriers cannot place wards")
			call RemoveUnit(H0O)
		else
			call Func0618(GetSummonedUnit(),GetSummoningUnit())
			if GetUnitTypeId(GetSummonedUnit())=='oeye' then
				call TimedReveal(GetOwningPlayer(GetSummonedUnit()),12,GetUnitX(GetSummonedUnit()),GetUnitY(GetSummonedUnit()),150)
			endif
		endif
	elseif GetUnitTypeId(H0O)=='osp4' or GetUnitTypeId(H0O)=='o008' or GetUnitTypeId(H0O)=='o009' or GetUnitTypeId(H0O)=='o01C' or GetUnitTypeId(H0O)=='o01D' or GetUnitTypeId(H0O)=='o01E' then
		call SelectUnitAddForPlayer(H0O,GetOwningPlayer(H0O))
	elseif GetUnitTypeId(H0O)=='o000' or GetUnitTypeId(H0O)=='o001' or GetUnitTypeId(H0O)=='o00A' or GetUnitTypeId(H0O)=='o00X' then
		call SelectUnitAddForPlayer(H0O,GetOwningPlayer(H0O))
	endif
endfunction

function Func0622 takes nothing returns nothing
	local unit u=GetEnumUnit()
	local integer i=0
	local player p=GetOwningPlayer(GetTriggerUnit())
	local item BA1
	local integer id=GetPlayerId(p)
	loop
		exitwhen i>5
		set BA1=UnitItemInSlot(u,i)
		if BA1!=null and GetItemPlayer(BA1)==p then
			call UnitRemoveItem(u,BA1)
			call SetItemPosition(BA1,ItemSpawnX[id],ItemSpawnY[id])
		endif
		set i=i+1
	endloop
	set u=null
	set BA1=null
endfunction

function Func0623 takes nothing returns nothing
	local item BA1=GetEnumItem()
	local unit u=unit247
	local player p=GetOwningPlayer(u)
	local integer id=GetPlayerId(p)
	if GetWidgetLife(BA1)>0 and GetItemPlayer(BA1)==p and IsItemVisible(BA1) then
		call SetItemPosition(BA1,ItemSpawnX[id],ItemSpawnY[id])
		call UnitAddItem(CirclesOfPower[id],BA1)
	endif
	set BA1=null
	set u=null
	set p=null
endfunction

function Func0624 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit u=(LoadUnitHandle(HY,(h),(53)))
	set unit247=u
	if IsSentinel(GetOwningPlayer(unit247))then
		call EnumItemsInRect(rect044,Condition(function ReturnTrue),function Func0623)
	else
		call EnumItemsInRect(rect045,Condition(function ReturnTrue),function Func0623)
	endif
	if GetTriggerEvalCount(t)==2 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set u=null
	return false
endfunction

function Func0625 takes nothing returns boolean
	return Func0089(GetFilterUnit())
endfunction

function Func0626 takes nothing returns nothing
	local unit u=GetTriggerUnit()
	local integer i=0
	local group g=GetAvailableGroup()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1300,Condition(function Func0625))
	call ForGroup(g,function Func0622)
	call KillGroup(g)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func0624))
	call SaveUnitHandle(HY,(h),(53),(u))
	set u=null
	set g=null
endfunction

function Func0627 takes nothing returns nothing
	if GetSpellAbilityId()=='A14D' then
		call Func0626()
	endif
endfunction

function Func0628 takes nothing returns nothing
	local unit u=GetTriggerUnit()
	local integer i=0
	local item BA1
	local integer id=GetPlayerId(GetOwningPlayer(u))
	local region r=CreateRegion()
	if IsSentinel(GetOwningPlayer(u))then
		call RegionAddRect(r,rect044)
	else
		call RegionAddRect(r,rect045)
	endif
	loop
		exitwhen i>5
		set BA1=UnitItemInSlot(u,i)
		if Func0327(GetIndex(BA1))==false and GetIndex(BA1)!=integer198 and Func0333(BA1)==false then
			call UnitRemoveItemFromSlot(u,i)
			if(GetUnitTypeId(u)=='ncop' or IsUnitInRegion(r,u))and IsPlayerAlly(GetItemPlayer(BA1),GetOwningPlayer(u)) then
				set id=GetPlayerId(GetItemPlayer(BA1))
				call SetItemPosition(BA1,ItemSpawnX[id],ItemSpawnY[id])
			endif
		endif
		set i=i+1
	endloop
	call RemoveRegion(r)
	set u=null
	set r=null
endfunction

function Func0629 takes nothing returns nothing
	if GetSpellAbilityId()=='A138' or GetSpellAbilityId()=='A14C' then
		call Func0628()
	endif
endfunction

function Func0630 takes unit source returns boolean
	local integer h=GetHandleId(source)
	local integer i=0
	local real time=GetTime()
	local real HEO=13
	loop
		exitwhen i>0
		if(LoadReal(HY,(h),(730+i)))<time-HEO then
			return false
		endif
		set i=i+1
	endloop
	return true
endfunction

function Func0631 takes unit source returns nothing
	local integer h=GetHandleId(source)
	local integer HGO=(LoadInteger(HY,(h),(729)))
	call SaveReal(HY,(h),(730+HGO),((GetTime())*1.0))
	set HGO=HGO+1
	if HGO==1 then
		set HGO=0
	endif
	call SaveInteger(HY,(h),(729),(HGO))
endfunction

function Func0632 takes unit Hero returns nothing
	local integer i=0
	local item HZO
	local integer indexId
	local boolean HVO=false
	if Func0630(Hero)then
		set HVO=true
	endif
	loop
		exitwhen i>5
		set HZO=UnitItemInSlot(Hero,i)
		set indexId=Func0346(HZO)
		if indexId==integer135 and HVO then
			call DisableTrigger(trigger057)
			set player005=GetItemPlayer(HZO)
			call RemoveItem(HZO)
			set tt_item1=Func0357(Hero,integers089[integer136],i)
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
			call EnableTrigger(trigger057)
		endif
		if indexId==integer136 and HVO==false then
			call DisableTrigger(trigger057)
			set player005=GetItemPlayer(HZO)
			call RemoveItem(HZO)
			set tt_item1=Func0357(Hero,integers089[integer135],i)
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
			call EnableTrigger(trigger057)
		endif
		set i=i+1
	endloop
	set Hero=null
	set HZO=null
endfunction

function Func0633 takes unit Hero returns nothing
	local integer i=0
	local item HXO
	local integer indexId
	local boolean HYO=false
	local real Q4I=4
	if IsUnitType(Hero,UNIT_TYPE_MELEE_ATTACKER)==false then
		set Q4I=6
	endif
	if(LoadReal(HY,(GetHandleId(Hero)),(785)))+Q4I>GetTime()then
		set HYO=true
	endif
	loop
		exitwhen i>5
		set HXO=UnitItemInSlot(Hero,i)
		set indexId=Func0346(HXO)
		if indexId==integer219 and HYO then
			call DisableTrigger(trigger057)
			set player005=GetItemPlayer(HXO)
			call RemoveItem(HXO)
			set tt_item1=Func0357(Hero,integers089[integer220],i)
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
			call EnableTrigger(trigger057)
		endif
		if indexId==integer220 and HYO==false then
			call DisableTrigger(trigger057)
			set player005=GetItemPlayer(HXO)
			call RemoveItem(HXO)
			set tt_item1=Func0357(Hero,integers089[integer219],i)
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
			call EnableTrigger(trigger057)
		endif
		set i=i+1
	endloop
	set Hero=null
	set HXO=null
endfunction

function Func0634 takes nothing returns nothing
	if GetEventDamage()>2 and(Func0053(GetOwningPlayer(GetEventDamageSource()))or GetUnitTypeId(GetEventDamageSource())=='n00L')and GetUnitAbilityLevel(GetTriggerUnit(),'A0RN')==0 then
		if booleans022[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false then
			call SaveReal(HY,(GetHandleId(GetTriggerUnit())),(785),((GetTime())*1.0))
			if GetEventDamage()>20 then
			endif
		endif
	endif
endfunction

function Func0635 takes unit Hero returns nothing
	local integer i=0
	local item HLO
	local integer indexId
	local boolean HMO=false
	if(LoadReal(HY,(GetHandleId(Hero)),(785)))+3>GetTime()then
		set HMO=true
	endif
	loop
		exitwhen i>5
		set HLO=UnitItemInSlot(Hero,i)
		set indexId=Func0346(HLO)
		if indexId==integer088 and HMO then
			call DisableTrigger(trigger057)
			set player005=GetItemPlayer(HLO)
			call RemoveItem(HLO)
			set tt_item1=Func0357(Hero,integers089[integer089],i)
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
			call EnableTrigger(trigger057)
		endif
		if indexId==integer089 and HMO==false then
			call DisableTrigger(trigger057)
			set player005=GetItemPlayer(HLO)
			call RemoveItem(HLO)
			set tt_item1=Func0357(Hero,integers089[integer088],i)
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
			call EnableTrigger(trigger057)
		endif
		set i=i+1
	endloop
	set Hero=null
	set HLO=null
endfunction

function Func0636 takes nothing returns nothing
	local unit Hero=GetEnumUnit()
	local integer id=GetPlayerId(GetOwningPlayer(Hero))
	if integers103[id]>0 and Hero!=null and GetUnitTypeId(Hero)>1 and IsUnitType(Hero,UNIT_TYPE_DEAD)==false then
		call Func0635(Hero)
	endif
	if integers111[id]>0 and Hero!=null and GetUnitTypeId(Hero)>1 and IsUnitType(Hero,UNIT_TYPE_DEAD)==false then
		call Func0633(Hero)
	endif
	if integers112[id]>0 and Hero!=null and GetUnitTypeId(Hero)>1 and IsUnitType(Hero,UNIT_TYPE_DEAD)==false then
		call Func0632(Hero)
	endif
	set Hero=null
endfunction

function Func0637 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and GetUnitTypeId(GetFilterUnit())!='H00J' and GetUnitTypeId(GetFilterUnit())!='H0B8'
endfunction

function Func0638 takes nothing returns boolean
	local integer i=1
	local unit Hero
	local integer id
	local group g
	if integer392>0 or integer395>0 or integer399>0 then
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,0,0,9999,Condition(function Func0637))
		loop
			exitwhen i>5
			set id=GetPlayerId(Sentinels[i])
			set Hero=Players_Hero[id]
			call GroupAddUnit(g,Hero)
			set id=GetPlayerId(Scourges[i])
			set Hero=Players_Hero[id]
			call GroupAddUnit(g,Hero)
			set i=i+1
		endloop
		call ForGroup(g,function Func0636)
		call KillGroup(g)
		set g=null
	endif
	set Hero=null
	return false
endfunction

function Func0639 takes nothing returns nothing
	local unit Hero=GetFilterUnit()
	local integer i=0
	local item BA1
	local integer indexId
	loop
		exitwhen i>5
		set BA1=UnitItemInSlot(Hero,i)
		set indexId=GetIndex(BA1)
		if(indexId==integer115 or indexId==integer116 or indexId==integer117)and GetItemUserData(BA1)>0 then
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",Hero,"overhead"))
			call Func0111(GetOwningPlayer(Hero),"Abilities\\Spells\\Human\\Heal\\HealTarget.wav")
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			set tt_item1=Func0357(Hero,integers089[integer118],i)
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
			call UnitRemoveAbility(Hero,'B0GI')
		endif
		set i=i+1
	endloop
	set Hero=null
	set BA1=null
endfunction

function Func0640 takes nothing returns boolean
	if UnitInventorySize(GetFilterUnit())>0 and IsSentinel(GetOwningPlayer(GetFilterUnit()))and IsUnitIllusion(GetFilterUnit())==false and IsDead(GetFilterUnit())==false then
		call Func0639()
	endif
	return false
endfunction

function Func0641 takes nothing returns boolean
	if UnitInventorySize(GetFilterUnit())>0 and Func0052(GetOwningPlayer(GetFilterUnit()))and IsUnitIllusion(GetFilterUnit())==false and IsDead(GetFilterUnit())==false then
		call Func0639()
	endif
	return false
endfunction

function Func0642 takes nothing returns boolean
	local group g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,GetUnitX(unit130),GetUnitY(unit130),750,Condition(function Func0640))
	call KillGroup(g)
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,GetUnitX(unit174),GetUnitY(unit174),750,Condition(function Func0641))
	call KillGroup(g)
	set g=null
	return false
endfunction

function Func0643 takes unit ZOO returns boolean
	local unit Z2O=Players_Hero[GetPlayerId(GetOwningPlayer(ZOO))]
	if((GetUnitX(Z2O)-GetUnitX(ZOO))*(GetUnitX(Z2O)-GetUnitX(ZOO))+(GetUnitY(Z2O)-GetUnitY(ZOO))*(GetUnitY(Z2O)-GetUnitY(ZOO))>=855625)then
		return true
	endif
	return false
endfunction

function Func0644 takes nothing returns nothing
	local unit Z4O=GetAttacker()
	local integer GP1=UnitInventorySize(Z4O)
	local integer x=0
	local item i
	loop
		exitwhen x>GP1
		set i=UnitItemInSlot(Z4O,x)
		if Func0346(i)==integer113 then
			if GetRandomReal(0,1)<=0.2 and Func0264(Z4O)==false then
				if Func0242(Z4O)then
					if Func0643(Z4O)==false then
						if GetUnitAbilityLevel(GetTriggerUnit(),'A04R')==0 then
							call DamageTarget(Z4O,GetTriggerUnit(),2,40)
						endif
					endif
				else
					if GetUnitAbilityLevel(GetTriggerUnit(),'A04R')==0 then
						call DamageTarget(Z4O,GetTriggerUnit(),2,40)
					endif
				endif
			endif
		endif
		set x=x+1
	endloop
	set x=0
	set Z4O=GetAttacker()
	set GP1=UnitInventorySize(Z4O)
	loop
		exitwhen x>GP1
		set i=UnitItemInSlot(Z4O,x)
		if Func0346(i)==integer135 or Func0346(i)==integer136 then
			call Func0631(Z4O)
		endif
		set x=x+1
	endloop
	set x=0
	set Z4O=GetTriggerUnit()
	set GP1=UnitInventorySize(Z4O)
	loop
		exitwhen x>GP1
		set i=UnitItemInSlot(Z4O,x)
		if Func0346(i)==integer135 or Func0346(i)==integer136 then
			call Func0631(Z4O)
		endif
		set x=x+1
	endloop
	set i=null
	set Z4O=null
endfunction

function Func0645 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real time=(LoadReal(HY,(GetHandleId(source)),(692)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or time<GetTime()then
		call UnitRemoveAbility(source,'A265')
		call UnitRemoveAbility(source,'B08N')
		call UnitRemoveAbility(source,'A26C')
		call SaveReal(HY,(GetHandleId(source)),(692),((0)*1.0))
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func0646 takes unit source returns nothing
	local trigger t
	local integer h
	local real time=(LoadReal(HY,(GetHandleId(source)),(692)))
	call SaveReal(HY,(GetHandleId(source)),(692),((GetTime()+real196)*1.0))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,real196+0.01,false)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerAddCondition(t,Condition(function Func0645))
	call SaveUnitHandle(HY,(h),(2),(source))
	call UnitAddAbilityPermanent(source,'A265')
	call UnitAddAbilityPermanent(source,'A26C')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A265',false)
	set t=null
endfunction

function Func0647 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		if GetEventDamageSource()==source and GetEventDamage()>0 then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			if Func0255(target)==false then
				call Func0646(target)
			endif
		endif
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func0648 takes nothing returns nothing
	local unit source=GetAttacker()
	local unit target=GetTriggerUnit()
	local trigger t
	local integer h
	if((LoadInteger(HY,(GetHandleId((source))),((4309))))==1)==false then
		call AddTimedKeyToUnit(source,4309,0.2)
		if GetRandomReal(0,100)<real195 then
			set t=CreateTrigger()
			set h=GetHandleId(t)
			call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
			call TriggerRegisterTimerEvent(t,2.5,false)
			call TriggerAddCondition(t,Condition(function Func0647))
			call SaveUnitHandle(HY,(h),(2),(source))
			call SaveUnitHandle(HY,(h),(17),(target))
		endif
	endif
	set source=null
	set target=null
endfunction

function DiffusalBlade_End takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real time=(LoadReal(HY,(GetHandleId(source)),(833)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or time<GetTime()then
		call UnitRemoveAbility(source,'A265')
		call UnitRemoveAbility(source,'B08N')
		call UnitRemoveAbility(source,'A26C')
		call SaveReal(HY,(GetHandleId(source)),(833),((0)*1.0))
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func0649 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real ZCO
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		if GetEventDamageSource()==source and GetEventDamage()>0 then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			if GetUnitAbilityLevel(source,'A022')==0 then
				set ZCO=RMinBJ(25,GetUnitState(target,UNIT_STATE_MANA))
				call SetUnitState(target,UNIT_STATE_MANA,GetUnitState(target,UNIT_STATE_MANA)-ZCO)
				call DamageTarget(source,target,2,ZCO)
				call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl",target,"origin"))
			endif
		endif
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func0650 takes nothing returns nothing
	local unit source=GetAttacker()
	local unit target=GetTriggerUnit()
	local trigger t
	local integer h
	if((LoadInteger(HY,(GetHandleId((source))),((4340))))==1)==false and GetUnitState(target,UNIT_STATE_MANA)>0 then
		call AddTimedKeyToUnit(source,4340,0.2)
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
		call TriggerRegisterTimerEvent(t,2.5,false)
		call TriggerAddCondition(t,Condition(function Func0649))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
	endif
	set source=null
	set target=null
endfunction

function Func0651 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real time=(LoadReal(HY,(GetHandleId(source)),(693)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or time<GetTime()then
		call UnitRemoveAbility(source,'A266')
		call UnitRemoveAbility(source,'B02I')
		call UnitRemoveAbility(source,'A26C')
		call SaveReal(HY,(GetHandleId(source)),(693),((0)*1.0))
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func0652 takes unit source returns nothing
	local trigger t
	local integer h
	local real time=(LoadReal(HY,(GetHandleId(source)),(693)))
	call SaveReal(HY,(GetHandleId(source)),(693),((GetTime()+real198)*1.0))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,real198+0.01,false)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerAddCondition(t,Condition(function Func0651))
	call SaveUnitHandle(HY,(h),(2),(source))
	call UnitAddAbilityPermanent(source,'A266')
	call UnitAddAbilityPermanent(source,'A26C')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A266',false)
	set t=null
endfunction

function Func0653 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		if GetEventDamageSource()==source and GetEventDamage()>0 then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			if Func0255(target)==false then
				call Func0652(target)
			endif
		endif
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func0654 takes nothing returns nothing
	local unit source=GetAttacker()
	local unit target=GetTriggerUnit()
	local trigger t
	local integer h
	if((LoadInteger(HY,(GetHandleId((source))),((4309))))==1)==false then
		call AddTimedKeyToUnit(source,4309,0.2)
		if GetRandomReal(0,100)<real197 then
			set t=CreateTrigger()
			set h=GetHandleId(t)
			call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
			call TriggerRegisterTimerEvent(t,2.5,false)
			call TriggerAddCondition(t,Condition(function Func0653))
			call SaveUnitHandle(HY,(h),(2),(source))
			call SaveUnitHandle(HY,(h),(17),(target))
		endif
	endif
	set source=null
	set target=null
endfunction

function Func0655 takes nothing returns nothing
	local unit Z4O=GetAttacker()
	local integer ZVO=25
	local integer id=GetPlayerId(GetOwningPlayer(GetAttacker()))
	local integer h=GetHandleId(Z4O)
	local real SOI=GetTime()
	local real ZWO=(LoadReal(HY,(h),(101)))
	local boolean ZXO=(LoadBoolean(HY,(h),(99)))
	local boolean ZYO=(LoadBoolean(HY,(h),(100)))
	local boolean ZJO=SOI<ZWO
	local boolean ZKO=false
	if IsUnitType(Z4O,UNIT_TYPE_MELEE_ATTACKER)==false then
		set ZVO=10
	endif
	if GetRandomInt(0,100)<ZVO then
		set ZKO=true
	endif
	if GetUnitAbilityLevel(Z4O,'A0JJ')>0 or GetUnitAbilityLevel(Z4O,'A081')>0 or GetUnitAbilityLevel(Z4O,'A0G5')>0 or GetUnitAbilityLevel(Z4O,'A09E')>0 then
		call UnitRemoveAbility(Z4O,'A174')
		set Z4O=null
		return
	endif
	if ZXO and ZJO==false and ZYO==false then
		call SaveReal(HY,(h),(101),((SOI+2)*1.0))
		if ZKO==false then
			call SaveBoolean(HY,(h),(100),(true))
		endif
	elseif ZJO or ZYO then
		call UnitRemoveAbility(Z4O,'A174')
		call SaveBoolean(HY,(h),(99),(false))
		call SaveBoolean(HY,(h),(100),(false))
	endif
	if ZKO then
		call UnitAddAbilityPermanent(Z4O,'A174')
		call UnitMakeAbilityPermanent(Z4O,true,'A175')
		call SaveBoolean(HY,(h),(99),(true))
	endif
	set Z4O=null
endfunction

function Func0656 takes unit u returns unit
	if IsUnitType(u,UNIT_TYPE_HERO)or GetUnitAbilityLevel(u,'A04R')==0 then
		return u
	else
		return Players_Hero[GetPlayerId(GetOwningPlayer(u))]
	endif
endfunction

function Func0657 takes nothing returns nothing
	local unit u=GetKillingUnit()
	if not IsUnitType(u,UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetDyingUnit(),GetOwningPlayer(u))==false then
		if GetUnitTypeId(GetTriggerUnit())=='n00J' then
			call DamageTarget(GetDyingUnit(),Func0656(u),1,550)
		elseif GetUnitTypeId(GetTriggerUnit())=='n00A' then
			call DamageTarget(GetDyingUnit(),Func0656(u),1,675)
		elseif GetUnitTypeId(GetTriggerUnit())=='n006' then
			call DamageTarget(GetDyingUnit(),Func0656(u),1,800)
		endif
	endif
	set u=null
endfunction

function Func0658 takes nothing returns boolean
	local unit Hero=GetTriggerUnit()
	local integer lvl=1
	if Func0341(Hero,integers089[integer136])!=null then
		set lvl=2
	endif
	if Func0340(Hero,integers089[integer069],GetManipulatedItem())!=null then
		set lvl=3
	endif
	if Func0340(Hero,integers089[integer244],GetManipulatedItem())!=null then
		set lvl=4
	endif
	if Func0340(Hero,integers089[integer162],GetManipulatedItem())!=null or Func0340(Hero,integers089[integer163],GetManipulatedItem())!=null or Func0340(Hero,integers089[integer164],GetManipulatedItem())!=null then
		set lvl=5
	endif
	if Func0340(Hero,integers089[integer254],GetManipulatedItem())!=null then
		set lvl=6
	endif
	if Func0340(Hero,integers089[integer135],GetManipulatedItem())!=null then
		set lvl=7
	endif
	if Func0340(Hero,integers089[integer161],GetManipulatedItem())!=null then
		set lvl=8
	endif
	if Func0340(Hero,integers089[integer184],GetManipulatedItem())!=null then
		call UnitAddAbility(Hero,'A0V0')
		call SetUnitAbilityLevel(Hero,'A0V0',lvl)
		call UnitMakeAbilityPermanent(Hero,true,'A0V0')
	else
		call UnitRemoveAbility(Hero,'A0V0')
	endif
	set Hero=null
	return false
endfunction

function Func0659 takes nothing returns boolean
	local unit Hero=GetTriggerUnit()
	local integer lvl=1
	if Func0341(Hero,integers089[integer136])!=null then
		set lvl=2
	endif
	if Func0341(Hero,integers089[integer069])!=null then
		set lvl=3
	endif
	if Func0341(Hero,integers089[integer244])!=null then
		set lvl=4
	endif
	if Func0341(Hero,integers089[integer162])!=null or Func0341(Hero,integers089[integer163])!=null or Func0341(Hero,integers089[integer164])!=null then
		set lvl=5
	endif
	if Func0341(Hero,integers089[integer254])!=null then
		set lvl=6
	endif
	if Func0340(Hero,integers089[integer135],GetManipulatedItem())!=null then
		set lvl=7
	endif
	if Func0341(Hero,integers089[integer161])!=null then
		set lvl=8
	endif
	if Func0341(Hero,integers089[integer184])!=null then
		call UnitAddAbility(Hero,'A0V0')
		call SetUnitAbilityLevel(Hero,'A0V0',lvl)
		call UnitMakeAbilityPermanent(Hero,true,'A0V0')
	endif
	set Hero=null
	return false
endfunction

function Func0660 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM then
		if Func0346(GetManipulatedItem())==integer238 or Func0346(GetManipulatedItem())==integer240 then
			call UnitRemoveAbility(Hero,'A2QD')
		endif
		if Func0346(GetManipulatedItem())==integer221 then
			call UnitRemoveAbility(Hero,'A1BW')
		endif
		if Func0346(GetManipulatedItem())==integer235 then
			call UnitRemoveAbility(Hero,'A0G3')
			call UnitRemoveAbility(Hero,'A09M')
			call UnitRemoveAbility(Hero,'A0UX')
			call UnitRemoveAbility(Hero,'A2KL')
		endif
		if Func0346(GetManipulatedItem())==integer237 or Func0346(GetManipulatedItem())==integer239 then
			call UnitRemoveAbility(Hero,'A2QD')
			call UnitRemoveAbility(Hero,'A0TC')
			call UnitRemoveAbility(Hero,'A0UK')
		endif
		if Func0346(GetManipulatedItem())==integer141 then
			call UnitRemoveAbility(Hero,'A2YE')
			call UnitRemoveAbility(Hero,'A2YF')
			call UnitRemoveAbility(Hero,'A319')
		endif
	endif
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
		if Func0346(GetManipulatedItem())==integer238 or Func0346(GetManipulatedItem())==integer240 then
			call UnitAddAbility(Hero,'A2QD')
			call UnitMakeAbilityPermanent(Hero,true,'A2QD')
		endif
		if Func0346(GetManipulatedItem())==integer221 then
			call UnitAddAbility(Hero,'A1BW')
			call UnitMakeAbilityPermanent(Hero,true,'A1BW')
		endif
		if Func0346(GetManipulatedItem())==integer141 then
			call UnitAddAbilityPermanent(Hero,'A319')
			if IsUnitType(Hero,UNIT_TYPE_MELEE_ATTACKER) then
				call UnitAddAbilityPermanent(Hero,'A2YE')
				call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A2YE',false)
			else
				call UnitAddAbilityPermanent(Hero,'A2YF')
				call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A2YF',false)
			endif
		endif
		if Func0346(GetManipulatedItem())==integer235 then
			call UnitAddAbilityPermanent(Hero,'A0G3')
			call UnitAddAbilityPermanent(Hero,'A09M')
			call UnitAddAbilityPermanent(Hero,'A0UX')
			call UnitAddAbilityPermanent(Hero,'A2KL')
		endif
		if Func0346(GetManipulatedItem())==integer237 or Func0346(GetManipulatedItem())==integer239 then
			call UnitAddAbility(Hero,'A2QD')
			call UnitMakeAbilityPermanent(Hero,true,'A2QD')
			call UnitAddAbility(Hero,'A0TC')
			call UnitMakeAbilityPermanent(Hero,true,'A0TC')
			call UnitAddAbility(Hero,'A0UK')
			call UnitMakeAbilityPermanent(Hero,true,'A0UK')
		endif
	endif
	set Hero=null
endfunction

function Func0661 takes nothing returns boolean
	if GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and(Func0346(GetManipulatedItem())==integer237 or Func0346(GetManipulatedItem())==integer238 or Func0346(GetManipulatedItem())==integer239 or Func0346(GetManipulatedItem())==integer240 or Func0346(GetManipulatedItem())==integer221 or Func0346(GetManipulatedItem())==integer235 or Func0346(GetManipulatedItem())==integer141)then
		call Func0660()
	endif
	return false
endfunction

function Func0662 takes unit u,integer d returns nothing
	local integer array b
	local integer a=d
	local integer c=1
	local integer i=0
	local integer EU1
	if d<1 then
		call UnitRemoveAbility(u,integers113[0])
		call UnitRemoveAbility(u,integers113[1])
		call UnitRemoveAbility(u,integers113[2])
		call UnitRemoveAbility(u,integers113[3])
		call UnitRemoveAbility(u,integers113[4])
		return
	endif
	loop
		exitwhen c==0
		set c=a/2
		set b[i]=a-c*2
		set a=c
		set i=i+1
	endloop
	set EU1=4
	set i=0
	loop
		exitwhen i>EU1
		if b[i]==1 then
			call UnitAddAbilityPermanent(u,integers113[i])
		else
			call UnitRemoveAbility(u,integers113[i])
		endif
		set i=i+1
	endloop
endfunction

function Func0663 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local item BA1=(LoadItemHandle(HY,(h),(96)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local real VOO=GetUnitState(Hero,UNIT_STATE_MAX_LIFE)-GetUnitState(Hero,UNIT_STATE_LIFE)
	if GetTriggerEventId()==EVENT_UNIT_DROP_ITEM and GetManipulatedItem()==BA1 then
		call SaveInteger(HY,(GetHandleId((Hero))),((4298)),(2))
		call Func0662(Hero,0)
		call SetUnitState(Hero,UNIT_STATE_LIFE,Func0134(GetUnitState(Hero,UNIT_STATE_MAX_LIFE)-VOO,1))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()!=EVENT_UNIT_DROP_ITEM and Count<25 then
		call SaveInteger(HY,(GetHandleId((Hero))),((4298)),(1))
		set Count=Count+1
		call Func0662(Hero,Count)
		call SetUnitState(Hero,UNIT_STATE_LIFE,Func0134(GetUnitState(Hero,UNIT_STATE_MAX_LIFE)-VOO,1))
		call SaveInteger(HY,(h),(34),(Count))
	else
		call SaveInteger(HY,(GetHandleId((Hero))),((4298)),(2))
	endif
	set t=null
	set Hero=null
	set BA1=null
	return false
endfunction

function Func0664 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local item BA1=(LoadItemHandle(HY,(h),(96)))
	if GetTriggerEventId()==EVENT_UNIT_DROP_ITEM and GetManipulatedItem()==BA1 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()!=EVENT_UNIT_DROP_ITEM then
		if((LoadInteger(HY,(GetHandleId((Hero))),((4310))))==1)==false then
			call SetUnitState(Hero,UNIT_STATE_LIFE,Func0134(GetUnitState(Hero,UNIT_STATE_LIFE)-real199*0.1,1))
		endif
	endif
	set t=null
	set Hero=null
	set BA1=null
	return false
endfunction

function Func0665 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DROP_ITEM)
	call TriggerAddCondition(t,Condition(function Func0664))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveItemHandle(HY,(h),(96),(GetManipulatedItem()))
	call TriggerEvaluate(t)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.7/25,true)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DROP_ITEM)
	call TriggerAddCondition(t,Condition(function Func0663))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveItemHandle(HY,(h),(96),(GetManipulatedItem()))
	call SaveInteger(HY,(h),(34),(0))
	set t=null
	set Hero=null
endfunction

function Func0666 takes nothing returns boolean
	if GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and(Func0346(GetManipulatedItem())==integer237 or Func0346(GetManipulatedItem())==integer239)then
		call Func0665()
	endif
	return false
endfunction

function Func0667 takes nothing returns nothing
	local unit source=unit248
	local unit target=GetEnumUnit()
	if((LoadInteger(HY,(GetHandleId((target))),((4341))))==1)==false then
		call AddTimedKeyToUnit(target,4341,0.99)
		set boolean069=true
		call DamageTarget(source,target,1,50)
		set boolean069=false
		call Func0152("Abilities\\Spells\\Items\\HealingSalve\\HealingSalveTarget.mdl",target,"origin",0.9)
	endif
	set source=null
	set target=null
endfunction

function Func0668 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local item BA1=(LoadItemHandle(HY,(h),(96)))
	local group g
	if Hero==null or(GetTriggerEventId()==EVENT_UNIT_DROP_ITEM and GetManipulatedItem()==BA1)then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()!=EVENT_UNIT_DROP_ITEM then
		if IsDead(Hero)==false then
			set g=GetAvailableGroup()
			set tt_unit1=Hero
			set unit248=Hero
			call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),725,Condition(function DefaultEnemyFilterWithAncients))
			call ForGroup(g,function Func0667)
			call KillGroup(g)
			set g=null
		endif
	endif
	set t=null
	set Hero=null
	set BA1=null
	return false
endfunction

function Func0669 takes unit Hero returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DROP_ITEM)
	call TriggerAddCondition(t,Condition(function Func0668))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveItemHandle(HY,(h),(96),(GetManipulatedItem()))
	set t=null
endfunction

function Func0670 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM and GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and Func0346(GetManipulatedItem())==integer217 then
		call Func0669(GetTriggerUnit())
	endif
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SUMMON and UnitInventorySize(GetSummonedUnit())>0 and Func0341(GetSummonedUnit(),integers089[integer217])!=null then
		call Func0669(GetSummonedUnit())
	endif
	return false
endfunction

function Func0671 takes unit u returns boolean
	local item VCO=CreateItem('I0KK',GetUnitX(u),GetUnitY(u))
	local boolean FB1=UnitAddItem(u,VCO)
	if FB1==false then
		call RemoveItem(VCO)
	endif
	return FB1
endfunction

function Func0672 takes unit Hero,item BA1,integer FF1 returns item
	local real x=Func0355(Hero)
	local real y=Func0356(Hero)
	local integer i=0
	local boolean array FG1
	local item FH1
	loop
		exitwhen i>(UnitInventorySize(Hero)-1)
		if UnitItemInSlot(Hero,i)==null and i!=FF1 then
			set FH1=CreateItem('I02M',x,y)
			call UnitAddItem(Hero,FH1)
			set FG1[i]=true
		else
			set FG1[i]=false
		endif
		if i==FF1 then
			call UnitAddItem(Hero,BA1)
		endif
		set i=i+1
	endloop
	set i=0
	loop
		exitwhen i>5
		if FG1[i] then
			call RemoveItem(UnitItemInSlot(Hero,i))
		endif
		set i=i+1
	endloop
	set tt_item1=BA1
	set FH1=null
	return tt_item1
endfunction

function Func0673 takes unit Hero,integer VFO returns nothing
	local integer i=0
	local item VGO
	local integer indexId
	local unit caster
	local item VHO
	if IsDead(Hero)then
		return
	endif
	call DisableTrigger(trigger057)
	if integers106[GetPlayerId(GetOwningPlayer(Hero))]>0 and VFO==integer210 then
		call Func0354(Hero,'I0HM')
	endif
	loop
		exitwhen i>5
		set VGO=UnitItemInSlot(Hero,i)
		set indexId=Func0346(VGO)
		if indexId==integer211 or indexId==integer210 then
			set player005=GetItemPlayer(VGO)
			call RemoveItem(VGO)
			set caster=CreateUnit(GetOwningPlayer(Hero),'e00E',GetUnitX(Hero),GetUnitY(Hero),0)
			call UnitAddAbility(caster,'AInv')
			set VHO=UnitAddItemById(caster,integers089[VFO])
			call UnitResetCooldown(caster)
			call UnitUseItem(caster,VHO)
			set tt_item1=Func0672(Hero,VHO,i)
			call SetItemPlayer(VHO,player005,false)
			call SetItemUserData(VHO,1)
			call UnitRemoveAbility(caster,'AInv')
			set caster=null
			set VHO=null
		endif
		set VGO=null
		set i=i+1
	endloop
	call EnableTrigger(trigger057)
endfunction

function Func0674 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer i=0
	local item VGO
	local integer indexId
	local unit caster
	local item VHO
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call SaveBoolean(HY,(GetHandleId(Hero)),(102),(false))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif Func0671(Hero)==false then
		call TriggerRegisterTimerEvent(t,5.5,false)
	else
		call SaveBoolean(HY,(GetHandleId(Hero)),(102),(false))
		call Func0673(Hero,integer210)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func0675 takes unit Hero returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer i=0
	local item VGO
	local integer indexId
	local unit caster
	local item VHO
	call SaveBoolean(HY,(GetHandleId(Hero)),(102),(true))
	call TriggerRegisterTimerEvent(t,real200,false)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func0674))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl",Hero,"origin"))
	call Func0673(Hero,integer211)
	set t=null
endfunction

function Func0676 takes nothing returns boolean
	local integer i=1
	local unit Hero
	local integer id
	if boolean036 then
		return false
	endif
	if integer390>0 then
		loop
			exitwhen i>5
			set id=GetPlayerId(Sentinels[i])
			set Hero=Players_Hero[id]
			if integers106[id]>0 and Hero!=null and GetUnitTypeId(Hero)>1 and IsUnitType(Hero,UNIT_TYPE_DEAD)==false and(LoadBoolean(HY,(GetHandleId(Hero)),(102)))==false and IsBlocked(Hero)==false and(LoadBoolean(HY,(GetHandleId(Hero)),(129)))==false then
				call Func0675(Hero)
			endif
			set id=GetPlayerId(Scourges[i])
			set Hero=Players_Hero[id]
			if integers106[id]>0 and Hero!=null and GetUnitTypeId(Hero)>1 and IsUnitType(Hero,UNIT_TYPE_DEAD)==false and(LoadBoolean(HY,(GetHandleId(Hero)),(102)))==false and IsBlocked(Hero)==false and(LoadBoolean(HY,(GetHandleId(Hero)),(129)))==false then
				call Func0675(Hero)
			endif
			set i=i+1
		endloop
	endif
	set Hero=null
	return false
endfunction

function Func0677 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetUnitAbilityLevel(target,'B0BI')==0 then
		call Func0675(source)
		if GetTriggerEventId()!=EVENT_WIDGET_DEATH then
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl",target,"origin"))
		endif
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEvalCount(t)>=R2I(real200/0.1)then
		call SaveBoolean(HY,(GetHandleId(source)),(102),(false))
		call Func0673(source,integer210)
		call UnitRemoveAbility(target,'B0BI')
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func0678 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	call Func0354(target,'I0HM')
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerAddCondition(t,Condition(function Func0677))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("effects\\Linkens_Main.mdx",target,"chest")))
	call SaveBoolean(HY,(GetHandleId(source)),(102),(true))
	call UnitRemoveAbility(source,'B0BI')
	call Func0673(source,integer211)
	set t=null
	set source=null
	set target=null
endfunction

function Func0679 takes nothing returns boolean
	if GetSpellAbilityId()=='A2VE' and IsUnitIllusion(GetSpellTargetUnit())==false then
		call Func0678()
	endif
	return false
endfunction

function Func0680 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if source!=target then
		call DamageTarget(source,target,1,50)
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func0681 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster
	if target==null then
		set target=source
	endif
	set caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbility(caster,'A13V')
	call IssueTargetOrder(caster,"cyclone",target)
	call TriggerRegisterTimerEvent(t,2.51,true)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerAddCondition(t,Condition(function Func0680))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	set t=null
	set source=null
	set target=null
endfunction

function Func0682 takes nothing returns boolean
	if GetSpellAbilityId()=='A1T7' then
		if GetTriggerUnit()==GetSpellTargetUnit()or Func0091(GetSpellTargetUnit())==false then
			if IsBlocked(GetSpellTargetUnit())==false or GetTriggerUnit()==GetSpellTargetUnit()then
				call Func0681()
			endif
		endif
	endif
	return false
endfunction

function Func0683 takes integer FE1 returns integer
	if FE1=='I006' then
		return integer121
	elseif FE1=='I008' then
		return integer122
	elseif FE1=='I00J' then
		return integer119
	elseif FE1=='I00K' then
		return integer120
	elseif FE1=='I007' then
		return integer123
	elseif FE1=='I0RC' then
		return integer124
	endif
	return-1
endfunction

function Func0684 takes nothing returns boolean
	if GetSpellAbilityId()=='A0H6' then
		call SaveUnitHandle(HY,(GetHandleId(GetTriggerUnit())),(103),(null))
		call SaveInteger(HY,(GetHandleId(GetTriggerUnit())),(104),(0))
		if(Func0341(GetTriggerUnit(),integers089[integer115])!=null or Func0341(GetTriggerUnit(),integers091[integer115])!=null)and(GetUnitTypeId(GetSpellTargetUnit())=='nfoh' or GetUnitTypeId(GetSpellTargetUnit())=='ndfl')then
			call SaveUnitHandle(HY,(GetHandleId(GetTriggerUnit())),(103),(GetSpellTargetUnit()))
		elseif Func0540(GetItemTypeId(GetSpellTargetItem()))then
			call Func0590(GetTriggerUnit(),GetItemTypeId(GetSpellTargetItem()),true)
			call SaveInteger(HY,(GetHandleId(GetTriggerUnit())),(104),(GetItemTypeId(GetSpellTargetItem())))
			call Func0339(GetSpellTargetItem())
		endif
	endif
	return false
endfunction

function Func0685 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit u=(LoadUnitHandle(HY,(h),(26)))
	local integer GBO=(LoadInteger(HY,(h),(98)))
	local item BA1=UnitItemInSlot(u,GBO)
	local integer VQO=(LoadInteger(HY,(h),(105)))
	local item VHO
	local integer FF1
	if BA1!=null and Func0327(GetIndex(BA1))and GetHandleId(BA1)==VQO and IsDead(u)==false and IsDead(u)==false then
		set VHO=CreateItem((LoadInteger(HY,(GetHandleId(BA1)),(GetHandleId(u)))),GetUnitX(u),GetUnitY(u))
		call FlushChildHashtable(HY,(GetHandleId(BA1)))
		set FF1=Func0215(u,BA1)
		set player005=GetItemPlayer(BA1)
		call Func0339(BA1)
		set tt_item1=Func0357(u,integers089[integer118],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitAddItem(u,VHO)
		call UnitRemoveAbility(u,'B0GI')
	endif
	set t=null
	set u=null
	set BA1=null
	set VHO=null
	return false
endfunction

function Func0686 takes unit u,item VHO returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer GBO=Func0215(u,VHO)
	call SaveInteger(HY,(h),(98),(GBO))
	call SaveInteger(HY,(h),(105),(GetHandleId(VHO)))
	call SaveUnitHandle(HY,(h),(26),(u))
	call TriggerRegisterTimerEvent(t,120,true)
	call TriggerAddCondition(t,Condition(function Func0685))
	set t=null
endfunction

function Func0687 takes nothing returns nothing
	local unit u=GetTriggerUnit()
	local item BA1=GetManipulatedItem()
	local integer indexId=GetIndex(BA1)
	local unit WIO
	local integer W1O
	local boolean TargetFrog
	local integer FF1
	local item VHO
	local integer WOO
	if indexId==integer115 then
		set FF1=Func0215(u,BA1)
		set WIO=(LoadUnitHandle(HY,(GetHandleId(u)),(103)))
		set W1O=(LoadInteger(HY,(GetHandleId(u)),(104)))
		if GetUnitTypeId(WIO)=='nfoh' or GetUnitTypeId(WIO)=='ndfl' then
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",u,"overhead"))
			call Func0111(GetOwningPlayer(u),"Abilities\\Spells\\Human\\Heal\\HealTarget.wav")
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			set tt_item1=Func0357(u,integers089[integer118],FF1)
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
			call UnitRemoveAbility(u,'B0GI')
		elseif Func0540(W1O)then
			set WOO=Func0683(W1O)
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",u,"overhead"))
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			call DisableTrigger(trigger057)
			if GetOwningPlayer(u)==player005 then
				set tt_item1=Func0357(u,integers089[WOO],FF1)
			else
				set tt_item1=Func0357(u,integers091[WOO],FF1)
			endif
			call EnableTrigger(trigger057)
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
			set VHO=UnitItemInSlot(u,FF1)
			call SaveInteger(HY,(GetHandleId(VHO)),(GetHandleId(u)),(W1O))
			call Func0686(u,VHO)
			call UnitRemoveAbility(u,'B0GI')
		endif
	elseif indexId==integer118 then
		set FF1=Func0215(u,BA1)
		set player005=GetItemPlayer(BA1)
		call Func0339(BA1)
		set tt_item1=Func0357(u,integers089[integer117],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	elseif indexId==integer117 then
		set FF1=Func0215(u,BA1)
		set player005=GetItemPlayer(BA1)
		call Func0339(BA1)
		set tt_item1=Func0357(u,integers089[integer116],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	elseif indexId==integer116 then
		set FF1=Func0215(u,BA1)
		set player005=GetItemPlayer(BA1)
		call Func0339(BA1)
		set tt_item1=Func0357(u,integers089[integer115],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,0)
	elseif Func0327(indexId)then
		if(LoadInteger(HY,(GetHandleId(BA1)),(GetHandleId(u))))>0 then
			set boolean068=true
			set FF1=Func0215(u,BA1)
			set VHO=CreateItem((LoadInteger(HY,(GetHandleId(BA1)),(GetHandleId(u)))),GetUnitX(u),GetUnitY(u))
			call FlushChildHashtable(HY,(GetHandleId(BA1)))
			set player005=GetItemPlayer(BA1)
			call Func0339(BA1)
			set tt_item1=Func0357(u,integers089[integer118],FF1)
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
			call UnitAddItem(u,VHO)
			set boolean068=false
			call UnitRemoveAbility(u,'B0GI')
		endif
	endif
	set u=null
	set BA1=null
	set WIO=null
	set VHO=null
endfunction

function Func0688 takes nothing returns boolean
	if IsUnitType(GetEventDamageSource(),UNIT_TYPE_MELEE_ATTACKER) then
		call DisableTrigger(GetTriggeringTrigger())
		call DamageTarget(GetEventDamageSource(),GetTriggerUnit(),3,GetEventDamage()*0.5)
		call EnableTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func0689 takes nothing returns boolean
	if GetIssuedOrderId()==851971 then
		if GetOrderTargetItem()!=null and Func0540(GetItemTypeId(GetOrderTargetItem()))then
			call InterruptUnit(GetTriggerUnit())
			call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0LU'))
		endif
	endif
	return false
endfunction

function Func0690 takes unit W5O returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,W5O,EVENT_UNIT_ISSUED_TARGET_ORDER)
	call TriggerAddCondition(t,Condition(function Func0689))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,W5O,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func0688))
	set t=null
endfunction

function Func0691 takes player p returns integer
	local integer r=GetRandomInt(1,6)
	if IsSentinel(p)then
		if r==1 then
			return 'n00I'
		elseif r==2 then
			return 'n022'
		elseif r==3 then
			return 'n021'
		elseif r==4 then
			return 'n0KY'
		elseif r==5 then
			return 'n0KZ'
		else
			return 'n0LE'
		endif
	else
		if r==1 then
			return 'n023'
		elseif r==2 then
			return 'n024'
		elseif r==3 then
			return 'n025'
		elseif r==4 then
			return 'n0L0'
		elseif r==5 then
			return 'n0L1'
		else
			return 'n0M4'
		endif
	endif
	return 0
endfunction

function Func0692 takes player p returns integer
	if GetRandomInt(1,3)==1 then
		return 'e02R'
	elseif IsSentinel(p)then
		return 'e01H'
	else
		return 'e01Z'
	endif
	return 0
endfunction

function Func0693 takes nothing returns nothing
	local unit W9O=CreateUnit(GetOwningPlayer(GetTriggerUnit()),Func0691(GetOwningPlayer(GetTriggerUnit())),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))
	local real x=GetUnitX(GetTriggerUnit())
	local real y=GetUnitY(GetTriggerUnit())
	local real a=GetUnitFacing(GetTriggerUnit())
	call Func0536(W9O)
	call SetUnitPosition(W9O,x+25*Cos(a*bj_DEGTORAD),y+25*Sin(a*bj_DEGTORAD))
	if booleans015[GetPlayerId(GetOwningPlayer(W9O))]==false then
		call UnitRemoveType(W9O,UNIT_TYPE_PEON)
	else
		call UnitAddType(W9O,UNIT_TYPE_PEON)
	endif
endfunction

function Func0694 takes nothing returns nothing
	local unit W9O=CreateUnit(GetOwningPlayer(GetTriggerUnit()),Func0692(GetOwningPlayer(GetTriggerUnit())),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))
	call Func0536(W9O)
	if booleans015[GetPlayerId(GetOwningPlayer(W9O))]==false then
		call UnitRemoveType(W9O,UNIT_TYPE_PEON)
	else
		call UnitAddType(W9O,UNIT_TYPE_PEON)
	endif
	call Func0690(W9O)
endfunction

function Func0695 takes nothing returns boolean
	if GetSpellAbilityId()=='A0B6' then
		call Func0693()
	endif
	if GetSpellAbilityId()=='A0JT' then
		call Func0694()
	endif
	return false
endfunction

function Func0696 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit W9O=(LoadUnitHandle(HY,(h),(124)))
	local integer WDO=(LoadInteger(HY,(h),(125)))
	local integer WEO=(LoadInteger(HY,(h),(106)))
	local integer WFO=(LoadInteger(HY,(h),(107)))
	local integer WGO=(LoadInteger(HY,(h),(108)))
	local integer WHO=(LoadInteger(HY,(h),(109)))
	local integer WZO=(LoadInteger(HY,(h),(110)))
	local integer WVO=(LoadInteger(HY,(h),(111)))
	local player p0=(LoadPlayerHandle(HY,(h),(118)))
	local player p1=(LoadPlayerHandle(HY,(h),(119)))
	local player p2=(LoadPlayerHandle(HY,(h),(120)))
	local player p3=(LoadPlayerHandle(HY,(h),(121)))
	local player p4=(LoadPlayerHandle(HY,(h),(122)))
	local player p5=(LoadPlayerHandle(HY,(h),(123)))
	local integer WWO=(LoadInteger(HY,(h),(112)))
	local integer WXO=(LoadInteger(HY,(h),(113)))
	local integer WYO=(LoadInteger(HY,(h),(114)))
	local integer WJO=(LoadInteger(HY,(h),(115)))
	local integer WKO=(LoadInteger(HY,(h),(116)))
	local integer WLO=(LoadInteger(HY,(h),(117)))
	call DisableTrigger(trigger057)
	if GetTriggerEvalCount(t)==1 then
		call UnitAddAbility(W9O,WDO)
		if booleans015[GetPlayerId(GetOwningPlayer(W9O))]==false then
			call UnitRemoveType(W9O,UNIT_TYPE_PEON)
		else
			call UnitAddType(W9O,UNIT_TYPE_PEON)
		endif
	else
		if WEO>0 then
			set tt_item1=CreateItem(WEO,GetUnitX(W9O),GetUnitY(W9O))
			call UnitAddItem(W9O,tt_item1)
			call SetItemPlayer(tt_item1,p0,false)
			call SetItemUserData(tt_item1,1)
		endif
		if WWO>0 then
			call SetItemCharges(tt_item1,WWO)
		endif
		if WFO>0 then
			set tt_item1=CreateItem(WFO,GetUnitX(W9O),GetUnitY(W9O))
			call UnitAddItem(W9O,tt_item1)
			call SetItemPlayer(tt_item1,p1,false)
			call SetItemUserData(tt_item1,1)
		endif
		if WXO>0 then
			call SetItemCharges(tt_item1,WXO)
		endif
		if WGO>0 then
			set tt_item1=CreateItem(WGO,GetUnitX(W9O),GetUnitY(W9O))
			call UnitAddItem(W9O,tt_item1)
			call SetItemPlayer(tt_item1,p2,false)
			call SetItemUserData(tt_item1,1)
		endif
		if WYO>0 then
			call SetItemCharges(tt_item1,WYO)
		endif
		if WHO>0 then
			set tt_item1=CreateItem(WHO,GetUnitX(W9O),GetUnitY(W9O))
			call UnitAddItem(W9O,tt_item1)
			call SetItemPlayer(tt_item1,p3,false)
			call SetItemUserData(tt_item1,1)
		endif
		if WJO>0 then
			call SetItemCharges(tt_item1,WJO)
		endif
		if WZO>0 then
			set tt_item1=CreateItem(WZO,GetUnitX(W9O),GetUnitY(W9O))
			call UnitAddItem(W9O,tt_item1)
			call SetItemPlayer(tt_item1,p4,false)
			call SetItemUserData(tt_item1,1)
		endif
		if WKO>0 then
			call SetItemCharges(tt_item1,WKO)
		endif
		if WVO>0 then
			set tt_item1=CreateItem(WVO,GetUnitX(W9O),GetUnitY(W9O))
			call UnitAddItem(W9O,tt_item1)
			call SetItemPlayer(tt_item1,p5,false)
			call SetItemUserData(tt_item1,1)
		endif
		if WLO>0 then
			call SetItemCharges(tt_item1,WLO)
		endif
		if booleans015[GetPlayerId(GetOwningPlayer(W9O))]==false then
			call UnitRemoveType(W9O,UNIT_TYPE_PEON)
		else
			call UnitAddType(W9O,UNIT_TYPE_PEON)
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	call EnableTrigger(trigger057)
	set t=null
	set W9O=null
	set p0=null
	set p1=null
	set p2=null
	set p3=null
	set p4=null
	set p5=null
	return false
endfunction

function Func0697 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit WNO=(LoadUnitHandle(HY,(h),(2)))
	local integer WSO=GetUnitTypeId(WNO)
	local real x=GetUnitX(WNO)
	local real y=GetUnitY(WNO)
	local item WTO
	local item WRO
	local item WPO
	local item WQO
	local item WUO
	local item X0O
	local player p0
	local player p1
	local player p2
	local player p3
	local player p4
	local player p5
	local integer WEO
	local integer WFO
	local integer WGO
	local integer WHO
	local integer WZO
	local integer WVO
	local integer WWO=-1
	local integer WXO=-1
	local integer WYO=-1
	local integer WJO=-1
	local integer WKO=-1
	local integer WLO=-1
	local integer WDO
	local item BA1
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if WNO==null or IsDead(WNO)then
		return false
	endif
	set t=CreateTrigger()
	set h=GetHandleId(t)
	set WTO=UnitItemInSlot(WNO,0)
	set WRO=UnitItemInSlot(WNO,1)
	set WPO=UnitItemInSlot(WNO,2)
	set WQO=UnitItemInSlot(WNO,3)
	set WUO=UnitItemInSlot(WNO,4)
	set X0O=UnitItemInSlot(WNO,5)
	set WEO=GetItemTypeId(WTO)
	set WFO=GetItemTypeId(WRO)
	set WGO=GetItemTypeId(WPO)
	set WHO=GetItemTypeId(WQO)
	set WZO=GetItemTypeId(WUO)
	set WVO=GetItemTypeId(X0O)
	set p0=GetItemPlayer(WTO)
	set p1=GetItemPlayer(WRO)
	set p2=GetItemPlayer(WPO)
	set p3=GetItemPlayer(WQO)
	set p4=GetItemPlayer(WUO)
	set p5=GetItemPlayer(X0O)
	set BA1=WTO
	if GetItemType(BA1)==ITEM_TYPE_ARTIFACT or Func0336(GetIndex(BA1))or Func0335(GetIndex(BA1))then
		set WWO=GetItemCharges(BA1)
	endif
	set BA1=WRO
	if GetItemType(BA1)==ITEM_TYPE_ARTIFACT or Func0336(GetIndex(BA1))or Func0335(GetIndex(BA1))then
		set WXO=GetItemCharges(BA1)
	endif
	set BA1=WPO
	if GetItemType(BA1)==ITEM_TYPE_ARTIFACT or Func0336(GetIndex(BA1))or Func0335(GetIndex(BA1))then
		set WYO=GetItemCharges(BA1)
	endif
	set BA1=WQO
	if GetItemType(BA1)==ITEM_TYPE_ARTIFACT or Func0336(GetIndex(BA1))or Func0335(GetIndex(BA1))then
		set WJO=GetItemCharges(BA1)
	endif
	set BA1=WUO
	if GetItemType(BA1)==ITEM_TYPE_ARTIFACT or Func0336(GetIndex(BA1))or Func0335(GetIndex(BA1))then
		set WKO=GetItemCharges(BA1)
	endif
	set BA1=X0O
	if GetItemType(BA1)==ITEM_TYPE_ARTIFACT or Func0336(GetIndex(BA1))or Func0335(GetIndex(BA1))then
		set WLO=GetItemCharges(BA1)
	endif
	call Func0339(WTO)
	call Func0339(WRO)
	call Func0339(WPO)
	call Func0339(WQO)
	call Func0339(WUO)
	call Func0339(X0O)
	if WSO=='n00I' then
		set WDO='S009'
	elseif WSO=='n022' then
		set WDO='S00V'
	elseif WSO=='n021' then
		set WDO='S00C'
	elseif WSO=='n023' then
		set WDO='S00E'
	elseif WSO=='n024' then
		set WDO='S00B'
	elseif WSO=='n025' then
		set WDO='S00F'
	elseif WSO=='n0KY' then
		set WDO='S00W'
	elseif WSO=='n0KZ' then
		set WDO='S00Y'
	elseif WSO=='n0L0' then
		set WDO='S00X'
	elseif WSO=='n0L1' then
		set WDO='S00D'
	elseif WSO=='n0LE' then
		set WDO='S01F'
	elseif WSO=='n0M4' then
		set WDO='S015'
	endif
	if GetRandomInt(1,10)==1 then
		set WDO='S00G'
	endif
	if GetRandomInt(1,10)<3 then
		set WDO='S016'
	endif
	if WSO=='n00M' then
		set WDO='S00L'
	elseif WSO=='n0LS' then
		set WDO='S00L'
	elseif WSO=='n0HV' then
		set WDO='S00F'
	endif
	if WSO=='e01H' then
		set WDO='S012'
	elseif WSO=='e01Z' then
		set WDO='S010'
	elseif WSO=='e02R' then
		set WDO='S014'
	elseif WSO=='e02T' then
		set WDO='S011'
	elseif WSO=='e02S' then
		set WDO='S017'
	elseif WSO=='e030' then
		set WDO='S013'
	endif
	call SavePlayerHandle(HY,(h),(118),(p0))
	call SavePlayerHandle(HY,(h),(119),(p1))
	call SavePlayerHandle(HY,(h),(120),(p2))
	call SavePlayerHandle(HY,(h),(121),(p3))
	call SavePlayerHandle(HY,(h),(122),(p4))
	call SavePlayerHandle(HY,(h),(123),(p5))
	call SaveInteger(HY,(h),(106),(WEO))
	call SaveInteger(HY,(h),(107),(WFO))
	call SaveInteger(HY,(h),(108),(WGO))
	call SaveInteger(HY,(h),(109),(WHO))
	call SaveInteger(HY,(h),(110),(WZO))
	call SaveInteger(HY,(h),(111),(WVO))
	call SaveInteger(HY,(h),(112),(WWO))
	call SaveInteger(HY,(h),(113),(WXO))
	call SaveInteger(HY,(h),(114),(WYO))
	call SaveInteger(HY,(h),(115),(WJO))
	call SaveInteger(HY,(h),(116),(WKO))
	call SaveInteger(HY,(h),(117),(WLO))
	call SaveUnitHandle(HY,(h),(124),(WNO))
	call SaveInteger(HY,(h),(125),(WDO))
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerAddCondition(t,Condition(function Func0696))
	set t=null
	set WNO=null
	set WTO=null
	set WRO=null
	set WPO=null
	set WQO=null
	set WUO=null
	set X0O=null
	set p0=null
	set p1=null
	set p2=null
	set p3=null
	set p4=null
	set p5=null
	return false
endfunction

function Func0698 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.05,false)
	call TriggerAddCondition(t,Condition(function Func0697))
	call SaveUnitHandle(HY,(h),(2),(GetTriggerUnit()))
	set t=null
endfunction

function Func0699 takes nothing returns boolean
	if GetSpellAbilityId()=='A0OT' then
		call Func0698()
	endif
	return false
endfunction

function Func0700 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit W9O=(LoadUnitHandle(HY,(h),(124)))
	local integer WDO=(LoadInteger(HY,(h),(125)))
	local integer WEO=(LoadInteger(HY,(h),(106)))
	local integer WFO=(LoadInteger(HY,(h),(107)))
	local integer WGO=(LoadInteger(HY,(h),(108)))
	local integer WHO=(LoadInteger(HY,(h),(109)))
	local integer WZO=(LoadInteger(HY,(h),(110)))
	local integer WVO=(LoadInteger(HY,(h),(111)))
	local player p0=(LoadPlayerHandle(HY,(h),(118)))
	local player p1=(LoadPlayerHandle(HY,(h),(119)))
	local player p2=(LoadPlayerHandle(HY,(h),(120)))
	local player p3=(LoadPlayerHandle(HY,(h),(121)))
	local player p4=(LoadPlayerHandle(HY,(h),(122)))
	local player p5=(LoadPlayerHandle(HY,(h),(123)))
	local integer WWO=(LoadInteger(HY,(h),(112)))
	local integer WXO=(LoadInteger(HY,(h),(113)))
	local integer WYO=(LoadInteger(HY,(h),(114)))
	local integer WJO=(LoadInteger(HY,(h),(115)))
	local integer WKO=(LoadInteger(HY,(h),(116)))
	local integer WLO=(LoadInteger(HY,(h),(117)))
	call DisableTrigger(trigger057)
	if GetTriggerEvalCount(t)==1 then
		call UnitAddAbility(W9O,WDO)
		if booleans015[GetPlayerId(GetOwningPlayer(W9O))]==false then
			call UnitRemoveType(W9O,UNIT_TYPE_PEON)
		else
			call UnitAddType(W9O,UNIT_TYPE_PEON)
		endif
	else
		if WEO>0 then
			set tt_item1=CreateItem(WEO,GetUnitX(W9O),GetUnitY(W9O))
			call UnitAddItem(W9O,tt_item1)
			call SetItemPlayer(tt_item1,p0,false)
			call SetItemUserData(tt_item1,1)
		endif
		if WWO>0 then
			call SetItemCharges(tt_item1,WWO)
		endif
		if WFO>0 then
			set tt_item1=CreateItem(WFO,GetUnitX(W9O),GetUnitY(W9O))
			call UnitAddItem(W9O,tt_item1)
			call SetItemPlayer(tt_item1,p1,false)
			call SetItemUserData(tt_item1,1)
		endif
		if WXO>0 then
			call SetItemCharges(tt_item1,WXO)
		endif
		if WGO>0 then
			set tt_item1=CreateItem(WGO,GetUnitX(W9O),GetUnitY(W9O))
			call UnitAddItem(W9O,tt_item1)
			call SetItemPlayer(tt_item1,p2,false)
			call SetItemUserData(tt_item1,1)
		endif
		if WYO>0 then
			call SetItemCharges(tt_item1,WYO)
		endif
		if WHO>0 then
			set tt_item1=CreateItem(WHO,GetUnitX(W9O),GetUnitY(W9O))
			call UnitAddItem(W9O,tt_item1)
			call SetItemPlayer(tt_item1,p3,false)
			call SetItemUserData(tt_item1,1)
		endif
		if WJO>0 then
			call SetItemCharges(tt_item1,WJO)
		endif
		if WZO>0 then
			set tt_item1=CreateItem(WZO,GetUnitX(W9O),GetUnitY(W9O))
			call UnitAddItem(W9O,tt_item1)
			call SetItemPlayer(tt_item1,p4,false)
			call SetItemUserData(tt_item1,1)
		endif
		if WKO>0 then
			call SetItemCharges(tt_item1,WKO)
		endif
		if WVO>0 then
			set tt_item1=CreateItem(WVO,GetUnitX(W9O),GetUnitY(W9O))
			call UnitAddItem(W9O,tt_item1)
			call SetItemPlayer(tt_item1,p5,false)
			call SetItemUserData(tt_item1,1)
		endif
		if WLO>0 then
			call SetItemCharges(tt_item1,WLO)
		endif
		if booleans015[GetPlayerId(GetOwningPlayer(W9O))]==false then
			call UnitRemoveType(W9O,UNIT_TYPE_PEON)
		else
			call UnitAddType(W9O,UNIT_TYPE_PEON)
		endif
		call SetUnitFlyHeight(W9O,240,0)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	call EnableTrigger(trigger057)
	set t=null
	set W9O=null
	set p0=null
	set p1=null
	set p2=null
	set p3=null
	set p4=null
	set p5=null
	return false
endfunction

function Func0701 takes unit WNO returns nothing
	local integer WSO=GetUnitTypeId(WNO)
	local real x=GetUnitX(WNO)
	local real y=GetUnitY(WNO)
	local item WTO
	local item WRO
	local item WPO
	local item WQO
	local item WUO
	local item X0O
	local player p0
	local player p1
	local player p2
	local player p3
	local player p4
	local player p5
	local integer WEO
	local integer WFO
	local integer WGO
	local integer WHO
	local integer WZO
	local integer WVO
	local integer WWO=-1
	local integer WXO=-1
	local integer WYO=-1
	local integer WJO=-1
	local integer WKO=-1
	local integer WLO=-1
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer WDO
	local item BA1
	local integer i
	local item X3O
	set i=0
	loop
		exitwhen i>5
		set X3O=UnitItemInSlot(WNO,i)
		if GetIndex(X3O)==integer083 then
			call UnitRemoveItem(WNO,X3O)
		endif
		set i=i+1
	endloop
	set WTO=UnitItemInSlot(WNO,0)
	set WRO=UnitItemInSlot(WNO,1)
	set WPO=UnitItemInSlot(WNO,2)
	set WQO=UnitItemInSlot(WNO,3)
	set WUO=UnitItemInSlot(WNO,4)
	set X0O=UnitItemInSlot(WNO,5)
	set WEO=GetItemTypeId(WTO)
	set WFO=GetItemTypeId(WRO)
	set WGO=GetItemTypeId(WPO)
	set WHO=GetItemTypeId(WQO)
	set WZO=GetItemTypeId(WUO)
	set WVO=GetItemTypeId(X0O)
	set p0=GetItemPlayer(WTO)
	set p1=GetItemPlayer(WRO)
	set p2=GetItemPlayer(WPO)
	set p3=GetItemPlayer(WQO)
	set p4=GetItemPlayer(WUO)
	set p5=GetItemPlayer(X0O)
	set BA1=WTO
	if GetItemType(BA1)==ITEM_TYPE_ARTIFACT or Func0336(GetIndex(BA1))or Func0335(GetIndex(BA1))then
		set WWO=GetItemCharges(BA1)
	endif
	set BA1=WRO
	if GetItemType(BA1)==ITEM_TYPE_ARTIFACT or Func0336(GetIndex(BA1))or Func0335(GetIndex(BA1))then
		set WXO=GetItemCharges(BA1)
	endif
	set BA1=WPO
	if GetItemType(BA1)==ITEM_TYPE_ARTIFACT or Func0336(GetIndex(BA1))or Func0335(GetIndex(BA1))then
		set WYO=GetItemCharges(BA1)
	endif
	set BA1=WQO
	if GetItemType(BA1)==ITEM_TYPE_ARTIFACT or Func0336(GetIndex(BA1))or Func0335(GetIndex(BA1))then
		set WJO=GetItemCharges(BA1)
	endif
	set BA1=WUO
	if GetItemType(BA1)==ITEM_TYPE_ARTIFACT or Func0336(GetIndex(BA1))or Func0335(GetIndex(BA1))then
		set WKO=GetItemCharges(BA1)
	endif
	set BA1=X0O
	if GetItemType(BA1)==ITEM_TYPE_ARTIFACT or Func0336(GetIndex(BA1))or Func0335(GetIndex(BA1))then
		set WLO=GetItemCharges(BA1)
	endif
	call Func0339(WTO)
	call Func0339(WRO)
	call Func0339(WPO)
	call Func0339(WQO)
	call Func0339(WUO)
	call Func0339(X0O)
	if IsSentinel(GetOwningPlayer(WNO))then
		set WDO='S00I'
	else
		set WDO='S00J'
	endif
	if GetRandomInt(1,3)==1 then
		set WDO='S00Z'
	endif
	call SavePlayerHandle(HY,(h),(118),(p0))
	call SavePlayerHandle(HY,(h),(119),(p1))
	call SavePlayerHandle(HY,(h),(120),(p2))
	call SavePlayerHandle(HY,(h),(121),(p3))
	call SavePlayerHandle(HY,(h),(122),(p4))
	call SavePlayerHandle(HY,(h),(123),(p5))
	call SaveInteger(HY,(h),(106),(WEO))
	call SaveInteger(HY,(h),(107),(WFO))
	call SaveInteger(HY,(h),(108),(WGO))
	call SaveInteger(HY,(h),(109),(WHO))
	call SaveInteger(HY,(h),(110),(WZO))
	call SaveInteger(HY,(h),(111),(WVO))
	call SaveInteger(HY,(h),(112),(WWO))
	call SaveInteger(HY,(h),(113),(WXO))
	call SaveInteger(HY,(h),(114),(WYO))
	call SaveInteger(HY,(h),(115),(WJO))
	call SaveInteger(HY,(h),(116),(WKO))
	call SaveInteger(HY,(h),(117),(WLO))
	call SaveUnitHandle(HY,(h),(124),(WNO))
	call SaveInteger(HY,(h),(125),(WDO))
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerAddCondition(t,Condition(function Func0700))
	set t=null
	set WNO=null
	set WTO=null
	set WRO=null
	set WPO=null
	set WQO=null
	set WUO=null
	set X0O=null
	set p0=null
	set p1=null
	set p2=null
	set p3=null
	set p4=null
	set p5=null
endfunction

function Func0702 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local item X5O=Func0155(source,integers089[integer297])
	if X5O==null then
		set X5O=Func0155(source,integers091[integer297])
	endif
	if X5O!=null then
		call RemoveItem(X5O)
		call Func0701(source)
	else
		call Error(GetOwningPlayer(source),GetObjectName('n02Q'))
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func0703 takes unit source returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call Func0690(source)
	call TriggerRegisterTimerEvent(t,0.05,false)
	call TriggerAddCondition(t,Condition(function Func0702))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
endfunction

function Func0704 takes nothing returns boolean
	if GetSpellAbilityId()=='A0GD' then
		call Func0703(GetTriggerUnit())
	endif
	return false
endfunction

function Func0705 takes nothing returns boolean
	local unit Hero=GetTriggerUnit()
	local item BA1=GetManipulatedItem()
	local integer id=GetItemTypeId(BA1)
	local integer i
	if(id==integers089[integer149]or id==integers089[integer161])and IsUnitType(Hero,UNIT_TYPE_HERO) then
		set reals011[GetPlayerId(GetOwningPlayer(Hero))]=GetItemX(BA1)
		set reals012[GetPlayerId(GetOwningPlayer(Hero))]=GetItemY(BA1)
	endif
	call Func0595(Hero,BA1)
	call Func0596(Hero,BA1)
	if(GetItemTypeId(BA1)==integers089[integer237]or GetItemTypeId(BA1)==integers089[integer238])and Func0089(Hero)then
		call UnitRemoveItem(Hero,BA1)
	elseif GetItemTypeId(BA1)==integers089[integer245]and IsUnitType(Hero,UNIT_TYPE_HERO) then
		set i=(LoadInteger(HY,(GetHandleId(Hero)),(750)))
		if i>0 then
			if(LoadBoolean(HY,(GetHandleId(Hero)),(751)))==false then
				call SaveBoolean(HY,(GetHandleId(Hero)),(751),(true))
				call SetItemCharges(BA1,i)
			endif
		endif
	elseif GetItemTypeId(BA1)==integers089[integer198]and GetUnitTypeId(Hero)!='n00L' and boolean065==false then
		set unit243=Hero
		set boolean065=true
		call Traffic_RegisterData("AegisOn",GetPlayerId(GetOwningPlayer(Hero)))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,Players_Color[GetPlayerId(GetOwningPlayer(Hero))]+GetUnitName(Hero)+"|r "+GetObjectName('n0EQ'))
	elseif GetItemTypeId(BA1)==integers089[integer297]and Func0087(Hero)then
		call Func0703(Hero)
	elseif GetItemTypeId(BA1)==integers089[integer369]and GetUnitTypeId(Hero)=='Emoo' then
		call SetPlayerTechResearched(GetOwningPlayer(Hero),'R00J',1)
	elseif GetItemTypeId(BA1)==integers089[integer372]and GetUnitTypeId(Hero)=='H00I' then
		set tt_unit1=Hero
		call ExecuteFunc("Func3042")
	elseif GetItemTypeId(BA1)==integers089[integer332]and GetUnitTypeId(Hero)=='E032' then
		set tt_unit1=Hero
		call ExecuteFunc("Func4202")
	elseif GetItemTypeId(BA1)==integers089[integer387]and GetUnitTypeId(Hero)=='Hamg' then
		set tt_unit1=Hero
		call ExecuteFunc("Func2209")
	elseif GetItemTypeId(BA1)==integers089[integer388]and GetUnitTypeId(Hero)=='N0MU' then
		set tt_unit1=Hero
		call ExecuteFunc("Func4373")
	elseif GetItemTypeId(BA1)==integers089[integer367]and GetUnitTypeId(Hero)=='Ucrl' then
		call UnitAddAbility(Hero,'A2KB')
		call UnitRemoveAbility(Hero,'A2KB')
		call AddUnitAnimationProperties(Hero,"upgrade",true)
		call SetPlayerTechResearched(GetOwningPlayer(Hero),'R00K',1)
	endif
	set Hero=null
	set BA1=null
	return false
endfunction

function Func0706 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='Aeat' then
			call SaveInteger(HY,(h),(34),(16))
		endif
	elseif IsDead(source)or GetTriggerEventId()==EVENT_UNIT_DEATH or Count==0 then
		call UnitRemoveAbility(source,'A0PV')
		call UnitRemoveAbility(source,'B07L')
		call SaveInteger(HY,(GetHandleId((source))),((4255)),(2))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call SetUnitState(source,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_LIFE)+115/16)
		call SaveInteger(HY,(h),(34),(Count-1))
	endif
	return false
endfunction

function Func0707 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveInteger(HY,(GetHandleId((source))),((4255)),(1))
	call UnitAddAbilityPermanent(source,'A0PV')
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(34),(16))
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func0706))
	call TriggerEvaluate(t)
	set source=null
	set t=null
endfunction

function Tango_AddSingleTango takes nothing returns nothing
	call UnitAddItemById(GetSpellTargetUnit(),'I0Q6')
endfunction

function Func0708 takes nothing returns nothing
	if GetSpellAbilityId()=='Aeat' or GetSpellAbilityId()=='A2VG' then
		if((LoadInteger(HY,(GetHandleId((GetTriggerUnit()))),((4255))))==1)==false and GetSpellTargetDestructable()!=null then
			call Func0707()
		elseif GetSpellTargetUnit()!=null then
			call UnitAddItemById(GetSpellTargetUnit(),'I0Q6')
		endif
	endif
endfunction

function Func0709 takes integer id,real x,real y returns nothing
	if IsPointInRegion(region008,x,y)==false then
		set integer402=integer402+1
		set players006[integer402]=Player(id)
		set reals013[integer402]=x
		set reals014[integer402]=y
		set reals015[integer402]=GetTime()
	endif
endfunction

function Func0710 takes integer id,real x,real y returns integer
	local real time=GetTime()
	local integer i=0
	local integer Count=0
	if IsPointInRegion(region008,x,y) then
		return Count
	endif
	loop
		exitwhen i>integer402
		if(time<reals015[i]+real201)and(Func0141(x,y,reals013[i],reals014[i])<real202*2+50)and IsPlayerAlly(Player(id),players006[i]) then
			set Count=Count+1
		endif
		set i=i+1
	endloop
	return Count
endfunction

function Func0711 takes integer MLI returns integer
	if MLI==GetPlayerId(Sentinels[1])then
		return 'h0BI'
	elseif MLI==GetPlayerId(Sentinels[2])then
		return 'h0BK'
	elseif MLI==GetPlayerId(Sentinels[3])then
		return 'h0BG'
	elseif MLI==GetPlayerId(Sentinels[4])then
		return 'h0BF'
	elseif MLI==GetPlayerId(Sentinels[5])then
		return 'h0BL'
	elseif MLI==GetPlayerId(Scourges[1])then
		return 'h0BH'
	elseif MLI==GetPlayerId(Scourges[2])then
		return 'h0BJ'
	elseif MLI==GetPlayerId(Scourges[3])then
		return 'h0BM'
	elseif MLI==GetPlayerId(Scourges[4])then
		return 'h0A5'
	elseif MLI==GetPlayerId(Scourges[5])then
		return 'h0BN'
	endif
	return 'h0BN'
endfunction

function Func0712 takes integer MLI returns integer
	return 'h0AX'
endfunction

function Func0713 takes integer MLI returns string
	if MLI==GetPlayerId(Sentinels[1])then
		return"war3mapImported\\TeleportTarget_Blue.mdx"
	elseif MLI==GetPlayerId(Sentinels[2])then
		return"war3mapImported\\TeleportTarget_Teal.mdx"
	elseif MLI==GetPlayerId(Sentinels[3])then
		return"war3mapImported\\TeleportTarget_Purple.mdx"
	elseif MLI==GetPlayerId(Sentinels[4])then
		return"war3mapImported\\TeleportTarget_Yellow.mdx"
	elseif MLI==GetPlayerId(Sentinels[5])then
		return"war3mapImported\\TeleportTarget_Orange.mdx"
	elseif MLI==GetPlayerId(Scourges[1])then
		return"war3mapImported\\TeleportTarget_Pink.mdx"
	elseif MLI==GetPlayerId(Scourges[2])then
		return"war3mapImported\\TeleportTarget_Gray.mdx"
	elseif MLI==GetPlayerId(Scourges[3])then
		return"war3mapImported\\TeleportTarget_LightBlue.mdx"
	elseif MLI==GetPlayerId(Scourges[4])then
		return"war3mapImported\\TeleportTarget_DarkGreen.mdx"
	elseif MLI==GetPlayerId(Scourges[5])then
		return"war3mapImported\\TeleportTarget_Brown.mdx"
	endif
	return"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl"
endfunction

function Func0714 takes integer MLI returns string
	return"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl"
endfunction

function Func0715 takes nothing returns boolean
	local real d
	if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0 and GetUnitAbilityLevel(GetFilterUnit(),'Asud')==0 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(tt_unit2)) and GetUnitTypeId(GetFilterUnit())!='u00S' and GetUnitTypeId(GetFilterUnit())!='ncop' and GetUnitTypeId(GetFilterUnit())!='emow' and GetUnitTypeId(GetFilterUnit())!='uzig' and IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false then
		set d=Func0141(real010,real011,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
		if d<real009 then
			set real009=d
			set tt_unit1=GetFilterUnit()
		endif
	endif
	return false
endfunction

function Func0716 takes unit SWI,real x,real y returns unit
	local group g=GetAvailableGroup()
	set tt_unit1=null
	set tt_unit2=SWI
	set real009=99999
	set real010=x
	set real011=y
	call GroupEnumUnitsInRange(g,x,y,99999,Condition(function Func0715))
	call KillGroup(g)
	set g=null
	return tt_unit1
endfunction

function Func0717 takes unit u returns boolean
	local integer id=GetUnitTypeId(u)
	return id=='n0FH' or id=='n0F6' or id=='n0FI' or id=='n0FJ'
endfunction

function Func0718 takes unit u returns boolean
	local integer id=GetUnitTypeId(u)
	return id=='u00R' or id=='umtw' or id=='e026' or id=='ebal'
endfunction

function Func0719 takes nothing returns boolean
	local real d
	if(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 or Func0718(GetFilterUnit())or GetUnitTypeId(GetFilterUnit())=='nfoh' or GetUnitTypeId(GetFilterUnit())=='ndfl' or Func0717(GetFilterUnit()))and IsDead(GetFilterUnit())==false and GetUnitAbilityLevel(GetFilterUnit(),'Asud')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(tt_unit2)) and GetOwningPlayer(GetFilterUnit())!=Player15 and IsUnitIllusion(GetFilterUnit())==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false and GetUnitTypeId(GetFilterUnit())!='n0F5' then
		set d=Func0141(real010,real011,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
		if d<real009 then
			set real009=d
			set tt_unit1=GetFilterUnit()
		endif
	endif
	return false
endfunction

function Func0720 takes nothing returns boolean
	local real d
	if(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 or Func0718(GetFilterUnit())or GetUnitTypeId(GetFilterUnit())=='nfoh' or GetUnitTypeId(GetFilterUnit())=='ndfl' or Func0717(GetFilterUnit()))and IsDead(GetFilterUnit())==false and GetUnitAbilityLevel(GetFilterUnit(),'Asud')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(tt_unit2)) and GetOwningPlayer(GetFilterUnit())!=Player15 and IsUnitIllusion(GetFilterUnit())==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false and GetUnitTypeId(GetFilterUnit())!='n0F5' then
		set d=Func0141(real010,real011,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
		if d<real009 and d<325 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE) then
			set real009=d
			set tt_unit1=GetFilterUnit()
		endif
	endif
	return false
endfunction

function Func0721 takes unit SWI,real x,real y returns unit
	local group g=GetAvailableGroup()
	set tt_unit1=null
	set tt_unit2=SWI
	set real009=99999
	set real010=x
	set real011=y
	call GroupEnumUnitsInRange(g,x,y,99999,Condition(function Func0720))
	if tt_unit1==null then
		call GroupEnumUnitsInRange(g,x,y,99999,Condition(function Func0719))
	endif
	call KillGroup(g)
	set g=null
	return tt_unit1
endfunction

function Func0722 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local unit XPO=(LoadUnitHandle(HY,(h),(448)))
	local unit XQO=(LoadUnitHandle(HY,(h),(447)))
	local ubersplat AR1=(LoadUbersplatHandle(HY,(h),(131)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local real DC1=(LoadReal(HY,(h),(57)))
	local real time=(LoadReal(HY,(h),(442)))
	local integer id=GetPlayerId(GetOwningPlayer(Hero))
	local boolean XUO=false
	local integer i=0
	local integer EY1
	if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
		if GetSpellAbilityId()=='A1R5' then
			set XUO=true
		endif
	else
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
		if Count==1 then
			if DC1>3 then
				call SetUnitAnimationByIndex(XPO,1)
				call SetUnitAnimationByIndex(XQO,1)
			endif
		elseif Count==2 then
			set XUO=true
		else
		endif
	endif
	if XUO then
		call SaveInteger(HY,(GetHandleId((Hero))),((4256)),(2))
		call KillUnit(XPO)
		call KillUnit(XQO)
		call DestroyUbersplat(AR1)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if Count==2 then
			call DestroyEffect(AddSpecialEffect(Func0714(id),GetUnitX(Hero),GetUnitY(Hero)))
			call DestroyEffect(AddSpecialEffect(Func0713(id),x,y))
			call SetUnitX(Hero,x)
			call SetUnitY(Hero,y)
			call PauseUnit(Hero,true)
			call PauseUnit(Hero,false)
			call KillTrees(x,y,240)
			set tt_unit1=Hero
			call ExecuteFunc("Func3901")
		endif
	endif
	set t=null
	set Hero=null
	set XPO=null
	set XQO=null
	set AR1=null
	return false
endfunction

function Func0723 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local unit XPO=(LoadUnitHandle(HY,(h),(448)))
	local unit XQO=(LoadUnitHandle(HY,(h),(447)))
	local ubersplat AR1=(LoadUbersplatHandle(HY,(h),(131)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local real DC1=(LoadReal(HY,(h),(57)))
	local real time=(LoadReal(HY,(h),(442)))
	local integer id=GetPlayerId(GetOwningPlayer(Hero))
	local boolean XUO=false
	local integer i=0
	local integer EY1
	if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
		if GetSpellAbilityId()=='A231' then
			call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
			call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
			call DestroyEffect((LoadEffectHandle(HY,(h),(177))))
			call SaveInteger(HY,(GetHandleId((Hero))),((4256)),(2))
			call KillUnit(XPO)
			call KillUnit(XQO)
			call DestroyUbersplat(AR1)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call UnitRemoveType(target,UNIT_TYPE_PEON)
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_DEATH then
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(177))))
		call UnitRemoveType(target,UNIT_TYPE_PEON)
		call SaveInteger(HY,(GetHandleId((Hero))),((4256)),(2))
		call KillUnit(XPO)
		call KillUnit(XQO)
		call DestroyUbersplat(AR1)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(177))))
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(Hero),GetUnitY(Hero)))
		call SaveInteger(HY,(GetHandleId((Hero))),((4256)),(2))
		call KillUnit(XPO)
		call KillUnit(XQO)
		call DestroyUbersplat(AR1)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitRemoveType(target,UNIT_TYPE_PEON)
		call KillTrees(GetUnitX(target)-1,GetUnitY(target)-1,240)
		call SetUnitX(Hero,GetUnitX(target)-1)
		call SetUnitY(Hero,GetUnitY(target)-1)
		call PauseUnit(Hero,true)
		call PauseUnit(Hero,false)
		set tt_unit1=Hero
		call ExecuteFunc("Func3901")
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(Hero),GetUnitY(Hero)))
	endif
	set t=null
	set Hero=null
	set XPO=null
	set XQO=null
	set AR1=null
	set target=null
	return false
endfunction

function Func0724 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local location l
	local real x
	local real y
	local real a
	local trigger t
	local integer h
	local unit XPO
	local unit XQO
	local ubersplat AR1
	local integer id=GetPlayerId(GetOwningPlayer(Hero))
	local integer Count
	local real YOO
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SaveInteger(HY,(GetHandleId((Hero))),((4256)),(1))
	if target==null then
		set l=GetSpellTargetLoc()
		set x=GetLocationX(l)
		set y=GetLocationY(l)
		if x==reals011[id]and y==reals012[id]then
			if IsSentinel(GetOwningPlayer(Hero))then
				set x=GetUnitX(unit130)
				set y=GetUnitY(unit130)
			else
				set x=GetUnitX(unit174)
				set y=GetUnitY(unit174)
			endif
		endif
		set target=Func0716(Hero,x,y)
		call RemoveLocation(l)
	else
		set x=GetUnitX(target)
		set y=GetUnitY(target)
	endif
	if Func0141(x,y,GetUnitX(target),GetUnitY(target))>real202 then
		set a=Atan2(y-GetUnitY(target),x-GetUnitX(target))
		set x=GetUnitX(target)+real202*Cos(a)
		set y=GetUnitY(target)+real202*Sin(a)
	elseif Func0141(x,y,GetUnitX(target),GetUnitY(target))<50 then
		set a=Atan2(y-GetUnitY(target),x-GetUnitX(target))
		set x=GetUnitX(target)+120*Cos(a)
		set y=GetUnitY(target)+120*Sin(a)
	endif
	if IsPointInRegion(region006,x,y) then
		set a=Atan2(y-GetUnitY(target),x-GetUnitX(target))
		set x=GetUnitX(target)+200*Cos(a)
		set y=GetUnitY(target)+200*Sin(a)
	endif
	set x=SafeX50(x)
	set y=SafeY50(y)
	if(IsUnitAlly(Hero,LocalPlayer)and LocalPlayer!=GetOwningPlayer(Hero))or(isObserversMode and(LocalPlayer==Observer1 or LocalPlayer==Observer2))then
		call PingMinimapEx(x,y,3,255,255,255,false)
	endif
	set XQO=CreateUnit(GetOwningPlayer(Hero),Func0711(id),x,y,0)
	set XPO=CreateUnit(GetOwningPlayer(Hero),Func0712(id),GetUnitX(Hero),GetUnitY(Hero),0)
	set AR1=CreateUbersplat(GetUnitX(Hero),GetUnitY(Hero),"SCTP",255,255,255,255,false,false)
	if IsUnitVisible(Hero,LocalPlayer) then
		call SetUbersplatRenderAlways(AR1,true)
	else
		call SetUbersplatRenderAlways(AR1,false)
	endif
	set Count=Func0710(GetPlayerId(GetOwningPlayer(Hero)),x,y)
	set YOO=3
	if Count>0 then
		set YOO=4.5+0.5*Count
	endif
	call Func0709(GetPlayerId(GetOwningPlayer(Hero)),x,y)
	if Count>0 then
		call SetUnitAnimationByIndex(XPO,2)
		call SetUnitAnimationByIndex(XQO,2)
	endif
	call TriggerRegisterTimerEvent(t,YOO-3,false)
	call TriggerRegisterTimerEvent(t,YOO,false)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_SPELL_ENDCAST)
	call TriggerAddCondition(t,Condition(function Func0722))
	call TimedReveal(GetOwningPlayer(Hero),YOO,x,y,200)
	call SaveUnitHandle(HY,(h),(447),(XQO))
	call SaveUnitHandle(HY,(h),(448),(XPO))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveReal(HY,(h),(442),((GetTime())*1.0))
	call SaveReal(HY,(h),(57),((YOO)*1.0))
	call SaveUbersplatHandle(HY,(h),(131),(AR1))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveInteger(HY,(h),(34),(0))
	call Func0214(Hero,sound063,x,y,2400)
	set Hero=null
	set target=null
	set XPO=null
	set XQO=null
	set l=null
	set t=null
	set AR1=null
endfunction

function Func0725 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local location l
	local real x
	local real y
	local real a
	local trigger t
	local integer h
	local unit XPO
	local unit XQO
	local ubersplat AR1
	local integer id=GetPlayerId(GetOwningPlayer(Hero))
	local integer Count
	local real YOO
	set t=CreateTrigger()
	set h=GetHandleId(t)
	if target==null then
		set l=GetSpellTargetLoc()
		set x=GetLocationX(l)
		set y=GetLocationY(l)
		if x==reals011[id]and y==reals012[id]then
			if IsSentinel(GetOwningPlayer(Hero))then
				set x=GetUnitX(unit130)
				set y=GetUnitY(unit130)
			else
				set x=GetUnitX(unit174)
				set y=GetUnitY(unit174)
			endif
		endif
		set target=Func0721(Hero,x,y)
		call RemoveLocation(l)
	endif
	call SaveInteger(HY,(GetHandleId((Hero))),((4256)),(1))
	set x=GetUnitX(target)
	set y=GetUnitY(target)
	if(IsUnitAlly(Hero,LocalPlayer)and LocalPlayer!=GetOwningPlayer(Hero))or(isObserversMode and(LocalPlayer==Observer1 or LocalPlayer==Observer2))then
		call PingMinimapEx(x,y,3,255,255,255,false)
	endif
	set AR1=CreateUbersplat(GetUnitX(Hero),GetUnitY(Hero),"SCTP",255,255,255,255,false,false)
	if IsUnitVisible(Hero,LocalPlayer) then
		call SetUbersplatRenderAlways(AR1,true)
	else
		call SetUbersplatRenderAlways(AR1,false)
	endif
	set YOO=3
	call UnitAddType(target,UNIT_TYPE_PEON)
	call TriggerRegisterTimerEvent(t,YOO,false)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_SPELL_ENDCAST)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func0723))
	call TimedReveal(GetOwningPlayer(Hero),YOO,x,y,200)
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveReal(HY,(h),(442),((GetTime())*1.0))
	call SaveReal(HY,(h),(57),((YOO)*1.0))
	call SaveUbersplatHandle(HY,(h),(131),(AR1))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(34),(0))
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",Hero,"origin")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",Hero,"origin")))
	call SaveEffectHandle(HY,(h),(177),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",target,"origin")))
	call Func0214(Hero,sound063,x,y,2400)
	set Hero=null
	set target=null
	set XPO=null
	set XQO=null
	set l=null
	set t=null
	set AR1=null
endfunction

function Func0726 takes nothing returns nothing
	if GetSpellAbilityId()=='A1R5' and Func0089(GetTriggerUnit())==false then
		call Func0724()
	endif
	if GetSpellAbilityId()=='A231' then
		call Func0725()
	endif
endfunction

function Func0727 takes nothing returns nothing
	if integer403==(LoadInteger(HY,(GetHandleId(GetEnumUnit())),(784)))then
		call KillUnit(GetEnumUnit())
	endif
endfunction

function Func0728 takes unit u returns boolean
	local integer i=GetUnitTypeId(u)
	return i=='n00H' or i=='n00G' or i=='n00K' or i=='n00J' or i=='n00A' or i=='n006'
endfunction

function Func0729 takes nothing returns boolean
	return Func0728(GetFilterUnit())
endfunction

function Func0730 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit Y8O
	local unit Y9O
	local integer YAO
	local integer YBO
	local group g=GetAvailableGroup()
	local real a=GetUnitFacing(source)*bj_DEGTORAD
	local real x1=GetUnitX(source)+50*Cos(a)
	local real y1=GetUnitY(source)+50*Sin(a)
	local real x2=GetUnitX(source)+50*Cos(a)
	local real y2=GetUnitY(source)+50*Sin(a)
	if GetSpellAbilityId()=='A0HB' then
		set YAO='n00H'
		set YBO='n00J'
	elseif GetSpellAbilityId()=='A0D3' then
		set YAO='n00G'
		set YBO='n00A'
	elseif GetSpellAbilityId()=='A0DF' then
		set YAO='n00K'
		set YBO='n006'
	endif
	set integer403=GetUnitTypeId(source)
	call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(GetTriggerUnit()),Condition(function Func0729))
	call ForGroup(g,function Func0727)
	call KillGroup(g)
	set Y8O=CreateUnit(GetOwningPlayer(source),YAO,x1,y1,GetUnitFacing(source))
	call SaveInteger(HY,(GetHandleId(Y8O)),(784),(integer403))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",Y8O,"origin"))
	call UnitApplyTimedLife(Y8O,'BTLF',40)
	set Y9O=CreateUnit(GetOwningPlayer(source),YBO,x2,y2,GetUnitFacing(source))
	call SaveInteger(HY,(GetHandleId(Y9O)),(784),(integer403))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",Y9O,"origin"))
	call UnitApplyTimedLife(Y9O,'BTLF',40)
	set g=null
	set Y8O=null
	set Y9O=null
	set source=null
endfunction

function Func0731 takes nothing returns nothing
	if GetSpellAbilityId()=='A0HB' or GetSpellAbilityId()=='A0D3' or GetSpellAbilityId()=='A0DF' then
		call Func0730()
	endif
endfunction

function Func0732 takes nothing returns nothing
	if GetSpellAbilityId()=='A1FP' then
		call Func0152("Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl",GetTriggerUnit(),"origin",3.5)
		call Func0225(GetTriggerUnit(),'A1CN',1,3.5)
	endif
endfunction

function Func0733 takes nothing returns boolean
	return((LoadInteger(HY,(GetHandleId((GetFilterUnit()))),((4323))))==1)
endfunction

function Func0734 takes nothing returns nothing
	local group g
	local unit u
	if GetSpellAbilityId()=='A2V4' and Func0728(GetSpellTargetUnit())==false then
		set g=GetAvailableGroup()
		call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(GetTriggerUnit()),Condition(function Func0733))
		set u=FirstOfGroup(g)
		call KillGroup(g)
		if u!=null then
			call KillUnit(u)
		endif
		call SetUnitOwner(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()),true)
		call SaveInteger(HY,(GetHandleId((GetSpellTargetUnit()))),((4323)),(1))
		call UnitAddAbility(GetSpellTargetUnit(),'Aeth')
		call UnitAddAbility(GetSpellTargetUnit(),'ACrk')
		call UnitAddAbilityPermanent(GetSpellTargetUnit(),'A2YD')
		call Func0142(GetSpellTargetUnit())
	endif
endfunction

function Func0735 takes integer i returns integer
	if i==integer404 then
		return integer411
	endif
	if i==integer405 then
		return integer412
	endif
	if i==integer406 then
		return integer413
	endif
	if i==integer407 then
		return integer414
	endif
	if i==integer408 then
		return integer415
	endif
	if i==integer409 then
		return integer416
	endif
	if i==integer410 then
		return integer417
	endif
	return 0
endfunction

function Func0736 takes integer i returns integer
	if i==integer404 then
		return 10
	endif
	if i==integer405 then
		return 9
	endif
	if i==integer406 then
		return 8
	endif
	if i==integer407 then
		return 7
	endif
	if i==integer408 then
		return 6
	endif
	if i==integer409 then
		return 5
	endif
	if i==integer410 then
		return 4
	endif
	return 0
endfunction

function Func0737 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	if IsDead(Hero)==false and Hero!=null then
		call SetUnitScale(Hero,GetUnitDefaultScale(Hero)*real258,GetUnitDefaultScale(Hero)*real258,GetUnitDefaultScale(Hero)*real258)
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	return false
endfunction

function Func0738 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e00E',GetUnitX(Hero),GetUnitY(Hero),0)
	local trigger t=CreateTrigger()
	local real DC1=Func0736(GetSpellAbilityId())
	call Func0191(Hero,integer418,DC1)
	call UnitMakeAbilityPermanent(Hero,true,integer418)
	call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),integer418,false)
	call UnitAddAbility(caster,Func0735(GetSpellAbilityId()))
	call IssueTargetOrder(caster,"antimagicshell",Hero)
	call SetNapalmFactory(Hero,0,0)
	call UnitRemoveAbility(Hero,'BHtc')
	call UnitRemoveAbility(Hero,'B02U')
	if Func0089(Hero)then
		call Func0189(Hero,DC1,3)
	else
		call Func0189(Hero,DC1,1.4)
	endif
	call TriggerRegisterTimerEvent(t,DC1+7,false)
	call TriggerAddCondition(t,Condition(function Func0737))
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(Hero))
	set t=null
	set Hero=null
	set caster=null
endfunction

function Func0739 takes nothing returns nothing
	if Func0735(GetSpellAbilityId())>0 then
		call Func0738()
	endif
endfunction

function Func0740 takes nothing returns nothing
	if((LoadInteger(HY,(GetHandleId((GetEnumUnit()))),((4258))))==1) then
		call Error(GetOwningPlayer(GetEnumUnit()),GetObjectName('n02M')+" "+GetUnitName(GetEnumUnit())+" "+GetObjectName('n02S'))
	else
		if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) then
			call AddTimedKeyToUnit(GetEnumUnit(),4258,25)
		endif
		call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+250)
	endif
endfunction

function Func0741 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local group g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),775,Condition(function Func0294))
	call ForGroup(g,function Func0740)
	call KillGroup(g)
	set source=null
	set g=null
endfunction

function Func0742 takes nothing returns nothing
	if GetSpellAbilityId()=='A0CK' then
		call Func0741()
	endif
endfunction

function Func0743 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call UnitRemoveAbility(source,'A31A')
	call UnitRemoveAbility(source,'A2YJ')
	call UnitRemoveAbility(source,'A2YH')
	call CleanTrigger(t)
	call FlushChildHashtable(HY,(h))
	set t=null
	set source=null
	return false
endfunction

function Func0744 takes nothing returns nothing
	local trigger t
	local integer h
	if((LoadInteger(HY,(GetHandleId((GetEnumUnit()))),((4346))))==1) then
		call Error(GetOwningPlayer(GetEnumUnit()),GetObjectName('n0NQ')+" "+GetUnitName(GetEnumUnit()))
	else
		if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) then
			call AddTimedKeyToUnit(GetEnumUnit(),4346,70)
		endif
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call UnitAddAbilityPermanent(GetEnumUnit(),'A31A')
		call UnitAddAbilityPermanent(GetEnumUnit(),'A2YJ')
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A31A',false)
		call UnitAddAbilityPermanent(GetEnumUnit(),'A2YH')
		call TriggerRegisterTimerEvent(t,10,false)
		call TriggerRegisterDeathEvent(t,GetEnumUnit())
		call TriggerAddCondition(t,Condition(function Func0743))
		call SaveUnitHandle(HY,(h),(2),(GetEnumUnit()))
		set t=null
	endif
endfunction

function Func0745 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local group g=GetAvailableGroup()
	call PlaySoundOnUnitBJ(sound079,100,source)
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),775,Condition(function Func0294))
	call ForGroup(g,function Func0744)
	call KillGroup(g)
	set source=null
	set g=null
endfunction

function Func0746 takes nothing returns nothing
	if GetSpellAbilityId()=='A2YG' then
		call Func0745()
	endif
endfunction

function Func0747 takes nothing returns nothing
	if((LoadInteger(HY,(GetHandleId((GetEnumUnit()))),((4278))))==1) then
		call Error(GetOwningPlayer(GetEnumUnit()),GetObjectName('n02M'))
	else
		if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) then
			call AddTimedKeyToUnit(GetEnumUnit(),4278,50)
		endif
		if GetUnitAbilityLevel(GetEnumUnit(),'B0BT')==0 and GetUnitAbilityLevel(GetEnumUnit(),'B0BU')==0 then
			call IssueTargetOrder(unit249,"antimagicshell",GetEnumUnit())
		endif
	endif
endfunction

function Func0748 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local group g=GetAvailableGroup()
	set unit249=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
	call UnitAddAbility(unit249,'A1EV')
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),925,Condition(function Func0297))
	call ForGroup(g,function Func0747)
	call KillGroup(g)
	set source=null
	set g=null
endfunction

function Func0749 takes nothing returns nothing
	if GetSpellAbilityId()=='A1EW' then
		call Func0748()
	endif
endfunction

function Func0750 takes nothing returns nothing
	if GetSpellAbilityId()=='A02W' then
		call UnitResetCooldown(GetTriggerUnit())
	endif
endfunction

function Func0751 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local real dmg=(LoadReal(HY,(h),(20)))
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or GetUnitAbilityLevel(GetTriggerUnit(),'B031')==0 then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		set boolean156=true
		call DamageTarget(source,target,1,dmg)
		set boolean156=false
		if dmg>0 then
			call Func0163("+"+I2S(R2I(dmg)),1,target,0.023,255,0,0,216)
		endif
	elseif GetEventDamage()>1 then
		call SaveReal(HY,(h),(20),((dmg+GetEventDamage()*0.3)*1.0))
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func0752 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Silence\\SilenceTarget.mdl",target,"overhead")))
	call SaveReal(HY,(h),(20),((0)*1.0))
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,5,false)
	call TriggerAddCondition(t,Condition(function Func0751))
	set t=null
	return false
endfunction

function Func0753 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func0752))
	call SaveUnitHandle(HY,(h),(17),(GetSpellTargetUnit()))
	call SaveUnitHandle(HY,(h),(2),(GetTriggerUnit()))
	set t=null
endfunction

function Func0754 takes nothing returns nothing
	if GetSpellAbilityId()=='A0FD' and IsBlocked(GetSpellTargetUnit())==false then
		call Func0753()
	endif
endfunction

function Func0755 takes unit u,real d returns boolean
	if IsUnitType(u,UNIT_TYPE_HERO)or GetUnitAbilityLevel(u,'A04R')>0 then
		return d>5
	endif
	return true
endfunction

function Func0756 takes nothing returns nothing
	local unit caster
	if integer419>0 then
		set integer419=integer419-1
		set caster=CreateUnit(GetOwningPlayer(unit250),'e00E',GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
		call UnitAddAbility(caster,'A0K6')
		call IssueTargetOrder(caster,"forkedlightning",GetEnumUnit())
	endif
	set caster=null
endfunction

function Func0757 takes nothing returns nothing
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit caster
	local unit source
	local group g
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call AddTimedKeyToUnit(GetTriggerUnit(),4257,1)
		set source=(LoadUnitHandle(HY,(h),(2)))
		set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
		call UnitAddAbility(caster,'A0K6')
		set unit250=source
		set tt_unit1=source
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),925,Condition(function DefaultEnemyFilterWithAncients))
		set integer419=5
		if Func0139(GetTriggerUnit(),GetEventDamageSource())<900 then
			set integer419=integer419-1
			call IssueTargetOrder(caster,"forkedlightning",GetEventDamageSource())
		endif
		call GroupRemoveUnit(g,GetEventDamageSource())
		call ForGroup(g,function Func0756)
		call KillGroup(g)
	endif
	set t=null
	set g=null
	set caster=null
	set source=null
endfunction

function Func0758 takes nothing returns boolean
	if(GetTriggerEventId()==EVENT_UNIT_DAMAGED and Func0755(GetEventDamageSource(),GetEventDamage())and GetRandomInt(1,100)<21 and((LoadInteger(HY,(GetHandleId((GetTriggerUnit()))),((4257))))==1)==false)or GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		call Func0757()
	endif
	return false
endfunction

function Func0759 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	if target==null then
		set target=source
	endif
	call AddTimedKeyToUnit(target,4279,15)
	call TriggerRegisterTimerEvent(t,15,false)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func0758))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl",target,"origin")))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
	set target=null
endfunction

function Func0760 takes nothing returns nothing
	if GetSpellAbilityId()=='A0JL' and((LoadInteger(HY,(GetHandleId((GetSpellTargetUnit()))),((4279))))==1)==false then
		call Func0759()
	endif
endfunction

function Func0761 takes nothing returns nothing
	local unit J7O=GetTriggerUnit()
	local item X5O=Func0155(J7O,integers089[integer297])
	if X5O==null then
		set X5O=Func0155(J7O,integers091[integer297])
	endif
	if X5O!=null then
		call Func0339(X5O)
		call UnitRemoveAbility(J7O,'A0VR')
		call UnitAddAbility(J7O,'A0VU')
		call SetUnitState(J7O,UNIT_STATE_MANA,400)
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",J7O,"origin"))
	else
		call Error(GetOwningPlayer(J7O),GetObjectName('n02Q'))
	endif
	set J7O=null
endfunction

function Func0762 takes nothing returns nothing
	if GetSpellAbilityId()=='A0VR' then
		call Func0761()
	endif
endfunction

function Func0763 takes nothing returns nothing
	local unit target=GetEnumUnit()
	local group JAO=group004
	local unit source=unit251
	if IsUnitInGroup(target,JAO)==false then
		call GroupAddUnit(JAO,target)
		call IssueTargetOrder(unit252,"slow",target)
		set boolean156=true
		call DamageTarget(source,target,1,200)
		set boolean156=false
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl",target,"origin"))
	endif
	set target=null
	set JAO=null
	set source=null
endfunction

function Func0764 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local group JAO=(LoadGroupHandle(HY,(h),(133)))
	local real d
	local real x
	local real x0=GetUnitX(source)
	local real y
	local real y0=GetUnitY(source)
	local group g=GetAvailableGroup()
	local integer Count=GetTriggerEvalCount(t)
	local integer i
	call SetUnitX(caster,GetUnitX(source))
	call SetUnitY(caster,GetUnitY(source))
	set group004=JAO
	set unit251=source
	set unit252=(LoadUnitHandle(HY,(h),(132)))
	if GetTriggerEvalCount(t)>37 then
		call KillUnit(caster)
		call KillGroup(JAO)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set d=Count*21
		set i=0
		loop
			exitwhen i>36
			set x=x0+d*Cos(360*i/36*bj_DEGTORAD)
			set y=y0+d*Sin(360*i/36*bj_DEGTORAD)
			set tt_unit1=source
			call GroupEnumUnitsInRange(g,x,y,150,Condition(function Func0274))
			call ForGroup(g,function Func0763)
			set i=i+1
		endloop
	endif
	call KillGroup(g)
	set t=null
	set caster=null
	set JAO=null
	set source=null
	set g=null
	return false
endfunction

function Func0765 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local real x=GetUnitX(Hero)
	local real y=GetUnitY(Hero)
	local group JAO=GetAvailableGroup()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'h091',x,y,0)
	local unit JDO=CreateUnit(GetOwningPlayer(Hero),'e00E',GetUnitX(Hero),GetUnitY(Hero),0)
	call UnitAddAbility(JDO,'A0T0')
	call SaveGroupHandle(HY,(h),(133),(JAO))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveUnitHandle(HY,(h),(132),(JDO))
	call SaveUnitHandle(HY,(h),(2),(Hero))
	call TriggerRegisterTimerEvent(t,0.06,true)
	call TriggerAddCondition(t,Condition(function Func0764))
	set t=null
	set JAO=null
	set caster=null
	set JDO=null
	set Hero=null
endfunction

function Func0766 takes nothing returns nothing
	if GetSpellAbilityId()=='A0T9' then
		call Func0765()
	endif
endfunction

function Func0767 takes unit source,integer JGO returns nothing
	local integer h=GetHandleId(source)
	call SaveInteger(HY,(h),(750),(JGO))
endfunction

function Func0768 takes nothing returns nothing
	local integer i=0
	local integer EY1=0
	local boolean JZO=false
	if GetSpellAbilityId()=='A0JY' then
		loop
			exitwhen i>5
			if Func0346(UnitItemInSlot(GetTriggerUnit(),i))==integer125 or Func0346(UnitItemInSlot(GetTriggerUnit(),i))==integer245 then
				set EY1=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),i))
				if EY1>0 then
					call SetItemCharges(UnitItemInSlot(GetTriggerUnit(),i),0)
					call Func0767(GetTriggerUnit(),0)
					if JZO==false then
						set JZO=true
						call SetUnitState(GetTriggerUnit(),UNIT_STATE_MANA,GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA)+15*EY1)
						call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+15*EY1)
						call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl",GetTriggerUnit(),"origin"))
					endif
				endif
				return
			endif
			set i=i+1
		endloop
	endif
endfunction

function Func0769 takes integer id returns boolean
	local integer i=1
	loop
		exitwhen i>integer048
		if id==integers078[i]then
			return false
		endif
		set i=i+1
	endloop
	return true
endfunction

function Func0770 takes unit JXO,unit source returns nothing
	if IsUnitVisible(JXO,GetOwningPlayer(source))==false and GetRandomInt(1,100)<10 then
		call PlaySoundOnUnitBJ(sound054,100,source)
	endif
endfunction

function Func0771 takes nothing returns nothing
	local unit Hero=GetEnumUnit()
	local integer i=0
	loop
		exitwhen i>5
		if IsUnitVisible(GetTriggerUnit(),GetOwningPlayer(GetEnumUnit())) then
			if Func0346(UnitItemInSlot(Hero,i))==integer125 or Func0346(UnitItemInSlot(Hero,i))==integer245 then
				if Func0346(UnitItemInSlot(Hero,i))==integer245 then
					if GetItemCharges(UnitItemInSlot(Hero,i))==17 then
						call Func0770(GetTriggerUnit(),Hero)
					endif
					call Func0767(Hero,Func0130(GetItemCharges(UnitItemInSlot(Hero,i))+1,17))
					call SetItemCharges(UnitItemInSlot(Hero,i),Func0130(GetItemCharges(UnitItemInSlot(Hero,i))+1,17))
				else
					if GetItemCharges(UnitItemInSlot(Hero,i))==10 then
						call Func0770(GetTriggerUnit(),Hero)
					endif
					call Func0767(Hero,Func0130(GetItemCharges(UnitItemInSlot(Hero,i))+1,10))
					call SetItemCharges(UnitItemInSlot(Hero,i),Func0130(GetItemCharges(UnitItemInSlot(Hero,i))+1,10))
				endif
				call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",Hero,"chest"))
				set i=5
			endif
		endif
		set i=i+1
	endloop
	set Hero=null
endfunction

function Func0772 takes nothing returns nothing
	local group g=GetAvailableGroup()
	local unit source=GetTriggerUnit()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	call GroupEnumUnitsInRange(g,x,y,1225,Condition(function Func0300))
	call ForGroup(g,function Func0771)
	call KillGroup(g)
	set g=null
	set source=null
endfunction

function Func0773 takes nothing returns nothing
	if Func0769(GetSpellAbilityId()) and Func0073(GetSpellAbilityId()) and GetUnitAbilityLevel(GetTriggerUnit(),'A04R')==0 and Func0409(GetSpellAbilityId())==false then
		call Func0772()
	endif
endfunction

function Func0774 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit JMO=(LoadUnitHandle(HY,(h),(134)))
	if GetTriggerEventId()!=EVENT_UNIT_DEATH then
		call UnitRemoveAbility(JMO,'A17R')
		call UnitRemoveAbility(JMO,'A24F')
	endif
	call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set JMO=null
	return false
endfunction

function Func0775 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0.5 and IsUnitAlly(GetFilterUnit(),player013) and GetOwningPlayer(GetFilterUnit())!=Player15 and GetUnitTypeId(GetFilterUnit())!='ncop' and GetUnitTypeId(GetFilterUnit())!='n0FJ' and GetUnitTypeId(GetFilterUnit())!='n0FI' and GetUnitTypeId(GetFilterUnit())!='n0F6' and GetUnitTypeId(GetFilterUnit())!='n0FH'
endfunction

function Func0776 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit JMO=GetEnumUnit()
	local string s
	call UnitAddAbility(JMO,'A17R')
	call UnitAddAbility(JMO,'A24F')
	if IsSentinel(player013)then
		set s="effects\\GlyphSent.mdx"
	else
		set s="effects\\GlyphScourge.mdx"
	endif
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget(s,JMO,"origin")))
	call SaveUnitHandle(HY,(h),(134),(JMO))
	call TriggerRegisterUnitEvent(t,JMO,EVENT_UNIT_DEATH)
	call TriggerRegisterTimerEvent(t,real203,false)
	call TriggerAddCondition(t,Condition(function Func0774))
	set t=null
	set JMO=null
endfunction

function Func0777 takes unit JRO,player p returns nothing
	local integer i
	if IsSentinel(p)then
		set i=1
		if JRO!=CirclesOfPower[i]then
			call IssueImmediateOrder(CirclesOfPower[i],"coldarrows")
		endif
		set i=2
		if JRO!=CirclesOfPower[i]then
			call IssueImmediateOrder(CirclesOfPower[i],"coldarrows")
		endif
		set i=3
		if JRO!=CirclesOfPower[i]then
			call IssueImmediateOrder(CirclesOfPower[i],"coldarrows")
		endif
		set i=4
		if JRO!=CirclesOfPower[i]then
			call IssueImmediateOrder(CirclesOfPower[i],"coldarrows")
		endif
		set i=5
		if JRO!=CirclesOfPower[i]then
			call IssueImmediateOrder(CirclesOfPower[i],"coldarrows")
		endif
	else
		set i=7
		if JRO!=CirclesOfPower[i]then
			call IssueImmediateOrder(CirclesOfPower[i],"coldarrows")
		endif
		set i=8
		if JRO!=CirclesOfPower[i]then
			call IssueImmediateOrder(CirclesOfPower[i],"coldarrows")
		endif
		set i=9
		if JRO!=CirclesOfPower[i]then
			call IssueImmediateOrder(CirclesOfPower[i],"coldarrows")
		endif
		set i=10
		if JRO!=CirclesOfPower[i]then
			call IssueImmediateOrder(CirclesOfPower[i],"coldarrows")
		endif
		set i=11
		if JRO!=CirclesOfPower[i]then
			call IssueImmediateOrder(CirclesOfPower[i],"coldarrows")
		endif
	endif
endfunction

function Func0778 takes nothing returns nothing
	local group g
	local unit JRO=GetTriggerUnit()
	local player p=GetOwningPlayer(JRO)
	if(IsSentinel(p)and boolean070==false)or(IsSentinel(p)==false and boolean071==false)then
		set g=GetAvailableGroup()
		set player013=p
		call GroupEnumUnitsInRange(g,0,0,12000,Condition(function Func0775))
		call ForGroup(g,function Func0776)
		call KillGroup(g)
		if IsSentinel(p)then
			set boolean070=true
			call Func0777(JRO,p)
			set boolean070=false
		else
			set boolean071=true
			call Func0777(JRO,p)
			set boolean071=false
		endif
	endif
	set g=null
	set JRO=null
	set p=null
endfunction

function Func0779 takes nothing returns nothing
	if GetSpellAbilityId()=='A141' or GetSpellAbilityId()=='A1WI' then
		call Func0778()
	endif
endfunction

function Func0780 takes nothing returns nothing
	if GetSpellAbilityId()=='A12W' and GetUnitAbilityLevel(GetTriggerUnit(),'Bpsh')>0 then
		call UnitRemoveAbility(GetTriggerUnit(),'Bpsh')
	endif
endfunction

function Func0781 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		if Func0094(GetEventDamage())and IsUnitAlly(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==false and IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false and boolean072==false then
			if GetUnitAbilityLevel(GetEventDamageSource(),'A04R')==0 then
				call DisableTrigger(t)
				set boolean072=true
				call DamageTarget(GetTriggerUnit(),GetEventDamageSource(),3,GetEventDamage())
				set boolean072=false
				call EnableTrigger(t)
			endif
		endif
	endif
	set t=null
	return false
endfunction

function Func0782 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,4.5,false)
	call TriggerAddCondition(t,Condition(function Func0781))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpikeBarrier\\SpikeBarrier.mdl",source,"chest")))
	set t=null
	set source=null
endfunction

function Func0783 takes nothing returns nothing
	if GetSpellAbilityId()=='A15W' then
		call Func0782()
	endif
endfunction

function Func0784 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real a=(LoadReal(HY,(h),(137)))
	local real d=(LoadReal(HY,(h),(138)))
	local real x=SafeX50(GetUnitX(target)+d/10*Cos(a*bj_DEGTORAD))
	local real y=SafeY50(GetUnitY(target)+d/10*Sin(a*bj_DEGTORAD))
	if GetTriggerEvalCount(t)==11 or GetTriggerEventId()==EVENT_UNIT_DEATH or((LoadInteger(HY,(GetHandleId((target))),((4260))))==1) then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",x,y))
		if((LoadInteger(HY,(GetHandleId((target))),((4306))))==1)==false and((LoadInteger(HY,(GetHandleId((target))),((4324))))==1)==false and GetUnitAbilityLevel(target,'B08V')==0 and GetUnitAbilityLevel(target,'B0FG')==0 then
			call KillTrees(x,y,150)
			call SetUnitX(target,x)
			call SetUnitY(target,y)
		endif
	endif
	set target=null
	set t=null
	return false
endfunction

function Func0785 takes nothing returns nothing
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real x
	local real y
	local real d
	local real a
	local integer i=-1
	local boolean K3O=false
	if GetSpellTargetItem()!=null then
		set target=GetTriggerUnit()
	endif
	call AddTimedKeyToUnit(target,4414,3)
	set a=GetUnitFacing(target)
	loop
		exitwhen K3O or i==23
		set i=i+1
		set x=SafeX50(GetUnitX(target)+(600-i*25)*Cos(a*bj_DEGTORAD))
		set y=SafeY50(GetUnitY(target)+(600-i*25)*Sin(a*bj_DEGTORAD))
		if(IsPointInRegion(region006,((x)*1.0),((y)*1.0)))==false then
			set K3O=true
		endif
	endloop
	set d=Func0141(x,y,GetUnitX(target),GetUnitY(target))
	call TriggerRegisterTimerEvent(t,0.04,true)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func0784))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveReal(HY,(h),(138),((d)*1.0))
	set target=null
	set t=null
endfunction

function Func0786 takes nothing returns nothing
	if GetSpellAbilityId()=='A19M' and GetUnitTypeId(GetSpellTargetUnit())!='n00L' then
		if IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())) or(LoadBoolean(HY,(GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))),(139)))==false then
			call Func0785()
		endif
	endif
endfunction

function Func0787 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEvalCount(t)>30 or GetTriggerEventId()==EVENT_UNIT_DEATH then
		call UnitRemoveAbility(source,'A1QC')
		call UnitRemoveAbility(source,'B0CY')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set source=null
	set t=null
	return false
endfunction

function Func0788 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer DC1=(LoadInteger(HY,(h),(34)))
	if GetTriggerEvalCount(t)>DC1/0.1 or GetTriggerEventId()==EVENT_UNIT_DEATH or((LoadInteger(HY,(GetHandleId((source))),((4256))))==1)then
		call UnitRemoveAbility(source,'Aetl')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set source=null
	set t=null
	return false
endfunction

function Func0789 takes unit u,integer DC1 returns nothing
	local unit source=u
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call UnitAddAbility(source,'Aetl')
	call UnitMakeAbilityPermanent(source,true,'Aetl')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'Aetl',false)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func0788))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(34),(DC1))
	set source=null
	set t=null
endfunction

function EtherBlast_AddToEnemies takes nothing returns nothing
	call Func0789(GetEnumUnit(),3)
endfunction

function EtherBlast_DamageEnemies takes nothing returns nothing
	call DamageTarget(GetTriggerUnit(),GetEnumUnit(),1,real204)
endfunction

function Func0790 takes nothing returns nothing
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit source=tt_unit1
	local unit target=tt_unit2
	local real dmg=(LoadReal(HY,(h),(20)))
	local trigger t
	local integer DC1=3
	if source==target then
		set DC1=4
	endif
	if IsPlayerAlly(GetOwningPlayer(target),GetOwningPlayer(source)) and source!=target then
		call Func0789(target,4)
	elseif source!=target then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A1QC',false)
		call UnitAddAbility(target,'A1QC')
		call UnitMakeAbilityPermanent(target,true,'A1QC')
		call TriggerRegisterTimerEvent(t,0.1,true)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
		call TriggerAddCondition(t,Condition(function Func0787))
		call SaveUnitHandle(HY,(h),(2),(target))
		call Func0789(target,DC1)
		call Func0163("+"+I2S(R2I(dmg)),2,target,0.027,3,216,120,216)
		set boolean156=true
		call DamageTarget(source,target,1,dmg)
		set boolean156=false
	else
		call Func0789(source,DC1)
	endif
	set source=null
	set target=null
endfunction

function Func0791 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t2=AddProjectile(source,target,'h0BS',"Func0790",1000,false)
	local integer KAO=GetHandleId(t2)
	local integer KBO=GetUnitPrimaryAttribute(source)
	local real KCO
	if KBO==2 then
		set KCO=GetHeroAgi(source,true)
	elseif KBO==3 then
		set KCO=GetHeroStr(source,true)
	elseif KBO==1 then
		set KCO=GetHeroInt(source,true)
	endif
	call SaveReal(HY,(KAO),(20),((KCO*2.0+75)*1.0))
	set source=null
	set target=null
	set t2=null
endfunction

function Func0792 takes nothing returns nothing
	if GetSpellAbilityId()=='A1QD' and(IsPlayerAlly(GetOwningPlayer(GetSpellTargetUnit()),GetOwningPlayer(GetTriggerUnit())) or IsBlocked(GetSpellTargetUnit())==false)then
		call Func0791()
	endif
endfunction

function Func0793 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEvalCount(t)>40 or GetTriggerEventId()==EVENT_UNIT_DEATH or Func0091(source)or((LoadInteger(HY,(GetHandleId((source))),((4256))))==1)then
		call UnitRemoveAbility(source,'Aetl')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set source=null
	set t=null
	return false
endfunction

function Func0794 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t
	local integer h
	if Func0089(source)==false then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call UnitAddAbility(source,'Aetl')
		call UnitMakeAbilityPermanent(source,true,'Aetl')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'Aetl',false)
		call TriggerRegisterTimerEvent(t,0.1,true)
		call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
		call TriggerAddCondition(t,Condition(function Func0793))
		call SaveUnitHandle(HY,(h),(2),(source))
	endif
	set source=null
	set t=null
endfunction

function Func0795 takes nothing returns nothing
	if GetSpellAbilityId()=='A1AC' and Func0091(GetTriggerUnit())==false then
		call Func0794()
	endif
endfunction

function Func0796 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real KZO=(LoadReal(HY,(h),(529)))
	local real KVO=(LoadReal(HY,(h),(530)))
	local real KWO=GetUnitState(source,UNIT_STATE_MANA)
	local real KXO=GetUnitState(source,UNIT_STATE_MAX_MANA)
	local real KYO=(LoadReal(HY,(h),(668)))
	local real KJO=GetUnitStatePercent(source,UNIT_STATE_MANA,UNIT_STATE_MAX_MANA)
	local real KKO=(KYO-KJO)/100
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEvalCount(t)==20*10 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if KZO<150 then
			call SetUnitState(source,UNIT_STATE_MANA,KWO-(150-KZO-KVO))
		endif
	else
		if KKO>0 then
			set KZO=KZO+KKO*KXO
			if KVO>0 then
				if KKO*KXO>KVO then
					call SetUnitState(source,UNIT_STATE_MANA,KWO+KVO)
					set KVO=0
				else
					if KVO>(KXO-KWO)then
						set KVO=KVO-(KXO-KWO)
						call SetUnitState(source,UNIT_STATE_MANA,KXO)
					else
						set KVO=KVO-KKO*KXO
						call SetUnitState(source,UNIT_STATE_MANA,KWO+KKO*KXO)
					endif
				endif
			endif
		endif
		set KYO=KJO
		call SaveReal(HY,(h),(668),((KYO)*1.0))
		call SaveReal(HY,(h),(529),((KZO)*1.0))
		call SaveReal(HY,(h),(530),((KVO)*1.0))
	endif
	set t=null
	set source=null
	return false
endfunction

function Func0797 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real KMO=GetUnitState(source,UNIT_STATE_LIFE)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real KWO=GetUnitState(source,UNIT_STATE_MANA)
	if KMO>151 then
		call SetUnitState(source,UNIT_STATE_LIFE,KMO-150)
	else
		call SetUnitState(source,UNIT_STATE_LIFE,1)
	endif
	call Func0152("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",source,"origin",2)
	call SetUnitState(source,UNIT_STATE_MANA,KWO+150)
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func0796))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(242),((GetUnitState(source,UNIT_STATE_MANA))*1.0))
	call SaveReal(HY,(h),(529),((0)*1.0))
	call SaveReal(HY,(h),(668),((GetUnitStatePercent(source,UNIT_STATE_MANA,UNIT_STATE_MAX_MANA))*1.0))
	if(KWO+150)>GetUnitState(source,UNIT_STATE_MAX_MANA)then
		call SaveReal(HY,(h),(530),(((KWO+150)-GetUnitState(source,UNIT_STATE_MAX_MANA))*1.0))
	endif
	set source=null
endfunction

function Func0798 takes nothing returns nothing
	if GetSpellAbilityId()=='A1Q8' then
		call Func0797()
	endif
endfunction

function Func0799 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x
	local real y
	if IsSentinel(GetOwningPlayer(source))then
		set x=GetRectCenterX(Hero_Creation_NE)
		set y=GetRectCenterY(Hero_Creation_NE)
	else
		set x=GetRectCenterX(Hero_Creation_UD)
		set y=GetRectCenterY(Hero_Creation_UD)
	endif
	call IssuePointOrder(source,"move",x,y)
	set source=null
endfunction

function Func0800 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x
	local real y
	if IsSentinel(GetOwningPlayer(source))then
		set x=-4533
		set y=1158
	else
		set x=3190
		set y=-35
	endif
	call IssuePointOrder(source,"move",x,y)
	set source=null
endfunction

function Func0801 takes nothing returns nothing
	if GetSpellAbilityId()=='A1AS' then
		call Func0799()
	elseif GetSpellAbilityId()=='A2KS' then
		call Func0800()
	endif
endfunction

function Func0802 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	call SaveBoolean(HY,(GetHandleId(Hero)),(129),(true))
	set Hero=null
endfunction

function Func0803 takes nothing returns nothing
	if(GetSpellAbilityId()=='A0B8' or GetSpellAbilityId()=='A1WE')and IsBlocked(GetTriggerUnit()) then
		call Func0802()
	endif
endfunction

function Func0804 takes integer id returns boolean
	return id=='ugho' or id=='unec' or id=='esen' or id=='edry' or id=='u001' or id=='u002' or id=='e00V' or id=='e00W' or id=='ebal' or id=='e026' or id=='umtw' or id=='u00R'
endfunction

function Func0805 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>8 then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call DamageTarget(source,target,3,150.0/8.0)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func0806 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and(Func0804(GetUnitTypeId(GetEventDamageSource()))==false and(GetOwningPlayer(GetEventDamageSource())!=Neutrals or GetUnitTypeId(GetEventDamageSource())=='n00L')and GetEventDamage()>0)or boolean073)then
		call UnitRemoveAbility(target,'B0CG')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	return false
endfunction

function Func0807 takes nothing returns nothing
	local trigger t
	local integer h
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster
	local integer i=0
	local boolean found=false
	local boolean K3O=false
	local integer EY1
	if target==null then
		set target=GetTriggerUnit()
	endif
	set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	loop
		exitwhen i>5 or K3O
		if Func0346(UnitItemInSlot(source,i))==integer251 then
			set EY1=GetItemCharges(UnitItemInSlot(source,i))
			if EY1>0 then
				set found=true
				set EY1=EY1-1
			else
				set K3O=true
				set found=false
			endif
		endif
		set i=i+1
	endloop
	if found then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		if IsUnitAlly(target,GetOwningPlayer(source)) then
			call UnitAddAbility(caster,'A1MM')
			call IssueTargetOrderById(caster,852609,target)
			call SaveUnitHandle(HY,(h),(17),(target))
			call TriggerRegisterTimerEvent(t,real205,false)
			call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
			call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
			call TriggerAddCondition(t,Condition(function Func0806))
		else
			call SaveUnitHandle(HY,(h),(17),(target))
			call SaveUnitHandle(HY,(h),(2),(source))
			call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\Urn_Enemy.mdx",target,"overhead")))
			call TriggerRegisterTimerEvent(t,1,true)
			call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
			call TriggerAddCondition(t,Condition(function Func0805))
		endif
	endif
	set source=null
	set caster=null
	set target=null
	set t=null
endfunction

function Func0808 takes nothing returns nothing
	if GetSpellAbilityId()=='A1MO' then
		call Func0807()
	endif
endfunction

function Func0809 takes nothing returns nothing
	local integer i=0
	loop
		exitwhen i>16
		set booleans022[i]=false
		set i=i+1
	endloop
endfunction

function Func0810 takes nothing returns nothing
	if Func0255(GetEnumUnit())==false then
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A1ZX',false)
		call Func0228(GetEnumUnit(),'A1ZX',1,real206,'B0DX')
	endif
endfunction

function Func0811 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer i=0
	local boolean found=false
	local boolean K3O=false
	local integer EY1
	local group g
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),925,Condition(function Func0292))
	call ForGroup(g,function Func0810)
	call KillGroup(g)
	set g=null
	set source=null
endfunction

function Func0812 takes nothing returns nothing
	if GetSpellAbilityId()=='A1ZW' then
		call Func0811()
	endif
endfunction

function Func0813 takes unit u returns boolean
	local integer SSI=GetUnitTypeId(u)
	return SSI=='H0B8' or SSI=='n0FJ' or SSI=='n0FI' or SSI=='n0F6' or SSI=='n0FH' or SSI=='u00S'
endfunction

function Func0814 takes unit u returns boolean
	local integer id=GetUnitTypeId(u)
	return Func0105(id)
endfunction

function Func0815 takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(),player014)and IsDead(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) or IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE) or Func0814(GetFilterUnit()))and Func0813(GetFilterUnit())==false
endfunction

function Func0816 takes unit source returns boolean
	local group g=GetAvailableGroup()
	local boolean found
	set player014=GetOwningPlayer(source)
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),1050,Condition(function Func0815))
	set found=FirstOfGroup(g)!=null
	call KillGroup(g)
	return found
endfunction

function Func0817 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group g
	local integer Count
	local boolean LBO
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
		if GetAttacker()==source then
			call UnitRemoveAbility(source,'A20L')
			call UnitRemoveAbility(source,'A20S')
			call UnitRemoveAbility(source,'B0E2')
			call UnitRemoveAbility(source,'B09Y')
			if((LoadInteger(HY,(GetHandleId((source))),((4302))))==1)==false then
				call UnitSetUsesAltIcon(source,false)
			endif
			call SaveInteger(HY,(GetHandleId((source))),((4420)),(2))
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		set LBO=(LoadBoolean(HY,(h),(671)))
		set Count=(LoadInteger(HY,(h),(34)))
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
		set g=GetAvailableGroup()
		set player014=GetOwningPlayer(source)
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),1050,Condition(function Func0815))
		if GetUnitAbilityLevel(source,'B09Y')>0 then
			call SaveBoolean(HY,(h),(671),(true))
		elseif LBO then
			call SaveBoolean(HY,(h),(671),(false))
			call UnitRemoveAbility(source,'A20L')
			call UnitAddAbilityPermanent(source,'A20L')
		endif
		if Count>350 or FirstOfGroup(g)!=null then
			call UnitRemoveAbility(source,'A20L')
			call UnitRemoveAbility(source,'A20S')
			call UnitRemoveAbility(source,'B0E2')
			call UnitRemoveAbility(source,'B09Y')
			if((LoadInteger(HY,(GetHandleId((source))),((4302))))==1)==false and((LoadInteger(HY,(GetHandleId((source))),((4421))))==1)==false then
				call UnitSetUsesAltIcon(source,false)
			endif
			call SaveInteger(HY,(GetHandleId((source))),((4420)),(2))
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
		call KillGroup(g)
	endif
	set t=null
	set source=null
	set g=null
	return false
endfunction

function Func0818 takes nothing returns nothing
	local unit source=GetEnumUnit()
	local trigger t
	local integer h
	if Func0053(GetOwningPlayer(source))and Func0816(source)==false then
		if IsPlayerAlly(LocalPlayer,GetOwningPlayer(source))==false and Func0100(LocalPlayer)==false then
			call UnitSetUsesAltIcon(source,true)
		endif
		call UnitAddAbilityPermanent(source,'A20L')
		call UnitMakeAbilityPermanent(source,true,'A20L')
		if Func0255(source)==false then
			call UnitAddAbilityPermanent(source,'A20S')
			call UnitMakeAbilityPermanent(source,true,'A20S')
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A20S',false)
		endif
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveInteger(HY,(h),(34),(0))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveBoolean(HY,(h),(671),(false))
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\SmokeOfDeceit.mdx",source,"chest")))
		call SaveInteger(HY,(GetHandleId((source))),((4420)),(1))
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
		call TriggerRegisterTimerEvent(t,.1,true)
		call TriggerAddCondition(t,Condition(function Func0817))
		set t=null
	endif
	set source=null
endfunction

function Func0819 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local group g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),1225,Condition(function Func0291))
	call ForGroup(g,function Func0818)
	call KillGroup(g)
	set source=null
	set g=null
endfunction

function Func0820 takes nothing returns nothing
	if GetSpellAbilityId()=='A206' then
		call Func0819()
	endif
endfunction

function InitTrig_Smoke_of_Deceit takes nothing returns nothing
	call SetAltMinimapIcon("war3mapImported\\black.blp")
endfunction

function Func0821 takes nothing returns nothing
	if Func0255(GetEnumUnit())==false then
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A28F',false)
		call Func0228(GetEnumUnit(),'A28F',1,real207,'B0EQ')
	endif
endfunction

function Func0822 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local group g=GetAvailableGroup()
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	call GroupEnumUnitsInRange(g,x,y,600+25,Condition(function Func0271))
	call ForGroup(g,function Func0821)
	call KillGroup(g)
	call DestroyEffect(AddSpecialEffect("war3mapImported\\DarkLightningNova.mdx",x,y))
	set source=null
	set g=null
endfunction

function Func0823 takes nothing returns nothing
	if GetSpellAbilityId()=='A28D' then
		call Func0822()
	endif
endfunction

function Func0824 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local real LVO=(LoadReal(HY,(GetHandleId(target)),(745)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTime()>LVO then
		call UnitRemoveAbility(target,'B0FU')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetUnitAbilityLevel(target,'B0FU')==0 then
		call IssueTargetOrder(caster,"curse",target)
	endif
	set t=null
	set target=null
	set caster=null
	return false
endfunction

function CripplingStaff takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	local real d=real208
	local trigger t
	local integer h
	if Func0091(target)==false then
		call UnitAddAbilityPermanent(caster,'A2JM')
		call IssueTargetOrder(caster,"curse",target)
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2EC',false)
		call Func0228(target,'A2EC',1,d,'B0F5')
	else
		call UnitAddAbilityPermanent(caster,'A2JM')
		call SetUnitAbilityLevel(caster,'A2JM',2)
		call IssueTargetOrder(caster,"curse",target)
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2EC',false)
		call Func0228(target,'A2EC',1,d,'B0F5')
	endif
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.01,true)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerAddCondition(t,Condition(function Func0824))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveReal(HY,(GetHandleId(target)),(745),((GetTime()+d)*1.0))
	set source=null
	set target=null
	set caster=null
	set t=null
endfunction

function Func0825 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbility(caster,'A2K3')
	call IssueTargetOrder(caster,"slow",target)
	set source=null
	set target=null
	set caster=null
endfunction

function Func0826 takes nothing returns nothing
	if GetSpellAbilityId()=='A2EA' and IsBlocked(GetSpellTargetUnit())==false then
		call Func0825()
	endif
endfunction

function Func0827 takes unit source returns nothing
	if IsUnitIllusion(source)or integers112[GetPlayerId(GetOwningPlayer(source))]<=0 or(IsUnitType(source,UNIT_TYPE_HERO)==false and Func0242(source)==false)then
		return
	elseif Func0328(source,integers089[integer135]) or Func0328(source,integers089[integer136]) then
		call Func0631(source)
	endif
endfunction

function Func0828 takes nothing returns boolean
	call Func0827(GetAttacker())
	call Func0827(GetTriggerUnit())
	return false
endfunction

function Func0829 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or Count==20 or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetEventDamage()>20)then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
		call SetUnitState(source,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_LIFE)+12.5)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func0830 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func0829))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(34),(0))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\TranquilBootsHeal.mdx",source,"origin")))
	set source=null
	set t=null
endfunction

function Func0831 takes nothing returns nothing
	if GetSpellAbilityId()=='A2K1' then
		call Func0830()
	endif
endfunction

function Func0832 takes nothing returns boolean
	local unit IYO=GetSummonedUnit()
	local integer i=0
	local item HZO
	local integer indexId
	if IsUnitIllusion(IYO) then
		loop
			exitwhen i>5
			set HZO=UnitItemInSlot(IYO,i)
			set indexId=Func0346(HZO)
			if indexId==integer135 then
				call DisableTrigger(trigger057)
				set player005=GetItemPlayer(HZO)
				call RemoveItem(HZO)
				set tt_item1=Func0357(IYO,integers089[integer136],i)
				call SetItemPlayer(tt_item1,player005,false)
				call SetItemUserData(tt_item1,1)
				call EnableTrigger(trigger057)
			endif
			set i=i+1
		endloop
	endif
	set IYO=null
	return false
endfunction

function Func0833 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local unit caster
	if GetUnitX(source)!=x or GetUnitY(source)!=y or(GetUnitAbilityLevel(source,'B0GM')==0 and GetTriggerEvalCount(t)>R2I(0.3/.05))or GetTriggerEvalCount(t)>R2I(real209/.05)then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SaveInteger(HY,(GetHandleId((source))),((4337)),(2))
		call UnitRemoveAbility(source,'B0GL')
		call UnitRemoveAbility(source,'B0GM')
		call UnitRemoveAbility(source,'A2R3')
	elseif GetTriggerEvalCount(t)==R2I(0.3/.05)then
		set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
		call UnitAddAbility(caster,'A2R2')
		call IssueTargetOrder(caster,"invisibility",source)
		call SaveInteger(HY,(GetHandleId((source))),((4337)),(2))
		set caster=null
	endif
	set t=null
	set source=null
	return false
endfunction

function Func0834 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local integer LPO=(LoadInteger(HY,(h),(375)))
	local integer id=GetUnitCurrentOrder(source)
	if GetUnitX(source)!=x or GetUnitY(source)!=y then
		call IssueImmediateOrder(source,"holdposition")
		call SaveReal(HY,(LPO),(6),((GetUnitX(source))*1.0))
		call SaveReal(HY,(LPO),(7),((GetUnitY(source))*1.0))
	elseif id==0 or id==851973 or id==851983 or id==851971 then
		call IssueImmediateOrder(source,"holdposition")
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func0835 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local trigger t2=CreateTrigger()
	local integer KAO=GetHandleId(t2)
	local string LUO="Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl"
	if LocalPlayer!=GetOwningPlayer(source)then
		set LUO=""
	endif
	call UnitAddAbilityPermanent(source,'A2R3')
	call SaveInteger(HY,(GetHandleId((source))),((4337)),(1))
	call DestroyEffect(AddSpecialEffectTarget(LUO,source,"chest"))
	call DestroyEffect(AddSpecialEffectTarget(LUO,source,"hand left"))
	call DestroyEffect(AddSpecialEffectTarget(LUO,source,"hand right"))
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerAddCondition(t,Condition(function Func0833))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	call TriggerRegisterTimerEvent(t2,0.01,false)
	call TriggerAddCondition(t2,Condition(function Func0834))
	call SaveUnitHandle(HY,(KAO),(2),(source))
	call SaveReal(HY,(KAO),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(KAO),(7),((GetUnitY(source))*1.0))
	call SaveInteger(HY,(KAO),(375),(h))
	set source=null
	set t=null
endfunction

function Func0836 takes nothing returns nothing
	if GetSpellAbilityId()=='A2R1' and((LoadInteger(HY,(GetHandleId((GetTriggerUnit()))),((4337))))==1)==false then
		call Func0835()
	endif
endfunction

function Func0837 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetUnitAbilityLevel(source,'Bdet')==0 then
		call UnitRemoveAbility(source,'A2SJ')
		call UnitRemoveAbility(source,'B0GR')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		if Func0264(source) then
			if GetUnitAbilityLevel(source,'B0GR')==0 then
				call UnitAddAbilityPermanent(source,'A2SJ')
			endif
		else
			if GetUnitAbilityLevel(source,'B0GR')>0 then
				call UnitRemoveAbility(source,'A2SJ')
				call UnitRemoveAbility(source,'B0GR')
			endif
		endif
	endif
	set source=null
	set t=null
	return false
endfunction

function Func0838 takes nothing returns nothing
	local unit source=GetEnumUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerAddCondition(t,Condition(function Func0837))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
endfunction

function Func0839 takes nothing returns nothing
	local group g=GetAvailableGroup()
	local unit source=GetTriggerUnit()
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),1050+25,Condition(function Func0300))
	call ForGroup(g,function Func0838)
	call KillGroup(g)
	set g=null
	set source=null
endfunction

function Func0840 takes nothing returns nothing
	if GetSpellAbilityId()=='AItb' then
		call Func0839()
	endif
endfunction

function Func0841 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real H71=(LoadReal(HY,(h),(6)))
	local real H81=(LoadReal(HY,(h),(7)))
	call Func0390(source,H71,H81,650)
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	if GetUnitAbilityLevel(source,'B074')==0 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func0842 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.005,true)
	call TriggerAddCondition(t,Condition(function Func0841))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	set t=null
	set source=null
endfunction

function Func0843 takes nothing returns nothing
	if GetSpellAbilityId()=='A0JZ' then
		call Func0842()
	endif
endfunction

function Func0844 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer M7O=0
	local integer M8O=0
	local item EJ1
	local integer M9O
	local integer dur
	local unit MAO
	if GetSpellAbilityId()=='A2WI' then
		set M9O='oeye'
		set dur=60*4
		set M7O='I05H'
		set M8O=integer148
	elseif GetSpellAbilityId()=='A2WH' then
		set M9O='o004'
		set dur=60*7
		set M7O='I05G'
		set M8O=integer147
	endif
	if(M7O!=0)then
		if target!=null then
			if Func0345(target)>0 then
				call DisableTrigger(trigger057)
				set EJ1=UnitAddItemById(target,M7O)
				call SetItemPlayer(EJ1,GetOwningPlayer(target),false)
				call SetItemUserData(EJ1,1)
				call SetItemCharges(EJ1,1)
				call EnableTrigger(trigger057)
			else
				call Func0338(integers088[M8O],GetUnitX(target),GetUnitY(target),GetOwningPlayer(target),true,1)
			endif
		else
			set MAO=CreateUnit(GetOwningPlayer(source),M9O,GetSpellTargetX(),GetSpellTargetY(),0)
			call UnitApplyTimedLife(MAO,'BTLD',dur)
			call UnitAddAbilityPermanent(MAO,'A0XB')
			call Func0173(GetOwningPlayer(source),sound075,GetSpellTargetX(),GetSpellTargetY())
			if IsUnitInRegion(region009,MAO)then
				call Func0620(source,MAO)
				call RemoveUnit(MAO)
			else
				call Func0618(MAO,source)
				if GetUnitTypeId(MAO)=='oeye' then
					call TimedReveal(GetOwningPlayer(MAO),12,GetUnitX(MAO),GetUnitY(MAO),150)
				endif
			endif
		endif
	endif
	set source=null
	set EJ1=null
endfunction

function Func0845 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local item AO1=Func0341(source,integers089[integer225])
	local integer FF1
	if AO1!=null and(GetUnitTypeId(source)!='N0MM' or IsDead(source)==false)then
		call DisableTrigger(trigger057)
		set FF1=Func0215(source,AO1)
		set player005=GetItemPlayer(AO1)
		call RemoveItem(AO1)
		set tt_item1=Func0357(source,integers089[integer224],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
		call EnableTrigger(trigger057)
	endif
	call UnitRemoveAbility(source,'A30Y')
	call UnitRemoveAbility(source,'B0HL')
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set source=null
	set t=null
	return false
endfunction

function Func0846 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(2),(source))
	call TriggerRegisterDeathEvent(t,source)
	call TriggerAddCondition(t,Condition(function Func0845))
	call TriggerRegisterTimerEvent(t,8,false)
	call UnitAddAbilityPermanent(source,'A30Y')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A30Y',false)
	set t=null
	set source=null
endfunction

function Func0847 takes nothing returns nothing
	if GetSpellAbilityId()=='A31F' then
		call Func0846()
	endif
endfunction

function Func0848 takes nothing returns nothing
	if IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==false then
		call DamageTarget(GetTriggerUnit(),GetSpellTargetUnit(),2,100)
	endif
endfunction

function Func0849 takes nothing returns nothing
	if GetSpellAbilityId()=='A1FD' then
		if GetUnitTypeId(GetSpellTargetUnit())=='o004' or GetUnitTypeId(GetSpellTargetUnit())=='oeye' then
			call Func0848()
		endif
	endif
endfunction

function Func0850 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call SetItemCharges(Func0341(source,integers089[integer235]),GetItemCharges(Func0341(source,integers089[integer235]))+1)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if GetUnitTypeId(source)=='Npbm' then
		set unit400=source
	endif
	call KillUnit(source)
	set source=null
	set t=null
	return false
endfunction

function Func0851 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(2),(source))
	call TriggerAddCondition(t,Condition(function Func0850))
	call TriggerRegisterTimerEvent(t,0.01,false)
	set t=null
	set source=null
endfunction

function Func0852 takes nothing returns nothing
	if GetSpellAbilityId()=='A2TK' then
		call Func0851()
	endif
endfunction

function Func0853 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local unit caster
	if GetUnitX(source)!=x or GetUnitY(source)!=y or(GetUnitAbilityLevel(source,'B0G8')==0 and GetTriggerEvalCount(t)>R2I(1.5/.05))then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SaveInteger(HY,(GetHandleId((source))),((4330)),(2))
		call UnitRemoveAbility(source,'B0G6')
		call UnitRemoveAbility(source,'B0G8')
	elseif GetTriggerEvalCount(t)==R2I(1.5/.05)then
		set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
		call UnitAddAbility(caster,'A2N5')
		call IssueTargetOrder(caster,"invisibility",source)
		call SaveInteger(HY,(GetHandleId((source))),((4330)),(2))
		set caster=null
	endif
	set t=null
	set source=null
	return false
endfunction

function Func0854 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local integer LPO=(LoadInteger(HY,(h),(375)))
	local integer id=GetUnitCurrentOrder(source)
	if GetUnitX(source)!=x or GetUnitY(source)!=y then
		call IssueImmediateOrder(source,"holdposition")
		call SaveReal(HY,(LPO),(6),((GetUnitX(source))*1.0))
		call SaveReal(HY,(LPO),(7),((GetUnitY(source))*1.0))
	elseif id==0 or id==851973 or id==851983 or id==851971 then
		call IssueImmediateOrder(source,"holdposition")
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func0855 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local trigger t2=CreateTrigger()
	local integer KAO=GetHandleId(t2)
	local string LUO="Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl"
	if LocalPlayer!=GetOwningPlayer(source)then
		set LUO=""
	endif
	call SaveInteger(HY,(GetHandleId((source))),((4330)),(1))
	call DestroyEffect(AddSpecialEffectTarget(LUO,source,"chest"))
	call DestroyEffect(AddSpecialEffectTarget(LUO,source,"hand left"))
	call DestroyEffect(AddSpecialEffectTarget(LUO,source,"hand right"))
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerAddCondition(t,Condition(function Func0853))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	call TriggerRegisterTimerEvent(t2,0.01,false)
	call TriggerAddCondition(t2,Condition(function Func0854))
	call SaveUnitHandle(HY,(KAO),(2),(source))
	call SaveReal(HY,(KAO),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(KAO),(7),((GetUnitY(source))*1.0))
	call SaveInteger(HY,(KAO),(375),(h))
	set source=null
	set t=null
endfunction

function Func0856 takes nothing returns nothing
	if GetSpellAbilityId()=='A2N1' and((LoadInteger(HY,(GetHandleId((GetTriggerUnit()))),((4330))))==1)==false then
		call Func0855()
	endif
endfunction

function Func0857 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer MKO=(LoadInteger(HY,(h),(34)))
	if(GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)>=MKO or Func0091(target))then
		call Func0262(target)
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	return false
endfunction

function Func0858 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	local integer lvl=2
	local real DC1=4.5
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	if IsUnitType(target,UNIT_TYPE_MELEE_ATTACKER) then
		set lvl=1
		set DC1=3
	endif
	call Func0261(target)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerAddCondition(t,Condition(function Func0857))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(34),(R2I(DC1*10)))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl",target,"overhead")))
	set source=null
	set target=null
	set caster=null
endfunction

function Func0859 takes nothing returns nothing
	if GetSpellAbilityId()=='A2K4' and IsBlocked(GetSpellTargetUnit())==false then
		call Func0858()
	endif
endfunction

function Func0860 takes integer lvl,unit source,unit target returns nothing
	set boolean156=true
	call DamageTarget(source,target,1,300+100*lvl)
	set boolean156=false
endfunction

function Func0861 takes nothing returns nothing
	local integer MTO=0
	if GetSpellAbilityId()=='A02O' then
		set MTO=1
	endif
	if GetSpellAbilityId()=='A08Y' then
		set MTO=2
	endif
	if GetSpellAbilityId()=='A08Z' then
		set MTO=3
	endif
	if GetSpellAbilityId()=='A090' then
		set MTO=4
	endif
	if GetSpellAbilityId()=='A092' then
		set MTO=5
	endif
	if MTO>0 and IsBlocked(GetSpellTargetUnit())==false then
		call Func0860(MTO,GetTriggerUnit(),GetSpellTargetUnit())
	endif
endfunction

function Func0862 takes nothing returns nothing
	if GetSpellAbilityId()=='A2HQ' then
		call Func0480(GetTriggerUnit(),GetSpellTargetUnit())
	endif
endfunction

function Func0863 takes unit source,integer RII,real x,real y returns nothing
	local unit MQO=CreateUnit(GetOwningPlayer(source),RII,x,y,0)
	call UnitApplyTimedLife(MQO,'BTLF',15)
	set MQO=null
endfunction

function Func0864 takes nothing returns nothing
	local unit MQO
	local real x
	local real y
	if GetSpellAbilityId()=='A1ZL' then
		set x=GetDestructableX(GetSpellTargetDestructable())
		set y=GetDestructableY(GetSpellTargetDestructable())
		call Func0863(GetTriggerUnit(),'n0LM',x,y)
	elseif GetSpellAbilityId()=='A1ZM' then
		set x=GetDestructableX(GetSpellTargetDestructable())
		set y=GetDestructableY(GetSpellTargetDestructable())
		call Func0863(GetTriggerUnit(),'n0LN',x,y)
	endif
	set MQO=null
endfunction

function Func0865 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call UnitRemoveAbility(source,'A308')
	call UnitRemoveAbility(target,'A308')
	call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
	call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func0866 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call UnitRemoveAbility(source,'A308')
	call UnitRemoveAbility(target,'A309')
	call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
	call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func0867 takes nothing returns nothing
	local trigger t
	local integer h
	if IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==false then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,7,false)
		call TriggerAddCondition(t,Condition(function Func0865))
		call SaveUnitHandle(HY,(h),(2),(GetTriggerUnit()))
		call SaveUnitHandle(HY,(h),(17),(GetSpellTargetUnit()))
		call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl",GetSpellTargetUnit(),"chest")))
		call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl",GetTriggerUnit(),"chest")))
		call UnitAddAbility(GetTriggerUnit(),'A308')
		call UnitAddAbility(GetSpellTargetUnit(),'A308')
		call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A308')
		call UnitMakeAbilityPermanent(GetSpellTargetUnit(),true,'A308')
	else
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,7,false)
		call TriggerAddCondition(t,Condition(function Func0866))
		call SaveUnitHandle(HY,(h),(2),(GetTriggerUnit()))
		call SaveUnitHandle(HY,(h),(17),(GetSpellTargetUnit()))
		call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl",GetSpellTargetUnit(),"chest")))
		call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl",GetTriggerUnit(),"chest")))
		call UnitAddAbility(GetTriggerUnit(),'A308')
		call UnitAddAbility(GetSpellTargetUnit(),'A309')
		call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A308')
		call UnitMakeAbilityPermanent(GetSpellTargetUnit(),true,'A309')
	endif
	set t=null
endfunction

function Func0868 takes nothing returns nothing
	if GetSpellAbilityId()=='A1ZI' then
		call Func0867()
	endif
endfunction

function Func0869 takes nothing returns nothing
	local unit SWI=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster
	if GetSpellTargetUnit()==null then
		if GetSpellAbilityId()=='AIpl' then
			set caster=CreateUnit(GetOwningPlayer(SWI),'e00E',GetUnitX(SWI),GetUnitY(SWI),0)
			call UnitAddAbility(caster,'A1WA')
			call IssueTargetOrderById(caster,852609,SWI)
			set caster=null
		elseif GetSpellAbilityId()=='AIpr' then
			set caster=CreateUnit(GetOwningPlayer(SWI),'e00E',GetUnitX(SWI),GetUnitY(SWI),0)
			call UnitAddAbility(caster,'AIpr')
			call IssueTargetOrderById(caster,852609,SWI)
			set caster=null
		endif
	endif
	set SWI=null
	set target=null
endfunction

function Func0870 takes nothing returns nothing
	if GetSpellAbilityId()=='AIpl' or GetSpellAbilityId()=='AIpr' then
		call Func0869()
	endif
endfunction

function Func0871 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(34)))
	if(GetTriggerEventId()==EVENT_UNIT_DEATH and GetKillingUnit()==source)or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetUnitAbilityLevel(target,'B0ES')>0)then
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl",GetUnitX(target),GetUnitY(target)))
		call AddHeroXP(source,R2I(Func0049(lvl)*2.5),true)
		call ImitateBountyGain(GetOwningPlayer(source),target,190,true)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillUnit(target)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func0872 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitLevel(target)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(34),(lvl))
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func0871))
	set t=null
	set source=null
	set target=null
endfunction

function Func0873 takes nothing returns nothing
	if GetSpellAbilityId()=='A28Y' and Func0728(GetSpellTargetUnit())==false then
		call Func0872()
	endif
endfunction

function Func0874 takes nothing returns nothing
	call SetUnitState(GetEnumUnit(),UNIT_STATE_MANA,GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)+135)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl",GetEnumUnit(),"origin"))
endfunction

function Func0875 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group g=GetAvailableGroup()
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),25+600,Condition(function Func0295))
	call ForGroup(g,function Func0874)
	call KillGroup(g)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set g=null
	set source=null
	set t=null
	return false
endfunction

function Func0876 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local group g
	local trigger t
	if GetSpellAbilityId()=='A0K7' then
		if GetUnitTypeId(source)!='H00J' then
			set t=CreateTrigger()
			call TriggerRegisterTimerEvent(t,0,false)
			call TriggerAddCondition(t,Condition(function Func0875))
			call SaveUnitHandle(HY,(GetHandleId(t)),(2),(source))
			set t=null
		elseif GetUnitTypeId(source)=='H00J' then
			call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MANA)+25)
		endif
	endif
	set source=null
endfunction

function Func0877 takes nothing returns boolean
	if GetUnitTypeId(GetTriggerUnit())=='e00E' then
		return false
	endif
	call Func0684()
	call Func0695()
	call Func0699()
	call Func0708()
	call Func0726()
	call Func0731()
	call Func0734()
	call Func0739()
	call Func0742()
	call Func0732()
	call Func0750()
	call Func0754()
	call Func0760()
	call Func0766()
	call Func0762()
	call Func0773()
	call Func0768()
	call Func0629()
	call Func0627()
	call Func0779()
	call Func0780()
	call Func0783()
	call Func0786()
	call Func0795()
	call Func0801()
	call Func0704()
	call Func0749()
	call Func0803()
	call Func0808()
	call Func0798()
	call Func0792()
	call Func0876()
	call Func0873()
	call Func0870()
	call Func0868()
	call Func0864()
	call Func0812()
	call Func0820()
	call Func0823()
	call Func0826()
	call Func0862()
	call Func0861()
	call Func0831()
	call Func0859()
	call Func0856()
	call Func0852()
	call Func0836()
	call Func0840()
	call Func0849()
	call Func0844()
	call Func0843()
	call Func0746()
	call Func0847()
	if GetSpellAbilityId()=='A2K7' and IsBlocked(GetSpellTargetUnit())==false then
		call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\LevelerStunFX.mdx",GetSpellTargetUnit(),"head"))
	endif
	return false
endfunction

function Func0878 takes unit Hero returns nothing
	call SetUnitState(Hero,UNIT_STATE_LIFE,GetUnitState(Hero,UNIT_STATE_MAX_LIFE))
	call SetUnitState(Hero,UNIT_STATE_MANA,GetUnitState(Hero,UNIT_STATE_MAX_MANA))
endfunction

function Func0879 takes unit Hero,real x,real y returns nothing
	local integer h=GetHandleId(GetOwningPlayer(Hero))
	local unit W51=(LoadUnitHandle(HY,(h),(700)))
	local unit W61=(LoadUnitHandle(HY,(h),(701)))
	local unit W71=(LoadUnitHandle(HY,(h),(702)))
	local unit W81=(LoadUnitHandle(HY,(h),(703)))
	set boolean074=true
	if W51!=null then
		call ReviveHero(W51,x,y,true)
		call Func0878(W51)
		call Func0421(W51)
		call SetUnitX(W51,x)
		call SetUnitY(W51,y)
	endif
	if W61!=null then
		call ReviveHero(W61,x,y,true)
		call Func0878(W61)
		call Func0421(W61)
		call SetUnitX(W61,x)
		call SetUnitY(W61,y)
	endif
	if W71!=null then
		call ReviveHero(W71,x,y,true)
		call Func0878(W71)
		call Func0421(W71)
		call SetUnitX(W71,x)
		call SetUnitY(W71,y)
	endif
	if W81!=null then
		call ReviveHero(W81,x,y,true)
		call Func0878(W81)
		call Func0421(W81)
		call SetUnitX(W81,x)
		call SetUnitY(W81,y)
	endif
	set W51=null
	set W61=null
	set W71=null
	set W81=null
endfunction

function Func0880 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	call Func0878(Hero)
	call Func0421(Hero)
	call ClearSelectionForPlayer(GetOwningPlayer(Hero))
	call SelectUnitAddForPlayer(Hero,GetOwningPlayer(Hero))
	if GetUnitTypeId(Hero)=='H00I' then
		call Func0879(Hero,GetUnitX(Hero),GetUnitY(Hero))
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	return false
endfunction

function Func0881 takes unit Hero,real x,real y returns nothing
	local integer h=GetHandleId(GetOwningPlayer(Hero))
	local unit W51=(LoadUnitHandle(HY,(h),(700)))
	local unit W61=(LoadUnitHandle(HY,(h),(701)))
	local unit W71=(LoadUnitHandle(HY,(h),(702)))
	local unit W81=(LoadUnitHandle(HY,(h),(703)))
	call DisableTrigger(trigger003)
	if W51!=null then
		call SetUnitX(W51,x)
		call SetUnitY(W51,y)
		call KillUnit(W51)
	endif
	if W61!=null then
		call SetUnitX(W61,x)
		call SetUnitY(W61,y)
		call KillUnit(W61)
	endif
	if W71!=null then
		call SetUnitX(W71,x)
		call SetUnitY(W71,y)
		call KillUnit(W71)
	endif
	if W81!=null then
		call SetUnitX(W81,x)
		call SetUnitY(W81,y)
		call KillUnit(W81)
	endif
	call EnableTrigger(trigger003)
	set W51=null
	set W61=null
	set W71=null
endfunction

function Func0882 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local real x
	local real y
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call Traffic_RegisterData("AegisOff",GetPlayerId(GetOwningPlayer(Hero)))
	if GetUnitTypeId(Hero)=='H00I' then
		call Func0881(Hero,GetUnitX(Hero),GetUnitY(Hero))
	endif
	set unit243=null
	call TriggerRegisterTimerEvent(t,5,false)
	call TriggerAddCondition(t,Condition(function Func0880))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call AddTimedKeyToUnit(Hero,4304,5)
	set t=null
	set Hero=null
endfunction

function Func0883 takes nothing returns nothing
	if Func0346(GetManipulatedItem())==integer198 then
		call Func0882()
	endif
endfunction

function Func0884 takes nothing returns nothing
	local unit SWI=GetTriggerUnit()
	local item AO1=GetManipulatedItem()
	local integer indexId=Func0346(AO1)
	local integer FF1
	call DisableTrigger(trigger057)
	if GetUnitTypeId(SWI)!='H00J' then
		if indexId==integer162 then
			set FF1=Func0215(SWI,AO1)
			set player005=GetItemPlayer(GetManipulatedItem())
			call RemoveItem(AO1)
			call DisableTrigger(trigger057)
			set tt_item1=Func0357(SWI,integers089[integer163],FF1)
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer163 then
			set FF1=Func0215(SWI,AO1)
			set player005=GetItemPlayer(GetManipulatedItem())
			call RemoveItem(AO1)
			call DisableTrigger(trigger057)
			set tt_item1=Func0357(SWI,integers089[integer164],FF1)
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		elseif indexId==integer164 then
			set FF1=Func0215(SWI,AO1)
			set player005=GetItemPlayer(GetManipulatedItem())
			call RemoveItem(AO1)
			call DisableTrigger(trigger057)
			set tt_item1=Func0357(SWI,integers089[integer162],FF1)
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
		endif
	endif
	call EnableTrigger(trigger057)
	set SWI=null
	set AO1=null
endfunction

function Func0885 takes nothing returns nothing
	local unit SWI=GetTriggerUnit()
	local item AO1=GetManipulatedItem()
	local integer indexId=Func0346(AO1)
	local integer FF1
	call DisableTrigger(trigger057)
	if indexId==integer159 then
		set FF1=Func0215(SWI,AO1)
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(AO1)
		set tt_item1=Func0357(SWI,integers089[integer160],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	elseif indexId==integer160 then
		set FF1=Func0215(SWI,AO1)
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(AO1)
		set tt_item1=Func0357(SWI,integers089[integer159],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	endif
	if indexId==integer139 then
		set FF1=Func0215(SWI,AO1)
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(AO1)
		set tt_item1=Func0357(SWI,integers089[integer140],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	elseif indexId==integer140 then
		set FF1=Func0215(SWI,AO1)
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(AO1)
		set tt_item1=Func0357(SWI,integers089[integer139],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	endif
	if indexId==integer215 then
		set FF1=Func0215(SWI,AO1)
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(AO1)
		set tt_item1=Func0357(SWI,integers089[integer216],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	elseif indexId==integer216 then
		set FF1=Func0215(SWI,AO1)
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(AO1)
		set tt_item1=Func0357(SWI,integers089[integer215],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	endif
	if indexId==integer224 then
		set FF1=Func0215(SWI,AO1)
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(AO1)
		set tt_item1=Func0357(SWI,integers089[integer225],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	elseif indexId==integer225 then
		set FF1=Func0215(SWI,AO1)
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(AO1)
		set tt_item1=Func0357(SWI,integers089[integer224],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	endif
	call EnableTrigger(trigger057)
	set SWI=null
	set AO1=null
endfunction

function Func0886 takes nothing returns nothing
	local unit SWI=GetTriggerUnit()
	local item AO1=GetManipulatedItem()
	local integer indexId=Func0346(AO1)
	local integer FF1
	call DisableTrigger(trigger057)
	if indexId==integer217 then
		set FF1=Func0215(SWI,AO1)
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(AO1)
		set tt_item1=Func0357(SWI,integers089[integer218],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	elseif indexId==integer218 then
		set FF1=Func0215(SWI,AO1)
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(AO1)
		set tt_item1=Func0357(SWI,integers089[integer217],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	endif
	call EnableTrigger(trigger057)
	set SWI=null
	set AO1=null
endfunction

function Func0887 takes nothing returns nothing
	local unit SWI=GetTriggerUnit()
	local item AO1=GetManipulatedItem()
	local integer indexId=Func0346(AO1)
	local integer FF1
	call DisableTrigger(trigger057)
	if indexId==integer177 and GetItemCharges(AO1)==0 then
		set FF1=Func0215(SWI,AO1)
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(AO1)
		set tt_item1=Func0357(SWI,integers089[integer179],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	elseif indexId==integer178 and GetItemCharges(AO1)==0 then
		set FF1=Func0215(SWI,AO1)
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(AO1)
		set tt_item1=Func0357(SWI,integers089[integer180],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	elseif indexId==integer132 and GetItemCharges(AO1)==0 then
		set FF1=Func0215(SWI,AO1)
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(AO1)
		set tt_item1=Func0357(SWI,integers089[integer133],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	endif
	call EnableTrigger(trigger057)
	set SWI=null
	set AO1=null
endfunction

function Func0888 takes nothing returns nothing
	local unit SWI=GetTriggerUnit()
	local item AO1=GetManipulatedItem()
	local integer indexId=Func0346(AO1)
	local integer FF1
	call DisableTrigger(trigger057)
	if indexId==integer191 then
		call SaveInteger(HY,(GetHandleId(GetOwningPlayer(SWI))),(4345),(9))
		set FF1=Func0215(SWI,AO1)
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(AO1)
		set tt_item1=Func0357(SWI,integers089[integer192],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
		call Func0600(tt_item1)
	elseif indexId==integer192 then
		call SaveInteger(HY,(GetHandleId(GetOwningPlayer(SWI))),(4345),(8))
		set FF1=Func0215(SWI,AO1)
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(AO1)
		set tt_item1=Func0357(SWI,integers089[integer193],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
		call Func0600(tt_item1)
	elseif indexId==integer193 then
		call SaveInteger(HY,(GetHandleId(GetOwningPlayer(SWI))),(4345),(7))
		set FF1=Func0215(SWI,AO1)
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(AO1)
		set tt_item1=Func0357(SWI,integers089[integer194],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
		call Func0600(tt_item1)
	elseif indexId==integer194 then
		call SaveInteger(HY,(GetHandleId(GetOwningPlayer(SWI))),(4345),(6))
		set FF1=Func0215(SWI,AO1)
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(AO1)
		set tt_item1=Func0357(SWI,integers089[integer195],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
		call Func0600(tt_item1)
	elseif indexId==integer195 then
		call SaveInteger(HY,(GetHandleId(GetOwningPlayer(SWI))),(4345),(5))
		set FF1=Func0215(SWI,AO1)
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(AO1)
		set tt_item1=Func0357(SWI,integers089[integer196],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
		call Func0600(tt_item1)
	endif
	call EnableTrigger(trigger057)
	set SWI=null
	set AO1=null
endfunction

function Func0889 takes nothing returns boolean
	local integer FF1
	local real VOO
	call DisableTrigger(trigger057)
	if Func0346(GetManipulatedItem())==integer238 then
		set FF1=Func0215(GetTriggerUnit(),GetManipulatedItem())
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(GetManipulatedItem())
		set tt_item1=Func0357(GetTriggerUnit(),integers089[integer237],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	endif
	if Func0346(GetManipulatedItem())==integer237 then
		set FF1=Func0215(GetTriggerUnit(),GetManipulatedItem())
		set player005=GetItemPlayer(GetManipulatedItem())
		call RemoveItem(GetManipulatedItem())
		set tt_item1=Func0357(GetTriggerUnit(),integers089[integer238],FF1)
		call SetItemPlayer(tt_item1,player005,false)
		call SetItemUserData(tt_item1,1)
	endif
	call EnableTrigger(trigger057)
	return false
endfunction

function PerseveranceDisassemble takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local player p=GetItemPlayer(GetManipulatedItem())
	local item EJ1
	call DisableTrigger(trigger057)
	call RemoveItem(GetManipulatedItem())
	set EJ1=UnitAddItemById(Hero,integers089[integer100])
	call SetItemPlayer(EJ1,p,false)
	call SetItemUserData(EJ1,1)
	set EJ1=UnitAddItemById(Hero,integers089[integer112])
	call SetItemPlayer(EJ1,p,false)
	call SetItemUserData(EJ1,1)
	call EnableTrigger(trigger057)
	set Hero=null
	set p=null
	set EJ1=null
endfunction

function Func0890 takes nothing returns nothing
	if GetItemTypeId(GetManipulatedItem())==integers089[integer156]then
		call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0G1'))
	endif
endfunction

function Func0891 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if Func0671(source)then
		call Func0354(source,'I0HM')
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call SaveBoolean(HY,(GetHandleId(source)),(129),(false))
	set t=null
	set source=null
	return false
endfunction

function Func0892 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local item AO1=GetManipulatedItem()
	local integer indexId=Func0346(AO1)
	local trigger t
	if(indexId==integer199 or indexId==integer200)and(LoadBoolean(HY,(GetHandleId(source)),(129))) then
		set t=CreateTrigger()
		call TriggerRegisterTimerEvent(t,0.41,false)
		call TriggerAddCondition(t,Condition(function Func0891))
		call SaveUnitHandle(HY,(GetHandleId(t)),(2),(source))
		set t=null
	endif
	set source=null
	set AO1=null
endfunction

function Func0893 takes nothing returns boolean
	local real x
	local real y
	local real a
	call Func0885()
	call Func0886()
	call Func0884()
	call Func0687()
	call Func0883()
	call Func0889()
	call Func0890()
	call Func0888()
	call Func0887()
	call Func0892()
	return false
endfunction

function Func0894 takes nothing returns boolean
	return GetOwningPlayer(GetTriggerUnit())==Neutrals
endfunction

function Func0895 takes nothing returns nothing
	call SaveInteger(HY,(400+GetPlayerId(GetOwningPlayer(GetKillingUnit()))),(79),((LoadInteger(HY,(400+GetPlayerId(GetOwningPlayer(GetKillingUnit()))),(79)))+1))
endfunction

function Func0896 takes nothing returns nothing
	local location BFO=GetRectCenter(rect033)
	set unit001=CreateUnitAtLoc(Player(12),'n00L',BFO,270)
	call SetUnitAcquireRange(unit001,150)
	call Func0515(unit001)
	call RemoveLocation(BFO)
	call UnitAddItem(unit001,CreateItem(integers089[integer198],0,0))
	call UnitAddAbility(unit001,'A142')
	set BFO=GetRectCenter(rect019)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect020)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect021)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect022)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect023)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect024)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect025)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect026)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect027)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect028)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect047)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect049)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
endfunction

function InitTrig_Spawn_Roshan takes nothing returns nothing
	call Func0896()
endfunction

function Func0897 takes nothing returns boolean
	if GetOwningPlayer(GetTriggerUnit())==Sentinels[0]then
		call IssuePointOrderLoc(GetTriggerUnit(),"attack",location001)
	elseif GetOwningPlayer(GetTriggerUnit())==Scourges[0]then
		call IssuePointOrderLoc(GetTriggerUnit(),"attack",location002)
	endif
	return false
endfunction

function Func0898 takes nothing returns nothing
	set integer005=integer005+1
endfunction

function Func0899 takes nothing returns nothing
	set integer004=integer004+1
endfunction

function Func0900 takes nothing returns boolean
	if GetOwningPlayer(GetTriggerUnit())==Sentinels[0]then
		call IssuePointOrderLoc(GetTriggerUnit(),"attack",location003)
	endif
	return false
endfunction

function Func0901 takes nothing returns boolean
	if GetOwningPlayer(GetTriggerUnit())==Scourges[0]then
		call IssuePointOrderLoc(GetTriggerUnit(),"attack",location003)
	endif
	return false
endfunction

function Func0902 takes nothing returns boolean
	if GetOwningPlayer(GetTriggerUnit())==Sentinels[0]then
		call IssuePointOrderLoc(GetTriggerUnit(),"attack",location004)
	endif
	return false
endfunction

function Func0903 takes nothing returns boolean
	if GetOwningPlayer(GetTriggerUnit())==Scourges[0]then
		call IssuePointOrderLoc(GetTriggerUnit(),"attack",location004)
	endif
	return false
endfunction

function Func0904 takes nothing returns boolean
	if GetOwningPlayer(GetTriggerUnit())==Sentinels[0]then
		call IssuePointOrderLoc(GetTriggerUnit(),"attack",location005)
	endif
	return false
endfunction

function Func0905 takes nothing returns boolean
	if GetOwningPlayer(GetTriggerUnit())==Scourges[0]then
		call IssuePointOrderLoc(GetTriggerUnit(),"attack",location005)
	endif
	return false
endfunction

function Func0906 takes nothing returns nothing
	call Func0228(GetEnumUnit(),'A2V1',1,15,'B0H2')
endfunction

function Func0907 takes nothing returns nothing
	call Func0228(GetEnumUnit(),'A2V0',1,15,'B0H1')
endfunction

function Func0908 takes group g returns nothing
	if GetTime()<7*60 then
		call ForGroup(g,function Func0906)
	endif
endfunction

function CreepMeetAdjustment2_Speed_Add takes nothing returns nothing
	call Func0228(GetEnumUnit(),'A2V1',1,10,'B0H2')
endfunction

function CreepMeetAdjustment2_Slow_Add takes nothing returns nothing
	call Func0228(GetEnumUnit(),'A2V0',1,20,'B0H1')
endfunction

function Func0909 takes group g returns nothing
	if GetTime()<7*60 then
		call ForGroup(g,function Func0907)
	endif
endfunction

function Func0910 takes nothing returns nothing
	local integer i=1
	local integer id
	loop
		exitwhen i>5
		set id=GetPlayerId(Sentinels[i])
		call Traffic_RegisterData("CSK"+I2S(id),PlayerCS[id])
		call Traffic_RegisterData("CSD"+I2S(id),CSDenies[id])
		call Traffic_RegisterData("NK"+I2S(id),(LoadInteger(HY,(400+id),(79))))
		set id=GetPlayerId(Scourges[i])
		call Traffic_RegisterData("CSK"+I2S(id),PlayerCS[id])
		call Traffic_RegisterData("CSD"+I2S(id),CSDenies[id])
		call Traffic_RegisterData("NK"+I2S(id),(LoadInteger(HY,(400+id),(79))))
		set i=i+1
	endloop
endfunction

function Func0911 takes boolean SYO returns nothing
	local unit u
	local string SJO="stand work alternate"
	local string SKO="stand work"
	local string SLO="stand alternate"
	local string SMO="stand"
	set u=unit153
	if IsDead(u)==false then
		if SYO then
			call SetUnitAnimation(u,SJO)
		else
			call SetUnitAnimation(u,SLO)
		endif
	endif
	set u=unit154
	if IsDead(u)==false then
		if SYO then
			call SetUnitAnimation(u,SJO)
		else
			call SetUnitAnimation(u,SLO)
		endif
	endif
	set u=unit155
	if IsDead(u)==false then
		if SYO then
			call SetUnitAnimation(u,SJO)
		else
			call SetUnitAnimation(u,SLO)
		endif
	endif
	set u=unit156
	if IsDead(u)==false then
		if SYO then
			call SetUnitAnimation(u,SJO)
		else
			call SetUnitAnimation(u,SLO)
		endif
	endif
	set u=unit157
	if IsDead(u)==false then
		if SYO then
			call SetUnitAnimation(u,SJO)
		else
			call SetUnitAnimation(u,SLO)
		endif
	endif
	set u=unit158
	if IsDead(u)==false then
		if SYO then
			call SetUnitAnimation(u,SJO)
		else
			call SetUnitAnimation(u,SLO)
		endif
	endif
	set u=unit197
	if IsDead(u)==false then
		if SYO then
			call SetUnitAnimation(u,SKO)
		else
			call SetUnitAnimation(u,SMO)
		endif
	endif
	set u=unit198
	if IsDead(u)==false then
		if SYO then
			call SetUnitAnimation(u,SKO)
		else
			call SetUnitAnimation(u,SMO)
		endif
	endif
	set u=unit199
	if IsDead(u)==false then
		if SYO then
			call SetUnitAnimation(u,SKO)
		else
			call SetUnitAnimation(u,SMO)
		endif
	endif
	set u=unit200
	if IsDead(u)==false then
		if SYO then
			call SetUnitAnimation(u,SKO)
		else
			call SetUnitAnimation(u,SMO)
		endif
	endif
	set u=unit201
	if IsDead(u)==false then
		if SYO then
			call SetUnitAnimation(u,SKO)
		else
			call SetUnitAnimation(u,SMO)
		endif
	endif
	set u=unit202
	if IsDead(u)==false then
		if SYO then
			call SetUnitAnimation(u,SKO)
		else
			call SetUnitAnimation(u,SMO)
		endif
	endif
endfunction

function Func0912 takes nothing returns boolean
	call Func0911(true)
	return false
endfunction

function Trig_Spawn_Conditions takes nothing returns boolean
	return true
	if(boolean115)then
		return boolean116
	endif
	if(boolean117)then
		return boolean118
	endif
	if(boolean027)then
		return boolean026
	endif
	if boolean109 then
		return boolean110
	endif
	if(boolean035)then
		return boolean037
	endif
	if(boolean006)then
		return boolean105
	endif
	if(boolean113)then
		return boolean114
	endif
	if(Mode_CM)then
		return boolean108
	endif
	return boolean001
endfunction

function Func0913 takes group STO,integer SRO returns nothing
	local unit u
	loop
		set u=FirstOfGroup(STO)
		exitwhen(u==null)
		call GroupRemoveUnit(STO,u)
		call SetUnitAbilityLevel(u,integer012,SRO)
	endloop
endfunction

function Func0914 takes nothing returns nothing
	local boolean SQO=ModuloInteger(GetTriggerExecCount(trigger007),7)==0
	if boolean095 then
		return
	endif
	call Func0911(false)
	if SQO then
		call Func0910()
	endif
	if GetTriggerExecCount(trigger007)==1 and boolean122==false then
		call UnitResetCooldown(CirclesOfPower[1])
		call UnitResetCooldown(CirclesOfPower[2])
		call UnitResetCooldown(CirclesOfPower[3])
		call UnitResetCooldown(CirclesOfPower[4])
		call UnitResetCooldown(CirclesOfPower[5])
		call UnitResetCooldown(CirclesOfPower[7])
		call UnitResetCooldown(CirclesOfPower[8])
		call UnitResetCooldown(CirclesOfPower[9])
		call UnitResetCooldown(CirclesOfPower[10])
		call UnitResetCooldown(CirclesOfPower[11])
		call SetUnitInvul(unit142,false)
		call SetUnitInvul(unit143,false)
		call SetUnitInvul(unit144,false)
		call SetUnitInvul(unit186,false)
		call SetUnitInvul(unit187,false)
		call SetUnitInvul(unit188,false)
	elseif GetTriggerExecCount(trigger007)==1 and boolean122 then
		call SetUnitInvul(unit143,false)
		call SetUnitInvul(unit187,false)
	endif
	if GetTriggerExecCount(trigger007)==1 then
		call EnableTrigger(trigger053)
	endif
	if boolean122==false and boolean127==false then
		if(boolean014)then
			call CreateNUnitsAtLoc(integer004,'ugho',Scourges[0],location007,270)
		else
			call CreateNUnitsAtLoc(integer004,'u001',Scourges[0],location007,270)
		endif
		call Func0908(bj_lastCreatedGroup)
		call Func0913(bj_lastCreatedGroup,2)
	endif
	if boolean126==false then
		if(boolean015)then
			call CreateNUnitsAtLoc(integer004,'ugho',Scourges[0],location006,270)
		else
			call CreateNUnitsAtLoc(integer004,'u001',Scourges[0],location006,270)
		endif
		call Func0913(bj_lastCreatedGroup,3)
	endif
	if boolean122==false and boolean124==false then
		if(boolean016)then
			call CreateNUnitsAtLoc(integer004,'ugho',Scourges[0],location008,270)
		else
			call CreateNUnitsAtLoc(integer004,'u001',Scourges[0],location008,270)
		endif
		call Func0909(bj_lastCreatedGroup)
		call Func0913(bj_lastCreatedGroup,4)
	endif
	if boolean122==false and boolean127==false then
		if(boolean011)then
			call CreateNUnitsAtLoc(integer005,'unec',Scourges[0],location011,270)
		else
			call CreateNUnitsAtLoc(integer005,'u002',Scourges[0],location011,270)
		endif
		call Func0908(bj_lastCreatedGroup)
		call Func0913(bj_lastCreatedGroup,2)
	endif
	if boolean126==false then
		if(boolean012)then
			call CreateNUnitsAtLoc(integer005,'unec',Scourges[0],location009,270)
		else
			call CreateNUnitsAtLoc(integer005,'u002',Scourges[0],location009,270)
		endif
		call Func0913(bj_lastCreatedGroup,3)
	endif
	if boolean122==false and boolean124==false then
		if(boolean013)then
			call CreateNUnitsAtLoc(integer005,'unec',Scourges[0],location010,270)
		else
			call CreateNUnitsAtLoc(integer005,'u002',Scourges[0],location010,270)
		endif
		call Func0909(bj_lastCreatedGroup)
		call Func0913(bj_lastCreatedGroup,4)
	endif
	if SQO then
		if boolean122==false and boolean127==false then
			if(boolean011)then
				call CreateNUnitsAtLoc(integer005,'umtw',Scourges[0],location011,270)
			else
				call CreateNUnitsAtLoc(integer005,'u00R',Scourges[0],location011,270)
			endif
			call Func0913(bj_lastCreatedGroup,2)
		endif
		if boolean126==false then
			if(boolean012)then
				call CreateNUnitsAtLoc(integer005,'umtw',Scourges[0],location009,270)
			else
				call CreateNUnitsAtLoc(integer005,'u00R',Scourges[0],location009,270)
			endif
			call Func0913(bj_lastCreatedGroup,3)
		endif
		if boolean122==false and boolean124==false then
			if(boolean013)then
				call CreateNUnitsAtLoc(integer005,'umtw',Scourges[0],location010,270)
			else
				call CreateNUnitsAtLoc(integer005,'u00R',Scourges[0],location010,270)
			endif
			call Func0913(bj_lastCreatedGroup,4)
		endif
	endif
	if boolean122==false and boolean127==false then
		if(boolean020)then
			call CreateNUnitsAtLoc(integer004,'esen',Sentinels[0],location014,270)
		else
			call CreateNUnitsAtLoc(integer004,'e00V',Sentinels[0],location014,270)
		endif
		call Func0909(bj_lastCreatedGroup)
		call Func0913(bj_lastCreatedGroup,2)
	endif
	if boolean126==false then
		if(boolean021)then
			call CreateNUnitsAtLoc(integer004,'esen',Sentinels[0],location012,270)
		else
			call CreateNUnitsAtLoc(integer004,'e00V',Sentinels[0],location012,270)
		endif
		call Func0913(bj_lastCreatedGroup,3)
	endif
	if boolean122==false and boolean124==false then
		if(boolean022)then
			call CreateNUnitsAtLoc(integer004,'esen',Sentinels[0],location013,270)
		else
			call CreateNUnitsAtLoc(integer004,'e00V',Sentinels[0],location013,270)
		endif
		call Func0908(bj_lastCreatedGroup)
		call Func0913(bj_lastCreatedGroup,4)
	endif
	if boolean122==false and boolean127==false then
		if(boolean017)then
			call CreateNUnitsAtLoc(integer005,'edry',Sentinels[0],location017,270)
		else
			call CreateNUnitsAtLoc(integer005,'e00W',Sentinels[0],location017,270)
		endif
		call Func0909(bj_lastCreatedGroup)
		call Func0913(bj_lastCreatedGroup,2)
	endif
	if boolean126==false then
		if(boolean018)then
			call CreateNUnitsAtLoc(integer005,'edry',Sentinels[0],location015,270)
		else
			call CreateNUnitsAtLoc(integer005,'e00W',Sentinels[0],location015,270)
		endif
		call Func0913(bj_lastCreatedGroup,3)
	endif
	if boolean122==false and boolean124==false then
		if(boolean019)then
			call CreateNUnitsAtLoc(integer005,'edry',Sentinels[0],location016,270)
		else
			call CreateNUnitsAtLoc(integer005,'e00W',Sentinels[0],location016,270)
		endif
		call Func0908(bj_lastCreatedGroup)
		call Func0913(bj_lastCreatedGroup,4)
	endif
	if SQO then
		if boolean122==false and boolean127==false then
			if(boolean017)then
				call CreateNUnitsAtLoc(integer005,'ebal',Sentinels[0],location017,270)
			else
				call CreateNUnitsAtLoc(integer005,'e026',Sentinels[0],location017,270)
			endif
			call Func0913(bj_lastCreatedGroup,2)
		endif
		if boolean126==false then
			if(boolean018)then
				call CreateNUnitsAtLoc(integer005,'ebal',Sentinels[0],location015,270)
			else
				call CreateNUnitsAtLoc(integer005,'e026',Sentinels[0],location015,270)
			endif
			call Func0913(bj_lastCreatedGroup,3)
		endif
		if boolean122==false and boolean124==false then
			if(boolean019)then
				call CreateNUnitsAtLoc(integer005,'ebal',Sentinels[0],location016,270)
			else
				call CreateNUnitsAtLoc(integer005,'e026',Sentinels[0],location016,270)
			endif
			call Func0913(bj_lastCreatedGroup,4)
		endif
	endif
endfunction

function Func0915 takes nothing returns nothing
	set boolean011=false
	call DisableTrigger(trigger008)
	call Traffic_RegisterData("Rax"+I2S(0)+I2S(0)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
	call ProvideRaxGold(GetKillingUnit(),1)
endfunction

function Func0916 takes nothing returns nothing
	set boolean012=false
	call DisableTrigger(trigger009)
	call Traffic_RegisterData("Rax"+I2S(0)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
	call ProvideRaxGold(GetKillingUnit(),1)
endfunction

function Func0917 takes nothing returns nothing
	set boolean013=false
	call DisableTrigger(trigger010)
	call Traffic_RegisterData("Rax"+I2S(0)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
	call ProvideRaxGold(GetKillingUnit(),1)
endfunction

function Func0918 takes nothing returns nothing
	set boolean014=false
	call DisableTrigger(trigger011)
	call Traffic_RegisterData("Rax"+I2S(0)+I2S(0)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
	call ProvideRaxGold(GetKillingUnit(),2)
endfunction

function Func0919 takes nothing returns nothing
	set boolean015=false
	call DisableTrigger(trigger012)
	call Traffic_RegisterData("Rax"+I2S(0)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
	call ProvideRaxGold(GetKillingUnit(),2)
endfunction

function Func0920 takes nothing returns nothing
	set boolean016=false
	call DisableTrigger(trigger013)
	call Traffic_RegisterData("Rax"+I2S(0)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
	call ProvideRaxGold(GetKillingUnit(),2)
endfunction

function Func0921 takes nothing returns nothing
	set boolean017=false
	call DisableTrigger(trigger014)
	call Traffic_RegisterData("Rax"+I2S(1)+I2S(0)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
	call ProvideRaxGold(GetKillingUnit(),1)
endfunction

function Func0922 takes nothing returns nothing
	set boolean018=false
	call DisableTrigger(trigger015)
	call Traffic_RegisterData("Rax"+I2S(1)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
	call ProvideRaxGold(GetKillingUnit(),1)
endfunction

function Func0923 takes nothing returns nothing
	set boolean019=false
	call DisableTrigger(trigger016)
	call Traffic_RegisterData("Rax"+I2S(1)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
	call ProvideRaxGold(GetKillingUnit(),1)
endfunction

function Func0924 takes nothing returns nothing
	set boolean020=false
	call DisableTrigger(trigger017)
	call Traffic_RegisterData("Rax"+I2S(1)+I2S(0)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
	call ProvideRaxGold(GetKillingUnit(),2)
endfunction

function Func0925 takes nothing returns nothing
	set boolean021=false
	call DisableTrigger(trigger018)
	call Traffic_RegisterData("Rax"+I2S(1)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
	call ProvideRaxGold(GetKillingUnit(),2)
endfunction

function Func0926 takes nothing returns nothing
	set boolean022=false
	call DisableTrigger(trigger019)
	call Traffic_RegisterData("Rax"+I2S(1)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
	call ProvideRaxGold(GetKillingUnit(),2)
endfunction

function Func0927 takes nothing returns boolean
	local real TJO=GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)
	if TJO<0.75 and boolean082==false then
		set boolean082=true
		call Traffic_RegisterData("Tree",75)
	endif
	if TJO<0.50 and boolean081==false then
		set boolean081=true
		call Traffic_RegisterData("Tree",50)
	endif
	if TJO<0.25 and boolean080==false then
		set boolean080=true
		call Traffic_RegisterData("Tree",25)
	endif
	if TJO<0.10 and boolean079==false then
		set boolean079=true
		call Traffic_RegisterData("Tree",10)
	endif
	return false
endfunction

function Func0928 takes nothing returns boolean
	local real TJO=GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)
	if TJO<0.75 and boolean078==false then
		set boolean078=true
		call Traffic_RegisterData("Throne",75)
	endif
	if TJO<0.50 and boolean077==false then
		set boolean077=true
		call Traffic_RegisterData("Throne",50)
	endif
	if TJO<0.25 and boolean076==false then
		set boolean076=true
		call Traffic_RegisterData("Throne",25)
	endif
	if TJO<0.10 and boolean075==false then
		set boolean075=true
		call Traffic_RegisterData("Throne",10)
	endif
	return false
endfunction

function Func0929 takes nothing returns boolean
	if(boolean020 or boolean021 or boolean022 or boolean017 or boolean018 or boolean019)then
		return false
	endif
	return true
endfunction

function Func0930 takes nothing returns nothing
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00,GetObjectName('n04O')+" "+GetObjectName('n0C7'))
	call SetPlayerTechResearchedSwap('R00D',(GetPlayerTechCountSimple('R00D',Sentinels[0])+30),Sentinels[0])
	call SetPlayerTechResearchedSwap('R00C',(GetPlayerTechCountSimple('R00C',Sentinels[0])+30),Sentinels[0])
	call DisableTrigger(trigger020)
endfunction

function Func0931 takes nothing returns boolean
	if(boolean014 or boolean015 or boolean016 or boolean011 or boolean012 or boolean013)then
		return false
	endif
	return true
endfunction

function Func0932 takes nothing returns nothing
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00,GetObjectName('n04X')+" "+GetObjectName('n0C9'))
	call SetPlayerTechResearchedSwap('R009',(GetPlayerTechCountSimple('R009',Scourges[0])+30),Scourges[0])
	call SetPlayerTechResearchedSwap('R00B',(GetPlayerTechCountSimple('R00B',Scourges[0])+30),Scourges[0])
	call DisableTrigger(trigger021)
endfunction

function Func0933 takes nothing returns nothing
	call SetPlayerTechResearchedSwap('R007',(GetPlayerTechCountSimple('R007',Sentinels[0])+1),Sentinels[0])
	call SetPlayerTechResearchedSwap('R00C',(GetPlayerTechCountSimple('R00C',Sentinels[0])+1),Sentinels[0])
	call SetPlayerTechResearchedSwap('R008',(GetPlayerTechCountSimple('R008',Sentinels[0])+1),Sentinels[0])
	call SetPlayerTechResearchedSwap('R00D',(GetPlayerTechCountSimple('R00D',Sentinels[0])+1),Sentinels[0])
	call SetPlayerTechResearchedSwap('R009',(GetPlayerTechCountSimple('R009',Scourges[0])+1),Scourges[0])
	call SetPlayerTechResearchedSwap('R003',(GetPlayerTechCountSimple('R003',Scourges[0])+1),Scourges[0])
	call SetPlayerTechResearchedSwap('R00A',(GetPlayerTechCountSimple('R00A',Scourges[0])+1),Scourges[0])
	call SetPlayerTechResearchedSwap('R00B',(GetPlayerTechCountSimple('R00B',Scourges[0])+1),Scourges[0])
endfunction

function Func0934 takes nothing returns nothing
	local location BFO=GetRectCenter(rect050)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nbdo',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nbds',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'ngst',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'n026',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nggr',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nbdk',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nbwm',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nogm',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nomg',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nfpc',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nfpu',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nsth',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nstl',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nsat',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nwlg',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nkol',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nkob',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nkot',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'ncnk',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'ncen',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'ngns',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nftb',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nfsh',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'ngh1',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'npfl',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nowe',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nowb',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nmrm',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nmrr',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'nmrl',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'ndtr',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'ndtw',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'n0LC',BFO,270))
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'n0LD',BFO,270))
	call RemoveLocation(BFO)
endfunction

function Func0935 takes integer ROO,integer G0O,integer R2O returns integer
	local integer R3O=integers114[ROO]
	local integer random=GetRandomInt(G0O,R2O)
	loop
		exitwhen R3O!=random
		set random=GetRandomInt(G0O,R2O)
	endloop
	set integers114[ROO]=random
	return random
endfunction

function Func0936 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'n0HW',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'n0HX',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'n0HW',x,y,0),x,y)
endfunction

function Func0937 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'njg1',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'njg1',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'njga',x,y,0),x,y)
endfunction

function Func0938 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'nbdo',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nbdo',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nbds',x,y,0),x,y)
endfunction

function Func0939 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'nbdk',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nbdk',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nbwm',x,y,0),x,y)
endfunction

function Func0940 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'ngst',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'ngst',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nggr',x,y,0),x,y)
endfunction

function AncientLizards_AI takes nothing returns boolean
	call CleanTrigger(GetTriggeringTrigger())
	call IssueTargetOrder(GetTriggerUnit(),"unholyfrenzy",GetTriggerUnit())
	return false
endfunction

function Func0941 takes real x,real y returns nothing
	local unit u
	set u=CreateUnit(Neutrals,'n0LC',x,y,0)
	call SetUnitPosition(u,x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'n0LD',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'n0LD',x,y,0),x,y)
	set u=null
endfunction

function Func0942 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'nogm',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nogm',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nomg',x,y,0),x,y)
endfunction

function Func0943 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'nfpc',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nfpu',x,y,0),x,y)
endfunction

function Func0944 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'nsth',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nstl',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nsat',x,y,0),x,y)
endfunction

function Func0945 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'nstl',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nstl',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nsat',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nsat',x,y,0),x,y)
endfunction

function Func0946 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'nwlg',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nwlg',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'n00S',x,y,0),x,y)
endfunction

function Func0947 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'n026',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'n026',x,y,0),x,y)
endfunction

function Func0948 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'nkol',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nkob',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nkob',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nkob',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nkot',x,y,0),x,y)
endfunction

function Func0949 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'nftb',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nftb',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nfsh',x,y,0),x,y)
endfunction

function Func0950 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'ncen',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'ncnk',x,y,0),x,y)
endfunction

function Func0951 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'ngns',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'ngns',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'ngns',x,y,0),x,y)
endfunction

function Func0952 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'nftb',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nftb',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nkol',x,y,0),x,y)
endfunction

function Func0953 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'ngh1',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'npfl',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'npfl',x,y,0),x,y)
endfunction

function Func0954 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'nowe',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nowb',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'nowb',x,y,0),x,y)
endfunction

function Func0955 takes real x,real y returns nothing
	call SetUnitPosition(CreateUnit(Neutrals,'ndtr',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'ndtr',x,y,0),x,y)
	call SetUnitPosition(CreateUnit(Neutrals,'ndtw',x,y,0),x,y)
endfunction

function Func0956 takes real x,real y returns nothing
	local integer MLI=Func0935(3,1,5)
	if MLI==1 then
		call Func0943(x,y)
	elseif MLI==2 then
		call Func0944(x,y)
	elseif MLI==3 then
		call Func0954(x,y)
	elseif MLI==4 then
		call Func0955(x,y)
	elseif MLI==5 then
		call Func0950(x,y)
	endif
endfunction

function Func0957 takes real x,real y returns nothing
	local integer MLI=Func0935(12,1,5)
	if MLI==1 then
		call Func0943(x,y)
	elseif MLI==2 then
		call Func0944(x,y)
	elseif MLI==3 then
		call Func0954(x,y)
	elseif MLI==4 then
		call Func0955(x,y)
	elseif MLI==5 then
		call Func0950(x,y)
	endif
endfunction

function Func0958 takes real x,real y returns nothing
	local integer MLI=Func0935(4,1,5)
	if MLI==1 then
		call Func0943(x,y)
	elseif MLI==2 then
		call Func0944(x,y)
	elseif MLI==3 then
		call Func0954(x,y)
	elseif MLI==4 then
		call Func0955(x,y)
	elseif MLI==5 then
		call Func0950(x,y)
	endif
endfunction

function Func0959 takes real x,real y returns nothing
	local integer MLI=Func0935(9,1,5)
	if MLI==1 then
		call Func0943(x,y)
	elseif MLI==2 then
		call Func0944(x,y)
	elseif MLI==3 then
		call Func0954(x,y)
	elseif MLI==4 then
		call Func0955(x,y)
	elseif MLI==5 then
		call Func0950(x,y)
	endif
endfunction

function Func0960 takes real x,real y returns nothing
	local integer MLI=Func0935(6,1,6)
	if MLI==1 then
		call Func0953(x,y)
	elseif MLI==2 then
		call Func0952(x,y)
	elseif MLI==3 then
		call Func0951(x,y)
	elseif MLI==4 then
		call Func0948(x,y)
	elseif MLI==5 then
		call Func0949(x,y)
	elseif MLI==6 then
		call Func0936(x,y)
	endif
endfunction

function Func0961 takes real x,real y returns nothing
	local integer MLI=Func0935(5,1,6)
	if MLI==1 then
		call Func0953(x,y)
	elseif MLI==2 then
		call Func0952(x,y)
	elseif MLI==3 then
		call Func0951(x,y)
	elseif MLI==4 then
		call Func0948(x,y)
	elseif MLI==5 then
		call Func0949(x,y)
	elseif MLI==6 then
		call Func0936(x,y)
	endif
endfunction

function Func0962 takes real x,real y returns nothing
	local integer MLI=Func0935(7,1,5)
	if MLI==1 then
		call Func0947(x,y)
	elseif MLI==2 then
		call Func0942(x,y)
	elseif MLI==3 then
		call Func0945(x,y)
	elseif MLI==4 then
		call Func0946(x,y)
	elseif MLI==5 then
		call Func0950(x,y)
	endif
endfunction

function Func0963 takes real x,real y returns nothing
	local integer MLI=Func0935(8,1,5)
	if MLI==1 then
		call Func0947(x,y)
	elseif MLI==2 then
		call Func0942(x,y)
	elseif MLI==3 then
		call Func0945(x,y)
	elseif MLI==4 then
		call Func0946(x,y)
	elseif MLI==5 then
		call Func0950(x,y)
	endif
endfunction

function Func0964 takes real x,real y returns nothing
	local integer MLI=Func0935(10,1,5)
	if MLI==1 then
		call Func0947(x,y)
	elseif MLI==2 then
		call Func0942(x,y)
	elseif MLI==3 then
		call Func0945(x,y)
	elseif MLI==4 then
		call Func0946(x,y)
	elseif MLI==5 then
		call Func0950(x,y)
	endif
endfunction

function Func0965 takes real x,real y returns nothing
	local integer MLI=Func0935(11,1,5)
	if MLI==1 then
		call Func0947(x,y)
	elseif MLI==2 then
		call Func0942(x,y)
	elseif MLI==3 then
		call Func0945(x,y)
	elseif MLI==4 then
		call Func0946(x,y)
	elseif MLI==5 then
		call Func0950(x,y)
	endif
endfunction

function Func0966 takes real x,real y returns nothing
	local integer MLI=Func0935(1,1,5)
	if MLI==1 then
		call Func0937(x,y)
	elseif MLI==2 then
		call Func0938(x,y)
	elseif MLI==3 then
		call Func0939(x,y)
	elseif MLI==4 then
		call Func0940(x,y)
	elseif MLI==5 then
		call Func0941(x,y)
	endif
endfunction

function Func0967 takes real x,real y returns nothing
	local integer MLI=Func0935(2,1,5)
	if MLI==1 then
		call Func0937(x,y)
	elseif MLI==2 then
		call Func0938(x,y)
	elseif MLI==3 then
		call Func0939(x,y)
	elseif MLI==4 then
		call Func0940(x,y)
	elseif MLI==5 then
		call Func0941(x,y)
	endif
endfunction

function Func0968 takes nothing returns nothing
	if GetUnitAbilityLevel(GetEnumUnit(),'A0P4')!=0 then
		call GroupRemoveUnit(group001,GetEnumUnit())
	endif
	if GetUnitTypeId(GetEnumUnit())=='o003' then
		call GroupRemoveUnit(group001,GetEnumUnit())
	endif
	if GetUnitTypeId(GetEnumUnit())=='o01X' then
		call GroupRemoveUnit(group001,GetEnumUnit())
	endif
	if IsDead(GetEnumUnit()) then
		call GroupRemoveUnit(group001,GetEnumUnit())
	endif
	if Func0089(GetEnumUnit()) then
		call GroupRemoveUnit(group001,GetEnumUnit())
	endif
endfunction

function Func0969 takes group g returns boolean
	set group001=g
	call ForGroup(g,function Func0968)
	return FirstOfGroup(g)==null
endfunction

function Func0970 takes nothing returns boolean
	local group g
	local rect r1
	local rect r2
	if boolean123==false then
		return false
	endif
	set r1=rect034
	set r2=rect019
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRect(g,r1,Condition(function ReturnTrue))
	if Func0969(g)then
		call Func0966(GetRectCenterX(r2),GetRectCenterY(r2))
	endif
	call KillGroup(g)
	set r1=rect035
	set r2=rect020
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRect(g,r1,Condition(function ReturnTrue))
	if Func0969(g)then
		call Func0967(GetRectCenterX(r2),GetRectCenterY(r2))
	endif
	call KillGroup(g)
	set r1=rect036
	set r2=rect021
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRect(g,r1,Condition(function ReturnTrue))
	if Func0969(g)then
		call Func0956(GetRectCenterX(r2),GetRectCenterY(r2))
	endif
	call KillGroup(g)
	set r1=rect037
	set r2=rect022
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRect(g,r1,Condition(function ReturnTrue))
	if Func0969(g)then
		call Func0958(GetRectCenterX(r2),GetRectCenterY(r2))
	endif
	call KillGroup(g)
	set r1=rect038
	set r2=rect023
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRect(g,r1,Condition(function ReturnTrue))
	if Func0969(g)then
		call Func0961(GetRectCenterX(r2),GetRectCenterY(r2))
	endif
	call KillGroup(g)
	set r1=rect039
	set r2=rect024
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRect(g,r1,Condition(function ReturnTrue))
	if Func0969(g)then
		call Func0960(GetRectCenterX(r2),GetRectCenterY(r2))
	endif
	call KillGroup(g)
	set r1=rect040
	set r2=rect025
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRect(g,r1,Condition(function ReturnTrue))
	if Func0969(g)then
		call Func0962(GetRectCenterX(r2),GetRectCenterY(r2))
	endif
	call KillGroup(g)
	set r1=rect042
	set r2=rect026
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRect(g,r1,Condition(function ReturnTrue))
	if Func0969(g)then
		call Func0963(GetRectCenterX(r2),GetRectCenterY(r2))
	endif
	call KillGroup(g)
	set r1=rect041
	set r2=rect027
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRect(g,r1,Condition(function ReturnTrue))
	if Func0969(g)then
		call Func0959(GetRectCenterX(r2),GetRectCenterY(r2))
	endif
	call KillGroup(g)
	set r1=rect043
	set r2=rect028
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRect(g,r1,Condition(function ReturnTrue))
	if Func0969(g)then
		call Func0964(GetRectCenterX(r2),GetRectCenterY(r2))
	endif
	call KillGroup(g)
	set r1=rect046
	set r2=rect047
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRect(g,r1,Condition(function ReturnTrue))
	if Func0969(g)then
		call Func0965(GetRectCenterX(r2),GetRectCenterY(r2))
	endif
	call KillGroup(g)
	set r1=rect048
	set r2=rect049
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRect(g,r1,Condition(function ReturnTrue))
	if Func0969(g)then
		call Func0957(GetRectCenterX(r2),GetRectCenterY(r2))
	endif
	call KillGroup(g)
	set r1=null
	set r2=null
	set g=null
	return false
endfunction

function Func0971 takes nothing returns nothing
	local integer TJI=GetRandomInt(1,9)
	local location l
	if boolean122 then
		set TJI=GetRandomInt(1,3)
		if TJI==1 then
			set TJI=2
		endif
		if TJI==2 then
			set TJI=5
		endif
		if TJI==3 then
			set TJI=8
		endif
	endif
	if(TJI==1)then
		set l=GetRectCenter(rect186)
		call CreateNUnitsAtLoc(1,'n003',Sentinels[0],l,270)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n051'))
		call Func0913(bj_lastCreatedGroup,4)
	endif
	if(TJI==2)then
		set l=GetRectCenter(rect185)
		call CreateNUnitsAtLoc(1,'n003',Sentinels[0],l,270)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n052'))
		call Func0913(bj_lastCreatedGroup,2)
	endif
	if(TJI==3)then
		set l=GetRectCenter(rect184)
		call CreateNUnitsAtLoc(1,'n003',Sentinels[0],l,270)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n053'))
		call Func0913(bj_lastCreatedGroup,3)
	endif
	if(TJI==4)then
		set l=GetRectCenter(rect186)
		call CreateNUnitsAtLoc(1,'n00E',Sentinels[0],l,270)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n058'))
		call Func0913(bj_lastCreatedGroup,4)
	endif
	if(TJI==5)then
		set l=GetRectCenter(rect185)
		call CreateNUnitsAtLoc(1,'n00E',Sentinels[0],l,270)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n04Z'))
		call Func0913(bj_lastCreatedGroup,2)
	endif
	if(TJI==6)then
		set l=GetRectCenter(rect184)
		call CreateNUnitsAtLoc(1,'n00E',Sentinels[0],l,270)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n057'))
		call Func0913(bj_lastCreatedGroup,3)
	endif
	if(TJI==7)and boolean122==false then
		set l=GetRectCenter(rect186)
		call CreateNUnitsAtLoc(1,'n00D',Sentinels[0],l,270)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n056'))
		call Func0913(bj_lastCreatedGroup,4)
	endif
	if(TJI==8)and boolean122==false then
		set l=GetRectCenter(rect185)
		call CreateNUnitsAtLoc(1,'n00D',Sentinels[0],l,270)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n04T'))
		call Func0913(bj_lastCreatedGroup,2)
	endif
	if(TJI==9)then
		set l=GetRectCenter(rect184)
		call CreateNUnitsAtLoc(1,'n00D',Sentinels[0],l,270)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n05C'))
		call Func0913(bj_lastCreatedGroup,3)
	endif
	if(TJI==1)then
		set l=GetRectCenter(rect182)
		call CreateNUnitsAtLoc(1,'n003',Scourges[0],l,270)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n0CD'))
		call Func0913(bj_lastCreatedGroup,4)
	endif
	if(TJI==2)then
		set l=GetRectCenter(rect181)
		call CreateNUnitsAtLoc(1,'n003',Scourges[0],l,270)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n0CE'))
		call Func0913(bj_lastCreatedGroup,2)
	endif
	if(TJI==3)then
		set l=GetRectCenter(rect183)
		call CreateNUnitsAtLoc(1,'n003',Scourges[0],l,270)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n0CC'))
		call Func0913(bj_lastCreatedGroup,3)
	endif
	if(TJI==4)then
		set l=GetRectCenter(rect182)
		call CreateNUnitsAtLoc(1,'n00E',Scourges[0],l,270)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n0CG'))
		call Func0913(bj_lastCreatedGroup,4)
	endif
	if(TJI==5)then
		set l=GetRectCenter(rect181)
		call CreateNUnitsAtLoc(1,'n00E',Scourges[0],l,270)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n0CH'))
		call Func0913(bj_lastCreatedGroup,2)
	endif
	if(TJI==6)then
		set l=GetRectCenter(rect183)
		call CreateNUnitsAtLoc(1,'n00E',Scourges[0],l,270)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n0CF'))
		call Func0913(bj_lastCreatedGroup,3)
	endif
	if(TJI==7)then
		set l=GetRectCenter(rect182)
		call CreateNUnitsAtLoc(1,'n00D',Scourges[0],l,270)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n0CJ'))
		call Func0913(bj_lastCreatedGroup,4)
	endif
	if(TJI==8)then
		set l=GetRectCenter(rect181)
		call CreateNUnitsAtLoc(1,'n00D',Scourges[0],l,270)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n0CK'))
		call Func0913(bj_lastCreatedGroup,2)
	endif
	if(TJI==9)then
		set l=GetRectCenter(rect183)
		call CreateNUnitsAtLoc(1,'n00D',Scourges[0],l,270)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n0CI'))
		call Func0913(bj_lastCreatedGroup,3)
	endif
endfunction

function DisplayLeaderBoard takes nothing returns nothing
	local integer TGI
	local integer THI
	local integer P8O
	local integer P9O
	local integer i
	local player p
	set integer420=integer420+1
	set integer423=0
	set integer424=0
	set i=0
	loop
		exitwhen i>5
		set p=Sentinels[i]
		if Func0055(p)then
			set integer423=integer423+1
		endif
		set p=Scourges[i]
		if Func0055(p)then
			set integer424=integer424+1
		endif
		set i=i+1
	endloop
	if boolean059==false then
		set integer007=integer423
		set integer008=integer424
	endif
	set TGI=1
	set THI=5
	set P8O=1
	loop
		exitwhen TGI>THI
		set p=Sentinels[TGI]
		if Func0055(p)then
			set players001[P8O]=p
			set P8O=P8O+1
		endif
		set TGI=TGI+1
	endloop
	set TGI=1
	set THI=5
	set P8O=1
	loop
		exitwhen TGI>THI
		set p=Scourges[TGI]
		if Func0055(p)then
			set players002[P8O]=p
			set P8O=P8O+1
		endif
		set TGI=TGI+1
	endloop
	if integer420==1 then
		set multiboard001=CreateMultiboardBJ(7+6,3+integer424+integer423," ")
		call MultiboardMinimize(multiboard001,true)
	endif
	call MBSetText(multiboard001,2,1,"CD")
	call MBSetText(multiboard001,3,1,"|c00838B8BL|r")
	call MBSetText(multiboard001,4,1,string029+"K|r")
	call MBSetText(multiboard001,5,1,string031+"D|r")
	call MBSetText(multiboard001,6,1,string032+"A|r")
	call MBSetText(multiboard001,1,2,GetObjectName('n0DK'))
	call MBSetText(multiboard001,4,2,string029+"0|r")
	call MBSetText(multiboard001,5,2,string031+"0|r")
	call MBSetText(multiboard001,1,3+integer423,GetObjectName('n0DO'))
	call MBSetText(multiboard001,4,3+integer423,string029+"0|r")
	call MBSetText(multiboard001,5,3+integer423,string031+"0|r")
	call MBSetColor(multiboard001,1,2,(Func0072(SubString(Players_Color[GetPlayerId((Sentinels[0]))],4,6)))/255.0*100,(Func0072(SubString(Players_Color[GetPlayerId((Sentinels[0]))],6,8)))/255.0*100,(Func0072(SubString(Players_Color[GetPlayerId((Sentinels[0]))],8,10)))/255.0*100,0)
	call MBSetColor(multiboard001,1,3+integer423,(Func0072(SubString(Players_Color[GetPlayerId((Scourges[0]))],4,6)))/255.0*100,(Func0072(SubString(Players_Color[GetPlayerId((Scourges[0]))],6,8)))/255.0*100,(Func0072(SubString(Players_Color[GetPlayerId((Scourges[0]))],8,10)))/255.0*100,0)
	set TGI=1
	set THI=3+integer424+integer423
	loop
		exitwhen TGI>THI
		call MBSetWidth(multiboard001,1,TGI,10.8)
		call MBSetWidth(multiboard001,2,TGI,2)
		call MBSetWidth(multiboard001,3,TGI,2)
		call MBSetWidth(multiboard001,4,TGI,1.3)
		call MBSetWidth(multiboard001,5,TGI,1.3)
		call MBSetWidth(multiboard001,6,TGI,1.3)
		call MBSetWidth(multiboard001,7,TGI,2.5)
		call MBSetWidth(multiboard001,8,TGI,0.01)
		call MBSetWidth(multiboard001,9,TGI,0.01)
		call MBSetWidth(multiboard001,10,TGI,0.01)
		call MBSetWidth(multiboard001,11,TGI,0.01)
		call MBSetWidth(multiboard001,12,TGI,0.01)
		call MBSetWidth(multiboard001,13,TGI,0.01)
		set TGI=TGI+1
	endloop
	set TGI=1
	set THI=7+6
	loop
		exitwhen TGI>THI
		set P8O=1
		set P9O=3+integer424+integer423
		loop
			exitwhen P8O>P9O
			call MBSetStyle(multiboard001,TGI,P8O,true,false)
			set P8O=P8O+1
		endloop
		set TGI=TGI+1
	endloop
	set TGI=1
	set THI=integer423
	loop
		exitwhen TGI>THI
		call MBSetStyle(multiboard001,1,TGI+2,true,true)
		call MBSetColor(multiboard001,7,TGI+2,255,204,0,0)
		set integers115[GetPlayerId(players001[TGI])]=1-1
		set integers116[GetPlayerId(players001[TGI])]=TGI+2-1
		call MBSetText(multiboard001,1,TGI+2,(Players_Name[GetPlayerId((players001[TGI]))]))
		if IsPlayer(players001[TGI])then
			call MBSetColor(multiboard001,1,TGI+2,(Func0072(SubString(Players_Color[GetPlayerId((players001[TGI]))],4,6)))/255.0*100,(Func0072(SubString(Players_Color[GetPlayerId((players001[TGI]))],6,8)))/255.0*100,(Func0072(SubString(Players_Color[GetPlayerId((players001[TGI]))],8,10)))/255.0*100,0)
			call MBSetColor(multiboard001,2,TGI+2,(Func0072(SubString(Players_Color[GetPlayerId((players001[TGI]))],4,6)))/255.0*100,(Func0072(SubString(Players_Color[GetPlayerId((players001[TGI]))],6,8)))/255.0*100,(Func0072(SubString(Players_Color[GetPlayerId((players001[TGI]))],8,10)))/255.0*100,0)
		else
			call MBSetText(multiboard001,1,TGI+2,"|c00333333"+(Players_Name[GetPlayerId((players001[TGI]))])+"|r")
		endif
		call MBSetText(multiboard001,4,(TGI+2),string029+"0|r")
		call MBSetText(multiboard001,5,(TGI+2),string031+"0|r")
		call MBSetText(multiboard001,6,(TGI+2),string032+"0|r")
		set TGI=TGI+1
	endloop
	set TGI=1
	set THI=integer424
	loop
		exitwhen TGI>THI
		call MBSetStyle(multiboard001,1,TGI+3+integer423,true,true)
		call MBSetColor(multiboard001,7,TGI+3+integer423,255,204,0,0)
		set integers115[GetPlayerId(players002[TGI])]=1-1
		set integers116[GetPlayerId(players002[TGI])]=TGI+3+integer423-1
		call MBSetText(multiboard001,1,TGI+3+integer423,(Players_Name[GetPlayerId((players002[TGI]))]))
		if IsPlayer(players002[TGI])then
			call MBSetColor(multiboard001,1,TGI+3+integer423,(Func0072(SubString(Players_Color[GetPlayerId((players002[TGI]))],4,6)))/255.0*100,(Func0072(SubString(Players_Color[GetPlayerId((players002[TGI]))],6,8)))/255.0*100,(Func0072(SubString(Players_Color[GetPlayerId((players002[TGI]))],8,10)))/255.0*100,0)
			call MBSetColor(multiboard001,2,TGI+3+integer423,(Func0072(SubString(Players_Color[GetPlayerId((players002[TGI]))],4,6)))/255.0*100,(Func0072(SubString(Players_Color[GetPlayerId((players002[TGI]))],6,8)))/255.0*100,(Func0072(SubString(Players_Color[GetPlayerId((players002[TGI]))],8,10)))/255.0*100,0)
		else
			call MBSetText(multiboard001,1,TGI+3+integer423,"|c00333333"+(Players_Name[GetPlayerId((players002[TGI]))])+"|r")
		endif
		call MBSetText(multiboard001,4,(TGI+3+integer423),string029+"0|r")
		call MBSetText(multiboard001,5,(TGI+3+integer423),string031+"0|r")
		call MBSetText(multiboard001,6,(TGI+3+integer423),string032+"0|r")
		set TGI=TGI+1
	endloop
	set integer421=1
	set integer422=3+integer424+integer423-2
	if isObserversMode and(LocalPlayer==Observer1 or LocalPlayer==Observer2)and integer420==1 then
		call MultiboardDisplay(multiboard001,false)
	endif
	call MBSetStyle(multiboard001,7,1,false,true)
	call MBSetIcon(multiboard001,7,1,"UI\\Feedback\\Resources\\ResourceGold.blp")
	if integer420>1 then
		call TriggerExecute(trigger026)
	endif
endfunction

function Func0973 takes nothing returns nothing
	local integer TGI
	local integer THI
	call MBSetText(multiboard001,4,2,string029+I2S(integers001[GetPlayerId(Sentinels[0])])+"|r")
	call MBSetText(multiboard001,5,2,string031+I2S(integers002[GetPlayerId(Sentinels[0])])+"|r")
	call MBSetText(multiboard001,4,3+integer423,string029+I2S(integers001[GetPlayerId(Scourges[0])])+"|r")
	call MBSetText(multiboard001,5,3+integer423,string031+I2S(integers002[GetPlayerId(Scourges[0])])+"|r")
	set TGI=1
	set THI=integer423
	loop
		exitwhen TGI>THI
		call MBSetText(multiboard001,4,(TGI+2),string029+I2S(integers001[GetPlayerId(players001[TGI])])+"|r")
		call MBSetText(multiboard001,5,(TGI+2),string031+I2S(integers002[GetPlayerId(players001[TGI])])+"|r")
		call MBSetText(multiboard001,6,(TGI+2),string032+I2S(integers006[GetPlayerId(players001[TGI])])+"|r")
		set TGI=TGI+1
	endloop
	set TGI=1
	set THI=integer424
	loop
		exitwhen TGI>THI
		call MBSetText(multiboard001,4,(TGI+3+integer423),string029+I2S(integers001[GetPlayerId(players002[TGI])])+"|r")
		call MBSetText(multiboard001,5,(TGI+3+integer423),string031+I2S(integers002[GetPlayerId(players002[TGI])])+"|r")
		call MBSetText(multiboard001,6,(TGI+3+integer423),string032+I2S(integers006[GetPlayerId(players002[TGI])])+"|r")
		set TGI=TGI+1
	endloop
endfunction

function Func0974 takes nothing returns boolean
	if(GetUnitTypeId(GetTriggerUnit())=='e00R')then
		return true
	endif
	if(GetUnitTypeId(GetTriggerUnit())=='e011')then
		return true
	endif
	if(GetUnitTypeId(GetTriggerUnit())=='e00S')then
		return true
	endif
	if(GetUnitTypeId(GetTriggerUnit())=='e019')then
		return true
	endif
	return false
endfunction

function Func0975 takes nothing returns nothing
	set integers022[1]=(integers022[1]+1)
endfunction

function Func0976 takes nothing returns boolean
	if(GetUnitTypeId(GetTriggerUnit())=='u00M')then
		return true
	endif
	if(GetUnitTypeId(GetTriggerUnit())=='u00D')then
		return true
	endif
	if(GetUnitTypeId(GetTriggerUnit())=='u00N')then
		return true
	endif
	if(GetUnitTypeId(GetTriggerUnit())=='u00T')then
		return true
	endif
	return false
endfunction

function Func0977 takes nothing returns nothing
	set integers022[2]=(integers022[2]+1)
endfunction

function Func0978 takes integer a returns integer
	local integer i=0
	local integer x=0
	local string s=I2S(a)
	loop
		exitwhen i>StringLength(s)
		if SubString(s,i,i+1)=="1"then
			set x=x+1
		endif
		set i=i+1
	endloop
	return x
endfunction

function Func0979 takes player T4I,integer PWO returns string
	if IsPlayerAlly(LocalPlayer,T4I) then
		return Func0350(UnitItemInSlot(Players_Hero[GetPlayerId(T4I)],PWO-1))
	else
		return"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
	endif
endfunction

function Func0980 takes nothing returns nothing
	local integer TGI
	local integer THI
	local string time
	local real QHI
	local string s1=" "
	local integer r
	local integer i
	local integer array time_1a
	local string array color_1a
	local integer index_1a=0
	local integer array time_1b
	local string array color_1b
	local integer index_1b=0
	local integer x=0
	local integer id
	local string PYO
	local string PJO
	local string PKO
	local string PLO
	local string PMO
	local string s2=" "
	local string s
	local real PNO
	local string spacer
	local integer PSO=0
	local string PTO=""
	local string PRO=""
	local integer PPO=0
	local integer PQO=0
	local string PUO=""
	if multiboard001==null then
		return
	endif
	set i=1
	loop
		exitwhen i>5
		set r=R2I(TimerGetRemaining(timers002[GetPlayerId(Sentinels[i])]))
		if r>0 then
			set PSO=PSO+Func0978(r)
			if PPO==0 then
				if r<10 then
					set PTO=Players_Color[GetPlayerId(Sentinels[i])]+"0"+I2S(r)+" |r"
				else
					set PTO=Players_Color[GetPlayerId(Sentinels[i])]+I2S(r)+" |r"
				endif
			else
				if r<10 then
					set PTO=PTO+string033+"| |r"+Players_Color[GetPlayerId(Sentinels[i])]+"0"+I2S(r)+" |r"
				else
					set PTO=PTO+string033+"| |r"+Players_Color[GetPlayerId(Sentinels[i])]+I2S(r)+" |r"
				endif
			endif
			set PPO=PPO+1
		endif
		set i=i+1
	endloop
	if PPO>0 then
		if IsPlayerAlly(LocalPlayer,Sentinels[0]) then
			set PTO=string033+"["+GetObjectName('n0JS')+" |r"+PTO+string033+"]|r"
		else
			set PTO=string030+"["+GetObjectName('n0JR')+" |r"+PTO+string030+"]|r"
		endif
	endif
	set i=1
	loop
		exitwhen i>5
		set r=R2I(TimerGetRemaining(timers002[GetPlayerId(Scourges[i])]))
		if r>0 then
			set PSO=PSO+Func0978(r)
			if PQO==0 then
				if r<10 then
					set PRO=Players_Color[GetPlayerId(Scourges[i])]+"0"+I2S(r)+" |r"
				else
					set PRO=Players_Color[GetPlayerId(Scourges[i])]+I2S(r)+" |r"
				endif
			else
				if r<10 then
					set PRO=PRO+string033+"| |r"+Players_Color[GetPlayerId(Scourges[i])]+"0"+I2S(r)+" |r"
				else
					set PRO=PRO+string033+"| |r"+Players_Color[GetPlayerId(Scourges[i])]+I2S(r)+" |r"
				endif
			endif
			set PQO=PQO+1
		endif
		set i=i+1
	endloop
	if PQO>0 then
		if IsPlayerAlly(LocalPlayer,Scourges[0]) then
			set PRO=string033+"["+GetObjectName('n0JS')+" |r"+PRO+string033+"]|r"
		else
			set PRO=string030+"["+GetObjectName('n0JR')+" |r"+PRO+string030+"]|r"
		endif
	endif
	if multiboard001!=null then
		set id=GetPlayerId(LocalPlayer)
		if id>=0 and id<16 then
			if booleans014[x]then
				set PYO=I2S(integers001[id])
				set PJO=I2S(integers002[id])
				set PKO=I2S(integers006[id])
				set PLO=I2S(PlayerCS[id])
				set PMO=I2S(CSDenies[id])
				set s2=" |c00838B8B("+PYO+"/"+PJO+"/"+PKO+" - "+PLO+"/"+PMO+" - |r|c00FFDC00"+I2S(ReliableGold[id])+"|r |c00838B8B)|r"
			endif
		endif
	endif
	if PQO==0 and PPO==0 then
		call MultiboardSetTitleText(multiboard001,s2)
	else
		if IsPlayerAlly(LocalPlayer,Sentinels[0]) then
			call MultiboardSetTitleText(multiboard001,PRO+" "+PTO+" "+s2)
		else
			call MultiboardSetTitleText(multiboard001,PTO+" "+PRO+" "+s2)
		endif
	endif
	if(isObserversMode and(LocalPlayer==Observer1 or LocalPlayer==Observer2))==false then
		call MultiboardDisplay(multiboard001,true)
	endif
	if booleans033[GetPlayerId(LocalPlayer)]==false then
		call SetWaterBaseColor(0,0,255,255)
	endif
	set TGI=1
	set THI=integer423
	loop
		exitwhen TGI>THI
		call MBSetIcon(multiboard001,1,TGI+2,Func0037(Players_Hero[GetPlayerId(players001[TGI])]))
		call MBSetText(multiboard001,3,TGI+2,"|c00838B8B"+I2S(GetHeroLevel(Players_Hero[GetPlayerId(players001[TGI])]))+"|r")
		if booleans031[GetPlayerId(LocalPlayer)]then
			call MBSetWidth(multiboard001,7,1,3)
			call MBSetWidth(multiboard001,8,1,2.8)
			call MBSetWidth(multiboard001,9,1,0.8)
			call MBSetWidth(multiboard001,10,1,0.8)
			call MBSetWidth(multiboard001,11,1,0.8)
			call MBSetWidth(multiboard001,12,1,0.8)
			call MBSetWidth(multiboard001,13,1,0.1)
			call MBSetWidth(multiboard001,7,TGI+2,3)
			call MBSetWidth(multiboard001,8,TGI+2,1.1)
			call MBSetWidth(multiboard001,9,TGI+2,1.1)
			call MBSetWidth(multiboard001,10,TGI+2,1.1)
			call MBSetWidth(multiboard001,11,TGI+2,1.1)
			call MBSetWidth(multiboard001,12,TGI+2,1.1)
			call MBSetWidth(multiboard001,13,TGI+2,0.1)
			call MBSetStyle(multiboard001,8,TGI+2,false,true)
			call MBSetStyle(multiboard001,9,TGI+2,false,true)
			call MBSetStyle(multiboard001,10,TGI+2,false,true)
			call MBSetStyle(multiboard001,11,TGI+2,false,true)
			call MBSetStyle(multiboard001,12,TGI+2,false,true)
			call MBSetStyle(multiboard001,13,TGI+2,false,true)
			call MBSetText(multiboard001,8,1,"Items")
		else
			call MBSetWidth(multiboard001,7,1,2)
			call MBSetWidth(multiboard001,8,1,0.1)
			call MBSetWidth(multiboard001,9,1,0.1)
			call MBSetWidth(multiboard001,10,1,0.1)
			call MBSetWidth(multiboard001,11,1,0.1)
			call MBSetWidth(multiboard001,12,1,0.1)
			call MBSetWidth(multiboard001,13,1,0.1)
			call MBSetWidth(multiboard001,7,TGI+2,2.5)
			call MBSetWidth(multiboard001,8,TGI+2,0.1)
			call MBSetWidth(multiboard001,9,TGI+2,0.1)
			call MBSetWidth(multiboard001,10,TGI+2,0.1)
			call MBSetWidth(multiboard001,11,TGI+2,0.1)
			call MBSetWidth(multiboard001,12,TGI+2,0.1)
			call MBSetWidth(multiboard001,13,TGI+2,0.1)
			call MBSetStyle(multiboard001,8,TGI+2,false,false)
			call MBSetStyle(multiboard001,9,TGI+2,false,false)
			call MBSetStyle(multiboard001,10,TGI+2,false,false)
			call MBSetStyle(multiboard001,11,TGI+2,false,false)
			call MBSetStyle(multiboard001,12,TGI+2,false,false)
			call MBSetStyle(multiboard001,13,TGI+2,false,false)
			call MBSetText(multiboard001,8,1," ")
		endif
		call MBSetIcon(multiboard001,8,TGI+2,Func0979(players001[TGI],1))
		call MBSetIcon(multiboard001,9,TGI+2,Func0979(players001[TGI],2))
		call MBSetIcon(multiboard001,10,TGI+2,Func0979(players001[TGI],3))
		call MBSetIcon(multiboard001,11,TGI+2,Func0979(players001[TGI],4))
		call MBSetIcon(multiboard001,12,TGI+2,Func0979(players001[TGI],5))
		call MBSetIcon(multiboard001,13,TGI+2,Func0979(players001[TGI],6))
		if(Func0043(Players_Hero[GetPlayerId(players001[TGI])])and Players_Hero[GetPlayerId(players001[TGI])]!=null and TimerGetRemaining(timers002[GetPlayerId(players001[TGI])])>0)then
			if IsPlayerAlly(LocalPlayer,players001[TGI])then
				set PUO=string033+" ("+(I2S(R2I(TimerGetRemaining(timers002[GetPlayerId(players001[TGI])]))))+")|r"
			else
				set PUO=string030+" ("+(I2S(R2I(TimerGetRemaining(timers002[GetPlayerId(players001[TGI])]))))+")|r"
			endif
		else
			set PUO="  "
		endif
		if booleans018[GetPlayerId(players001[TGI])]then
			call MBSetText(multiboard001,1,TGI+2,"|c00333333"+(Players_Name[GetPlayerId((players001[TGI]))])+"|r"+PUO)
		else
			call MBSetText(multiboard001,1,TGI+2,(Players_Name[GetPlayerId((players001[TGI]))])+PUO)
		endif
		set PNO=(TimerGetRemaining(timers003[GetPlayerId((players001[TGI]))]))
		if PNO>0 then
			set s=I2S(R2I(PNO))
		else
			set s=" "
		endif
		if IsPlayerAlly(LocalPlayer,players001[TGI])==false then
			call MBSetText(multiboard001,7,TGI+2," ")
			set s=" "
		else
			call MBSetText(multiboard001,7,TGI+2,"|cffffcc00"+I2S(R2I(GetPlayerState(players001[TGI],PLAYER_STATE_RESOURCE_GOLD)))+"|r")
		endif
		call MBSetText(multiboard001,2,TGI+2,s)
		set TGI=TGI+1
	endloop
	set TGI=1
	set THI=integer424
	loop
		exitwhen TGI>THI
		call MBSetIcon(multiboard001,1,TGI+3+integer423,Func0037(Players_Hero[GetPlayerId(players002[TGI])]))
		call MBSetText(multiboard001,3,TGI+3+integer423,"|c00838B8B"+I2S(GetHeroLevel(Players_Hero[GetPlayerId(players002[TGI])]))+"|r")
		if booleans031[GetPlayerId(LocalPlayer)]then
			call MBSetWidth(multiboard001,7,1,3)
			call MBSetWidth(multiboard001,8,1,2.8)
			call MBSetWidth(multiboard001,9,1,0.8)
			call MBSetWidth(multiboard001,10,1,0.8)
			call MBSetWidth(multiboard001,11,1,0.8)
			call MBSetWidth(multiboard001,12,1,0.8)
			call MBSetWidth(multiboard001,13,1,0.1)
			call MBSetWidth(multiboard001,7,TGI+3+integer423,3)
			call MBSetWidth(multiboard001,8,TGI+3+integer423,1.1)
			call MBSetWidth(multiboard001,9,TGI+3+integer423,1.1)
			call MBSetWidth(multiboard001,10,TGI+3+integer423,1.1)
			call MBSetWidth(multiboard001,11,TGI+3+integer423,1.1)
			call MBSetWidth(multiboard001,12,TGI+3+integer423,1.1)
			call MBSetWidth(multiboard001,13,TGI+3+integer423,0.1)
			call MBSetStyle(multiboard001,8,TGI+3+integer423,false,true)
			call MBSetStyle(multiboard001,9,TGI+3+integer423,false,true)
			call MBSetStyle(multiboard001,10,TGI+3+integer423,false,true)
			call MBSetStyle(multiboard001,11,TGI+3+integer423,false,true)
			call MBSetStyle(multiboard001,12,TGI+3+integer423,false,true)
			call MBSetStyle(multiboard001,13,TGI+3+integer423,false,true)
			call MBSetText(multiboard001,8,1,"Items")
		else
			call MBSetWidth(multiboard001,7,1,2)
			call MBSetWidth(multiboard001,8,1,0.1)
			call MBSetWidth(multiboard001,9,1,0.1)
			call MBSetWidth(multiboard001,10,1,0.1)
			call MBSetWidth(multiboard001,11,1,0.1)
			call MBSetWidth(multiboard001,12,1,0.1)
			call MBSetWidth(multiboard001,13,1,0.1)
			call MBSetWidth(multiboard001,7,TGI+3+integer423,2.5)
			call MBSetWidth(multiboard001,8,TGI+3+integer423,0.1)
			call MBSetWidth(multiboard001,9,TGI+3+integer423,0.1)
			call MBSetWidth(multiboard001,10,TGI+3+integer423,0.1)
			call MBSetWidth(multiboard001,11,TGI+3+integer423,0.1)
			call MBSetWidth(multiboard001,12,TGI+3+integer423,0.1)
			call MBSetWidth(multiboard001,13,TGI+3+integer423,0.1)
			call MBSetStyle(multiboard001,8,TGI+3+integer423,false,false)
			call MBSetStyle(multiboard001,9,TGI+3+integer423,false,false)
			call MBSetStyle(multiboard001,10,TGI+3+integer423,false,false)
			call MBSetStyle(multiboard001,11,TGI+3+integer423,false,false)
			call MBSetStyle(multiboard001,12,TGI+3+integer423,false,false)
			call MBSetStyle(multiboard001,13,TGI+3+integer423,false,false)
			call MBSetText(multiboard001,8,1," ")
		endif
		call MBSetIcon(multiboard001,8,TGI+3+integer423,Func0979(players002[TGI],1))
		call MBSetIcon(multiboard001,9,TGI+3+integer423,Func0979(players002[TGI],2))
		call MBSetIcon(multiboard001,10,TGI+3+integer423,Func0979(players002[TGI],3))
		call MBSetIcon(multiboard001,11,TGI+3+integer423,Func0979(players002[TGI],4))
		call MBSetIcon(multiboard001,12,TGI+3+integer423,Func0979(players002[TGI],5))
		call MBSetIcon(multiboard001,13,TGI+3+integer423,Func0979(players002[TGI],6))
		if(Func0043(Players_Hero[GetPlayerId(players002[TGI])])and Players_Hero[GetPlayerId(players002[TGI])]!=null and TimerGetRemaining(timers002[GetPlayerId(players002[TGI])])>0)then
			if IsPlayerAlly(LocalPlayer,players002[TGI])then
				set PUO=string033+" ("+(I2S(R2I(TimerGetRemaining(timers002[GetPlayerId(players002[TGI])]))))+")|r"
			else
				set PUO=string030+" ("+(I2S(R2I(TimerGetRemaining(timers002[GetPlayerId(players002[TGI])]))))+")|r"
			endif
		else
			set PUO="  "
		endif
		if booleans018[GetPlayerId(players002[TGI])]then
			call MBSetText(multiboard001,1,TGI+3+integer423,"|c00333333"+(Players_Name[GetPlayerId((players002[TGI]))])+"|r"+PUO)
		else
			call MBSetText(multiboard001,1,TGI+3+integer423,(Players_Name[GetPlayerId((players002[TGI]))])+PUO)
		endif
		set PNO=(TimerGetRemaining(timers003[GetPlayerId((players002[TGI]))]))
		if PNO>0 then
			set s=I2S(R2I(PNO))
		else
			set s=" "
		endif
		if IsPlayerAlly(LocalPlayer,players002[TGI])==false then
			call MBSetText(multiboard001,7,TGI+3+integer423," ")
			set s=" "
		else
			call MBSetText(multiboard001,7,TGI+3+integer423,"|cffffcc00"+I2S(R2I(GetPlayerState(players002[TGI],PLAYER_STATE_RESOURCE_GOLD)))+"|r")
		endif
		call MBSetText(multiboard001,2,TGI+3+integer423,s)
		set TGI=TGI+1
	endloop
endfunction

function Trig_CS_Board_Actions takes nothing returns nothing
	set leaderboards001[GetPlayerId(Sentinels[1])]=CreateLeaderboard()
	set leaderboards001[GetPlayerId(Sentinels[2])]=CreateLeaderboard()
	set leaderboards001[GetPlayerId(Sentinels[3])]=CreateLeaderboard()
	set leaderboards001[GetPlayerId(Sentinels[4])]=CreateLeaderboard()
	set leaderboards001[GetPlayerId(Sentinels[5])]=CreateLeaderboard()
	set leaderboards001[GetPlayerId(Scourges[1])]=CreateLeaderboard()
	set leaderboards001[GetPlayerId(Scourges[2])]=CreateLeaderboard()
	set leaderboards001[GetPlayerId(Scourges[3])]=CreateLeaderboard()
	set leaderboards001[GetPlayerId(Scourges[4])]=CreateLeaderboard()
	set leaderboards001[GetPlayerId(Scourges[5])]=CreateLeaderboard()
	call PlayerSetLeaderboard(Sentinels[1],leaderboards001[GetPlayerId(Sentinels[1])])
	call PlayerSetLeaderboard(Sentinels[2],leaderboards001[GetPlayerId(Sentinels[2])])
	call PlayerSetLeaderboard(Sentinels[3],leaderboards001[GetPlayerId(Sentinels[3])])
	call PlayerSetLeaderboard(Sentinels[4],leaderboards001[GetPlayerId(Sentinels[4])])
	call PlayerSetLeaderboard(Sentinels[5],leaderboards001[GetPlayerId(Sentinels[5])])
	call PlayerSetLeaderboard(Scourges[1],leaderboards001[GetPlayerId(Scourges[1])])
	call PlayerSetLeaderboard(Scourges[2],leaderboards001[GetPlayerId(Scourges[2])])
	call PlayerSetLeaderboard(Scourges[3],leaderboards001[GetPlayerId(Scourges[3])])
	call PlayerSetLeaderboard(Scourges[4],leaderboards001[GetPlayerId(Scourges[4])])
	call PlayerSetLeaderboard(Scourges[5],leaderboards001[GetPlayerId(Scourges[5])])
	call LeaderboardDisplay(leaderboards001[GetPlayerId(Sentinels[1])],false)
	call LeaderboardDisplay(leaderboards001[GetPlayerId(Sentinels[2])],false)
	call LeaderboardDisplay(leaderboards001[GetPlayerId(Sentinels[3])],false)
	call LeaderboardDisplay(leaderboards001[GetPlayerId(Sentinels[4])],false)
	call LeaderboardDisplay(leaderboards001[GetPlayerId(Sentinels[5])],false)
	call LeaderboardDisplay(leaderboards001[GetPlayerId(Scourges[1])],false)
	call LeaderboardDisplay(leaderboards001[GetPlayerId(Scourges[2])],false)
	call LeaderboardDisplay(leaderboards001[GetPlayerId(Scourges[3])],false)
	call LeaderboardDisplay(leaderboards001[GetPlayerId(Scourges[4])],false)
	call LeaderboardDisplay(leaderboards001[GetPlayerId(Scourges[5])],false)
	call LeaderboardSetLabelBJ(leaderboards001[GetPlayerId(Sentinels[1])],"Creep Kills: 0 Denies: 0")
	call LeaderboardSetLabelBJ(leaderboards001[GetPlayerId(Sentinels[2])],"Creep Kills: 0 Denies: 0")
	call LeaderboardSetLabelBJ(leaderboards001[GetPlayerId(Sentinels[3])],"Creep Kills: 0 Denies: 0")
	call LeaderboardSetLabelBJ(leaderboards001[GetPlayerId(Sentinels[4])],"Creep Kills: 0 Denies: 0")
	call LeaderboardSetLabelBJ(leaderboards001[GetPlayerId(Sentinels[5])],"Creep Kills: 0 Denies: 0")
	call LeaderboardSetLabelBJ(leaderboards001[GetPlayerId(Scourges[1])],"Creep Kills: 0 Denies: 0")
	call LeaderboardSetLabelBJ(leaderboards001[GetPlayerId(Scourges[2])],"Creep Kills: 0 Denies: 0")
	call LeaderboardSetLabelBJ(leaderboards001[GetPlayerId(Scourges[3])],"Creep Kills: 0 Denies: 0")
	call LeaderboardSetLabelBJ(leaderboards001[GetPlayerId(Scourges[4])],"Creep Kills: 0 Denies: 0")
	call LeaderboardSetLabelBJ(leaderboards001[GetPlayerId(Scourges[5])],"Creep Kills: 0 Denies: 0")
endfunction

function EndScore_GameMode takes nothing returns string
	return ModeNameString
endfunction

function EndScore_GetWinner takes nothing returns string
	return string003
endfunction

function Func0981 takes player T4I returns string
	return Players_Color[GetPlayerId(T4I)]+(Players_Name[GetPlayerId((T4I))])+"|r"
endfunction

function Func0982 takes player T4I returns string
	local string Q2O=I2S(integers085[GetPlayerId(T4I)])
	local string Q3O=Q2O
	if T4I==GetLocalPlayer()then
		set Q3O=string034+Q2O+"|r"
	endif
	return Q3O
endfunction

function Func0983 takes player T4I returns string
	local string Q2O=I2S(integers084[GetPlayerId(T4I)])
	local string Q3O=Q2O
	if T4I==GetLocalPlayer()then
		set Q3O=string034+Q2O+"|r"
	endif
	return Q3O
endfunction

function Func0984 takes nothing returns nothing
	local integer i=1
	local multiboarditem mbi
	loop
		exitwhen i>integer425
		if(LeftAt[GetPlayerId((players007[i]))])!="Here"then
			set mbi=MultiboardGetItem(multiboard002,integers117[i],integers118[i])
			call MultiboardSetItemStyle(mbi,true,false)
			call MultiboardSetItemValue(mbi,"|c00555555"+(LeftAt[GetPlayerId((players007[i]))])+"|r")
			call MultiboardSetItemWidth(mbi,0.07)
			call MultiboardReleaseItem(mbi)
		endif
		set i=i+1
	endloop
endfunction

function Func0985 takes player T4I returns string
	local string Q2O=I2S(GetPlayerState(T4I,PLAYER_STATE_RESOURCE_GOLD))
	local string Q3O=Q2O
	if T4I==GetLocalPlayer()then
		set Q3O=string034+Q2O+"|r"
	endif
	return Q3O
endfunction

function Func0986 takes player T4I returns string
	local string Q2O=I2S(integers007[GetPlayerId(T4I)])
	local string Q3O=Q2O
	if T4I==GetLocalPlayer()then
		set Q3O=string034+Q2O+"|r"
	endif
	return Q3O
endfunction

function Func0987 takes player T4I returns string
	local string Q2O=I2S(GetUnitLevel(Players_Hero[GetPlayerId(T4I)]))
	local string Q3O=Q2O
	if T4I==GetLocalPlayer()then
		set Q3O=string034+Q2O+"|r"
	endif
	return Q3O
endfunction

function Func0988 takes player T4I returns string
	local string Q2O=I2S(integers008[GetPlayerId(T4I)])
	local string Q3O=Q2O
	if T4I==GetLocalPlayer()then
		set Q3O=string034+Q2O+"|r"
	endif
	return Q3O
endfunction

function Func0989 takes player T4I returns string
	local string Q2O=I2S(integers015[GetPlayerId(T4I)])
	local string Q3O=Q2O
	if T4I==GetLocalPlayer()then
		set Q3O=string034+Q2O+"|r"
	endif
	return Q3O
endfunction

function Func0990 takes player T4I returns string
	local string Q2O=I2S(integers009[GetPlayerId(T4I)])
	local string Q3O=Q2O
	if T4I==GetLocalPlayer()then
		set Q3O=string034+Q2O+"|r"
	endif
	return Q3O
endfunction

function Func0991 takes player T4I returns string
	local string Q2O=I2S(integers006[GetPlayerId(T4I)])
	local string Q3O=Q2O
	if T4I==GetLocalPlayer()then
		set Q3O=string034+Q2O+"|r"
	endif
	return Q3O
endfunction

function Func0992 takes player T4I returns string
	local string Q2O=I2S(integers001[GetPlayerId(T4I)])
	local string Q3O=Q2O
	if T4I==GetLocalPlayer()then
		set Q3O=string034+Q2O+"|r"
	endif
	return Q3O
endfunction

function Func0993 takes player T4I returns string
	local string Q2O=I2S(integers002[GetPlayerId(T4I)])
	local string Q3O=Q2O
	if T4I==GetLocalPlayer()then
		set Q3O=string034+Q2O+"|r"
	endif
	return Q3O
endfunction

function Func0994 takes player T4I returns string
	local string Q2O=I2S(PlayerCS[GetPlayerId(T4I)])
	local string Q3O=Q2O
	if T4I==GetLocalPlayer()then
		set Q3O=string034+Q2O+"|r"
	endif
	return Q3O
endfunction

function Func0995 takes player T4I returns string
	local string Q2O=I2S(CSDenies[GetPlayerId(T4I)])
	local string Q3O=Q2O
	if T4I==GetLocalPlayer()then
		set Q3O=string034+Q2O+"|r"
	endif
	return Q3O
endfunction

function Func0996 takes player T4I returns string
	local string Q2O=I2S((LoadInteger(HY,(400+GetPlayerId(T4I)),(79))))
	local string Q3O=Q2O
	if T4I==GetLocalPlayer()then
		set Q3O=string034+Q2O+"|r"
	endif
	return Q3O
endfunction

function Func0997 takes player T4I returns string
	local string Q2O=I2S(integers011[GetPlayerId(T4I)])
	local string Q3O=Q2O
	if T4I==GetLocalPlayer()then
		set Q3O=string034+Q2O+"|r"
	endif
	return Q3O
endfunction

function Func0998 takes player T4I returns string
	local string Q2O=I2S(integers012[GetPlayerId(T4I)])
	local string Q3O=Q2O
	if T4I==GetLocalPlayer()then
		set Q3O=string034+Q2O+"|r"
	endif
	return Q3O
endfunction

function Func0999 takes player T4I returns string
	local string Q2O=I2S(integers010[GetPlayerId(T4I)])
	local string Q3O=Q2O
	if T4I==GetLocalPlayer()then
		set Q3O=string034+Q2O+"|r"
	endif
	return Q3O
endfunction

function Func1000 takes player T4I returns string
	local string QXO
	local string QYO
	local string Q3O
	local integer k=integers016[GetPlayerId(T4I)]
	local integer d=integers014[GetPlayerId(T4I)]
	if k<1 then
		set k=0
	endif
	if d<1 then
		set d=0
	endif
	set QXO=I2S(k)
	set QYO=I2S(d)
	set Q3O=QXO+"/"+QYO
	if T4I==GetLocalPlayer()then
		set Q3O=string034+QXO+"|r/"+string034+QYO+"|r"
	endif
	return Q3O
endfunction

function Func1001 takes player T4I returns string
	local integer QKO=integers013[GetPlayerId(T4I)]
	local string time
	local integer Minutes
	local integer Seconds
	set Minutes=(QKO/60)-(1/2)
	set Seconds=ModuloInteger(QKO,60)
	if(Seconds<10)then
		set time=I2S(Minutes)+":0"+I2S(Seconds)
	else
		set time=I2S(Minutes)+":"+I2S(Seconds)
	endif
	if T4I==GetLocalPlayer()then
		set time=string034+time+"|r"
	endif
	return time
endfunction

function Func1002 takes player source,player target returns string
	local string QXO
	local string QYO
	local string Q3O
	local integer k=(LoadInteger(HY,(400+GetPlayerId(source)),(450+GetPlayerId(target))))
	local integer d=(LoadInteger(HY,(400+GetPlayerId(source)),(500+GetPlayerId(target))))
	if k<1 then
		set k=0
	endif
	if d<1 then
		set d=0
	endif
	set QXO=I2S(k)
	set QYO=I2S(d)
	set Q3O=QXO+"/"+QYO
	if source==GetLocalPlayer()then
		set Q3O=string034+QXO+"|r/"+string034+QYO+"|r"
	endif
	return Q3O
endfunction

function EndScore_AllKD takes nothing returns string
	return"|c00ff0303"+I2S(integers001[GetPlayerId(Sentinels[0])])+"|r/|c0020c000"+I2S(integers002[GetPlayerId(Sentinels[0])])+"|r"
endfunction

function Func1003 takes nothing returns nothing
	local integer QNO=integer423
	local integer QSO=integer424
	local player array QTO
	local player array QRO
	local integer row
	local integer column
	local integer numRows=21+Func0131(QNO,QSO)+1
	local integer numCols=1+(QNO+QSO)*2
	local multiboarditem mbi
	local integer i
	local integer x
	local integer curRow1
	local integer curRow2
	local string e="|r"
	local string c0="|cff99ccff"
	local integer UIO
	local integer U1O
	call DisableTrigger(trigger029)
	call DestroyMultiboard(multiboard001)
	if QNO>0 and QSO>0 then
		set numRows=numRows+2
	endif
	set multiboard002=CreateMultiboard()
	call MultiboardSetItemsWidth(multiboard002,0)
	call MultiboardSetRowCount(multiboard002,numRows)
	call MultiboardSetColumnCount(multiboard002,numCols)
	call MultiboardSetTitleText(multiboard002,GetObjectName('n0E3')+" "+" - "+(ModeNameString))
	call MultiboardMinimize(multiboard002,true)
	call MultiboardSetItemsStyle(multiboard002,false,false)
	call MultiboardDisplay(multiboard002,true)
	call MultiboardMinimize(multiboard002,false)
	call MultiboardSetTitleText(multiboard002,GetObjectName('n0E3')+" "+" - "+(ModeNameString)+" - "+("|c00ff0303"+I2S(integers001[GetPlayerId(Sentinels[0])])+"|r/|c0020c000"+I2S(integers002[GetPlayerId(Sentinels[0])])+"|r"))
	set x=1
	set i=1
	loop
		exitwhen i>5
		if IsPlayer(Sentinels[i])or GetPlayerSlotState(Sentinels[i])==PLAYER_SLOT_STATE_LEFT then
			set QTO[x]=Sentinels[i]
			set x=x+1
		endif
		set i=i+1
	endloop
	set x=1
	set i=1
	loop
		exitwhen i>5
		if IsPlayer(Scourges[i])or GetPlayerSlotState(Scourges[i])==PLAYER_SLOT_STATE_LEFT then
			set QRO[x]=Scourges[i]
			set x=x+1
		endif
		set i=i+1
	endloop
	set i=0
	set column=0
	loop
		exitwhen i>numRows
		set mbi=MultiboardGetItem(multiboard002,i,column)
		call MultiboardSetItemWidth(mbi,0.075)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set row=0
	set column=0
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi," ")
	call MultiboardReleaseItem(mbi)
	set column=0
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,false,false)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0981(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0981(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set row=row+1
	set column=0
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,false,false)
	call MultiboardReleaseItem(mbi)
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,true)
		call MultiboardSetItemValue(mbi,Func0987(QTO[i]))
		call MultiboardSetItemIcon(mbi,(Func0037(Players_Hero[GetPlayerId((QTO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,true)
		call MultiboardSetItemValue(mbi,Func0987(QRO[i]))
		call MultiboardSetItemIcon(mbi,(Func0037(Players_Hero[GetPlayerId((QRO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set row=row+1
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0EB')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QTO[i]))],(1)-1))))
		call MultiboardSetItemWidth(mbi,0.015)
		call MultiboardReleaseItem(mbi)
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QTO[i]))],(2)-1))))
		call MultiboardSetItemWidth(mbi,0.054)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QRO[i]))],(1)-1))))
		call MultiboardSetItemWidth(mbi,0.015)
		call MultiboardReleaseItem(mbi)
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QRO[i]))],(2)-1))))
		call MultiboardSetItemWidth(mbi,0.054)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set row=row+1
	set column=0
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+" "+e)
	call MultiboardReleaseItem(mbi)
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QTO[i]))],(3)-1))))
		call MultiboardSetItemWidth(mbi,0.015)
		call MultiboardReleaseItem(mbi)
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QTO[i]))],(4)-1))))
		call MultiboardSetItemWidth(mbi,0.054)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QRO[i]))],(3)-1))))
		call MultiboardSetItemWidth(mbi,0.015)
		call MultiboardReleaseItem(mbi)
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QRO[i]))],(4)-1))))
		call MultiboardSetItemWidth(mbi,0.054)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set row=row+1
	set column=0
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+" "+e)
	call MultiboardReleaseItem(mbi)
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QTO[i]))],(5)-1))))
		call MultiboardSetItemWidth(mbi,0.015)
		call MultiboardReleaseItem(mbi)
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QTO[i]))],(6)-1))))
		call MultiboardSetItemWidth(mbi,0.054)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QRO[i]))],(5)-1))))
		call MultiboardSetItemWidth(mbi,0.015)
		call MultiboardReleaseItem(mbi)
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QRO[i]))],(6)-1))))
		call MultiboardSetItemWidth(mbi,0.054)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0E2')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0985(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0985(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0E1')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0992(QTO[i])+"/"+Func0993(QTO[i])+"/"+Func0991(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0992(QRO[i])+"/"+Func0993(QRO[i])+"/"+Func0991(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DZ')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0994(QTO[i])+"/"+Func0995(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0994(QRO[i])+"/"+Func0995(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0JU')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0982(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0982(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0KF')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0983(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0983(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0E0')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0988(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0988(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DT')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func1000(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func1000(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DY')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0996(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0996(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DU')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0989(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0989(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DV')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func1001(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func1001(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DW')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0990(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0990(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DN')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0986(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0986(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0D8')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0997(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0997(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DI')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0998(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0998(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DM')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0999(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0999(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	if QNO>0 and QSO>0 then
		set column=0
		set UIO=row
		set U1O=column
		set row=row+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DL')+e)
		call MultiboardReleaseItem(mbi)
		set row=UIO
		set x=1
		loop
			exitwhen x>QNO
			set column=0
			set row=UIO
			set i=1
			loop
				exitwhen i>QSO
				set column=x+(x-1)
				set row=row+1
				set mbi=MultiboardGetItem(multiboard002,row,column)
				call MultiboardSetItemStyle(mbi,false,true)
				call MultiboardSetItemIcon(mbi,(Func0037(Players_Hero[GetPlayerId((QTO[x]))])))
				call MultiboardSetItemWidth(mbi,0.01)
				call MultiboardReleaseItem(mbi)
				set column=column+1
				set mbi=MultiboardGetItem(multiboard002,row,column)
				call MultiboardSetItemStyle(mbi,true,true)
				call MultiboardSetItemIcon(mbi,(Func0037(Players_Hero[GetPlayerId((QRO[i]))])))
				call MultiboardSetItemValue(mbi," "+Func1002(QTO[x],QRO[i]))
				call MultiboardSetItemWidth(mbi,0.059)
				call MultiboardReleaseItem(mbi)
				set i=i+1
			endloop
			set x=x+1
		endloop
		set x=QNO+1
		loop
			exitwhen x>(QSO+QNO)
			set column=0
			set row=UIO
			set i=1
			loop
				exitwhen i>QNO
				set column=x+(x-1)
				set row=row+1
				set mbi=MultiboardGetItem(multiboard002,row,column)
				call MultiboardSetItemStyle(mbi,false,true)
				call MultiboardSetItemIcon(mbi,(Func0037(Players_Hero[GetPlayerId((QRO[x-QNO]))])))
				call MultiboardSetItemWidth(mbi,0.01)
				call MultiboardReleaseItem(mbi)
				set column=column+1
				set mbi=MultiboardGetItem(multiboard002,row,column)
				call MultiboardSetItemStyle(mbi,true,true)
				call MultiboardSetItemIcon(mbi,(Func0037(Players_Hero[GetPlayerId((QTO[i]))])))
				call MultiboardSetItemValue(mbi," "+Func1002(QRO[x-QNO],QTO[i]))
				call MultiboardSetItemWidth(mbi,0.059)
				call MultiboardReleaseItem(mbi)
				set i=i+1
			endloop
			set x=x+1
		endloop
	endif
	set row=row+1
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0CZ')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(LeftAt[GetPlayerId((QTO[i]))]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set integer425=integer425+1
		set integers117[integer425]=row
		set integers118[integer425]=column
		set players007[integer425]=QTO[i]
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard002,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(LeftAt[GetPlayerId((QRO[i]))]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set integer425=integer425+1
		set integers117[integer425]=row
		set integers118[integer425]=column
		set players007[integer425]=QRO[i]
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard002,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0D9')+e)
	call MultiboardReleaseItem(mbi)
	set mbi=MultiboardGetItem(multiboard002,row,column+1)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,(string003))
	call MultiboardSetItemWidth(mbi,0.07)
	call MultiboardReleaseItem(mbi)
	call MultiboardMinimize(multiboard002,true)
	call MultiboardMinimize(multiboard002,false)
endfunction

function ObsBoard_GameMode takes nothing returns string
	return ModeNameString
endfunction

function Func1004 takes player T4I returns string
	return Players_Color[GetPlayerId(T4I)]+(Players_Name[GetPlayerId((T4I))])+"|r"
endfunction

function Func1005 takes player T4I returns string
	local integer k=integers016[GetPlayerId(T4I)]
	local integer d=integers014[GetPlayerId(T4I)]
	if k<1 then
		set k=0
	endif
	if d<1 then
		set d=0
	endif
	return I2S(k)+"/"+I2S(d)
endfunction

function Func1006 takes player T4I returns string
	local integer QKO=integers013[GetPlayerId(T4I)]
	local string time
	local integer Minutes
	local integer Seconds
	set Minutes=(QKO/60)-(1/2)
	set Seconds=ModuloInteger(QKO,60)
	if(Seconds<10)then
		set time=I2S(Minutes)+":0"+I2S(Seconds)
	else
		set time=I2S(Minutes)+":"+I2S(Seconds)
	endif
	return time
endfunction

function Func1007 takes player source,player target returns string
	local integer k=(LoadInteger(HY,(400+GetPlayerId(source)),(450+GetPlayerId(target))))
	local integer d=(LoadInteger(HY,(400+GetPlayerId(source)),(500+GetPlayerId(target))))
	if k<1 then
		set k=0
	endif
	if d<1 then
		set d=0
	endif
	return I2S(k)+"/"+I2S(d)
endfunction

function Func1008 takes player source returns string
	local string U7O
	if IsDead(Players_Hero[GetPlayerId(source)])then
		set U7O=I2S(R2I(TimerGetRemaining(timers002[GetPlayerId(source)])))
	else
		set U7O=" "
	endif
	return U7O
endfunction

function Func1009 takes player source returns string
	local real r=(TimerGetRemaining(timers003[GetPlayerId((source))]))
	local string U7O
	if r>0 then
		set U7O=I2S(R2I(r))
	else
		set U7O=" "
	endif
	return U7O
endfunction

function Func1010 takes integer UAO,integer UBO returns nothing
	set multiboard003=CreateMultiboard()
	call MultiboardSetItemsWidth(multiboard003,0)
	call MultiboardSetRowCount(multiboard003,UAO)
	call MultiboardSetColumnCount(multiboard003,UBO)
	call MultiboardSetTitleText(multiboard003,GetObjectName('n0E3')+" "+" - "+(ModeNameString))
	call MultiboardMinimize(multiboard003,true)
	call MultiboardSetItemsStyle(multiboard003,false,false)
	if LocalPlayer==Observer1 or LocalPlayer==Observer2 then
		call MultiboardDisplay(multiboard003,true)
	endif
endfunction

function ObsBoard_AllKD takes nothing returns string
	return"|c00ff0303"+I2S(integers001[GetPlayerId(Sentinels[0])])+"|r/|c0020c000"+I2S(integers002[GetPlayerId(Sentinels[0])])+"|r"
endfunction

function Func1011 takes nothing returns nothing
	local integer QNO=integer007
	local integer QSO=integer008
	local player array QTO
	local player array QRO
	local integer row
	local integer column
	local integer numRows=1+21+Func0131(QNO,QSO)
	local integer numCols=1+(QNO+QSO)*2
	local multiboarditem mbi
	local integer i
	local integer x
	local integer curRow1
	local integer curRow2
	local string e="|r"
	local string c0="|cff99ccff"
	local integer UIO
	local integer U1O
	local integer UDO=131
	local integer UEO=139
	local integer UFO=139
	local integer UGO=255
	local integer PSO=0
	local string PTO=""
	local string PRO=""
	local integer PPO=0
	local integer PQO=0
	local integer r
	if QNO>0 and QSO>0 then
		set numRows=numRows+2
	endif
	if GetTriggerExecCount(GetTriggeringTrigger())==1 then
		call Func1010(numRows,numCols)
	endif
	if isObserversMode and(LocalPlayer==Observer1 or LocalPlayer==Observer2)then
		call MultiboardDisplay(multiboard003,true)
	endif
	set i=1
	loop
		exitwhen i>5
		set r=R2I(TimerGetRemaining(timers002[GetPlayerId(Sentinels[i])]))
		if r>0 then
			set PSO=PSO+Func0978(r)
			if PPO==0 then
				if r<10 then
					set PTO=Players_Color[GetPlayerId(Sentinels[i])]+"0"+I2S(r)+" |r"
				else
					set PTO=Players_Color[GetPlayerId(Sentinels[i])]+I2S(r)+" |r"
				endif
			else
				if r<10 then
					set PTO=PTO+string033+"| |r"+Players_Color[GetPlayerId(Sentinels[i])]+"0"+I2S(r)+" |r"
				else
					set PTO=PTO+string033+"| |r"+Players_Color[GetPlayerId(Sentinels[i])]+I2S(r)+" |r"
				endif
			endif
			set PPO=PPO+1
		endif
		set i=i+1
	endloop
	if PPO>0 then
		set PTO=string033+"[Sentinel: |r"+PTO+string033+"]|r"
	endif
	set i=1
	loop
		exitwhen i>5
		set r=R2I(TimerGetRemaining(timers002[GetPlayerId(Scourges[i])]))
		if r>0 then
			set PSO=PSO+Func0978(r)
			if PQO==0 then
				if r<10 then
					set PRO=Players_Color[GetPlayerId(Scourges[i])]+"0"+I2S(r)+" |r"
				else
					set PRO=Players_Color[GetPlayerId(Scourges[i])]+I2S(r)+" |r"
				endif
			else
				if r<10 then
					set PRO=PRO+string033+"| |r"+Players_Color[GetPlayerId(Scourges[i])]+"0"+I2S(r)+" |r"
				else
					set PRO=PRO+string033+"| |r"+Players_Color[GetPlayerId(Scourges[i])]+I2S(r)+" |r"
				endif
			endif
			set PQO=PQO+1
		endif
		set i=i+1
	endloop
	if PQO>0 then
		set PRO=string033+"[Scourge: |r"+PRO+string033+"]|r"
	endif
	call MultiboardSetTitleText(multiboard003,PTO+" "+PRO+" "+GetObjectName('n0E3')+" "+" - "+(ModeNameString)+" - "+("|c00ff0303"+I2S(integers001[GetPlayerId(Sentinels[0])])+"|r/|c0020c000"+I2S(integers002[GetPlayerId(Sentinels[0])])+"|r"))
	set x=1
	set i=1
	loop
		exitwhen i>5
		if IsPlayer(Sentinels[i])or GetPlayerSlotState(Sentinels[i])==PLAYER_SLOT_STATE_LEFT then
			set QTO[x]=Sentinels[i]
			set x=x+1
		endif
		set i=i+1
	endloop
	set x=1
	set i=1
	loop
		exitwhen i>5
		if IsPlayer(Scourges[i])or GetPlayerSlotState(Scourges[i])==PLAYER_SLOT_STATE_LEFT then
			set QRO[x]=Scourges[i]
			set x=x+1
		endif
		set i=i+1
	endloop
	set i=0
	set column=0
	loop
		exitwhen i>numRows
		set mbi=MultiboardGetItem(multiboard003,i,column)
		call MultiboardSetItemWidth(mbi,0.075)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set row=0
	set column=0
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi," ")
	call MultiboardReleaseItem(mbi)
	set column=0
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,false,false)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func1004(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func1004(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set row=row+1
	set column=0
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,false,false)
	call MultiboardReleaseItem(mbi)
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,true)
		call MultiboardSetItemValue(mbi,"("+(I2S(GetUnitLevel(Players_Hero[GetPlayerId((QTO[i]))])))+")")
		call MultiboardSetItemIcon(mbi,(Func0037(Players_Hero[GetPlayerId((QTO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,true)
		call MultiboardSetItemValue(mbi,"("+(I2S(GetUnitLevel(Players_Hero[GetPlayerId((QRO[i]))])))+")")
		call MultiboardSetItemIcon(mbi,(Func0037(Players_Hero[GetPlayerId((QRO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set row=row+1
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0EB')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QTO[i]))],(1)-1))))
		call MultiboardSetItemWidth(mbi,0.015)
		call MultiboardReleaseItem(mbi)
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QTO[i]))],(2)-1))))
		call MultiboardSetItemWidth(mbi,0.054)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QRO[i]))],(1)-1))))
		call MultiboardSetItemWidth(mbi,0.015)
		call MultiboardReleaseItem(mbi)
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QRO[i]))],(2)-1))))
		call MultiboardSetItemWidth(mbi,0.054)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set row=row+1
	set column=0
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+" "+e)
	call MultiboardReleaseItem(mbi)
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QTO[i]))],(3)-1))))
		call MultiboardSetItemWidth(mbi,0.015)
		call MultiboardReleaseItem(mbi)
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QTO[i]))],(4)-1))))
		call MultiboardSetItemWidth(mbi,0.054)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QRO[i]))],(3)-1))))
		call MultiboardSetItemWidth(mbi,0.015)
		call MultiboardReleaseItem(mbi)
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QRO[i]))],(4)-1))))
		call MultiboardSetItemWidth(mbi,0.054)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set row=row+1
	set column=0
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+" "+e)
	call MultiboardReleaseItem(mbi)
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QTO[i]))],(5)-1))))
		call MultiboardSetItemWidth(mbi,0.015)
		call MultiboardReleaseItem(mbi)
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QTO[i]))],(6)-1))))
		call MultiboardSetItemWidth(mbi,0.054)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QRO[i]))],(5)-1))))
		call MultiboardSetItemWidth(mbi,0.015)
		call MultiboardReleaseItem(mbi)
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,(Func0350(UnitItemInSlot(Players_Hero[GetPlayerId((QRO[i]))],(6)-1))))
		call MultiboardSetItemWidth(mbi,0.054)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0E2')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(GetPlayerState((QTO[i]),PLAYER_STATE_RESOURCE_GOLD))))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(GetPlayerState((QRO[i]),PLAYER_STATE_RESOURCE_GOLD))))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0LT')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemValueColor(mbi,UDO,UEO,UFO,UGO)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(integers065[Func0377(GetHeroLevel(Players_Hero[GetPlayerId((QTO[i]))]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemValueColor(mbi,UDO,UEO,UFO,UGO)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(integers065[Func0377(GetHeroLevel(Players_Hero[GetPlayerId((QRO[i]))]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DZ')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(PlayerCS[GetPlayerId((QTO[i]))]))+"/"+(I2S(CSDenies[GetPlayerId((QTO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(PlayerCS[GetPlayerId((QRO[i]))]))+"/"+(I2S(CSDenies[GetPlayerId((QRO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0E1')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemValueColor(mbi,UDO,UEO,UFO,UGO)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(integers001[GetPlayerId((QTO[i]))]))+"/"+(I2S(integers002[GetPlayerId((QTO[i]))]))+"/"+(I2S(integers006[GetPlayerId((QTO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemValueColor(mbi,UDO,UEO,UFO,UGO)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(integers001[GetPlayerId((QRO[i]))]))+"/"+(I2S(integers002[GetPlayerId((QRO[i]))]))+"/"+(I2S(integers006[GetPlayerId((QRO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0JU')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0982(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0982(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0KF')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemValueColor(mbi,UDO,UEO,UFO,UGO)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0983(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemValueColor(mbi,UDO,UEO,UFO,UGO)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func0983(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0E0')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(integers008[GetPlayerId((QTO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(integers008[GetPlayerId((QRO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DT')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemValueColor(mbi,UDO,UEO,UFO,UGO)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func1005(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemValueColor(mbi,UDO,UEO,UFO,UGO)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func1005(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DY')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S((LoadInteger(HY,(400+GetPlayerId((QTO[i]))),(79))))))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S((LoadInteger(HY,(400+GetPlayerId((QRO[i]))),(79))))))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DU')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemValueColor(mbi,UDO,UEO,UFO,UGO)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(integers015[GetPlayerId((QTO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemValueColor(mbi,UDO,UEO,UFO,UGO)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(integers015[GetPlayerId((QRO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DV')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func1006(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,Func1006(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DW')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemValueColor(mbi,UDO,UEO,UFO,UGO)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(integers009[GetPlayerId((QTO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemValueColor(mbi,UDO,UEO,UFO,UGO)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(integers009[GetPlayerId((QRO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DN')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(integers007[GetPlayerId((QTO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(integers007[GetPlayerId((QRO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0D8')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemValueColor(mbi,UDO,UEO,UFO,UGO)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(integers011[GetPlayerId((QTO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemValueColor(mbi,UDO,UEO,UFO,UGO)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(integers011[GetPlayerId((QRO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DI')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(integers012[GetPlayerId((QTO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(integers012[GetPlayerId((QRO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DM')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemValueColor(mbi,UDO,UEO,UFO,UGO)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(integers010[GetPlayerId((QTO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemValueColor(mbi,UDO,UEO,UFO,UGO)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,(I2S(integers010[GetPlayerId((QRO[i]))])))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	if QNO>0 and QSO>0 then
		set column=0
		set UIO=row
		set U1O=column
		set row=row+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemStyle(mbi,true,false)
		call MultiboardSetItemValue(mbi,c0+GetObjectName('n0DL')+e)
		call MultiboardReleaseItem(mbi)
		set row=UIO
		set x=1
		loop
			exitwhen x>QNO
			set column=0
			set row=UIO
			set i=1
			loop
				exitwhen i>QSO
				set column=x+(x-1)
				set row=row+1
				set mbi=MultiboardGetItem(multiboard003,row,column)
				call MultiboardSetItemStyle(mbi,false,true)
				call MultiboardSetItemIcon(mbi,(Func0037(Players_Hero[GetPlayerId((QTO[x]))])))
				call MultiboardSetItemWidth(mbi,0.01)
				call MultiboardReleaseItem(mbi)
				set column=column+1
				set mbi=MultiboardGetItem(multiboard003,row,column)
				call MultiboardSetItemStyle(mbi,true,true)
				call MultiboardSetItemIcon(mbi,(Func0037(Players_Hero[GetPlayerId((QRO[i]))])))
				call MultiboardSetItemValue(mbi," "+Func1007(QTO[x],QRO[i]))
				call MultiboardSetItemWidth(mbi,0.059)
				call MultiboardReleaseItem(mbi)
				set i=i+1
			endloop
			set x=x+1
		endloop
		set x=QNO+1
		loop
			exitwhen x>(QSO+QNO)
			set column=0
			set row=UIO
			set i=1
			loop
				exitwhen i>QNO
				set column=x+(x-1)
				set row=row+1
				set mbi=MultiboardGetItem(multiboard003,row,column)
				call MultiboardSetItemStyle(mbi,false,true)
				call MultiboardSetItemIcon(mbi,(Func0037(Players_Hero[GetPlayerId((QRO[x-QNO]))])))
				call MultiboardSetItemWidth(mbi,0.01)
				call MultiboardReleaseItem(mbi)
				set column=column+1
				set mbi=MultiboardGetItem(multiboard003,row,column)
				call MultiboardSetItemStyle(mbi,true,true)
				call MultiboardSetItemIcon(mbi,(Func0037(Players_Hero[GetPlayerId((QTO[i]))])))
				call MultiboardSetItemValue(mbi," "+Func1007(QRO[x-QNO],QTO[i]))
				call MultiboardSetItemWidth(mbi,0.059)
				call MultiboardReleaseItem(mbi)
				set i=i+1
			endloop
			set x=x+1
		endloop
	endif
	set row=row+1
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0HS')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemValueColor(mbi,UDO,UEO,UFO,UGO)
		if Func1008(QTO[i])==" "then
			call MultiboardSetItemStyle(mbi,true,false)
		else
			call MultiboardSetItemStyle(mbi,true,false)
			call MultiboardSetItemIcon(mbi,(Func0037(Players_Hero[GetPlayerId((QTO[i]))])))
		endif
		call MultiboardSetItemValue(mbi,Func1009(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		call MultiboardSetItemValueColor(mbi,UDO,UEO,UFO,UGO)
		if Func1008(QRO[i])==" "then
			call MultiboardSetItemStyle(mbi,true,false)
		else
			call MultiboardSetItemStyle(mbi,true,false)
			call MultiboardSetItemIcon(mbi,(Func0037(Players_Hero[GetPlayerId((QRO[i]))])))
		endif
		call MultiboardSetItemValue(mbi,Func1009(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set column=0
	set row=row+1
	set mbi=MultiboardGetItem(multiboard003,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,c0+GetObjectName('n0E4')+e)
	call MultiboardReleaseItem(mbi)
	set column=0
	set i=1
	loop
		exitwhen i>QNO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		if Func1008(QTO[i])==" "then
			call MultiboardSetItemStyle(mbi,true,false)
		else
			call MultiboardSetItemStyle(mbi,true,true)
			call MultiboardSetItemIcon(mbi,(Func0037(Players_Hero[GetPlayerId((QTO[i]))])))
		endif
		call MultiboardSetItemValue(mbi,Func1008(QTO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>QSO
		set column=column+1
		set mbi=MultiboardGetItem(multiboard003,row,column)
		if Func1008(QRO[i])==" "then
			call MultiboardSetItemStyle(mbi,true,false)
		else
			call MultiboardSetItemStyle(mbi,true,true)
			call MultiboardSetItemIcon(mbi,(Func0037(Players_Hero[GetPlayerId((QRO[i]))])))
		endif
		call MultiboardSetItemValue(mbi,Func1008(QRO[i]))
		call MultiboardSetItemWidth(mbi,0.07)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
endfunction

function CreateObsBoard takes nothing returns nothing
	local trigger t
	if isObserversMode then
		set t=CreateTrigger()
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddAction(t,function Func1011)
		set trigger061=t
	endif
endfunction

function ShopAnimation takes nothing returns nothing
	local unit u=GetTriggerUnit()
	local integer id=GetUnitTypeId(u)
	local boolean b=GetOwningPlayer(u)==Player(15) and LocalPlayer==GetTriggerPlayer()
	local string anim
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_DESELECTED then
		if b then
			call ResetUnitAnimation(u)
		endif
	else
		if b then
			if id=='hC95' or id=='n00X' or id=='n009' or id=='nC35' or id=='u00Q' or id=='u010' or id=='u00Z' then
				set anim="stand work"
			elseif id=='n01K' then
				set anim="stand third"
			elseif id=='nC38' then
				call SetUnitAnimationByIndex(u,3)
			elseif id=='e025' then
			elseif id=='n00V' then
				set anim="spell attack"
			elseif id=='n00W' then
				set anim="spell"
			elseif id=='n002' then
				call SetUnitAnimationByIndex(u,3)
				set anim="stand victory"
			elseif id=='uC74' then
				set anim="stand work gold"
			endif
			if anim!="" then
				call SetUnitAnimation(u,anim)
				call QueueUnitAnimation(u,anim)
			endif
		endif
	endif
	set u=null
endfunction

function Func1017 takes nothing returns boolean
	local real ULO
	local real UMO
	local unit u
	if boolean088==false then
		set u=unit145
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real210)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
	endif
	if boolean089==false then
		set u=unit146
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real211)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
	endif
	if boolean090==false then
		set u=unit147
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real212)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
	endif
	if boolean087==false then
		set u=unit148
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real213)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit149
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real214)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit150
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real215)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit151
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real216)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit152
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real217)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit153
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real218)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit154
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real219)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit155
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real220)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit156
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real221)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit157
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real222)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit158
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real223)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit141
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real224)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
	endif
	if boolean084==false then
		set u=unit189
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real225)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
	endif
	if boolean085==false then
		set u=unit190
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real226)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
	endif
	if boolean086==false then
		set u=unit191
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real227)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
	endif
	if boolean083==false then
		set u=unit192
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real228)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit193
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real229)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit194
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real230)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit195
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real231)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit196
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real232)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit197
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real233)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit198
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real234)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit199
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real235)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit200
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real236)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit201
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real237)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit202
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real238)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
		set u=unit185
		if u!=null then
			set ULO=GetUnitState(u,UNIT_STATE_LIFE)
			set UMO=ULO+real240
			if UMO<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-real239)then
				call SetUnitState(u,UNIT_STATE_LIFE,UMO)
			endif
		endif
	endif
	return false
endfunction

function Func1018 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean084 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real225=real225+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1019 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean085 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real226=real226+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1020 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean086 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real227=real227+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1021 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean083 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real228=real228+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1022 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean083 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real229=real229+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1023 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean083 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real230=real230+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1024 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean083 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real231=real231+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1025 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean083 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real232=real232+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1026 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean083 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real233=real233+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1027 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean083 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real234=real234+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1028 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean083 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real235=real235+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1029 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean083 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real236=real236+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1030 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean083 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real237=real237+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1031 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean083 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real238=real238+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1032 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean083 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real239=real239+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1033 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean088 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real210=real210+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1034 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean089 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real211=real211+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1035 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean090 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real212=real212+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1036 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean087 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real213=real213+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1037 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean087 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real214=real214+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1038 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean087 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real215=real215+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1039 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean087 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real216=real216+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1040 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean087 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real217=real217+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1041 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean087 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real218=real218+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1042 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean087 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real219=real219+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1043 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean087 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real220=real220+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1044 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean087 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real221=real221+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1045 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean087 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real222=real222+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1046 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean087 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real223=real223+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1047 takes nothing returns boolean
	local real dmg=GetEventDamage()
	if IsUnitIllusion(GetEventDamageSource()) then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
		set dmg=(1-0.25)*dmg
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean087 or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) then
			set real224=real224+dmg
		else
			if IsUnitIllusion(GetEventDamageSource()) then
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*dmg)
			else
				call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.25*dmg)
			endif
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1048 takes nothing returns boolean
	if GetOwningPlayer(GetFilterUnit())==Scourges[0]then
		set boolean087=true
	endif
	return false
endfunction

function Func1049 takes nothing returns boolean
	if GetOwningPlayer(GetFilterUnit())==Scourges[0]then
		set boolean088=true
	endif
	return false
endfunction

function Func1050 takes nothing returns boolean
	if GetOwningPlayer(GetFilterUnit())==Scourges[0]then
		set boolean089=true
	endif
	return false
endfunction

function Func1051 takes nothing returns boolean
	if GetOwningPlayer(GetFilterUnit())==Scourges[0]then
		set boolean090=true
	endif
	return false
endfunction

function Func1052 takes nothing returns boolean
	if GetOwningPlayer(GetFilterUnit())==Sentinels[0]then
		set boolean083=true
	endif
	return false
endfunction

function Func1053 takes nothing returns boolean
	if GetOwningPlayer(GetFilterUnit())==Sentinels[0]then
		set boolean084=true
	endif
	return false
endfunction

function Func1054 takes nothing returns boolean
	if GetOwningPlayer(GetFilterUnit())==Sentinels[0]then
		set boolean085=true
	endif
	return false
endfunction

function Func1055 takes nothing returns boolean
	if GetOwningPlayer(GetFilterUnit())==Sentinels[0]then
		set boolean086=true
	endif
	return false
endfunction

function Func1056 takes nothing returns boolean
	local group g=GetAvailableGroup()
	set boolean083=false
	set boolean084=false
	set boolean085=false
	set boolean086=false
	set boolean087=false
	set boolean088=false
	set boolean089=false
	set boolean090=false
	call GroupEnumUnitsInRect(g,rect063,Condition(function Func1048))
	call GroupEnumUnitsInRect(g,rect064,Condition(function Func1048))
	call GroupEnumUnitsInRect(g,rect065,Condition(function Func1048))
	call GroupEnumUnitsInRect(g,rect195,Condition(function Func1048))
	call GroupEnumUnitsInRect(g,rect196,Condition(function Func1048))
	call GroupEnumUnitsInRect(g,rect197,Condition(function Func1048))
	call GroupEnumUnitsInRect(g,rect193,Condition(function Func1049))
	call GroupEnumUnitsInRect(g,rect201,Condition(function Func1050))
	call GroupEnumUnitsInRect(g,rect194,Condition(function Func1051))
	call GroupEnumUnitsInRect(g,rect066,Condition(function Func1052))
	call GroupEnumUnitsInRect(g,rect067,Condition(function Func1052))
	call GroupEnumUnitsInRect(g,rect068,Condition(function Func1052))
	call GroupEnumUnitsInRect(g,rect200,Condition(function Func1052))
	call GroupEnumUnitsInRect(g,rect198,Condition(function Func1052))
	call GroupEnumUnitsInRect(g,rect199,Condition(function Func1052))
	call GroupEnumUnitsInRect(g,rect190,Condition(function Func1053))
	call GroupEnumUnitsInRect(g,rect191,Condition(function Func1054))
	call GroupEnumUnitsInRect(g,rect192,Condition(function Func1055))
	call KillGroup(g)
	set g=null
	return false
endfunction

function Func1057 takes nothing returns boolean
	call CleanTrigger(GetTriggeringTrigger())
	call TriggerEvaluate(trigger024)
	return false
endfunction

function Func1058 takes nothing returns boolean
	local real r=TimerGetRemaining(timer003)
	local real BQO=r
	local integer QHI=R2I(BQO)
	local integer Minutes=QHI/60-1/2
	local integer Seconds=ModuloInteger(QHI,60)
	local trigger t
	local integer i
	local player p
	if r==0 then
		set boolean091=true
		call Traffic_RegisterData("GameStart",1)
		call Func0254(Minutes,Seconds,true)
		set boolean049=true
		set real001=GetTime()
		call CleanTrigger(GetTriggeringTrigger())
		call SetFloatGameState(GAME_STATE_TIME_OF_DAY,6.00)
		call SuspendTimeOfDay(false)
		call SetTimeOfDayScale(0.625)
		if boolean009==false then
			if boolean053 then
				call TriggerRegisterTimerEvent(trigger056,120,true)
			else
				call TriggerRegisterTimerEvent(trigger056,120,true)
			endif
			call TriggerEvaluate(trigger056)
		endif
		call TriggerRegisterTimerEvent(trigger024,60,true)
		set t=CreateTrigger()
		call TriggerRegisterTimerEvent(t,30,false)
		call TriggerAddCondition(t,Condition(function Func1057))
		set t=null
		call TriggerRegisterTimerEventPeriodic(trigger007,30.00)
		call TriggerExecute(trigger007)
		call TriggerRegisterTimerEventPeriodic(trigger022,450.00)
		call TriggerRegisterTimerEventSingle(trigger005,2699.00)
		call TriggerRegisterTimerEventSingle(trigger006,999.00)
		call TriggerRegisterTimerEventSingle(trigger006,1999.00)
		call TriggerRegisterTimerEventSingle(trigger006,2999.00)
		call TriggerRegisterTimerEvent(trigger055,300,true)
		call TriggerRegisterTimerEvent(trigger062,300,true)
		call TriggerRegisterTimerEvent(trigger051,30,true)
		call TriggerEvaluate(trigger051)
		if boolean010 then
			call TriggerRegisterTimerEvent(trigger025,600,true)
		endif
		call ExecuteFunc("Func1465")
	elseif r==7 then
		set t=CreateTrigger()
		call TriggerRegisterTimerEvent(t,30,true)
		call TriggerAddCondition(t,Condition(function Func0912))
	elseif BQO<12 and boolean050==false then
		set boolean050=true
		call PlaySoundBJ(sound032)
		call Func0254(Minutes,Seconds,true)
	elseif BQO==20 then
		if GetRandomInt(0,10)<2 then
			call DisplayTimedTextToPlayer(LocalPlayer,0,0,6,"|c006699CC"+GetObjectName('n0LG')+"|r")
		endif
	else
		call Func0254(Minutes,Seconds,true)
	endif
	if boolean006 and ModuloInteger(GetTriggerEvalCount(GetTriggeringTrigger()),4)==0 then
		if r==85 then
			if Players_Hero[GetPlayerId(LocalPlayer)]==null then
				call DisplayTimedTextToPlayer(LocalPlayer,0,0,6,"|c006699CC"+GetObjectName('n0NJ')+"|r")
			endif
		elseif r==80 then
			if Players_Hero[GetPlayerId(LocalPlayer)]==null then
				call DisplayTimedTextToPlayer(LocalPlayer,0,0,6,"|c006699CC"+GetObjectName('n0NK')+"|r")
			endif
		elseif r<75 and r>0 then
			if r==74 then
				if Players_Hero[GetPlayerId(LocalPlayer)]==null then
					call DisplayTimedTextToPlayer(LocalPlayer,0,0,6,"|c006699CC"+GetObjectName('n0NL')+"|r")
				endif
			endif
			set i=0
			loop
				exitwhen i>5
				set p=Sentinels[i]
				if Players_Hero[GetPlayerId(p)]==null then
					call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-1)
				endif
				set p=Scourges[i]
				if Players_Hero[GetPlayerId(p)]==null then
					call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-1)
				endif
				set i=i+1
			endloop
		endif
	endif
	return false
endfunction

function Func1059 takes nothing returns boolean
	if IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and GetOwningPlayer(GetFilterUnit())!=Neutrals then
		if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE) then
			set unit253=GetFilterUnit()
		else
			set unit254=GetFilterUnit()
		endif
	endif
	return false
endfunction

function Func1060 takes nothing returns nothing
	local unit SQO=GetAttacker()
	local unit target=GetTriggerUnit()
	local group g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,GetUnitX(SQO),GetUnitY(SQO),900,Condition(function Func1059))
	call KillGroup(g)
	call DisableTrigger(GetTriggeringTrigger())
	if unit253!=null then
		call IssueTargetOrder(SQO,"attack",unit253)
		call GroupAddUnit(group005,SQO)
	elseif IsUnitType(target,UNIT_TYPE_HERO) and unit254!=null then
		call IssueTargetOrder(SQO,"attack",unit254)
		call GroupAddUnit(group005,SQO)
	endif
	call EnableTrigger(GetTriggeringTrigger())
	set unit253=null
	set unit254=null
	set SQO=null
	set target=null
	set g=null
endfunction

function Func1061 takes nothing returns nothing
	if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<1 then
		call GroupRemoveUnit(group005,GetEnumUnit())
	endif
	if GetUnitCurrentOrder(GetEnumUnit())!=OrderId("attack")then
		call GroupRemoveUnit(group005,GetEnumUnit())
		call IssuePointOrderLoc(GetEnumUnit(),"attack",locations001[GetUnitAbilityLevel(GetEnumUnit(),integer012)])
	endif
endfunction

function Func1062 takes nothing returns boolean
	call ForGroup(group005,function Func1061)
	return false
endfunction

function Func1063 takes string s returns nothing
	set integer426=integer426+1
	set strings013[integer426]=s
endfunction

function Func1064 takes nothing returns boolean
	local integer i=1
	loop
		exitwhen i>integer426
		call ExecuteFunc(strings013[i])
		set i=i+1
	endloop
	call ExecuteFunc("Func0456")
	call ExecuteFunc("Func0634")
	return false
endfunction

function Func1065 takes unit Hero returns nothing
	local trigger t=CreateTrigger()
	call SaveBoolean(HY,(GetHandleId(GetTriggerUnit())),(38),(true))
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func1064))
	set t=null
endfunction

function Func1066 takes nothing returns boolean
	if GetUnitTypeId(GetTriggerUnit())!='H0B8' and GetUnitTypeId(GetTriggerUnit())!='H00M' and GetUnitTypeId(GetTriggerUnit())!='H07G' and GetUnitTypeId(GetTriggerUnit())!='H00Y' and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and IsUnitIllusion(GetTriggerUnit())==false and HaveSavedBoolean(HY,GetHandleId(GetTriggerUnit()),38)==false then
		if boolean092 and(GetUnitTypeId(GetTriggerUnit())!='O00P' or(GetUnitTypeId(GetTriggerUnit())=='O00P' and boolean093))then
			call Func1065(GetTriggerUnit())
		endif
	endif
	return false
endfunction

function Func1067 takes nothing returns boolean
	local unit u
	local real OA2
	local boolean OB2=IsDayTime()
	set u=unit159
	if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
		set OA2=GetUnitState(u,UNIT_STATE_MANA)
		if OB2 then
			set OA2=Func0134(OA2-25,0)
		else
			set OA2=Func0133(OA2+5,300)
		endif
		call SetUnitState(u,UNIT_STATE_MANA,OA2)
	endif
	set u=unit160
	if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
		set OA2=GetUnitState(u,UNIT_STATE_MANA)
		if OB2 then
			set OA2=Func0134(OA2-25,0)
		else
			set OA2=Func0133(OA2+5,300)
		endif
		call SetUnitState(u,UNIT_STATE_MANA,OA2)
	endif
	set u=unit161
	if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
		set OA2=GetUnitState(u,UNIT_STATE_MANA)
		if OB2 then
			set OA2=Func0134(OA2-25,0)
		else
			set OA2=Func0133(OA2+5,300)
		endif
		call SetUnitState(u,UNIT_STATE_MANA,OA2)
	endif
	set u=unit162
	if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
		set OA2=GetUnitState(u,UNIT_STATE_MANA)
		if OB2 then
			set OA2=Func0134(OA2-25,0)
		else
			set OA2=Func0133(OA2+5,300)
		endif
		call SetUnitState(u,UNIT_STATE_MANA,OA2)
	endif
	set u=unit163
	if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
		set OA2=GetUnitState(u,UNIT_STATE_MANA)
		if OB2 then
			set OA2=Func0134(OA2-25,0)
		else
			set OA2=Func0133(OA2+5,300)
		endif
		call SetUnitState(u,UNIT_STATE_MANA,OA2)
	endif
	set u=unit164
	if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
		set OA2=GetUnitState(u,UNIT_STATE_MANA)
		if OB2 then
			set OA2=Func0134(OA2-25,0)
		else
			set OA2=Func0133(OA2+5,300)
		endif
		call SetUnitState(u,UNIT_STATE_MANA,OA2)
	endif
	set u=unit165
	if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
		set OA2=GetUnitState(u,UNIT_STATE_MANA)
		if OB2 then
			set OA2=Func0134(OA2-25,0)
		else
			set OA2=Func0133(OA2+5,300)
		endif
		call SetUnitState(u,UNIT_STATE_MANA,OA2)
	endif
	set u=unit166
	if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
		set OA2=GetUnitState(u,UNIT_STATE_MANA)
		if OB2 then
			set OA2=Func0134(OA2-25,0)
		else
			set OA2=Func0133(OA2+5,300)
		endif
		call SetUnitState(u,UNIT_STATE_MANA,OA2)
	endif
	set u=unit167
	if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
		set OA2=GetUnitState(u,UNIT_STATE_MANA)
		if OB2 then
			set OA2=Func0134(OA2-25,0)
		else
			set OA2=Func0133(OA2+5,300)
		endif
		call SetUnitState(u,UNIT_STATE_MANA,OA2)
	endif
	set u=unit168
	if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
		set OA2=GetUnitState(u,UNIT_STATE_MANA)
		if OB2 then
			set OA2=Func0134(OA2-25,0)
		else
			set OA2=Func0133(OA2+5,300)
		endif
		call SetUnitState(u,UNIT_STATE_MANA,OA2)
	endif
	set u=unit169
	if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
		set OA2=GetUnitState(u,UNIT_STATE_MANA)
		if OB2 then
			set OA2=Func0134(OA2-25,0)
		else
			set OA2=Func0133(OA2+5,300)
		endif
		call SetUnitState(u,UNIT_STATE_MANA,OA2)
	endif
	return false
endfunction

function Func1068 takes nothing returns boolean
	local real d
	if GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit())==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(tt_unit2)) then
		set d=Func0141(real010,real011,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
		if d<real009 then
			set real009=d
			set tt_unit1=GetFilterUnit()
		endif
	endif
	return false
endfunction

function Func1069 takes unit SWI,real x,real y returns unit
	local group g=GetAvailableGroup()
	set tt_unit1=null
	set tt_unit2=SWI
	set real009=99999
	set real010=x
	set real011=y
	call GroupEnumUnitsInRange(g,x,y,2000,Condition(function Func1068))
	call KillGroup(g)
	set g=null
	return tt_unit1
endfunction

function TeleportationEffect_Remove takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target
	if GetSpellAbilityId()=='A231' then
		set target=(LoadUnitHandle(HY,(h),(17)))
		call UnitRemoveAbility(target,'Binf')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	return false
endfunction

function Func1070 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local location l
	local real x
	local real y
	local unit target=GetSpellTargetUnit()
	call AddTimedKeyToUnit(Hero,4256,1)
	if target==null then
		set l=GetSpellTargetLoc()
		set x=GetLocationX(l)
		set y=GetLocationY(l)
		call RemoveLocation(l)
		if GetSpellAbilityId()=='A1R5' then
			set target=Func0716(Hero,x,y)
		else
			set target=Func1069(Hero,x,y)
		endif
		set x=GetUnitX(target)
		set y=GetUnitY(target)
	else
		set x=GetUnitX(GetSpellTargetUnit())
		set y=GetUnitY(GetSpellTargetUnit())
	endif
	if(IsUnitAlly(Hero,LocalPlayer)and LocalPlayer!=GetOwningPlayer(Hero))or(isObserversMode and(LocalPlayer==Observer1 or LocalPlayer==Observer2))then
		call PingMinimapEx(x,y,3,255,255,255,false)
	endif
	set Hero=null
	set l=null
endfunction

function TeleportationEffect_Main takes nothing returns boolean
	if GetSpellAbilityId()=='A231' then
		call Func1070()
	endif
	return false
endfunction

function Func1071 takes nothing returns nothing
	call Func0062('N00R')
	call Func0062('N0M7')
	call Func0062('N0MK')
	call Func0062('N0MD')
	call Func0062('N0MU')
endfunction

function Func1072 takes nothing returns nothing
	if Func0089(GetEnumUnit())and IsUnitAlly(GetEnumUnit(),Sentinels[0])==false and GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>0.5 then
		call UnitRemoveAbility(GetEnumUnit(),'B08H')
		call DamageTarget(unit130,GetEnumUnit(),2,500)
	endif
endfunction

function Func1073 takes nothing returns nothing
	if Func0089(GetEnumUnit())and IsUnitAlly(GetEnumUnit(),Scourges[0])==false and GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>0.5 then
		call UnitRemoveAbility(GetEnumUnit(),'B08H')
		call DamageTarget(unit174,GetEnumUnit(),2,500)
	endif
endfunction

function Func1074 takes nothing returns boolean
	local group g=GetAvailableGroup()
	call GroupEnumUnitsInRect(g,rect044,Condition(function ReturnTrue))
	call ForGroup(g,function Func1072)
	call KillGroup(g)
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRect(g,rect045,Condition(function ReturnTrue))
	call ForGroup(g,function Func1073)
	call KillGroup(g)
	set g=null
	return false
endfunction

function Func1075 takes string winner returns nothing
	local integer i
	local player p
	local string id
	local integer QHI=R2I(GetTime()-real001)
	local integer Minutes=QHI/60-1/2
	local integer Seconds=ModuloInteger(QHI,60)
	call Func0095()
	set i=1
	loop
		exitwhen i>5
		set p=Sentinels[i]
		set id=I2S(GetPlayerId(p))
		call StoreInteger(GMC,id,"1",(integers001[GetPlayerId((p))]))
		call StoreInteger(GMC,id,"2",(integers002[GetPlayerId((p))]))
		call StoreInteger(GMC,id,"3",(PlayerCS[GetPlayerId((p))]))
		call StoreInteger(GMC,id,"4",(CSDenies[GetPlayerId((p))]))
		call StoreInteger(GMC,id,"5",(integers006[GetPlayerId((p))]))
		call StoreInteger(GMC,id,"6",(GetPlayerState((p),PLAYER_STATE_RESOURCE_GOLD)))
		call StoreInteger(GMC,id,"7",(LoadInteger(HY,(400+GetPlayerId((p))),(79))))
		call StoreInteger(GMC,id,"8_0",(GetItemTypeId(UnitItemInSlot(Players_Hero[GetPlayerId((p))],(0)))))
		call StoreInteger(GMC,id,"8_1",(GetItemTypeId(UnitItemInSlot(Players_Hero[GetPlayerId((p))],(1)))))
		call StoreInteger(GMC,id,"8_2",(GetItemTypeId(UnitItemInSlot(Players_Hero[GetPlayerId((p))],(2)))))
		call StoreInteger(GMC,id,"8_3",(GetItemTypeId(UnitItemInSlot(Players_Hero[GetPlayerId((p))],(3)))))
		call StoreInteger(GMC,id,"8_4",(GetItemTypeId(UnitItemInSlot(Players_Hero[GetPlayerId((p))],(4)))))
		call StoreInteger(GMC,id,"8_5",(GetItemTypeId(UnitItemInSlot(Players_Hero[GetPlayerId((p))],(5)))))
		call StoreInteger(GMC,id,"9",(GetUnitTypeId(Players_Hero[GetPlayerId((p))])))
		call StoreInteger(GMC,id,"id",i)
		set p=Scourges[i]
		set id=I2S(GetPlayerId(p))
		call StoreInteger(GMC,id,"1",(integers001[GetPlayerId((p))]))
		call StoreInteger(GMC,id,"2",(integers002[GetPlayerId((p))]))
		call StoreInteger(GMC,id,"3",(PlayerCS[GetPlayerId((p))]))
		call StoreInteger(GMC,id,"4",(CSDenies[GetPlayerId((p))]))
		call StoreInteger(GMC,id,"5",(integers006[GetPlayerId((p))]))
		call StoreInteger(GMC,id,"6",(GetPlayerState((p),PLAYER_STATE_RESOURCE_GOLD)))
		call StoreInteger(GMC,id,"7",(LoadInteger(HY,(400+GetPlayerId((p))),(79))))
		call StoreInteger(GMC,id,"8_0",(GetItemTypeId(UnitItemInSlot(Players_Hero[GetPlayerId((p))],(0)))))
		call StoreInteger(GMC,id,"8_1",(GetItemTypeId(UnitItemInSlot(Players_Hero[GetPlayerId((p))],(1)))))
		call StoreInteger(GMC,id,"8_2",(GetItemTypeId(UnitItemInSlot(Players_Hero[GetPlayerId((p))],(2)))))
		call StoreInteger(GMC,id,"8_3",(GetItemTypeId(UnitItemInSlot(Players_Hero[GetPlayerId((p))],(3)))))
		call StoreInteger(GMC,id,"8_4",(GetItemTypeId(UnitItemInSlot(Players_Hero[GetPlayerId((p))],(4)))))
		call StoreInteger(GMC,id,"8_5",(GetItemTypeId(UnitItemInSlot(Players_Hero[GetPlayerId((p))],(5)))))
		call StoreInteger(GMC,id,"9",(GetUnitTypeId(Players_Hero[GetPlayerId((p))])))
		call StoreInteger(GMC,id,"id",i+5)
		if LocalPlayer==PlayerModeTyper then
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Sentinels[i])),"1")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Sentinels[i])),"2")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Sentinels[i])),"3")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Sentinels[i])),"4")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Sentinels[i])),"5")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Sentinels[i])),"6")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Sentinels[i])),"7")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Sentinels[i])),"8_0")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Sentinels[i])),"8_1")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Sentinels[i])),"8_2")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Sentinels[i])),"8_3")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Sentinels[i])),"8_4")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Sentinels[i])),"8_5")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Sentinels[i])),"9")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Sentinels[i])),"id")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Scourges[i])),"1")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Scourges[i])),"2")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Scourges[i])),"3")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Scourges[i])),"4")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Scourges[i])),"5")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Scourges[i])),"6")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Scourges[i])),"7")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Scourges[i])),"8_0")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Scourges[i])),"8_1")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Scourges[i])),"8_2")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Scourges[i])),"8_3")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Scourges[i])),"8_4")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Scourges[i])),"8_5")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Scourges[i])),"9")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Scourges[i])),"id")
		endif
		set i=i+1
	endloop
	if boolean094==false then
		call StoreInteger(GMC,"Global","Winner",integer427)
		call StoreInteger(GMC,"Global","m",Minutes)
		call StoreInteger(GMC,"Global","s",Seconds)
		if LocalPlayer==PlayerModeTyper then
			call SyncStoredInteger(GMC,"Global","Winner")
			call SyncStoredInteger(GMC,"Global","m")
			call SyncStoredInteger(GMC,"Global","s")
		endif
	endif
endfunction

function Func1076 takes nothing returns nothing
	call Func1075("1")
endfunction

function Func1077 takes nothing returns nothing
	local player p=LeaverPlayer
	local integer i=GetPlayerId(p)
	local string id=I2S(i)
	call StoreInteger(GMC,id,"8_0",GetItemTypeId(UnitItemInSlot(Players_Hero[i],0)))
	call StoreInteger(GMC,id,"8_1",GetItemTypeId(UnitItemInSlot(Players_Hero[i],1)))
	call StoreInteger(GMC,id,"8_2",GetItemTypeId(UnitItemInSlot(Players_Hero[i],2)))
	call StoreInteger(GMC,id,"8_3",GetItemTypeId(UnitItemInSlot(Players_Hero[i],3)))
	call StoreInteger(GMC,id,"8_4",GetItemTypeId(UnitItemInSlot(Players_Hero[i],4)))
	call StoreInteger(GMC,id,"8_5",GetItemTypeId(UnitItemInSlot(Players_Hero[i],5)))
	if LocalPlayer==PlayerModeTyper then
		call SyncStoredInteger(GMC,I2S(i),"8_0")
		call SyncStoredInteger(GMC,I2S(i),"8_1")
		call SyncStoredInteger(GMC,I2S(i),"8_2")
		call SyncStoredInteger(GMC,I2S(i),"8_3")
		call SyncStoredInteger(GMC,I2S(i),"8_4")
		call SyncStoredInteger(GMC,I2S(i),"8_5")
	endif
endfunction

function Func1078 takes nothing returns boolean
	call ExecuteFunc("Func1003")
	return false
endfunction

function Func1079 takes nothing returns nothing
	call Func0048(GetEnumUnit())
endfunction

function Func1080 takes nothing returns nothing
	local group g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,0,0,12000,Condition(function Func0271))
	call ForGroup(g,function Func1079)
	call KillGroup(g)
	set g=null
endfunction

function Func1081 takes nothing returns nothing
	set bj_changeLevelShowScores=true
	call DisableTrigger(trigger047)
	call DisableTrigger(trigger048)
	call ExecuteFunc("Func0610")
	if isObserversMode then
		call DisableTrigger(trigger061)
	endif
	call DisableTrigger(trigger054)
	call ClearTextMessages()
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,60,string003+" "+GetObjectName('n054')+" www.getdota.com.")
	set boolean036=true
	call Func0181()
	call DisableTrigger(trigger007)
	call DisableTrigger(trigger029)
	call DisableTrigger(trigger053)
	call Func0027()
endfunction

function Func1082 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call PanCameraToTimed(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
	call TriggerRegisterTimerEvent(t,2.5,false)
	call TriggerAddCondition(t,Condition(function Func1078))
	set integer427=2
	set string003="|c0020c000"+GetObjectName('n03O')+"|r"
	call Func1081()
	call Func1080()
	call Func1075("2")
	set t=null
endfunction

function Func1083 takes nothing returns boolean
	call SetUnitVertexColorBJ(unit185,100,100,100,GetTriggerEvalCount(GetTriggeringTrigger()))
	if GetTriggerEvalCount(GetTriggeringTrigger())==100 then
		call ShowUnit(unit185,false)
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1084 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call PanCameraToTimed(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
	call TriggerRegisterTimerEvent(t,1.5,false)
	call TriggerAddCondition(t,Condition(function Func1078))
	set integer427=1
	set string003="|c00ff0303"+GetObjectName('n03N')+"|r"
	call Func1081()
	call Func1080()
	call Func1075("1")
	call AddSpecialEffect("war3mapImported\\FrozenThronesDeath2.mdx",GetUnitX(unit185)+150,GetUnitY(unit185)+100)
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func1083))
	set t=null
endfunction

function Func1085 takes real U0I returns boolean
	return(100*GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE))<U0I
endfunction

function AntiTK_Building takes nothing returns boolean
	return Func1085(10)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE) and GetUnitTypeId(GetTriggerUnit())!='etol' and GetUnitTypeId(GetTriggerUnit())!='unpl'
endfunction

function AntiTK_Hero takes nothing returns boolean
	return Func1085(25)and(GetUnitAbilityLevel(GetTriggerUnit(),'BNdo')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'BEsh')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B001')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B0AQ')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B0AP')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B05D')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B05M')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B05N')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B05O')>0)
endfunction

function AntiTK_Creep takes nothing returns boolean
	return Func1085(50)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false or GetUnitTypeId(GetTriggerUnit())=='ebal' or GetUnitTypeId(GetTriggerUnit())=='e026' or GetUnitTypeId(GetTriggerUnit())=='umtw' or GetUnitTypeId(GetTriggerUnit())=='u00R')
endfunction

function AntiTK_Exception takes nothing returns boolean
	return GetUnitTypeId(GetTriggerUnit())=='u00S' or GetUnitTypeId(GetTriggerUnit())=='o01V' or((LoadInteger(HY,(GetHandleId((GetAttacker()))),((4328))))==1)
endfunction

function Func1086 takes nothing returns nothing
	if not((Func1085(10)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE) and GetUnitTypeId(GetTriggerUnit())!='etol' and GetUnitTypeId(GetTriggerUnit())!='unpl')or(Func1085(25)and(GetUnitAbilityLevel(GetTriggerUnit(),'BNdo')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'BEsh')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B001')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B0AQ')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B0AP')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B05D')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B05M')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B05N')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B05O')>0))or(Func1085(50)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false or GetUnitTypeId(GetTriggerUnit())=='ebal' or GetUnitTypeId(GetTriggerUnit())=='e026' or GetUnitTypeId(GetTriggerUnit())=='umtw' or GetUnitTypeId(GetTriggerUnit())=='u00R'))or(GetUnitTypeId(GetTriggerUnit())=='u00S' or GetUnitTypeId(GetTriggerUnit())=='o01V' or((LoadInteger(HY,(GetHandleId((GetAttacker()))),((4328))))==1)))then
		call IssueImmediateOrder(GetAttacker(),"stop")
	endif
endfunction

function Func1087 takes nothing returns boolean
	if IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
		call Func1086()
	elseif IsUnitType(GetAttacker(),UNIT_TYPE_HERO) or Func0242(GetAttacker())or IsUnitIllusion(GetAttacker()) then
		set integer428=GetPlayerId(GetOwningPlayer(GetAttacker()))
		if IsUnitIllusion(GetAttacker())==false then
			if integers102[integer428]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(GetTriggerUnit())!='n00L' and IsUnitIllusion(GetAttacker())==false and Func0328(GetAttacker(),integers089[integer113]) then
				call Func0644()
			endif
			if integers105[integer428]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetAttacker())==false and(Func0328(GetAttacker(),integers089[integer173]) or Func0328(GetAttacker(),integers089[integer258]))then
				call Func0655()
			endif
			if integers107[integer428]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetAttacker())==false and Func0328(GetAttacker(),integers089[integer187]) then
				call Func0648()
			elseif(integers108[integer428]>0 or integers109[integer428]>0)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetAttacker())==false and(Func0328(GetAttacker(),integers089[integer172]) or Func0328(GetAttacker(),integers089[integer257]))then
				call Func0654()
			endif
		endif
		if integers110[integer428]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and(Func0328(GetAttacker(),integers089[integer177]) or Func0328(GetAttacker(),integers089[integer178]) or Func0328(GetAttacker(),integers089[integer179]) or Func0328(GetAttacker(),integers089[integer180]))then
			if IsUnitIllusion(GetAttacker())==false or IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER) then
				call Func0650()
			endif
		endif
	elseif GetUnitAbilityLevel(GetAttacker(),'A17S')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false then
		call Func1060()
	endif
	return false
endfunction

function Func1088 takes nothing returns boolean
	if Func0252(GetSpellAbilityId())and Func0253(GetTriggerUnit())then
		call InterruptUnit(GetTriggerUnit())
	endif
	return false
endfunction

function Func1089 takes nothing returns nothing
	call Func0537()
	call Func0539()
endfunction

function Func1090 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT or(LoadBoolean(HY,(GetHandleId(Hero)),(140))) then
		if(LoadBoolean(HY,(GetHandleId(Hero)),(140))) then
			call SaveBoolean(HY,(GetHandleId(Hero)),(140),(false))
			call SaveInteger(HY,(GetHandleId((Hero))),((4259)),(2))
			call UnitRemoveAbility(Hero,'A04R')
			call SetUnitInvul(Hero,false)
			call PauseUnit(Hero,false)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		elseif GetSpellTargetUnit()==Hero and GetSpellAbilityId()==integer430 and(GetPlayerSlotState(GetOwningPlayer((Hero)))==PLAYER_SLOT_STATE_LEFT)and((LoadInteger(HY,(GetHandleId((Hero))),((4259))))==1) then
			call SaveInteger(HY,(GetHandleId((Hero))),((4259)),(2))
			call UnitRemoveAbility(Hero,'A04R')
			call SetUnitInvul(Hero,false)
			call PauseUnit(Hero,false)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	elseif IsDead(Hero)==false then
		call SetUnitX(Hero,x)
		call SetUnitY(Hero,y)
		call SaveInteger(HY,(GetHandleId((Hero))),((4259)),(1))
		call UnitAddAbility(Hero,'A04R')
		call SetUnitInvul(Hero,true)
		call PauseUnit(Hero,true)
	endif
	set Hero=null
	set t=null
	return false
endfunction

function Func1091 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetSpellTargetUnit()
	call SaveBoolean(HY,(GetHandleId(Hero)),(140),(false))
	call SaveInteger(HY,(GetHandleId((Hero))),((4259)),(1))
	call UnitAddAbility(Hero,'A04R')
	call SetUnitInvul(Hero,true)
	call PauseUnit(Hero,true)
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveReal(HY,(h),(6),((GetUnitX(Hero))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(Hero))*1.0))
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1090))
	set t=null
	set Hero=null
endfunction

function Func1092 takes nothing returns boolean
	if boolean134 then
		return false
	endif
	if GetSpellAbilityId()==integer429 and(GetPlayerSlotState(GetOwningPlayer((GetSpellTargetUnit())))==PLAYER_SLOT_STATE_LEFT)and((LoadInteger(HY,(GetHandleId((GetSpellTargetUnit()))),((4259))))==1)==false then
		call Func1091()
	elseif(GetSpellAbilityId()==integer430 or GetSpellAbilityId()==integer429)and(GetPlayerSlotState(GetOwningPlayer((GetSpellTargetUnit())))==PLAYER_SLOT_STATE_LEFT)==false then
		call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n02N'))
	endif
	return false
endfunction

function Func1093 takes destructable d returns boolean
	local real x=GetDestructableX(d)
	local real y=GetDestructableY(d)
	local group g=GetAvailableGroup()
	local boolean A92
	call GroupEnumUnitsInRange(g,x,y,250,Condition(function Func0307))
	set A92=FirstOfGroup(g)!=null
	call KillGroup(g)
	set g=null
	return A92
endfunction

function Func1094 takes nothing returns nothing
	if Func0090(GetEnumDestructable())and GetDestructableLife(GetEnumDestructable())<1 and GetDestructableTypeId(GetEnumDestructable())!='B002' and GetDestructableTypeId(GetEnumDestructable())!='B003' then
		if Func1093(GetEnumDestructable())==false then
			call DestructableRestoreLife(GetEnumDestructable(),GetDestructableMaxLife(GetEnumDestructable()),false)
			if integers050[GetPlayerId(LocalPlayer)]==1 and GetDestructableTypeId(GetEnumDestructable())=='ATtr' then
				call SetDestructableAnimation(GetEnumDestructable(),"stand alternate")
			endif
		endif
	endif
endfunction

function Func1095 takes nothing returns nothing
	call EnumDestructablesInRectAll(bj_mapInitialPlayableArea,function Func1094)
endfunction

function Func1096 takes nothing returns boolean
	if GetUnitTypeId(GetTriggerUnit())=='n00L' then
		if IsUnitIllusion(GetAttacker()) then
			call KillUnit(GetAttacker())
		elseif IsUnitInRegion(region009,GetAttacker())==false then
			call Error(GetOwningPlayer(GetAttacker()),GetObjectName('n035'))
			call IssueImmediateOrder(GetAttacker(),"stop")
		endif
	endif
	return false
endfunction

function Func1097 takes nothing returns boolean
	return GetUnitTypeId(GetEnteringUnit())=='e00E' or GetUnitTypeId(GetEnteringUnit())=='e022'
endfunction

function Func1098 takes nothing returns nothing
	call ShowUnitHide(GetEnteringUnit())
	call SetUnitPathing(GetEnteringUnit(),false)
	call SetUnitInvulnerable(GetEnteringUnit(),true)
	call UnitApplyTimedLifeBJ(20.00,'BTLF',GetEnteringUnit())
endfunction

function Func1099 takes nothing returns boolean
	if(GetUnitTypeId(GetDyingUnit())=='e00R')then
		return true
	endif
	if(GetUnitTypeId(GetDyingUnit())=='e011')then
		return true
	endif
	if(GetUnitTypeId(GetDyingUnit())=='e00S')then
		return true
	endif
	if(GetUnitTypeId(GetDyingUnit())=='e019')then
		return true
	endif
	return false
endfunction

function Func1100 takes nothing returns boolean
	if(not(GetDyingUnit()==unit151))then
		return false
	endif
	if(not(IsDead(unit152)))then
		return false
	endif
	return true
endfunction

function Func1101 takes nothing returns boolean
	if(not(GetDyingUnit()==unit152))then
		return false
	endif
	if(not(IsDead(unit151)))then
		return false
	endif
	return true
endfunction

function Func1102 takes nothing returns boolean
	return GetUnitTypeId(GetFilterUnit())=='ncop' and IsPlayerAlly(GetOwningPlayer(GetFilterUnit()),player005)
endfunction

function Func1103 takes player p returns nothing
	local group g=GetAvailableGroup()
	local unit u
	set player005=p
	call GroupEnumUnitsInRange(g,0,0,99999,Condition(function Func1102))
	loop
		set u=FirstOfGroup(g)
		exitwhen FirstOfGroup(g)==null
		if GetUnitAbilityLevel(u,'A141')>0 then
			call UnitRemoveAbility(u,'A141')
			call UnitAddAbility(u,'A141')
		else
			call UnitRemoveAbility(u,'A1WI')
			call UnitAddAbility(u,'A1WI')
		endif
		call GroupRemoveUnit(g,u)
	endloop
	call KillGroup(g)
	set g=null
	set u=null
endfunction

function Func1104 takes nothing returns nothing
	if IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))then
		set integers016[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=integers016[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
	endif
	if(GetDyingUnit()==unit142)then
		call Traffic_RegisterData("Tower"+I2S(0)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call SetUnitInvul(unit145,false)
		call ProvideTowerGold(GetKillingUnit(),1)
		call Func1103(GetOwningPlayer(GetTriggerUnit()))
	endif
	if(GetDyingUnit()==unit143)then
		call Traffic_RegisterData("Tower"+I2S(0)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call SetUnitInvul(unit146,false)
		call ProvideTowerGold(GetKillingUnit(),1)
		call Func1103(GetOwningPlayer(GetTriggerUnit()))
	endif
	if(GetDyingUnit()==unit144)then
		call Traffic_RegisterData("Tower"+I2S(0)+I2S(1)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call SetUnitInvul(unit147,false)
		call ProvideTowerGold(GetKillingUnit(),1)
		call Func1103(GetOwningPlayer(GetTriggerUnit()))
	endif
	if(GetDyingUnit()==unit145)then
		call Traffic_RegisterData("Tower"+I2S(0)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call SetUnitInvul(unit148,false)
		call ProvideTowerGold(GetKillingUnit(),2)
	endif
	if(GetDyingUnit()==unit146)then
		call Traffic_RegisterData("Tower"+I2S(0)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call SetUnitInvul(unit149,false)
		call ProvideTowerGold(GetKillingUnit(),2)
	endif
	if(GetDyingUnit()==unit147)then
		call Traffic_RegisterData("Tower"+I2S(0)+I2S(2)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call SetUnitInvul(unit150,false)
		call ProvideTowerGold(GetKillingUnit(),2)
	endif
	if(GetDyingUnit()==unit148)then
		call Traffic_RegisterData("Tower"+I2S(0)+I2S(3)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call ProvideTowerGold(GetKillingUnit(),3)
		call SetUnitInvul(unit153,false)
		call SetUnitInvul(unit156,false)
		call SetUnitInvul(unit151,false)
		call SetUnitInvul(unit152,false)
		call SetUnitInvul(unit170,false)
		call SetUnitInvul(unit171,false)
		call SetUnitInvul(unit172,false)
		call SetUnitInvul(unit173,false)
		call SetUnitInvul(unit159,false)
		call SetUnitInvul(unit160,false)
		call SetUnitInvul(unit161,false)
		call SetUnitInvul(unit162,false)
		call SetUnitInvul(unit163,false)
		call SetUnitInvul(unit164,false)
		call SetUnitInvul(unit165,false)
		call SetUnitInvul(unit166,false)
		call SetUnitInvul(unit167,false)
		call SetUnitInvul(unit168,false)
		call SetUnitInvul(unit169,false)
	endif
	if(GetDyingUnit()==unit149)then
		call Traffic_RegisterData("Tower"+I2S(0)+I2S(3)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call ProvideTowerGold(GetKillingUnit(),3)
		call SetUnitInvul(unit154,false)
		call SetUnitInvul(unit157,false)
		call SetUnitInvul(unit151,false)
		call SetUnitInvul(unit152,false)
		call SetUnitInvul(unit170,false)
		call SetUnitInvul(unit171,false)
		call SetUnitInvul(unit172,false)
		call SetUnitInvul(unit173,false)
		call SetUnitInvul(unit159,false)
		call SetUnitInvul(unit160,false)
		call SetUnitInvul(unit161,false)
		call SetUnitInvul(unit162,false)
		call SetUnitInvul(unit163,false)
		call SetUnitInvul(unit164,false)
		call SetUnitInvul(unit165,false)
		call SetUnitInvul(unit166,false)
		call SetUnitInvul(unit167,false)
		call SetUnitInvul(unit168,false)
		call SetUnitInvul(unit169,false)
	endif
	if(GetDyingUnit()==unit150)then
		call Traffic_RegisterData("Tower"+I2S(0)+I2S(3)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call ProvideTowerGold(GetKillingUnit(),3)
		call SetUnitInvul(unit155,false)
		call SetUnitInvul(unit158,false)
		call SetUnitInvul(unit151,false)
		call SetUnitInvul(unit152,false)
		call SetUnitInvul(unit170,false)
		call SetUnitInvul(unit171,false)
		call SetUnitInvul(unit172,false)
		call SetUnitInvul(unit173,false)
		call SetUnitInvul(unit159,false)
		call SetUnitInvul(unit160,false)
		call SetUnitInvul(unit161,false)
		call SetUnitInvul(unit162,false)
		call SetUnitInvul(unit163,false)
		call SetUnitInvul(unit164,false)
		call SetUnitInvul(unit165,false)
		call SetUnitInvul(unit166,false)
		call SetUnitInvul(unit167,false)
		call SetUnitInvul(unit168,false)
		call SetUnitInvul(unit169,false)
	endif
	if GetDyingUnit()==unit151 or GetDyingUnit()==unit152 then
		call Traffic_RegisterData("Tower"+I2S(0)+I2S(4)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call ProvideTowerGold(GetKillingUnit(),4)
	endif
	if(Func1100())then
		call SetUnitInvul(unit141,false)
	endif
	if(Func1101())then
		call SetUnitInvul(unit141,false)
	endif
endfunction

function Func1105 takes nothing returns boolean
	if(GetUnitTypeId(GetDyingUnit())=='u00M')then
		return true
	endif
	if(GetUnitTypeId(GetDyingUnit())=='u00D')then
		return true
	endif
	if(GetUnitTypeId(GetDyingUnit())=='u00N')then
		return true
	endif
	if(GetUnitTypeId(GetDyingUnit())=='u00T')then
		return true
	endif
	return false
endfunction

function Func1106 takes nothing returns boolean
	if(not(GetDyingUnit()==unit195))then
		return false
	endif
	if(not(IsDead(unit196)))then
		return false
	endif
	return true
endfunction

function Func1107 takes nothing returns boolean
	if(not(GetDyingUnit()==unit196))then
		return false
	endif
	if(not(IsDead(unit195)))then
		return false
	endif
	return true
endfunction

function Func1108 takes nothing returns nothing
	if IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))then
		set integers016[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=integers016[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
	endif
	if(GetDyingUnit()==unit186)then
		call Traffic_RegisterData("Tower"+I2S(1)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call SetUnitInvul(unit189,false)
		call ProvideTowerGold(GetKillingUnit(),1)
		call Func1103(GetOwningPlayer(GetTriggerUnit()))
	endif
	if(GetDyingUnit()==unit187)then
		call Traffic_RegisterData("Tower"+I2S(1)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call SetUnitInvul(unit190,false)
		call ProvideTowerGold(GetKillingUnit(),1)
		call Func1103(GetOwningPlayer(GetTriggerUnit()))
	endif
	if(GetDyingUnit()==unit188)then
		call Traffic_RegisterData("Tower"+I2S(1)+I2S(1)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call SetUnitInvul(unit191,false)
		call ProvideTowerGold(GetKillingUnit(),1)
		call Func1103(GetOwningPlayer(GetTriggerUnit()))
	endif
	if(GetDyingUnit()==unit189)then
		call Traffic_RegisterData("Tower"+I2S(1)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call SetUnitInvul(unit192,false)
		call ProvideTowerGold(GetKillingUnit(),2)
	endif
	if(GetDyingUnit()==unit190)then
		call Traffic_RegisterData("Tower"+I2S(1)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call SetUnitInvul(unit193,false)
		call ProvideTowerGold(GetKillingUnit(),2)
	endif
	if(GetDyingUnit()==unit191)then
		call Traffic_RegisterData("Tower"+I2S(1)+I2S(2)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call SetUnitInvul(unit194,false)
		call ProvideTowerGold(GetKillingUnit(),2)
	endif
	if(GetDyingUnit()==unit192)then
		call Traffic_RegisterData("Tower"+I2S(1)+I2S(3)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call ProvideTowerGold(GetKillingUnit(),3)
		call SetUnitInvul(unit197,false)
		call SetUnitInvul(unit200,false)
		call SetUnitInvul(unit195,false)
		call SetUnitInvul(unit196,false)
		call SetUnitInvul(unit214,false)
		call SetUnitInvul(unit215,false)
		call SetUnitInvul(unit216,false)
		call SetUnitInvul(unit217,false)
		call SetUnitInvul(unit203,false)
		call SetUnitInvul(unit204,false)
		call SetUnitInvul(unit205,false)
		call SetUnitInvul(unit206,false)
		call SetUnitInvul(unit207,false)
		call SetUnitInvul(unit208,false)
		call SetUnitInvul(unit209,false)
		call SetUnitInvul(unit210,false)
		call SetUnitInvul(unit211,false)
		call SetUnitInvul(unit212,false)
		call SetUnitInvul(unit213,false)
	endif
	if(GetDyingUnit()==unit193)then
		call Traffic_RegisterData("Tower"+I2S(1)+I2S(3)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call ProvideTowerGold(GetKillingUnit(),3)
		call SetUnitInvul(unit198,false)
		call SetUnitInvul(unit201,false)
		call SetUnitInvul(unit195,false)
		call SetUnitInvul(unit196,false)
		call SetUnitInvul(unit214,false)
		call SetUnitInvul(unit215,false)
		call SetUnitInvul(unit216,false)
		call SetUnitInvul(unit217,false)
		call SetUnitInvul(unit203,false)
		call SetUnitInvul(unit204,false)
		call SetUnitInvul(unit205,false)
		call SetUnitInvul(unit206,false)
		call SetUnitInvul(unit207,false)
		call SetUnitInvul(unit208,false)
		call SetUnitInvul(unit209,false)
		call SetUnitInvul(unit210,false)
		call SetUnitInvul(unit211,false)
		call SetUnitInvul(unit212,false)
		call SetUnitInvul(unit213,false)
	endif
	if(GetDyingUnit()==unit194)then
		call Traffic_RegisterData("Tower"+I2S(1)+I2S(3)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call ProvideTowerGold(GetKillingUnit(),3)
		call SetUnitInvul(unit199,false)
		call SetUnitInvul(unit202,false)
		call SetUnitInvul(unit195,false)
		call SetUnitInvul(unit196,false)
		call SetUnitInvul(unit214,false)
		call SetUnitInvul(unit215,false)
		call SetUnitInvul(unit216,false)
		call SetUnitInvul(unit217,false)
		call SetUnitInvul(unit203,false)
		call SetUnitInvul(unit204,false)
		call SetUnitInvul(unit205,false)
		call SetUnitInvul(unit206,false)
		call SetUnitInvul(unit207,false)
		call SetUnitInvul(unit208,false)
		call SetUnitInvul(unit209,false)
		call SetUnitInvul(unit210,false)
		call SetUnitInvul(unit211,false)
		call SetUnitInvul(unit212,false)
		call SetUnitInvul(unit213,false)
	endif
	if GetDyingUnit()==unit195 or GetDyingUnit()==unit196 then
		call Traffic_RegisterData("Tower"+I2S(1)+I2S(4)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
		call ProvideTowerGold(GetKillingUnit(),4)
	endif
	if(Func1106())then
		call SetUnitInvul(unit185,false)
	endif
	if(Func1107())then
		call SetUnitInvul(unit185,false)
	endif
endfunction

function Func1109 takes nothing returns boolean
	local integer x=0
	if GetPlayerSlotState(Sentinels[1])==PLAYER_SLOT_STATE_EMPTY then
		set x=x+1
	endif
	if GetPlayerSlotState(Sentinels[2])==PLAYER_SLOT_STATE_EMPTY then
		set x=x+1
	endif
	if GetPlayerSlotState(Sentinels[3])==PLAYER_SLOT_STATE_EMPTY then
		set x=x+1
	endif
	if GetPlayerSlotState(Sentinels[4])==PLAYER_SLOT_STATE_EMPTY then
		set x=x+1
	endif
	if GetPlayerSlotState(Sentinels[5])==PLAYER_SLOT_STATE_EMPTY then
		set x=x+1
	endif
	if GetPlayerSlotState(Scourges[1])==PLAYER_SLOT_STATE_EMPTY then
		set x=x+1
	endif
	if GetPlayerSlotState(Scourges[2])==PLAYER_SLOT_STATE_EMPTY then
		set x=x+1
	endif
	if GetPlayerSlotState(Scourges[3])==PLAYER_SLOT_STATE_EMPTY then
		set x=x+1
	endif
	if GetPlayerSlotState(Scourges[4])==PLAYER_SLOT_STATE_EMPTY then
		set x=x+1
	endif
	if GetPlayerSlotState(Scourges[5])==PLAYER_SLOT_STATE_EMPTY then
		set x=x+1
	endif
	return x==9
endfunction

function SinglePlayer_Condition takes nothing returns boolean
	return bj_isSinglePlayer and Func1109()
endfunction

function Func1110 takes nothing returns nothing
	set boolean095=false
endfunction

function Func1111 takes nothing returns nothing
	set boolean097=true
endfunction

function Func1112 takes nothing returns nothing
	set boolean095=true
endfunction

function Func1113 takes nothing returns nothing
	set boolean046=false
	set boolean136=true
endfunction

function Func1114 takes nothing returns boolean
	if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false then
		call KillUnit(GetFilterUnit())
	endif
	return false
endfunction

function Func1115 takes nothing returns nothing
	local group g=GetAvailableGroup()
	call GroupEnumUnitsOfPlayer(g,Scourges[0],Condition(function Func1114))
	call KillGroup(g)
	set g=null
	set boolean043=true
endfunction

function Func1116 takes nothing returns nothing
	local group g=GetAvailableGroup()
	call GroupEnumUnitsOfPlayer(g,Sentinels[0],Condition(function Func1114))
	call KillGroup(g)
	set g=null
	set boolean043=true
endfunction

function Func1117 takes nothing returns boolean
	if GetUnitTypeId(GetFilterUnit())=='o004' or GetUnitTypeId(GetFilterUnit())=='oeye' then
		call KillUnit(GetFilterUnit())
	endif
	return false
endfunction

function Func1118 takes nothing returns nothing
	local group g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,0,0,9999,Condition(function Func1117))
	call KillGroup(g)
	set g=null
	set boolean043=true
endfunction

function Func1119 takes nothing returns nothing
	call Func1116()
	call Func1115()
	set boolean043=true
endfunction

function Func1120 takes nothing returns boolean
	if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) then
		call SetHeroLevel(GetFilterUnit(),GetHeroLevel(GetFilterUnit())+Func0131(integer022,1),true)
	endif
	return false
endfunction

function Func1121 takes nothing returns nothing
	local string B72=SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString()))
	local integer lvl=S2I(B72)
	local group g=GetAvailableGroup()
	if lvl<1 then
		set lvl=1
	endif
	set integer022=lvl
	call GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function Func1120))
	call KillGroup(g)
	set g=null
	set boolean043=true
endfunction

function Func1122 takes nothing returns nothing
	call TriggerExecute(trigger007)
	set boolean043=true
endfunction

function Func1123 takes nothing returns boolean
	if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) then
		call UnitResetCooldown(GetFilterUnit())
		call TimerStart(timers003[GetPlayerId((GetOwningPlayer(GetFilterUnit())))],0,false,null)
		call SetUnitState(GetFilterUnit(),UNIT_STATE_LIFE,GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_LIFE))
		call SetUnitState(GetFilterUnit(),UNIT_STATE_MANA,GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_MANA))
	endif
	return false
endfunction

function Func1124 takes nothing returns nothing
	local group g=GetAvailableGroup()
	call GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function Func1123))
	call KillGroup(g)
	set g=null
	set boolean043=true
endfunction

function Func1125 takes nothing returns nothing
	call KillUnit(Players_Hero[GetPlayerId(GetTriggerPlayer())])
	set boolean043=true
endfunction

function Func1126 takes nothing returns nothing
	local string BD2=SubString(GetEventPlayerChatString(),5,StringLength(GetEventPlayerChatString()))
	local integer time=S2I(BD2)
	if time<0 or time>24 then
		set time=0
	endif
	call SetFloatGameState(GAME_STATE_TIME_OF_DAY,time)
	set boolean043=true
endfunction

function Func1127 takes nothing returns nothing
	local string BF2=SubString(GetEventPlayerChatString(),5,StringLength(GetEventPlayerChatString()))
	local integer ROI=S2I(BF2)
	call SetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)+ROI)
	set boolean043=true
endfunction

function Func1128 takes nothing returns nothing
	local unit AD1=Players_Hero[GetPlayerId(GetTriggerPlayer())]
	local player I6O=GetTriggerPlayer()
	local location spawnloc
	if Func0052(I6O)then
		set spawnloc=GetRectCenter(Hero_Creation_UD)
	else
		set spawnloc=GetRectCenter(Hero_Creation_NE)
	endif
	if boolean036==false and IsDead(AD1)then
		call Func0423(AD1,I6O,GetLocationX(spawnloc),GetLocationY(spawnloc),true)
		if Func0465(AD1)==false or GetUnitAbilityLevel(AD1,'A0MW')==0 then
			call ReviveHeroLoc(AD1,spawnloc,true)
		else
			call Func0468(AD1,spawnloc)
		endif
	endif
	call RemoveLocation(spawnloc)
	set AD1=null
	set I6O=null
	set spawnloc=null
endfunction

function Func1129 takes nothing returns nothing
	local unit source=Players_Hero[GetPlayerId(GetTriggerPlayer())]
	local player BZ2
	local unit BV2
	local real x=GetRectCenterX(rect050)
	local real y=GetRectCenterX(rect050)
	if Func0052(GetOwningPlayer(source))then
		set BZ2=Sentinels[1]
	else
		set BZ2=Scourges[1]
	endif
	set BV2=CreateUnit(BZ2,'H000',x,y,0)
	call SetHeroLevel(BV2,10,false)
	set source=null
	set BV2=null
	set BZ2=null
endfunction

function Func1130 takes nothing returns nothing
	call TriggerEvaluate(trigger056)
endfunction

function Func1131 takes nothing returns nothing
	call TriggerEvaluate(trigger024)
endfunction

function Func1132 takes nothing returns nothing
	call EnumDestructablesInRectAll(bj_mapInitialPlayableArea,function Func1094)
endfunction

function Func1133 takes nothing returns boolean
	call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"**** "+GetObjectName('n06F')+" ****")
	call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,GetObjectName('n076')+" -lvlup xx, -refresh, -spawncreeps, -powerup, -neutrals, -kill, -gold xxxx, -time xx, -killsent, -killscourge, -killall, -noherolimit, -trees, -killwards, -spawnoff, -spawnon, -roshan, -respawn, -dummy")
	call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"**** "+GetObjectName('n06F')+" ****")
	return false
endfunction

function Func1134 takes nothing returns nothing
	local player OnlyPlayer=PlayerModeTyper
	local trigger t
	set boolean096=true
	call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,GetObjectName('n076')+" -lvlup xx, -refresh, -spawncreeps, -powerup, -neutrals, -kill, -gold xxxx, -time xx, -killsent, -killscourge, -killall, -noherolimit, -trees, -killwards, -spawnoff, -spawnon, -roshan, -respawn, -dummy")
	set t=CreateTrigger()
	call TriggerAddCondition(t,Condition(function Func1133))
	call TriggerRegisterTimerEvent(t,GetRandomReal(60,100),false)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-lvlup",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-lvlup",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-lvlup",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-lvlup",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-lvlup",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-lvlup",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-lvlup",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-lvlup",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-lvlup",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-lvlup",false)
	call TriggerAddAction(t,function Func1121)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-spawncreeps",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-spawncreeps",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-spawncreeps",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-spawncreeps",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-spawncreeps",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-spawncreeps",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-spawncreeps",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-spawncreeps",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-spawncreeps",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-spawncreeps",true)
	call TriggerAddAction(t,function Func1122)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-refresh",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-refresh",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-refresh",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-refresh",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-refresh",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-refresh",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-refresh",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-refresh",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-refresh",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-refresh",true)
	call TriggerAddAction(t,function Func1124)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-kill",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-kill",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-kill",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-kill",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-kill",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-kill",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-kill",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-kill",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-kill",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-kill",true)
	call TriggerAddAction(t,function Func1125)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-gold",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-gold",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-gold",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-gold",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-gold",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-gold",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-gold",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-gold",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-gold",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-gold",false)
	call TriggerAddAction(t,function Func1127)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-time",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-time",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-time",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-time",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-time",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-time",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-time",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-time",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-time",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-time",false)
	call TriggerAddAction(t,function Func1126)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-powerup",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-powerup",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-powerup",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-powerup",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-powerup",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-powerup",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-powerup",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-powerup",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-powerup",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-powerup",true)
	call TriggerAddAction(t,function Func1130)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-killall",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-killall",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-killall",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-killall",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-killall",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-killall",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-killall",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-killall",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-killall",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-killall",true)
	call TriggerAddAction(t,function Func1119)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-killsent",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-killsent",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-killsent",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-killsent",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-killsent",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-killsent",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-killsent",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-killsent",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-killsent",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-killsent",true)
	call TriggerAddAction(t,function Func1116)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-killscourge",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-killscourge",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-killscourge",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-killscourge",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-killscourge",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-killscourge",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-killscourge",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-killscourge",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-killscourge",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-killscourge",true)
	call TriggerAddAction(t,function Func1115)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-neutrals",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-neutrals",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-neutrals",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-neutrals",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-neutrals",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-neutrals",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-neutrals",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-neutrals",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-neutrals",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-neutrals",true)
	call TriggerAddAction(t,function Func1131)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-noherolimit",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-noherolimit",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-noherolimit",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-noherolimit",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-noherolimit",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-noherolimit",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-noherolimit",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-noherolimit",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-noherolimit",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-noherolimit",true)
	call TriggerAddAction(t,function Func1113)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-trees",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-trees",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-trees",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-trees",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-trees",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-trees",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-trees",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-trees",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-trees",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-trees",true)
	call TriggerAddAction(t,function Func1132)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-killwards",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-killwards",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-killwards",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-killwards",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-killwards",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-killwards",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-killwards",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-killwards",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-killwards",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-killwards",true)
	call TriggerAddAction(t,function Func1118)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-spawnoff",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-spawnoff",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-spawnoff",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-spawnoff",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-spawnoff",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-spawnoff",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-spawnoff",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-spawnoff",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-spawnoff",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-spawnoff",true)
	call TriggerAddAction(t,function Func1112)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-spawnon",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-spawnon",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-spawnon",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-spawnon",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-spawnon",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-spawnon",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-spawnon",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-spawnon",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-spawnon",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-spawnon",true)
	call TriggerAddAction(t,function Func1110)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-roshan",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-roshan",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-roshan",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-roshan",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-roshan",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-roshan",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-roshan",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-roshan",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-roshan",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-roshan",true)
	call TriggerAddAction(t,function Func1111)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-respawn",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-respawn",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-respawn",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-respawn",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-respawn",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-respawn",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-respawn",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-respawn",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-respawn",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-respawn",true)
	call TriggerAddAction(t,function Func1128)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-dummy",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-dummy",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-dummy",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-dummy",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-dummy",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-dummy",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-dummy",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-dummy",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-dummy",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-dummy",true)
	call TriggerAddAction(t,function Func1129)
endfunction

function Func1135 takes nothing returns boolean
	return not boolean002
endfunction

function Func1136 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit B71=(LoadUnitHandle(HY,(h),(26)))
	if GetUnitTypeId(B71)!='ncop' then
		call UnitResetCooldown(B71)
		call SetUnitManaPercentBJ(B71,100)
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set B71=null
	return false
endfunction

function Func1137 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func1136))
	call SaveUnitHandle(HY,(h),(26),(GetTriggerUnit()))
	set t=null
endfunction

function Func1138 takes nothing returns nothing
	local trigger t=GetTriggeringTrigger()
	local integer BR2=CountPlayersInForce(Force_Elfs)+CountPlayersInForce(Force_Unds)
	local integer NumRequired=Func0130(BR2,BR2/2+1)
	local integer h=GetHandleId(t)
	set boolean136=true
	if boolean104==false then
		set boolean098=true
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.00," ")
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90.00,GetObjectName('n077'))
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90.00,GetObjectName('n078'))
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
		call TriggerAddAction(t,function Func1137)
	endif
endfunction

function Func1139 takes nothing returns boolean
	if Func0433(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false then
		call Func0379(GetOwningPlayer(GetTriggerUnit()))
		call Traffic_RegisterData("lvl"+I2S(GetHeroLevel(GetTriggerUnit())),GetPlayerId(GetOwningPlayer(GetTriggerUnit())))
	endif
	return false
endfunction

function Func1140 takes nothing returns nothing
	if boolean104==false then
		call Func1134()
		call CleanTrigger(GetTriggeringTrigger())
	endif
endfunction

function Func1141 takes nothing returns boolean
	if boolean002==false and(bj_isSinglePlayer and Func1109())==false then
		call Func1140()
	endif
	return false
endfunction

function Func1147 takes unit SWI returns boolean
	return(GetOwningPlayer(SWI)==Sentinels[0])or(GetOwningPlayer(SWI)==Scourges[0])
endfunction

function Func1148 takes nothing returns nothing
	call SetUnitUserData(GetEnumUnit(),0)
	call IssuePointOrderLoc(GetEnumUnit(),"attack",(locations001[GetUnitAbilityLevel((GetEnumUnit()),integer012)]))
endfunction

function Func1149 takes nothing returns nothing
	call IssueTargetOrder(GetEnumUnit(),"attack",unit255)
	call GroupAddUnit(group006,GetEnumUnit())
	call SetUnitUserData(GetEnumUnit(),integer431)
endfunction

function Func1150 takes nothing returns boolean
	local integer id=GetUnitTypeId(GetFilterUnit())
	if id=='ebal' or id=='e026' or id=='umtw' or id=='u00R' then
		return false
	endif
	if IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(unit255))and(GetOwningPlayer(GetFilterUnit())==Sentinels[0]or GetOwningPlayer(GetFilterUnit())==Scourges[0])and GetUnitUserData(GetFilterUnit())==0 then
		return true
	endif
	return false
endfunction

function Func1151 takes nothing returns nothing
	if GetUnitCurrentOrder(GetEnumUnit())==0 and IsUnitInRange(GetEnumUnit(),unit255,GetUnitAcquireRange(GetEnumUnit()))==false then
		call GroupRemoveUnit(group006,GetEnumUnit())
		call SetUnitUserData(GetEnumUnit(),0)
		call IssuePointOrderLoc(GetEnumUnit(),"attack",(locations001[GetUnitAbilityLevel((GetEnumUnit()),integer012)]))
	endif
endfunction

function Func1152 takes nothing returns nothing
	local integer h=GetHandleId((LoadUnitHandle(HY,(GetHandleId(GetExpiredTimer())),(2))))
	local integer CF2=(LoadInteger(HY,(h),(143)))
	local group CG2=(LoadGroupHandle(HY,(h),(144)))
	set units010[CF2]=null
	call ForGroup(CG2,function Func1148)
	call GroupClear(CG2)
	set CG2=null
endfunction

function Func1153 takes unit Hero,unit Z4O returns nothing
	local integer h=GetHandleId(Hero)
	local group CG2=(LoadGroupHandle(HY,(h),(144)))
	local integer CF2=(LoadInteger(HY,(h),(143)))
	local unit CZ2=units010[CF2]
	local group g
	if CZ2!=null and CZ2!=Z4O then
		call ForGroup(CG2,function Func1148)
		call GroupClear(CG2)
	endif
	set units010[CF2]=Z4O
	set group006=CG2
	set unit255=Z4O
	set integer431=CF2
	call ForGroup(CG2,function Func1151)
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,GetUnitX(Z4O),GetUnitY(Z4O),500,Condition(function Func1150))
	call ForGroup(g,function Func1149)
	call KillGroup(g)
	call TimerStart((LoadTimerHandle(HY,(h),(141))),2,false,function Func1152)
	set CG2=null
	set CZ2=null
	set g=null
endfunction

function Func1154 takes nothing returns boolean
	local unit Hero=GetTriggerUnit()
	local unit target=GetOrderTargetUnit()
	local integer CW2=GetIssuedOrderId()
	local integer CF2
	if IsUnitType(target,UNIT_TYPE_HERO) and IsUnitIllusion(target)==false and(CW2==851983 or CW2==851971)and IsUnitEnemy(target,GetOwningPlayer(Hero))and IsUnitVisible(Hero,GetOwningPlayer(target))then
		set CF2=(LoadInteger(HY,(GetHandleId(target)),(143)))
		if units010[CF2]==null or units010[CF2]==target or IsDead(units010[CF2])then
			if CF2!=0 then
				call Func1153(target,Hero)
			endif
		endif
	endif
	set Hero=null
	set target=null
	return false
endfunction

function Func1155 takes nothing returns boolean
	local unit Hero=GetAttacker()
	local unit target=GetTriggerUnit()
	local integer CW2=GetIssuedOrderId()
	local integer CF2
	if Func1147(Hero)==false then
		set CF2=(LoadInteger(HY,(GetHandleId(target)),(143)))
		if units010[CF2]==null or units010[CF2]==target or IsDead(units010[CF2])then
			if CF2!=0 then
				call Func1153(target,Hero)
			endif
		endif
	endif
	set Hero=null
	set target=null
	return false
endfunction

function Func1156 takes unit Hero returns nothing
	local group g
	local trigger t
	local timer tm
	local integer h=GetHandleId(Hero)
	set integer432=integer432+1
	call SaveBoolean(HY,(h),(142),(true))
	call SaveInteger(HY,(h),(143),(integer432))
	set g=GetAvailableGroup()
	call SaveGroupHandle(HY,(h),(144),(g))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_ISSUED_TARGET_ORDER)
	call TriggerAddCondition(t,Condition(function Func1154))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func1155))
	set tm=CreateTimer()
	call SaveTimerHandle(HY,(GetHandleId(Hero)),(141),(tm))
	call SaveUnitHandle(HY,(GetHandleId(tm)),(2),(Hero))
	set g=null
	set t=null
endfunction

function Func1157 takes nothing returns boolean
	if Func0096(GetTriggerUnit())and(LoadBoolean(HY,(GetHandleId(GetTriggerUnit())),(142)))==false then
		call Func1156(GetTriggerUnit())
	endif
	return false
endfunction

function Func1158 takes nothing returns boolean
	if GetOwningPlayer(GetTriggerUnit())==Sentinels[0]then
		call SetUnitAbilityLevel(GetTriggerUnit(),integer012,5)
		if units010[GetUnitUserData(GetTriggerUnit())]==null then
			call SetUnitUserData(GetTriggerUnit(),0)
			call IssuePointOrderLoc(GetTriggerUnit(),"attack",(locations001[GetUnitAbilityLevel((GetTriggerUnit()),integer012)]))
		endif
	elseif GetOwningPlayer(GetTriggerUnit())==Scourges[0]then
		call SetUnitAbilityLevel(GetTriggerUnit(),integer012,1)
		if units010[GetUnitUserData(GetTriggerUnit())]==null then
			call SetUnitUserData(GetTriggerUnit(),0)
			call IssuePointOrderLoc(GetTriggerUnit(),"attack",(locations001[GetUnitAbilityLevel((GetTriggerUnit()),integer012)]))
		endif
	endif
	return false
endfunction

constant function InvisibilityUnitId takes nothing returns integer
	return 'u00B'
endfunction

function Func1159 takes nothing returns nothing
	local unit JMO=GetTriggerUnit()
	local unit CS2=(LoadUnitHandle(HY,(GetHandleId(JMO)),(145)))
	call RemoveUnit(CS2)
endfunction

function Func1160 takes nothing returns nothing
	local group g
	local unit JMO
	local unit CS2
	local trigger t
	local integer i
	set t=CreateTrigger()
	call TriggerAddAction(t,function Func1159)
	set g=GetAvailableGroup()
	call GroupEnumUnitsOfPlayer(g,Sentinels[0],Condition(function ReturnTrue))
	loop
		set JMO=FirstOfGroup(g)
		exitwhen JMO==null
		call GroupRemoveUnit(g,JMO)
		if GetUnitAbilityLevel(JMO,'Adts')>0 or GetUnitAbilityLevel(JMO,'Atru')>0 then
			call TriggerRegisterUnitEvent(t,JMO,EVENT_UNIT_DEATH)
			set CS2=CreateUnit(Sentinels[1],('u00B'),-5000,-5100,0)
			call SetUnitScale(CS2,0,0,0)
			call SetUnitPathing(CS2,false)
			call SetUnitInvulnerable(CS2,true)
			call SetUnitX(CS2,GetUnitX(JMO))
			call SetUnitY(CS2,GetUnitY(JMO))
			call SaveUnitHandle(HY,(GetHandleId(JMO)),(145),(CS2))
		endif
	endloop
	call KillGroup(g)
	set g=GetAvailableGroup()
	call GroupEnumUnitsOfPlayer(g,Scourges[0],Condition(function ReturnTrue))
	loop
		set JMO=FirstOfGroup(g)
		exitwhen JMO==null
		call GroupRemoveUnit(g,JMO)
		if GetUnitAbilityLevel(JMO,'Adts')>0 or GetUnitAbilityLevel(JMO,'Atru')>0 then
			call TriggerRegisterUnitEvent(t,JMO,EVENT_UNIT_DEATH)
			set CS2=CreateUnit(Scourges[1],('u00B'),3400,4400,0)
			call SetUnitScale(CS2,0,0,0)
			call SetUnitPathing(CS2,false)
			call SetUnitInvulnerable(CS2,true)
			call SetUnitX(CS2,GetUnitX(JMO))
			call SetUnitY(CS2,GetUnitY(JMO))
			call SaveUnitHandle(HY,(GetHandleId(JMO)),(145),(CS2))
		endif
	endloop
	call KillGroup(g)
endfunction

function Func1161 takes nothing returns nothing
	local unit CQ2=GetTriggerUnit()
	local unit target=units010[GetUnitUserData(CQ2)]
	call SetUnitPosition(CQ2,GetUnitX(CQ2),GetUnitY(CQ2))
	if target!=null and IsDead(target)==false and IsUnitVisible(target,GetOwningPlayer(target))then
		call IssueTargetOrder(CQ2,"attack",target)
	else
		call DisableTrigger(GetTriggeringTrigger())
		call IssuePointOrderLoc(CQ2,"attack",(locations001[GetUnitAbilityLevel((CQ2),integer012)]))
		call EnableTrigger(GetTriggeringTrigger())
	endif
	set CQ2=null
	set target=null
endfunction

function Func1162 takes nothing returns boolean
	if Func1147(GetTriggerUnit())then
		call Func1161()
	endif
	return false
endfunction

function Func1163 takes nothing returns nothing
	local unit CQ2=GetTriggerUnit()
	local unit target=units010[GetUnitUserData(CQ2)]
	call SetUnitPosition(CQ2,GetUnitX(CQ2),GetUnitY(CQ2))
	if target!=null and IsDead(target)==false and IsUnitVisible(target,GetOwningPlayer(target))then
		call IssueTargetOrder(CQ2,"attack",target)
	else
		call DisableTrigger(GetTriggeringTrigger())
		call IssuePointOrderLoc(CQ2,"attack",(locations001[GetUnitAbilityLevel((CQ2),integer012)]))
		call EnableTrigger(GetTriggeringTrigger())
	endif
	set CQ2=null
	set target=null
endfunction

function Func1164 takes nothing returns boolean
	if GetIssuedOrderId()==851986 then
		call Func1163()
	endif
	return false
endfunction

function Func1165 takes nothing returns boolean
	if GetOwningPlayer(GetTriggerUnit())==Sentinels[0]then
		if IsUnitFogged(GetAttacker(),Sentinels[1])or IsUnitFogged(GetAttacker(),Scourges[1])then
			call Func0196(CreateFogModifierRadius(Sentinels[1],FOG_OF_WAR_VISIBLE,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),128,true,false),1)
		endif
	elseif GetOwningPlayer(GetTriggerUnit())==Scourges[0]then
		if IsUnitFogged(GetAttacker(),Sentinels[1])or IsUnitFogged(GetAttacker(),Scourges[1])then
			call Func0196(CreateFogModifierRadius(Scourges[1],FOG_OF_WAR_VISIBLE,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),128,true,false),1)
		endif
	endif
	return false
endfunction

function Func1166 takes nothing returns boolean
	local trigger t
	local group g
	local unit u
	if isObserversMode then
		set t=CreateTrigger()
		call TriggerRegisterPlayerUnitEvent(t,Sentinels[0],EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Condition(function ReturnTrue))
		call TriggerRegisterPlayerUnitEvent(t,Scourges[0],EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Condition(function ReturnTrue))
		call TriggerAddCondition(t,Condition(function Func1164))
		set t=CreateTrigger()
		set g=GetAvailableGroup()
		call GroupEnumUnitsOfPlayer(g,Sentinels[0],Condition(function ReturnTrue))
		loop
			set u=FirstOfGroup(g)
			exitwhen u==null
			call GroupRemoveUnit(g,u)
			if GetUnitAcquireRange(u)!=0 then
				call TriggerRegisterUnitInRange(t,u,600,Condition(function ReturnTrue))
			endif
		endloop
		call KillGroup(g)
		set g=GetAvailableGroup()
		call GroupEnumUnitsOfPlayer(g,Scourges[0],Condition(function ReturnTrue))
		loop
			set u=FirstOfGroup(g)
			exitwhen u==null
			call GroupRemoveUnit(g,u)
			if GetUnitAcquireRange(u)!=0 and IsUnitType(u,UNIT_TYPE_STRUCTURE)then
				call TriggerRegisterUnitInRange(t,u,600,Condition(function ReturnTrue))
			endif
		endloop
		call KillGroup(g)
		call TriggerAddCondition(t,Condition(function Func1162))
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
		call TriggerAddCondition(t,Condition(function Func1165))
	endif
	call CleanTrigger(GetTriggeringTrigger())
	return false
endfunction

function Func1167 takes unit SWI returns nothing
	local integer i=0
	loop
		exitwhen(i==16)
		if IsUnitAlly(SWI,Player(i))then
			call UnitShareVision(SWI,Player(i),true)
		endif
		set i=i+1
	endloop
endfunction

function Func1168 takes nothing returns nothing
	call Func1167(GetEnumUnit())
endfunction

function Func1169 takes nothing returns nothing
	local integer x
	local group g
	set x=1
	loop
		exitwhen x>5
		call SetPlayerAlliance(Sentinels[0],Sentinels[x],ALLIANCE_SHARED_VISION,false)
		call SetPlayerAlliance(Scourges[0],Scourges[x],ALLIANCE_SHARED_VISION,false)
		set x=x+1
	endloop
	set g=GetAvailableGroup()
	call GroupEnumUnitsOfPlayer(g,Sentinels[0],Condition(function ReturnTrue))
	call ForGroup(g,function Func1168)
	call KillGroup(g)
	set g=GetAvailableGroup()
	call GroupEnumUnitsOfPlayer(g,Scourges[0],Condition(function ReturnTrue))
	call ForGroup(g,function Func1168)
	call KillGroup(g)
	set g=null
endfunction

function Func1170 takes nothing returns nothing
	local integer x
	set x=0
	loop
		exitwhen x>5
		call SetPlayerAlliance(Sentinels[x],Neutrals,ALLIANCE_PASSIVE,false)
		call SetPlayerAlliance(Sentinels[x],Neutrals,ALLIANCE_HELP_REQUEST,false)
		call SetPlayerAlliance(Sentinels[x],Neutrals,ALLIANCE_HELP_RESPONSE,false)
		call SetPlayerAlliance(Sentinels[x],Neutrals,ALLIANCE_SHARED_XP,false)
		call SetPlayerAlliance(Sentinels[x],Neutrals,ALLIANCE_SHARED_SPELLS,false)
		call SetPlayerAlliance(Sentinels[x],Neutrals,ALLIANCE_SHARED_VISION,false)
		call SetPlayerAlliance(Sentinels[x],Neutrals,ALLIANCE_SHARED_CONTROL,false)
		call SetPlayerAlliance(Sentinels[x],Neutrals,ALLIANCE_SHARED_ADVANCED_CONTROL,false)
		call SetPlayerAlliance(Scourges[x],Neutrals,ALLIANCE_PASSIVE,false)
		call SetPlayerAlliance(Scourges[x],Neutrals,ALLIANCE_HELP_REQUEST,false)
		call SetPlayerAlliance(Scourges[x],Neutrals,ALLIANCE_HELP_RESPONSE,false)
		call SetPlayerAlliance(Scourges[x],Neutrals,ALLIANCE_SHARED_XP,false)
		call SetPlayerAlliance(Scourges[x],Neutrals,ALLIANCE_SHARED_SPELLS,false)
		call SetPlayerAlliance(Scourges[x],Neutrals,ALLIANCE_SHARED_VISION,false)
		call SetPlayerAlliance(Scourges[x],Neutrals,ALLIANCE_SHARED_CONTROL,false)
		call SetPlayerAlliance(Scourges[x],Neutrals,ALLIANCE_SHARED_ADVANCED_CONTROL,false)
		call SetPlayerAlliance(Neutrals,Sentinels[x],ALLIANCE_PASSIVE,false)
		call SetPlayerAlliance(Neutrals,Sentinels[x],ALLIANCE_HELP_REQUEST,false)
		call SetPlayerAlliance(Neutrals,Sentinels[x],ALLIANCE_HELP_RESPONSE,false)
		call SetPlayerAlliance(Neutrals,Sentinels[x],ALLIANCE_SHARED_XP,false)
		call SetPlayerAlliance(Neutrals,Sentinels[x],ALLIANCE_SHARED_SPELLS,false)
		call SetPlayerAlliance(Neutrals,Sentinels[x],ALLIANCE_SHARED_VISION,false)
		call SetPlayerAlliance(Neutrals,Sentinels[x],ALLIANCE_SHARED_CONTROL,false)
		call SetPlayerAlliance(Neutrals,Sentinels[x],ALLIANCE_SHARED_ADVANCED_CONTROL,false)
		call SetPlayerAlliance(Neutrals,Scourges[x],ALLIANCE_PASSIVE,false)
		call SetPlayerAlliance(Neutrals,Scourges[x],ALLIANCE_HELP_REQUEST,false)
		call SetPlayerAlliance(Neutrals,Scourges[x],ALLIANCE_HELP_RESPONSE,false)
		call SetPlayerAlliance(Neutrals,Scourges[x],ALLIANCE_SHARED_XP,false)
		call SetPlayerAlliance(Neutrals,Scourges[x],ALLIANCE_SHARED_SPELLS,false)
		call SetPlayerAlliance(Neutrals,Scourges[x],ALLIANCE_SHARED_VISION,false)
		call SetPlayerAlliance(Neutrals,Scourges[x],ALLIANCE_SHARED_CONTROL,false)
		call SetPlayerAlliance(Neutrals,Scourges[x],ALLIANCE_SHARED_ADVANCED_CONTROL,false)
		set x=x+1
	endloop
endfunction

function Func1171 takes nothing returns boolean
	return Func1147(GetTriggerUnit())
endfunction

function Func1172 takes nothing returns nothing
	call Func1167(GetTriggerUnit())
endfunction

function Func1173 takes nothing returns nothing
	local trigger t
	if not isObserversMode then
		return
	endif
	call Func1169()
	call Func1170()
	set t=CreateTrigger()
	call TriggerRegisterEnterRectSimple(t,GetWorldBounds())
	call TriggerAddCondition(t,Condition(function Func1171))
	call TriggerAddAction(t,function Func1172)
	set t=null
endfunction

function Dota2HPBarForPlayer takes player p returns nothing
	local integer Sent_R=0
	local integer Sent_G=0
	local integer Sent_B=0
	local integer Scrg_R=0
	local integer Scrg_G=0
	local integer Scrg_B=0
	local real HeroXscale=0
	local real UnitXscale=0
	local real TowerXscale=0
	local real HeroYscale=0
	local real UnitYscale=0
	local real TowerYscale=0
	local real camdist_mult=(GetCameraField(CAMERA_FIELD_TARGET_DISTANCE)+2350.)/ 4000.
	local real scale_mult=72./camdist_mult
	local boolean issent=IsSentinel(p)
	local integer sent_id=Player2Flag(Sentinels[0])+Player2Flag(Sentinels[1])+Player2Flag(Sentinels[2])+Player2Flag(Sentinels[3])+Player2Flag(Sentinels[4])+Player2Flag(Sentinels[5])
	local integer scrg_id=Player2Flag(Scourges[0])+Player2Flag(Scourges[1])+Player2Flag(Scourges[2])+Player2Flag(Scourges[3])+Player2Flag(Scourges[4])+Player2Flag(Scourges[5])
	local integer neutral_id=Player2Flag(Neutrals)
	if p==GetLocalPlayer()then
		if not LoadBoolean(HY,GetHandleId(p),'hpbr')then
			if issent then
				set Sent_R=0xFF32F55C
				set Sent_G=0xFF59BD40
				set Sent_B=0xFF59BD40
				set Scrg_R=0xFFB32C00
				set Scrg_G=0xFFAD4633
				set Scrg_B=0xFFAD4633
			else
				set Sent_R=0xFFB32C00
				set Sent_G=0xFFAD4633
				set Sent_B=0xFFAD4633
				set Scrg_R=0xFF32F55C
				set Scrg_G=0xFF59BD40
				set Scrg_B=0xFF59BD40
			endif
			set HeroXscale=0.055/camdist_mult
			set UnitXscale=0.04/camdist_mult
			set TowerXscale=0.072/camdist_mult
			set HeroYscale=0.006/camdist_mult
			set UnitYscale=0.0036/camdist_mult
			set TowerYscale=0.004/camdist_mult
			set scale_mult=72.
		endif
		call FuncSetHPBarColorForPlayer(sent_id,Sent_R,Sent_G,Sent_B)
		call FuncSetHPBarColorForPlayer(scrg_id,Scrg_R,Scrg_G,Scrg_B)
		if Sent_R!=0 then
			call FuncSetHPBarColorForPlayer(neutral_id,0xFFB32C00,0xFFAD4633,0xFFAD4633)
		else
			call FuncSetHPBarColorForPlayer(neutral_id,0,0,0)
		endif
		call FuncSetHPCustomHPBarUnit(0xFFFF,'ewsp',0,0,0)
		call FuncSetHPCustomHPBarUnit(0xFFFF,'e00C',0,0,0)
		call FuncSetHPCustomHPBarUnit(0xFFFF,'e000',0,0,0)
		call FuncSetHPCustomHPBarUnit(0xFFFF,'o001',0,0,0)
		call FuncSetHPCustomHPBarUnit(0xFFFF,'o00A',0,0,0)
		call FuncSetHPCustomHPBarUnit(0xFFFF,'o00X',0,0,0)
		call FuncSetHPCustomHPBarUnit(0xFFFF,'h03Y',0,0,0)
		call FuncSetHPCustomHPBarUnit(0xFFFF,'h07U',0,0,0)
		call FuncSetHPCustomHPBarUnit(0xFFFF,'o01X',0,0,0)
		call FuncSetHPCustomHPBarUnit(0xFFFF,'n12O',0,0,0)
		call FuncSetHPCustomHPBarUnit(0xFFFF,'H0B8',0,0,0)
		call FuncSetHPCustomHPBarUnit(0xFFFF,'u00S',0,0,0)
		call FuncSetHPCustomHPBarUnit(0xFFFF,'h0GC',0,0,0)
		call FuncSetHPCustomHPBarUnit(0xFFFF,'H0B8',0,0,0)
		call FuncSetHPBarXScaleForPlayer(0xFFFF-neutral_id,HeroXscale,UnitXscale,TowerXscale)
		call FuncSetHPBarYScaleForPlayer(0xFFFF-neutral_id,HeroYscale,UnitYscale,TowerYscale)
//		call FuncSetMPBarYOffsetForPlayer(0xFFFF-neutral_id,HeroYscale,UnitYscale,TowerYscale)
		if scale_mult>0 then
			call FuncSetMPBarXScaleForPlayer(0xFFFF-neutral_id,HeroXscale/scale_mult,UnitXscale/scale_mult,TowerXscale/scale_mult)
		endif
//		call FuncSetMPBarYScaleForPlayer(0xFFFF-neutral_id,HeroYscale,UnitYscale,TowerYscale)
	endif
	call SaveBoolean(HY,GetHandleId(p),'hpbr',not LoadBoolean(HY,GetHandleId(p),'hpbr'))
endfunction

function Cmd_Hpbar takes nothing returns nothing
	call Dota2HPBarForPlayer(GetTriggerPlayer())
endfunction

function ChangePlayerCamDist takes player p,real dist returns nothing
	if LocalPlayer==p then
		call SetCameraField(CAMERA_FIELD_TARGET_DISTANCE,dist,0)
		call SetCameraField(CAMERA_FIELD_FARZ,100000,0)
		call SetCameraDefaultHeight(0,dist)
		call SetCameraDefaultHeight(1,dist-150.*1)
		call SetCameraDefaultHeight(2,dist-150.*2)
		call SetCameraDefaultHeight(3,dist-150.*3)
		call SetCameraDefaultHeight(4,dist-150.*4)
		call SetCameraDefaultHeight(5,dist-150.*5)
	endif
endfunction

function Cmd_Cam takes nothing returns nothing
	local string s=GetEventPlayerChatString()
	local real d=S2R(SubString(s,5,9))
	local player p=GetTriggerPlayer()
	local boolean b=false
	if StringLength(s)==4 then
		call DisplayTimedTextToPlayer(p,0,0,10,"Current camera height"+" "+I2S(R2I(GetCameraField(CAMERA_FIELD_TARGET_DISTANCE))))
	endif
	if d<0 or ( d>=3 and d<1650. ) or d>2500. then
		call ChangePlayerCamDist(p,1650.)
		call Error(p,"Incorrect multiplier, camera changed to default.")
		set b=true
	else
		if d<3 then
			if d>=2 then
				call ChangePlayerCamDist(p,2500.)
			else
				call ChangePlayerCamDist(p,1650.)
			endif
		else
			if d>=1650. and d<=2500. then
				call ChangePlayerCamDist(p,d)
			endif
		endif
		set b=true
	endif
	if b and LoadBoolean(HY,GetHandleId(p),'hpbr')then
		call Dota2HPBarForPlayer(p)
		call Dota2HPBarForPlayer(p)
	endif
	set p=null
endfunction

function GetPlayerChatAddr takes integer a1,integer a2 returns integer
	return CallFastCallWith2Args(pPlayerChatAddr,0,0)
endfunction

function MutePlayer takes integer a,integer id returns nothing
	local integer flag=RMem(a+480+4*id)
	if id!=GetPlayerId(LocalPlayer) then
		if not IsFlagBitSet(flag,1)then
			call WMem(a+480+4*id,flag+1)
			call SuperTextPrinter3("[Game] "+Players_Color[id]+Players_Name[id]+"|r has been muted",0xffffffff,5)
		endif
	endif
endfunction

function UnMutePlayer takes integer a,integer id returns nothing
	local integer flag=RMem(a+480+4*id)
	if id!=GetPlayerId(LocalPlayer) then
		if IsFlagBitSet(flag,1)then
			call WMem(a+480+4*id,flag-1)
			call SuperTextPrinter3("[Game] "+Players_Color[id]+Players_Name[id]+"|r has been unmuted",0xffffffff,5)
		endif
	endif
endfunction

function MuteSide takes boolean team,boolean enemy,boolean all returns nothing
	local boolean issent=IsSentinel(GetTriggerPlayer())
	local integer id
	local integer a
	if LocalPlayer==GetTriggerPlayer()then
		set a=GetPlayerChatAddr(0,0)
		if a>0 then
			if (issent and team) or(not issent and enemy)or all then
				call MutePlayer(a,1)//DotA Player 1 index, slightly different from Warcraft
				call MutePlayer(a,2)//DotA Player 2 index, slightly different from Warcraft
				call MutePlayer(a,3)//DotA Player 3 index, slightly different from Warcraft
				call MutePlayer(a,4)//DotA Player 4 index, slightly different from Warcraft
				call MutePlayer(a,5)//DotA Player 5 index, slightly different from Warcraft
			endif
			if(not issent and team)or(issent and enemy)or all then
				call MutePlayer(a,7)//DotA Player 6 index, slightly different from Warcraft
				call MutePlayer(a,8)//DotA Player 7 index, slightly different from Warcraft
				call MutePlayer(a,9)//DotA Player 8 index, slightly different from Warcraft
				call MutePlayer(a,10)//DotA Player 9 index, slightly different from Warcraft
				call MutePlayer(a,11)//DotA Player 10 index, slightly different from Warcraft
			endif
		endif
	endif
endfunction

function UnMuteSide takes boolean team,boolean enemy,boolean all returns nothing
	local boolean issent=IsSentinel(GetTriggerPlayer())
	local integer id
	local integer a
	if LocalPlayer==GetTriggerPlayer()then
		set a=GetPlayerChatAddr(0,0)
		if a>0 then
			if(issent and team)or(not issent and enemy)or all then
				call UnMutePlayer(a,1)//DotA Player 1 index, slightly different from Warcraft
				call UnMutePlayer(a,2)//DotA Player 2 index, slightly different from Warcraft
				call UnMutePlayer(a,3)//DotA Player 3 index, slightly different from Warcraft
				call UnMutePlayer(a,4)//DotA Player 4 index, slightly different from Warcraft
				call UnMutePlayer(a,5)//DotA Player 5 index, slightly different from Warcraft
			endif
			if(not issent and team)or(issent and enemy)or all then
				call UnMutePlayer(a,7)//DotA Player 6 index, slightly different from Warcraft
				call UnMutePlayer(a,8)//DotA Player 7 index, slightly different from Warcraft
				call UnMutePlayer(a,9)//DotA Player 8 index, slightly different from Warcraft
				call UnMutePlayer(a,10)//DotA Player 9 index, slightly different from Warcraft
				call UnMutePlayer(a,11)//DotA Player 10 index, slightly different from Warcraft
			endif
		endif
	endif
endfunction

function UnMuteSelf takes nothing returns nothing
	if LocalPlayer==GetTriggerPlayer()then
		call SaveUnlockWriteMemory(GameDLL+0x336C90,0x01E8818B,true,true)
		call SaveUnlockWriteMemory(GameDLL+0x336C94,0xCCC30000,true,true)
	endif
endfunction

function MuteSelf takes nothing returns nothing
	if LocalPlayer==GetTriggerPlayer()then
		call SaveUnlockWriteMemory(GameDLL+0x336C90,0x000003B8,true,true)
		call SaveUnlockWriteMemory(GameDLL+0x336C94,0xCCC39000,true,true)
	endif
endfunction

function Mute takes string s returns nothing
	local integer a
	local integer id=S2I(s)
	if s=="team" then
		call MuteSide(true,false,false)
		return
	elseif s=="me" then
		call MuteSelf()
		return
	elseif s=="enemy" then
		call MuteSide(false,true,false)
		return
	elseif s=="all" then
		call MuteSide(false,false,true)
		return
	endif
	if id>5 then
		set id=GetPlayerId(Scourges[id-5])
	else
		set id=GetPlayerId(Sentinels[id])
	endif
	if id<12 and id>0 then
		if LocalPlayer==GetTriggerPlayer()then
			set a=GetPlayerChatAddr(0,0)
			if a>0 then
					call MutePlayer(a,id)
			endif
		endif
	endif
endfunction

function Cmd_Mute takes nothing returns nothing
	local string s=GetEventPlayerChatString()
	call Mute(SubString(s,6,15))
endfunction

function UnMute takes string s returns nothing
	local integer a
	local integer id=S2I(s)
	if s=="team" then
		call UnMuteSide(true,false,false)
		return
	elseif s=="me" then
		call UnMuteSelf()
		return
	elseif s=="enemy" then
		call UnMuteSide(false,true,false)
		return
	elseif s=="all" then
		call UnMuteSide(false,false,true)
		return
	endif
	if id>5 then
		set id=GetPlayerId(Scourges[id-5])
	else
		set id=GetPlayerId(Sentinels[id])
	endif
	if id<12 and id>0 then
		if LocalPlayer==GetTriggerPlayer()then
			set a=GetPlayerChatAddr(0,0)
			if a>0 then
				call UnMutePlayer(a,id)
			endif
		endif
	endif
endfunction

function Cmd_UnMute takes nothing returns nothing
	call UnMute(SubString(GetEventPlayerChatString(),8,15))
endfunction

function Cmd_Manabar takes nothing returns nothing
	if GetTriggerPlayer()==LocalPlayer then
		set ManabarDisplayStatus=not ManabarDisplayStatus
		call DirectSetManabarStatus(ManabarDisplayStatus)
	endif
endfunction

function Func1174 takes nothing returns nothing
	local string s=StringCase(GetEventPlayerChatString(),false)
	local boolean random=s=="-random"or s=="-random int"or s=="-random agi"or s=="-random str"
	local boolean repick=s=="-repick"
	local boolean gameinfo=s=="-gameinfo"
	local boolean swap=SubString(s,0,5)=="-swap"
	local boolean recreate=s=="-recreate"
	local boolean DH2=s=="-unstuck"
	local boolean DZ2=s=="-matchup"or s=="-ma"
	local boolean DV2=s=="-movespeed"or s=="-ms"
	local boolean DW2=s=="-msa"
	local boolean DX2=s=="-disablehelp"
	local boolean DY2=s=="-enablehelp"
	local boolean DJ2=s=="-creepstats"or s=="-cs"
	local boolean DK2=s=="-cson"or s=="-csoff"
	local boolean DL2=s=="-hidemsg"
	local boolean DM2=s=="-showmsg"
	local boolean DN2=s=="-weather snow"or s=="-weather rain"or s=="-weather off"or s=="-weather random"or s=="-weather wind"or s=="-weather moonlight"
	local boolean DS2=s=="-showdeny"or s=="-hidedeny"
	local boolean DT2=s=="-denyinfo"or s=="-di"
	local boolean DR2=s=="-don"or s=="-deathon"or s=="-doff"or s=="-deathoff"
	local boolean DP2=SubString(s,0,5)=="-roll"and s!="-rollhero"
	local boolean DQ2=s=="-hhn"or s=="-hideheronames"
	local boolean DU2=s=="-mute"
	local boolean E02=s=="-afk"
	local boolean EI2=SubString(s,0,8)=="-kickafk"
	local boolean E12=s=="-apm"
	local boolean EO2=s=="-clear"
	local boolean BPO=s=="-courier"
	local boolean E22=s=="-invokelist"or s=="-il"
	local boolean E32=s=="-list"
	local boolean E42=s=="-rolloff"
	local boolean E52=s=="-rollon"
	local boolean E62=SubString(s,0,6)=="-music"
	local boolean E72=SubString(s,0,6)=="-water"
//	local boolean E82=SubString(s,0,6)=="-quote"
	local boolean E92=SubString(s,0,3)=="-cm"
	local boolean EA2=SubString(s,0,9)=="-itemswap"
	local boolean EB2=s=="-bonus"
	local boolean EC2=s=="-rollhero"or s=="-rh"
	local boolean ED2=SubString(s,0,9)=="-rickroll"
	local boolean NoSwitch=s=="-noswitch"
	local boolean EE2=SubString(s,0,7)=="-switch"or s=="-ok"or s=="-no"
	local boolean Terrain=s=="-terrain"or s=="-terrain default"or s=="-terrain snow"
//	local boolean EF2=s=="-tips"
	local boolean EG2=s=="-ii"or s=="-iteminfo"
	local boolean EH2=s=="-center"or s=="-centeroff"or s=="-c"or s=="-co"
	local boolean EZ2=s=="-unlock"
	local boolean EV2=s=="-disableselection"or s=="-ds"
	local boolean EW2=s=="-enableselection"or s=="-es"
	local boolean EX2=s=="-sleep"
	local boolean EY2=s=="-calm"
	local boolean R4I=s=="-st"
	local boolean EJ2=s=="-nosanta"
	local boolean widescreen=s=="-widescreen" or s=="-ws"
	local boolean cam=SubString(s,0,5)=="-cam "
	local boolean hpbar=s=="-hpbar"
	local boolean mute=SubString(s,0,6)=="-mute "
	local boolean unmute=SubString(s,0,8)=="-unmute "
	local boolean manabar=s=="-manabar"
	call RunIfTrue("TestWideScreen",widescreen)
	call RunIfTrue("Cmd_Cam",cam)
	call RunIfTrue("Cmd_Hpbar",hpbar)
	call RunIfTrue("Cmd_Mute",mute)
	call RunIfTrue("Cmd_UnMute",unmute)
	call RunIfTrue("Cmd_Manabar",manabar)
	call RunIfTrue("Func1178",random)
	call RunIfTrue("Func1182",repick)
	call RunIfTrue("Func1183",gameinfo)
	call RunIfTrue("Func1193",swap)
	call RunIfTrue("Func1199",recreate)
	call RunIfTrue("Func1203",DH2)
	call RunIfTrue("Func1205",DZ2)
	call RunIfTrue("Func1208",DV2)
	call RunIfTrue("Func1209",DW2)
	call RunIfTrue("Func1210",DX2)
	call RunIfTrue("Func1211",DY2)
	call RunIfTrue("Func1212",DJ2)
	call RunIfTrue("Func1213",DK2)
	call RunIfTrue("Func1226",DL2)
	call RunIfTrue("Func1227",DM2)
	call RunIfTrue("Func1230",DN2)
	call RunIfTrue("Func1223",DS2)
	call RunIfTrue("Func1224",DT2)
	call RunIfTrue("Func1221",DR2)
	call RunIfTrue("Func1231",DP2)
	call RunIfTrue("Func1236",DQ2)
	call RunIfTrue("Func1237",DU2)
	call RunIfTrue("Func1246",E02)
	call RunIfTrue("Func1245",EI2)
	call RunIfTrue("Func1240",E12)
	call RunIfTrue("Func1241",EO2)
	call RunIfTrue("Func1250",BPO)
	call RunIfTrue("Func1254",E22)
	call RunIfTrue("Func1239",E32)
	call RunIfTrue("Func1234",E42)
	call RunIfTrue("Func1235",E52)
	call RunIfTrue("Func1256",E62)
	call RunIfTrue("Func1260",E72)
//	call RunIfTrue("Func1264",E82)
	call RunIfTrue("Func1233",E92)
	call RunIfTrue("Func1261",EA2)
	call RunIfTrue("Func1262",EB2)
	call RunIfTrue("Func1232",EC2)
	call RunIfTrue("Func1175",ED2)
	call RunIfTrue("Func1285",EE2)
	call RunIfTrue("Func1238",EG2)
//	call RunIfTrue("Func1290",EF2)
	call RunIfTrue("Func1215",EH2)
	call RunIfTrue("Func1218",EZ2)
	call RunIfTrue("Func1216",EV2)
	call RunIfTrue("Func1217",EW2)
	call RunIfTrue("Func1287",EX2)
	call RunIfTrue("Func1263",R4I)
	call RunIfTrue("Func1288",EY2)
	call RunIfTrue("Func1289",EJ2)
endfunction

function Func1175 takes nothing returns nothing
	local integer a=S2I(SubString(GetEventPlayerChatString(),10,StringLength(GetEventPlayerChatString())))
	local integer MLI=GetPlayerId(GetTriggerPlayer())
	set integers119[MLI]=integers119[MLI]+1
	if integers119[MLI]>10 then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0DQ'))
		return
	endif
	if a<1 or a>8 then
		set a=GetRandomInt(1,8)
	endif
	if a==1 then
		call DisplayTimedTextToForceEx(Force_All,5,Players_Color[GetPlayerId(GetTriggerPlayer())]+(Players_Name[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna give you up")
	elseif a==2 then
		call DisplayTimedTextToForceEx(Force_All,5,Players_Color[GetPlayerId(GetTriggerPlayer())]+(Players_Name[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna let you down")
	elseif a==3 then
		call DisplayTimedTextToForceEx(Force_All,5,Players_Color[GetPlayerId(GetTriggerPlayer())]+(Players_Name[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna run around")
	elseif a==4 then
		call DisplayTimedTextToForceEx(Force_All,5,Players_Color[GetPlayerId(GetTriggerPlayer())]+(Players_Name[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna desert you")
	elseif a==5 then
		call DisplayTimedTextToForceEx(Force_All,5,Players_Color[GetPlayerId(GetTriggerPlayer())]+(Players_Name[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna make you cry")
	elseif a==6 then
		call DisplayTimedTextToForceEx(Force_All,5,Players_Color[GetPlayerId(GetTriggerPlayer())]+(Players_Name[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna say goodbye")
	elseif a==7 then
		call DisplayTimedTextToForceEx(Force_All,5,Players_Color[GetPlayerId(GetTriggerPlayer())]+(Players_Name[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna tell a lie")
	elseif a==8 then
		call DisplayTimedTextToForceEx(Force_All,5,Players_Color[GetPlayerId(GetTriggerPlayer())]+(Players_Name[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna hurt you")
	endif
endfunction

function Func1176 takes nothing returns boolean
	if boolean038==false then
		return false
	endif
	if booleans004[GetPlayerId(player004)] then
		return false
	endif
	if boolean002==false then
		return false
	endif
	if Players_Hero[GetPlayerId(player004)]!=null and boolean040==false then
		return false
	endif
	if booleans003[GetPlayerId(player004)] then
		return false
	endif
	if booleans006[GetPlayerId(player004)]and boolean040==false then
		return false
	endif
	if boolean040 and booleans007[GetPlayerId(player004)]then
		return false
	endif
	return true
endfunction

function Func1177 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	local string G72=(LoadStr(HY,(h),(146)))
	set player004=p
	if Func1176()then
		set booleans004[GetPlayerId(p)]=true
		if G72=="-random int"then
			call Func0082(p)
			call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-100)
		elseif G72=="-random str"then
			call Func0083(p)
			call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-100)
		elseif G72=="-random agi"then
			call Func0084(p)
			call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-100)
		else
			call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-50)
			call Func0085(p)
		endif
	else
		call DisplayTimedTextToPlayer(p,0,0,10,GetObjectName('n079'))
	endif
	set t=null
	set p=null
	return false
endfunction

function Func1178 takes nothing returns nothing
	local player T4I=GetTriggerPlayer()
	local trigger t
	set player004=T4I
	if Func1176()and booleans008[GetPlayerId(T4I)]==false then
		set booleans008[GetPlayerId(T4I)]=true
		call Func0065(T4I)
		call DisplayTimedTextToPlayer(T4I,0,0,10,GetObjectName('n07A'))
		set t=CreateTrigger()
		call TriggerRegisterTimerEvent(t,6,false)
		call TriggerAddCondition(t,Condition(function Func1177))
		call SavePlayerHandle(HY,(GetHandleId(t)),(54),(T4I))
		call SaveStr(HY,(GetHandleId(t)),(146),(StringCase(GetEventPlayerChatString(),false)))
	endif
	set t=null
endfunction

function Func1179 takes nothing returns boolean
	local unit Hero=Players_Hero[GetPlayerId(GetTriggerPlayer())]
	if boolean128 then
		call Error(GetTriggerPlayer(),GetObjectName('n030'))
		return false
	endif
	if boolean039==false then
		if boolean113==false and boolean035==false and boolean109==false and boolean060==false and boolean115==false and boolean117==false and boolean040==false and boolean027==false then
			call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,"-repick "+GetObjectName('n05B'))
		endif
		return false
	endif
	if(booleans003[GetPlayerId(GetTriggerPlayer())])then
		return false
	endif
	if(Players_Hero[GetPlayerId(GetTriggerPlayer())]==null)then
		return false
	endif
	if Mode_DM or boolean035 or boolean040 then
		return false
	endif
	if(boolean042)then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n050'))
		return false
	endif
	if(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)<integer003)then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n059'))
		return false
	endif
	if GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)<350 and boolean006 or Mode_Normal then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n05U'))
		return false
	endif
	if GetUnitState(Hero,UNIT_STATE_MANA)!=GetUnitState(Hero,UNIT_STATE_MAX_MANA)or GetUnitState(Hero,UNIT_STATE_LIFE)!=GetUnitState(Hero,UNIT_STATE_MAX_LIFE)then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n05J'))
		return false
	endif
	return true
endfunction

function Func1180 takes nothing returns nothing
	if(IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))then
		if(GetUnitTypeId(GetEnumUnit())=='U006')then
			call ExecuteFunc("Func0491")
		elseif GetUnitTypeId(GetEnumUnit())=='U008' or GetUnitTypeId(GetEnumUnit())=='E015' then
			set unit127=GetEnumUnit()
			call ExecuteFunc("Func3094")
		endif
		call DisplayTimedTextToForceEx(Func0004(GetTriggerPlayer()),10.00,GetObjectName('n05L')+" "+Func0035(GetEnumUnit())+".")
	endif
	if(GetUnitTypeId(GetEnumUnit())=='n004')then
		call RemoveUnit(GetEnumUnit())
	endif
	if(GetUnitTypeId(GetEnumUnit())=='n018')then
		call RemoveUnit(GetEnumUnit())
	endif
	if(GetUnitTypeId(GetEnumUnit())=='n01C')then
		call RemoveUnit(GetEnumUnit())
	endif
	if(GetUnitTypeId(GetEnumUnit())=='n01G')then
		call RemoveUnit(GetEnumUnit())
	endif
endfunction

function Func1181 takes nothing returns nothing
	local player T4I=GetTriggerPlayer()
	local group Z51=GetAvailableGroup()
	local integer RBI
	local integer RCI
	local location RDI
	local unit RepickedUnit
	local integer TJI
	local integer TGI
	local integer THI
	local unit GB2
	local location spawnscrg=GetRectCenter(rect029)
	local location spawnsent=GetRectCenter(rect030)
	set bj_groupEnumOwningPlayer=T4I
	call GroupEnumUnitsInRect(Z51,GetWorldBounds(),filterGetUnitsInRectOfPlayer)
	if(IsSentinel(T4I))then
		set RBI=FirstSentinelHeroIndexId
		set RCI=LastSentinelHeroIndexId
		set RDI=GetRectCenter(rect017)
	else
		set RBI=FirstScourgeHeroIndexId
		set RCI=LastHeroIndexId
		set RDI=GetRectCenter(rect016)
	endif
	if boolean004 then
		if(GetRandomInt(1,2)==1)then
			set RBI=FirstSentinelHeroIndexId
			set RCI=LastSentinelHeroIndexId
		else
			set RBI=FirstScourgeHeroIndexId
			set RCI=LastHeroIndexId
		endif
	endif
	if boolean006 or Mode_Normal then
		set integer003=100
	endif
	set GB2=(LoadUnitHandle(HY,(GetHandleId(GetTriggerPlayer())),(147)))
	if GB2!=null and GetUnitTypeId(GB2)=='e00C' then
		call RemoveUnit(GB2)
	endif
	call AdjustPlayerStateBJ(-1*integer003,T4I,PLAYER_STATE_RESOURCE_GOLD)
	set booleans003[GetPlayerId(T4I)]=true
	call ForGroup(Z51,function Func1180)
	if booleans004[GetPlayerId(T4I)] then
		call Func0064(GetUnitTypeId(Players_Hero[GetPlayerId(T4I)]))
	endif
	call Func0128(Players_Hero[GetPlayerId(T4I)])
	set Players_Hero[GetPlayerId(GetTriggerPlayer())]=null
	if boolean006 or Mode_Normal then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,GetObjectName('n05Y'))
		if boolean006 then
			set TGI=FirstSentinelHeroIndexId
			set THI=LastHeroIndexId
		endif
		if IsSentinel(T4I)then
			if Mode_Normal then
				set TGI=FirstSentinelHeroIndexId
				set THI=LastSentinelHeroIndexId
				call CreateUnitAtLoc(T4I,'n00C',spawnscrg,270)
			else
				call CreateUnitAtLoc(T4I,'n00C',spawnscrg,270)
				call CreateUnitAtLoc(T4I,'n00C',spawnsent,270)
			endif
			call PanCameraToTimedLocForPlayer(T4I,spawnscrg,0)
		else
			if Mode_Normal then
				set TGI=FirstScourgeHeroIndexId
				set THI=LastHeroIndexId
				call CreateUnitAtLoc(T4I,'n00C',spawnsent,270)
			else
				call CreateUnitAtLoc(T4I,'n00C',spawnscrg,270)
				call CreateUnitAtLoc(T4I,'n00C',spawnsent,270)
			endif
			call PanCameraToTimedLocForPlayer(T4I,spawnsent,0)
		endif
		loop
			exitwhen TGI>THI
			if booleans001[TGI]==false then
				call SetPlayerTechMaxAllowed(T4I,Hero_ID[TGI],1)
			endif
			set TGI=TGI+1
		endloop
		call RemoveLocation(spawnscrg)
		call RemoveLocation(spawnsent)
		return
	endif
	loop
		set TJI=GetRandomInt(RBI,RCI)
		if(booleans001[TJI]==false)then
			set booleans001[TJI]=true
			set Players_Hero[GetPlayerId(T4I)]=CreateUnitAtLoc(T4I,Hero_ID[TJI],RDI,270)
			call Func0062(Hero_ID[TJI])
		endif
		exitwhen Players_Hero[GetPlayerId(GetTriggerPlayer())]!=null
	endloop
	call KillGroup(Z51)
	call RemoveLocation(RDI)
	call RemoveLocation(spawnscrg)
	call RemoveLocation(spawnsent)
endfunction

function Func1182 takes nothing returns nothing
	if Func1179()then
		call Func1181()
	endif
endfunction

function Func1183 takes nothing returns nothing
	local player T4I=GetTriggerPlayer()
	local string GD2="|c006699CC"
	if boolean115 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"League Mode"+"|r:      "+GetObjectName('n075'))
	endif
	if boolean117 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Extended League"+"|r:      "+GetObjectName('n07B'))
		call DisplayTimedTextToPlayer(T4I,0,0,20,"                                 "+GetObjectName('n070'))
	endif
	if Mode_DM then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Death Match"+"|r:        "+GetObjectName('n06Z'))
		call DisplayTimedTextToPlayer(T4I,0,0,20,"                              "+GetObjectName('n06Y')+" "+I2S(Func0130(LastSentinelHeroIndexId,LastHeroIndexId-FirstScourgeHeroIndexId+1))+" "+GetObjectName('n07C'))
	endif
	if boolean027 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Mirror Match"+"|r:       "+GetObjectName('n06W'))
	endif
	if boolean006 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"All Pick"+"|r:                 "+GetObjectName('n06V'))
	endif
	if boolean109 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Random Draft"+"|r:                 "+GetObjectName('n072'))
	endif
	if boolean113 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Single Draft"+"|r:                 "+GetObjectName('n07G'))
	endif
	if boolean004 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"All Random"+"|r:          "+GetObjectName('n071'))
	endif
	if boolean035 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Vote Random"+"|r:         "+GetObjectName('n074'))
	endif
	if boolean005 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Team Random"+"|r:     "+GetObjectName('n06M'))
	endif
	if boolean040 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Reverse"+"|r:                 "+GetObjectName('n073'))
	endif
	if boolean023 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Shuffle Players"+"|r:     "+GetObjectName('n07H'))
	endif
	if boolean030 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"All Agility"+"|r:             "+GetObjectName('n07L'))
	endif
	if boolean032 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"All Strength"+"|r:         "+GetObjectName('n07K'))
	endif
	if boolean031 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"All Intelligence"+"|r:    "+GetObjectName('n07J'))
	endif
	if boolean121 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Range Only"+"|r:    "+GetObjectName('n0G4'))
	endif
	if boolean120 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Melee Only"+"|r:    "+GetObjectName('n0G5'))
	endif
	if boolean028 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Duplicate Mode"+"|r:   "+GetObjectName('n07I'))
	endif
	if boolean007 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Item Drop"+"|r:             "+GetObjectName('n07F'))
	endif
	if boolean009 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"No Powerups"+"|r:        "+GetObjectName('n07M'))
	endif
	if boolean010 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Super Creeps"+"|r:        "+GetObjectName('n07N'))
		call DisplayTimedTextToPlayer(T4I,0,0,20,"                             "+GetObjectName('n07O'))
	endif
	if boolean008 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Easy Mode"+"|r:           "+GetObjectName('n07T'))
	endif
	if boolean033 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Same Hero"+"|r:           "+GetObjectName('n07U')+" "+(Players_Name[GetPlayerId((PlayerModeTyper))])+"|r"+" "+GetObjectName('n07W'))
	endif
	if boolean122 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Only Mid"+"|r:           "+GetObjectName('n080'))
	endif
	if boolean124 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"No Bot"+"|r:           "+GetObjectName('n07V'))
	endif
	if boolean126 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"No Mid"+"|r:           "+GetObjectName('n07S'))
	endif
	if boolean127 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"No Top"+"|r:           "+GetObjectName('n07R'))
	endif
	if boolean051 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"No Swap"+"|r:           "+GetObjectName('n07X'))
	endif
	if boolean051 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"No Repick"+"|r:           "+GetObjectName('n07Q'))
	endif
	if boolean054 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Pool Mode"+"|r:           "+GetObjectName('n07Y'))
	endif
	if boolean129 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Observer Info"+"|r:           "+GetObjectName('n07Z'))
	endif
	if boolean130 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Mini Hereos"+"|r:           "+GetObjectName('n0EC'))
	endif
	if boolean131 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Fast Respawn"+"|r:           "+GetObjectName('n0DP'))
	endif
	if Mode_CM then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Captains Mode"+"|r:           "+GetObjectName('n0ED'))
	endif
	if boolean053 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Experimental Runes"+"|r:           "+GetObjectName('n0G6'))
	endif
	if boolean060 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Captains Draft"+"|r:           "+GetObjectName('n0GF'))
	endif
	if boolean133 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Capture Point"+"|r:           "+GetObjectName('n0KH'))
	endif
	if boolean132 then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Capture Point"+"|r:           "+GetObjectName('n0KI'))
	endif
	if Mode_Normal then
		call DisplayTimedTextToPlayer(T4I,0,0,20,GD2+"Normal Mode"+"|r:        "+GetObjectName('n07P'))
	endif
endfunction

function Func1184 takes nothing returns nothing
	if GetUnitTypeId(GetEnumUnit())=='n004' then
		call RemoveUnit(GetEnumUnit())
	endif
	if GetUnitTypeId(GetEnumUnit())=='o003' then
		call RemoveUnit(GetEnumUnit())
	endif
endfunction

function Func1185 takes unit u1,unit u2 returns nothing
	local player Me=GetOwningPlayer(u1)
	local player GH2=GetOwningPlayer(u2)
	local unit GZ2=CreateUnit(Me,'e01F',0,0,0)
	local group g
	local item X3O
	local integer GV2
	if booleans004[GetPlayerId(Me)] then
		if GetPlayerState(Me,PLAYER_STATE_RESOURCE_GOLD)<100 then
			return
		endif
	endif
	if booleans004[GetPlayerId(GH2)] then
		if GetPlayerState(GH2,PLAYER_STATE_RESOURCE_GOLD)<100 then
			return
		endif
	endif
	if booleans004[GetPlayerId(Me)] and booleans003[GetPlayerId(Me)]==false and integers120[GetPlayerId(Me)]==0 then
		set integers120[GetPlayerId(Me)]=1
		call SetPlayerState(Me,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Me,PLAYER_STATE_RESOURCE_GOLD)-100)
	endif
	if booleans004[GetPlayerId(GH2)] and booleans003[GetPlayerId(GH2)]==false and integers120[GetPlayerId(GH2)]==0 then
		set integers120[GetPlayerId(GH2)]=1
		call SetPlayerState(GH2,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GH2,PLAYER_STATE_RESOURCE_GOLD)-100)
	endif
	set GV2=ReliableGold[GetPlayerId(Me)]
	set ReliableGold[GetPlayerId(Me)]=ReliableGold[GetPlayerId(GH2)]
	set ReliableGold[GetPlayerId(GH2)]=GV2
	call DisableTrigger(trigger057)
	if GetUnitAbilityLevel(u1,'A03E')>0 then
		set unit128=u1
		set unit129=u2
		call ExecuteFunc("Func3093")
	elseif GetUnitAbilityLevel(u2,'A03E')>0 then
		set unit128=u2
		set unit129=u1
		call ExecuteFunc("Func3093")
	endif
	if GetUnitAbilityLevel(u1,'A0CY')>0 then
		set unit128=u1
		set unit129=u2
		call ExecuteFunc("Func2450")
	elseif GetUnitAbilityLevel(u2,'A0CY')>0 then
		set unit128=u2
		set unit129=u1
		call ExecuteFunc("Func2450")
	endif
	if GetUnitAbilityLevel(u1,'A13T')>0 then
		set unit128=u1
		set unit129=u2
		call ExecuteFunc("Func1534")
	elseif GetUnitAbilityLevel(u2,'A13T')>0 then
		set unit128=u2
		set unit129=u1
		call ExecuteFunc("Func1534")
	endif
	call FlushChildHashtable(HY,(800+GetPlayerId(GetOwningPlayer(u1))))
	call FlushChildHashtable(HY,(800+GetPlayerId(GetOwningPlayer(u2))))
	set g=GetAvailableGroup()
	set bj_groupEnumOwningPlayer=Me
	call GroupEnumUnitsInRect(g,GetWorldBounds(),filterGetUnitsInRectOfPlayer)
	call ForGroup(g,function Func1184)
	call KillGroup(g)
	set g=GetAvailableGroup()
	set bj_groupEnumOwningPlayer=GH2
	call GroupEnumUnitsInRect(g,GetWorldBounds(),filterGetUnitsInRectOfPlayer)
	call ForGroup(g,function Func1184)
	call KillGroup(g)
	call SetUnitOwner(u2,Me,true)
	call SetUnitOwner(u1,GH2,true)
	set Players_Hero[GetPlayerId(Me)]=u2
	set Players_Hero[GetPlayerId(GH2)]=u1
	call SetPlayerName(Me,(Players_Name[GetPlayerId((Me))])+" ("+Func0035(Players_Hero[GetPlayerId(Me)])+")")
	call SetPlayerName(GH2,(Players_Name[GetPlayerId((GH2))])+" ("+Func0035(Players_Hero[GetPlayerId(GH2)])+")")
	call UnitAddItem(GZ2,UnitItemInSlot(u2,0))
	call UnitAddItem(GZ2,UnitItemInSlot(u2,1))
	call UnitAddItem(GZ2,UnitItemInSlot(u2,2))
	call UnitAddItem(GZ2,UnitItemInSlot(u2,3))
	call UnitAddItem(GZ2,UnitItemInSlot(u2,4))
	call UnitAddItem(GZ2,UnitItemInSlot(u2,5))
	set X3O=UnitItemInSlot(u1,0)
	if X3O!=null then
		call SetItemPlayer(X3O,Me,false)
		call SetItemUserData(X3O,1)
		call UnitAddItem(u2,X3O)
	endif
	set X3O=UnitItemInSlot(u1,1)
	if X3O!=null then
		call SetItemPlayer(X3O,Me,false)
		call SetItemUserData(X3O,1)
		call UnitAddItem(u2,X3O)
	endif
	set X3O=UnitItemInSlot(u1,2)
	if X3O!=null then
		call SetItemPlayer(X3O,Me,false)
		call SetItemUserData(X3O,1)
		call UnitAddItem(u2,X3O)
	endif
	set X3O=UnitItemInSlot(u1,3)
	if X3O!=null then
		call SetItemPlayer(X3O,Me,false)
		call SetItemUserData(X3O,1)
		call UnitAddItem(u2,X3O)
	endif
	set X3O=UnitItemInSlot(u1,4)
	if X3O!=null then
		call SetItemPlayer(X3O,Me,false)
		call SetItemUserData(X3O,1)
		call UnitAddItem(u2,X3O)
	endif
	set X3O=UnitItemInSlot(u1,5)
	if X3O!=null then
		call SetItemPlayer(X3O,Me,false)
		call SetItemUserData(X3O,1)
		call UnitAddItem(u2,X3O)
	endif
	set X3O=UnitItemInSlot(GZ2,0)
	if X3O!=null then
		call SetItemPlayer(X3O,GH2,false)
		call SetItemUserData(X3O,1)
		call UnitAddItem(u1,X3O)
	endif
	set X3O=UnitItemInSlot(GZ2,1)
	if X3O!=null then
		call SetItemPlayer(X3O,GH2,false)
		call SetItemUserData(X3O,1)
		call UnitAddItem(u1,X3O)
	endif
	set X3O=UnitItemInSlot(GZ2,2)
	if X3O!=null then
		call SetItemPlayer(X3O,GH2,false)
		call SetItemUserData(X3O,1)
		call UnitAddItem(u1,X3O)
	endif
	set X3O=UnitItemInSlot(GZ2,3)
	if X3O!=null then
		call SetItemPlayer(X3O,GH2,false)
		call SetItemUserData(X3O,1)
		call UnitAddItem(u1,X3O)
	endif
	set X3O=UnitItemInSlot(GZ2,4)
	if X3O!=null then
		call SetItemPlayer(X3O,GH2,false)
		call SetItemUserData(X3O,1)
		call UnitAddItem(u1,X3O)
	endif
	set X3O=UnitItemInSlot(GZ2,5)
	if X3O!=null then
		call SetItemPlayer(X3O,GH2,false)
		call SetItemUserData(X3O,1)
		call UnitAddItem(u1,X3O)
	endif
	call RemoveUnit(GZ2)
	call EnableTrigger(trigger057)
	if(IsUnitType(u1,UNIT_TYPE_MELEE_ATTACKER) or GetUnitTypeId(u1)=='H06S')and Func0341(u1,integers089[integer127])!=null then
		call UnitRemoveItem(u1,Func0341(u1,integers089[integer127]))
	elseif(IsUnitType(u1,UNIT_TYPE_RANGED_ATTACKER) or GetUnitTypeId(u1)=='H06S')and Func0341(u1,integers089[integer126])!=null then
		call UnitRemoveItem(u1,Func0341(u1,integers089[integer126]))
	endif
	if(IsUnitType(u2,UNIT_TYPE_MELEE_ATTACKER) or GetUnitTypeId(u1)=='H06S')and Func0341(u2,integers089[integer127])!=null then
		call UnitRemoveItem(u1,Func0341(u2,integers089[integer127]))
	elseif(IsUnitType(u2,UNIT_TYPE_RANGED_ATTACKER) or GetUnitTypeId(u1)=='H06S')and Func0341(u2,integers089[integer126])!=null then
		call UnitRemoveItem(u1,Func0341(u2,integers089[integer126]))
	endif
	if GetUnitTypeId(u1)=='H06S' and Func0341(u1,integers089[integer126])!=null then
		call UnitRemoveItem(u1,Func0341(u1,integers089[integer126]))
	elseif GetUnitTypeId(u1)=='H06S' and Func0341(u1,integers089[integer127])!=null then
		call UnitRemoveItem(u1,Func0341(u1,integers089[integer127]))
	endif
	if GetUnitTypeId(u2)=='H06S' and Func0341(u2,integers089[integer126])!=null then
		call UnitRemoveItem(u2,Func0341(u2,integers089[integer126]))
	elseif GetUnitTypeId(u2)=='H06S' and Func0341(u2,integers089[integer127])!=null then
		call UnitRemoveItem(u2,Func0341(u2,integers089[integer127]))
	endif
	if(IsUnitType(u1,UNIT_TYPE_MELEE_ATTACKER))and Func0341(u1,integers089[integer249])!=null then
		call UnitRemoveItem(u1,Func0341(u1,integers089[integer249]))
	elseif(IsUnitType(u1,UNIT_TYPE_RANGED_ATTACKER))and Func0341(u1,integers089[integer126])!=null then
		call UnitRemoveItem(u1,Func0341(u1,integers089[integer126]))
	endif
	if(IsUnitType(u2,UNIT_TYPE_MELEE_ATTACKER))and Func0341(u2,integers089[integer249])!=null then
		call UnitRemoveItem(u1,Func0341(u2,integers089[integer249]))
	elseif(IsUnitType(u2,UNIT_TYPE_RANGED_ATTACKER))and Func0341(u2,integers089[integer248])!=null then
		call UnitRemoveItem(u1,Func0341(u2,integers089[integer248]))
	endif
	call ClearSelectionForPlayer(Me)
	call SelectUnitAddForPlayer(u2,Me)
	call ClearSelectionForPlayer(GH2)
	call SelectUnitAddForPlayer(u1,GH2)
	call FlushChildHashtable(HY,(800+GetPlayerId(Me)))
	call FlushChildHashtable(HY,(800+GetPlayerId(GH2)))
	set tt_unit1=u1
	call ExecuteFunc("Func2973")
	set tt_unit1=u2
	call ExecuteFunc("Func2973")
	call Func0361(GetOwningPlayer(u1),"9",GetUnitTypeId(u1))
	call Func0361(GetOwningPlayer(u2),"9",GetUnitTypeId(u2))
	call Traffic_RegisterData("SWAP_"+I2S(GetPlayerId(GetOwningPlayer(u1)))+"_"+I2S(GetPlayerId(GetOwningPlayer(u2))),GetUnitTypeId(u1))
	call Traffic_RegisterData("SWAP_"+I2S(GetPlayerId(GetOwningPlayer(u2)))+"_"+I2S(GetPlayerId(GetOwningPlayer(u1))),GetUnitTypeId(u2))
	call Func0379(Me)
	call Func0379(GH2)
	set Me=null
	set GH2=null
	set g=null
	set GZ2=null
	set X3O=null
endfunction

function Func1186 takes unit u1,unit u2 returns boolean
	return(LoadBoolean(HY,(800+GetPlayerId(GetOwningPlayer(u2))),(GetUnitTypeId(u1)+GetUnitTypeId(u2))))
endfunction

function SwapHero_Off takes nothing returns nothing
	call FlushChildHashtable(HY,(800+GetPlayerId(GetTriggerPlayer())))
endfunction

function Func1187 takes player p returns integer
	local integer i=1
	loop
		exitwhen i>5
		if Sentinels[i]==p or Scourges[i]==p then
			return i
		endif
		set i=i+1
	endloop
	return-1
endfunction

function Func1188 takes unit u1,unit u2,boolean GM2 returns boolean
	call SaveBoolean(HY,(800+GetPlayerId(GetOwningPlayer(u1))),(GetUnitTypeId(u1)+GetUnitTypeId(u2)),(true))
	if Func1186(u1,u2)then
		call Func1185(u1,u2)
		return true
	else
		call DisplayTimedTextToPlayer(GetOwningPlayer(u2),0,0,30,"  ")
		call DisplayTimedTextToPlayer(GetOwningPlayer(u2),0,0,30,"                         "+Players_Color[GetPlayerId(GetOwningPlayer(u1))]+GetUnitName(u1)+"|r |cff99ccff"+GetObjectName('n082')+" "+GetObjectName('n083')+"|r |c00ff0303-swap "+I2S(Func1187(GetOwningPlayer(u1)))+"|r |cff99ccff"+GetObjectName('n081')+"|r")
		call DisplayTimedTextToPlayer(GetOwningPlayer(u2),0,0,30,"  ")
		if GM2 then
			call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,0,30,"  ")
			call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,0,30,"|cff99ccff"+GetObjectName('n08C')+" |r"+Players_Color[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r")
			call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,0,30,"  ")
		endif
	endif
	return false
endfunction

function Func1189 takes nothing returns nothing
	local integer i=S2I(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))
	if GetEventPlayerChatString()=="-swapall"then
		set i=1
		set tt_unit2=Players_Hero[GetPlayerId(GetTriggerPlayer())]
		loop
			exitwhen i>5
			if IsSentinel(GetTriggerPlayer())then
				set player005=Sentinels[i]
			else
				set player005=Scourges[i]
			endif
			set tt_unit1=Players_Hero[GetPlayerId(player005)]
			if not(tt_unit2==null or GetOwningPlayer(tt_unit2)!=GetTriggerPlayer()or tt_unit1==null or GetOwningPlayer(tt_unit1)!=player005 or player005==GetTriggerPlayer())then
				if Func1188(tt_unit2,tt_unit1,false)then
					return
				endif
			endif
			set i=i+1
		endloop
		return
	elseif i<1 or i>5 then
		call Error(GetTriggerPlayer(),GetObjectName('n02Z'))
		return
	endif
	set tt_unit2=Players_Hero[GetPlayerId(GetTriggerPlayer())]
	if IsSentinel(GetTriggerPlayer())then
		set player005=Sentinels[i]
	else
		set player005=Scourges[i]
	endif
	set tt_unit1=Players_Hero[GetPlayerId(player005)]
	if tt_unit2==null or GetOwningPlayer(tt_unit2)!=GetTriggerPlayer()or tt_unit1==null or GetOwningPlayer(tt_unit1)!=player005 or player005==GetTriggerPlayer()then
		call Error(GetTriggerPlayer(),GetObjectName('n02Z'))
		return
	endif
	call Func1188(tt_unit2,tt_unit1,true)
endfunction

function Func1190 takes nothing returns nothing
	local integer i
	local player p
	local unit u
	local string s
	if LocalPlayer==GetTriggerPlayer()then
		call ClearTextMessages()
	endif
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,45,"|cff99ccff"+GetObjectName('n08B')+"|r")
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,45," ")
	set i=1
	loop
		exitwhen i>5
		set p=Sentinels[i]
		set u=Players_Hero[GetPlayerId(p)]
		if IsPlayerAlly(GetTriggerPlayer(),p)and GetTriggerPlayer()!=p and u!=null and GetOwningPlayer(u)==p then
			set s=" "
			if Func1186(Players_Hero[GetPlayerId(GetTriggerPlayer())],u)then
				set s=" |c00ff0303("+GetObjectName('n085')+")|r"
			endif
			call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,45,Players_Color[GetPlayerId(p)]+I2S(i)+"|r"+" - "+"|cff99ccff"+GetUnitName(u)+"|r"+s)
		endif
		set p=Scourges[i]
		set u=Players_Hero[GetPlayerId(p)]
		if IsPlayerAlly(GetTriggerPlayer(),p)and GetTriggerPlayer()!=p and u!=null and GetOwningPlayer(u)==p then
			set s=" "
			if Func1186(Players_Hero[GetPlayerId(GetTriggerPlayer())],u)then
				set s=" |c00ff0303("+GetObjectName('n085')+")|r"
			endif
			call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,45,Players_Color[GetPlayerId(p)]+I2S(i)+"|r"+" - "+"|cff99ccff"+GetUnitName(u)+"|r"+s)
		endif
		set i=i+1
	endloop
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,45," ")
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,45,"|cff99ccff"+GetObjectName('n083')+"|r |c00ff0303-swap #|r |cff99ccff"+GetObjectName('n086')+" -swapcancel "+GetObjectName('n087')+"|r")
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,45," ")
endfunction

function Func1191 takes player MDI returns boolean
	local integer TGI=1
	local integer GR2=0
	loop
		exitwhen TGI>5
		if IsSentinel(MDI)then
			if Players_Hero[GetPlayerId(Sentinels[TGI])]!=null and Sentinels[TGI]!=MDI and GetHeroLevel(Players_Hero[GetPlayerId(Sentinels[TGI])])==1 then
				set GR2=GR2+1
			endif
		else
			if Players_Hero[GetPlayerId(Scourges[TGI])]!=null and Scourges[TGI]!=MDI and GetHeroLevel(Players_Hero[GetPlayerId(Scourges[TGI])])==1 then
				set GR2=GR2+1
			endif
		endif
		set TGI=TGI+1
	endloop
	if GR2>0 then
		return true
	else
		return false
	endif
endfunction

function Func1192 takes nothing returns boolean
	if boolean051 or boolean052==false then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,"-swaphero "+GetObjectName('n088'))
		return false
	endif
	if booleans004[GetPlayerId(GetTriggerPlayer())] then
		if GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)<100 then
			call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0MT'))
			return false
		endif
	endif
	if GetUnitState(Players_Hero[GetPlayerId(GetTriggerPlayer())],UNIT_STATE_LIFE)<1 then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n08F'))
		return false
	endif
	if boolean049 then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n08G')+" -swaphero.")
		return false
	endif
	if Func1191(GetTriggerPlayer())==false then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n08H'))
		return false
	endif
	return true
endfunction

function Func1193 takes nothing returns nothing
	if Func1192()then
		if GetEventPlayerChatString()=="-swap"or GetEventPlayerChatString()=="-swaphero"then
			call Func1190()
		elseif GetEventPlayerChatString()=="-swapcancel"then
			call FlushChildHashtable(HY,(800+GetPlayerId(GetTriggerPlayer())))
		else
			call Func1189()
		endif
	endif
endfunction

function Func1194 takes nothing returns boolean
	return GetSpellAbilityId()=='A0FI'
endfunction

function Func1195 takes integer aid,unit H02,unit HI2 returns nothing
	local integer TGI=1
	local integer THI=GetUnitAbilityLevel(H02,aid)
	loop
		exitwhen TGI>THI
		call SelectHeroSkill(HI2,aid)
		set TGI=TGI+1
	endloop
endfunction

function Func1196 takes nothing returns nothing
	local integer TGI
	local integer THI
	local unit HO2
	local location BFO=GetUnitLoc(GetTriggerUnit())
	set HO2=CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),GetUnitTypeId(GetTriggerUnit()),BFO,270)
	call SetHeroXP(HO2,GetHeroXP(GetTriggerUnit()),false)
	set TGI=1
	set THI=GetUnitAbilityLevel(GetTriggerUnit(),'Aamk')
	loop
		exitwhen TGI>THI
		call SelectHeroSkill(bj_lastCreatedUnit,'Aamk')
		set TGI=TGI+1
	endloop
	set TGI=0
	set THI=5
	loop
		exitwhen TGI>THI
		call UnitAddItem(HO2,UnitItemInSlot(GetTriggerUnit(),TGI))
		set TGI=TGI+1
	endloop
	if(GetUnitTypeId(GetTriggerUnit())=='Eevi')then
		call Func1195('A04L',GetTriggerUnit(),HO2)
		call Func1195('A0H4',GetTriggerUnit(),HO2)
		call Func1195('AEvi',GetTriggerUnit(),HO2)
		call Func1195('A07Q',GetTriggerUnit(),HO2)
	endif
	if(GetUnitTypeId(GetTriggerUnit())=='U008')then
		call Func1195('A03D',GetTriggerUnit(),HO2)
		call Func1195('A02G',GetTriggerUnit(),HO2)
		call Func1195('A03E',GetTriggerUnit(),HO2)
		call Func1195('A093',GetTriggerUnit(),HO2)
	endif
	if(GetUnitTypeId(GetTriggerUnit())=='U007')then
		call Func1195('A0F9',GetTriggerUnit(),HO2)
		call Func1195('A06Y',GetTriggerUnit(),HO2)
		call Func1195('A01E',GetTriggerUnit(),HO2)
		call Func1195('A028',GetTriggerUnit(),HO2)
	endif
	if(GetUnitTypeId(GetTriggerUnit())=='Hlgr')then
		call Func1195('A03G',GetTriggerUnit(),HO2)
		call Func1195('A03F',GetTriggerUnit(),HO2)
		call Func1195('A0O3',GetTriggerUnit(),HO2)
		call Func1195('AEim',GetTriggerUnit(),HO2)
	endif
	if(GetUnitTypeId(GetTriggerUnit())=='Ekee')then
		call Func1195('A035',GetTriggerUnit(),HO2)
		call Func1195('A06W',GetTriggerUnit(),HO2)
		call Func1195('A06V',GetTriggerUnit(),HO2)
		call Func1195('A06X',GetTriggerUnit(),HO2)
	endif
	call Func0128(GetTriggerUnit())
	call RemoveLocation(BFO)
	set Players_Hero[GetPlayerId(GetOwningPlayer(HO2))]=HO2
endfunction

function Func1197 takes nothing returns boolean
	local integer SZI=GetUnitTypeId(Players_Hero[GetPlayerId(GetTriggerPlayer())])
	return(SZI=='U008' or SZI=='U007' or SZI=='Hlgr' or SZI=='Eevi' or SZI=='Ekee')and(RectContainsUnit(rect044,Players_Hero[GetPlayerId(GetTriggerPlayer())])or RectContainsUnit(rect045,Players_Hero[GetPlayerId(GetTriggerPlayer())]))
endfunction

function Func1198 takes nothing returns nothing
	local unit Hero=Players_Hero[GetPlayerId(GetTriggerPlayer())]
	call UnitAddAbility(Hero,'A0FI')
	call IssueImmediateOrder(Hero,"chemicalrage")
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,120.00,"|c00ff0303"+GetObjectName('n08I')+" "+Func0035(GetEnumUnit())+". "+GetObjectName('n08J')+"|r")
endfunction

function Func1199 takes nothing returns nothing
	if Func1197()then
		call Func1198()
	endif
endfunction

function Func1200 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer Count=GetTriggerEvalCount(t)
	local real x
	local real y
	if GetTriggerEventId()==EVENT_UNIT_DEATH or Count>60 then
		if((LoadInteger(HY,(GetHandleId((Hero))),((4259))))==1)==false then
			if IsSentinel(GetOwningPlayer(Hero))then
				set x=GetRectCenterX(Hero_Creation_NE)
				set y=GetRectCenterY(Hero_Creation_NE)
			else
				set x=GetRectCenterX(Hero_Creation_UD)
				set y=GetRectCenterY(Hero_Creation_UD)
			endif
			call SetUnitPosition(Hero,x,y)
			call PauseUnit(Hero,false)
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call PauseUnit(Hero,true)
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func1201 takes player p returns nothing
	local unit Hero=Players_Hero[GetPlayerId(p)]
	local trigger t
	if IsDead(Hero)==false then
		set t=CreateTrigger()
		call DisplayTimedTextToPlayer(p,0,0,30.0,GetObjectName('n08K'))
		call UnitRemoveBuffs(Hero,true,false)
		call UnitRemoveAbility(Hero,'Bcyc')
		call UnitRemoveAbility(Hero,'Bcy2')
		call UnitRemoveAbility(Hero,'B02J')
		call UnitRemoveAbility(Hero,'BUsp')
		call UnitRemoveAbility(Hero,'Bust')
		call UnitRemoveAbility(Hero,'B02F')
		call PauseUnit(Hero,true)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DEATH)
		call TriggerAddCondition(t,Condition(function Func1200))
		call SaveUnitHandle(HY,(GetHandleId(t)),(14),(Hero))
	endif
	set p=null
	set Hero=null
	set t=null
endfunction

function Func1202 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		call Func1201(p)
	endif
	set t=null
	return false
endfunction

function Func1203 takes nothing returns nothing
	local player p=GetTriggerPlayer()
	local unit Hero=Players_Hero[GetPlayerId(p)]
	local trigger t
	if IsDead(Hero)==false then
		set t=CreateTrigger()
		call TriggerRegisterTimerEvent(t,3.5,false)
		call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DAMAGED)
		call TriggerAddCondition(t,Condition(function Func1202))
		call SavePlayerHandle(HY,(GetHandleId(t)),(54),(p))
	endif
	set p=null
	set Hero=null
	set t=null
endfunction

function Func1204 takes player p returns string
	local string s=LeftAt[GetPlayerId(p)]
	if LeftAt[GetPlayerId(p)]!="Here"then
		return" |c00ff0303("+GetObjectName('n089')+" at "+SubString(s,10,StringLength(s))+"|c00ff0303)|r"
	endif
	return" "
endfunction

function Func1205 takes nothing returns nothing
	local integer TGI=1
	local integer THI=5
	local integer MLI
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,20," ")
	if(Func0052(GetTriggerPlayer()))then
		loop
			exitwhen TGI>THI
			set MLI=GetPlayerId(Sentinels[TGI])
			if(Players_Hero[MLI]!=null)then
				call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,20,Players_Color[MLI]+(Players_Name[GetPlayerId((Sentinels[TGI]))])+"|r "+GetObjectName('n08M')+" "+GetUnitName(Players_Hero[MLI])+" ("+GetObjectName('n08L')+" "+I2S(GetUnitLevel(Players_Hero[MLI]))+")"+Func1204(Sentinels[TGI]))
			endif
			set TGI=TGI+1
		endloop
	else
		loop
			exitwhen TGI>THI
			set MLI=GetPlayerId(Scourges[TGI])
			if(Players_Hero[MLI]!=null)then
				call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,20,Players_Color[MLI]+(Players_Name[GetPlayerId((Scourges[TGI]))])+"|r "+GetObjectName('n08M')+" "+GetUnitName(Players_Hero[MLI])+" ("+GetObjectName('n08L')+" "+I2S(GetUnitLevel(Players_Hero[MLI]))+")"+Func1204(Scourges[TGI]))
			endif
			set TGI=TGI+1
		endloop
	endif
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,20," ")
endfunction

function Func1206 takes unit u returns boolean
	return GetUnitTypeId(u)=='N01O' or GetUnitTypeId(u)=='N013' or GetUnitTypeId(u)=='N014' or GetUnitTypeId(u)=='N015'
endfunction

function Func1207 takes unit u returns unit
	local integer h=GetHandleId(GetOwningPlayer(u))
	return(LoadUnitHandle(HY,(h),(333)))
endfunction

function Func1208 takes nothing returns nothing
	local unit u
	local integer i=0
	if(Players_Hero[GetPlayerId(GetTriggerPlayer())]==null)then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,GetObjectName('n08A'))
	else
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,GetUnitName(Players_Hero[GetPlayerId(GetTriggerPlayer())])+" "+GetObjectName('n08N')+" "+I2S(R2I(0.5+Func0389(Players_Hero[GetPlayerId(GetTriggerPlayer())]))))
		if Func1206(Players_Hero[GetPlayerId(GetTriggerPlayer())])then
			set u=Func1207(Players_Hero[GetPlayerId(GetTriggerPlayer())])
			if u!=null then
				call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,GetUnitName(u)+" "+GetObjectName('n08N')+" "+I2S(R2I(0.5+GetUnitMoveSpeed(u))))
			endif
		endif
	endif
endfunction

function Func1209 takes nothing returns nothing
	local unit u
	local integer i=0
	if(Players_Hero[GetPlayerId(GetTriggerPlayer())]==null)then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,GetObjectName('n08A'))
	else
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,GetUnitName(Players_Hero[GetPlayerId(GetTriggerPlayer())])+" "+GetObjectName('n08N')+" "+I2S(R2I(0.5+Func0389(Players_Hero[GetPlayerId(GetTriggerPlayer())]))))
		if Func1206(Players_Hero[GetPlayerId(GetTriggerPlayer())])then
			set u=Func1207(Players_Hero[GetPlayerId(GetTriggerPlayer())])
			if u!=null then
				call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,GetUnitName(u)+" "+GetObjectName('n08N')+" "+I2S(R2I(0.5+GetUnitMoveSpeed(u))))
			endif
		endif
		loop
			exitwhen i>16
			set u=Players_Hero[i]
			if u!=null and u!=Players_Hero[GetPlayerId(GetTriggerPlayer())]and IsUnitAlly(u,GetTriggerPlayer()) then
				call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,GetUnitName(u)+" "+GetObjectName('n08N')+" "+I2S(R2I(0.5+GetUnitMoveSpeed(u))))
			endif
			set i=i+1
		endloop
	endif
endfunction

function Func1210 takes nothing returns nothing
	call SaveBoolean(HY,(GetHandleId(GetTriggerPlayer())),(139),(true))
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n08R'))
endfunction

function Func1211 takes nothing returns nothing
	call SaveBoolean(HY,(GetHandleId(GetTriggerPlayer())),(139),(false))
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n08O'))
endfunction

function Func1212 takes nothing returns nothing
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,"   "+GetObjectName('n08P')+" "+I2S(PlayerCS[GetPlayerId(GetTriggerPlayer())])+" "+GetObjectName('n08Q')+" "+I2S(CSDenies[GetPlayerId(GetTriggerPlayer())])+" "+GetObjectName('n08S')+" "+I2S(integers005[GetPlayerId(GetTriggerPlayer())]))
endfunction

function Func1213 takes nothing returns nothing
	local integer x=GetPlayerId(GetTriggerPlayer())
	if(GetEventPlayerChatString()=="-cson")then
		set booleans014[x]=true
		set booleans028[x]=true
	else
		set booleans014[x]=false
		set booleans028[x]=false
	endif
endfunction

function Func1214 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer i=(LoadInteger(HY,(h),(34)))
	local real x
	local real y
	if booleans023[i]==false then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif Players_Hero[i]!=null and IsDead(Players_Hero[i])==false then
		set x=GetUnitX(Players_Hero[i])
		set y=GetUnitY(Players_Hero[i])
		call PanCameraToTimedForPlayer(Player(i),x,y,0)
	endif
	set t=null
	return false
endfunction

function Func1215 takes nothing returns nothing
	local integer x=GetPlayerId(GetTriggerPlayer())
	local trigger t
	local integer h
	local integer i
	if booleans023[x]==false and(GetEventPlayerChatString()=="-center"or GetEventPlayerChatString()=="-c")then
		set booleans023[x]=true
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,0.01,true)
		call TriggerAddCondition(t,Condition(function Func1214))
		call SaveInteger(HY,(h),(34),(x))
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0JW'))
	elseif GetEventPlayerChatString()=="-centeroff"or GetEventPlayerChatString()=="-co"then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0JX'))
		set booleans023[x]=false
	endif
endfunction

function Func1216 takes nothing returns nothing
	set booleans024[GetPlayerId(GetTriggerPlayer())]=false
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5,GetObjectName('n0JZ'))
endfunction

function Func1217 takes nothing returns nothing
	set booleans024[GetPlayerId(GetTriggerPlayer())]=true
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5,GetObjectName('n0K0'))
endfunction

function Func1218 takes nothing returns nothing
	local integer i=0
	local integer id=GetPlayerId(GetTriggerPlayer())
	local integer Count=0
	local integer HV2=0
	local player p
	if boolean100==false or Mode_SO==false then
		return
	endif
	if real241+90<GetTime()then
		loop
			exitwhen i>15
			set booleans026[i]=false
			set i=i+1
		endloop
	endif
	set real241=GetTime()+90
	set booleans026[id]=true
	set i=0
	loop
		exitwhen i>15
		if IsSentinel(GetTriggerPlayer())then
			if IsSentinel(Player(i))and IsPlayer(Player(i))then
				set HV2=HV2+1
				if booleans026[i]then
					set Count=Count+1
				endif
			endif
		else
			if Func0052(Player(i))and IsPlayer(Player(i))then
				set HV2=HV2+1
				if booleans026[i]then
					set Count=Count+1
				endif
			endif
		endif
		set i=i+1
	endloop
	if Count*2>HV2 then
		if IsSentinel(GetTriggerPlayer())then
			set i=0
			loop
				exitwhen i>5
				set p=Sentinels[i]
				if booleans018[GetPlayerId(p)] and booleans025[GetPlayerId(p)]==false then
					call DisplayTimedTextToForceEx(Force_Elfs,10,GetObjectName('n0KD')+" "+(Players_Name[GetPlayerId((p))]))
					call Func0245(p)
					set booleans025[GetPlayerId(p)]=true
				endif
				set i=i+1
			endloop
		else
			set i=0
			loop
				exitwhen i>5
				set p=Scourges[i]
				if booleans018[GetPlayerId(p)] and booleans025[GetPlayerId(p)]==false then
					call DisplayTimedTextToForceEx(Force_Unds,10,GetObjectName('n0KD')+" "+(Players_Name[GetPlayerId((p))]))
					call Func0245(p)
					set booleans025[GetPlayerId(p)]=true
				endif
				set i=i+1
			endloop
		endif
	else
		if IsSentinel(GetTriggerPlayer())then
			call DisplayTimedTextToForceEx(Force_Elfs,10,GetObjectName('n0KB')+" "+I2S(Count)+"/"+I2S(HV2)+" ("+(Players_Name[GetPlayerId((GetTriggerPlayer()))])+")")
		else
			call DisplayTimedTextToForceEx(Force_Unds,10,GetObjectName('n0KB')+" "+I2S(Count)+"/"+I2S(HV2)+" ("+(Players_Name[GetPlayerId((GetTriggerPlayer()))])+")")
		endif
	endif
endfunction

function Func1219 takes nothing returns nothing
	local integer i=1
	local integer Q4I
	local player p
	loop
		exitwhen i>5
		set p=Sentinels[i]
		set Q4I=R2I(TimerGetRemaining(timers002[GetPlayerId(p)]))
		if Q4I>0 and booleans027[GetPlayerId(p)]and boolean056==false and boolean036==false then
			call PlayerSetLeaderboard(p,leaderboards003[GetPlayerId(p)])
			call LeaderboardDisplay(leaderboards003[GetPlayerId(p)],true)
			call LeaderboardSetLabel(leaderboards003[GetPlayerId(p)],"   "+GetObjectName('n08V')+" "+I2S(Q4I)+" "+GetObjectName('n095'))
		else
			call LeaderboardDisplay(leaderboards003[GetPlayerId(p)],false)
		endif
		set p=Scourges[i]
		set Q4I=R2I(TimerGetRemaining(timers002[GetPlayerId(p)]))
		if Q4I>0 and booleans027[GetPlayerId(p)]and boolean056==false and boolean036==false then
			call PlayerSetLeaderboard(p,leaderboards003[GetPlayerId(p)])
			call LeaderboardDisplay(leaderboards003[GetPlayerId(p)],true)
			call LeaderboardSetLabel(leaderboards003[GetPlayerId(p)],"   "+GetObjectName('n08V')+" "+I2S(Q4I)+" "+GetObjectName('n095'))
		else
			call LeaderboardDisplay(leaderboards003[GetPlayerId(p)],false)
		endif
		set i=i+1
	endloop
endfunction

function Func1220 takes nothing returns nothing
	local integer x=0
	set x=x+1
	set leaderboards003[GetPlayerId(Sentinels[x])]=CreateLeaderboard()
	call PlayerSetLeaderboard(Sentinels[x],leaderboards003[GetPlayerId(Sentinels[x])])
	call LeaderboardDisplay(leaderboards003[GetPlayerId(Sentinels[x])],false)
	call LeaderboardSetLabel(leaderboards003[GetPlayerId(Sentinels[x])],GetObjectName('n0E4')+": ")
	set leaderboards003[GetPlayerId(Scourges[x])]=CreateLeaderboard()
	call PlayerSetLeaderboard(Scourges[x],leaderboards003[GetPlayerId(Scourges[x])])
	call LeaderboardDisplay(leaderboards003[GetPlayerId(Scourges[x])],false)
	call LeaderboardSetLabel(leaderboards003[GetPlayerId(Scourges[x])],GetObjectName('n0E4')+": ")
	set x=x+1
	set leaderboards003[GetPlayerId(Sentinels[x])]=CreateLeaderboard()
	call PlayerSetLeaderboard(Sentinels[x],leaderboards003[GetPlayerId(Sentinels[x])])
	call LeaderboardDisplay(leaderboards003[GetPlayerId(Sentinels[x])],false)
	call LeaderboardSetLabel(leaderboards003[GetPlayerId(Sentinels[x])],GetObjectName('n0E4')+": ")
	set leaderboards003[GetPlayerId(Scourges[x])]=CreateLeaderboard()
	call PlayerSetLeaderboard(Scourges[x],leaderboards003[GetPlayerId(Scourges[x])])
	call LeaderboardDisplay(leaderboards003[GetPlayerId(Scourges[x])],false)
	call LeaderboardSetLabel(leaderboards003[GetPlayerId(Scourges[x])],GetObjectName('n0E4')+": ")
	set x=x+1
	set leaderboards003[GetPlayerId(Sentinels[x])]=CreateLeaderboard()
	call PlayerSetLeaderboard(Sentinels[x],leaderboards003[GetPlayerId(Sentinels[x])])
	call LeaderboardDisplay(leaderboards003[GetPlayerId(Sentinels[x])],false)
	call LeaderboardSetLabel(leaderboards003[GetPlayerId(Sentinels[x])],GetObjectName('n0E4')+": ")
	set leaderboards003[GetPlayerId(Scourges[x])]=CreateLeaderboard()
	call PlayerSetLeaderboard(Scourges[x],leaderboards003[GetPlayerId(Scourges[x])])
	call LeaderboardDisplay(leaderboards003[GetPlayerId(Scourges[x])],false)
	call LeaderboardSetLabel(leaderboards003[GetPlayerId(Scourges[x])],GetObjectName('n0E4')+": ")
	set x=x+1
	set leaderboards003[GetPlayerId(Sentinels[x])]=CreateLeaderboard()
	call PlayerSetLeaderboard(Sentinels[x],leaderboards003[GetPlayerId(Sentinels[x])])
	call LeaderboardDisplay(leaderboards003[GetPlayerId(Sentinels[x])],false)
	call LeaderboardSetLabel(leaderboards003[GetPlayerId(Sentinels[x])],GetObjectName('n0E4')+": ")
	set leaderboards003[GetPlayerId(Scourges[x])]=CreateLeaderboard()
	call PlayerSetLeaderboard(Scourges[x],leaderboards003[GetPlayerId(Scourges[x])])
	call LeaderboardDisplay(leaderboards003[GetPlayerId(Scourges[x])],false)
	call LeaderboardSetLabel(leaderboards003[GetPlayerId(Scourges[x])],GetObjectName('n0E4')+": ")
	set x=x+1
	set leaderboards003[GetPlayerId(Sentinels[x])]=CreateLeaderboard()
	call PlayerSetLeaderboard(Sentinels[x],leaderboards003[GetPlayerId(Sentinels[x])])
	call LeaderboardDisplay(leaderboards003[GetPlayerId(Sentinels[x])],false)
	call LeaderboardSetLabel(leaderboards003[GetPlayerId(Sentinels[x])],GetObjectName('n0E4')+": ")
	set leaderboards003[GetPlayerId(Scourges[x])]=CreateLeaderboard()
	call PlayerSetLeaderboard(Scourges[x],leaderboards003[GetPlayerId(Scourges[x])])
	call LeaderboardDisplay(leaderboards003[GetPlayerId(Scourges[x])],false)
	call LeaderboardSetLabel(leaderboards003[GetPlayerId(Scourges[x])],GetObjectName('n0E4')+": ")
endfunction

function Func1221 takes nothing returns nothing
	local integer x=GetPlayerId(GetTriggerPlayer())
	if GetEventPlayerChatString()=="-don"or GetEventPlayerChatString()=="-deathon"then
		set booleans027[x]=true
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n08W'))
	else
		set booleans027[x]=false
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n08X'))
	endif
endfunction

function Func1222 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerAddAction(t,function Func1220)
	call TriggerRegisterTimerEvent(t,.5,false)
	set t=CreateTrigger()
	call TriggerAddAction(t,function Func1219)
	call TriggerRegisterTimerEvent(t,1,true)
endfunction

function Func1223 takes nothing returns nothing
	if(GetEventPlayerChatString()=="-showdeny")then
		set booleans028[GetPlayerId(GetTriggerPlayer())]=true
	else
		set booleans028[GetPlayerId(GetTriggerPlayer())]=false
	endif
endfunction

function Func1224 takes nothing returns nothing
	call Error(GetTriggerPlayer(),GetObjectName('n0HG'))
endfunction

function Func1225 takes nothing returns nothing
	local integer i=0
	loop
		exitwhen i>16
		set booleans028[i]=true
		set booleans014[i]=true
		set i=i+1
	endloop
endfunction

function Func1226 takes nothing returns nothing
	call ForceRemovePlayer(Force_All,GetTriggerPlayer())
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n08U'))
endfunction

function Func1227 takes nothing returns nothing
	call ForceAddPlayer(Force_All,GetTriggerPlayer())
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n08Z'))
endfunction

function Func1228 takes nothing returns boolean
	local integer x=GetRandomInt(1,4)
	if x==1 then
		set weathereffect005=weathereffect001
	elseif x==2 then
		set weathereffect005=weathereffect002
	elseif x==3 then
		set weathereffect005=weathereffect003
	elseif x==4 then
		set weathereffect005=weathereffect004
	endif
	if booleans029[GetPlayerId(LocalPlayer)]then
		call EnableWeatherEffect(weathereffect001,false)
		call EnableWeatherEffect(weathereffect002,false)
		call EnableWeatherEffect(weathereffect003,false)
		call EnableWeatherEffect(weathereffect004,false)
		call EnableWeatherEffect(weathereffect005,true)
	endif
	return false
endfunction

function Func1229 takes nothing returns nothing
	local integer x=GetRandomInt(1,4)
	local trigger t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,300,true)
	call TriggerAddCondition(t,Condition(function Func1228))
	set booleans029[GetPlayerId(Sentinels[1])]=false
	set booleans029[GetPlayerId(Sentinels[2])]=false
	set booleans029[GetPlayerId(Sentinels[3])]=false
	set booleans029[GetPlayerId(Sentinels[4])]=false
	set booleans029[GetPlayerId(Sentinels[5])]=false
	set booleans029[GetPlayerId(Scourges[1])]=false
	set booleans029[GetPlayerId(Scourges[2])]=false
	set booleans029[GetPlayerId(Scourges[3])]=false
	set booleans029[GetPlayerId(Scourges[4])]=false
	set booleans029[GetPlayerId(Scourges[5])]=false
	if isObserversMode then
		set booleans029[GetPlayerId(Observer1)]=false
		set booleans029[GetPlayerId(Observer2)]=false
	endif
	if x==1 then
		set weathereffect005=weathereffect001
	elseif x==2 then
		set weathereffect005=weathereffect002
	elseif x==3 then
		set weathereffect005=weathereffect003
	elseif x==4 then
		set weathereffect005=weathereffect004
	endif
	set t=null
endfunction

function Func1230 takes nothing returns nothing
	local string DC2=StringCase(GetEventPlayerChatString(),false)
	if boolean101 then
		set boolean101=false
		call Func1229()
	endif
	if DC2=="-weather snow"and LocalPlayer==GetTriggerPlayer()then
		set booleans029[GetPlayerId(GetTriggerPlayer())]=false
		call EnableWeatherEffect(weathereffect001,true)
		call EnableWeatherEffect(weathereffect002,false)
		call EnableWeatherEffect(weathereffect003,false)
		call EnableWeatherEffect(weathereffect004,false)
	endif
	if DC2=="-weather rain"and LocalPlayer==GetTriggerPlayer()then
		set booleans029[GetPlayerId(GetTriggerPlayer())]=false
		call EnableWeatherEffect(weathereffect001,false)
		call EnableWeatherEffect(weathereffect002,true)
		call EnableWeatherEffect(weathereffect003,false)
		call EnableWeatherEffect(weathereffect004,false)
	endif
	if DC2=="-weather moonlight"and LocalPlayer==GetTriggerPlayer()then
		set booleans029[GetPlayerId(GetTriggerPlayer())]=false
		call EnableWeatherEffect(weathereffect001,false)
		call EnableWeatherEffect(weathereffect002,false)
		call EnableWeatherEffect(weathereffect003,true)
		call EnableWeatherEffect(weathereffect004,false)
	endif
	if DC2=="-weather wind"and LocalPlayer==GetTriggerPlayer()then
		set booleans029[GetPlayerId(GetTriggerPlayer())]=false
		call EnableWeatherEffect(weathereffect001,false)
		call EnableWeatherEffect(weathereffect002,false)
		call EnableWeatherEffect(weathereffect003,false)
		call EnableWeatherEffect(weathereffect004,true)
	endif
	if DC2=="-weather off"and LocalPlayer==GetTriggerPlayer()then
		set booleans029[GetPlayerId(GetTriggerPlayer())]=false
		call EnableWeatherEffect(weathereffect001,false)
		call EnableWeatherEffect(weathereffect002,false)
		call EnableWeatherEffect(weathereffect003,false)
		call EnableWeatherEffect(weathereffect004,false)
	endif
	if DC2=="-weather random"then
		set booleans029[GetPlayerId(GetTriggerPlayer())]=true
		if LocalPlayer==GetTriggerPlayer()then
			call EnableWeatherEffect(weathereffect001,false)
			call EnableWeatherEffect(weathereffect002,false)
			call EnableWeatherEffect(weathereffect003,false)
			call EnableWeatherEffect(weathereffect004,false)
			call EnableWeatherEffect(weathereffect005,true)
		endif
	endif
endfunction

function Func1231 takes nothing returns nothing
	local integer a=S2I(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))
	local integer MLI=GetPlayerId(GetTriggerPlayer())
	set integers051[MLI]=integers051[MLI]+1
	if integers051[MLI]>20 then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0DQ'))
		return
	endif
	if GetEventPlayerChatString()=="-rollon"or GetEventPlayerChatString()=="-rolloff"then
		return
	endif
	if a==0 then
		set a=100
	endif
	if a>0 and a<2001 then
		call Func0146(Force_All,5,Players_Color[GetPlayerId(GetTriggerPlayer())]+(Players_Name[GetPlayerId((GetTriggerPlayer()))])+"|r "+GetObjectName('n05I')+" "+I2S(GetRandomInt(1,a))+" "+GetObjectName('n05M')+" "+I2S(a))
	else
		call Error(GetTriggerPlayer(),GetObjectName('n02Y'))
	endif
endfunction

function Func1232 takes nothing returns nothing
	local integer a
	if GetRandomInt(1,2)==1 then
		set a=GetRandomInt(FirstScourgeHeroIndexId,LastHeroIndexId)
	else
		set a=GetRandomInt(FirstSentinelHeroIndexId,LastSentinelHeroIndexId)
	endif
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0GS')+" "+Func0036(a))
endfunction

function Func1233 takes nothing returns nothing
	local integer a=S2I(SubString(GetEventPlayerChatString(),4,StringLength(GetEventPlayerChatString())))
	if GetTriggerPlayer()!=Sentinels[1]or a>2 or a<1 or Mode_CM==false or GetTime()>14 or boolean107 then
		return
	endif
	set integer439=a
	set integer440=a
	set boolean106=true
	if a==1 then
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(Sentinels[1])]+(Players_Name[GetPlayerId((Sentinels[1]))])+"|r "+GetObjectName('n0DS'))
	else
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(Scourges[1])]+(Players_Name[GetPlayerId((Scourges[1]))])+"|r "+GetObjectName('n0DS'))
	endif
	if integer439==1 then
		set player017=Sentinels[1]
		set player018=Scourges[1]
	else
		set player017=Scourges[1]
		set player018=Sentinels[1]
	endif
endfunction

function Func1234 takes nothing returns nothing
	set booleans012[GetPlayerId(GetTriggerPlayer())]=false
endfunction

function Func1235 takes nothing returns nothing
	set booleans012[GetPlayerId(GetTriggerPlayer())]=true
endfunction

function Func1236 takes nothing returns nothing
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n090'))
	set booleans030[GetPlayerId(GetTriggerPlayer())]=true
	if LocalPlayer==GetTriggerPlayer()then
		call SetPlayerName(Sentinels[1],(Players_Name[GetPlayerId((Sentinels[1]))]))
		call SetPlayerName(Sentinels[2],(Players_Name[GetPlayerId((Sentinels[2]))]))
		call SetPlayerName(Sentinels[3],(Players_Name[GetPlayerId((Sentinels[3]))]))
		call SetPlayerName(Sentinels[4],(Players_Name[GetPlayerId((Sentinels[4]))]))
		call SetPlayerName(Sentinels[5],(Players_Name[GetPlayerId((Sentinels[5]))]))
		call SetPlayerName(Scourges[1],(Players_Name[GetPlayerId((Scourges[1]))]))
		call SetPlayerName(Scourges[2],(Players_Name[GetPlayerId((Scourges[2]))]))
		call SetPlayerName(Scourges[3],(Players_Name[GetPlayerId((Scourges[3]))]))
		call SetPlayerName(Scourges[4],(Players_Name[GetPlayerId((Scourges[4]))]))
		call SetPlayerName(Scourges[5],(Players_Name[GetPlayerId((Scourges[5]))]))
	endif
endfunction

function Func1237 takes nothing returns nothing
	local integer id=GetPlayerId(GetTriggerPlayer())
	if booleans013[id] then
		set booleans013[id]=false
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n08T'))
	else
		set booleans013[id]=true
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n091'))
	endif
endfunction

function Func1238 takes nothing returns nothing
	local integer id=GetPlayerId(GetTriggerPlayer())
	set booleans031[id]=true
endfunction

function Func1239 takes nothing returns nothing
endfunction

function Func1240 takes nothing returns nothing
	local integer i=1
	local player p
	local real Z12
	loop
		exitwhen i>5
		set p=Sentinels[i]
		if IsPlayer(p)then
			set Z12=integers017[GetPlayerId(p)]/GetTime()*60
			call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.00,Players_Color[GetPlayerId(p)]+(Players_Name[GetPlayerId((p))])+"|r"+" "+GetObjectName('n084')+" "+R2S(Z12))
		endif
		set p=Scourges[i]
		if IsPlayer(p)then
			set Z12=integers017[GetPlayerId(p)]/GetTime()*60
			call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.00,Players_Color[GetPlayerId(p)]+(Players_Name[GetPlayerId((p))])+"|r"+" "+GetObjectName('n084')+" "+R2S(Z12))
		endif
		set i=i+1
	endloop
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.00," ")
	set p=null
endfunction

function Func1241 takes nothing returns nothing
	call Func0217(GetTriggerPlayer())
endfunction

function Func1242 takes nothing returns boolean
	call CleanTrigger(GetTriggeringTrigger())
	set boolean102=true
	return false
endfunction

function Func1243 takes real d returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,d,false)
	call TriggerAddCondition(t,Condition(function Func1242))
	set t=null
endfunction

function Func1244 takes player MDI returns nothing
	local integer Z42
	local player Z52
	set Z42=0
	loop
		set Z52=Player(Z42)
		if(PlayersAreCoAllied(MDI,Z52)and MDI!=Z52)then
			call SetPlayerAlliance(MDI,Z52,ALLIANCE_SHARED_VISION,true)
			call SetPlayerAlliance(MDI,Z52,ALLIANCE_SHARED_CONTROL,true)
			call SetPlayerAlliance(Z52,MDI,ALLIANCE_SHARED_CONTROL,true)
		endif
		set Z42=Z42+1
		exitwhen Z42==12
	endloop
endfunction

function Func1245 takes nothing returns nothing
	local integer MLI=S2I(SubString(GetEventPlayerChatString(),9,StringLength(GetEventPlayerChatString())))
	local integer i=1
	local player p
	local string time
	if boolean102 then
		if(SecondsForTime<10)then
			set time=I2S(MinutesForTime)+":0"+I2S(SecondsForTime)
		else
			set time=I2S(MinutesForTime)+":"+I2S(SecondsForTime)
		endif
		if MLI<1 or booleans032[MLI]==false then
			loop
				exitwhen i>5
				set p=Sentinels[i]
				if IsPlayer(p)and(GetTime()-reals001[GetPlayerId(p)])>300.0 and booleans032[GetPlayerId(p)]==false then
					set booleans032[GetPlayerId(p)]=true
					call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.00,Players_Color[GetPlayerId(p)]+(Players_Name[GetPlayerId((p))])+"|r"+" "+GetObjectName('n05G')+" "+R2S((GetTime()-reals001[GetPlayerId(p)])/60)+" "+GetObjectName('n05F'))
					call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.00,GetObjectName('n05O')+" |cff99ccff-kickafk "+I2S(GetPlayerId(p))+" |r "+GetObjectName('n05P'))
					call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.00," ")
				endif
				set p=Scourges[i]
				if IsPlayer(p)and(GetTime()-reals001[GetPlayerId(p)])>300.0 and booleans032[GetPlayerId(p)]==false then
					set booleans032[GetPlayerId(p)]=true
					call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.00,Players_Color[GetPlayerId(p)]+(Players_Name[GetPlayerId((p))])+"|r"+" "+GetObjectName('n05G')+" "+R2S((GetTime()-reals001[GetPlayerId(p)])/60)+" "+GetObjectName('n05F'))
					call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.00,GetObjectName('n05O')+" |cff99ccff-kickafk "+I2S(GetPlayerId(p))+" |r "+GetObjectName('n05P'))
					call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.00," ")
				endif
				set i=i+1
			endloop
			call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.00," ")
		elseif IsPlayer(Player(MLI)) and IsPlayerAlly(GetTriggerPlayer(),Player(MLI)) then
			call DisplayTimedTextToPlayer(Player(MLI),0,0,3600,"|c00ff0303"+GetObjectName('n05E')+"|r")
			call Func0419(Player(MLI))
			set LeftAt[GetPlayerId(Player(MLI))]="|c00555555"+time+"|r"
			call RemovePlayer(Player(MLI),PLAYER_GAME_RESULT_DEFEAT)
			call Func1244(Player(MLI))
			if Mode_SO then
				call Func0244(Player(MLI))
			endif
			set booleans018[GetPlayerId(Player(MLI))]=true
			call Func0418(Player(MLI))
			call DisplayTimedTextToForceEx(Force_All,30.00,"|c00ff0303"+(Players_Name[GetPlayerId((Player(MLI)))])+" "+GetObjectName('n05E')+"|r")
		endif
	endif
endfunction

function Func1246 takes nothing returns nothing
	local integer i=1
	local player p
	local integer x=0
	if boolean102 then
		loop
			exitwhen i>5
			set p=Sentinels[i]
			if IsPlayer(p)and(GetTime()-reals001[GetPlayerId(p)])/60>0.2 then
				set x=x+1
				call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.00,Players_Color[GetPlayerId(p)]+(Players_Name[GetPlayerId((p))])+"|r"+" "+GetObjectName('n05D')+" "+R2S((GetTime()-reals001[GetPlayerId(p)])/60)+" "+GetObjectName('n05F'))
			endif
			set p=Scourges[i]
			if IsPlayer(p)and(GetTime()-reals001[GetPlayerId(p)])/60>0.2 then
				set x=x+1
				call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.00,Players_Color[GetPlayerId(p)]+(Players_Name[GetPlayerId((p))])+"|r"+" "+GetObjectName('n05D')+" "+R2S((GetTime()-reals001[GetPlayerId(p)])/60)+" "+GetObjectName('n05F'))
			endif
			set i=i+1
		endloop
		if x<1 then
			call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.00,GetObjectName('n05Q'))
		else
			call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.00," ")
		endif
	endif
endfunction

function Func1247 takes nothing returns boolean
	local integer i=1
	local player p
	local real time=GetTime()
	if boolean102 then
		loop
			exitwhen i>5
			set p=Sentinels[i]
			if IsPlayer(p)and(time-reals001[GetPlayerId(p)])>300.0 and booleans032[GetPlayerId(p)]==false then
				set booleans032[GetPlayerId(p)]=true
				call DisplayTimedTextToForceEx(Force_Elfs,15,Players_Color[GetPlayerId(p)]+(Players_Name[GetPlayerId((p))])+"|r"+" "+GetObjectName('n05G')+" "+R2S((time-reals001[GetPlayerId(p)])/60)+" "+GetObjectName('n05F'))
				call DisplayTimedTextToForceEx(Force_Elfs,15,GetObjectName('n05O')+" |cff99ccff-kickafk "+I2S(GetPlayerId(p))+" |r "+GetObjectName('n05P'))
				call DisplayTimedTextToForceEx(Force_Elfs,15," ")
			endif
			set p=Scourges[i]
			if IsPlayer(p)and(time-reals001[GetPlayerId(p)])>300.0 and booleans032[GetPlayerId(p)]==false then
				set booleans032[GetPlayerId(p)]=true
				call DisplayTimedTextToForceEx(Force_Unds,15,Players_Color[GetPlayerId(p)]+(Players_Name[GetPlayerId((p))])+"|r"+" "+GetObjectName('n05G')+" "+R2S((time-reals001[GetPlayerId(p)])/60)+" "+GetObjectName('n05F'))
				call DisplayTimedTextToForceEx(Force_Unds,15,GetObjectName('n05O')+" |cff99ccff-kickafk "+I2S(GetPlayerId(p))+" |r "+GetObjectName('n05P'))
				call DisplayTimedTextToForceEx(Force_Unds,15," ")
			endif
			set i=i+1
		endloop
	endif
	return false
endfunction

function Func1248 takes nothing returns boolean
	if GetOwningPlayer(GetTriggerUnit())!=Sentinels[0]and GetOwningPlayer(GetTriggerUnit())!=Scourges[0]then
		set integers017[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=integers017[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
		if GetIssuedOrderId()!=851983 then
			set reals001[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetTime()
			set booleans032[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
		endif
		if(GetIssuedOrderId()==851983 or GetIssuedOrderId()==851971)and GetOrderTargetItem()!=null then
			if GetIssuedOrderId()==851983 or(GetIssuedOrderId()==851971 and(LoadBoolean(HY,(GetHandleId(GetItemPlayer(GetOrderTargetItem()))),(139))))then
				if GetItemPlayer(GetOrderTargetItem())!=GetOwningPlayer(GetTriggerUnit())and IsPointInRegion(region001,GetItemX(GetOrderTargetItem()),GetItemY(GetOrderTargetItem())) then
					call DisableTrigger(GetTriggeringTrigger())
					call InterruptUnit(GetTriggerUnit())
					call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0G7'))
					call EnableTrigger(GetTriggeringTrigger())
				endif
			endif
		endif
	endif
	return false
endfunction

function Func1249 takes nothing returns boolean
	return Func0089(GetFilterUnit())and GetOwningPlayer(GetFilterUnit())==GetTriggerPlayer()
endfunction

function Courier_Add takes nothing returns nothing
	call UnitAddType(GetEnumUnit(),UNIT_TYPE_PEON)
endfunction

function Courier_Remove takes nothing returns nothing
	call UnitRemoveType(GetEnumUnit(),UNIT_TYPE_PEON)
endfunction

function Func1250 takes nothing returns nothing
	local group g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,0,0,12000,Condition(function Func1249))
	call KillGroup(g)
	set g=null
endfunction

function Func1254 takes nothing returns nothing
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0CV')+" [|cffff0000E|r|cffff0000E|r|cffff0000E|r] - [|cffffcc00T|r]")
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0CU')+" [|cffff0000E|r|cffff0000E|r|cff00ffffW|r] - [|cffffcc00D|r]")
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0CT')+" [|cffff0000E|r|cffff0000E|r|cff0000ffQ|r] - [|cffffcc00F|r]")
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0C6')+" [|cff0000ffQ|r|cff0000ffQ|r|cff0000ffQ|r] - [|cffffcc00Y|r]")
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0CL')+" [|cff0000ffQ|r|cff0000ffQ|r|cff00ffffW|r] - [|cffffcc00V|r]")
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0CN')+" [|cff0000ffQ|r|cff0000ffQ|r|cffff0000E|r] - [|cffffcc00G|r]")
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0CS')+" [|cff00ffffW|r|cff00ffffW|r|cffff0000E|r] - [|cffffcc00Z|r]")
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0CO')+" [|cff00ffffW|r|cff00ffffW|r|cff0000ffQ|r] - [|cffffcc00X|r]")
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0CP')+" [|cff00ffffW|r|cff00ffffW|r|cff00ffffW|r] - [|cffffcc00C|r]")
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0CQ')+" [|cff0000ffQ|r|cff00ffffW|r|cffff0000E|r] - [|cffffcc00B|r]")
endfunction

function Func1255 takes string s returns nothing
	call StopMusic(true)
	call PlayMusic(s)
endfunction

function Func1256 takes nothing returns nothing
	local string s=GetEventPlayerChatString()
	local integer TJI=GetRandomInt(1,integer433)
	if LocalPlayer==GetTriggerPlayer()then
		if s=="-music off"then
			call StopMusic(false)
		elseif s=="-music random"then
			call Func1255(strings014[TJI])
		elseif s=="-music nightelf1"then
			call Func1255(string007)
		elseif s=="-music nightelf2"then
			call Func1255(string008)
		elseif s=="-music nightelf3"then
			call Func1255(string009)
		elseif s=="-music human1"then
			call Func1255(string004)
		elseif s=="-music human2"then
			call Func1255(string005)
		elseif s=="-music human3"then
			call Func1255(string006)
		elseif s=="-music orc1"then
			call Func1255(string010)
		elseif s=="-music orc2"then
			call Func1255(string011)
		elseif s=="-music orc3"then
			call Func1255(string012)
		elseif s=="-music undead1"then
			call Func1255(string018)
		elseif s=="-music undead2"then
			call Func1255(string019)
		elseif s=="-music undead3"then
			call Func1255(string020)
		elseif s=="-music other1"then
			call Func1255(string013)
		elseif s=="-music other2"then
			call Func1255(string014)
		elseif s=="-music other3"then
			call Func1255(string015)
		elseif s=="-music other4"then
			call Func1255(string016)
		elseif s=="-music other5"then
			call Func1255(string017)
		elseif s=="-music other6"then
			call Func1255(string021)
		elseif s=="-music other7"then
			call Func1255(string022)
		elseif s=="-music other8"then
			call Func1255(string023)
		elseif s=="-music other9"then
			call Func1255(string024)
		elseif s=="-music special"then
			call Func1255(string035)
		else
			call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0CW')+" ")
			call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,"off, random, nightelf1, nightelf2, nightelf3, human1, human2, human3, orc1, orc2, orc3, undead1, undead2, undead3, other1, other2, other3, other4, other5, other6, other7, other8, other9, special")
		endif
	endif
endfunction

function Func1257 takes nothing returns boolean
	set integer433=integer433+1
	set strings014[integer433]=string007
	set integer433=integer433+1
	set strings014[integer433]=string008
	set integer433=integer433+1
	set strings014[integer433]=string009
	set integer433=integer433+1
	set strings014[integer433]=string004
	set integer433=integer433+1
	set strings014[integer433]=string005
	set integer433=integer433+1
	set strings014[integer433]=string006
	set integer433=integer433+1
	set strings014[integer433]=string010
	set integer433=integer433+1
	set strings014[integer433]=string011
	set integer433=integer433+1
	set strings014[integer433]=string012
	set integer433=integer433+1
	set strings014[integer433]=string018
	set integer433=integer433+1
	set strings014[integer433]=string019
	set integer433=integer433+1
	set strings014[integer433]=string020
	set integer433=integer433+1
	set strings014[integer433]=string013
	set integer433=integer433+1
	set strings014[integer433]=string014
	set integer433=integer433+1
	set strings014[integer433]=string015
	set integer433=integer433+1
	set strings014[integer433]=string016
	set integer433=integer433+1
	set strings014[integer433]=string017
	set integer433=integer433+1
	set strings014[integer433]=string021
	set integer433=integer433+1
	set strings014[integer433]=string022
	set integer433=integer433+1
	set strings014[integer433]=string023
	set integer433=integer433+1
	set strings014[integer433]=string024
	set integer433=integer433+1
	set strings014[integer433]=string035
	return false
endfunction

function Func1258 takes player p,integer r,integer g,integer b,integer a returns nothing
	if LocalPlayer==p then
		call SetWaterBaseColor(r,g,b,a)
	endif
endfunction

function Func1259 takes string s returns nothing
	local string ZW2=""
	local string ZX2=""
	local string ZY2=""
	local integer i=0
	local integer EU1=StringLength(s)
	local integer ZJ2=1
	loop
		exitwhen i>EU1
		if SubString(s,i,i+1)==" "then
			set ZJ2=ZJ2+1
		else
			if ZJ2==1 then
				set ZW2=ZW2+SubString(s,i,i+1)
			elseif ZJ2==2 then
				set ZX2=ZX2+SubString(s,i,i+1)
			else
				set ZY2=ZY2+SubString(s,i,i+1)
			endif
		endif
		set i=i+1
	endloop
	set integer434=S2I(ZW2)
	set integer435=S2I(ZX2)
	set integer436=S2I(ZY2)
endfunction

function Func1260 takes nothing returns nothing
	local string ZK2=SubString(GetEventPlayerChatString(),7,StringLength(GetEventPlayerChatString()))
	local player p=GetTriggerPlayer()
	local integer r
	local integer g
	local integer b
	set booleans033[GetPlayerId(p)]=true
	if ZK2=="red"then
		call Func1258(p,255,0,0,255)
	elseif ZK2=="blue"then
		call Func1258(p,0,0,255,255)
	elseif ZK2=="green"then
		call Func1258(p,0,255,0,255)
	elseif ZK2=="default"then
		call Func1258(p,0,0,255,255)
	elseif ZK2=="random"then
		set r=GetRandomInt(0,255)
		set g=GetRandomInt(0,255)
		set b=GetRandomInt(0,255)
		call Func1258(p,r,g,b,255)
		call DisplayTimedTextToPlayer(p,0,0,5,GetObjectName('n0HD')+" r="+I2S(r)+" g="+I2S(g)+" b="+I2S(b))
	else
		call Func1259(ZK2)
		set r=integer434
		set g=integer435
		set b=integer436
		if r==0 and g==0 and b==0 and ZK2!="0 0 0"then
			return
		endif
		if r>=0 and r<=255 and g>=0 and g<=255 and b>=0 and b<=255 then
			call Func1258(p,r,g,b,255)
		endif
	endif
endfunction

function Func1261 takes nothing returns nothing
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.00,"This command has been temporarily disabled")
endfunction

function Func1262 takes nothing returns boolean
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,"Total Bonus XP/Gold: "+I2S(integers084[GetPlayerId(GetTriggerPlayer())])+"/"+I2S(integers085[GetPlayerId(GetTriggerPlayer())]))
	return false
endfunction

function Func1263 takes nothing returns boolean
	if integer461>0 then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,GetObjectName('n0LO')+": "+I2S(integer461))
	endif
	return false
endfunction

function Func1265 takes player p1 returns string
	local string s=GetObjectName('n0GB')
	set s=Func0364(s,"$c1","|c00ff0303")
	set s=Func0364(s,"$p1",Players_Color[GetPlayerId(p1)]+(Players_Name[GetPlayerId((p1))])+"|r")
	return s
endfunction

function Func1266 takes nothing returns string
	local string s=GetObjectName('n0GA')
	set s=Func0364(s,"$c1","|c006699CC")
	set s=Func0364(s,"$c2","|c00ff0303")
	return s
endfunction

function Func1268 takes player p1,player p2 returns string
	local string s=GetObjectName('n0G2')
	set s=Func0364(s,"$c1","|c006699CC")
	set s=Func0364(s,"$c1","|c006699CC")
	set s=Func0364(s,"$c1","|c006699CC")
	set s=Func0364(s,"$c1","|c006699CC")
	set s=Func0364(s,"$c2","|c00ff0303")
	set s=Func0364(s,"$c2","|c00ff0303")
	set s=Func0364(s,"$p1",Players_Color[GetPlayerId(p1)]+(Players_Name[GetPlayerId((p1))])+"|r")
	set s=Func0364(s,"$p2",Players_Color[GetPlayerId(p2)]+(Players_Name[GetPlayerId((p2))])+"|r")
	return s
endfunction

function Func1269 takes string ZQ2,string ZU2 returns string
	local string s=GetObjectName('n0FV')
	set s=Func0364(s,"$c1","|c006699CC")
	set s=Func0364(s,"$c1","|c006699CC")
	set s=Func0364(s,"$c1","|c006699CC")
	set s=Func0364(s,"$c1","|c006699CC")
	set s=Func0364(s,"$p1",ZQ2)
	set s=Func0364(s,"$p2",ZU2)
	return s
endfunction

function Func1270 takes player p2 returns string
	local string s=GetObjectName('n0FS')
	set s=Func0364(s,"$p2",Players_Color[GetPlayerId(p2)]+(Players_Name[GetPlayerId((p2))])+"|r")
	set s=Func0364(s,"$c1","|c006699CC")
	return s
endfunction

function Func1271 takes player p returns nothing
	local integer TGI
	local integer THI
	if(IsSentinel(p))then
		set TGI=1
		set THI=5
		loop
			exitwhen TGI>THI
			if(Sentinels[TGI]!=p)then
				if(IsPlayer(Sentinels[TGI]))then
					call SetPlayerAllianceStateBJ(p,Sentinels[TGI],4)
				endif
			endif
			set TGI=TGI+1
		endloop
	else
		set TGI=1
		set THI=5
		loop
			exitwhen TGI>THI
			if(Scourges[TGI]!=p)then
				if(IsPlayer(Scourges[TGI]))then
					call SetPlayerAllianceStateBJ(p,Scourges[TGI],4)
				endif
			endif
			set TGI=TGI+1
		endloop
	endif
endfunction

function Func1272 takes nothing returns nothing
	if GetOwningPlayer(GetEnumUnit())==player006 then
		call SetUnitOwner(GetEnumUnit(),player007,true)
	elseif GetOwningPlayer(GetEnumUnit())==player007 then
		call SetUnitOwner(GetEnumUnit(),player006,true)
	endif
endfunction

function Func1273 takes unit u,player p returns nothing
	local real x1
	local real y1
	local real x2
	local real y2
	local integer i
	local item BA1
	if IsSentinel(p)then
		set x1=GetRectCenterX(Hero_Creation_UD)
		set y1=GetRectCenterY(Hero_Creation_UD)
		set x2=GetRectCenterX(Hero_Creation_NE)
		set y2=GetRectCenterY(Hero_Creation_NE)
	else
		set x1=GetRectCenterX(Hero_Creation_NE)
		set y1=GetRectCenterY(Hero_Creation_NE)
		set x2=GetRectCenterX(Hero_Creation_UD)
		set y2=GetRectCenterY(Hero_Creation_UD)
	endif
	call SetUnitX(u,x1)
	call SetUnitY(u,y1)
	if Func0089(u)then
		call IssueImmediateOrder(u,"creepanimatedead")
	endif
	if IsUnitType(u,UNIT_TYPE_HERO) then
		call SaveBoolean(HY,(GetHandleId(u)),(140),(true))
		call SaveInteger(HY,(GetHandleId((u))),((4259)),(2))
		call UnitRemoveAbility(u,'A04R')
		call SetUnitInvulnerable(u,false)
		call PauseUnit(u,false)
		set i=0
		loop
			exitwhen i>5
			set BA1=UnitItemInSlot(u,i)
			if GetUnitTypeId(u)!='H00J' and BA1!=null and(GetItemPlayer(BA1)!=GetOwningPlayer(u)and GetIndex(BA1)!=integer212 and GetIndex(BA1)!=integer213)and GetItemTypeId(BA1)!=integers089[integer198]then
				call UnitRemoveItem(u,BA1)
			endif
			set i=i+1
		endloop
	endif
	call SetUnitX(u,x2)
	call SetUnitY(u,y2)
	call SetUnitColor(u,GetPlayerColor(p))
	set BA1=null
endfunction

function Func1274 takes nothing returns boolean
	if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) or Func0089(GetFilterUnit())then
		call Func1273(GetFilterUnit(),player008)
	elseif GetUnitTypeId(GetFilterUnit())=='ncop' then
		call IssueImmediateOrder(GetFilterUnit(),"creepanimatedead")
	elseif GetUnitTypeId(GetFilterUnit())=='u00B' then
		return true
	endif
	return false
endfunction

function Func1275 takes item i,player p returns nothing
	local real x
	local real y
	if IsSentinel(p)then
		set x=GetRectCenterX(Hero_Creation_NE)
		set y=GetRectCenterY(Hero_Creation_NE)
	else
		set x=GetRectCenterX(Hero_Creation_UD)
		set y=GetRectCenterY(Hero_Creation_UD)
	endif
	call SetItemPosition(i,x,y)
endfunction

function Func1276 takes nothing returns nothing
	if GetItemPlayer(GetEnumItem())==player008 then
		call Func1275(GetEnumItem(),player008)
	endif
endfunction

function Func1277 takes player p1,player p2 returns nothing
	local group g1=GetAvailableGroup()
	local group g2=GetAvailableGroup()
	set player008=p1
	call GroupEnumUnitsOfPlayer(g1,p1,Condition(function Func1274))
	set player008=p2
	call GroupEnumUnitsOfPlayer(g2,p2,Condition(function Func1274))
	call ForGroup(g1,function Func1272)
	call ForGroup(g2,function Func1272)
	set player008=p1
	call EnumItemsInRect(GetWorldBounds(),Condition(function Func0165),function Func1276)
	set player008=p2
	call EnumItemsInRect(GetWorldBounds(),Condition(function Func0165),function Func1276)
	call KillGroup(g1)
	call KillGroup(g2)
	set g1=null
	set g2=null
endfunction

function Func1278 takes player p1,player p2 returns nothing
	local integer x
	local integer y
	local integer i
	local integer i1
	local integer i2
	local real x1
	local real y1
	local real x2
	local real y2
	local player p
	local string ZQ2=Players_Color[GetPlayerId(p1)]+(Players_Name[GetPlayerId((p1))])+"|r"
	local string ZU2=Players_Color[GetPlayerId(p2)]+(Players_Name[GetPlayerId((p2))])+"|r"
	local integer GV2
	set GV2=ReliableGold[GetPlayerId(p1)]
	set ReliableGold[GetPlayerId(p1)]=ReliableGold[GetPlayerId(p2)]
	set ReliableGold[GetPlayerId(p2)]=GV2
	if IsSentinel(p1)then
		set x1=GetRectCenterX(Hero_Creation_UD)
		set y1=GetRectCenterY(Hero_Creation_UD)
	else
		set x1=GetRectCenterX(Hero_Creation_NE)
		set y1=GetRectCenterY(Hero_Creation_NE)
	endif
	if IsSentinel(p2)then
		set x2=GetRectCenterX(Hero_Creation_UD)
		set y2=GetRectCenterY(Hero_Creation_UD)
	else
		set x2=GetRectCenterX(Hero_Creation_NE)
		set y2=GetRectCenterY(Hero_Creation_NE)
	endif
	set i=1
	loop
		exitwhen i>5
		if Sentinels[i]==p1 or Scourges[i]==p1 then
			set i1=i
		endif
		if Sentinels[i]==p2 or Scourges[i]==p2 then
			set i2=i
		endif
		set i=i+1
	endloop
	if IsSentinel(p1)then
		set Scourges[i2]=p1
		set Sentinels[i1]=p2
	else
		set Sentinels[i2]=p1
		set Scourges[i1]=p2
	endif
	call SetPlayerTeam(Sentinels[0],0)
	call SetPlayerTeam(Sentinels[1],0)
	call SetPlayerTeam(Sentinels[2],0)
	call SetPlayerTeam(Sentinels[3],0)
	call SetPlayerTeam(Sentinels[4],0)
	call SetPlayerTeam(Sentinels[5],0)
	call SetPlayerTeam(Scourges[0],1)
	call SetPlayerTeam(Scourges[1],1)
	call SetPlayerTeam(Scourges[2],1)
	call SetPlayerTeam(Scourges[3],1)
	call SetPlayerTeam(Scourges[4],1)
	call SetPlayerTeam(Scourges[5],1)
	call Func0396()
	set x=0
	set y=0
	loop
		exitwhen x>5
		loop
			exitwhen y>5
			call SetPlayerAllianceStateBJ(Sentinels[x],Sentinels[y],3)
			call SetPlayerAllianceStateBJ(Scourges[x],Scourges[y],3)
			call SetPlayerAllianceStateBJ(Sentinels[x],Scourges[y],0)
			call SetPlayerAllianceStateBJ(Scourges[x],Sentinels[y],0)
			set y=y+1
		endloop
		set y=0
		set x=x+1
	endloop
	call ForceClear(Force_Elfs)
	call ForceClear(Force_Unds)
	call ForceAddPlayer(Force_Elfs,Sentinels[0])
	call ForceAddPlayer(Force_Elfs,Sentinels[1])
	call ForceAddPlayer(Force_Elfs,Sentinels[2])
	call ForceAddPlayer(Force_Elfs,Sentinels[3])
	call ForceAddPlayer(Force_Elfs,Sentinels[4])
	call ForceAddPlayer(Force_Elfs,Sentinels[5])
	call ForceAddPlayer(Force_Unds,Scourges[0])
	call ForceAddPlayer(Force_Unds,Scourges[1])
	call ForceAddPlayer(Force_Unds,Scourges[2])
	call ForceAddPlayer(Force_Unds,Scourges[3])
	call ForceAddPlayer(Force_Unds,Scourges[4])
	call ForceAddPlayer(Force_Unds,Scourges[5])
	call ExecuteFunc("Func0397")
	call Func1277(p1,p2)
	set boolean059=true
	call PanCameraToTimedForPlayer(p1,x1,y1,0)
	call PanCameraToTimedForPlayer(p2,x2,y2,0)
	call StorePlayersColorValues()
	set boolean058=false
	if trigger049!=null then
		call TriggerEvaluate(trigger049)
	endif
	if GetPlayerSlotState(p2)==PLAYER_SLOT_STATE_EMPTY then
		set Players_Name[GetPlayerId(p2)]=GetPlayerName(p2)
	endif
	set i=1
	loop
		exitwhen i>5
		set p=Sentinels[i]
		if Func0056(p)then
			call Func1271(p)
		endif
		set p=Scourges[i]
		if Func0056(p)then
			call Func1271(p)
		endif
		set i=i+1
	endloop
	call DisplayLeaderBoard()
	call ClearTextMessages()
	call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20," ")
	call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20,Func1269(ZQ2,ZU2))
	call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20," ")
	call Func0378(p1)
	call Func0378(p2)
endfunction

function Func1279 takes nothing returns nothing
	local integer i=1
	local player p
	set integer031=0
	set integer032=0
	loop
		exitwhen i>5
		set p=Sentinels[i]
		if IsPlayer(p)then
			set integer032=integer032+1
			if booleans016[GetPlayerId(p)] then
				set integer031=integer031+1
			endif
		endif
		set p=Scourges[i]
		if IsPlayer(p)then
			set integer032=integer032+1
			if booleans016[GetPlayerId(p)] then
				set integer031=integer031+1
			endif
		endif
		set i=i+1
	endloop
endfunction

function Func1280 takes nothing returns nothing
	set boolean058=false
	if trigger049!=null then
		call TriggerEvaluate(trigger049)
	endif
	call ClearTextMessages()
	call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20,Func1265(GetTriggerPlayer()))
endfunction

function Func1281 takes nothing returns nothing
	local integer i=1
	local player p
	local integer VA2=0
	local integer VB2=0
	local integer VC2=0
	if booleans016[GetPlayerId(GetTriggerPlayer())]==false then
		set booleans016[GetPlayerId(GetTriggerPlayer())]=true
		call Func1279()
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20,Players_Color[GetPlayerId(GetTriggerPlayer())]+(Players_Name[GetPlayerId((GetTriggerPlayer()))])+"|r|c006699CC "+GetObjectName('n0FT')+"|r ("+I2S(integer031)+"/"+I2S(integer032)+")")
	endif
	loop
		exitwhen i>5
		set p=Sentinels[i]
		if IsPlayer(p)and booleans016[GetPlayerId(p)]==false then
			set VA2=VA2+1
			set VC2=VC2+1
		endif
		if IsPlayer(p)and booleans016[GetPlayerId(p)] then
			set VB2=VB2+1
			set VC2=VC2+1
		endif
		set p=Scourges[i]
		if IsPlayer(p)and booleans016[GetPlayerId(p)]==false then
			set VA2=VA2+1
			set VC2=VC2+1
		endif
		if IsPlayer(p)and booleans016[GetPlayerId(p)] then
			set VB2=VB2+1
			set VC2=VC2+1
		endif
		set i=i+1
	endloop
	if VA2<2 and VB2>=R2I(VC2/2)then
		if(VC2==2 and VB2>1)or VC2!=2 then
			call Func1278(player006,player007)
		endif
	endif
endfunction

function Func1282 takes nothing returns nothing
	local integer i=1
	local player p=GetTriggerPlayer()
	local player VE2
	local string s
	local string s2
	loop
		exitwhen i>5
		set s=""
		set s2=""
		if IsSentinel(p)then
			set VE2=Scourges[i]
		else
			set VE2=Sentinels[i]
		endif
		if GetPlayerSlotState(VE2)==PLAYER_SLOT_STATE_LEFT and GetPlayerController(VE2)==MAP_CONTROL_USER then
			set s="|c00ff0303["+GetObjectName('n0FY')+"]|r"
		endif
		if Players_Hero[GetPlayerId(VE2)]!=null then
			set s2=" ("+GetUnitName(Players_Hero[GetPlayerId(VE2)])+")"
		endif
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15,GetObjectName('n083')+"|c006699CC "+"-switch "+I2S(i)+"|r "+GetObjectName('n0FQ')+" "+Players_Color[GetPlayerId(VE2)]+(Players_Name[GetPlayerId((VE2))])+s2+"|r "+s)
		set i=i+1
	endloop
endfunction

function Func1283 takes nothing returns boolean
	local integer i=0
	if boolean058 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20,"|c00ff0303"+GetObjectName('n0FU')+"|r")
	endif
	set boolean100=true
	set boolean058=false
	set player006=null
	set player007=null
	loop
		exitwhen i>16
		set booleans016[i]=false
		set i=i+1
	endloop
	call CleanTrigger(GetTriggeringTrigger())
	set trigger049=null
	return false
endfunction

function Func1284 takes player p1,player p2 returns nothing
	local trigger t=CreateTrigger()
	local integer i=0
	local string s
	local string PUO
	local string msg2
	local string msg3
	local player p
	local string s2
	set boolean100=false
	set boolean058=true
	set player006=p1
	set player007=p2
	loop
		exitwhen i>16
		set booleans016[i]=false
		set i=i+1
	endloop
	set booleans016[GetPlayerId(player006)]=true
	call TriggerRegisterTimerEvent(t,60,false)
	call TriggerAddCondition(t,Condition(function Func1283))
	set trigger049=t
	set s=Func1268(p1,p2)
	set s2=Func1266()
	set i=1
	loop
		exitwhen i>5
		set p=Sentinels[i]
		if p!=p1 then
			call DisplayTimedTextToPlayer(p,0,0,20,s)
			call DisplayTimedTextToPlayer(p,0,0,20,s2)
		endif
		set p=Scourges[i]
		if p!=p1 then
			call DisplayTimedTextToPlayer(p,0,0,20,s)
			call DisplayTimedTextToPlayer(p,0,0,20,s2)
		endif
		set i=i+1
	endloop
	set s=Func1270(p2)
	call DisplayTimedTextToPlayer(p1,0,0,20,s)
	set t=null
endfunction

function Func1285 takes nothing returns nothing
	if Mode_SO==false then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0GX'))
		return
	endif
	if isObserversMode and GetEventPlayerChatString()!="-ok"and GetEventPlayerChatString()!="-switch accept"and GetEventPlayerChatString()!="-no"then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0G0'))
		return
	endif
	if GetEventPlayerChatString()=="-switch accept"or GetEventPlayerChatString()=="-ok"then
		if boolean058 then
			call Func1281()
		endif
	elseif GetEventPlayerChatString()=="-no"then
		if boolean058 then
			call Func1280()
		endif
	elseif GetEventPlayerChatString()=="-switch"then
		if boolean058==false then
			call Func1282()
		endif
	elseif boolean058==false then
		set integer030=S2I(SubString(GetEventPlayerChatString(),8,StringLength(GetEventPlayerChatString())))
		if integer030>0 and integer030<6 then
			if IsSentinel(GetTriggerPlayer())then
				if booleans025[GetPlayerId(Scourges[integer030])]==false then
					call Func1284(GetTriggerPlayer(),Scourges[integer030])
				else
					call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0HY'))
				endif
			else
				if booleans025[GetPlayerId(Sentinels[integer030])]==false then
					call Func1284(GetTriggerPlayer(),Sentinels[integer030])
				else
					call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0HY'))
				endif
			endif
		endif
	endif
endfunction

function Command_NoSwitch takes nothing returns nothing
	if boolean002==false and Mode_SO and GetTriggerPlayer()==PlayerModeTyper then
		set Mode_SO=false
		call DisplayTimedTextToPlayer(LocalPlayer,0,0,10,GetObjectName('n0GX'))
	endif
endfunction

function Func1286 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
	set t=null
	return false
endfunction

function Func1287 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=Players_Hero[GetPlayerId(GetTriggerPlayer())]
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Sleep\\SleepTarget.mdl",source,"overhead")))
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_ISSUED_ORDER)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_ISSUED_TARGET_ORDER)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_ISSUED_POINT_ORDER)
	call TriggerAddCondition(t,Condition(function Func1286))
	call SetUnitAnimation(source,"sleep")
	set t=null
	set source=null
endfunction

function Func1288 takes nothing returns nothing
	call SetUnitAnimationByIndex(Players_Hero[GetPlayerId(GetTriggerPlayer())],23)
endfunction

function Func1289 takes nothing returns nothing
	if Players_Hero[GetPlayerId(GetTriggerPlayer())]!=null then
		set integers121[GetPlayerId(GetTriggerPlayer())]=1
		call UnitRemoveAbility(Players_Hero[GetPlayerId(GetTriggerPlayer())],'A2KJ')
	endif
endfunction

//function Func1290 takes nothing returns nothing
//	if booleans035[GetPlayerId(GetTriggerPlayer())]==false then
//		set booleans035[GetPlayerId(GetTriggerPlayer())]=true
//		if GetObjectName('n0HH')=="Language: English"then
//			call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,"You have activated the -tips system.")
//			call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,"Please remember that these are just introductory recommendations and are not the only way to play heroes.")
//		endif
//		if Players_Hero[GetPlayerId(GetTriggerPlayer())]!=null then
//			call Func0372(GetTriggerPlayer(),GetUnitPointValue(Players_Hero[GetPlayerId(GetTriggerPlayer())]))
//		endif
//	endif
//endfunction

function Func1291 takes integer VW2,integer VX2 returns integer
	if VX2==0 then
		return VW2
	elseif VX2==1 then
		if VW2=='Cdrt' then
			return 'Cdrt'
		endif
		if VW2=='Cdrd' then
			return 'Idki'
		endif
		if VW2=='Cvin' then
			return 'Isnw'
		endif
		if VW2=='Cgrs' then
			return 'Isnw'
		endif
		if VW2=='Clvg' then
			return 'Isnw'
		endif
		if VW2=='Zvin' then
			return 'Idki'
		endif
		if VW2=='Zbks' then
			return 'Ibsq'
		endif
		if VW2=='Ndrd' then
			return 'Ibsq'
		endif
	elseif VX2==2 then
		if VW2=='Cdrt' then
			return 'Cdrt'
		endif
		if VW2=='Cdrd' then
			return 'Yblm'
		endif
		if VW2=='Cvin' then
			return 'Ybtl'
		endif
		if VW2=='Cgrs' then
			return 'Cgrs'
		endif
		if VW2=='Clvg' then
			return 'Clvg'
		endif
		if VW2=='Zvin' then
			return 'Yrtl'
		endif
		if VW2=='Zbks' then
			return 'Ywmb'
		endif
		if VW2=='Ndrd' then
			return 'Jbtl'
		endif
	elseif VX2==3 then
		if VW2=='Cdrt' then
			return 'Cdrt'
		endif
		if VW2=='Cdrd' then
			return 'Yblm'
		endif
		if VW2=='Cvin' then
			return 'Ybtl'
		endif
		if VW2=='Cgrs' then
			return 'Yrtl'
		endif
		if VW2=='Clvg' then
			return 'Clvg'
		endif
		if VW2=='Zvin' then
			return 'Yrtl'
		endif
		if VW2=='Zbks' then
			return 'Ybtl'
		endif
		if VW2=='Ndrd' then
			return 'Jbtl'
		endif
	elseif VX2==4 then
		if VW2=='Cdrt' then
			return 'Cdrt'
		endif
		if VW2=='Cdrd' then
			return 'Crck'
		endif
		if VW2=='Cvin' then
			return 'Avin'
		endif
		if VW2=='Cgrs' then
			return 'Agrd'
		endif
		if VW2=='Clvg' then
			return 'Alvd'
		endif
		if VW2=='Zvin' then
			return 'Agrd'
		endif
		if VW2=='Zbks' then
			return 'Crck'
		endif
		if VW2=='Ndrd' then
			return 'Cvin'
		endif
	elseif VX2==5 then
		if VW2=='Cdrt' then
			return 'Cdrt'
		endif
		if VW2=='Cdrd' then
			return 'Qdrr'
		endif
		if VW2=='Cvin' then
			return 'Qcbp'
		endif
		if VW2=='Cgrs' then
			return 'Qgrt'
		endif
		if VW2=='Clvg' then
			return 'Qgrs'
		endif
		if VW2=='Zvin' then
			return 'Qgrt'
		endif
		if VW2=='Zbks' then
			return 'Qcbp'
		endif
		if VW2=='Ndrd' then
			return 'Qstp'
		endif
	elseif VX2==6 then
		if VW2=='Cdrt' then
			return 'Cdrt'
		endif
		if VW2=='Cdrd' then
			return 'Dbrk'
		endif
		if VW2=='Cvin' then
			return 'Dgrs'
		endif
		if VW2=='Cgrs' then
			return 'Odrt'
		endif
		if VW2=='Clvg' then
			return 'Ofst'
		endif
		if VW2=='Zvin' then
			return 'Drds'
		endif
		if VW2=='Zbks' then
			return 'Dsqd'
		endif
		if VW2=='Ndrd' then
			return 'Osmb'
		endif
	elseif VX2==7 then
		if VW2=='Cdrt' then
			return 'Cdrt'
		endif
		if VW2=='Cdrd' then
			return 'Gbrk'
		endif
		if VW2=='Cvin' then
			return 'Glvc'
		endif
		if VW2=='Cgrs' then
			return 'Gdrt'
		endif
		if VW2=='Clvg' then
			return 'Gdkr'
		endif
		if VW2=='Zvin' then
			return 'Grds'
		endif
		if VW2=='Zbks' then
			return 'Gsqd'
		endif
		if VW2=='Ndrd' then
			return 'Ggrs'
		endif
	endif
	return 0
endfunction

function Func1292 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local real VJ2=(LoadReal(HY,(h),(149)))
	local real VK2=(LoadReal(HY,(h),(150)))
	local real VL2=(LoadReal(HY,(h),(151)))
	local real VM2=128
	local real x
	local real y
	local integer KBO=(LoadInteger(HY,(h),(152)))
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	local integer VN2=(LoadInteger(HY,(h),(153)))
	loop
		exitwhen VJ2>VL2
		loop
			exitwhen VK2>8192
			if LocalPlayer==p then
				set VN2=VN2+1
				set x=VJ2
				set y=VK2
				call SetTerrainType(x,y,Func1291(integers042[VN2],KBO),integers046[VN2],1,0)
				set x=-VJ2
				set y=VK2
				call SetTerrainType(x,y,Func1291(integers043[VN2],KBO),integers047[VN2],1,0)
				set x=-VJ2
				set y=-VK2
				call SetTerrainType(x,y,Func1291(integers044[VN2],KBO),integers048[VN2],1,0)
				set x=VJ2
				set y=-VK2
				call SetTerrainType(x,y,Func1291(integers045[VN2],KBO),integers049[VN2],1,0)
			endif
			set VK2=VK2+VM2
		endloop
		set VK2=0
		set VJ2=VJ2+VM2
	endloop
	set VL2=VL2+256
	call SaveReal(HY,(h),(149),((VJ2)*1.0))
	call SaveReal(HY,(h),(150),((VK2)*1.0))
	call SaveInteger(HY,(h),(153),(VN2))
	call SaveReal(HY,(h),(151),((VL2)*1.0))
	if VL2>8192 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	return false
endfunction

function Func1293 takes nothing returns nothing
	if GetTriggerPlayer()==GetLocalPlayer()and(GetDestructableTypeId(GetEnumDestructable())=='ATtr' or GetDestructableTypeId(GetEnumDestructable())=='B002')then
		call SetDestructableAnimation(GetEnumDestructable(),"stand alternate")
	endif
endfunction

function Func1294 takes nothing returns nothing
	if GetTriggerPlayer()==GetLocalPlayer()and(GetDestructableTypeId(GetEnumDestructable())=='ATtr' or GetDestructableTypeId(GetEnumDestructable())=='B002')then
		call SetDestructableAnimation(GetEnumDestructable(),"stand")
	endif
endfunction

function Func1295 takes integer KBO returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	if KBO==1 then
		call EnumDestructablesInRectAll(GetWorldBounds(),function Func1293)
	else
		call EnumDestructablesInRectAll(GetWorldBounds(),function Func1294)
	endif
	set integers050[GetPlayerId(GetTriggerPlayer())]=KBO
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func1292))
	call SaveInteger(HY,(h),(152),(KBO))
	call SaveReal(HY,(h),(149),((0)*1.0))
	call SaveReal(HY,(h),(150),((0)*1.0))
	call SaveReal(HY,(h),(151),((160)*1.0))
	call SavePlayerHandle(HY,(h),(54),(GetTriggerPlayer()))
	set t=null
endfunction

function Command_Terrain takes nothing returns nothing
	if booleans011[GetPlayerId(GetTriggerPlayer())]==false then
		set integers041[GetPlayerId(GetTriggerPlayer())]=integers041[GetPlayerId(GetTriggerPlayer())]+1
		if integers041[GetPlayerId(GetTriggerPlayer())]<9 then
			if GetEventPlayerChatString()=="-terrain"or GetEventPlayerChatString()=="-terrain default"then
				call Func1295(0)
			elseif GetEventPlayerChatString()=="-terrain snow"then
				call Func1295(1)
			elseif GetEventPlayerChatString()=="-terrain city1"then
				call Func1295(2)
			elseif GetEventPlayerChatString()=="-terrain city2"then
				call Func1295(3)
			elseif GetEventPlayerChatString()=="-terrain jungle"then
				call Func1295(4)
			elseif GetEventPlayerChatString()=="-terrain highlands"then
				call Func1295(5)
			elseif GetEventPlayerChatString()=="-terrain reddungeon"then
				call Func1295(6)
			elseif GetEventPlayerChatString()=="-terrain bluedungeon"then
				call Func1295(7)
			endif
		else
			call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0GL'))
		endif
	endif
endfunction

function Func1296 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local real VJ2=(LoadReal(HY,(h),(149)))
	local real VK2=(LoadReal(HY,(h),(150)))
	local real VL2=(LoadReal(HY,(h),(151)))
	local real VM2=128
	local real x
	local real y
	loop
		exitwhen VJ2>VL2
		loop
			exitwhen VK2>8192
			set integer029=integer029+1
			set x=VJ2
			set y=VK2
			if IsPointBlighted(x,y)==false then
				set integers042[integer029]=GetTerrainType(x,y)
				set integers046[integer029]=GetTerrainVariance(x,y)
			endif
			set x=-VJ2
			set y=VK2
			if IsPointBlighted(x,y)==false then
				set integers043[integer029]=GetTerrainType(x,y)
				set integers047[integer029]=GetTerrainVariance(x,y)
			endif
			set x=-VJ2
			set y=-VK2
			if IsPointBlighted(x,y)==false then
				set integers044[integer029]=GetTerrainType(x,y)
				set integers048[integer029]=GetTerrainVariance(x,y)
			endif
			set x=VJ2
			set y=-VK2
			if IsPointBlighted(x,y)==false then
				set integers045[integer029]=GetTerrainType(x,y)
				set integers049[integer029]=GetTerrainVariance(x,y)
			endif
			set VK2=VK2+VM2
		endloop
		set VK2=0
		set VJ2=VJ2+VM2
	endloop
	set VL2=VL2+256
	call SaveReal(HY,(h),(149),((VJ2)*1.0))
	call SaveReal(HY,(h),(150),((VK2)*1.0))
	call SaveReal(HY,(h),(151),((VL2)*1.0))
	if VL2>8192 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	return false
endfunction

function Func1297 takes nothing returns nothing
	local trigger t
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.25,true)
	call TriggerAddCondition(t,Condition(function Func1058))
	set timer003=CreateTimer()
	call TimerStart(timer003,integer027+1,false,null)
	call RemoveUnitFromStock(unit134,'h02C')
	call AddUnitToStock(unit134,'h02C',1,2)
	call RemoveUnitFromStock(unit178,'h02C')
	call AddUnitToStock(unit178,'h02C',1,2)
	set t=null
endfunction

function Func1298 takes string s returns boolean
	if s=="-ma"or s=="-ms"or s=="-cs"or s=="-cson"or s=="-disablehelp"or s=="-enablehelp"or s=="-unstuck"or s=="-recreate"then
		return true
	elseif s=="-swaphero"or s=="-showmsg"or s=="-hidemsg"or s=="-showdeny"or s=="-hidedeny"or s=="-weather rain"or s=="-weather snow"or s=="-weather moonlight"or s=="-weather wind"or s=="-weather random"or s=="-weather off"or s=="-denyinfo"or s=="-di"or s=="-deathon"or s=="-don"or s=="-deathoff"or s=="-doff"or s=="-roll"or s=="-hideheronames"or s=="-hhn"or s=="-test"or s=="-mute"or s=="-wtf"or s=="-fleshstr"or s=="-fs"or s=="-switchon"then
		return true
	endif
	return false
endfunction

function Func1299 takes nothing returns boolean
	return not boolean002
endfunction

function ColorizeStringMode takes string s returns nothing
	if FullModesString==""then
		set FullModesString="|c006699CC"+s+"|r"
	else
		set FullModesString=FullModesString+"/|c006699CC"+s+"|r"
	endif
endfunction

function CutRecognizedMode takes string s,integer x,integer y returns string
	return SubString(s,0,x)+SubString(s,y,StringLength(s))
endfunction

function Str2Lower takes string s returns string
	return StringCase(SubString(s,1,StringLength(s)),false)
endfunction

function PickMode takes string said,boolean isAuto returns nothing
	local string s=Str2Lower(said)
	local string array modes
	local boolean array b
	local integer c
	local integer l=StringLength(s)
	local integer x=0
	local integer y=0
	local integer i=0
	local boolean AP
	local boolean AR
	local boolean LM
	local boolean MM
	local boolean TR
	local boolean DM
	local boolean MR
	local boolean SP
	local boolean AA
	local boolean AI
	local boolean AS
	local boolean ID
	local boolean NP
	local boolean SC
	local boolean EM
	local boolean DU
	local boolean SH
	local boolean VR
	local boolean RV
	local boolean RD
	local boolean OM
	local boolean NT
	local boolean NB
	local boolean NM
	local boolean NS
	local boolean SO
	local boolean NR
	local boolean XL
	local boolean SD
	local boolean PM
	local boolean OI
	local boolean MI
	local boolean CM
	local boolean FR
	local boolean MO
	local boolean RO
	local boolean ER
	local boolean CD
	local boolean RS
	local boolean CP
	local boolean ZM
	local boolean UB
	local boolean TT
	set modes[1]="ap"
	set modes[2]="ar"
	set modes[3]="lm"
	set modes[4]="mm"
	set modes[5]="tr"
	set modes[6]="dm"
	set modes[7]="mr"
	set modes[8]="sp"
	set modes[9]="aa"
	set modes[10]="ai"
	set modes[11]="as"
	set modes[12]="id"
	set modes[13]="np"
	set modes[14]="sc"
	set modes[15]="em"
	set modes[16]="du"
	set modes[17]="sh"
	set modes[18]="vr"
	set modes[19]="rv"
	set modes[20]="rd"
	set modes[21]="om"
	set modes[22]="xl"
	set modes[23]="nm"
	set modes[24]="nt"
	set modes[25]="nb"
	set modes[26]="ns"
	set modes[27]="nr"
	set modes[28]="cd"
	set modes[29]="sd"
	set modes[30]="pm"
	set modes[31]="oi"
	set modes[32]="mi"
	set modes[33]="cm"
	set modes[34]="fr"
	set modes[35]="mo"
	set modes[36]="ro"
	set modes[37]="er"
	set modes[38]="rs"
	set modes[39]="so"
	set modes[40]="zm"
	set modes[41]="cp"
	set modes[42]="ub"
	set modes[43]="tt"
	set c=43
	set x=-1
	loop
		exitwhen x==l-1
		set x=x+1
		set y=x
		loop
			exitwhen y==l
			set y=y+1
			set i=1
			loop
				exitwhen i>c
				if modes[i]==SubString(s,x,y)then
					set b[i]=true
					set i=c+1
					set s=CutRecognizedMode(s,x,y)
					set x=-1
					set l=StringLength(s)
					set y=l
				else
					set i=i+1
				endif
			endloop
		endloop
	endloop
	set AP=b[1]
	set AR=b[2]
	set LM=b[3]
	set MM=b[4]
	set TR=b[5]
	set DM=b[6]
	set MR=b[7]
	set SP=b[8]
	set AA=b[9]
	set AI=b[10]
	set AS=b[11]
	set ID=b[12]
	set NP=b[13]
	set SC=b[14]
	set EM=b[15]
	set DU=b[16]
	set SH=b[17]
	set VR=b[18]
	set RV=b[19]
	set RD=b[20]
	set OM=b[21]
	set XL=b[22]
	set NM=b[23]
	set NT=b[24]
	set NB=b[25]
	set NS=b[26]
	set NR=b[27]
	set CD=b[28]
	set SD=b[29]
	set PM=b[30]
	set OI=b[31]
	set MI=b[32]
	set CM=b[33]
	set FR=b[34]
	set MO=b[35]
	set RO=b[36]
	set ER=b[37]
	set RS=b[38]
	set SO=b[39]
	set ZM=b[40]
	set CP=b[41]
	set UB=b[42]
	set TT=b[43]
	if s!=""or Func1298(said)then
		return
	endif
	if(AR and(CM or AP or TR or LM or MR or RV or RD or CD or SD or TT))or(AP and(TR or MR))or(TR and(LM or MR))or(LM and MR)or(MM and SH)then
		call Error(PlayerModeTyper,GetObjectName('n02U'))
		return
	endif
	if(AA and(AI or AS or DM))or(AS and(AI or DM))or(AI and DM)then
		call Error(PlayerModeTyper,GetObjectName('n02U'))
		return
	endif
	if(RO and(MO or DM))or(MO and DM)then
		call Error(PlayerModeTyper,GetObjectName('n02U'))
		return
	endif
	if RV and(CM or AR or TR or MR or LM or DM or SH or TT)then
		call Error(PlayerModeTyper,GetObjectName('n02U'))
		return
	endif
	if(DM and(CM or TR or LM or MR or SH or RV or RD or CD or SD or TT))or(MM and DM)or(SH and DM)then
		call Error(PlayerModeTyper,GetObjectName('n02T'))
		return
	endif
	if LM and(TT or CM or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or XL or MO or RO)then
		call Error(PlayerModeTyper,GetObjectName('n031'))
		return
	endif
	if XL and(TT or CM or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or LM or RO or MO)then
		call Error(PlayerModeTyper,GetObjectName('n032'))
		return
	endif
	if CM and(TT or SP or XL or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or LM or MO or RO)then
		call Error(PlayerModeTyper,GetObjectName('n032'))
		return
	endif
	if RD and(TT or CD or CM or AP or LM or AR or SD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
		call Error(PlayerModeTyper,GetObjectName('n02U'))
		return
	endif
	if CD and(TT or RD or CM or AP or LM or AR or SD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
		call Error(PlayerModeTyper,GetObjectName('n02U'))
		return
	endif
	if MR and(TT or CM or AP or LM or AR or SD or MM or TR or DM or AA or AI or AS or SH or RV or RO or MO)then
		call Error(PlayerModeTyper,GetObjectName('n02U'))
		return
	endif
	if SD and(TT or CM or AP or LM or AR or RD or CD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
		call Error(PlayerModeTyper,GetObjectName('n02U'))
		return
	endif
	if VR and(TT or CM or LM or RD or CD or SD or AR or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
		call Error(PlayerModeTyper,GetObjectName('n02U'))
		return
	endif
	if TT and(SO or VR or CM or LM or RD or CD or SD or AR or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
		call Error(PlayerModeTyper,GetObjectName('n02U'))
		return
	endif
	if MM and CountPlayersInForce(Force_Elfs)!=CountPlayersInForce(Force_Unds)then
		call Error(PlayerModeTyper,GetObjectName('n034'))
		return
	endif
	if VR and CountPlayersInForce(Force_Elfs)!=CountPlayersInForce(Force_Unds)then
		call Error(PlayerModeTyper,GetObjectName('n034'))
		return
	endif
	if RV and CountPlayersInForce(Force_Elfs)!=CountPlayersInForce(Force_Unds)then
		call Error(PlayerModeTyper,GetObjectName('n034'))
		return
	endif
	if LM and not(IsPlayer(Sentinels[1])and IsPlayer(Sentinels[2])and IsPlayer(Sentinels[3])and IsPlayer(Sentinels[4])and IsPlayer(Sentinels[5])and IsPlayer(Scourges[1])and IsPlayer(Scourges[2])and IsPlayer(Scourges[3])and IsPlayer(Scourges[4])and IsPlayer(Scourges[5]))then
	endif
	if XL and not(IsPlayer(Sentinels[1])and IsPlayer(Sentinels[2])and IsPlayer(Sentinels[3])and IsPlayer(Sentinels[4])and IsPlayer(Sentinels[5])and IsPlayer(Scourges[1])and IsPlayer(Scourges[2])and IsPlayer(Scourges[3])and IsPlayer(Scourges[4])and IsPlayer(Scourges[5]))then
	endif
	if TT or ZM or CP or FR or CM or AP or AR or LM or MM or TR or DM or MR or SP or AA or AI or AS or ID or NP or SC or DU or EM or SH or VR or RV or RD or CD or OM or NB or NM or NT or NS or NR or XL or SD or PM or OI or MI or MO or RO or ER or RS or SO then
		call DisableTrigger(trigger063)
	else
		return
	endif
	if CM==false then
		call DisplayLeaderBoard()
		call CreateObsBoard()
	endif
	if LM==false and XL==false then
		call Func1222()
	endif
	set ModeNameString=Str2Lower(said)
	if boolean104 then
		call Traffic_RegisterData("Mode"+ModeNameString,0)
	else
		call Traffic_RegisterData("Mode"+ModeNameString,GetPlayerId(PlayerModeTyper))
	endif
	set Mode_Normal=false
	if CM then
		call ColorizeStringMode(GetObjectName('n0IK'))
	endif
	if TT then
		call ColorizeStringMode(GetObjectName('n0MQ'))
	endif
	if LM then
		call ColorizeStringMode(GetObjectName('n0I3'))
	endif
	if XL then
		call ColorizeStringMode(GetObjectName('n0I2'))
	endif
	if RD then
		call ColorizeStringMode(GetObjectName('n0IF'))
	endif
	if CD then
		call ColorizeStringMode(GetObjectName('n0I1'))
	endif
	if DM then
		call ColorizeStringMode(GetObjectName('n0IA'))
	endif
	if MM then
		call ColorizeStringMode(GetObjectName('n0I0'))
	endif
	if AP then
		call ColorizeStringMode(GetObjectName('n0IL'))
	endif
	if AR then
		call ColorizeStringMode(GetObjectName('n0IQ'))
	endif
	if VR then
		call ColorizeStringMode(GetObjectName('n0IM'))
	endif
	if MR then
		call ColorizeStringMode(GetObjectName('n0IE'))
	endif
	if TR then
		call ColorizeStringMode(GetObjectName('n0IB'))
	endif
	if SP then
		call ColorizeStringMode(GetObjectName('n0IO'))
	endif
	if AA then
		call ColorizeStringMode(GetObjectName('n0IU'))
	endif
	if AS then
		call ColorizeStringMode(GetObjectName('n0IP'))
	endif
	if AI then
		call ColorizeStringMode(GetObjectName('n0IS'))
	endif
	if RO then
		call ColorizeStringMode(GetObjectName('n0IT'))
	endif
	if MO then
		call ColorizeStringMode(GetObjectName('n032'))
	endif
	if DU then
		call ColorizeStringMode(GetObjectName('n0IX'))
	endif
	if ID then
		call ColorizeStringMode(GetObjectName('n0IZ'))
	endif
	if NP then
		call ColorizeStringMode(GetObjectName('n0J6'))
	endif
	if SC then
		call ColorizeStringMode(GetObjectName('n0J7'))
	endif
	if EM then
		call ColorizeStringMode(GetObjectName('n0J9'))
	endif
	if SH then
		call ColorizeStringMode(GetObjectName('n0JA'))
	endif
	if RV then
		call ColorizeStringMode(GetObjectName('n0IW'))
	endif
	if OM then
		call ColorizeStringMode(GetObjectName('n0IV'))
	endif
	if NM then
		call ColorizeStringMode(GetObjectName('n0IR'))
	endif
	if NB then
		call ColorizeStringMode(GetObjectName('n0JB'))
	endif
	if NT then
		call ColorizeStringMode(GetObjectName('n0J8'))
	endif
	if NS then
		call ColorizeStringMode(GetObjectName('n0JC'))
	endif
	if NR then
		call ColorizeStringMode(GetObjectName('n0JF'))
	endif
	if SD then
		call ColorizeStringMode(GetObjectName('n0J0'))
	endif
	if PM then
		call ColorizeStringMode(GetObjectName('n0IY'))
	endif
	if OI then
		call ColorizeStringMode(GetObjectName('n0J5'))
	endif
	if MI then
		call ColorizeStringMode(GetObjectName('n0J4'))
	endif
	if FR then
		call ColorizeStringMode(GetObjectName('n0JD'))
	endif
	if ER then
		call ColorizeStringMode(GetObjectName('n0JE'))
	endif
	if RS then
		call ColorizeStringMode(GetObjectName('n0J1'))
	endif
	if SO then
		call ColorizeStringMode(GetObjectName('n0J2'))
	endif
	if ZM then
		call ColorizeStringMode(GetObjectName('n0KA'))
	endif
	if CP then
		call ColorizeStringMode(GetObjectName('n0KC'))
	endif
	if UB then
		call ColorizeStringMode(GetObjectName('n0L2'))
	endif
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00," ")
	if not isAuto then
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00,Players_Color[GetPlayerId(PlayerModeTyper)]+(Players_Name[GetPlayerId((PlayerModeTyper))])+"|r"+" "+GetObjectName('n061')+" "+FullModesString)
	else
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00,GetObjectName('n0HN')+" "+FullModesString)
	endif
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00,GetObjectName('n063')+" -gameinfo.")
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00," ")
	call RunIfTrue("Func1423",SP)
	call RunIfTrue("Func1424",RS)
	call RunIfTrue("Func1442",UB)
	call RunIfTrue("Func1420",DM)
	call RunIfTrue("Func1413",MM)
	call RunIfTrue("Func1428",SH)
	call RunIfTrue("Func1425",AA)
	call RunIfTrue("Func1430",AI)
	call RunIfTrue("Func1429",AS)
	call RunIfTrue("Func1432",RO)
	call RunIfTrue("Func1431",MO)
	call RunIfTrue("Func1422",DU)
	call RunIfTrue("Func1383",AR)
	call RunIfTrue("Func1390",VR)
	call RunIfTrue("Func1306",AP)
	call RunIfTrue("Func1414",TR)
	call RunIfTrue("Func1405",RV)
	call RunIfTrue("Func1395",LM)
	call RunIfTrue("Func1402",XL)
	call RunIfTrue("ModeCM_Init",CM)
	call RunIfTrue("Func1361",RD)
	call RunIfTrue("Func1381",SD)
	call RunIfTrue("Func1421",MR)
	call RunIfTrue("Func1433",ID)
	call RunIfTrue("Func1435",NP)
	call RunIfTrue("Func1436",SC)
	call RunIfTrue("Func1434",EM)
	call RunIfTrue("Func1440",OM)
	call RunIfTrue("Func1441",NB)
	call RunIfTrue("Func1444",NT)
	call RunIfTrue("Func1443",NM)
	call RunIfTrue("Func1447",SO)
	call RunIfTrue("Func1445",NS)
	call RunIfTrue("Func1446",NR)
	call RunIfTrue("Func1448",PM)
	call RunIfTrue("Func1451",OI)
	call RunIfTrue("Func1454",MI)
	call RunIfTrue("Func1455",FR)
	call RunIfTrue("Func1456",ER)
	call RunIfTrue("Func1377",CD)
	call RunIfTrue("Func1458",ZM)
	call RunIfTrue("Func1466",CP)
	call RunIfTrue("Func1485",TT)
	set boolean048=true
	call Func0254(0,0,false)
	if Mode_CM==false and boolean060==false then
		call Func1297()
	endif
	if SO==false then
		set booleans025[0]=true
		set booleans025[1]=true
		set booleans025[2]=true
		set booleans025[3]=true
		set booleans025[4]=true
		set booleans025[5]=true
		set booleans025[6]=true
		set booleans025[7]=true
		set booleans025[8]=true
		set booleans025[9]=true
		set booleans025[10]=true
		set booleans025[11]=true
		set booleans025[12]=true
		set booleans025[13]=true
		set booleans025[14]=true
		set booleans025[15]=true
		set booleans025[16]=true
	endif
endfunction

function Func1304 takes nothing returns nothing
	call PickMode(GetEventPlayerChatString(),false)
endfunction

function Func1305 takes nothing returns boolean
	if(CommandString)!=""and boolean048==false then
		set boolean104=true
		call PickMode("-"+(CommandString),true)
	else
		call TriggerRegisterPlayerChatEvent(trigger063,PlayerModeTyper,"-",false)
	endif
	return false
endfunction

function Func1306 takes nothing returns nothing
	local location spawnscrg=GetRectCenter(rect029)
	local location spawnsent=GetRectCenter(rect030)
	local integer x=1
	set boolean006=true
	set integer027=150
	loop
		exitwhen x>5
		if IsPlayer(Sentinels[x])then
			call CreateUnitAtLoc(Sentinels[x],'n00C',spawnsent,270)
		endif
		if IsPlayer(Scourges[x])then
			call CreateUnitAtLoc(Scourges[x],'n00C',spawnscrg,270)
		endif
		set x=x+1
	endloop
	call RemoveLocation(spawnscrg)
	call RemoveLocation(spawnsent)
	set spawnscrg=null
	set spawnsent=null
endfunction

function Func1307 takes nothing returns integer
	if player016==Sentinels[1]then
		return 1
	endif
	return 2
endfunction

function Func1308 takes string S,real XN2,real XS2,real XT2,real XR2,real XP2,boolean XQ2,integer r,integer g,integer b returns image
	set image001=CreateImage(S,XN2,XS2,0,XT2-(XN2/2),XR2-(XS2/2),XP2,0,0,0,2)
	call SetImageRenderAlways(image001,true)
	call ShowImage(image001,XQ2)
	call SetImageColor(image001,r,g,b,255)
	return image001
endfunction

function Func1309 takes image i returns nothing
	call ShowImage(i,false)
	call DestroyImage(i)
endfunction

function Func1310 takes integer YI2 returns nothing
	local real x=real244+40
	local real y=real245-50
	local integer Y12=255
	local integer YO2=0
	local integer Y22=0
	local integer Y32=0
	local integer Y42=0
	local integer Y52=255
	local integer r
	local integer g
	local integer b
	if YI2==1 then
		set r=Y12
		set g=YO2
		set b=Y22
		set image002=Func1308("Fonts\\B.blp",90,90,x-40,y,0,true,r,g,b)
		set image003=Func1308("Fonts\\A.blp",90,90,x,y,0,true,r,g,b)
		set image004=Func1308("Fonts\\N.blp",90,90,x+50,y,0,true,r,g,b)
	elseif YI2==2 then
		set r=Y32
		set g=Y42
		set b=Y52
		call Func1309(image002)
		call Func1309(image003)
		call Func1309(image004)
		set image002=Func1308("Fonts\\P.blp",90,90,x-60,y,0,true,r,g,b)
		set image003=Func1308("Fonts\\I.blp",90,90,x-20,y,0,true,r,g,b)
		set image004=Func1308("Fonts\\C.blp",90,90,x,y,0,true,r,g,b)
		set image005=Func1308("Fonts\\K.blp",90,90,x+45,y,0,true,r,g,b)
	elseif YI2==3 then
		set r=Y12
		set g=YO2
		set b=Y22
		call Func1309(image002)
		call Func1309(image003)
		call Func1309(image004)
		call Func1309(image005)
		set image002=Func1308("Fonts\\B.blp",90,90,x-40,y,0,true,r,g,b)
		set image003=Func1308("Fonts\\A.blp",90,90,x,y,0,true,r,g,b)
		set image004=Func1308("Fonts\\N.blp",90,90,x+50,y,0,true,r,g,b)
	elseif YI2==4 then
		set r=Y32
		set g=Y42
		set b=Y52
		call Func1309(image002)
		call Func1309(image003)
		call Func1309(image004)
		set image002=Func1308("Fonts\\P.blp",90,90,x-60,y,0,true,r,g,b)
		set image003=Func1308("Fonts\\I.blp",90,90,x-20,y,0,true,r,g,b)
		set image004=Func1308("Fonts\\C.blp",90,90,x,y,0,true,r,g,b)
		set image005=Func1308("Fonts\\K.blp",90,90,x+45,y,0,true,r,g,b)
	elseif YI2==5 then
		set r=Y12
		set g=YO2
		set b=Y22
		call Func1309(image002)
		call Func1309(image003)
		call Func1309(image004)
		call Func1309(image005)
		set image002=Func1308("Fonts\\B.blp",90,90,x-40,y,0,true,r,g,b)
		set image003=Func1308("Fonts\\A.blp",90,90,x,y,0,true,r,g,b)
		set image004=Func1308("Fonts\\N.blp",90,90,x+50,y,0,true,r,g,b)
	elseif YI2==6 then
		set r=Y32
		set g=Y42
		set b=Y52
		call Func1309(image002)
		call Func1309(image003)
		call Func1309(image004)
		set image002=Func1308("Fonts\\P.blp",90,90,x-60,y,0,true,r,g,b)
		set image003=Func1308("Fonts\\I.blp",90,90,x-20,y,0,true,r,g,b)
		set image004=Func1308("Fonts\\C.blp",90,90,x,y,0,true,r,g,b)
		set image005=Func1308("Fonts\\K.blp",90,90,x+45,y,0,true,r,g,b)
	elseif YI2==7 then
		call Func1309(image002)
		call Func1309(image003)
		call Func1309(image004)
		call Func1309(image005)
	endif
endfunction

function Func1311 takes integer i,integer Y72 returns string
	if i<0 then
		set i=0
	endif
	if GetTime()<15 then
		return "|c00555555"+I2S(i)
	endif
	if integer440==3 then
		return "|c00555555"+I2S(i)
	endif
	if integer440==1 and Y72!=Func1307()then
		return "|c00555555"+I2S(i)
	elseif integer440==2 and Y72!=Func1307()then
		return "|c00555555"+I2S(i)
	elseif i==0 then
		return "|c00555555"+I2S(i)
	elseif i<6 then
		return "|c00ff0303"+I2S(i)
	else
		return I2S(i)
	endif
endfunction

function ModeCM_UpdateBoard takes nothing returns boolean
	local multiboarditem mbi
	local integer i
	local integer row
	local integer column
	local integer CM_Column=7
	local integer CM_Row=0
	set row=1
	set column=CM_Row
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemWidth(mbi,0.5)
	call MultiboardSetItemValue(mbi,Players_Color[GetPlayerId(Sentinels[1])]+Players_Name[GetPlayerId(Sentinels[1])]+"|r")
	call MultiboardReleaseItem(mbi)
	set row=row+2
	set column=CM_Row
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,"|c006699CC"+GetObjectName('n0EV'))
	call MultiboardSetItemWidth(mbi,0.035)
	call MultiboardReleaseItem(mbi)
	set i=0
	set row=row
	set column=CM_Row+i+1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers124[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers124[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set i=1
	set column=CM_Row+i+1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers124[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers124[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set i=2
	set column=CM_Row+i+1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers124[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers124[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set i=3
	set column=CM_Row+i+1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers124[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers124[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set i=4
	set column=CM_Row+i+1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers124[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers124[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set row=row+2
	set column=CM_Row
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,"|c006699CC"+GetObjectName('n0EX'))
	call MultiboardSetItemWidth(mbi,0.035)
	call MultiboardReleaseItem(mbi)
	set i=0
	set row=row
	set column=CM_Row+i+1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers126[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers126[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set i=1
	set column=CM_Row+i+1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers126[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers126[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set i=2
	set column=CM_Row+i+1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers126[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers126[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set i=3
	set column=CM_Row+i+1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers126[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers126[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set i=4
	set column=CM_Row+i+1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers126[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers126[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set row=row+2
	set column=CM_Row
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,"|c006699CC"+GetObjectName('n0EU'))
	call MultiboardSetItemWidth(mbi,0.035)
	call MultiboardReleaseItem(mbi)
	set column=CM_Row+1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	if player016==Sentinels[1]then
		call MultiboardSetItemValue(mbi,Func1311(integer438,1))
	else
		call MultiboardSetItemValue(mbi," ")
	endif
	call MultiboardSetItemWidth(mbi,0.035)
	call MultiboardReleaseItem(mbi)
	set row=row+1
	set column=CM_Row
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,"|c006699CC"+GetObjectName('n0ET'))
	call MultiboardSetItemWidth(mbi,0.035)
	call MultiboardReleaseItem(mbi)
	set column=CM_Row+1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,Func1311(integers123[1],1))
	call MultiboardSetItemWidth(mbi,0.035)
	call MultiboardReleaseItem(mbi)
	set row=row+2
	set column=CM_Row
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,"|c006699CC"+GetObjectName('n0EY'))
	call MultiboardSetItemWidth(mbi,0.035)
	call MultiboardReleaseItem(mbi)
	set column=CM_Row+1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	if GetTime()<15 then
		call MultiboardSetItemValue(mbi,"|c00555555"+GetObjectName('n0F1'))
	elseif integer440==1 then
		call MultiboardSetItemValue(mbi,GetObjectName('n0F4'))
	elseif integer440==2 then
		call MultiboardSetItemValue(mbi,"|c00555555"+GetObjectName('n0F1'))
	else
		call MultiboardSetItemValue(mbi,"|c00555555"+GetObjectName('n0F2'))
	endif
	call MultiboardSetItemWidth(mbi,0.035)
	call MultiboardReleaseItem(mbi)
	set row=1
	set column=CM_Column
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemWidth(mbi,1.5)
	call MultiboardSetItemValue(mbi,"   "+Players_Color[GetPlayerId(Scourges[1])]+(Players_Name[GetPlayerId((Scourges[1]))])+"|r")
	call MultiboardReleaseItem(mbi)
	set row=row+2
	set column=CM_Column-1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,"|c006699CC"+" "+GetObjectName('n0EV'))
	call MultiboardSetItemWidth(mbi,0.035)
	call MultiboardReleaseItem(mbi)
	set i=0
	set column=CM_Column+i+1-1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers125[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers125[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set i=1
	set column=CM_Column+i+1-1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers125[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers125[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set i=2
	set column=CM_Column+i+1-1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers125[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers125[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set i=3
	set column=CM_Column+i+1-1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers125[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers125[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set i=4
	set column=CM_Column+i+1-1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers125[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers125[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set row=row+2
	set column=CM_Column-1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,"|c006699CC"+" "+GetObjectName('n0EX'))
	call MultiboardSetItemWidth(mbi,0.035)
	call MultiboardReleaseItem(mbi)
	set i=0
	set column=CM_Column+i+1-1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers127[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers127[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set i=1
	set column=CM_Column+i+1-1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers127[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers127[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set i=2
	set column=CM_Column+i+1-1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers127[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers127[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set i=3
	set column=CM_Column+i+1-1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers127[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers127[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set i=4
	set column=CM_Column+i+1-1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemWidth(mbi,0.015)
	if integers127[i]>0 then
		call MultiboardSetItemStyle(mbi,false,true)
		call MultiboardSetItemIcon(mbi,Hero_Icon[integers127[i]])
	endif
	call MultiboardReleaseItem(mbi)
	set row=row+2
	set column=CM_Column-2
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,"|c006699CC"+GetObjectName('n0EU'))
	call MultiboardSetItemWidth(mbi,0.035)
	call MultiboardReleaseItem(mbi)
	set column=CM_Column-1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	if player016==Scourges[1]then
		call MultiboardSetItemValue(mbi,Func1311(integer438,2))
	else
		call MultiboardSetItemValue(mbi," ")
	endif
	call MultiboardSetItemWidth(mbi,0.035)
	call MultiboardReleaseItem(mbi)
	set row=row+1
	set column=CM_Column-2
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,"|c006699CC"+GetObjectName('n0ET'))
	call MultiboardSetItemWidth(mbi,0.035)
	call MultiboardReleaseItem(mbi)
	set column=CM_Column-1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,Func1311(integers123[2],2))
	call MultiboardSetItemWidth(mbi,0.035)
	call MultiboardReleaseItem(mbi)
	set row=row+2
	set column=CM_Column-2
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	call MultiboardSetItemValue(mbi,"|c006699CC"+GetObjectName('n0EY'))
	call MultiboardSetItemWidth(mbi,0.035)
	call MultiboardReleaseItem(mbi)
	set column=CM_Column-1
	set mbi=MultiboardGetItem(CMBoard,row,column)
	call MultiboardSetItemStyle(mbi,true,false)
	if GetTime()<15 then
		call MultiboardSetItemValue(mbi,"|c00555555"+GetObjectName('n0F1'))
	elseif integer440==2 then
		call MultiboardSetItemValue(mbi,GetObjectName('n0F4'))
	elseif integer440==1 then
		call MultiboardSetItemValue(mbi,"|c00555555"+GetObjectName('n0F1'))
	else
		call MultiboardSetItemValue(mbi,"|c00555555"+GetObjectName('n0F2'))
	endif
	call MultiboardSetItemWidth(mbi,0.035)
	call MultiboardReleaseItem(mbi)
	return false
endfunction

function ModeCM_CreateBoard takes nothing returns nothing
	local integer numRows=12
	local integer numCols=14
	local trigger t=CreateTrigger()
	local integer i
	local multiboarditem mbi
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerAddCondition(t,Condition(function ModeCM_UpdateBoard))
	set CMBoard=CreateMultiboard()
	call MultiboardSetItemsWidth(CMBoard,0.015)
	call MultiboardSetRowCount(CMBoard,numRows)
	call MultiboardSetColumnCount(CMBoard,numCols)
	call MultiboardSetTitleText(CMBoard,GetObjectName('n0K6'))
	call MultiboardSetItemsStyle(CMBoard,false,false)
	call MultiboardMinimize(CMBoard,false)
	call MultiboardDisplay(CMBoard,true)
	set i=0
	loop
		exitwhen i>numCols
		set mbi=MultiboardGetItem(CMBoard,0,i)
		call MultiboardSetItemWidth(mbi,0.015)
		call MultiboardReleaseItem(mbi)
		set i=i+1
	endloop
	set t=null
	set mbi=null
endfunction

function Func1314 takes nothing returns boolean
	local unit YC2=GetSoldUnit()
	local player p=GetOwningPlayer(YC2)
	local integer i
	local real x
	local real y
	local real a
	if GetUnitTypeId(YC2)=='h06N' and IsPlayerAlly(GetOwningPlayer(YC2),GetOwningPlayer(GetSellingUnit()))then
		if Players_Hero[GetPlayerId(p)]!=null then
			call Error(p,GetObjectName('n0F3'))
			call KillUnit(YC2)
			set YC2=null
			set p=null
			return false
		endif
		set x=GetUnitX(GetSellingUnit())
		set y=GetUnitY(GetSellingUnit())
		set i=Func0097(GetUnitTypeId(GetSellingUnit()))
		set a=GetUnitFacing(GetSellingUnit())
		call RemoveUnit(GetSellingUnit())
		call CreateUnit(p,i,x,y,a)
	endif
	if GetUnitTypeId(YC2)=='h06N' then
		call KillUnit(YC2)
	endif
	if Players_Hero[GetPlayerId(Sentinels[1])]!=null and Players_Hero[GetPlayerId(Sentinels[2])]!=null and Players_Hero[GetPlayerId(Sentinels[3])]!=null and Players_Hero[GetPlayerId(Sentinels[4])]!=null and Players_Hero[GetPlayerId(Sentinels[5])]!=null and Players_Hero[GetPlayerId(Scourges[1])]!=null and Players_Hero[GetPlayerId(Scourges[2])]!=null and Players_Hero[GetPlayerId(Scourges[3])]!=null and Players_Hero[GetPlayerId(Scourges[4])]!=null and Players_Hero[GetPlayerId(Scourges[5])]!=null then
		call CleanTrigger(GetTriggeringTrigger())
	endif
	set YC2=null
	set p=null
	return false
endfunction

function Func1315 takes nothing returns boolean
	set boolean108=true
	call CleanTrigger(GetTriggeringTrigger())
	call DestroyMultiboard(CMBoard)
	call DisplayLeaderBoard()
	call CreateObsBoard()
	return false
endfunction

function ModeCM_SpawnSound takes nothing returns boolean
	call CleanTrigger(GetTriggeringTrigger())
	call PlaySoundBJ(sound032)
	return false
endfunction

function Func1316 takes nothing returns boolean
	local trigger t=CreateTrigger()
	local integer Seconds
	local integer Minutes
	local string time
	local unit u
	local real x
	local real y
	local integer i
	local real d
	local real YF2=GetRectCenterX(Hero_Creation_NE)
	local real YG2=GetRectCenterY(Hero_Creation_NE)
	local real YH2=GetRectCenterX(Hero_Creation_UD)
	local real YZ2=GetRectCenterY(Hero_Creation_UD)
	set integer440=3
	set boolean092=true
	call CleanTrigger(GetTriggeringTrigger())
	set i=0
	loop
		exitwhen i==5
		set x=YF2-300+i*150
		set y=YG2
		set u=CreateUnit(Sentinels[0],Dummy_ID[integers126[i]],x,y,270)
		call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_SELL)
		call PanCameraToTimedForPlayer(Sentinels[i+1],YF2,YG2,0)
		call CreateUnit(Sentinels[i+1],'n00C',YF2,YG2,270)
		call SetPlayerState(Sentinels[i+1],PLAYER_STATE_RESOURCE_GOLD,integers122[GetPlayerId(Sentinels[i+1])]-250)
		set i=i+1
	endloop
	set i=0
	loop
		exitwhen i==5
		set x=YH2-300+i*150
		set y=YZ2
		set u=CreateUnit(Scourges[0],Dummy_ID[integers127[i]],x,y,270)
		call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_SELL)
		call PanCameraToTimedForPlayer(Scourges[i+1],YH2,YZ2,0)
		call CreateUnit(Scourges[i+1],'n00C',YH2,YZ2,270)
		call SetPlayerState(Scourges[i+1],PLAYER_STATE_RESOURCE_GOLD,integers122[GetPlayerId(Scourges[i+1])]-250)
		set i=i+1
	endloop
	call TriggerAddCondition(t,Condition(function Func1314))
	call SuspendTimeOfDay(false)
	call EnableTrigger(trigger052)
	call EnableTrigger(trigger050)
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,10,false)
	call TriggerAddCondition(t,Condition(function Func1315))
	set integer027=90
	call Func1297()
	call Func0066()
	set t=null
	set u=null
	return false
endfunction

function Func1317 takes integer YW2,integer i returns nothing
	call Func0062(Hero_ID[i])
	if YW2==1 then
		set integers126[integer445]=i
		set integer445=integer445+1
	else
		set integers127[integer446]=i
		set integer446=integer446+1
	endif
endfunction

function Func1318 takes integer YW2 returns nothing
	local integer i=GetSetElement()
	loop
		if booleans001[i]==false then
			set booleans001[i]=true
			call Func1317(YW2,i)
			return
		endif
	endloop
endfunction

function Func1319 takes integer YW2,integer i returns nothing
	call Traffic_RegisterData("Ban"+I2S(GetPlayerId(GetOwningPlayer(GetSoldUnit()))),Hero_ID[i])
	call Func0062(Hero_ID[i])
	if YW2==1 then
		set integers124[integer443]=i
		set integer443=integer443+1
	else
		set integers125[integer444]=i
		set integer444=integer444+1
	endif
endfunction

function Func1320 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player017
	local player YL2=player018
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>40 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1317(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1318(YW2)
		endif
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterTimerEvent(t,1,false)
		call TriggerAddCondition(t,Condition(function Func1316))
		call Func1310(7)
		call MultiboardSetTitleText(CMBoard,GetObjectName('n0K6'))
		call SetPlayerState(Sentinels[1],PLAYER_STATE_RESOURCE_GOLD,0)
		call SetPlayerState(Scourges[1],PLAYER_STATE_RESOURCE_GOLD,0)
	else
		if GetTriggerEvalCount(t)>40 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1321 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player018
	local player YL2=player017
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>40 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1317(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1318(YW2)
		endif
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1320))
		set integer438=40
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call SetPlayerState(YK2,PLAYER_STATE_RESOURCE_GOLD,0)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
	else
		if GetTriggerEvalCount(t)>40 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1322 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player018
	local player YL2=player018
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>30 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1319(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1319((YW2),-1)
		endif
		call Func1310(6)
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1321))
		set integer438=40
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
		call MultiboardSetTitleText(CMBoard,GetObjectName('n0K6')+" - |c00ffffff"+GetObjectName('n0MY'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,"|c006699CC"+GetObjectName('n0MZ')+"|r")
	else
		if GetTriggerEvalCount(t)>30 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1323 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player017
	local player YL2=player018
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>30 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1319(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1319((YW2),-1)
		endif
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1322))
		set integer438=30
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call SetPlayerState(YK2,PLAYER_STATE_RESOURCE_GOLD,0)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
	else
		if GetTriggerEvalCount(t)>30 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1324 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player017
	local player YL2=player017
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>40 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1317(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1318(YW2)
		endif
		call Func1310(5)
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1323))
		set integer438=30
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
		call MultiboardSetTitleText(CMBoard,GetObjectName('n0K6')+" - |c00ffffff"+GetObjectName('n0N0'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,"|c006699CC"+GetObjectName('n0N1')+"|r")
	else
		if GetTriggerEvalCount(t)>40 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1325 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player018
	local player YL2=player017
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>40 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1317(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1318(YW2)
		endif
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1324))
		set integer438=40
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call SetPlayerState(YK2,PLAYER_STATE_RESOURCE_GOLD,0)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
	else
		if GetTriggerEvalCount(t)>40 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1326 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player017
	local player YL2=player018
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>40 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1317(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1318(YW2)
		endif
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1325))
		set integer438=40
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call SetPlayerState(YK2,PLAYER_STATE_RESOURCE_GOLD,0)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
	else
		if GetTriggerEvalCount(t)>40 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1327 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player018
	local player YL2=player017
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>40 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1317(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1318(YW2)
		endif
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1326))
		set integer438=40
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call SetPlayerState(YK2,PLAYER_STATE_RESOURCE_GOLD,0)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
	else
		if GetTriggerEvalCount(t)>40 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1328 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player018
	local player YL2=player018
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>30 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1319(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1319((YW2),-1)
		endif
		call Func1310(4)
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1327))
		set integer438=40
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
		call MultiboardSetTitleText(CMBoard,GetObjectName('n0K6')+" - |c00ffffff"+GetObjectName('n0L8'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,"|c006699CC"+GetObjectName('n0L3')+"|r")
	else
		if GetTriggerEvalCount(t)>30 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1329 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player017
	local player YL2=player018
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>30 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1319(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1319((YW2),-1)
		endif
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1328))
		set integer438=30
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call SetPlayerState(YK2,PLAYER_STATE_RESOURCE_GOLD,0)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
	else
		if GetTriggerEvalCount(t)>30 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1330 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player018
	local player YL2=player017
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>30 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1319(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1319((YW2),-1)
		endif
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1329))
		set integer438=30
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call SetPlayerState(YK2,PLAYER_STATE_RESOURCE_GOLD,0)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
	else
		if GetTriggerEvalCount(t)>30 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1331 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player017
	local player YL2=player018
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>30 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1319(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1319((YW2),-1)
		endif
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1330))
		set integer438=30
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call SetPlayerState(YK2,PLAYER_STATE_RESOURCE_GOLD,0)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
	else
		if GetTriggerEvalCount(t)>30 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1332 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player017
	local player YL2=player017
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>40 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1317(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1318(YW2)
		endif
		call Func1310(3)
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1331))
		set integer438=30
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
		call MultiboardSetTitleText(CMBoard,GetObjectName('n0K6')+" - |c00ffffff"+GetObjectName('n0L7'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,"|c006699CC"+GetObjectName('n0L4')+"|r")
	else
		if GetTriggerEvalCount(t)>40 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1333 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player018
	local player YL2=player017
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>40 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1317(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1318(YW2)
		endif
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1332))
		set integer438=40
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call SetPlayerState(YK2,PLAYER_STATE_RESOURCE_GOLD,0)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
	else
		if GetTriggerEvalCount(t)>40 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1334 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player018
	local player YL2=player018
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>40 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1317(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1318(YW2)
		endif
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1333))
		set integer438=40
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
	else
		if GetTriggerEvalCount(t)>40 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1335 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player017
	local player YL2=player018
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>40 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1317(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1318(YW2)
		endif
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1334))
		set integer438=40
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call SetPlayerState(YK2,PLAYER_STATE_RESOURCE_GOLD,0)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
	else
		if GetTriggerEvalCount(t)>40 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1336 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player018
	local player YL2=player017
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>30 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1319(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1319((YW2),-1)
		endif
		call Func1310(2)
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1335))
		set integer438=40
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call SetPlayerState(YK2,PLAYER_STATE_RESOURCE_GOLD,0)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
		call MultiboardSetTitleText(CMBoard,GetObjectName('n0K6')+" - |c00ffffff"+GetObjectName('n0L9'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,"|c006699CC"+GetObjectName('n0L5')+"|r")
	else
		if GetTriggerEvalCount(t)>30 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1337 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player017
	local player YL2=player018
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>30 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1319(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1319((YW2),-1)
		endif
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1336))
		set integer438=30
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call SetPlayerState(YK2,PLAYER_STATE_RESOURCE_GOLD,0)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
	else
		if GetTriggerEvalCount(t)>30 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1338 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player018
	local player YL2=player017
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>30 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1319(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1319((YW2),-1)
		endif
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1337))
		set integer438=30
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call SetPlayerState(YK2,PLAYER_STATE_RESOURCE_GOLD,0)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
	else
		if GetTriggerEvalCount(t)>30 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1339 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer YW2=integer440
	local player YK2=player017
	local player YL2=player018
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t)>30 and integers123[YW2]==0)then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
			set t=null
			return false
		endif
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
			call Func1319(YW2,GetUnitPointValue(GetSoldUnit()))
			call RemoveUnit(GetSoldUnit())
		else
			call Func1319((YW2),-1)
		endif
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1338))
		set integer438=30
		set player016=YL2
		set integer440=Func1307()
		call SetPlayerState(YL2,PLAYER_STATE_RESOURCE_GOLD,250)
		call SetPlayerState(YK2,PLAYER_STATE_RESOURCE_GOLD,0)
		call Func0111(YL2,"Sound\\Interface\\Rescue.wav")
	else
		if GetTriggerEvalCount(t)>30 then
			if integers123[YW2]>0 then
				set integers123[YW2]=integers123[YW2]-1
			endif
		else
			set integer438=integer438-1
		endif
	endif
	set t=null
	set YL2=null
	return false
endfunction

function Func1340 takes nothing returns boolean
	local trigger t=CreateTrigger()
	set boolean107=true
	call CleanTrigger(GetTriggeringTrigger())
	if boolean106==false then
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(player017)]+(Players_Name[GetPlayerId((player017))])+"|r "+GetObjectName('n0EA'))
	endif
	set player016=player017
	set integer438=30
	call SetPlayerState(player017,PLAYER_STATE_RESOURCE_GOLD,250)
	call Func0111(player017,"Sound\\Interface\\Rescue.wav")
	call Func1310(1)
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,"|c006699CC"+GetObjectName('n0L6')+"|r")
	call MultiboardSetTitleText(CMBoard,GetObjectName('n0K6')+" - |c00ffffff"+GetObjectName('n0LA'))
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func1339))
	set t=null
	return false
endfunction

function ModeCM_Init takes nothing returns nothing
	local trigger t
	local location spawnscrg=GetRectCenter(rect029)
	local location spawnsent=GetRectCenter(rect030)
	local integer x=1
	local player p
	loop
		exitwhen x>5
		if IsPlayer(Sentinels[x])then
			call CreateUnitAtLoc(Sentinels[x],'n00C',spawnsent,270)
		endif
		if IsPlayer(Scourges[x])then
			call CreateUnitAtLoc(Scourges[x],'n00C',spawnscrg,270)
		endif
		set x=x+1
	endloop
	call RemoveLocation(spawnscrg)
	call RemoveLocation(spawnsent)
	set Mode_CM=true
	set boolean039=false
	set boolean038=false
	set boolean092=false
	set boolean102=false
	call SuspendTimeOfDay(true)
	call DisableTrigger(trigger052)
	call DisableTrigger(trigger050)
	if boolean125==false then
		call Func1071()
	endif
	set integers122[GetPlayerId(Sentinels[1])]=GetPlayerState(Sentinels[1],PLAYER_STATE_RESOURCE_GOLD)
	set integers122[GetPlayerId(Sentinels[2])]=GetPlayerState(Sentinels[2],PLAYER_STATE_RESOURCE_GOLD)
	set integers122[GetPlayerId(Sentinels[3])]=GetPlayerState(Sentinels[3],PLAYER_STATE_RESOURCE_GOLD)
	set integers122[GetPlayerId(Sentinels[4])]=GetPlayerState(Sentinels[4],PLAYER_STATE_RESOURCE_GOLD)
	set integers122[GetPlayerId(Sentinels[5])]=GetPlayerState(Sentinels[5],PLAYER_STATE_RESOURCE_GOLD)
	set integers122[GetPlayerId(Scourges[1])]=GetPlayerState(Scourges[1],PLAYER_STATE_RESOURCE_GOLD)
	set integers122[GetPlayerId(Scourges[2])]=GetPlayerState(Scourges[2],PLAYER_STATE_RESOURCE_GOLD)
	set integers122[GetPlayerId(Scourges[3])]=GetPlayerState(Scourges[3],PLAYER_STATE_RESOURCE_GOLD)
	set integers122[GetPlayerId(Scourges[4])]=GetPlayerState(Scourges[4],PLAYER_STATE_RESOURCE_GOLD)
	set integers122[GetPlayerId(Scourges[5])]=GetPlayerState(Scourges[5],PLAYER_STATE_RESOURCE_GOLD)
	call SetPlayerState(Sentinels[1],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Sentinels[2],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Sentinels[3],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Sentinels[4],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Sentinels[5],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Scourges[1],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Scourges[2],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Scourges[3],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Scourges[4],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Scourges[5],PLAYER_STATE_RESOURCE_GOLD,0)
	set integer439=GetRandomInt(1,2)
	set boolean106=false
	set integer440=integer439
	if integer439==1 then
		set player017=Sentinels[1]
		set player018=Scourges[1]
	else
		set player017=Scourges[1]
		set player018=Sentinels[1]
	endif
	set integer441=1
	set integer442=2
	set integers123[1]=110
	set integers123[2]=110
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,15-GetTime(),false)
	call TriggerAddCondition(t,Condition(function Func1340))
	call ModeCM_CreateBoard()
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,4.00,GetObjectName('n0ES'))
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,4.00,GetObjectName('n0ER'))
	set t=null
	set spawnscrg=null
	set spawnsent=null
	set p=null
endfunction

function Func1342 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	set boolean062=true
	call CleanTrigger(t)
	call DestroyFogModifier(CreateFogModifierRadius(Sentinels[0],FOG_OF_WAR_MASKED,real251,real252,700,false,false))
	call DestroyFogModifier(CreateFogModifierRadius(Scourges[0],FOG_OF_WAR_MASKED,real251,real252,700,false,false))
	set t=null
	return false
endfunction

function Func1343 takes nothing returns nothing
	local integer i=0
	loop
		exitwhen i>integer448
		call RemoveUnit(units013[i])
		set i=i+1
	endloop
endfunction

function Func1344 takes real x,real y returns nothing
	set units013[integer448]=CreateUnit(Player(0),'h06I',x,y,0)
	set integer448=integer448+1
endfunction

function Func1345 takes string S,real XN2,real XS2,real XT2,real XR2,real XP2,boolean XQ2 returns nothing
	set image001=CreateImage(S,XN2,XS2,0,XT2-(XN2/2),XR2-(XS2/2),XP2,0,0,0,2)
	call SetImageRenderAlways(image001,true)
	call ShowImage(image001,XQ2)
endfunction

function Func1346 takes integer JF2,integer r,integer g,integer b,integer a,real x,real y,integer h returns nothing
	if StringLength(I2S(JF2))>1 then
		call Func1345("Fonts\\"+SubString(I2S(JF2),0,1)+".blp",90,90,x-20,y,0,true)
		call SetImageColor(image001,r,g,b,a)
		call SaveImageHandle(HY,(h),(158),(image001))
		call Func1345("Fonts\\"+SubString(I2S(JF2),1,2)+".blp",90,90,x+20,y,0,true)
		call SetImageColor(image001,r,g,b,a)
		call SaveImageHandle(HY,(h),(159),(image001))
	else
		call Func1345("Fonts\\0.blp",90,90,x-20,y,0,true)
		call SetImageColor(image001,r,g,b,a)
		call SaveImageHandle(HY,(h),(158),(image001))
		call Func1345("Fonts\\"+SubString(I2S(JF2),0,1)+".blp",90,90,x+20,y,0,true)
		call SetImageColor(image001,r,g,b,a)
		call SaveImageHandle(HY,(h),(159),(image001))
	endif
endfunction

function Func1347 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer DC1=(LoadInteger(HY,(h),(57)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local integer Count=GetTriggerEvalCount(t)
	local integer JH2=DC1-Count
	local image JZ2=(LoadImageHandle(HY,(h),(158)))
	local image JV2=(LoadImageHandle(HY,(h),(159)))
	local integer r
	local integer g
	local integer b
	local integer a
	if Count>0 then
		call ShowImage(JZ2,false)
		call DestroyImage(JZ2)
		call ShowImage(JV2,false)
		call DestroyImage(JV2)
	endif
	if Count==DC1 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		if JH2<6 then
			set r=255
			set g=0
			set b=0
		elseif LocalPlayer==player019 or LocalPlayer==player020 then
			set r=PlayerColors_R[GetPlayerId(LocalPlayer)]
			set g=PlayerColors_G[GetPlayerId(LocalPlayer)]
			set b=PlayerColors_B[GetPlayerId(LocalPlayer)]
		else
			set r=255
			set g=255
			set b=255
		endif
		if IsPlayerAlly(player019,LocalPlayer)then
			set a=255
		else
			set a=125
		endif
		call Func1346(JH2,r,g,b,a,x,y,h)
	endif
	set t=null
	set JZ2=null
	set JV2=null
	return false
endfunction

function Func1348 takes integer DC1,real x,real y returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func1347))
	call SaveInteger(HY,(h),(57),(DC1))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call TriggerEvaluate(t)
	set t=null
endfunction

function Func1349 takes integer a,real x,real y,integer h returns nothing
	call Func1345("Fonts\\Y.blp",90,90,x-150,y,0,true)
	call SetImageColor(image001,255,0,0,a)
	call SaveImageHandle(HY,(h),(158),(image001))
	call Func1345("Fonts\\O.blp",90,90,x-110,y,0,true)
	call SetImageColor(image001,255,0,0,a)
	call SaveImageHandle(HY,(h),(159),(image001))
	call Func1345("Fonts\\U.blp",90,90,x-70,y,0,true)
	call SetImageColor(image001,255,0,0,a)
	call SaveImageHandle(HY,(h),(160),(image001))
	call Func1345("Fonts\\R.blp",90,90,x-30,y,0,true)
	call SetImageColor(image001,255,0,0,a)
	call SaveImageHandle(HY,(h),(161),(image001))
	call Func1345("Fonts\\T.blp",90,90,x+30,y,0,true)
	call SetImageColor(image001,255,0,0,a)
	call SaveImageHandle(HY,(h),(162),(image001))
	call Func1345("Fonts\\U.blp",90,90,x+70,y,0,true)
	call SetImageColor(image001,255,0,0,a)
	call SaveImageHandle(HY,(h),(163),(image001))
	call Func1345("Fonts\\R.blp",90,90,x+110,y,0,true)
	call SetImageColor(image001,255,0,0,a)
	call SaveImageHandle(HY,(h),(164),(image001))
	call Func1345("Fonts\\N.blp",90,90,x+150,y,0,true)
	call SetImageColor(image001,255,0,0,a)
	call SaveImageHandle(HY,(h),(165),(image001))
endfunction

function Func1350 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local real x
	local real y
	local integer Count=GetTriggerEvalCount(t)
	local image JZ2=(LoadImageHandle(HY,(h),(158)))
	local image JV2=(LoadImageHandle(HY,(h),(159)))
	local image JJ2=(LoadImageHandle(HY,(h),(160)))
	local image JK2=(LoadImageHandle(HY,(h),(161)))
	local image JL2=(LoadImageHandle(HY,(h),(162)))
	local image JM2=(LoadImageHandle(HY,(h),(163)))
	local image JN2=(LoadImageHandle(HY,(h),(164)))
	local image JS2=(LoadImageHandle(HY,(h),(165)))
	local integer r
	local integer g
	local integer b
	local integer a
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	if IsSentinel(p)then
		set x=real251
		set y=real252+250
	else
		set x=real253
		set y=real254+250
	endif
	if Count>0 then
		call ShowImage(JZ2,false)
		call DestroyImage(JZ2)
		call ShowImage(JV2,false)
		call DestroyImage(JV2)
		call ShowImage(JJ2,false)
		call DestroyImage(JJ2)
		call ShowImage(JK2,false)
		call DestroyImage(JK2)
		call ShowImage(JL2,false)
		call DestroyImage(JL2)
		call ShowImage(JM2,false)
		call DestroyImage(JM2)
		call ShowImage(JN2,false)
		call DestroyImage(JN2)
		call ShowImage(JS2,false)
		call DestroyImage(JS2)
	endif
	if Count==20 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		if LocalPlayer==player019 or LocalPlayer==player020 then
			set a=255
		else
			set a=0
		endif
		call Func1349(a,x,y,h)
	endif
	set t=null
	set JZ2=null
	set JV2=null
	set JJ2=null
	set JK2=null
	set JL2=null
	set JM2=null
	set JN2=null
	set JS2=null
	set p=null
	return false
endfunction

function Func1351 takes player p returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func1350))
	call SavePlayerHandle(HY,(h),(54),(p))
	call TriggerEvaluate(t)
	set t=null
endfunction

function Func1352 takes player p,integer MLI,boolean randomed returns nothing
	local integer i=Func0050(p)
	local real d
	if IsPlayer(p)==false then
		return
	endif
	if IsSentinel(p)then
		call SetUnitPosition(units012[MLI],reals016[i],reals017[i])
		set d=Func0134(GetUnitDefaultScale(units012[MLI])-0.3,0.5)
		call SetUnitScale(units012[MLI],d,d,d)
		call SetUnitFacing(units012[MLI],270)
		call UnitRemoveAbility(units012[MLI],'Amov')
	else
		call SetUnitPosition(units012[MLI],reals018[i],reals019[i])
		set d=Func0134(GetUnitDefaultScale(units012[MLI])-0.3,0.5)
		call SetUnitScale(units012[MLI],d,d,d)
		call SetUnitFacing(units012[MLI],90)
		call UnitRemoveAbility(units012[MLI],'Amov')
	endif
	call SetUnitColor(units012[MLI],GetPlayerColor(p))
	call PauseUnit(units012[MLI],true)
	call SetUnitOwner(units012[MLI],p,true)
	set booleans037[GetPlayerId(p)]=true
	set booleans036[MLI]=true
	if IsSentinel(p)then
		set Players_Hero[GetPlayerId(p)]=CreateUnit(p,Hero_ID[integers128[MLI]],GetRectCenterX(Hero_Creation_NE),GetRectCenterY(Hero_Creation_NE),0)
	else
		set Players_Hero[GetPlayerId(p)]=CreateUnit(p,Hero_ID[integers128[MLI]],GetRectCenterX(Hero_Creation_UD),GetRectCenterY(Hero_Creation_UD),0)
	endif
endfunction

function Func1353 takes nothing returns integer
	local integer i=1
	loop
		exitwhen i>24
		if booleans036[i]==false then
			return i
		endif
		set i=i+1
	endloop
	return 0
endfunction

function Func1354 takes player p returns nothing
	local integer i=1
	local boolean JU2=IsSentinel(p)
	loop
		exitwhen i==24
		if GetOwningPlayer(units012[i])==Sentinels[0]or GetOwningPlayer(units012[i])==Scourges[0]then
			if JU2 then
				call SetUnitOwner(units012[i],Sentinels[0],false)
			else
				call SetUnitOwner(units012[i],Scourges[0],false)
			endif
		endif
		set i=i+1
	endloop
endfunction

function Func1355 takes player p,unit u returns nothing
	local integer a=80
	if LocalPlayer==p then
		set a=255
	endif
	call SetUnitVertexColor(u,255,255,255,a)
endfunction

function Func1356 takes player p1,player p2 returns nothing
	local unit caster
	local real x
	local real y
	call Func1351(p1)
	call Func0111(p1,"Sound\\Interface\\Rescue.wav")
	if IsSentinel(p1)then
		if LocalPlayer==p1 then
			call PingMinimapEx(real244,real245,5,255,255,255,false)
		endif
		set caster=CreateUnit(p1,'n02A',real244-250,real245,0)
		call UnitApplyTimedLife(caster,'BTLF',20)
		call UnitAddAbility(caster,'Aloc')
		set units014[GetPlayerId(p1)]=caster
		call Func1355(p1,caster)
		if LocalPlayer==p1 then
			call ClearTextMessages()
		endif
		call DisplayTimedTextToPlayer(p1,0,0,10," ")
		call DisplayTimedTextToPlayer(p1,0,0,10," ")
		call DisplayTimedTextToPlayer(p1,0,0,20,GetObjectName('n068'))
		call DisplayTimedTextToPlayer(p1,0,0,10," ")
	else
		call Func1351(p1)
		if LocalPlayer==p1 then
			call PingMinimapEx(real246,real247,5,255,255,255,false)
		endif
		set caster=CreateUnit(p1,'n02A',real244-250,real245,0)
		call SetUnitVertexColor(caster,255,255,255,175)
		call UnitApplyTimedLife(caster,'BTLF',20)
		call UnitAddAbility(caster,'Aloc')
		set units015[GetPlayerId(p1)]=caster
		call Func1355(p1,caster)
		if LocalPlayer==p1 then
			call ClearTextMessages()
		endif
		call DisplayTimedTextToPlayer(p1,0,0,10," ")
		call DisplayTimedTextToPlayer(p1,0,0,10," ")
		call DisplayTimedTextToPlayer(p1,0,0,20,GetObjectName('n068'))
		call DisplayTimedTextToPlayer(p1,0,0,10," ")
	endif
	if p2!=null then
		call Func1351(p2)
		call Func0111(p2,"Sound\\Interface\\Rescue.wav")
		if IsSentinel(p2)then
			if LocalPlayer==p2 then
				call PingMinimapEx(real244,real245,5,255,255,255,false)
			endif
			set caster=CreateUnit(p2,'n02A',real244+250,real245,0)
			call UnitApplyTimedLife(caster,'BTLF',20)
			call UnitAddAbility(caster,'Aloc')
			set units014[GetPlayerId(p2)]=caster
			call Func1355(p2,caster)
			if LocalPlayer==p2 then
				call ClearTextMessages()
			endif
			call DisplayTimedTextToPlayer(p2,0,0,10," ")
			call DisplayTimedTextToPlayer(p2,0,0,10," ")
			call DisplayTimedTextToPlayer(p2,0,0,20,GetObjectName('n068'))
			call DisplayTimedTextToPlayer(p2,0,0,10," ")
		else
			if LocalPlayer==p2 then
				call PingMinimapEx(real246,real247,5,255,255,255,false)
			endif
			set caster=CreateUnit(p2,'n02A',real244+250,real245,0)
			call UnitApplyTimedLife(caster,'BTLF',20)
			call UnitAddAbility(caster,'Aloc')
			set units015[GetPlayerId(p2)]=caster
			call Func1355(p2,caster)
			if LocalPlayer==p2 then
				call ClearTextMessages()
			endif
			call DisplayTimedTextToPlayer(p2,0,0,10," ")
			call DisplayTimedTextToPlayer(p2,0,0,10," ")
			call DisplayTimedTextToPlayer(p2,0,0,20,GetObjectName('n068'))
			call DisplayTimedTextToPlayer(p2,0,0,10," ")
		endif
	endif
	set caster=null
endfunction

function Func1357 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer KO2=(LoadInteger(HY,(h),(25)))
	local player K22=player019
	local player K32=player020
	local integer i
	set player019=null
	set player020=null
	if KO2==0 then
		if integer447==1 then
			set player019=Sentinels[1]
		else
			set player019=Scourges[1]
		endif
		call Func1354(player019)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(player019)]+(Players_Name[GetPlayerId((player019))])+"|r"+" "+GetObjectName('n064'))
		call Func1356(player019,player020)
		call Func1348(20,real251,real252)
	elseif KO2==1 then
		if integer447==1 then
			if boolean111==false then
				set player019=Scourges[1]
				set player020=Scourges[2]
			else
				set player019=Scourges[1]
				set player020=Scourges[1]
			endif
		else
			if boolean111==false then
				set player019=Sentinels[1]
				set player020=Sentinels[2]
			else
				set player019=Sentinels[1]
				set player020=Sentinels[1]
			endif
		endif
		if booleans037[GetPlayerId(K22)]==false then
			call Func1352(K22,Func1353(),true)
		endif
		call Func1354(player019)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(player019)]+(Players_Name[GetPlayerId((player019))])+"|r"+" "+GetObjectName('n064'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(player020)]+(Players_Name[GetPlayerId((player020))])+"|r"+" "+GetObjectName('n064'))
		call Func1356(player019,player020)
		call Func1348(20,real251,real252)
	elseif KO2==2 then
		if integer447==1 then
			if boolean111==false then
				set player019=Sentinels[2]
				set player020=Sentinels[3]
			else
				set player019=Sentinels[1]
				set player020=Sentinels[1]
			endif
		else
			if boolean111==false then
				set player019=Scourges[2]
				set player020=Scourges[3]
			else
				set player019=Scourges[1]
				set player020=Scourges[1]
			endif
		endif
		if booleans037[GetPlayerId(K22)]==false then
			call Func1352(K22,Func1353(),true)
		endif
		if booleans037[GetPlayerId(K32)]==false then
			call Func1352(K32,Func1353(),true)
		endif
		call Func1354(player019)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(player019)]+(Players_Name[GetPlayerId((player019))])+"|r"+" "+GetObjectName('n064'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(player020)]+(Players_Name[GetPlayerId((player020))])+"|r"+" "+GetObjectName('n064'))
		call Func1356(player019,player020)
		call Func1348(20,real251,real252)
	elseif KO2==3 then
		if integer447==1 then
			if boolean111==false then
				set player019=Scourges[3]
				set player020=Scourges[4]
			else
				set player019=Scourges[1]
				set player020=Scourges[1]
			endif
		else
			if boolean111==false then
				set player019=Sentinels[3]
				set player020=Sentinels[4]
			else
				set player019=Sentinels[1]
				set player020=Sentinels[1]
			endif
		endif
		if booleans037[GetPlayerId(K22)]==false then
			call Func1352(K22,Func1353(),true)
		endif
		if booleans037[GetPlayerId(K32)]==false then
			call Func1352(K32,Func1353(),true)
		endif
		call Func1354(player019)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(player019)]+(Players_Name[GetPlayerId((player019))])+"|r"+" "+GetObjectName('n064'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(player020)]+(Players_Name[GetPlayerId((player020))])+"|r"+" "+GetObjectName('n064'))
		call Func1356(player019,player020)
		call Func1348(20,real251,real252)
	elseif KO2==4 then
		if integer447==1 then
			if boolean111==false then
				set player019=Sentinels[4]
				set player020=Sentinels[5]
			else
				set player019=Sentinels[1]
				set player020=Sentinels[1]
			endif
		else
			if boolean111==false then
				set player019=Scourges[4]
				set player020=Scourges[5]
			else
				set player019=Scourges[1]
				set player020=Scourges[1]
			endif
		endif
		if booleans037[GetPlayerId(K22)]==false then
			call Func1352(K22,Func1353(),true)
		endif
		if booleans037[GetPlayerId(K32)]==false then
			call Func1352(K32,Func1353(),true)
		endif
		call Func1354(player019)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(player019)]+(Players_Name[GetPlayerId((player019))])+"|r"+" "+GetObjectName('n064'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(player020)]+(Players_Name[GetPlayerId((player020))])+"|r"+" "+GetObjectName('n064'))
		call Func1356(player019,player020)
		call Func1348(20,real251,real252)
	elseif KO2==5 then
		if integer447==1 then
			if boolean111==false then
				set player019=Scourges[5]
			else
				set player019=Scourges[1]
			endif
		else
			if boolean111==false then
				set player019=Sentinels[5]
			else
				set player020=Sentinels[1]
			endif
		endif
		if booleans037[GetPlayerId(K22)]==false then
			call Func1352(K22,Func1353(),true)
		endif
		if booleans037[GetPlayerId(K32)]==false then
			call Func1352(K32,Func1353(),true)
		endif
		call Func1354(player019)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(player019)]+(Players_Name[GetPlayerId((player019))])+"|r"+" "+GetObjectName('n064'))
		call Func1356(player019,player020)
		call Func1348(20,real251,real252)
	elseif KO2==6 then
		if booleans037[GetPlayerId(K22)]==false then
			call Func1352(K22,Func1353(),true)
		endif
		call SuspendTimeOfDay(false)
	endif
	if KO2==7 then
		set boolean110=true
	endif
	if KO2==8 then
		call Func1343()
		set i=1
		loop
			exitwhen i>24
			call RemoveUnit(units012[i])
			set i=i+1
		endloop
		call Func0438()
		call Func1243(60)
		call UnitApplyTimedLife(units011[1],'BTLF',2)
		call UnitApplyTimedLife(units011[2],'BTLF',2)
		call UnitApplyTimedLife(units011[3],'BTLF',2)
		call UnitApplyTimedLife(units011[4],'BTLF',2)
		call UnitApplyTimedLife(units011[5],'BTLF',2)
		call UnitApplyTimedLife(units011[6],'BTLF',2)
		call UnitApplyTimedLife(units011[7],'BTLF',2)
		call UnitApplyTimedLife(units011[8],'BTLF',2)
		call UnitApplyTimedLife(units011[9],'BTLF',2)
		call UnitApplyTimedLife(units011[10],'BTLF',2)
		call UnitApplyTimedLife(units011[11],'BTLF',2)
		call UnitApplyTimedLife(units011[12],'BTLF',2)
		call CleanTrigger(trigger064)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		set t=CreateTrigger()
		call TriggerRegisterTimerEvent(t,7,false)
		call TriggerAddCondition(t,Condition(function Func1342))
	else
		call SaveInteger(HY,(h),(25),(KO2+1))
	endif
	set t=null
	set K22=null
	set K32=null
	return false
endfunction

function Func1358 takes unit Hero returns integer
	local integer i=1
	loop
		exitwhen i>24
		if units012[i]==Hero then
			return i
		endif
		set i=i+1
	endloop
	return 0
endfunction

function Func1359 takes nothing returns boolean
	local unit YC2=GetSoldUnit()
	local player p=GetOwningPlayer(YC2)
	call KillUnit(YC2)
	if booleans037[GetPlayerId(p)] then
		call Error(p,GetObjectName('n0D7'))
		set YC2=null
		set p=null
		return false
	endif
	if p!=player019 and p!=player020 then
		call Error(p,GetObjectName('n0CR'))
		set YC2=null
		set p=null
		return false
	endif
	if GetUnitTypeId(YC2)=='h06N' then
		call Func1352(p,Func1358(GetSellingUnit()),false)
		call KillUnit(units014[GetPlayerId(p)])
		call KillUnit(units015[GetPlayerId(p)])
	endif
	set YC2=null
	set p=null
	return false
endfunction

function ModeRD_Selected takes nothing returns boolean
	local unit K62=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local player p=GetOwningPlayer(K62)
	if GetSpellAbilityId()=='A0ZB' and Func1358(target)!=0 then
		if(p==player019 or p==player020)and booleans037[GetPlayerId(p)]==false and booleans036[Func1358(target)]==false then
			call Func1352(p,Func1358(target),false)
			call RemoveUnit(K62)
		endif
	endif
	set target=null
	set p=null
	return false
endfunction

function Func1360 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h
	local integer i=1
	call CleanTrigger(t)
	call SuspendTimeOfDay(true)
	set integer447=GetRandomInt(1,2)
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00," ")
	if integer447==1 then
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,GetObjectName('n05K')+" "+Players_Color[GetPlayerId(Sentinels[0])]+GetObjectName('n065')+"|r"+" "+GetObjectName('n066'))
	else
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,GetObjectName('n05K')+" "+Players_Color[GetPlayerId(Scourges[0])]+GetObjectName('n06C')+"|r"+" "+GetObjectName('n066'))
	endif
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00," ")
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,20,true)
	call TriggerAddCondition(t,Condition(function Func1357))
	call SaveInteger(HY,(h),(25),(0))
	call TriggerEvaluate(t)
	set t=null
	return false
endfunction

function ModeRD_SetCap takes nothing returns boolean
	if boolean111==false then
		set boolean111=true
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,GetObjectName('n0GD'))
	endif
	return false
endfunction

function Func1361 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer i=1
	local real x
	local real y
	local real a
	local integer r
	local integer TJI
	local boolean K82=false
	local boolean K92=false
	local boolean KA2=false
	local boolean KB2=false
	local boolean KC2=false
	local boolean KD2=false
	local boolean KE2=false
	local boolean KF2=false
	local boolean KG2=false
	local boolean array KH2
	local player p
	local real CM_Column
	local boolean KZ2=false
	local real z
	set boolean102=false
	set trigger064=CreateTrigger()
	call TriggerAddCondition(trigger064,Condition(function Func1359))
	call Func0111(LocalPlayer,"Sound\\Interface\\Rescue.wav")
	set p=Sentinels[1]
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set p=Sentinels[2]
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set p=Sentinels[3]
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set p=Sentinels[4]
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set p=Sentinels[5]
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set p=Scourges[1]
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set p=Scourges[2]
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set p=Scourges[3]
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set p=Scourges[4]
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set p=Scourges[5]
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	call TriggerRegisterTimerEvent(t,15-GetTime(),false)
	call TriggerAddCondition(t,Condition(function Func1360))
	set boolean109=true
	set integer027=180
	set boolean039=false
	set boolean038=false
	call UnitAddAbility(unit228,'Agho')
	call UnitAddAbility(unit229,'Agho')
	call UnitAddAbility(unit230,'Agho')
	call UnitAddAbility(unit231,'Agho')
	call UnitAddAbility(unit236,'Agho')
	call UnitAddAbility(unit237,'Agho')
	call UnitAddAbility(unit238,'Agho')
	call UnitAddAbility(unit239,'Agho')
	call UnitAddAbility(unit232,'Agho')
	call UnitAddAbility(unit233,'Agho')
	call UnitAddAbility(unit234,'Agho')
	call UnitAddAbility(unit235,'Agho')
	call ShowUnit(unit228,false)
	call ShowUnit(unit229,false)
	call ShowUnit(unit230,false)
	call ShowUnit(unit231,false)
	call ShowUnit(unit236,false)
	call ShowUnit(unit237,false)
	call ShowUnit(unit238,false)
	call ShowUnit(unit239,false)
	call ShowUnit(unit232,false)
	call ShowUnit(unit233,false)
	call ShowUnit(unit234,false)
	call ShowUnit(unit235,false)
	set i=1
	loop
		exitwhen i>24
		set TJI=GetRandomInt(FirstSentinelHeroIndexId,LastHeroIndexId)
		if K82 then
			set K82=false
			set TJI=91
		elseif K92 then
			set K92=false
			set TJI=51
		elseif KA2 then
			set KA2=false
			set TJI=99
		elseif KB2 then
			set KB2=false
			if GetRandomInt(1,2)==1 then
				set TJI=104
			else
				set TJI=65
			endif
		elseif KC2 then
			set KC2=false
			set TJI=109
		elseif KD2 then
			set KD2=false
			set TJI=15
		elseif KE2 then
			set KE2=false
			set TJI=110
		elseif KF2 then
			set KF2=false
		elseif KG2 then
			set KG2=false
		endif
		if KH2[TJI]==false and((TJI)!=23)then
			set KH2[TJI]=true
			set integers128[i]=TJI
			set i=i+1
		endif
	endloop
	set units011[1]=CreateUnit(Sentinels[0],'n0DC',real244,real245,0)
	set units011[2]=CreateUnit(Sentinels[1],'n0DC',real244,real245,0)
	set units011[3]=CreateUnit(Sentinels[2],'n0DC',real244,real245,0)
	set units011[4]=CreateUnit(Sentinels[3],'n0DC',real244,real245,0)
	set units011[5]=CreateUnit(Sentinels[4],'n0DC',real244,real245,0)
	set units011[6]=CreateUnit(Sentinels[5],'n0DC',real244,real245,0)
	set units011[7]=CreateUnit(Scourges[0],'n0DC',real246,real247,0)
	set units011[8]=CreateUnit(Scourges[1],'n0DC',real246,real247,0)
	set units011[9]=CreateUnit(Scourges[2],'n0DC',real246,real247,0)
	set units011[10]=CreateUnit(Scourges[3],'n0DC',real246,real247,0)
	set units011[11]=CreateUnit(Scourges[4],'n0DC',real246,real247,0)
	set units011[12]=CreateUnit(Scourges[5],'n0DC',real246,real247,0)
	call PanCameraToTimedForPlayer(Sentinels[1],real244,real245,0)
	call PanCameraToTimedForPlayer(Sentinels[2],real244,real245,0)
	call PanCameraToTimedForPlayer(Sentinels[3],real244,real245,0)
	call PanCameraToTimedForPlayer(Sentinels[4],real244,real245,0)
	call PanCameraToTimedForPlayer(Sentinels[5],real244,real245,0)
	call PanCameraToTimedForPlayer(Scourges[1],real244,real245,0)
	call PanCameraToTimedForPlayer(Scourges[2],real244,real245,0)
	call PanCameraToTimedForPlayer(Scourges[3],real244,real245,0)
	call PanCameraToTimedForPlayer(Scourges[4],real244,real245,0)
	call PanCameraToTimedForPlayer(Scourges[5],real244,real245,0)
	set real251=real244
	set real252=real245
	set real253=real246
	set real254=real247
	set reals016[1]=real244+real249*(-2)
	set reals017[1]=real245+real250
	set reals016[2]=real244+real249*(-1)
	set reals017[2]=real245+real250
	set reals016[3]=real244+real249*(0)
	set reals017[3]=real245+real250
	set reals016[4]=real244+real249*(1)
	set reals017[4]=real245+real250
	set reals016[5]=real244+real249*(2)
	set reals017[5]=real245+real250
	set reals018[1]=real244+real249*(-2)
	set reals019[1]=real245-real250
	set reals018[2]=real244+real249*(-1)
	set reals019[2]=real245-real250
	set reals018[3]=real244+real249*(0)
	set reals019[3]=real245-real250
	set reals018[4]=real244+real249*(1)
	set reals019[4]=real245-real250
	set reals018[5]=real244+real249*(2)
	set reals019[5]=real245-real250
	set reals020[1]=real246+real249*(-2)
	set reals021[1]=real247+real250
	set reals020[2]=real246+real249*(-1)
	set reals021[2]=real247+real250
	set reals020[3]=real246+real249*(0)
	set reals021[3]=real247+real250
	set reals020[4]=real246+real249*(1)
	set reals021[4]=real247+real250
	set reals020[5]=real246+real249*(2)
	set reals021[5]=real247+real250
	set reals022[1]=real246+real249*(-2)
	set reals023[1]=real247-real250
	set reals022[2]=real246+real249*(-1)
	set reals023[2]=real247-real250
	set reals022[3]=real246+real249*(0)
	set reals023[3]=real247-real250
	set reals022[4]=real246+real249*(1)
	set reals023[4]=real247-real250
	set reals022[5]=real246+real249*(2)
	set reals023[5]=real247-real250
	set CM_Column=real248
	set i=1
	loop
		exitwhen i>24
		if KZ2==false then
			set KZ2=true
		else
			set KZ2=false
		endif
		set a=i/I2R(24)*360.0
		set x=real244+CM_Column*Cos(a*bj_DEGTORAD)
		set y=real245+CM_Column*Sin(a*bj_DEGTORAD)
		set units012[i]=CreateUnit(Sentinels[0],Dummy_ID[integers128[i]],x,y,Func0159(x,y,real244,real245))
		call Func1344(x,y)
		if KZ2 then
			call SetUnitColor(units012[i],GetPlayerColor(Scourges[5]))
		else
			call SetUnitColor(units012[i],GetPlayerColor(Scourges[4]))
		endif
		call TriggerRegisterUnitEvent(trigger064,units012[i],EVENT_UNIT_SELL)
		set i=i+1
	endloop
	call Func0066()
	set t=null
	set p=null
endfunction

function Func1362 takes nothing returns boolean
	local unit YC2=GetSoldUnit()
	local player p=GetOwningPlayer(YC2)
	local integer i
	local real x
	local real y
	local real a
	if GetUnitTypeId(YC2)=='h06N' and IsPlayerAlly(GetOwningPlayer(YC2),GetOwningPlayer(GetSellingUnit()))then
		if Players_Hero[GetPlayerId(p)]!=null then
			call Error(p,GetObjectName('n0F3'))
			call KillUnit(YC2)
			set YC2=null
			set p=null
			return false
		endif
		set x=GetUnitX(GetSellingUnit())
		set y=GetUnitY(GetSellingUnit())
		set i=Func0097(GetUnitTypeId(GetSellingUnit()))
		set a=GetUnitFacing(GetSellingUnit())
		call RemoveUnit(GetSellingUnit())
		call CreateUnit(p,i,x,y,a)
	endif
	if GetUnitTypeId(YC2)=='h06N' then
		call KillUnit(YC2)
	endif
	if Players_Hero[GetPlayerId(Sentinels[1])]!=null and Players_Hero[GetPlayerId(Sentinels[2])]!=null and Players_Hero[GetPlayerId(Sentinels[3])]!=null and Players_Hero[GetPlayerId(Sentinels[4])]!=null and Players_Hero[GetPlayerId(Sentinels[5])]!=null and Players_Hero[GetPlayerId(Scourges[1])]!=null and Players_Hero[GetPlayerId(Scourges[2])]!=null and Players_Hero[GetPlayerId(Scourges[3])]!=null and Players_Hero[GetPlayerId(Scourges[4])]!=null and Players_Hero[GetPlayerId(Scourges[5])]!=null then
		call CleanTrigger(GetTriggeringTrigger())
	endif
	set YC2=null
	set p=null
	return false
endfunction

function Func1363 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer Seconds
	local integer Minutes
	local string time
	local unit u
	local real x
	local real y
	local integer i
	local real d
	local real YF2=GetRectCenterX(Hero_Creation_NE)+125
	local real YG2=GetRectCenterY(Hero_Creation_NE)+75
	local real YH2=GetRectCenterX(Hero_Creation_UD)+100
	local real YZ2=GetRectCenterY(Hero_Creation_UD)
	set boolean092=true
	set i=1
	loop
		exitwhen i>5
		set x=YF2-290+(i-1)*100
		set y=YG2
		call CreateUnit(Sentinels[i+1],'n00C',YF2,YG2,270)
		set u=CreateUnit(Sentinels[0],Dummy_ID[integers131[i+2]],x,y,270)
		call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_SELL)
		call PanCameraToTimedForPlayer(Sentinels[i],YF2,YG2,0)
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>5
		set x=YH2-290+(i-1)*100
		set y=YZ2
		call CreateUnit(Scourges[i+1],'n00C',YH2,YZ2,270)
		set u=CreateUnit(Scourges[0],Dummy_ID[integers132[i+2]],x,y,270)
		call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_SELL)
		call PanCameraToTimedForPlayer(Scourges[i],YH2,YZ2,0)
		set i=i+1
	endloop
	call TriggerAddCondition(t,Condition(function Func1362))
	call SuspendTimeOfDay(false)
	call EnableTrigger(trigger052)
	call EnableTrigger(trigger050)
	set integer027=90
	call Func1297()
	set t=null
	set u=null
endfunction

function Func1364 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	set boolean062=true
	call CleanTrigger(t)
	call DestroyFogModifier(CreateFogModifierRadius(Sentinels[0],FOG_OF_WAR_MASKED,real242,real243,700,false,false))
	call DestroyFogModifier(CreateFogModifierRadius(Scourges[0],FOG_OF_WAR_MASKED,real242,real243,700,false,false))
	set t=null
	return false
endfunction

function Func1365 takes string S,real XN2,real XS2,real XT2,real XR2,real XP2,boolean XQ2 returns nothing
	set image001=CreateImage(S,XN2,XS2,0,XT2-(XN2/2),XR2-(XS2/2),XP2,0,0,0,2)
	call SetImageRenderAlways(image001,true)
	call ShowImage(image001,XQ2)
endfunction

function Func1366 takes string KK2,integer r,integer g,integer b,integer a,real x,real y returns image
	call Func1365("Fonts\\"+KK2+".blp",60,60,x-20,y,0,true)
	call SetImageColor(image001,r,g,b,a)
	return image001
endfunction

function Func1367 takes boolean KM2,boolean KN2 returns nothing
	local integer KS2
	local integer KT2
	local integer KR2
	local integer KP2
	local integer KQ2
	local integer KU2
	local integer L02
	local integer LI2
	local integer c1
	local integer c2
	local integer a=0
	set KS2=integers130[1]
	set KT2=KS2/60
	set KR2=(KS2-KT2*60)/10
	set KP2=KS2-KT2*60-KR2*10
	set KQ2=integers130[2]
	set KU2=KQ2/60
	set L02=(KQ2-KU2*60)/10
	set LI2=KQ2-KU2*60-L02*10
	if KM2==false then
		call ShowImage(image006,false)
		call DestroyImage(image006)
		call ShowImage(image007,false)
		call DestroyImage(image007)
		call ShowImage(image008,false)
		call DestroyImage(image008)
		call ShowImage(image009,false)
		call DestroyImage(image009)
		call ShowImage(image010,false)
		call DestroyImage(image010)
		call ShowImage(image011,false)
		call DestroyImage(image011)
		call ShowImage(image012,false)
		call DestroyImage(image012)
		call ShowImage(image013,false)
		call DestroyImage(image013)
		call ShowImage(image014,false)
		call DestroyImage(image014)
		call ShowImage(image015,false)
		call DestroyImage(image015)
		call ShowImage(image016,false)
		call DestroyImage(image016)
		call ShowImage(image017,false)
		call DestroyImage(image017)
		call ShowImage(image018,false)
		call DestroyImage(image018)
		call ShowImage(image019,false)
		call DestroyImage(image019)
		call ShowImage(image020,false)
		call DestroyImage(image020)
		call ShowImage(image021,false)
		call DestroyImage(image021)
	endif
	if KN2==false then
		set c1=255
		set c2=255
		if integer451==1 then
			if IsPlayerAlly(Sentinels[1],LocalPlayer)then
				set a=255
				set c1=0
			endif
		else
			if IsPlayerAlly(Scourges[1],LocalPlayer)then
				set a=255
				set c2=0
			endif
		endif
		set image006=Func1366(I2S(KT2),255,c1,c1,255,real242-40,real243+300)
		set image007=Func1366("58",255,c1,c1,255,real242-0,real243+300)
		set image008=Func1366(I2S(KR2),255,c1,c1,255,real242+20,real243+300)
		set image009=Func1366(I2S(KP2),255,c1,c1,255,real242+60,real243+300)
		set image010=Func1366(I2S(KU2),255,c2,c2,255,real242-40,real243-300)
		set image011=Func1366("58",255,c2,c2,255,real242-0,real243-300)
		set image012=Func1366(I2S(L02),255,c2,c2,255,real242+20,real243-300)
		set image013=Func1366(I2S(LI2),255,c2,c2,255,real242+60,real243-300)
		if integer452==1 or integer452==2 or integer452==3 or integer452==4 then
			set image014=Func1366("Y",255,0,0,a,real242-130,real243)
			set image015=Func1366("O",255,0,0,a,real242-90,real243)
			set image016=Func1366("U",255,0,0,a,real242-50,real243)
			set image017=Func1366("R",255,0,0,a,real242-10,real243)
			set image018=Func1366("B",255,0,0,a,real242+70,real243)
			set image019=Func1366("A",255,0,0,a,real242+110,real243)
			set image020=Func1366("N",255,0,0,a,real242+150,real243)
			set image021=Func1366("K",255,0,0,0,real242+170,real243)
		else
			set image014=Func1366("Y",255,0,0,a,real242-150,real243)
			set image015=Func1366("O",255,0,0,a,real242-110,real243)
			set image016=Func1366("U",255,0,0,a,real242-70,real243)
			set image017=Func1366("R",255,0,0,a,real242-30,real243)
			set image018=Func1366("P",255,0,0,a,real242+50,real243)
			set image019=Func1366("I",255,0,0,a,real242+90,real243)
			set image020=Func1366("C",255,0,0,a,real242+130,real243)
			set image021=Func1366("K",255,0,0,a,real242+170,real243)
		endif
	endif
endfunction

function Func1368 takes nothing returns nothing
	local integer i=0
	loop
		exitwhen i>integer449
		call RemoveUnit(units018[i])
		set i=i+1
	endloop
endfunction

function Func1369 takes real x,real y returns nothing
	set units018[integer449]=CreateUnit(Player(0),'h06I',x,y,0)
	set integer449=integer449+1
endfunction

function Func1370 takes integer L32,boolean L42 returns nothing
	local player p
	local real d
	set booleans038[L32]=true
	set integers133[integer451]=integers133[integer451]-1
	if integer451==1 then
		set p=Sentinels[1]
		set integer453=integer453+1
		set integers131[integer453]=integers129[L32]
		if integer453<3 then
			call UnitAddAbility(units017[L32],'Aetl')
			call UnitAddAbility(units017[L32],'Aloc')
		endif
		call SetUnitPosition(units017[L32],reals024[integer453],reals025[integer453])
		set d=RMaxBJ(GetUnitDefaultScale(units017[L32])-0.3,0.5)
		call Func1369(reals024[integer453],reals025[integer453])
		call SetUnitScale(units017[L32],d,d,d)
		call SetUnitFacing(units017[L32],270)
		if L42==false then
			if integer452==1 or integer452==2 or integer452==3 or integer452==4 then
				call DisplayTimedTextToPlayer(LocalPlayer,0,0,10,Players_Color[GetPlayerId(p)]+(Players_Name[GetPlayerId((p))])+"|r "+GetObjectName('n0H5')+" "+GetUnitName(units017[L32]))
				call Traffic_RegisterData("Ban"+I2S(GetPlayerId(p)),Hero_ID[integers129[L32]])
			else
				call DisplayTimedTextToPlayer(LocalPlayer,0,0,10,Players_Color[GetPlayerId(p)]+(Players_Name[GetPlayerId((p))])+"|r "+GetObjectName('n0H6')+" "+GetUnitName(units017[L32]))
				call Traffic_RegisterData("Pick"+I2S(GetPlayerId(p)),Hero_ID[integers129[L32]])
			endif
		else
			if integer452==1 or integer452==2 or integer452==3 or integer452==4 then
				call DisplayTimedTextToPlayer(LocalPlayer,0,0,10,Players_Color[GetPlayerId(p)]+(Players_Name[GetPlayerId((p))])+"|r "+GetObjectName('n0H7')+" "+GetUnitName(units017[L32]))
				call Traffic_RegisterData("Ban"+I2S(GetPlayerId(p)),Hero_ID[integers129[L32]])
			else
				call DisplayTimedTextToPlayer(LocalPlayer,0,0,10,Players_Color[GetPlayerId(p)]+(Players_Name[GetPlayerId((p))])+"|r "+GetObjectName('n0H8')+" "+GetUnitName(units017[L32]))
				call Traffic_RegisterData("Pick"+I2S(GetPlayerId(p)),Hero_ID[integers129[L32]])
			endif
		endif
	else
		set p=Scourges[1]
		set integer454=integer454+1
		set integers132[integer454]=integers129[L32]
		if integer454<3 then
			call UnitAddAbility(units017[L32],'Aetl')
			call UnitAddAbility(units017[L32],'Aloc')
		endif
		call SetUnitPosition(units017[L32],reals026[integer454],reals027[integer454])
		set d=RMaxBJ(GetUnitDefaultScale(units017[L32])-0.3,0.5)
		call Func1369(reals026[integer454],reals027[integer454])
		call SetUnitScale(units017[L32],d,d,d)
		call SetUnitFacing(units017[L32],90)
		if L42==false then
			if integer452==1 or integer452==2 or integer452==3 or integer452==4 then
				call DisplayTimedTextToPlayer(LocalPlayer,0,0,10,Players_Color[GetPlayerId(p)]+(Players_Name[GetPlayerId((p))])+"|r "+GetObjectName('n0H5')+" "+GetUnitName(units017[L32]))
				call Traffic_RegisterData("Ban"+I2S(GetPlayerId(p)),Hero_ID[integers129[L32]])
			else
				call DisplayTimedTextToPlayer(LocalPlayer,0,0,10,Players_Color[GetPlayerId(p)]+(Players_Name[GetPlayerId((p))])+"|r "+GetObjectName('n0H6')+" "+GetUnitName(units017[L32]))
				call Traffic_RegisterData("Pick"+I2S(GetPlayerId(p)),Hero_ID[integers129[L32]])
			endif
		else
			if integer452==1 or integer452==2 or integer452==3 or integer452==4 then
				call DisplayTimedTextToPlayer(LocalPlayer,0,0,10,Players_Color[GetPlayerId(p)]+(Players_Name[GetPlayerId((p))])+"|r "+GetObjectName('n0H7')+" "+GetUnitName(units017[L32]))
				call Traffic_RegisterData("Ban"+I2S(GetPlayerId(p)),Hero_ID[integers129[L32]])
			else
				call DisplayTimedTextToPlayer(LocalPlayer,0,0,10,Players_Color[GetPlayerId(p)]+(Players_Name[GetPlayerId((p))])+"|r "+GetObjectName('n0H8')+" "+GetUnitName(units017[L32]))
				call Traffic_RegisterData("Pick"+I2S(GetPlayerId(p)),Hero_ID[integers129[L32]])
			endif
		endif
	endif
	call PauseUnit(units017[L32],true)
	call SetUnitOwner(units017[L32],p,true)
endfunction

function Func1371 takes unit Hero returns integer
	local integer i=1
	loop
		exitwhen i>28
		if units017[i]==Hero then
			return i
		endif
		set i=i+1
	endloop
	return 0
endfunction

function Func1372 takes nothing returns nothing
	local integer i
	loop
		set i=GetRandomInt(1,28)
		exitwhen booleans038[i]==false
	endloop
	call Func1370(i,true)
endfunction

function Func1373 takes nothing returns boolean
	local unit YC2=GetSoldUnit()
	local player p=GetOwningPlayer(YC2)
	local integer id=GetPlayerId(p)
	local player L82
	if integer451==1 then
		set L82=Sentinels[1]
	else
		set L82=Scourges[1]
	endif
	call KillUnit(YC2)
	if boolean112 or integers133[integer451]<1 or p!=L82 then
		call Error(p,GetObjectName('n0CR'))
	elseif GetUnitTypeId(YC2)=='h06N' then
		call Func1370(Func1371(GetSellingUnit()),false)
	endif
	set YC2=null
	return false
endfunction

function Func1374 takes nothing returns boolean
	local integer i=1
	local trigger t
	call CleanTrigger(GetTriggeringTrigger())
	loop
		exitwhen i>28
		call RemoveUnit(units017[i])
		set i=i+1
	endloop
	call SuspendTimeOfDay(false)
	call Func1368()
	call Func0438()
	call Func1243(90)
	call UnitApplyTimedLife(units016[1],'BTLF',2)
	call UnitApplyTimedLife(units016[2],'BTLF',2)
	call UnitApplyTimedLife(units016[3],'BTLF',2)
	call UnitApplyTimedLife(units016[4],'BTLF',2)
	call UnitApplyTimedLife(units016[5],'BTLF',2)
	call UnitApplyTimedLife(units016[6],'BTLF',2)
	call UnitApplyTimedLife(units016[7],'BTLF',2)
	call UnitApplyTimedLife(units016[8],'BTLF',2)
	call UnitApplyTimedLife(units016[9],'BTLF',2)
	call UnitApplyTimedLife(units016[10],'BTLF',2)
	call UnitApplyTimedLife(units016[11],'BTLF',2)
	call UnitApplyTimedLife(units016[12],'BTLF',2)
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,7,false)
	call TriggerAddCondition(t,Condition(function Func1364))
	set t=null
	call Func1363()
	return false
endfunction

function Func1375 takes nothing returns boolean
	local integer i
	local trigger t
	local force f
	local string c="|c006699CC"
	set integers130[integer451]=IMaxBJ(integers130[integer451]-1,0)
	call Func1367(false,false)
	if integers133[integer451]<1 then
		if integer451==1 then
			call Func0111(Sentinels[1],"Sound\\Interface\\Rescue.wav")
			call Func0111(Sentinels[2],"Sound\\Interface\\Rescue.wav")
			call Func0111(Sentinels[3],"Sound\\Interface\\Rescue.wav")
			call Func0111(Sentinels[4],"Sound\\Interface\\Rescue.wav")
			call Func0111(Sentinels[5],"Sound\\Interface\\Rescue.wav")
		else
			call Func0111(Scourges[1],"Sound\\Interface\\Rescue.wav")
			call Func0111(Scourges[2],"Sound\\Interface\\Rescue.wav")
			call Func0111(Scourges[3],"Sound\\Interface\\Rescue.wav")
			call Func0111(Scourges[4],"Sound\\Interface\\Rescue.wav")
			call Func0111(Scourges[5],"Sound\\Interface\\Rescue.wav")
		endif
		set integer452=integer452+1
		if integer451==1 then
			set integer451=2
			set f=Force_Unds
		else
			set integer451=1
			set f=Force_Elfs
		endif
		set integers130[integer451]=IMaxBJ(integers130[integer451],6)
		if integer452==1 or integer452==2 or integer452==3 or integer452==4 then
			set integers133[integer451]=1
			call DisplayTimedTextToForceEx(f,15,c+GetObjectName('n0H2')+"|r")
		elseif integer452==5 then
			set integers133[integer451]=1
			call DisplayTimedTextToForceEx(f,15,c+GetObjectName('n0H3')+"|r")
		elseif integer452==6 or integer452==7 or integer452==8 or integer452==9 then
			set integers133[integer451]=2
			call DisplayTimedTextToForceEx(f,15,c+GetObjectName('n0H4')+"|r")
		elseif integer452==10 then
			set integers133[integer451]=1
			call DisplayTimedTextToForceEx(f,15,c+GetObjectName('n0H3')+"|r")
		else
			call Func1367(false,true)
			call CleanTrigger(GetTriggeringTrigger())
			call CleanTrigger(trigger065)
			set t=CreateTrigger()
			call TriggerRegisterTimerEvent(t,6,false)
			call TriggerAddCondition(t,Condition(function Func1374))
			set t=null
			call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,GetObjectName('n0H9'))
		endif
	elseif integers130[integer451]==0 then
		call Func1372()
	endif
	return false
endfunction

function Func1376 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local force f
	local string c="|c006699CC"
	call CleanTrigger(t)
	set integer450=GetRandomInt(1,2)
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00," ")
	if integer450==1 then
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,GetObjectName('n05K')+" "+Players_Color[GetPlayerId(Sentinels[0])]+GetObjectName('n065')+"|r"+" "+GetObjectName('n066'))
	else
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,GetObjectName('n05K')+" "+Players_Color[GetPlayerId(Scourges[0])]+GetObjectName('n06C')+"|r"+" "+GetObjectName('n066'))
	endif
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00," ")
	set integer451=integer450
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func1375))
	set integers130[1]=150
	set integers130[2]=150
	set integer452=1
	set integers133[integer451]=1
	call Func1367(true,false)
	if integer451==1 then
		set f=Force_Elfs
	else
		set f=Force_Unds
	endif
	call DisplayTimedTextToForceEx(f,15,c+GetObjectName('n0H2')+"|r")
	set boolean112=false
	set t=null
	return false
endfunction

function Func1377 takes nothing returns nothing
	local integer i
	local player p
	local boolean KZ2=false
	local real a
	local real x
	local real y
	local trigger t
	local integer TJI
	local boolean K82=false
	local boolean K92=false
	local boolean KA2=false
	local boolean KB2=false
	local boolean KC2=false
	local boolean KD2=false
	local boolean KE2=false
	local boolean KF2=false
	local boolean KG2=false
	local integer z
	local string c="|c006699CC"
	local boolean array KH2
	call Func1071()
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,15,false)
	call TriggerAddCondition(t,Condition(function Func1376))
	set t=null
	set integer451=-1
	set boolean102=false
	set boolean060=true
	set boolean039=false
	set boolean038=false
	set boolean092=false
	call Func0111(LocalPlayer,"Sound\\Interface\\Rescue.wav")
	call SuspendTimeOfDay(true)
	set trigger065=CreateTrigger()
	call UnitAddAbility(unit228,'Agho')
	call UnitAddAbility(unit229,'Agho')
	call UnitAddAbility(unit230,'Agho')
	call UnitAddAbility(unit231,'Agho')
	call UnitAddAbility(unit236,'Agho')
	call UnitAddAbility(unit237,'Agho')
	call UnitAddAbility(unit238,'Agho')
	call UnitAddAbility(unit239,'Agho')
	call UnitAddAbility(unit232,'Agho')
	call UnitAddAbility(unit233,'Agho')
	call UnitAddAbility(unit234,'Agho')
	call UnitAddAbility(unit235,'Agho')
	set p=Sentinels[1]
	set units016[1]=CreateUnit(p,'n0DC',real242,real243,0)
	call PanCameraToTimedForPlayer(p,real242,real243,0)
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set p=Sentinels[2]
	set units016[2]=CreateUnit(p,'n0DC',real242,real243,0)
	call PanCameraToTimedForPlayer(p,real242,real243,0)
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set p=Sentinels[3]
	set units016[3]=CreateUnit(p,'n0DC',real242,real243,0)
	call PanCameraToTimedForPlayer(p,real242,real243,0)
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set p=Sentinels[4]
	set units016[4]=CreateUnit(p,'n0DC',real242,real243,0)
	call PanCameraToTimedForPlayer(p,real242,real243,0)
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set p=Sentinels[5]
	set units016[5]=CreateUnit(p,'n0DC',real242,real243,0)
	call PanCameraToTimedForPlayer(p,real242,real243,0)
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set p=Scourges[1]
	set units016[6]=CreateUnit(p,'n0DC',real242,real243,0)
	call PanCameraToTimedForPlayer(p,real242,real243,0)
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set p=Scourges[2]
	set units016[7]=CreateUnit(p,'n0DC',real242,real243,0)
	call PanCameraToTimedForPlayer(p,real242,real243,0)
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set p=Scourges[3]
	set units016[8]=CreateUnit(p,'n0DC',real242,real243,0)
	call PanCameraToTimedForPlayer(p,real242,real243,0)
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set p=Scourges[4]
	set units016[9]=CreateUnit(p,'n0DC',real242,real243,0)
	call PanCameraToTimedForPlayer(p,real242,real243,0)
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set p=Scourges[5]
	set units016[10]=CreateUnit(p,'n0DC',real242,real243,0)
	call PanCameraToTimedForPlayer(p,real242,real243,0)
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
	set reals024[1]=real242+real256*(-3.5)
	set reals025[1]=real243+real257
	set reals024[2]=real242+real256*(3.5)
	set reals025[2]=real243+real257
	set reals024[3]=real242+real256*(-2)
	set reals025[3]=real243+real257
	set reals024[4]=real242+real256*(-1)
	set reals025[4]=real243+real257
	set reals024[5]=real242+real256*(0)
	set reals025[5]=real243+real257
	set reals024[6]=real242+real256*(1)
	set reals025[6]=real243+real257
	set reals024[7]=real242+real256*(2)
	set reals025[7]=real243+real257
	set reals026[1]=real242+real256*(-3.5)
	set reals027[1]=real243-real257
	set reals026[2]=real242+real256*(3.5)
	set reals027[2]=real243-real257
	set reals026[3]=real242+real256*(-2)
	set reals027[3]=real243-real257
	set reals026[4]=real242+real256*(-1)
	set reals027[4]=real243-real257
	set reals026[5]=real242+real256*(0)
	set reals027[5]=real243-real257
	set reals026[6]=real242+real256*(1)
	set reals027[6]=real243-real257
	set reals026[7]=real242+real256*(2)
	set reals027[7]=real243-real257
	call KillTrees(real242,real243,600)
	set i=1
	loop
		exitwhen i>28
		set TJI=GetRandomInt(FirstSentinelHeroIndexId,LastHeroIndexId)
		if K82 then
			set K82=false
			set TJI=50
		elseif K92 then
			set K92=false
			set TJI=51
		elseif KA2 then
			set KA2=false
			set TJI=104
		elseif KB2 then
			set KB2=false
			set TJI=65
		elseif KC2 then
			set KC2=false
			set TJI=49
		elseif KD2 then
			set KD2=false
			if GetRandomInt(1,2)==1 then
				set TJI=16
			else
				set TJI=86
			endif
		elseif KE2 then
			set KE2=false
			if GetRandomInt(1,2)==1 then
				set TJI=73
			else
				set TJI=83
			endif
		elseif KF2 then
			set KF2=false
		elseif KG2 then
			set KG2=false
		endif
		if KH2[TJI]==false then
			set KH2[TJI]=true
			set integers129[i]=TJI
			call Traffic_RegisterData("Pool"+I2S(i),Hero_ID[integers129[i]])
			if KZ2==false then
				set KZ2=true
			else
				set KZ2=false
			endif
			set a=(i/I2R(28))*360.0
			set x=real242+real255*Cos(a*bj_DEGTORAD)
			set y=real243+real255*Sin(a*bj_DEGTORAD)
			set units017[i]=CreateUnit(Sentinels[0],Dummy_ID[integers129[i]],x,y,Func0159(x,y,real242,real243))
			call SetUnitPathing(units017[i],false)
			call SetUnitX(units017[i],x)
			call SetUnitY(units017[i],y)
			call Func1369(x,y)
			if KZ2 then
				call SetUnitColor(units017[i],GetPlayerColor(Scourges[5]))
			else
				call SetUnitColor(units017[i],GetPlayerColor(Scourges[4]))
			endif
			set booleans038[i]=false
			call TriggerRegisterUnitEvent(trigger065,units017[i],EVENT_UNIT_SELL)
			set i=i+1
		endif
	endloop
	call TriggerAddCondition(trigger065,Condition(function Func1373))
	call Func0066()
endfunction

function Func1378 takes player p,integer SJI returns nothing
	local integer i=1
	loop
		exitwhen i>5
		if p!=Sentinels[i]then
			call SetPlayerTechMaxAllowed(Sentinels[i],SJI,0)
		endif
		if p!=Scourges[i]then
			call SetPlayerTechMaxAllowed(Scourges[i],SJI,0)
		endif
		set i=i+1
	endloop
endfunction

function ModeSD_Chosen takes nothing returns boolean
	local string DC2=GetEventPlayerChatString()
	local integer a=S2I(SubString(DC2,6,StringLength(DC2)))
	local integer SJI
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local location spawnscrg=GetRectCenter(rect017)
	local location spawnsent=GetRectCenter(rect016)
	local player p=GetTriggerPlayer()
	if a==1 then
		set SJI=(LoadInteger(HY,(h),(166)))
	elseif a==2 then
		set SJI=(LoadInteger(HY,(h),(167)))
	elseif a==3 then
		set SJI=(LoadInteger(HY,(h),(168)))
	else
		call RemoveLocation(spawnscrg)
		call RemoveLocation(spawnsent)
		set spawnscrg=null
		set spawnsent=null
		return false
	endif
	if GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)>=250 then
		if IsSentinel(p)then
			set Players_Hero[GetPlayerId(p)]=CreateUnitAtLoc(p,Hero_ID[SJI],spawnscrg,0)
		else
			set Players_Hero[GetPlayerId(p)]=CreateUnitAtLoc(p,Hero_ID[SJI],spawnsent,0)
		endif
		call Func0217(p)
		call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-250)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call Error(p,GetObjectName('n033'))
	endif
	call RemoveLocation(spawnscrg)
	call RemoveLocation(spawnsent)
	set spawnscrg=null
	set spawnsent=null
	set t=null
	set p=null
	return false
endfunction

function Func1379 takes integer LE2 returns integer
	local integer random
	if LE2==1 then
		set random=GetUnitPointValueByType(AgiHeroes_Array[GetRandomInt(1,AgiHeroes_Count)])
	elseif LE2==2 then
		set random=GetUnitPointValueByType(StrHeroes_Array[GetRandomInt(1,StrHeroes_Count)])
	elseif LE2==3 then
		set random=GetUnitPointValueByType(IntHeroes_Array[GetRandomInt(1,IntHeroes_Count)])
	endif
	return random
endfunction

function Func1380 takes integer LG2,integer LH2,integer LE2 returns integer
	local integer RBI
	local integer RCI
	local integer random
	set random=Func1379(LE2)
	if boolean028 and LG2!=random and LH2!=random then
		return random
	endif
	loop
		exitwhen booleans001[random]==false and LG2!=random and LH2!=random
		set random=Func1379(LE2)
	endloop
	set booleans001[random]=true
	return random
endfunction

function Func1381 takes nothing returns nothing
	local player p
	local integer i=1
	local integer LZ2
	local integer LV2
	local integer LW2
	local trigger t
	local integer h
	set boolean113=true
	set integer027=120
	set boolean038=false
	set boolean039=false
	call PauseUnit(unit228,true)
	call PauseUnit(unit229,true)
	call PauseUnit(unit230,true)
	call PauseUnit(unit231,true)
	call PauseUnit(unit232,true)
	call PauseUnit(unit233,true)
	call PauseUnit(unit234,true)
	call PauseUnit(unit235,true)
	call PauseUnit(unit236,true)
	call PauseUnit(unit237,true)
	call PauseUnit(unit238,true)
	call PauseUnit(unit239,true)
	loop
		exitwhen i>5
		set p=Sentinels[i]
		set LZ2=0
		set LV2=0
		set LW2=0
		if IsPlayer(p)then
			call UnitAddAbility(CirclesOfPower[GetPlayerId(p)],'A14F')
			call UnitAddAbility(CirclesOfPower[GetPlayerId(p)],'A14E')
			call UnitAddAbility(CirclesOfPower[GetPlayerId(p)],'A14H')
			set LZ2=Func1380(LZ2,LV2,1)
			set LV2=Func1380(LZ2,LV2,2)
			set LW2=Func1380(LZ2,LV2,3)
			call AddUnitToStock(CirclesOfPower[GetPlayerId(p)],Hero_ID[LZ2],1,1)
			call Func1378(p,Hero_ID[LZ2])
			call AddUnitToStock(CirclesOfPower[GetPlayerId(p)],Hero_ID[LV2],1,1)
			call Func1378(p,Hero_ID[LV2])
			call AddUnitToStock(CirclesOfPower[GetPlayerId(p)],Hero_ID[LW2],1,1)
			call Func1378(p,Hero_ID[LW2])
			call ClearSelectionForPlayer(p)
			call SelectUnitAddForPlayer(CirclesOfPower[GetPlayerId(p)],p)
			call PanCameraToTimedForPlayer(p,GetRectCenterX(Hero_Creation_NE),GetRectCenterY(Hero_Creation_NE),0)
			call DisplayTimedTextToPlayer(p,0,0,15," ")
			call DisplayTimedTextToPlayer(p,0,0,15," ")
			call DisplayTimedTextToPlayer(p,0,0,15," ")
			call DisplayTimedTextToPlayer(p,0,0,15,"|cff99ccff"+GetObjectName('n0E6')+"|r")
			call DisplayTimedTextToPlayer(p,0,0,15," ")
		endif
		set p=Scourges[i]
		set LZ2=0
		set LV2=0
		set LW2=0
		if IsPlayer(p)then
			call UnitAddAbility(CirclesOfPower[GetPlayerId(p)],'A14F')
			call UnitAddAbility(CirclesOfPower[GetPlayerId(p)],'A14E')
			call UnitAddAbility(CirclesOfPower[GetPlayerId(p)],'A14H')
			set LZ2=Func1380(LZ2,LV2,1)
			set LV2=Func1380(LZ2,LV2,2)
			set LW2=Func1380(LZ2,LV2,3)
			call AddUnitToStock(CirclesOfPower[GetPlayerId(p)],Hero_ID[LZ2],1,1)
			call Func1378(p,Hero_ID[LZ2])
			call AddUnitToStock(CirclesOfPower[GetPlayerId(p)],Hero_ID[LV2],1,1)
			call Func1378(p,Hero_ID[LV2])
			call AddUnitToStock(CirclesOfPower[GetPlayerId(p)],Hero_ID[LW2],1,1)
			call Func1378(p,Hero_ID[LW2])
			call ClearSelectionForPlayer(p)
			call SelectUnitAddForPlayer(CirclesOfPower[GetPlayerId(p)],p)
			call PanCameraToTimedForPlayer(p,GetRectCenterX(Hero_Creation_UD),GetRectCenterY(Hero_Creation_UD),0)
			call DisplayTimedTextToPlayer(p,0,0,15," ")
			call DisplayTimedTextToPlayer(p,0,0,15," ")
			call DisplayTimedTextToPlayer(p,0,0,15," ")
			call DisplayTimedTextToPlayer(p,0,0,15,"|cff99ccff"+GetObjectName('n0E6')+"|r")
			call DisplayTimedTextToPlayer(p,0,0,15," ")
		endif
		set i=i+1
	endloop
	set p=null
	set t=null
endfunction

function Func1382 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer O91=(LoadInteger(HY,(h),(55)))
	local player p
	local integer TJI
	local location spawnscrg=GetRectCenter(Hero_Creation_NE)
	local location spawnsent=GetRectCenter(Hero_Creation_UD)
	if O91<6 then
		set p=Sentinels[O91]
	elseif O91<11 then
		set p=Scourges[O91-5]
	endif
	if O91>10 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if Mode_DM==false then
			set boolean039=true
		endif
	elseif O91<6 then
		call SaveInteger(HY,(h),(55),(O91+1))
		set Players_Hero[GetPlayerId(p)]=null
		if IsPlayer(p)then
			loop
				exitwhen Players_Hero[GetPlayerId(p)]!=null
				set TJI=GetSetElement()
				if booleans001[TJI]==false then
					if not boolean028 then
						set booleans001[TJI]=true
					endif
					set Players_Hero[GetPlayerId(p)]=CreateUnitAtLoc(p,Hero_ID[TJI],spawnscrg,270)
				endif
			endloop
		endif
	elseif O91<11 then
		call SaveInteger(HY,(h),(55),(O91+1))
		set Players_Hero[GetPlayerId(p)]=null
		if IsPlayer(p)then
			loop
				exitwhen Players_Hero[GetPlayerId(p)]!=null
				set TJI=GetSetElement()
				if booleans001[TJI]==false then
					if not boolean028 then
						set booleans001[TJI]=true
					endif
					set Players_Hero[GetPlayerId(p)]=CreateUnitAtLoc(p,Hero_ID[TJI],spawnsent,270)
				endif
			endloop
		endif
	endif
	call RemoveLocation(spawnscrg)
	call RemoveLocation(spawnsent)
	set spawnscrg=null
	set spawnsent=null
	set p=null
	set t=null
	return false
endfunction

function Func1383 takes nothing returns nothing
	local location spawnscrg=GetRectCenter(Hero_Creation_NE)
	local location spawnsent=GetRectCenter(Hero_Creation_UD)
	local location LY2=GetRectCenter(Hero_Creation_NE)
	local location LJ2=GetRectCenter(Hero_Creation_UD)
	local integer TGI=1
	local integer THI=5
	local integer TJI
	local trigger t
	set boolean004=true
	set boolean038=false
	if not boolean028 then
		call Func0066()
	endif
	set integer003=400
	call PanCameraToTimedLocForPlayer(Sentinels[1],LY2,0)
	call PanCameraToTimedLocForPlayer(Sentinels[2],LY2,0)
	call PanCameraToTimedLocForPlayer(Sentinels[3],LY2,0)
	call PanCameraToTimedLocForPlayer(Sentinels[4],LY2,0)
	call PanCameraToTimedLocForPlayer(Sentinels[5],LY2,0)
	call PanCameraToTimedLocForPlayer(Scourges[1],LJ2,0)
	call PanCameraToTimedLocForPlayer(Scourges[2],LJ2,0)
	call PanCameraToTimedLocForPlayer(Scourges[3],LJ2,0)
	call PanCameraToTimedLocForPlayer(Scourges[4],LJ2,0)
	call PanCameraToTimedLocForPlayer(Scourges[5],LJ2,0)
	if boolean033 then
		loop
			set TJI=GetSetElement()
			exitwhen booleans001[TJI]==false
		endloop
		if IsSentinel(PlayerModeTyper)then
			set Players_Hero[GetPlayerId(PlayerModeTyper)]=CreateUnit(PlayerModeTyper,Hero_ID[TJI],GetLocationX(spawnscrg),GetLocationY(spawnscrg),270)
		else
			set Players_Hero[GetPlayerId(PlayerModeTyper)]=CreateUnit(PlayerModeTyper,Hero_ID[TJI],GetLocationX(spawnsent),GetLocationY(spawnsent),270)
		endif
		call RemoveLocation(spawnscrg)
		call RemoveLocation(spawnsent)
		call RemoveLocation(LY2)
		call RemoveLocation(LJ2)
		set spawnscrg=null
		set spawnsent=null
		set LY2=null
		set LJ2=null
		set t=null
		return
	endif
	set boolean039=false
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,.5,true)
	call TriggerAddCondition(t,Condition(function Func1382))
	call SaveInteger(HY,(GetHandleId(t)),(55),(1))
	call RemoveLocation(spawnscrg)
	call RemoveLocation(spawnsent)
	call RemoveLocation(LY2)
	call RemoveLocation(LJ2)
	set spawnscrg=null
	set spawnsent=null
	set LY2=null
	set LJ2=null
	set t=null
endfunction

function Func1384 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	call CleanTrigger(t)
	set boolean037=true
	set t=null
	return false
endfunction

function Func1385 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local trigger LM2=(LoadTriggerHandle(HY,(h),(35)))
	local integer i
	local integer x
	local integer TJI
	local integer LN2=CountPlayersInForce(Force_Elfs)
	local integer LS2=CountPlayersInForce(Force_Unds)
	local location spawnscrg=GetRectCenter(rect017)
	local location spawnsent=GetRectCenter(rect016)
	local location LY2=GetRectCenter(Hero_Creation_NE)
	local location LJ2=GetRectCenter(Hero_Creation_UD)
	call CleanTrigger(LM2)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set integer455=(LoadInteger(HY,(2001),(126)))
	set integer456=(LoadInteger(HY,(2001),(127)))
	set integer457=(LoadInteger(HY,(2001),(128)))
	set i=1
	loop
		exitwhen i>LN2
		set integers140[i]=integers134[i]
		set i=i+1
	endloop
	set x=GetRandomInt(1,3)
	if x==1 then
		if LN2==1 then
			set integers140[1]=integers134[1]
		elseif LN2==2 then
			set integers140[1]=integers134[2]
			set integers140[2]=integers134[1]
		elseif LN2==3 then
			set integers140[1]=integers134[3]
			set integers140[2]=integers134[1]
			set integers140[3]=integers134[2]
		elseif LN2==4 then
			set integers140[1]=integers134[4]
			set integers140[2]=integers134[3]
			set integers140[3]=integers134[2]
			set integers140[4]=integers134[1]
		elseif LN2==5 then
			set integers140[1]=integers134[5]
			set integers140[2]=integers134[4]
			set integers140[3]=integers134[1]
			set integers140[4]=integers134[2]
			set integers140[5]=integers134[3]
		endif
	elseif x==2 then
		if LN2==1 then
			set integers140[1]=integers134[1]
		elseif LN2==2 then
			set integers140[1]=integers134[2]
			set integers140[2]=integers134[1]
		elseif LN2==3 then
			set integers140[1]=integers134[2]
			set integers140[2]=integers134[3]
			set integers140[3]=integers134[1]
		elseif LN2==4 then
			set integers140[1]=integers134[3]
			set integers140[2]=integers134[1]
			set integers140[3]=integers134[4]
			set integers140[4]=integers134[2]
		elseif LN2==5 then
			set integers140[1]=integers134[4]
			set integers140[2]=integers134[3]
			set integers140[3]=integers134[2]
			set integers140[4]=integers134[5]
			set integers140[5]=integers134[1]
		endif
	else
		if LN2==1 then
			set integers140[1]=integers134[1]
		elseif LN2==2 then
			set integers140[1]=integers134[1]
			set integers140[2]=integers134[2]
		elseif LN2==3 then
			set integers140[1]=integers134[3]
			set integers140[2]=integers134[2]
			set integers140[3]=integers134[1]
		elseif LN2==4 then
			set integers140[1]=integers134[2]
			set integers140[2]=integers134[4]
			set integers140[3]=integers134[3]
			set integers140[4]=integers134[1]
		elseif LN2==5 then
			set integers140[1]=integers134[5]
			set integers140[2]=integers134[1]
			set integers140[3]=integers134[3]
			set integers140[4]=integers134[4]
			set integers140[5]=integers134[2]
		endif
	endif
	set i=1
	loop
		exitwhen i>LN2
		set integers134[i]=integers140[i]
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>LN2
		set integers140[i]=integers135[i]
		set i=i+1
	endloop
	set x=GetRandomInt(1,3)
	if x==1 then
		if LN2==1 then
			set integers140[1]=integers135[1]
		elseif LN2==2 then
			set integers140[1]=integers135[2]
			set integers140[2]=integers135[1]
		elseif LN2==3 then
			set integers140[1]=integers135[3]
			set integers140[2]=integers135[1]
			set integers140[3]=integers135[2]
		elseif LN2==4 then
			set integers140[1]=integers135[4]
			set integers140[2]=integers135[3]
			set integers140[3]=integers135[2]
			set integers140[4]=integers135[1]
		elseif LN2==5 then
			set integers140[1]=integers135[5]
			set integers140[2]=integers135[4]
			set integers140[3]=integers135[1]
			set integers140[4]=integers135[2]
			set integers140[5]=integers135[3]
		endif
	elseif x==2 then
		if LN2==1 then
			set integers140[1]=integers135[1]
		elseif LN2==2 then
			set integers140[1]=integers135[2]
			set integers140[2]=integers135[1]
		elseif LN2==3 then
			set integers140[1]=integers135[2]
			set integers140[2]=integers135[3]
			set integers140[3]=integers135[1]
		elseif LN2==4 then
			set integers140[1]=integers135[3]
			set integers140[2]=integers135[1]
			set integers140[3]=integers135[4]
			set integers140[4]=integers135[2]
		elseif LN2==5 then
			set integers140[1]=integers135[4]
			set integers140[2]=integers135[3]
			set integers140[3]=integers135[2]
			set integers140[4]=integers135[5]
			set integers140[5]=integers135[1]
		endif
	else
		if LN2==1 then
			set integers140[1]=integers135[1]
		elseif LN2==2 then
			set integers140[1]=integers135[1]
			set integers140[2]=integers135[2]
		elseif LN2==3 then
			set integers140[1]=integers135[3]
			set integers140[2]=integers135[2]
			set integers140[3]=integers135[1]
		elseif LN2==4 then
			set integers140[1]=integers135[2]
			set integers140[2]=integers135[4]
			set integers140[3]=integers135[3]
			set integers140[4]=integers135[1]
		elseif LN2==5 then
			set integers140[1]=integers135[5]
			set integers140[2]=integers135[1]
			set integers140[3]=integers135[3]
			set integers140[4]=integers135[4]
			set integers140[5]=integers135[2]
		endif
	endif
	set i=1
	loop
		exitwhen i>LN2
		set integers135[i]=integers140[i]
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>LN2
		set integers140[i]=integers136[i]
		set i=i+1
	endloop
	set x=GetRandomInt(1,3)
	if x==1 then
		if LN2==1 then
			set integers140[1]=integers136[1]
		elseif LN2==2 then
			set integers140[1]=integers136[2]
			set integers140[2]=integers136[1]
		elseif LN2==3 then
			set integers140[1]=integers136[3]
			set integers140[2]=integers136[1]
			set integers140[3]=integers136[2]
		elseif LN2==4 then
			set integers140[1]=integers136[4]
			set integers140[2]=integers136[3]
			set integers140[3]=integers136[2]
			set integers140[4]=integers136[1]
		elseif LN2==5 then
			set integers140[1]=integers136[5]
			set integers140[2]=integers136[4]
			set integers140[3]=integers136[1]
			set integers140[4]=integers136[2]
			set integers140[5]=integers136[3]
		endif
	elseif x==2 then
		if LN2==1 then
			set integers140[1]=integers136[1]
		elseif LN2==2 then
			set integers140[1]=integers136[2]
			set integers140[2]=integers136[1]
		elseif LN2==3 then
			set integers140[1]=integers136[2]
			set integers140[2]=integers136[3]
			set integers140[3]=integers136[1]
		elseif LN2==4 then
			set integers140[1]=integers136[3]
			set integers140[2]=integers136[1]
			set integers140[3]=integers136[4]
			set integers140[4]=integers136[2]
		elseif LN2==5 then
			set integers140[1]=integers136[4]
			set integers140[2]=integers136[3]
			set integers140[3]=integers136[2]
			set integers140[4]=integers136[5]
			set integers140[5]=integers136[1]
		endif
	else
		if LN2==1 then
			set integers140[1]=integers136[1]
		elseif LN2==2 then
			set integers140[1]=integers136[1]
			set integers140[2]=integers136[2]
		elseif LN2==3 then
			set integers140[1]=integers136[3]
			set integers140[2]=integers136[2]
			set integers140[3]=integers136[1]
		elseif LN2==4 then
			set integers140[1]=integers136[2]
			set integers140[2]=integers136[4]
			set integers140[3]=integers136[3]
			set integers140[4]=integers136[1]
		elseif LN2==5 then
			set integers140[1]=integers136[5]
			set integers140[2]=integers136[1]
			set integers140[3]=integers136[3]
			set integers140[4]=integers136[4]
			set integers140[5]=integers136[2]
		endif
	endif
	set i=1
	loop
		exitwhen i>LN2
		set integers136[i]=integers140[i]
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>LN2
		set integers140[i]=integers137[i]
		set i=i+1
	endloop
	set x=GetRandomInt(1,3)
	if x==1 then
		if LN2==1 then
			set integers140[1]=integers137[1]
		elseif LN2==2 then
			set integers140[1]=integers137[2]
			set integers140[2]=integers137[1]
		elseif LN2==3 then
			set integers140[1]=integers137[3]
			set integers140[2]=integers137[1]
			set integers140[3]=integers137[2]
		elseif LN2==4 then
			set integers140[1]=integers137[4]
			set integers140[2]=integers137[3]
			set integers140[3]=integers137[2]
			set integers140[4]=integers137[1]
		elseif LN2==5 then
			set integers140[1]=integers137[5]
			set integers140[2]=integers137[4]
			set integers140[3]=integers137[1]
			set integers140[4]=integers137[2]
			set integers140[5]=integers137[3]
		endif
	elseif x==2 then
		if LN2==1 then
			set integers140[1]=integers137[1]
		elseif LN2==2 then
			set integers140[1]=integers137[2]
			set integers140[2]=integers137[1]
		elseif LN2==3 then
			set integers140[1]=integers137[2]
			set integers140[2]=integers137[3]
			set integers140[3]=integers137[1]
		elseif LN2==4 then
			set integers140[1]=integers137[3]
			set integers140[2]=integers137[1]
			set integers140[3]=integers137[4]
			set integers140[4]=integers137[2]
		elseif LN2==5 then
			set integers140[1]=integers137[4]
			set integers140[2]=integers137[3]
			set integers140[3]=integers137[2]
			set integers140[4]=integers137[5]
			set integers140[5]=integers137[1]
		endif
	else
		if LN2==1 then
			set integers140[1]=integers137[1]
		elseif LN2==2 then
			set integers140[1]=integers137[1]
			set integers140[2]=integers137[2]
		elseif LN2==3 then
			set integers140[1]=integers137[3]
			set integers140[2]=integers137[2]
			set integers140[3]=integers137[1]
		elseif LN2==4 then
			set integers140[1]=integers137[2]
			set integers140[2]=integers137[4]
			set integers140[3]=integers137[3]
			set integers140[4]=integers137[1]
		elseif LN2==5 then
			set integers140[1]=integers137[5]
			set integers140[2]=integers137[1]
			set integers140[3]=integers137[3]
			set integers140[4]=integers137[4]
			set integers140[5]=integers137[2]
		endif
	endif
	set i=1
	loop
		exitwhen i>LN2
		set integers137[i]=integers140[i]
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>LN2
		set integers140[i]=integers138[i]
		set i=i+1
	endloop
	set x=GetRandomInt(1,3)
	if x==1 then
		if LN2==1 then
			set integers140[1]=integers138[1]
		elseif LN2==2 then
			set integers140[1]=integers138[2]
			set integers140[2]=integers138[1]
		elseif LN2==3 then
			set integers140[1]=integers138[3]
			set integers140[2]=integers138[1]
			set integers140[3]=integers138[2]
		elseif LN2==4 then
			set integers140[1]=integers138[4]
			set integers140[2]=integers138[3]
			set integers140[3]=integers138[2]
			set integers140[4]=integers138[1]
		elseif LN2==5 then
			set integers140[1]=integers138[5]
			set integers140[2]=integers138[4]
			set integers140[3]=integers138[1]
			set integers140[4]=integers138[2]
			set integers140[5]=integers138[3]
		endif
	elseif x==2 then
		if LN2==1 then
			set integers140[1]=integers138[1]
		elseif LN2==2 then
			set integers140[1]=integers138[2]
			set integers140[2]=integers138[1]
		elseif LN2==3 then
			set integers140[1]=integers138[2]
			set integers140[2]=integers138[3]
			set integers140[3]=integers138[1]
		elseif LN2==4 then
			set integers140[1]=integers138[3]
			set integers140[2]=integers138[1]
			set integers140[3]=integers138[4]
			set integers140[4]=integers138[2]
		elseif LN2==5 then
			set integers140[1]=integers138[4]
			set integers140[2]=integers138[3]
			set integers140[3]=integers138[2]
			set integers140[4]=integers138[5]
			set integers140[5]=integers138[1]
		endif
	else
		if LN2==1 then
			set integers140[1]=integers138[1]
		elseif LN2==2 then
			set integers140[1]=integers138[1]
			set integers140[2]=integers138[2]
		elseif LN2==3 then
			set integers140[1]=integers138[3]
			set integers140[2]=integers138[2]
			set integers140[3]=integers138[1]
		elseif LN2==4 then
			set integers140[1]=integers138[2]
			set integers140[2]=integers138[4]
			set integers140[3]=integers138[3]
			set integers140[4]=integers138[1]
		elseif LN2==5 then
			set integers140[1]=integers138[5]
			set integers140[2]=integers138[1]
			set integers140[3]=integers138[3]
			set integers140[4]=integers138[4]
			set integers140[5]=integers138[2]
		endif
	endif
	set i=1
	loop
		exitwhen i>LN2
		set integers138[i]=integers140[i]
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>LN2
		set integers140[i]=integers139[i]
		set i=i+1
	endloop
	set x=GetRandomInt(1,3)
	if x==1 then
		if LN2==1 then
			set integers140[1]=integers139[1]
		elseif LN2==2 then
			set integers140[1]=integers139[2]
			set integers140[2]=integers139[1]
		elseif LN2==3 then
			set integers140[1]=integers139[3]
			set integers140[2]=integers139[1]
			set integers140[3]=integers139[2]
		elseif LN2==4 then
			set integers140[1]=integers139[4]
			set integers140[2]=integers139[3]
			set integers140[3]=integers139[2]
			set integers140[4]=integers139[1]
		elseif LN2==5 then
			set integers140[1]=integers139[5]
			set integers140[2]=integers139[4]
			set integers140[3]=integers139[1]
			set integers140[4]=integers139[2]
			set integers140[5]=integers139[3]
		endif
	elseif x==2 then
		if LN2==1 then
			set integers140[1]=integers139[1]
		elseif LN2==2 then
			set integers140[1]=integers139[2]
			set integers140[2]=integers139[1]
		elseif LN2==3 then
			set integers140[1]=integers139[2]
			set integers140[2]=integers139[3]
			set integers140[3]=integers139[1]
		elseif LN2==4 then
			set integers140[1]=integers139[3]
			set integers140[2]=integers139[1]
			set integers140[3]=integers139[4]
			set integers140[4]=integers139[2]
		elseif LN2==5 then
			set integers140[1]=integers139[4]
			set integers140[2]=integers139[3]
			set integers140[3]=integers139[2]
			set integers140[4]=integers139[5]
			set integers140[5]=integers139[1]
		endif
	else
		if LN2==1 then
			set integers140[1]=integers139[1]
		elseif LN2==2 then
			set integers140[1]=integers139[1]
			set integers140[2]=integers139[2]
		elseif LN2==3 then
			set integers140[1]=integers139[3]
			set integers140[2]=integers139[2]
			set integers140[3]=integers139[1]
		elseif LN2==4 then
			set integers140[1]=integers139[2]
			set integers140[2]=integers139[4]
			set integers140[3]=integers139[3]
			set integers140[4]=integers139[1]
		elseif LN2==5 then
			set integers140[1]=integers139[5]
			set integers140[2]=integers139[1]
			set integers140[3]=integers139[3]
			set integers140[4]=integers139[4]
			set integers140[5]=integers139[2]
		endif
	endif
	set i=1
	loop
		exitwhen i>LN2
		set integers139[i]=integers140[i]
		set i=i+1
	endloop
	set TJI=GetRandomInt(1,2)
	if integer455>=integer456 and integer455>=integer457 then
		call ClearTextMessages()
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,45,GetObjectName('n05Z')+" "+string036)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,45," ")
		set i=1
		set x=1
		loop
			exitwhen i>5
			if IsPlayer(Sentinels[i])then
				if TJI==1 then
					set Players_Hero[GetPlayerId(Sentinels[i])]=CreateUnitAtLoc(Sentinels[i],integers134[x],spawnscrg,270)
				else
					set Players_Hero[GetPlayerId(Sentinels[i])]=CreateUnitAtLoc(Sentinels[i],integers135[x],spawnscrg,270)
				endif
				set x=x+1
			endif
			set i=i+1
		endloop
		set i=1
		set x=1
		loop
			exitwhen i>5
			if IsPlayer(Scourges[i])then
				if TJI==1 then
					set Players_Hero[GetPlayerId(Scourges[i])]=CreateUnitAtLoc(Scourges[i],integers135[x],spawnsent,270)
				else
					set Players_Hero[GetPlayerId(Scourges[i])]=CreateUnitAtLoc(Scourges[i],integers134[x],spawnsent,270)
				endif
				set x=x+1
			endif
			set i=i+1
		endloop
	elseif integer456>=integer455 and integer456>=integer457 then
		call ClearTextMessages()
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,45,GetObjectName('n05Z')+" "+string037)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,45," ")
		set i=1
		set x=1
		loop
			exitwhen i>5
			if IsPlayer(Sentinels[i])then
				if TJI==1 then
					set Players_Hero[GetPlayerId(Sentinels[i])]=CreateUnitAtLoc(Sentinels[i],integers136[x],spawnscrg,270)
				else
					set Players_Hero[GetPlayerId(Sentinels[i])]=CreateUnitAtLoc(Sentinels[i],integers137[x],spawnscrg,270)
				endif
				set x=x+1
			endif
			set i=i+1
		endloop
		set i=1
		set x=1
		loop
			exitwhen i>5
			if IsPlayer(Scourges[i])then
				if TJI==1 then
					set Players_Hero[GetPlayerId(Scourges[i])]=CreateUnitAtLoc(Scourges[i],integers137[x],spawnsent,270)
				else
					set Players_Hero[GetPlayerId(Scourges[i])]=CreateUnitAtLoc(Scourges[i],integers136[x],spawnsent,270)
				endif
				set x=x+1
			endif
			set i=i+1
		endloop
	elseif integer457>=integer455 and integer457>=integer456 then
		call ClearTextMessages()
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,45,GetObjectName('n05Z')+" "+string038)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,45," ")
		set i=1
		set x=1
		loop
			exitwhen i>5
			if IsPlayer(Sentinels[i])then
				if TJI==1 then
					set Players_Hero[GetPlayerId(Sentinels[i])]=CreateUnitAtLoc(Sentinels[i],integers138[x],spawnscrg,270)
				else
					set Players_Hero[GetPlayerId(Sentinels[i])]=CreateUnitAtLoc(Sentinels[i],integers139[x],spawnscrg,270)
				endif
				set x=x+1
			endif
			set i=i+1
		endloop
		set i=1
		set x=1
		loop
			exitwhen i>5
			if IsPlayer(Scourges[i])then
				if TJI==1 then
					set Players_Hero[GetPlayerId(Scourges[i])]=CreateUnitAtLoc(Scourges[i],integers139[x],spawnsent,270)
				else
					set Players_Hero[GetPlayerId(Scourges[i])]=CreateUnitAtLoc(Scourges[i],integers138[x],spawnsent,270)
				endif
				set x=x+1
			endif
			set i=i+1
		endloop
	endif
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,70,false)
	call TriggerAddCondition(t,Condition(function Func1384))
	call RemoveLocation(spawnscrg)
	call RemoveLocation(spawnsent)
	call RemoveLocation(LY2)
	call RemoveLocation(LJ2)
	set spawnscrg=null
	set spawnsent=null
	set LY2=null
	set LJ2=null
	set t=null
	set LM2=null
	return false
endfunction

function Func1386 takes integer i returns integer
	if i==1 then
		return Func0098(IntHeroes_Array[GetRandomInt(1,IntHeroes_Count)])
	elseif i==2 then
		return Func0098(AgiHeroes_Array[GetRandomInt(1,AgiHeroes_Count)])
	elseif i==3 then
		return Func0098(StrHeroes_Array[GetRandomInt(1,StrHeroes_Count)])
	elseif i==4 then
		return Func0098(MeleeHeroes_Array[GetRandomInt(1,MeleeHeroes_Count)])
	elseif i==5 then
		return Func0098(RangeHeroes_Array[GetRandomInt(1,RangeHeroes_Count)])
	endif
	return 0
endfunction

function Func1387 takes integer i returns integer
	local integer RBI
	local integer RCI
	local integer random
	set random=Func1386(i)
	if boolean028 then
		return random
	endif
	loop
		exitwhen booleans005[random]==false
		set random=Func1386(i)
	endloop
	set booleans005[random]=true
	return random
endfunction

function Func1388 takes nothing returns nothing
	local integer i=FirstSentinelHeroIndexId
	loop
		exitwhen i>LastHeroIndexId
		set booleans005[i]=false
		set i=i+1
	endloop
endfunction

function Func1389 takes nothing returns boolean
	local integer LU2=GetPlayerId(GetTriggerPlayer())
	local string M02=SubString(GetEventPlayerChatString(),8,9)
	local integer MI2=0
	if M02=="1"then
		set MI2=1
	elseif M02=="2"then
		set MI2=2
	elseif M02=="3"then
		set MI2=3
	endif
	if MI2==0 then
		call Error5s(GetTriggerPlayer(),GetObjectName('n03D'))
		return false
	endif
	if(LoadBoolean(HY,(2001),(950+LU2)))then
		call Error5s(GetTriggerPlayer(),GetObjectName('n03A'))
		return false
	endif
	call SaveBoolean(HY,(2001),(950+LU2),(true))
	if MI2==1 then
		call SaveInteger(HY,(2001),(126),(1+(LoadInteger(HY,(2001),(126)))))
	elseif MI2==2 then
		call SaveInteger(HY,(2001),(127),(1+(LoadInteger(HY,(2001),(127)))))
	else
		call SaveInteger(HY,(2001),(128),(1+(LoadInteger(HY,(2001),(128)))))
	endif
	call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,20,GetObjectName('n09M')+" Option "+I2S(MI2)+".")
	return false
endfunction

function Func1390 takes nothing returns nothing
	local integer LN2=CountPlayersInForce(Force_Elfs)
	local integer LS2=CountPlayersInForce(Force_Unds)
	local integer i
	local integer x
	local trigger t=CreateTrigger()
	local location spawnscrg=GetRectCenter(rect017)
	local location spawnsent=GetRectCenter(rect016)
	local location LY2=GetRectCenter(Hero_Creation_NE)
	local location LJ2=GetRectCenter(Hero_Creation_UD)
	local integer TJI
	local trigger t2
	set boolean035=true
	set boolean038=false
	set boolean039=false
	call Func0066()
	call PanCameraToTimedLocForPlayer(Sentinels[1],LY2,0)
	call PanCameraToTimedLocForPlayer(Sentinels[2],LY2,0)
	call PanCameraToTimedLocForPlayer(Sentinels[3],LY2,0)
	call PanCameraToTimedLocForPlayer(Sentinels[4],LY2,0)
	call PanCameraToTimedLocForPlayer(Sentinels[5],LY2,0)
	call PanCameraToTimedLocForPlayer(Scourges[1],LJ2,0)
	call PanCameraToTimedLocForPlayer(Scourges[2],LJ2,0)
	call PanCameraToTimedLocForPlayer(Scourges[3],LJ2,0)
	call PanCameraToTimedLocForPlayer(Scourges[4],LJ2,0)
	call PanCameraToTimedLocForPlayer(Scourges[5],LJ2,0)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-Option",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-Option",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-Option",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-Option",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-Option",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-Option",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-Option",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-Option",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-Option",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-Option",false)
	call TriggerAddCondition(t,Condition(function Func1389))
	call Func1388()
	set i=1
	loop
		exitwhen i>LN2
		set integers134[i]=Hero_ID[Func1387(i)]
		set string036=string036+GetObjectName(integers134[i])
		set i=i+1
		if i<=LN2 then
			set string036=string036+"|c005BFEEA-|r"
		endif
	endloop
	set string036=string036+" |c00FF0000vs |r"
	set i=1
	loop
		exitwhen i>LS2
		set integers135[i]=Hero_ID[Func1387(i)]
		set string036=string036+GetObjectName(integers135[i])
		set i=i+1
		if i<=LS2 then
			set string036=string036+"|c005BFEEA-|r"
		endif
	endloop
	call Func1388()
	set i=1
	loop
		exitwhen i>LN2
		set integers136[i]=Hero_ID[Func1387(i)]
		set string037=string037+GetObjectName(integers136[i])+" "
		set i=i+1
		if i<=LN2 then
			set string037=string037+"|c005BFEEA-|r"
		endif
	endloop
	set string037=string037+" |c00FF0000vs |r"
	set i=1
	loop
		exitwhen i>LS2
		set integers137[i]=Hero_ID[Func1387(i)]
		set string037=string037+GetObjectName(integers137[i])+" "
		set i=i+1
		if i<=LS2 then
			set string037=string037+"|c005BFEEA-|r"
		endif
	endloop
	call Func1388()
	set i=1
	loop
		exitwhen i>LN2
		set integers138[i]=Hero_ID[Func1387(i)]
		set string038=string038+GetObjectName(integers138[i])+" "
		set i=i+1
		if i<=LN2 then
			set string038=string038+"|c005BFEEA-|r"
		endif
	endloop
	set string038=string038+" |c00FF0000vs |r"
	set i=1
	loop
		exitwhen i>LS2
		set integers139[i]=Hero_ID[Func1387(i)]
		set string038=string038+GetObjectName(integers139[i])+" "
		set i=i+1
		if i<=LS2 then
			set string038=string038+"|c005BFEEA-|r"
		endif
	endloop
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,75," ")
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,75,GetObjectName('n06T'))
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,75,GetObjectName('n06I')+" "+GetObjectName('n06D'))
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,75," ")
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,75,string036)
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,75," ")
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,75,string037)
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,75," ")
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,75,string038)
	set t2=CreateTrigger()
	call TriggerRegisterTimerEvent(t2,30,false)
	call TriggerAddCondition(t2,Condition(function Func1385))
	call SaveTriggerHandle(HY,(GetHandleId(t2)),(35),(t))
	call RemoveLocation(spawnscrg)
	call RemoveLocation(spawnsent)
	call RemoveLocation(LY2)
	call RemoveLocation(LJ2)
	set spawnscrg=null
	set spawnsent=null
	set LY2=null
	set LJ2=null
	set t=null
	set t2=null
endfunction

function Func1391 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer Count=GetTriggerEvalCount(t)
	local integer time=20-(Count-(Count/20)*20)
	call LeaderboardSetLabel(leaderboard001,"           "+GetObjectName('n0EZ')+" "+I2S(time))
	if Count>125 then
		call DestroyLeaderboard(leaderboard001)
		call Func1222()
		call CleanTrigger(t)
	endif
	set t=null
	return false
endfunction

function Func1392 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func1391))
	set leaderboard001=CreateLeaderboard()
	call LeaderboardSetStyle(leaderboard001,true,false,false,false)
	call LeaderboardDisplay(leaderboard001,false)
	call PlayerSetLeaderboard(Sentinels[1],leaderboard001)
	call PlayerSetLeaderboard(Sentinels[2],leaderboard001)
	call PlayerSetLeaderboard(Sentinels[3],leaderboard001)
	call PlayerSetLeaderboard(Sentinels[4],leaderboard001)
	call PlayerSetLeaderboard(Sentinels[5],leaderboard001)
	call PlayerSetLeaderboard(Scourges[1],leaderboard001)
	call PlayerSetLeaderboard(Scourges[2],leaderboard001)
	call PlayerSetLeaderboard(Scourges[3],leaderboard001)
	call PlayerSetLeaderboard(Scourges[4],leaderboard001)
	call PlayerSetLeaderboard(Scourges[5],leaderboard001)
	set t=null
endfunction

function Func1393 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer KO2=(LoadInteger(HY,(h),(25)))
	local player p1
	local player p2
	local player K22
	local player K32
	if KO2==0 then
		if integer458==1 then
			set p1=Sentinels[1]
		else
			set p1=Scourges[1]
		endif
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p1)]+(Players_Name[GetPlayerId((p1))])+"|r"+" "+GetObjectName('n064'))
		call SetPlayerState(p1,PLAYER_STATE_RESOURCE_GOLD,integers141[GetPlayerId(p1)])
		if LocalPlayer==p1 then
			call LeaderboardDisplay(leaderboard001,true)
		else
			call LeaderboardDisplay(leaderboard001,false)
		endif
	elseif KO2==1 then
		if integer458==1 then
			set p1=Scourges[1]
			set p2=Scourges[2]
			set K22=Sentinels[1]
		else
			set p1=Sentinels[1]
			set p2=Sentinels[2]
			set K22=Scourges[1]
		endif
		call Func0065(K22)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p1)]+(Players_Name[GetPlayerId((p1))])+"|r"+" "+GetObjectName('n064'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p2)]+(Players_Name[GetPlayerId((p2))])+"|r"+" "+GetObjectName('n064'))
		call SetPlayerState(p1,PLAYER_STATE_RESOURCE_GOLD,integers141[GetPlayerId(p1)])
		call SetPlayerState(p2,PLAYER_STATE_RESOURCE_GOLD,integers141[GetPlayerId(p2)])
		if LocalPlayer==p1 or LocalPlayer==p2 then
			call LeaderboardDisplay(leaderboard001,true)
		else
			call LeaderboardDisplay(leaderboard001,false)
		endif
	elseif KO2==2 then
		if integer458==1 then
			set p1=Sentinels[2]
			set p2=Sentinels[3]
			set K22=Scourges[1]
			set K32=Scourges[2]
		else
			set p1=Scourges[2]
			set p2=Scourges[3]
			set K22=Sentinels[1]
			set K32=Sentinels[2]
		endif
		call Func0065(K22)
		call Func0065(K32)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p1)]+(Players_Name[GetPlayerId((p1))])+"|r"+" "+GetObjectName('n064'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p2)]+(Players_Name[GetPlayerId((p2))])+"|r"+" "+GetObjectName('n064'))
		call SetPlayerState(p1,PLAYER_STATE_RESOURCE_GOLD,integers141[GetPlayerId(p1)])
		call SetPlayerState(p2,PLAYER_STATE_RESOURCE_GOLD,integers141[GetPlayerId(p2)])
		if LocalPlayer==p1 or LocalPlayer==p2 then
			call LeaderboardDisplay(leaderboard001,true)
		else
			call LeaderboardDisplay(leaderboard001,false)
		endif
	elseif KO2==3 then
		if integer458==1 then
			set p1=Scourges[3]
			set p2=Scourges[4]
			set K22=Sentinels[2]
			set K32=Sentinels[3]
		else
			set p1=Sentinels[3]
			set p2=Sentinels[4]
			set K22=Scourges[2]
			set K32=Scourges[3]
		endif
		call Func0065(K22)
		call Func0065(K32)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p1)]+(Players_Name[GetPlayerId((p1))])+"|r"+" "+GetObjectName('n064'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p2)]+(Players_Name[GetPlayerId((p2))])+"|r"+" "+GetObjectName('n064'))
		call SetPlayerState(p1,PLAYER_STATE_RESOURCE_GOLD,integers141[GetPlayerId(p1)])
		call SetPlayerState(p2,PLAYER_STATE_RESOURCE_GOLD,integers141[GetPlayerId(p2)])
		if LocalPlayer==p1 or LocalPlayer==p2 then
			call LeaderboardDisplay(leaderboard001,true)
		else
			call LeaderboardDisplay(leaderboard001,false)
		endif
	elseif KO2==4 then
		if integer458==1 then
			set p1=Sentinels[4]
			set p2=Sentinels[5]
			set K22=Scourges[3]
			set K32=Scourges[4]
		else
			set p1=Scourges[4]
			set p2=Scourges[5]
			set K22=Sentinels[3]
			set K32=Sentinels[4]
		endif
		call Func0065(K22)
		call Func0065(K32)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p1)]+(Players_Name[GetPlayerId((p1))])+"|r"+" "+GetObjectName('n064'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p2)]+(Players_Name[GetPlayerId((p2))])+"|r"+" "+GetObjectName('n064'))
		call SetPlayerState(p1,PLAYER_STATE_RESOURCE_GOLD,integers141[GetPlayerId(p1)])
		call SetPlayerState(p2,PLAYER_STATE_RESOURCE_GOLD,integers141[GetPlayerId(p2)])
		if LocalPlayer==p1 or LocalPlayer==p2 then
			call LeaderboardDisplay(leaderboard001,true)
		else
			call LeaderboardDisplay(leaderboard001,false)
		endif
	elseif KO2==5 then
		if integer458==1 then
			set p1=Scourges[5]
			set K22=Sentinels[4]
			set K32=Sentinels[5]
		else
			set p1=Sentinels[5]
			set K22=Scourges[4]
			set K32=Scourges[5]
		endif
		call Func0065(K22)
		call Func0065(K32)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p1)]+(Players_Name[GetPlayerId((p1))])+"|r"+" "+GetObjectName('n064'))
		call SetPlayerState(p1,PLAYER_STATE_RESOURCE_GOLD,integers141[GetPlayerId(p1)])
		if LocalPlayer==p1 then
			call LeaderboardDisplay(leaderboard001,true)
		else
			call LeaderboardDisplay(leaderboard001,false)
		endif
	elseif KO2==6 then
		if integer458==1 then
			set K22=Scourges[5]
		else
			set K22=Sentinels[5]
		endif
		call Func0065(K22)
		call LeaderboardDisplay(leaderboard001,false)
		call SuspendTimeOfDay(false)
	endif
	if KO2>6 then
		set boolean116=true
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call SaveInteger(HY,(h),(25),(KO2+1))
	endif
	set t=null
	set p1=null
	set p2=null
	set K22=null
	set K32=null
	return false
endfunction

function Func1394 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h
	call CleanTrigger(t)
	call SuspendTimeOfDay(true)
	set integer458=GetRandomInt(1,2)
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00," ")
	if integer458==1 then
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,GetObjectName('n05K')+" "+Players_Color[GetPlayerId(Sentinels[0])]+GetObjectName('n065')+"|r"+" "+GetObjectName('n066'))
	else
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,GetObjectName('n05K')+" "+Players_Color[GetPlayerId(Scourges[0])]+GetObjectName('n06C')+"|r"+" "+GetObjectName('n066'))
	endif
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00," ")
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,20,true)
	call TriggerAddCondition(t,Condition(function Func1393))
	call SaveInteger(HY,(h),(25),(0))
	call Func1392()
	call TriggerEvaluate(t)
	set t=null
	return false
endfunction

function Func1395 takes nothing returns nothing
	local trigger t
	local integer x=1
	set boolean115=true
	set integer027=180
	set boolean039=false
	set boolean038=false
	call Func1071()
	set integers141[GetPlayerId(Sentinels[1])]=GetPlayerState(Sentinels[1],PLAYER_STATE_RESOURCE_GOLD)
	set integers141[GetPlayerId(Sentinels[2])]=GetPlayerState(Sentinels[2],PLAYER_STATE_RESOURCE_GOLD)
	set integers141[GetPlayerId(Sentinels[3])]=GetPlayerState(Sentinels[3],PLAYER_STATE_RESOURCE_GOLD)
	set integers141[GetPlayerId(Sentinels[4])]=GetPlayerState(Sentinels[4],PLAYER_STATE_RESOURCE_GOLD)
	set integers141[GetPlayerId(Sentinels[5])]=GetPlayerState(Sentinels[5],PLAYER_STATE_RESOURCE_GOLD)
	set integers141[GetPlayerId(Scourges[1])]=GetPlayerState(Scourges[1],PLAYER_STATE_RESOURCE_GOLD)
	set integers141[GetPlayerId(Scourges[2])]=GetPlayerState(Scourges[2],PLAYER_STATE_RESOURCE_GOLD)
	set integers141[GetPlayerId(Scourges[3])]=GetPlayerState(Scourges[3],PLAYER_STATE_RESOURCE_GOLD)
	set integers141[GetPlayerId(Scourges[4])]=GetPlayerState(Scourges[4],PLAYER_STATE_RESOURCE_GOLD)
	set integers141[GetPlayerId(Scourges[5])]=GetPlayerState(Scourges[5],PLAYER_STATE_RESOURCE_GOLD)
	call SetPlayerState(Sentinels[1],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Sentinels[2],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Sentinels[3],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Sentinels[4],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Sentinels[5],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Scourges[1],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Scourges[2],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Scourges[3],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Scourges[4],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Scourges[5],PLAYER_STATE_RESOURCE_GOLD,0)
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,15-GetTime(),false)
	call TriggerAddCondition(t,Condition(function Func1394))
	set t=null
endfunction

function Func1396 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer Count=GetTriggerEvalCount(t)
	local integer time=20-(Count-(Count/20)*20)
	call LeaderboardSetLabel(leaderboard002,"           "+GetObjectName('n0EZ')+" "+I2S(time))
	if Count>125 then
		call DestroyLeaderboard(leaderboard002)
		call Func1222()
		call CleanTrigger(t)
	endif
	set t=null
	return false
endfunction

function Func1397 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func1396))
	set leaderboard002=CreateLeaderboard()
	call LeaderboardSetStyle(leaderboard002,true,false,false,false)
	call LeaderboardDisplay(leaderboard002,false)
	call PlayerSetLeaderboard(Sentinels[1],leaderboard002)
	call PlayerSetLeaderboard(Sentinels[2],leaderboard002)
	call PlayerSetLeaderboard(Sentinels[3],leaderboard002)
	call PlayerSetLeaderboard(Sentinels[4],leaderboard002)
	call PlayerSetLeaderboard(Sentinels[5],leaderboard002)
	call PlayerSetLeaderboard(Scourges[1],leaderboard002)
	call PlayerSetLeaderboard(Scourges[2],leaderboard002)
	call PlayerSetLeaderboard(Scourges[3],leaderboard002)
	call PlayerSetLeaderboard(Scourges[4],leaderboard002)
	call PlayerSetLeaderboard(Scourges[5],leaderboard002)
	set t=null
endfunction

function Func1398 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer KO2=(LoadInteger(HY,(h),(25)))
	local player p1
	local player p2
	local player K22
	local player K32
	if KO2==0 then
		if integer459==1 then
			set p1=Sentinels[1]
		else
			set p1=Scourges[1]
		endif
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p1)]+(Players_Name[GetPlayerId((p1))])+"|r"+" "+GetObjectName('n064'))
		call SetPlayerState(p1,PLAYER_STATE_RESOURCE_GOLD,integers142[GetPlayerId(p1)])
		if LocalPlayer==p1 then
			call LeaderboardDisplay(leaderboard002,true)
		else
			call LeaderboardDisplay(leaderboard002,false)
		endif
	elseif KO2==1 then
		if integer459==1 then
			set p1=Scourges[1]
			set p2=Scourges[2]
			set K22=Sentinels[1]
		else
			set p1=Sentinels[1]
			set p2=Sentinels[2]
			set K22=Scourges[1]
		endif
		call Func0065(K22)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p1)]+(Players_Name[GetPlayerId((p1))])+"|r"+" "+GetObjectName('n064'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p2)]+(Players_Name[GetPlayerId((p2))])+"|r"+" "+GetObjectName('n064'))
		call SetPlayerState(p1,PLAYER_STATE_RESOURCE_GOLD,integers142[GetPlayerId(p1)])
		call SetPlayerState(p2,PLAYER_STATE_RESOURCE_GOLD,integers142[GetPlayerId(p2)])
		if LocalPlayer==p1 or LocalPlayer==p2 then
			call LeaderboardDisplay(leaderboard002,true)
		else
			call LeaderboardDisplay(leaderboard002,false)
		endif
	elseif KO2==2 then
		if integer459==1 then
			set p1=Sentinels[2]
			set p2=Sentinels[3]
			set K22=Scourges[1]
			set K32=Scourges[2]
		else
			set p1=Scourges[2]
			set p2=Scourges[3]
			set K22=Sentinels[1]
			set K32=Sentinels[2]
		endif
		call Func0065(K22)
		call Func0065(K32)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p1)]+(Players_Name[GetPlayerId((p1))])+"|r"+" "+GetObjectName('n064'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p2)]+(Players_Name[GetPlayerId((p2))])+"|r"+" "+GetObjectName('n064'))
		call SetPlayerState(p1,PLAYER_STATE_RESOURCE_GOLD,integers142[GetPlayerId(p1)])
		call SetPlayerState(p2,PLAYER_STATE_RESOURCE_GOLD,integers142[GetPlayerId(p2)])
		if LocalPlayer==p1 or LocalPlayer==p2 then
			call LeaderboardDisplay(leaderboard002,true)
		else
			call LeaderboardDisplay(leaderboard002,false)
		endif
	elseif KO2==3 then
		if integer459==1 then
			set p1=Scourges[3]
			set p2=Scourges[4]
			set K22=Sentinels[2]
			set K32=Sentinels[3]
		else
			set p1=Sentinels[3]
			set p2=Sentinels[4]
			set K22=Scourges[2]
			set K32=Scourges[3]
		endif
		call Func0065(K22)
		call Func0065(K32)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p1)]+(Players_Name[GetPlayerId((p1))])+"|r"+" "+GetObjectName('n064'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p2)]+(Players_Name[GetPlayerId((p2))])+"|r"+" "+GetObjectName('n064'))
		call SetPlayerState(p1,PLAYER_STATE_RESOURCE_GOLD,integers142[GetPlayerId(p1)])
		call SetPlayerState(p2,PLAYER_STATE_RESOURCE_GOLD,integers142[GetPlayerId(p2)])
		if LocalPlayer==p1 or LocalPlayer==p2 then
			call LeaderboardDisplay(leaderboard002,true)
		else
			call LeaderboardDisplay(leaderboard002,false)
		endif
	elseif KO2==4 then
		if integer459==1 then
			set p1=Sentinels[4]
			set p2=Sentinels[5]
			set K22=Scourges[3]
			set K32=Scourges[4]
		else
			set p1=Scourges[4]
			set p2=Scourges[5]
			set K22=Sentinels[3]
			set K32=Sentinels[4]
		endif
		call Func0065(K22)
		call Func0065(K32)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p1)]+(Players_Name[GetPlayerId((p1))])+"|r"+" "+GetObjectName('n064'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p2)]+(Players_Name[GetPlayerId((p2))])+"|r"+" "+GetObjectName('n064'))
		call SetPlayerState(p1,PLAYER_STATE_RESOURCE_GOLD,integers142[GetPlayerId(p1)])
		call SetPlayerState(p2,PLAYER_STATE_RESOURCE_GOLD,integers142[GetPlayerId(p2)])
		if LocalPlayer==p1 or LocalPlayer==p2 then
			call LeaderboardDisplay(leaderboard002,true)
		else
			call LeaderboardDisplay(leaderboard002,false)
		endif
	elseif KO2==5 then
		if integer459==1 then
			set p1=Scourges[5]
			set K22=Sentinels[4]
			set K32=Sentinels[5]
		else
			set p1=Sentinels[5]
			set K22=Scourges[4]
			set K32=Scourges[5]
		endif
		call Func0065(K22)
		call Func0065(K32)
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,Players_Color[GetPlayerId(p1)]+(Players_Name[GetPlayerId((p1))])+"|r"+" "+GetObjectName('n064'))
		call SetPlayerState(p1,PLAYER_STATE_RESOURCE_GOLD,integers142[GetPlayerId(p1)])
		if LocalPlayer==p1 then
			call LeaderboardDisplay(leaderboard002,true)
		else
			call LeaderboardDisplay(leaderboard002,false)
		endif
	elseif KO2==6 then
		if integer459==1 then
			set K22=Scourges[5]
		else
			set K22=Sentinels[5]
		endif
		call Func0065(K22)
		call LeaderboardDisplay(leaderboard002,false)
		call SuspendTimeOfDay(false)
	endif
	if KO2>6 then
		set boolean118=true
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call SaveInteger(HY,(h),(25),(KO2+1))
	endif
	set t=null
	set p1=null
	set p2=null
	set K22=null
	set K32=null
	return false
endfunction

function Func1399 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local trigger M82=(LoadTriggerHandle(HY,(h),(169)))
	set boolean092=true
	call CleanTrigger(M82)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,20,true)
	call TriggerAddCondition(t,Condition(function Func1398))
	call SaveInteger(HY,(h),(25),(0))
	call SetPlayerState(Sentinels[1],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Scourges[1],PLAYER_STATE_RESOURCE_GOLD,0)
	call EnableTrigger(trigger052)
	call EnableTrigger(trigger050)
	set integer459=GetRandomInt(1,2)
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00," ")
	if integer459==1 then
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,GetObjectName('n09O')+" "+GetObjectName('n05K')+" "+Players_Color[GetPlayerId(Sentinels[0])]+GetObjectName('n065')+"|r"+" "+GetObjectName('n066'))
	else
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,GetObjectName('n09O')+" "+GetObjectName('n05K')+" "+Players_Color[GetPlayerId(Scourges[0])]+GetObjectName('n06C')+"|r"+" "+GetObjectName('n066'))
	endif
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00," ")
	call Func1397()
	call TriggerEvaluate(t)
	set t=null
	set M82=null
	return false
endfunction

function Func1400 takes nothing returns boolean
	local unit Hero=GetSoldUnit()
	local string MA2=Players_Color[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(Players_Name[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r"
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20,MA2+" "+GetObjectName('n09I')+" "+GetUnitName(Hero)+" "+GetObjectName('n09N'))
	call Func0062(GetUnitTypeId(GetSoldUnit()))
	call Traffic_RegisterData("Ban"+I2S(GetPlayerId(GetOwningPlayer(GetSoldUnit()))),GetUnitTypeId(GetSoldUnit()))
	call RemoveUnit(GetSoldUnit())
	set Hero=null
	return false
endfunction

function Func1401 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local trigger M82=CreateTrigger()
	local integer h
	local string MC2=Players_Color[GetPlayerId(Sentinels[1])]+(Players_Name[GetPlayerId((Sentinels[1]))])+"|r"
	local string MD2=Players_Color[GetPlayerId(Scourges[1])]+(Players_Name[GetPlayerId((Scourges[1]))])+"|r"
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00," ")
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00,MC2+" "+GetObjectName('n09K'))
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00,MD2+" "+GetObjectName('n09K'))
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00," ")
	call CleanTrigger(t)
	call TriggerRegisterAnyUnitEvent(M82,EVENT_PLAYER_UNIT_SELL)
	call TriggerAddCondition(M82,Condition(function Func1400))
	call SuspendTimeOfDay(true)
	call DisableTrigger(trigger052)
	call DisableTrigger(trigger050)
	call SetPlayerState(Sentinels[1],PLAYER_STATE_RESOURCE_GOLD,1000)
	call SetPlayerState(Scourges[1],PLAYER_STATE_RESOURCE_GOLD,1000)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SaveTriggerHandle(HY,(h),(169),(M82))
	call TriggerRegisterTimerEvent(t,20,false)
	call TriggerAddCondition(t,Condition(function Func1399))
	set M82=null
	set t=null
	return false
endfunction

function Func1402 takes nothing returns nothing
	local trigger t
	local location spawnscrg=GetRectCenter(rect029)
	local location spawnsent=GetRectCenter(rect030)
	local integer x=1
	loop
		exitwhen x>5
		if IsPlayer(Sentinels[x])then
			call CreateUnitAtLoc(Sentinels[x],'n00C',spawnsent,270)
		endif
		if IsPlayer(Scourges[x])then
			call CreateUnitAtLoc(Scourges[x],'n00C',spawnscrg,270)
		endif
		set x=x+1
	endloop
	call RemoveLocation(spawnscrg)
	call RemoveLocation(spawnsent)
	set boolean117=true
	set integer027=180
	set boolean039=false
	set boolean038=false
	set boolean092=false
	call Func1071()
	set integers142[GetPlayerId(Sentinels[1])]=GetPlayerState(Sentinels[1],PLAYER_STATE_RESOURCE_GOLD)
	set integers142[GetPlayerId(Sentinels[2])]=GetPlayerState(Sentinels[2],PLAYER_STATE_RESOURCE_GOLD)
	set integers142[GetPlayerId(Sentinels[3])]=GetPlayerState(Sentinels[3],PLAYER_STATE_RESOURCE_GOLD)
	set integers142[GetPlayerId(Sentinels[4])]=GetPlayerState(Sentinels[4],PLAYER_STATE_RESOURCE_GOLD)
	set integers142[GetPlayerId(Sentinels[5])]=GetPlayerState(Sentinels[5],PLAYER_STATE_RESOURCE_GOLD)
	set integers142[GetPlayerId(Scourges[1])]=GetPlayerState(Scourges[1],PLAYER_STATE_RESOURCE_GOLD)
	set integers142[GetPlayerId(Scourges[2])]=GetPlayerState(Scourges[2],PLAYER_STATE_RESOURCE_GOLD)
	set integers142[GetPlayerId(Scourges[3])]=GetPlayerState(Scourges[3],PLAYER_STATE_RESOURCE_GOLD)
	set integers142[GetPlayerId(Scourges[4])]=GetPlayerState(Scourges[4],PLAYER_STATE_RESOURCE_GOLD)
	set integers142[GetPlayerId(Scourges[5])]=GetPlayerState(Scourges[5],PLAYER_STATE_RESOURCE_GOLD)
	call SetPlayerState(Sentinels[1],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Sentinels[2],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Sentinels[3],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Sentinels[4],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Sentinels[5],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Scourges[1],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Scourges[2],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Scourges[3],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Scourges[4],PLAYER_STATE_RESOURCE_GOLD,0)
	call SetPlayerState(Scourges[5],PLAYER_STATE_RESOURCE_GOLD,0)
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,15-GetTime(),false)
	call TriggerAddCondition(t,Condition(function Func1401))
	set t=null
	set spawnscrg=null
	set spawnsent=null
endfunction

function Func1403 takes nothing returns boolean
	local player T4I
	set boolean041=true
	set T4I=Sentinels[1]
	if(GetPlayerSlotState((T4I))==PLAYER_SLOT_STATE_EMPTY)==false and booleans006[GetPlayerId(T4I)]==false then
		call Func0085(T4I)
	endif
	set T4I=Sentinels[2]
	if(GetPlayerSlotState((T4I))==PLAYER_SLOT_STATE_EMPTY)==false and booleans006[GetPlayerId(T4I)]==false then
		call Func0085(T4I)
	endif
	set T4I=Sentinels[3]
	if(GetPlayerSlotState((T4I))==PLAYER_SLOT_STATE_EMPTY)==false and booleans006[GetPlayerId(T4I)]==false then
		call Func0085(T4I)
	endif
	set T4I=Sentinels[4]
	if(GetPlayerSlotState((T4I))==PLAYER_SLOT_STATE_EMPTY)==false and booleans006[GetPlayerId(T4I)]==false then
		call Func0085(T4I)
	endif
	set T4I=Sentinels[5]
	if(GetPlayerSlotState((T4I))==PLAYER_SLOT_STATE_EMPTY)==false and booleans006[GetPlayerId(T4I)]==false then
		call Func0085(T4I)
	endif
	set T4I=Scourges[1]
	if(GetPlayerSlotState((T4I))==PLAYER_SLOT_STATE_EMPTY)==false and booleans006[GetPlayerId(T4I)]==false then
		call Func0085(T4I)
	endif
	set T4I=Scourges[2]
	if(GetPlayerSlotState((T4I))==PLAYER_SLOT_STATE_EMPTY)==false and booleans006[GetPlayerId(T4I)]==false then
		call Func0085(T4I)
	endif
	set T4I=Scourges[3]
	if(GetPlayerSlotState((T4I))==PLAYER_SLOT_STATE_EMPTY)==false and booleans006[GetPlayerId(T4I)]==false then
		call Func0085(T4I)
	endif
	set T4I=Scourges[4]
	if(GetPlayerSlotState((T4I))==PLAYER_SLOT_STATE_EMPTY)==false and booleans006[GetPlayerId(T4I)]==false then
		call Func0085(T4I)
	endif
	set T4I=Scourges[5]
	if(GetPlayerSlotState((T4I))==PLAYER_SLOT_STATE_EMPTY)==false and booleans006[GetPlayerId(T4I)]==false then
		call Func0085(T4I)
	endif
	return false
endfunction

function Func1404 takes nothing returns boolean
	set boolean038=false
	set boolean039=false
	call Func0066()
	return false
endfunction

function Func1405 takes nothing returns nothing
	local integer h=2000
	local player array LN2
	local player array LS2
	local integer x=0
	local integer y=0
	local integer i=0
	local trigger t=CreateTrigger()
	set boolean040=true
	call TriggerAddCondition(t,Condition(function Func1403))
	call TriggerRegisterTimerEvent(t,60-GetTime(),false)
	set t=CreateTrigger()
	call TriggerAddCondition(t,Condition(function Func1404))
	call TriggerRegisterTimerEvent(t,57-GetTime(),false)
	set t=null
	if IsPlayer(Sentinels[1])then
		set x=x+1
		set LN2[x]=Sentinels[1]
	endif
	if IsPlayer(Sentinels[2])then
		set x=x+1
		set LN2[x]=Sentinels[2]
	endif
	if IsPlayer(Sentinels[3])then
		set x=x+1
		set LN2[x]=Sentinels[3]
	endif
	if IsPlayer(Sentinels[4])then
		set x=x+1
		set LN2[x]=Sentinels[4]
	endif
	if IsPlayer(Sentinels[5])then
		set x=x+1
		set LN2[x]=Sentinels[5]
	endif
	if IsPlayer(Scourges[1])then
		set y=y+1
		set LS2[y]=Scourges[1]
	endif
	if IsPlayer(Scourges[2])then
		set y=y+1
		set LS2[y]=Scourges[2]
	endif
	if IsPlayer(Scourges[3])then
		set y=y+1
		set LS2[y]=Scourges[3]
	endif
	if IsPlayer(Scourges[4])then
		set y=y+1
		set LS2[y]=Scourges[4]
	endif
	if IsPlayer(Scourges[5])then
		set y=y+1
		set LS2[y]=Scourges[5]
	endif
	set i=1
	loop
		exitwhen i>x
		call SavePlayerHandle(HY,(2000),(550+GetPlayerId(LN2[i])),(LS2[i]))
		call SavePlayerHandle(HY,(2000),(550+GetPlayerId(LS2[i])),(LN2[i]))
		set i=i+1
	endloop
endfunction

function Func1406 takes nothing returns nothing
	call Func0128(GetEnumUnit())
endfunction

function Func1407 takes unit Hero returns nothing
	local integer MV2=GetPlayerId(GetOwningPlayer(Hero))
	set items001[MV2]=UnitItemInSlot(Hero,0)
	set items002[MV2]=UnitItemInSlot(Hero,1)
	set items003[MV2]=UnitItemInSlot(Hero,2)
	set items004[MV2]=UnitItemInSlot(Hero,3)
	set items005[MV2]=UnitItemInSlot(Hero,4)
	set items006[MV2]=UnitItemInSlot(Hero,5)
endfunction

function Func1408 takes player RZI,player RVI returns integer
	local unit MX2=Players_Hero[GetPlayerId(RZI)]
	local unit MY2=Players_Hero[GetPlayerId(RVI)]
	call UnitRemoveBuffs(MX2,true,true)
	call UnitRemoveBuffs(MY2,true,true)
	if MX2==null and MY2==null then
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15,Players_Color[GetPlayerId(Sentinels[0])]+(Players_Name[GetPlayerId((RZI))])+" "+GetObjectName('n067')+" "+(Players_Name[GetPlayerId((RVI))])+" "+GetObjectName('n0A0')+"|r")
	elseif GetRandomInt(1,2)==1 then
		if(MX2!=null)then
			return GetUnitTypeId(MX2)
		else
			return GetUnitTypeId(MY2)
		endif
	else
		if(MY2!=null)then
			return GetUnitTypeId(MY2)
		else
			return GetUnitTypeId(MX2)
		endif
	endif
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15,Players_Color[GetPlayerId(Sentinels[0])]+(Players_Name[GetPlayerId((RZI))])+" "+GetObjectName('n067')+" "+(Players_Name[GetPlayerId((RVI))])+" "+GetObjectName('n09B'))
	return GetSetElement()
endfunction

function Func1409 takes nothing returns nothing
	if(GetUnitTypeId(GetEnumUnit())=='n004')then
		call RemoveUnit(GetEnumUnit())
	endif
	if(GetUnitTypeId(GetEnumUnit())=='o003')then
		call RemoveUnit(GetEnumUnit())
	endif
endfunction

function Func1410 takes nothing returns boolean
	local integer TGI
	local group ML2=GetAvailableGroup()
	local unit MM2
	local location LY2=GetRectCenter(Hero_Creation_NE)
	local location LJ2=GetRectCenter(Hero_Creation_UD)
	local integer MN2=CountPlayersInForce(Force_Elfs)
	local player array MS2
	local player array MT2
	local integer x
	local integer y
	local real MR2
	local real MP2
	local real MQ2
	local integer MU2
	local group Z51=GetAvailableGroup()
	call GroupEnumUnitsInRect(Z51,GetWorldBounds(),Condition(function ReturnTrue))
	call ForGroup(Z51,function Func1409)
	call KillGroup(Z51)
	set TGI=1
	set x=1
	set y=1
	loop
		exitwhen TGI>5
		if(IsPlayer(Sentinels[TGI]))then
			call Func1407(Players_Hero[GetPlayerId(Sentinels[TGI])])
			call GroupAddUnit(ML2,Players_Hero[GetPlayerId(Sentinels[TGI])])
			set MS2[x]=Sentinels[TGI]
			set x=x+1
		endif
		if(IsPlayer(Scourges[TGI]))then
			call Func1407(Players_Hero[GetPlayerId(Scourges[TGI])])
			call GroupAddUnit(ML2,Players_Hero[GetPlayerId(Scourges[TGI])])
			set MT2[y]=Scourges[TGI]
			set y=y+1
		endif
		set TGI=TGI+1
	endloop
	set x=1
	loop
		exitwhen x>MN2
		set MU2=Func1408(MS2[x],MT2[x])
		if(Players_Hero[GetPlayerId(MS2[x])]==null)then
			set MR2=GetLocationX(LY2)+GetRandomReal(1,40)
			set MP2=GetLocationY(LY2)+GetRandomReal(1,40)
			set MQ2=270
		else
			set MR2=GetUnitX(Players_Hero[GetPlayerId(MS2[x])])
			set MP2=GetUnitY(Players_Hero[GetPlayerId(MS2[x])])
			set MQ2=GetUnitFacing(Players_Hero[GetPlayerId(MS2[x])])
			call SetUnitPathing(Players_Hero[GetPlayerId(MS2[x])],false)
		endif
		set Players_Hero[GetPlayerId(MS2[x])]=CreateUnit(MS2[x],MU2,MR2,MP2,MQ2)
		call SetUnitPathing(Players_Hero[GetPlayerId(MS2[x])],false)
		call SetUnitPosition(Players_Hero[GetPlayerId(MS2[x])],MR2,MP2)
		call UnitAddItem(Players_Hero[GetPlayerId(MS2[x])],items001[GetPlayerId(MS2[x])])
		call UnitAddItem(Players_Hero[GetPlayerId(MS2[x])],items002[GetPlayerId(MS2[x])])
		call UnitAddItem(Players_Hero[GetPlayerId(MS2[x])],items003[GetPlayerId(MS2[x])])
		call UnitAddItem(Players_Hero[GetPlayerId(MS2[x])],items004[GetPlayerId(MS2[x])])
		call UnitAddItem(Players_Hero[GetPlayerId(MS2[x])],items005[GetPlayerId(MS2[x])])
		call UnitAddItem(Players_Hero[GetPlayerId(MS2[x])],items006[GetPlayerId(MS2[x])])
		call ClearSelectionForPlayer(MS2[x])
		call SelectUnitAddForPlayer(Players_Hero[GetPlayerId(MS2[x])],MS2[x])
		call PanCameraToTimedForPlayer(MS2[x],MR2,MP2,0)
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Awaken\\Awaken.mdl",MR2,MP2))
		if(Players_Hero[GetPlayerId(MT2[x])]==null)then
			set MR2=GetLocationX(LJ2)
			set MP2=GetLocationY(LJ2)
			set MQ2=270
		else
			set MR2=GetUnitX(Players_Hero[GetPlayerId(MT2[x])])
			set MP2=GetUnitY(Players_Hero[GetPlayerId(MT2[x])])
			set MQ2=GetUnitFacing(Players_Hero[GetPlayerId(MT2[x])])
			call SetUnitPathing(Players_Hero[GetPlayerId(MT2[x])],false)
		endif
		set Players_Hero[GetPlayerId(MT2[x])]=CreateUnit(MT2[x],MU2,MR2,MP2,MQ2)
		call SetUnitPathing(Players_Hero[GetPlayerId(MT2[x])],false)
		call SetUnitPosition(Players_Hero[GetPlayerId(MT2[x])],MR2,MP2)
		call UnitAddItem(Players_Hero[GetPlayerId(MT2[x])],items001[GetPlayerId(MT2[x])])
		call UnitAddItem(Players_Hero[GetPlayerId(MT2[x])],items002[GetPlayerId(MT2[x])])
		call UnitAddItem(Players_Hero[GetPlayerId(MT2[x])],items003[GetPlayerId(MT2[x])])
		call UnitAddItem(Players_Hero[GetPlayerId(MT2[x])],items004[GetPlayerId(MT2[x])])
		call UnitAddItem(Players_Hero[GetPlayerId(MT2[x])],items005[GetPlayerId(MT2[x])])
		call UnitAddItem(Players_Hero[GetPlayerId(MT2[x])],items006[GetPlayerId(MT2[x])])
		call ClearSelectionForPlayer(MT2[x])
		call SelectUnitAddForPlayer(Players_Hero[GetPlayerId(MT2[x])],MT2[x])
		call PanCameraToTimedForPlayer(MT2[x],MR2,MP2,0)
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Awaken\\Awaken.mdl",MR2,MP2))
		set x=x+1
	endloop
	call ForGroup(ML2,function Func1406)
	call KillGroup(ML2)
	set x=1
	loop
		exitwhen x>MN2
		call SetUnitPathing(Players_Hero[GetPlayerId(MS2[x])],true)
		call SetUnitPathing(Players_Hero[GetPlayerId(MT2[x])],true)
		set x=x+1
	endloop
	call RemoveLocation(LY2)
	call RemoveLocation(LJ2)
	set ML2=null
	set MM2=null
	set LY2=null
	set LJ2=null
	set Z51=null
	return false
endfunction

function Func1411 takes nothing returns boolean
	set boolean026=true
	return false
endfunction

function Func1412 takes nothing returns boolean
	set boolean039=false
	set boolean038=false
	call Func0066()
	return false
endfunction

function Func1413 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call DisplayTimedTextToForceEx(Force_All,10,GetObjectName('n09H'))
	call DisplayTimedTextToForceEx(Force_All,10,GetObjectName('n09E'))
	set boolean027=true
	call Func0062('H00I')
	call TriggerRegisterTimerEvent(t,60-GetTime(),false)
	call TriggerAddCondition(t,Condition(function Func1410))
	set t=CreateTrigger()
	call TriggerAddCondition(t,Condition(function Func1412))
	call TriggerRegisterTimerEvent(t,57-GetTime(),false)
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,55+60-GetTime(),false)
	call TriggerAddCondition(t,Condition(function Func1411))
	set t=null
endfunction

function Func1414 takes nothing returns nothing
	local location spawnscrg=GetRectCenter(rect017)
	local location spawnsent=GetRectCenter(rect016)
	local location LY2=GetRectCenter(Hero_Creation_NE)
	local location LJ2=GetRectCenter(Hero_Creation_UD)
	local integer TGI
	local integer THI
	local integer TJI
	if not boolean028 then
		call Func0066()
	endif
	set boolean005=true
	set integer003=400
	set boolean038=false
	call PanCameraToTimedLocForPlayer(Sentinels[1],LY2,0)
	call PanCameraToTimedLocForPlayer(Sentinels[2],LY2,0)
	call PanCameraToTimedLocForPlayer(Sentinels[3],LY2,0)
	call PanCameraToTimedLocForPlayer(Sentinels[4],LY2,0)
	call PanCameraToTimedLocForPlayer(Sentinels[5],LY2,0)
	call PanCameraToTimedLocForPlayer(Scourges[1],LJ2,0)
	call PanCameraToTimedLocForPlayer(Scourges[2],LJ2,0)
	call PanCameraToTimedLocForPlayer(Scourges[3],LJ2,0)
	call PanCameraToTimedLocForPlayer(Scourges[4],LJ2,0)
	call PanCameraToTimedLocForPlayer(Scourges[5],LJ2,0)
	if boolean033 then
		if IsSentinel(PlayerModeTyper)then
			loop
				set TJI=GetRandomInt(FirstSentinelHeroIndexId,LastSentinelHeroIndexId)
				exitwhen booleans001[TJI]==false
			endloop
			set Players_Hero[GetPlayerId(PlayerModeTyper)]=CreateUnit(PlayerModeTyper,Hero_ID[TJI],GetLocationX(spawnscrg),GetLocationY(spawnscrg),270)
		else
			loop
				set TJI=GetRandomInt(FirstScourgeHeroIndexId,LastHeroIndexId)
				exitwhen booleans001[TJI]==false
			endloop
			set Players_Hero[GetPlayerId(PlayerModeTyper)]=CreateUnit(PlayerModeTyper,Hero_ID[TJI],GetLocationX(spawnsent),GetLocationY(spawnsent),270)
		endif
		call RemoveLocation(spawnscrg)
		call RemoveLocation(spawnsent)
		call RemoveLocation(LY2)
		call RemoveLocation(LJ2)
		return
	endif
	set boolean039=false
	set TGI=1
	set THI=5
	loop
		exitwhen TGI>THI
		set Players_Hero[GetPlayerId(Sentinels[TGI])]=null
		if(IsPlayer(Sentinels[TGI]))then
			loop
				set TJI=GetRandomInt(FirstSentinelHeroIndexId,LastSentinelHeroIndexId)
				if(booleans001[TJI]==false)then
					if not boolean028 then
						set booleans001[TJI]=true
					endif
					set Players_Hero[GetPlayerId(Sentinels[TGI])]=CreateUnitAtLoc(Sentinels[TGI],Hero_ID[TJI],spawnscrg,270)
				endif
				exitwhen(Players_Hero[GetPlayerId(Sentinels[TGI])]!=null)
			endloop
		endif
		set TGI=TGI+1
	endloop
	set TGI=1
	set THI=5
	loop
		exitwhen TGI>THI
		set Players_Hero[GetPlayerId(Scourges[TGI])]=null
		if(IsPlayer(Scourges[TGI]))then
			loop
				set TJI=GetRandomInt(FirstScourgeHeroIndexId,LastHeroIndexId)
				if(booleans001[TJI]==false)then
					if not boolean028 then
						set booleans001[TJI]=true
					endif
					set Players_Hero[GetPlayerId(Scourges[TGI])]=CreateUnitAtLoc(Scourges[TGI],Hero_ID[TJI],spawnsent,270)
				endif
				exitwhen(Players_Hero[GetPlayerId(Scourges[TGI])]!=null)
			endloop
		endif
		set TGI=TGI+1
	endloop
	set boolean039=true
	call RemoveLocation(spawnscrg)
	call RemoveLocation(spawnsent)
	call RemoveLocation(LY2)
	call RemoveLocation(LJ2)
endfunction

function Func1415 takes nothing returns nothing
	set boolean056=true
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10,GetObjectName('n06K')+" "+GetObjectName('n06L'))
	call DisableTrigger(GetTriggeringTrigger())
endfunction

function Func1416 takes nothing returns nothing
	local integer N42=S2I(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))
	if N42>integer028 then
		call Error(PlayerModeTyper,GetObjectName('n03C'))
	elseif N42<10 then
		call Error(PlayerModeTyper,GetObjectName('n02I'))
	else
		set integer028=N42
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10,GetObjectName('n06X')+" "+I2S(integer028)+" "+GetObjectName('n06N'))
		call DisableTrigger(GetTriggeringTrigger())
	endif
endfunction

function Func1417 takes nothing returns nothing
	call DisableTrigger((LoadTriggerHandle(HY,(GetHandleId(GetTriggeringTrigger())),(170))))
	call DisableTrigger((LoadTriggerHandle(HY,(GetHandleId(GetTriggeringTrigger())),(171))))
	call DisableTrigger(GetTriggeringTrigger())
endfunction

function Func1418 takes nothing returns nothing
	local trigger N72=CreateTrigger()
	local trigger N82=CreateTrigger()
	local trigger nd=CreateTrigger()
	set integer028=Func0130(LastSentinelHeroIndexId,LastHeroIndexId-FirstScourgeHeroIndexId+1)
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00," ")
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n06O')+" -nd "+GetObjectName('n067')+" -lives xx "+GetObjectName('n06Q'))
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,GetObjectName('n060')+" "+I2S(integer028))
	call TriggerRegisterTimerEvent(N72,15,false)
	call TriggerAddAction(N72,function Func1417)
	call SaveTriggerHandle(HY,(GetHandleId(N72)),(170),(nd))
	call SaveTriggerHandle(HY,(GetHandleId(N72)),(171),(N82))
	call TriggerRegisterPlayerChatEvent(nd,PlayerModeTyper,"-nd",true)
	call TriggerAddAction(nd,function Func1415)
	call TriggerRegisterPlayerChatEvent(N82,PlayerModeTyper,"-lives",false)
	call TriggerAddAction(N82,function Func1416)
endfunction

function Func1419 takes nothing returns nothing
	local integer NA2=(LoadInteger(HY,(GetHandleId(GetTriggeringTrigger())),(173)))
	local integer TGI
	local integer THI
	local integer TJI
	local integer O91
	local location spawnscrg=GetRectCenter(rect029)
	local location spawnsent=GetRectCenter(rect030)
	if boolean036 then
		return
	endif
	if IsSentinel(Player(NA2))then
		set TGI=FirstSentinelHeroIndexId
		set THI=LastSentinelHeroIndexId
		set O91=0
	else
		set TGI=FirstScourgeHeroIndexId
		set THI=LastHeroIndexId
		set O91=1
	endif
	if boolean006 then
		set TGI=FirstSentinelHeroIndexId
		set THI=LastHeroIndexId
		if IsSentinel(Player(NA2))then
			call CreateUnitAtLoc(Player(NA2),'n00C',spawnscrg,270)
			call CreateUnitAtLoc(Player(NA2),'n00C',spawnsent,270)
		else
			call CreateUnitAtLoc(Player(NA2),'n00C',spawnscrg,270)
			call CreateUnitAtLoc(Player(NA2),'n00C',spawnsent,270)
		endif
	else
		set TGI=FirstSentinelHeroIndexId
		set THI=LastHeroIndexId
		if IsSentinel(Player(NA2))then
			call CreateUnitAtLoc(Player(NA2),'n00C',spawnscrg,270)
		else
			call CreateUnitAtLoc(Player(NA2),'n00C',spawnsent,270)
		endif
	endif
	if not boolean004 then
		loop
			exitwhen TGI>THI
			if booleans001[TGI]==false then
				call SetPlayerTechMaxAllowed(Player(NA2),Hero_ID[TGI],1)
			endif
			set TGI=TGI+1
		endloop
		if(GetPlayerState(Player(NA2),PLAYER_STATE_RESOURCE_GOLD)<250)then
			call SetPlayerState(Player(NA2),PLAYER_STATE_RESOURCE_GOLD,250)
		endif
	elseif(integers031[O91]<integer028)then
		set Players_Hero[NA2]=null
		if IsPlayer(Player(NA2))then
			loop
				set TJI=GetSetElement()
				if booleans001[TJI]==false then
					set booleans001[TJI]=true
					if IsSentinel(Player(NA2))then
						set Players_Hero[NA2]=CreateUnitAtLoc(Player(NA2),Hero_ID[TJI],spawnscrg,270)
					else
						set Players_Hero[NA2]=CreateUnitAtLoc(Player(NA2),Hero_ID[TJI],spawnsent,270)
					endif
				endif
				exitwhen Players_Hero[NA2]!=null
			endloop
		endif
	endif
	call RemoveLocation(spawnscrg)
	call RemoveLocation(spawnsent)
	if not boolean004 then
	endif
endfunction

function Func1420 takes nothing returns nothing
	local location BFO
	local real NB2
	local trigger t
	local integer NC2
	local integer x
	set Mode_DM=true
	call Func0062('H00I')
	set x=1
	loop
		exitwhen x>5
		set NC2=GetPlayerId(Sentinels[x])
		set t=CreateTrigger()
		call TriggerRegisterTimerExpireEvent(t,timers002[NC2])
		call TriggerAddAction(t,function Func1419)
		call SaveInteger(HY,(GetHandleId(t)),(173),(NC2))
		set NC2=GetPlayerId(Scourges[x])
		set t=CreateTrigger()
		call TriggerRegisterTimerExpireEvent(t,timers002[NC2])
		call TriggerAddAction(t,function Func1419)
		call SaveInteger(HY,(GetHandleId(t)),(173),(NC2))
		set x=x+1
	endloop
	call UnitRemoveAbility(unit218,'Aawa')
	call UnitRemoveAbility(unit219,'Aawa')
	call UnitRemoveAbility(unit220,'Aawa')
	call UnitRemoveAbility(unit221,'Aawa')
	call UnitRemoveAbility(unit222,'Aawa')
	call UnitRemoveAbility(unit223,'Aawa')
	call UnitRemoveAbility(unit224,'Aawa')
	call UnitRemoveAbility(unit225,'Aawa')
	call UnitRemoveAbility(unit226,'Aawa')
	call UnitRemoveAbility(unit227,'Aawa')
	call ExecuteFunc("Func1418")
endfunction

function Func1421 takes nothing returns nothing
	local integer L42=GetRandomInt(1,4)
	set boolean029=true
	if(L42==1)then
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00,GetObjectName('n0FD'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00," ")
		call ExecuteFunc("Func1361")
	endif
	if(L42==2)then
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00,GetObjectName('n0FE'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00," ")
		call ExecuteFunc("Func1381")
	endif
	if(L42==3)then
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00,GetObjectName('n0FK'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00," ")
		call ExecuteFunc("Func1390")
	endif
	if(L42==4)then
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00,GetObjectName('n0FM'))
		call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,20.00," ")
		call ExecuteFunc("Func1430")
		call ExecuteFunc("Func1383")
	endif
endfunction

function Func1422 takes nothing returns nothing
	set boolean028=true
	call Func0062('H00I')
	call Func0062('N0MU')
endfunction

function Func1423 takes nothing returns nothing
	local integer ZB1=CountPlayersInForce(Force_Elfs)
	local integer ZA1=CountPlayersInForce(Force_Unds)
	local integer QHI=ZB1+ZA1
	local integer TGI
	local integer NF2
	local integer x
	local integer y
	local integer z
	local player array NG2
	local player array NH2
	local integer w
	local integer NZ2
	local integer NV2
	local location LY2=GetRectCenter(Hero_Creation_NE)
	local location LJ2=GetRectCenter(Hero_Creation_UD)
	local location spawnscrg=GetRectCenter(rect029)
	local location spawnsent=GetRectCenter(rect030)
	set boolean023=true
	call Func0437(Sentinels[1])
	call Func0437(Sentinels[2])
	call Func0437(Sentinels[3])
	call Func0437(Sentinels[4])
	call Func0437(Sentinels[5])
	call Func0437(Scourges[1])
	call Func0437(Scourges[2])
	call Func0437(Scourges[3])
	call Func0437(Scourges[4])
	call Func0437(Scourges[5])
	set x=1
	loop
		exitwhen x>5
		if IsPlayer(Sentinels[x])then
			call CreateUnitAtLoc(Sentinels[x],'n00C',spawnscrg,270)
			call CreateUnitAtLoc(Sentinels[x],'n00C',spawnsent,270)
		endif
		if IsPlayer(Scourges[x])then
			call CreateUnitAtLoc(Scourges[x],'n00C',spawnscrg,270)
			call CreateUnitAtLoc(Scourges[x],'n00C',spawnsent,270)
		endif
		set x=x+1
	endloop
	call RemoveLocation(spawnscrg)
	call RemoveLocation(spawnsent)
	set NZ2=GetPlayerState(Sentinels[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Sentinels[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Sentinels[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Sentinels[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Sentinels[5],PLAYER_STATE_RESOURCE_GOLD)
	set NV2=GetPlayerState(Scourges[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Scourges[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Scourges[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Scourges[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Scourges[5],PLAYER_STATE_RESOURCE_GOLD)
	set NG2[1]=null
	set NG2[2]=null
	set NG2[3]=null
	set NG2[4]=null
	set NG2[5]=null
	set NG2[6]=null
	set NG2[7]=null
	set NG2[8]=null
	set NG2[9]=null
	set NG2[10]=null
	set z=1
	set w=1
	set TGI=1
	loop
		exitwhen TGI>5
		if(IsPlayer(Sentinels[TGI]))then
			set NG2[w]=Sentinels[TGI]
			set w=w+1
		else
			set NH2[z]=Sentinels[TGI]
			set z=z+1
		endif
		set TGI=TGI+1
	endloop
	set TGI=1
	loop
		exitwhen TGI>5
		if(IsPlayer(Scourges[TGI]))then
			set NG2[w]=Scourges[TGI]
			set w=w+1
		else
			set NH2[z]=Scourges[TGI]
			set z=z+1
		endif
		set TGI=TGI+1
	endloop
	set Sentinels[1]=null
	set Sentinels[2]=null
	set Sentinels[3]=null
	set Sentinels[4]=null
	set Sentinels[5]=null
	set Scourges[1]=null
	set Scourges[2]=null
	set Scourges[3]=null
	set Scourges[4]=null
	set Scourges[5]=null
	set TGI=1
	loop
		exitwhen TGI>(QHI/2)
		set NF2=GetRandomInt(1,QHI)
		if(NG2[NF2]!=null)then
			set Sentinels[TGI]=NG2[NF2]
			set NG2[NF2]=null
			set TGI=TGI+1
		endif
	endloop
	set x=TGI
	set TGI=1
	loop
		exitwhen TGI>QHI-x+1
		set NF2=GetRandomInt(1,QHI)
		if(NG2[NF2]!=null)then
			set Scourges[TGI]=NG2[NF2]
			set NG2[NF2]=null
			set TGI=TGI+1
		endif
	endloop
	set z=TGI
	set TGI=x
	set y=1
	loop
		exitwhen TGI>5
		set Sentinels[TGI]=NH2[y]
		set y=y+1
		set TGI=TGI+1
	endloop
	set TGI=z
	loop
		exitwhen TGI>5
		set Scourges[TGI]=NH2[y]
		set y=y+1
		set TGI=TGI+1
	endloop
	set TGI=0
	loop
		exitwhen TGI>5
		set TGI=TGI+1
	endloop
	call SetPlayerTeam(Sentinels[0],0)
	call SetPlayerTeam(Sentinels[1],0)
	call SetPlayerTeam(Sentinels[2],0)
	call SetPlayerTeam(Sentinels[3],0)
	call SetPlayerTeam(Sentinels[4],0)
	call SetPlayerTeam(Sentinels[5],0)
	call SetPlayerTeam(Scourges[0],1)
	call SetPlayerTeam(Scourges[1],1)
	call SetPlayerTeam(Scourges[2],1)
	call SetPlayerTeam(Scourges[3],1)
	call SetPlayerTeam(Scourges[4],1)
	call SetPlayerTeam(Scourges[5],1)
	call Func0396()
	set x=0
	set y=0
	loop
		exitwhen x>5
		loop
			exitwhen y>5
			call SetPlayerAllianceStateBJ(Sentinels[x],Sentinels[y],3)
			call SetPlayerAllianceStateBJ(Scourges[x],Scourges[y],3)
			call SetPlayerAllianceStateBJ(Sentinels[x],Scourges[y],0)
			call SetPlayerAllianceStateBJ(Scourges[x],Sentinels[y],0)
			set y=y+1
		endloop
		set y=0
		set x=x+1
	endloop
	call ForceClear(Force_Elfs)
	call ForceClear(Force_Unds)
	call ForceAddPlayer(Force_Elfs,Sentinels[0])
	call ForceAddPlayer(Force_Elfs,Sentinels[1])
	call ForceAddPlayer(Force_Elfs,Sentinels[2])
	call ForceAddPlayer(Force_Elfs,Sentinels[3])
	call ForceAddPlayer(Force_Elfs,Sentinels[4])
	call ForceAddPlayer(Force_Elfs,Sentinels[5])
	call ForceAddPlayer(Force_Unds,Scourges[0])
	call ForceAddPlayer(Force_Unds,Scourges[1])
	call ForceAddPlayer(Force_Unds,Scourges[2])
	call ForceAddPlayer(Force_Unds,Scourges[3])
	call ForceAddPlayer(Force_Unds,Scourges[4])
	call ForceAddPlayer(Force_Unds,Scourges[5])
	call ExecuteFunc("Func0397")
	call DisplayLeaderBoard()
	set ZB1=CountPlayersInForce(Force_Elfs)
	set ZA1=CountPlayersInForce(Force_Unds)
	set TGI=1
	loop
		exitwhen TGI>5
		if(IsPlayer(Sentinels[TGI]))then
			call SetPlayerStateBJ(Sentinels[TGI],PLAYER_STATE_RESOURCE_GOLD,(4375/ZB1))
			call SetPlayerStateBJ(Sentinels[TGI],PLAYER_STATE_RESOURCE_LUMBER,0)
		endif
		if(IsPlayer(Scourges[TGI]))then
			call SetPlayerStateBJ(Scourges[TGI],PLAYER_STATE_RESOURCE_GOLD,(4375/ZA1))
			call SetPlayerStateBJ(Scourges[TGI],PLAYER_STATE_RESOURCE_LUMBER,0)
		endif
		set TGI=TGI+1
	endloop
	if isObserversMode then
		set x=0
		loop
			exitwhen x>5
			call SetPlayerAlliance(Player(0),Sentinels[x],ALLIANCE_PASSIVE,true)
			call SetPlayerAlliance(Player(0),Sentinels[x],ALLIANCE_SHARED_SPELLS,true)
			call SetPlayerAlliance(Player(0),Scourges[x],ALLIANCE_PASSIVE,false)
			call SetPlayerAlliance(Player(0),Scourges[x],ALLIANCE_SHARED_SPELLS,false)
			set x=x+1
		endloop
	endif
	call StorePlayersColorValues()
	set LY2=null
	set LJ2=null
	set spawnscrg=null
	set spawnsent=null
endfunction

function Func1424 takes nothing returns nothing
	local integer ZB1=CountPlayersInForce(Force_Elfs)
	local integer ZA1=CountPlayersInForce(Force_Unds)
	local integer QHI=ZB1+ZA1
	local integer TGI
	local integer NF2
	local integer x
	local integer y
	local integer z
	local player array NG2
	local player array NH2
	local integer w
	local integer NZ2
	local integer NV2
	local location LY2
	local location LJ2
	local location spawnscrg
	local location spawnsent
	local integer NX2
	set NX2=GetRandomInt(1,2)
	call DisplayTimedTextToPlayer(LocalPlayer,0,0,10,GetObjectName('n0GY'))
	if NX2==1 then
		return
	endif
	set boolean119=true
	set LY2=GetRectCenter(Hero_Creation_NE)
	set LJ2=GetRectCenter(Hero_Creation_UD)
	set spawnscrg=GetRectCenter(rect029)
	set spawnsent=GetRectCenter(rect030)
	call Func0437(Sentinels[1])
	call Func0437(Sentinels[2])
	call Func0437(Sentinels[3])
	call Func0437(Sentinels[4])
	call Func0437(Sentinels[5])
	call Func0437(Scourges[1])
	call Func0437(Scourges[2])
	call Func0437(Scourges[3])
	call Func0437(Scourges[4])
	call Func0437(Scourges[5])
	set x=1
	loop
		exitwhen x>5
		if IsPlayer(Sentinels[x])then
			call CreateUnitAtLoc(Sentinels[x],'n00C',spawnscrg,270)
			call CreateUnitAtLoc(Sentinels[x],'n00C',spawnsent,270)
		endif
		if IsPlayer(Scourges[x])then
			call CreateUnitAtLoc(Scourges[x],'n00C',spawnscrg,270)
			call CreateUnitAtLoc(Scourges[x],'n00C',spawnsent,270)
		endif
		set x=x+1
	endloop
	call RemoveLocation(spawnscrg)
	call RemoveLocation(spawnsent)
	set NZ2=GetPlayerState(Sentinels[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Sentinels[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Sentinels[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Sentinels[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Sentinels[5],PLAYER_STATE_RESOURCE_GOLD)
	set NV2=GetPlayerState(Scourges[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Scourges[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Scourges[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Scourges[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Scourges[5],PLAYER_STATE_RESOURCE_GOLD)
	set NG2[1]=Sentinels[1]
	set NG2[2]=Sentinels[2]
	set NG2[3]=Sentinels[3]
	set NG2[4]=Sentinels[4]
	set NG2[5]=Sentinels[5]
	set NG2[6]=Scourges[1]
	set NG2[7]=Scourges[2]
	set NG2[8]=Scourges[3]
	set NG2[9]=Scourges[4]
	set NG2[10]=Scourges[5]
	set Sentinels[1]=NG2[6]
	set Sentinels[2]=NG2[7]
	set Sentinels[3]=NG2[8]
	set Sentinels[4]=NG2[9]
	set Sentinels[5]=NG2[10]
	set Scourges[1]=NG2[1]
	set Scourges[2]=NG2[2]
	set Scourges[3]=NG2[3]
	set Scourges[4]=NG2[4]
	set Scourges[5]=NG2[5]
	call SetPlayerTeam(Sentinels[0],0)
	call SetPlayerTeam(Sentinels[1],0)
	call SetPlayerTeam(Sentinels[2],0)
	call SetPlayerTeam(Sentinels[3],0)
	call SetPlayerTeam(Sentinels[4],0)
	call SetPlayerTeam(Sentinels[5],0)
	call SetPlayerTeam(Scourges[0],1)
	call SetPlayerTeam(Scourges[1],1)
	call SetPlayerTeam(Scourges[2],1)
	call SetPlayerTeam(Scourges[3],1)
	call SetPlayerTeam(Scourges[4],1)
	call SetPlayerTeam(Scourges[5],1)
	call Func0396()
	set x=0
	set y=0
	loop
		exitwhen x>5
		loop
			exitwhen y>5
			call SetPlayerAllianceStateBJ(Sentinels[x],Sentinels[y],3)
			call SetPlayerAllianceStateBJ(Scourges[x],Scourges[y],3)
			call SetPlayerAllianceStateBJ(Sentinels[x],Scourges[y],0)
			call SetPlayerAllianceStateBJ(Scourges[x],Sentinels[y],0)
			set y=y+1
		endloop
		set y=0
		set x=x+1
	endloop
	call ForceClear(Force_Elfs)
	call ForceClear(Force_Unds)
	call ForceAddPlayer(Force_Elfs,Sentinels[0])
	call ForceAddPlayer(Force_Elfs,Sentinels[1])
	call ForceAddPlayer(Force_Elfs,Sentinels[2])
	call ForceAddPlayer(Force_Elfs,Sentinels[3])
	call ForceAddPlayer(Force_Elfs,Sentinels[4])
	call ForceAddPlayer(Force_Elfs,Sentinels[5])
	call ForceAddPlayer(Force_Unds,Scourges[0])
	call ForceAddPlayer(Force_Unds,Scourges[1])
	call ForceAddPlayer(Force_Unds,Scourges[2])
	call ForceAddPlayer(Force_Unds,Scourges[3])
	call ForceAddPlayer(Force_Unds,Scourges[4])
	call ForceAddPlayer(Force_Unds,Scourges[5])
	call ExecuteFunc("Func0397")
	set ZB1=CountPlayersInForce(Force_Elfs)
	set ZA1=CountPlayersInForce(Force_Unds)
	set TGI=1
	loop
		exitwhen TGI>5
		if(IsPlayer(Sentinels[TGI]))then
			call SetPlayerStateBJ(Sentinels[TGI],PLAYER_STATE_RESOURCE_GOLD,(4375/ZB1))
			call SetPlayerStateBJ(Sentinels[TGI],PLAYER_STATE_RESOURCE_LUMBER,0)
		endif
		if(IsPlayer(Scourges[TGI]))then
			call SetPlayerStateBJ(Scourges[TGI],PLAYER_STATE_RESOURCE_GOLD,(4375/ZA1))
			call SetPlayerStateBJ(Scourges[TGI],PLAYER_STATE_RESOURCE_LUMBER,0)
		endif
		set TGI=TGI+1
	endloop
	call PanCameraToTimedLocForPlayer(Sentinels[1],LY2,0)
	call PanCameraToTimedLocForPlayer(Sentinels[2],LY2,0)
	call PanCameraToTimedLocForPlayer(Sentinels[3],LY2,0)
	call PanCameraToTimedLocForPlayer(Sentinels[4],LY2,0)
	call PanCameraToTimedLocForPlayer(Sentinels[5],LY2,0)
	call PanCameraToTimedLocForPlayer(Scourges[1],LJ2,0)
	call PanCameraToTimedLocForPlayer(Scourges[2],LJ2,0)
	call PanCameraToTimedLocForPlayer(Scourges[3],LJ2,0)
	call PanCameraToTimedLocForPlayer(Scourges[4],LJ2,0)
	call PanCameraToTimedLocForPlayer(Scourges[5],LJ2,0)
	call DestroyFogModifier(CreateFogModifierRectBJ(true,Sentinels[1],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
	call DestroyFogModifier(CreateFogModifierRectBJ(true,Sentinels[2],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
	call DestroyFogModifier(CreateFogModifierRectBJ(true,Sentinels[3],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
	call DestroyFogModifier(CreateFogModifierRectBJ(true,Sentinels[4],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
	call DestroyFogModifier(CreateFogModifierRectBJ(true,Sentinels[5],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
	call DestroyFogModifier(CreateFogModifierRectBJ(true,Scourges[1],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
	call DestroyFogModifier(CreateFogModifierRectBJ(true,Scourges[2],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
	call DestroyFogModifier(CreateFogModifierRectBJ(true,Scourges[3],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
	call DestroyFogModifier(CreateFogModifierRectBJ(true,Scourges[4],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
	call DestroyFogModifier(CreateFogModifierRectBJ(true,Scourges[5],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
	if isObserversMode then
		set x=0
		loop
			exitwhen x>5
			call SetPlayerAlliance(Player(0),Sentinels[x],ALLIANCE_PASSIVE,true)
			call SetPlayerAlliance(Player(0),Sentinels[x],ALLIANCE_SHARED_SPELLS,true)
			call SetPlayerAlliance(Player(0),Scourges[x],ALLIANCE_PASSIVE,false)
			call SetPlayerAlliance(Player(0),Scourges[x],ALLIANCE_SHARED_SPELLS,false)
			set x=x+1
		endloop
	endif
	call StorePlayersColorValues()
	call DisplayLeaderBoard()
	set LY2=null
	set LJ2=null
	set spawnscrg=null
	set spawnsent=null
endfunction

function Func1425 takes nothing returns nothing
	local integer TGI
	local integer THI
	set boolean030=true
	set TGI=1
	set THI=IntHeroes_Count
	loop
		exitwhen TGI>THI
		call Func0062(IntHeroes_Array[TGI])
		set TGI=TGI+1
	endloop
	set TGI=1
	set THI=StrHeroes_Count
	loop
		exitwhen TGI>THI
		call Func0062(StrHeroes_Array[TGI])
		set TGI=TGI+1
	endloop
endfunction

function Func1426 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer SZI=(LoadInteger(HY,(h),(172)))
	local player T4I
	local integer x=1
	loop
		exitwhen x>5
		set T4I=Sentinels[x]
		if IsPlayer(T4I)and T4I!=PlayerModeTyper then
			set Players_Hero[GetPlayerId(T4I)]=CreateUnit(T4I,SZI,GetRectCenterX(Hero_Creation_NE),GetRectCenterY(Hero_Creation_NE),270)
		endif
		set T4I=Scourges[x]
		if IsPlayer(T4I)and T4I!=PlayerModeTyper then
			set Players_Hero[GetPlayerId(T4I)]=CreateUnit(T4I,SZI,GetRectCenterX(Hero_Creation_UD),GetRectCenterY(Hero_Creation_UD),270)
		endif
		set x=x+1
	endloop
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set T4I=null
	return false
endfunction

function Func1427 takes nothing returns nothing
	local integer x=1
	local player T4I
	local unit Hero=GetTriggerUnit()
	local integer SZI=GetUnitTypeId(Hero)
	local trigger t
	local integer h
	if(GetOwningPlayer(Hero)==PlayerModeTyper and IsUnitType(Hero,UNIT_TYPE_HERO))then
		call DisableTrigger(GetTriggeringTrigger())
		if booleans004[GetPlayerId(PlayerModeTyper)]==false and boolean004==false and boolean005==false then
			call SetPlayerState(PlayerModeTyper,PLAYER_STATE_RESOURCE_GOLD,250+GetPlayerState(PlayerModeTyper,PLAYER_STATE_RESOURCE_GOLD))
		endif
		set booleans003[GetPlayerId(PlayerModeTyper)]=true
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,0.01,false)
		call TriggerAddCondition(t,Condition(function Func1426))
		call SaveInteger(HY,(h),(172),(SZI))
	endif
	set T4I=null
	set Hero=null
	set t=null
endfunction

function Func1428 takes nothing returns nothing
	local integer x=1
	local trigger t=CreateTrigger()
	local region r=CreateRegion()
	set boolean033=true
	call Func0062('H00I')
	call Func0062('N0MU')
	loop
		exitwhen x>5
		if(Sentinels[x]!=PlayerModeTyper)then
			call Func0065(Sentinels[x])
			set booleans004[GetPlayerId(Sentinels[x])]=true
			set booleans003[GetPlayerId(Sentinels[x])]=true
		endif
		if(Scourges[x]!=PlayerModeTyper)then
			call Func0065(Scourges[x])
			set booleans004[GetPlayerId(Scourges[x])]=true
			set booleans003[GetPlayerId(Scourges[x])]=true
		endif
		set x=x+1
	endloop
	call RegionAddRect(r,bj_mapInitialPlayableArea)
	call TriggerRegisterEnterRegion(t,r,Condition(function ReturnTrue))
	call TriggerAddAction(t,function Func1427)
endfunction

function Func1429 takes nothing returns nothing
	local integer TGI
	local integer THI
	set boolean032=true
	set TGI=1
	set THI=IntHeroes_Count
	loop
		exitwhen TGI>THI
		call Func0062(IntHeroes_Array[TGI])
		set TGI=TGI+1
	endloop
	set TGI=1
	set THI=AgiHeroes_Count
	loop
		exitwhen TGI>THI
		call Func0062(AgiHeroes_Array[TGI])
		set TGI=TGI+1
	endloop
endfunction

function Func1430 takes nothing returns nothing
	local integer TGI
	local integer THI
	set boolean031=true
	set TGI=1
	set THI=AgiHeroes_Count
	loop
		exitwhen TGI>THI
		call Func0062(AgiHeroes_Array[TGI])
		set TGI=TGI+1
	endloop
	set TGI=1
	set THI=StrHeroes_Count
	loop
		exitwhen TGI>THI
		call Func0062(StrHeroes_Array[TGI])
		set TGI=TGI+1
	endloop
endfunction

function Func1431 takes nothing returns nothing
	local integer TGI
	local integer THI
	set boolean120=true
	set TGI=1
	set THI=RangeHeroes_Count
	loop
		exitwhen TGI>THI
		call Func0062(RangeHeroes_Array[TGI])
		set TGI=TGI+1
	endloop
endfunction

function Func1432 takes nothing returns nothing
	local integer TGI
	local integer THI
	set boolean121=true
	set TGI=1
	set THI=MeleeHeroes_Count
	loop
		exitwhen TGI>THI
		call Func0062(MeleeHeroes_Array[TGI])
		set TGI=TGI+1
	endloop
endfunction

function Func1433 takes nothing returns nothing
	set boolean007=true
endfunction

function Func1434 takes nothing returns nothing
	set boolean008=true
	call SetPlayerTechResearched(Sentinels[0],'R004',1)
	call SetPlayerTechResearched(Scourges[0],'R004',1)
	call SetPlayerHandicapXP(Sentinels[1],1.5)
	call SetPlayerHandicapXP(Sentinels[2],1.5)
	call SetPlayerHandicapXP(Sentinels[3],1.5)
	call SetPlayerHandicapXP(Sentinels[4],1.5)
	call SetPlayerHandicapXP(Sentinels[5],1.5)
	call SetPlayerHandicapXP(Scourges[1],1.5)
	call SetPlayerHandicapXP(Scourges[2],1.5)
	call SetPlayerHandicapXP(Scourges[3],1.5)
	call SetPlayerHandicapXP(Scourges[4],1.5)
	call SetPlayerHandicapXP(Scourges[5],1.5)
endfunction

function Func1435 takes nothing returns nothing
	set boolean009=true
	call DisableTrigger(trigger056)
endfunction

function Func1436 takes nothing returns nothing
	set boolean010=true
endfunction

function Func1437 takes nothing returns nothing
	set boolean123=false
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10,GetObjectName('n0HA'))
	call DisableTrigger(GetTriggeringTrigger())
endfunction

function Func1438 takes nothing returns nothing
	call DisableTrigger((LoadTriggerHandle(HY,(GetHandleId(GetTriggeringTrigger())),(174))))
	call DisableTrigger(GetTriggeringTrigger())
endfunction

function Func1439 takes nothing returns nothing
	local trigger N72=CreateTrigger()
	local trigger nn=CreateTrigger()
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00," ")
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,10.00,"Extra commands: -noneutrals can be entered in the following 15 seconds. ")
	call TriggerRegisterTimerEvent(N72,15,false)
	call TriggerAddAction(N72,function Func1438)
	call SaveTriggerHandle(HY,(GetHandleId(N72)),(174),(nn))
	call TriggerRegisterPlayerChatEvent(nn,PlayerModeTyper,"-noneutrals",true)
	call TriggerAddAction(nn,function Func1437)
endfunction

function Func1440 takes nothing returns nothing
	set boolean122=true
	call ExecuteFunc("Func1439")
endfunction

function Func1441 takes nothing returns nothing
	set boolean124=true
endfunction

function Func1442 takes nothing returns nothing
	set boolean125=true
endfunction

function Func1443 takes nothing returns nothing
	set boolean126=true
endfunction

function Func1444 takes nothing returns nothing
	set boolean127=true
endfunction

function Func1445 takes nothing returns nothing
	set boolean051=true
	set boolean052=false
endfunction

function Func1446 takes nothing returns nothing
	set boolean128=true
endfunction

function Func1447 takes nothing returns nothing
	set Mode_SO=true
endfunction

function Func1448 takes nothing returns nothing
	set boolean054=true
endfunction

function Func1449 takes nothing returns nothing
	local integer i=0
	loop
		exitwhen i>5
		call SetPlayerName(Sentinels[i],(Players_Name[GetPlayerId((Sentinels[i]))])+" ("+I2S(integers001[GetPlayerId(Sentinels[i])])+"/"+I2S(integers002[GetPlayerId(Sentinels[i])])+" | "+I2S(PlayerCS[GetPlayerId(Sentinels[i])])+"-"+I2S(CSDenies[GetPlayerId(Sentinels[i])])+")")
		call SetPlayerName(Scourges[i],(Players_Name[GetPlayerId((Scourges[i]))])+" ("+I2S(integers001[GetPlayerId(Scourges[i])])+"/"+I2S(integers002[GetPlayerId(Scourges[i])])+" | "+I2S(PlayerCS[GetPlayerId(Scourges[i])])+"-"+I2S(CSDenies[GetPlayerId(Scourges[i])])+")")
		set i=i+1
	endloop
endfunction

function Func1450 takes nothing returns boolean
	if boolean129==false then
		if LocalPlayer==Observer1 or LocalPlayer==Observer2 then
			call Func1449()
		endif
	endif
	return false
endfunction

function Func1451 takes nothing returns nothing
	set boolean129=true
endfunction

function Func1452 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	call SetUnitScale(Hero,GetUnitDefaultScale(Hero)*real258,GetUnitDefaultScale(Hero)*real258,GetUnitDefaultScale(Hero)*real258)
	set Hero=null
endfunction

function Func1453 takes nothing returns boolean
	if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
		call Func1452()
	endif
	return false
endfunction

function Func1454 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)
	call TriggerAddCondition(t,Condition(function Func1453))
	set boolean130=true
	set real258=0.5
endfunction

function Func1455 takes nothing returns nothing
	set boolean131=true
endfunction

function Func1456 takes nothing returns nothing
	set boolean053=true
endfunction

function Func1457 takes nothing returns boolean
	if LocalPlayer==Observer1 or LocalPlayer==Observer2 then
		if GetTriggerEvalCount(GetTriggeringTrigger())==1 then
			call CameraSetupSetDestPosition(camerasetup001,0,0,0.0)
		else
			call CameraSetupSetDestPosition(camerasetup001,GetCameraTargetPositionX(),GetCameraTargetPositionY(),0.0)
		endif
		call CameraSetupApplyForPlayer(true,camerasetup001,LocalPlayer,0)
		call SetTerrainFogEx(0,0.0,100000.0,0.500,0.353,0.314,0.235)
	endif
	return false
endfunction

function Func1458 takes nothing returns nothing
	local trigger t=CreateTrigger()
	set boolean132=true
	set camerasetup001=CreateCameraSetup()
	call CameraSetupSetField(camerasetup001,CAMERA_FIELD_ZOFFSET,0.0,0.0)
	call CameraSetupSetField(camerasetup001,CAMERA_FIELD_ROTATION,90.0,0.0)
	call CameraSetupSetField(camerasetup001,CAMERA_FIELD_ANGLE_OF_ATTACK,304.0,0.0)
	call CameraSetupSetField(camerasetup001,CAMERA_FIELD_TARGET_DISTANCE,2500.0,0.0)
	call CameraSetupSetField(camerasetup001,CAMERA_FIELD_ROLL,0.0,0.0)
	call CameraSetupSetField(camerasetup001,CAMERA_FIELD_FIELD_OF_VIEW,70.0,0.0)
	call CameraSetupSetField(camerasetup001,CAMERA_FIELD_FARZ,16000.0,0.0)
	call CameraSetupSetDestPosition(camerasetup001,0.0,0.0,0.0)
	call TriggerRegisterTimerEvent(t,180,true)
	call TriggerRegisterTimerEvent(t,0.1,false)
	call TriggerAddCondition(t,Condition(function Func1457))
	set t=null
endfunction

function Func1459 takes nothing returns boolean
	return IsSentinel(GetOwningPlayer(GetFilterUnit()))and Func0096(GetFilterUnit()) and GetUnitTypeId(GetFilterUnit())!='H00J'
endfunction

function Func1460 takes nothing returns boolean
	return Func0052(GetOwningPlayer(GetFilterUnit()))and Func0096(GetFilterUnit()) and GetUnitTypeId(GetFilterUnit())!='H00J'
endfunction

function Func1461 takes nothing returns nothing
	local unit u=GetEnumUnit()
	call SetUnitState(u,UNIT_STATE_LIFE,GetUnitState(u,UNIT_STATE_LIFE)+200)
	call SetUnitState(u,UNIT_STATE_MANA,GetUnitState(u,UNIT_STATE_MANA)+200)
	call SetPlayerState(GetOwningPlayer(u),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetOwningPlayer(u),PLAYER_STATE_RESOURCE_GOLD)+150)
	call AddHeroXP(u,248,true)
	set u=null
endfunction

function Func1462 takes integer i,integer JF2,integer r,integer g,integer b,integer a,real x,real y,boolean SG2 returns nothing
	local integer h=GetHandleId(GetTriggeringTrigger())
	local image SH2=(LoadImageHandle(HY,(h),(476+i)))
	local image SZ2=(LoadImageHandle(HY,(h),(484+i)))
	if SH2!=null then
		call DestroyImage(SH2)
		call SaveImageHandle(HY,(h),(476+i),(null))
		set SH2=null
	endif
	if SZ2!=null then
		call DestroyImage(SZ2)
		call SaveImageHandle(HY,(h),(484+i),(null))
		set SZ2=null
	endif
	if SG2==false or JF2<1 then
		return
	endif
	if StringLength(I2S(JF2))>1 then
		call Func1345("Fonts\\"+SubString(I2S(JF2),0,1)+".blp",120,120,x-30,y,0,true)
		call SetImageColor(image001,r,g,b,a)
		set SH2=image001
		call Func1345("Fonts\\"+SubString(I2S(JF2),1,2)+".blp",120,120,x+30,y,0,true)
		call SetImageColor(image001,r,g,b,a)
		set SZ2=image001
	else
		call Func1345("Fonts\\0.blp",120,120,x-30,y,0,true)
		call SetImageColor(image001,r,g,b,a)
		set SH2=image001
		call Func1345("Fonts\\"+SubString(I2S(JF2),0,1)+".blp",120,120,x+30,y,0,true)
		call SetImageColor(image001,r,g,b,a)
		set SZ2=image001
	endif
	call SaveImageHandle(HY,(h),(476+i),(SH2))
	call SaveImageHandle(HY,(h),(484+i),(SZ2))
	set SH2=null
	set SZ2=null
endfunction

function Func1463 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local group SW2=GetAvailableGroup()
	local group SX2=GetAvailableGroup()
	local integer SY2
	local integer SJ2
	local real x
	local real y
	local rect r
	local player SK2
	local player SL2
	local integer i=0
	local integer Q4I
	local unit CP
	local real time
	local real SOI=GetTime()
	loop
		exitwhen i>5
		set r=(LoadRectHandle(HY,(h),(460+i)))
		set Q4I=(LoadInteger(HY,(h),(492+i)))
		set CP=(LoadUnitHandle(HY,(h),(452+i)))
		set SK2=GetOwningPlayer(CP)
		set SL2=(LoadPlayerHandle(HY,(h),(468+i)))
		set x=GetRectCenterX(r)
		set y=GetRectCenterY(r)
		call GroupEnumUnitsInRect(SW2,r,Condition(function Func1459))
		call GroupEnumUnitsInRect(SX2,r,Condition(function Func1460))
		set SY2=CountUnitsInGroup(SW2)
		set SJ2=CountUnitsInGroup(SX2)
		if(SY2>0 and SJ2>0)or(SY2==0 and SJ2==0)then
			if SK2==Player15 then
				set SL2=Player15
				call SavePlayerHandle(HY,(h),(468+i),(SL2))
			endif
			set Q4I=61
			call SaveInteger(HY,(h),(492+i),(Q4I))
		elseif SY2>0 and SJ2==0 then
			set SL2=Sentinels[1]
			call SavePlayerHandle(HY,(h),(468+i),(SL2))
			set Q4I=Q4I-SY2
			call SaveInteger(HY,(h),(492+i),(Q4I))
		elseif SJ2>0 and SY2==0 then
			set SL2=Scourges[1]
			call SavePlayerHandle(HY,(h),(468+i),(SL2))
			set Q4I=Q4I-SJ2
			call SaveInteger(HY,(h),(492+i),(Q4I))
		endif
		if SL2==Player15 and SK2!=Player15 then
			call SetUnitColor(CP,GetPlayerColor(SL2))
			call SetUnitOwner(CP,SL2,false)
			call Func1462(i,Q4I,255,0,0,255,x,y,false)
		elseif SL2==SK2 then
			call Func1462(i,Q4I,255,0,0,255,x,y,false)
			set Q4I=61
			call SaveInteger(HY,(h),(492+i),(Q4I))
		elseif SL2!=Player15 then
			if Q4I<61 then
				call Func1462(i,Q4I,255,0,0,255,x,y,true)
			else
				call Func1462(i,Q4I,255,0,0,255,x,y,false)
			endif
			if Q4I<1 then
				call PingMinimapEx(x,y,2,255,255,255,false)
				call Func0112(SL2,"Sound\\Interface\\Rescue.wav")
				call SetUnitOwner(CP,SL2,false)
				set Q4I=61
				call SaveInteger(HY,(h),(492+i),(Q4I))
				call SaveReal(HY,(h),(500+i),((SOI)*1.0))
				if IsSentinel(SL2)then
					call SetUnitColor(CP,GetPlayerColor(Sentinels[0]))
					call DisplayTimedTextToPlayer(LocalPlayer,0,0,10,"|c00ff0303The Sentinel now controls a Capture Point.|r")
					call ForGroup(SW2,function Func1461)
				else
					call SetUnitColor(CP,GetPlayerColor(Scourges[0]))
					call DisplayTimedTextToPlayer(LocalPlayer,0,0,10,"|c00ff0303The Scourge now controls a Capture Point.|r")
					call ForGroup(SX2,function Func1461)
				endif
			endif
		endif
		set i=i+1
	endloop
	call KillGroup(SW2)
	call KillGroup(SX2)
	set SW2=null
	set SX2=null
	return false
endfunction

function Func1464 takes nothing returns boolean
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local fogmodifier fm
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func1463))
	call PingMinimapEx(GetRectCenterX(rect207),GetRectCenterY(rect207),4,255,255,255,false)
	call PingMinimapEx(GetRectCenterX(rect209),GetRectCenterY(rect209),4,255,255,255,false)
	call PingMinimapEx(GetRectCenterX(rect211),GetRectCenterY(rect211),4,255,255,255,false)
	call PingMinimapEx(GetRectCenterX(rect208),GetRectCenterY(rect208),4,255,255,255,false)
	call PingMinimapEx(GetRectCenterX(rect210),GetRectCenterY(rect210),4,255,255,255,false)
	call PingMinimapEx(GetRectCenterX(rect212),GetRectCenterY(rect212),4,255,255,255,false)
	set unit256=CreateUnit(Player15,'ncp2',GetRectCenterX(rect207),GetRectCenterY(rect207),0)
	set unit257=CreateUnit(Player15,'ncp2',GetRectCenterX(rect209),GetRectCenterY(rect209),0)
	set unit258=CreateUnit(Player15,'ncp2',GetRectCenterX(rect211),GetRectCenterY(rect211),0)
	set unit259=CreateUnit(Player15,'ncp2',GetRectCenterX(rect208),GetRectCenterY(rect208),0)
	set unit260=CreateUnit(Player15,'ncp2',GetRectCenterX(rect210),GetRectCenterY(rect210),0)
	set unit261=CreateUnit(Player15,'ncp2',GetRectCenterX(rect212),GetRectCenterY(rect212),0)
	set fm=CreateFogModifierRadius(Sentinels[1],FOG_OF_WAR_VISIBLE,GetRectCenterX(rect207),GetRectCenterY(rect207),600,true,true)
	call FogModifierStart(fm)
	set fm=CreateFogModifierRadius(Scourges[1],FOG_OF_WAR_VISIBLE,GetRectCenterX(rect207),GetRectCenterY(rect207),600,true,true)
	call FogModifierStart(fm)
	set fm=CreateFogModifierRadius(Sentinels[1],FOG_OF_WAR_VISIBLE,GetRectCenterX(rect209),GetRectCenterY(rect209),600,true,true)
	call FogModifierStart(fm)
	set fm=CreateFogModifierRadius(Scourges[1],FOG_OF_WAR_VISIBLE,GetRectCenterX(rect209),GetRectCenterY(rect209),600,true,true)
	call FogModifierStart(fm)
	set fm=CreateFogModifierRadius(Sentinels[1],FOG_OF_WAR_VISIBLE,GetRectCenterX(rect211),GetRectCenterY(rect211),600,true,true)
	call FogModifierStart(fm)
	set fm=CreateFogModifierRadius(Scourges[1],FOG_OF_WAR_VISIBLE,GetRectCenterX(rect211),GetRectCenterY(rect211),600,true,true)
	call FogModifierStart(fm)
	set fm=CreateFogModifierRadius(Sentinels[1],FOG_OF_WAR_VISIBLE,GetRectCenterX(rect208),GetRectCenterY(rect208),600,true,true)
	call FogModifierStart(fm)
	set fm=CreateFogModifierRadius(Scourges[1],FOG_OF_WAR_VISIBLE,GetRectCenterX(rect208),GetRectCenterY(rect208),600,true,true)
	call FogModifierStart(fm)
	set fm=CreateFogModifierRadius(Sentinels[1],FOG_OF_WAR_VISIBLE,GetRectCenterX(rect210),GetRectCenterY(rect210),600,true,true)
	call FogModifierStart(fm)
	set fm=CreateFogModifierRadius(Scourges[1],FOG_OF_WAR_VISIBLE,GetRectCenterX(rect210),GetRectCenterY(rect210),600,true,true)
	call FogModifierStart(fm)
	set fm=CreateFogModifierRadius(Sentinels[1],FOG_OF_WAR_VISIBLE,GetRectCenterX(rect212),GetRectCenterY(rect212),600,true,true)
	call FogModifierStart(fm)
	set fm=CreateFogModifierRadius(Scourges[1],FOG_OF_WAR_VISIBLE,GetRectCenterX(rect212),GetRectCenterY(rect212),600,true,true)
	call FogModifierStart(fm)
	call Func0162("Speed",unit256,255,233,12)
	call Func0162("Speed",unit259,255,233,12)
	call Func0162("Combat",unit257,255,233,12)
	call Func0162("Combat",unit260,255,233,12)
	call Func0162("Regen",unit258,255,233,12)
	call Func0162("Regen",unit261,255,233,12)
	call UnitAddAbility(unit256,'S00O')
	call UnitAddAbility(unit259,'S00R')
	call UnitAddAbility(unit257,'A1PO')
	call UnitAddAbility(unit257,'A1PL')
	call UnitAddAbility(unit260,'A1PN')
	call UnitAddAbility(unit260,'A1PJ')
	call UnitAddAbility(unit258,'A1PV')
	call UnitAddAbility(unit258,'A1PF')
	call UnitAddAbility(unit261,'A1PD')
	call UnitAddAbility(unit261,'A1PE')
	set real259=61
	set real260=61
	set real261=61
	set real262=61
	set real263=61
	set real264=61
	call SaveUnitHandle(HY,(h),(452),(unit256))
	call SaveUnitHandle(HY,(h),(453),(unit257))
	call SaveUnitHandle(HY,(h),(454),(unit258))
	call SaveUnitHandle(HY,(h),(455),(unit259))
	call SaveUnitHandle(HY,(h),(456),(unit260))
	call SaveUnitHandle(HY,(h),(457),(unit261))
	call SaveReal(HY,(h),(500),((-1)*1.0))
	call SaveReal(HY,(h),(501),((-1)*1.0))
	call SaveReal(HY,(h),(502),((-1)*1.0))
	call SaveReal(HY,(h),(503),((-1)*1.0))
	call SaveReal(HY,(h),(504),((-1)*1.0))
	call SaveReal(HY,(h),(505),((-1)*1.0))
	call SaveRectHandle(HY,(h),(460),(rect207))
	call SaveRectHandle(HY,(h),(461),(rect209))
	call SaveRectHandle(HY,(h),(462),(rect211))
	call SaveRectHandle(HY,(h),(463),(rect208))
	call SaveRectHandle(HY,(h),(464),(rect210))
	call SaveRectHandle(HY,(h),(465),(rect212))
	call SavePlayerHandle(HY,(h),(468),(Player15))
	call SavePlayerHandle(HY,(h),(469),(Player15))
	call SavePlayerHandle(HY,(h),(470),(Player15))
	call SavePlayerHandle(HY,(h),(471),(Player15))
	call SavePlayerHandle(HY,(h),(472),(Player15))
	call SavePlayerHandle(HY,(h),(473),(Player15))
	call SaveInteger(HY,(h),(492),(61))
	call SaveInteger(HY,(h),(493),(61))
	call SaveInteger(HY,(h),(494),(61))
	call SaveInteger(HY,(h),(495),(61))
	call SaveInteger(HY,(h),(496),(61))
	call SaveInteger(HY,(h),(497),(61))
	call SaveImageHandle(HY,(h),(476),(null))
	call SaveImageHandle(HY,(h),(484),(null))
	call SaveImageHandle(HY,(h),(477),(null))
	call SaveImageHandle(HY,(h),(485),(null))
	call SaveImageHandle(HY,(h),(478),(null))
	call SaveImageHandle(HY,(h),(486),(null))
	call SaveImageHandle(HY,(h),(479),(null))
	call SaveImageHandle(HY,(h),(487),(null))
	call SaveImageHandle(HY,(h),(480),(null))
	call SaveImageHandle(HY,(h),(488),(null))
	call SaveImageHandle(HY,(h),(481),(null))
	call SaveImageHandle(HY,(h),(489),(null))
	call CleanTrigger(GetTriggeringTrigger())
	set t=null
	return false
endfunction

function Func1465 takes nothing returns nothing
	local trigger t
	if boolean133 then
		set t=CreateTrigger()
		call TriggerRegisterTimerEvent(t,600,false)
		call TriggerAddCondition(t,Condition(function Func1464))
		set t=null
	endif
endfunction

function Func1466 takes nothing returns nothing
	set boolean133=true
endfunction

function Func1467 takes nothing returns nothing
	local integer indexId=GetIndex(GetEnumItem())
	if GetWidgetLife(GetEnumItem())>0 and GetItemPlayer(GetEnumItem())==player021 and indexId!=integer198 and indexId!=integer212 and indexId!=integer213 and indexId!=integer083 and indexId!=integer084 then
		if IsItemVisible(GetEnumItem())then
			call SetItemVisible(GetEnumItem(),false)
		else
			call SetItemVisible(GetEnumItem(),true)
		endif
	endif
endfunction

function Func1468 takes nothing returns nothing
	local player p=player021
	local region r=CreateRegion()
	local unit u=GetEnumUnit()
	local integer indexId
	local integer i=0
	local item BA1
	local integer id
	local real x
	local real y
	if IsSentinel(p)then
		call RegionAddRect(r,rect044)
		set x=GetRectCenterX(rect044)
		set y=GetRectCenterY(rect044)
	else
		call RegionAddRect(r,rect045)
		set x=GetRectCenterX(rect045)
		set y=GetRectCenterY(rect045)
	endif
	loop
		exitwhen i>5
		set BA1=UnitItemInSlot(u,i)
		set indexId=GetIndex(BA1)
		if GetItemPlayer(BA1)==player021 and indexId!=integer198 and indexId!=integer212 and indexId!=integer213 and indexId!=integer083 and indexId!=integer084 then
			call UnitRemoveItemFromSlot(u,i)
			set id=GetPlayerId(GetItemPlayer(BA1))
			call SetItemPosition(BA1,x,y)
		endif
		set i=i+1
	endloop
	call RemoveRegion(r)
	set u=null
	set r=null
endfunction

function Func1469 takes nothing returns boolean
	return(GetUnitTypeId(GetFilterUnit())=='ncop' or Func0089(GetFilterUnit())or(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and GetOwningPlayer(GetFilterUnit())!=player021 and GetOwningPlayer(GetFilterUnit())!=Sentinels[0]and GetOwningPlayer(GetFilterUnit())!=Scourges[0]))and IsUnitAlly(GetFilterUnit(),player021)
endfunction

function Func1470 takes player p returns nothing
	local integer i=0
	local item BA1
	local integer id=GetPlayerId(p)
	local group g=GetAvailableGroup()
	set player021=p
	call GroupEnumUnitsInRange(g,0,0,99999,Condition(function Func1469))
	call ForGroup(g,function Func1468)
	call KillGroup(g)
endfunction

function Func1471 takes player p returns nothing
	set player021=p
	call EnumItemsInRectBJ(bj_mapInitialPlayableArea,function Func1467)
endfunction

function Func1472 takes unit u returns nothing
	local unit AD1=u
	local player I6O=GetOwningPlayer(u)
	local location spawnloc
	if Func0052(I6O)then
		set spawnloc=GetRectCenter(Hero_Creation_UD)
	else
		set spawnloc=GetRectCenter(Hero_Creation_NE)
	endif
	if boolean036==false and IsDead(AD1)then
		call Func0423(AD1,I6O,GetLocationX(spawnloc),GetLocationY(spawnloc),true)
		if Func0465(AD1)==false or GetUnitAbilityLevel(AD1,'A0MW')==0 then
			call ReviveHeroLoc(AD1,spawnloc,true)
		else
			call Func0468(AD1,spawnloc)
		endif
	endif
	call RemoveLocation(spawnloc)
	set AD1=null
	set I6O=null
	set spawnloc=null
endfunction

function Func1473 takes unit T02,unit TI2 returns nothing
	local player p=GetOwningPlayer(TI2)
	local integer id=GetPlayerId(p)
	call SetHeroXP(TI2,GetHeroXP(T02),true)
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,(LoadInteger(HY,(GetHandleId(TI2)),(787)))+integers144[id])
	set integers143[id]=GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)
	set integers144[id]=0
endfunction

function Func1474 takes integer id,unit R5I returns boolean
	return Func0041(Hero_ID[id])!=GetUnitPrimaryAttribute(R5I)
endfunction

function Func1475 takes unit u returns integer
	return 255
endfunction

function Func1476 takes unit u returns integer
	return 255
endfunction

function Func1477 takes unit u returns integer
	return 255
endfunction

function Func1478 takes unit u,integer id,player p returns nothing
	local player p1=GetOwningPlayer(u)
	local player p2
	local integer i
	local item FH1
	if IsSentinel(GetOwningPlayer(u))then
		set p2=Sentinels[0]
	else
		set p2=Scourges[0]
	endif
	call SaveInteger(HY,(GetHandleId(u)),(787),(GetPlayerState(GetOwningPlayer(u),PLAYER_STATE_RESOURCE_GOLD)))
	call SaveBoolean(HY,(GetHandleId(u)),(140),(false))
	call SaveInteger(HY,(GetHandleId((u))),((4259)),(1))
	call UnitAddAbility(u,'A04R')
	call SetUnitInvul(u,true)
	call PauseUnit(u,true)
	call SetUnitVertexColor(u,Func1475(u),Func1476(u),Func1477(u),150)
	call SelectUnitRemoveForPlayer(u,GetOwningPlayer(u))
	call SetUnitOwner(u,p2,false)
	call SetUnitPathing(u,false)
	call SetUnitX(u,GetUnitX(CirclesOfPower[id]))
	call SetUnitY(u,GetUnitY(CirclesOfPower[id]))
	set i=0
	loop
		exitwhen i>5
		if UnitItemInSlot(u,i)==null then
			set FH1=CreateItem('I02M',GetUnitX(u),GetUnitY(u))
			call UnitAddItem(u,FH1)
		endif
		set i=i+1
	endloop
	set p1=null
	set p2=null
endfunction

function Func1479 takes unit u,integer id,player p returns nothing
	local integer i
	set Players_Hero[id]=u
	call SaveBoolean(HY,(GetHandleId(u)),(140),(false))
	call SaveInteger(HY,(GetHandleId((u))),((4259)),(2))
	call UnitRemoveAbility(u,'A04R')
	call SetUnitInvul(u,false)
	call PauseUnit(u,false)
	call SetUnitVertexColor(u,Func1475(u),Func1476(u),Func1477(u),255)
	call SelectUnitAddForPlayer(u,GetOwningPlayer(u))
	call SetUnitOwner(u,p,false)
	call SetUnitPathing(u,true)
	if IsSentinel(Player(id)) then
		call SetUnitPosition(u,GetRectCenterX(Hero_Creation_NE),GetRectCenterY(Hero_Creation_NE))
	else
		call SetUnitPosition(u,GetRectCenterX(Hero_Creation_UD),GetRectCenterY(Hero_Creation_UD))
	endif
	set i=0
	loop
		exitwhen i>5
		if GetItemTypeId(UnitItemInSlot(u,i))=='I02M' then
			call Func0339(UnitItemInSlot(u,i))
		endif
		set i=i+1
	endloop
endfunction

function Func1480 takes integer id returns boolean
	local region r=CreateRegion()
	local boolean FB1=false
	if IsSentinel(Player(id)) then
		call RegionAddRect(r,rect017)
	else
		call RegionAddRect(r,rect016)
	endif
	if IsUnitInRegion(r,units019[id])and IsUnitInRegion(r,units020[id])then
		set FB1=true
	endif
	call RemoveRegion(r)
	return FB1 or IsDead(units019[id])or IsDead(units020[id])
endfunction

function Func1481 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer id=(LoadInteger(HY,(h),(34)))
	local integer T82=GetTriggerEvalCount(t)
	local player p=Player(id)
	if T82==1 then
		call Func1470(p)
	elseif T82==2 then
		call Func1471(p)
	elseif T82==3 then
		if Players_Hero[id]==units019[id]then
			call Func1472(units019[id])
			call Func1478(units019[id],id,p)
			call Func1479(units020[id],id,p)
			call Func1473(units019[id],units020[id])
		else
			call Func1472(units020[id])
			call Func1478(units020[id],id,p)
			call Func1479(units019[id],id,p)
			call Func1473(units020[id],units019[id])
		endif
	else
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	return false
endfunction

function Func1482 takes nothing returns boolean
	local integer id=GetPlayerId(GetTriggerPlayer())
	local real SOI=GetTime()
	local trigger t
	local integer h
	if(SOI-reals028[id])<180 then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0MR')+": "+I2S(R2I(180-(SOI-reals028[id]))))
	elseif Func1480(id)==false then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0MS'))
	else
		set reals028[id]=SOI
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,0.2,true)
		call TriggerAddCondition(t,Condition(function Func1481))
		call SaveInteger(HY,(h),(34),(id))
		set t=null
	endif
	return false
endfunction

function Func1483 takes nothing returns boolean
	local integer i=1
	local integer id
	local integer TB2
	local integer ADO
	local player p
	loop
		exitwhen i>5
		set p=Sentinels[i]
		set id=GetPlayerId(p)
		set ADO=GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)
		if integers143[id]<ADO and booleans039[id]==false then
			set integers144[id]=integers144[id]+ADO-integers143[id]
		endif
		set integers143[id]=ADO
		if booleans039[id] then
			set booleans039[id]=false
		endif
		set p=Scourges[i]
		set id=GetPlayerId(p)
		set ADO=GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)
		if integers143[id]<ADO and booleans039[id]==false then
			set integers144[id]=integers144[id]+ADO-integers143[id]
		endif
		set integers143[id]=ADO
		if booleans039[id] then
			set booleans039[id]=false
		endif
		set i=i+1
	endloop
	return false
endfunction

function Func1484 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer O91=(LoadInteger(HY,(h),(55)))
	local player p
	local integer TJI
	local location spawnscrg=GetRectCenter(Hero_Creation_NE)
	local location spawnsent=GetRectCenter(Hero_Creation_UD)
	local integer id
	if O91<6 then
		set p=Sentinels[O91]
		set id=GetPlayerId(p)
	elseif O91<11 then
		set p=Scourges[O91-5]
		set id=GetPlayerId(p)
	endif
	if O91>10 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call TriggerRegisterTimerEvent(trigger066,0.1,true)
		call TriggerAddCondition(trigger066,Condition(function Func1483))
	elseif O91<6 then
		call SaveInteger(HY,(h),(55),(O91+1))
		set Players_Hero[GetPlayerId(p)]=null
		if IsPlayer(p)then
			loop
				exitwhen Players_Hero[GetPlayerId(p)]!=null
				set TJI=GetSetElement()
				if booleans001[TJI]==false then
					if not boolean028 then
						set booleans001[TJI]=true
					endif
					set Players_Hero[id]=CreateUnitAtLoc(p,Hero_ID[TJI],spawnscrg,270)
					set units019[id]=Players_Hero[id]
					call Func1478(Players_Hero[id],id,p)
				endif
			endloop
		endif
	elseif O91<11 then
		call SaveInteger(HY,(h),(55),(O91+1))
		set Players_Hero[GetPlayerId(p)]=null
		if IsPlayer(p)then
			loop
				exitwhen Players_Hero[id]!=null
				set TJI=GetSetElement()
				if booleans001[TJI]==false then
					if not boolean028 then
						set booleans001[TJI]=true
					endif
					set Players_Hero[id]=CreateUnitAtLoc(p,Hero_ID[TJI],spawnsent,270)
					set units019[id]=Players_Hero[id]
					call Func1478(Players_Hero[id],id,p)
				endif
			endloop
		endif
	endif
	if O91<6 then
		set p=Sentinels[O91]
	elseif O91<11 then
		set p=Scourges[O91-5]
	endif
	if O91<6 then
		call SaveInteger(HY,(h),(55),(O91+1))
		set Players_Hero[GetPlayerId(p)]=null
		if IsPlayer(p)then
			loop
				exitwhen Players_Hero[id]!=null
				set TJI=GetSetElement()
				if booleans001[TJI]==false and Func1474(TJI,units019[id])then
					if not boolean028 then
						set booleans001[TJI]=true
					endif
					set Players_Hero[id]=CreateUnitAtLoc(p,Hero_ID[TJI],spawnscrg,270)
					set units020[id]=Players_Hero[id]
					set integers143[id]=GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)
					call Func1479(Players_Hero[id],id,p)
					call SaveUnitHandle(HY,(GetHandleId(units020[id])),(788),(units019[id]))
					call SaveUnitHandle(HY,(GetHandleId(units019[id])),(788),(units020[id]))
				endif
			endloop
		endif
	elseif O91<11 then
		call SaveInteger(HY,(h),(55),(O91+1))
		set Players_Hero[id]=null
		if IsPlayer(p)then
			loop
				exitwhen Players_Hero[id]!=null
				set TJI=GetSetElement()
				if booleans001[TJI]==false and Func1474(TJI,units019[id])then
					if not boolean028 then
						set booleans001[TJI]=true
					endif
					set Players_Hero[id]=CreateUnitAtLoc(p,Hero_ID[TJI],spawnsent,270)
					set units020[id]=Players_Hero[id]
					set integers143[id]=GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)
					call Func1479(Players_Hero[id],id,p)
					call SaveUnitHandle(HY,(GetHandleId(units020[id])),(788),(units019[id]))
					call SaveUnitHandle(HY,(GetHandleId(units019[id])),(788),(units020[id]))
				endif
			endloop
		endif
	endif
	call RemoveLocation(spawnscrg)
	call RemoveLocation(spawnsent)
	set spawnscrg=null
	set spawnsent=null
	set p=null
	set t=null
	return false
endfunction

function Func1485 takes nothing returns nothing
	local integer i=1
	local integer id
	local real SOI=GetTime()
	local trigger t
	set boolean134=true
	set boolean039=false
	set boolean052=false
	call Func0062('H00I')
	call Func0062('O00P')
	call Func0062('H00U')
	loop
		exitwhen i>5
		set id=GetPlayerId(Sentinels[i])
		set booleans039[id]=false
		set reals028[id]=SOI-180
		set integers144[id]=0
		set id=GetPlayerId(Scourges[i])
		set booleans039[id]=false
		set reals028[id]=SOI-180
		set integers144[id]=0
		set i=i+1
	endloop
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,.5,true)
	call TriggerAddCondition(t,Condition(function Func1484))
	call SaveInteger(HY,(GetHandleId(t)),(55),(1))
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-tt",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-tt",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-tt",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-tt",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-tt",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-tt",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-tt",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-tt",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-tt",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-tt",true)
	call TriggerAddCondition(t,Condition(function Func1482))
	set t=null
endfunction

function Func1486 takes nothing returns nothing
	set integers020[1]=0
endfunction

function Func1487 takes nothing returns nothing
	set integers020[2]=0
endfunction

function Func1488 takes nothing returns nothing
	set integers020[3]=0
endfunction

function Func1489 takes nothing returns nothing
	set integers020[4]=0
endfunction

function Func1490 takes nothing returns nothing
	set integers020[5]=0
endfunction

function Func1491 takes nothing returns nothing
	set integers020[7]=0
endfunction

function Func1492 takes nothing returns nothing
	set integers020[8]=0
endfunction

function Func1493 takes nothing returns nothing
	set integers020[9]=0
endfunction

function Func1494 takes nothing returns nothing
	set integers020[10]=0
endfunction

function Func1495 takes nothing returns nothing
	set integers020[11]=0
endfunction

function Func1496 takes nothing returns nothing
	local integer i=1
	local string id
	local player p
	loop
		exitwhen i>5
		set p=Sentinels[i]
		set id=I2S(GetPlayerId(p))
		call StoreInteger(GMC,id,"id",i)
		set p=Scourges[i]
		set id=I2S(GetPlayerId(p))
		call StoreInteger(GMC,id,"id",i+5)
		if LocalPlayer==PlayerModeTyper then
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Sentinels[i])),"id")
			call SyncStoredInteger(GMC,I2S(GetPlayerId(Scourges[i])),"id")
		endif
		set i=i+1
	endloop
endfunction

function Func1497 takes nothing returns nothing
	if Mode_Normal then
		call PickMode("-ap",true)
	endif
	call Func1496()
endfunction

function Func1498 takes nothing returns nothing
	set boolean002=true
endfunction

function Func1499 takes nothing returns nothing
	set boolean001=true
endfunction

function Func1500 takes nothing returns nothing
	set boolean024=true
endfunction

function Func1501 takes nothing returns nothing
	set boolean042=true
endfunction

function Torrent_Damage takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func1528 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer Count=GetTriggerEvalCount(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real RT2
	local unit caster
	set RT2=0.6*(Count-25)*(Count-25)
	if Count<51 and GetTriggerEventId()!=EVENT_UNIT_DEATH then
		if ModuloInteger(Count,5)==0 then
			call DamageTarget(source,target,1,3+3*lvl)
		endif
		if Func0093(target)==false then
			call SetUnitFlyHeight(target,500-RT2,0)
		endif
	else
		set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
		call UnitAddAbilityPermanent(caster,'A11L')
		call SetUnitAbilityLevel(caster,'A11L',lvl)
		call IssueTargetOrder(caster,"slow",target)
		if Func0093(target)==false then
			call SetUnitFlyHeight(target,GetUnitDefaultFlyHeight(target),0)
		endif
		if boolean036==false then
			call PauseUnit(target,false)
		endif
		call SetUnitPathing(target,true)
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	set caster=null
	return false
endfunction

function Func1529 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=tt_unit1
	local unit target=GetEnumUnit()
	local integer lvl=integer022
	call PauseUnit(target,true)
	call SetUnitPathing(target,false)
	if Func0093(target)==false then
		call UnitAddAbilityPermanent(target,'Amrf')
		call UnitRemoveAbility(target,'Amrf')
	endif
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1528))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveInteger(HY,(h),(5),(lvl))
	call DamageTarget(source,target,1,30+30*lvl)
	set t=null
	set source=null
	set target=null
endfunction

function Func1530 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local group g=GetAvailableGroup()
	local ubersplat AR1=CreateUbersplat(x,y,"THNN",255,255,255,255,false,false)
	call SetUbersplatRenderAlways(AR1,true)
	call TimedReveal(GetOwningPlayer(Hero),4,x,y,400)
	call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
	call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
	call DestroyEffect((LoadEffectHandle(HY,(h),(177))))
	call DestroyEffect((LoadEffectHandle(HY,(h),(178))))
	call DestroyEffect((LoadEffectHandle(HY,(h),(179))))
	call DestroyEffect((LoadEffectHandle(HY,(h),(180))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",x,y))
	call DestroyEffect(AddSpecialEffect("effects\\TidalErruption.mdx",x,y))
	set tt_unit1=Hero
	set integer022=lvl
	call GroupEnumUnitsInRange(g,x,y,225+25,Condition(function Func0280))
	call ForGroup(g,function Func1529)
	call KillGroup(g)
	set t=null
	set Hero=null
	return false
endfunction

function Func1531 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(Hero,'A136')
	local string s=""
	local real a
	if IsPlayerAlly(LocalPlayer,GetOwningPlayer(Hero)) or Func0100(LocalPlayer)then
		set s="Objects\\Spawnmodels\\Other\\IllidanFootprint\\IllidanWaterSpawnFootPrint.mdl"
	endif
	call RemoveLocation(l)
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveInteger(HY,(h),(5),(lvl))
	set a=0
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffect(s,x+40*Cos(a/6*360*bj_DEGTORAD),y+40*Sin(a/6*360*bj_DEGTORAD))))
	set a=1
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffect(s,x+40*Cos(a/6*360*bj_DEGTORAD),y+40*Sin(a/6*360*bj_DEGTORAD))))
	set a=2
	call SaveEffectHandle(HY,(h),(177),(AddSpecialEffect(s,x+40*Cos(a/6*360*bj_DEGTORAD),y+40*Sin(a/6*360*bj_DEGTORAD))))
	set a=3
	call SaveEffectHandle(HY,(h),(178),(AddSpecialEffect(s,x+40*Cos(a/6*360*bj_DEGTORAD),y+40*Sin(a/6*360*bj_DEGTORAD))))
	set a=4
	call SaveEffectHandle(HY,(h),(179),(AddSpecialEffect(s,x+40*Cos(a/6*360*bj_DEGTORAD),y+40*Sin(a/6*360*bj_DEGTORAD))))
	set a=5
	call SaveEffectHandle(HY,(h),(180),(AddSpecialEffect(s,x+40*Cos(a/6*360*bj_DEGTORAD),y+40*Sin(a/6*360*bj_DEGTORAD))))
	call TriggerRegisterTimerEvent(t,1.6,false)
	call TriggerAddCondition(t,Condition(function Func1530))
	set Hero=null
	set t=null
	set l=null
endfunction

function Func1532 takes nothing returns boolean
	if GetSpellAbilityId()=='A136' then
		call Func1531()
	endif
	return false
endfunction

function Func1533 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1532))
	set t=null
endfunction

function Func1534 takes nothing returns nothing
	call SetPlayerAbilityAvailable(GetOwningPlayer(unit128),'A147',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(unit128),'A148',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(unit128),'A11U',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(unit128),'A149',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(unit129),'A147',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(unit129),'A148',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(unit129),'A11U',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(unit129),'A149',false)
endfunction

function Func1535 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source and(GetEventDamage()>40 or IsUnitType(target,UNIT_TYPE_STRUCTURE) or GetUnitTypeId(target)=='umtw' or GetUnitTypeId(target)=='ebal')and(LoadBoolean(HY,(GetHandleId(source)),(183))) then
			call SaveBoolean(HY,(GetHandleId(source)),(183),(false))
			call SaveReal(HY,(GetHandleId(source)),(184),((GetTime())*1.0))
			call UnitRemoveAbility(source,'A11O')
			call UnitRemoveAbility(source,'A11R')
			call UnitRemoveAbility(source,'A147')
			call UnitRemoveAbility(source,'A148')
			call UnitRemoveAbility(source,'A11U')
			call UnitRemoveAbility(source,'A149')
			call FlushChildHashtable(HY,(GetHandleId((LoadTriggerHandle(HY,(h),(35))))))
			call CleanTrigger((LoadTriggerHandle(HY,(h),(35))))
			call UnitAsInteger_Clear(PCI)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func1536 takes nothing returns boolean
	local trigger t
	local integer h
	local unit target
	local unit source
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call SaveBoolean(HY,(GetHandleId(GetTriggerUnit())),(183),(false))
		call SaveReal(HY,(GetHandleId(GetTriggerUnit())),(184),((GetTime())*1.0))
		call UnitRemoveAbility(GetTriggerUnit(),'A11O')
		call UnitRemoveAbility(GetTriggerUnit(),'A11R')
		call UnitRemoveAbility(GetTriggerUnit(),'A147')
		call UnitRemoveAbility(GetTriggerUnit(),'A148')
		call UnitRemoveAbility(GetTriggerUnit(),'A11U')
		call UnitRemoveAbility(GetTriggerUnit(),'A149')
		call FlushChildHashtable(HY,(GetHandleId(GetTriggeringTrigger())))
		call CleanTrigger(GetTriggeringTrigger())
	elseif GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(182)))then
		if IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false then
			set t=CreateTrigger()
			set h=GetHandleId(t)
			set target=GetTriggerUnit()
			set source=GetAttacker()
			call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
			call TriggerRegisterTimerEvent(t,2.5,false)
			call TriggerAddCondition(t,Condition(function Func1535))
			call SaveInteger(HY,(h),(30),(Func0021(target)))
			call SaveUnitHandle(HY,(h),(2),(source))
			call SaveTriggerHandle(HY,(h),(35),(GetTriggeringTrigger()))
			set target=null
			set source=null
			set t=null
		endif
	endif
	return false
endfunction

function Func1537 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real QZI=GetTime()
	local integer lvl=GetUnitAbilityLevel(Hero,'A13T')
	local real PD2=(LoadReal(HY,(GetHandleId(Hero)),(184)))
	local boolean PE2=(LoadBoolean(HY,(GetHandleId(Hero)),(183)))
	if QZI-PD2>16-lvl*3 and PE2==false and GetUnitTypeId(Hero)=='H06S' and IsDead(Hero)==false then
		call SaveBoolean(HY,(GetHandleId(Hero)),(183),(true))
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
		call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DEATH)
		call TriggerAddCondition(t,Condition(function Func1536))
		call SaveUnitHandle(HY,(h),(182),(Hero))
		call UnitAddAbilityPermanent(Hero,'A11O')
		call SetUnitAbilityLevel(Hero,'A11O',lvl)
		call UnitAddAbilityPermanent(Hero,'A11R')
		if lvl==1 then
			call UnitAddAbilityPermanent(Hero,'A147')
		elseif lvl==2 then
			call UnitAddAbilityPermanent(Hero,'A148')
		elseif lvl==3 then
			call UnitAddAbilityPermanent(Hero,'A11U')
		elseif lvl==4 then
			call UnitAddAbilityPermanent(Hero,'A149')
		endif
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A147',false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A148',false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A11U',false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A149',false)
	elseif PE2==false then
		call UnitRemoveAbility(Hero,'A11O')
		call UnitRemoveAbility(Hero,'A11R')
		call UnitRemoveAbility(Hero,'A147')
		call UnitRemoveAbility(Hero,'A148')
		call UnitRemoveAbility(Hero,'A11U')
		call UnitRemoveAbility(Hero,'A149')
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func1538 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerAddCondition(t,Condition(function Func1537))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveInteger(HY,(h),(181),(0))
	set Hero=null
	set t=null
endfunction

function Func1539 takes nothing returns boolean
	if GetLearnedSkill()=='A13T' and GetUnitAbilityLevel(GetTriggerUnit(),'A13T')==1 and IsUnitIllusion(GetTriggerUnit())==false then
		call Func1538()
	endif
	return false
endfunction

function Func1540 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func1539))
	set t=null
endfunction

function Func1541 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local image i=(LoadImageHandle(HY,(h),(185)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A13D')then
		if GetTriggerEventId()!=EVENT_UNIT_DEATH and Func0091(target)==false then
			if IsUnitHidden(target)then
				call SetUnitX(target,x)
				call SetUnitY(target,y)
			else
				call SetUnitPosition(target,x,y)
			endif
		endif
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A13D',false)
		if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A11N' then
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A11N',true)
		endif
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call ShowImage(i,false)
		call DestroyImage(i)
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	set i=null
	set source=null
	return false
endfunction

function Func1542 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local real x=GetUnitX(target)
	local real y=GetUnitY(target)
	local real UJI=90
	local image i=CreateImage("Fonts\\X.blp",UJI,UJI,0,x-UJI/2,y-UJI/2,0,0,0,0,2)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local string fx=""
	local integer lvl=GetUnitAbilityLevel(source,'A11N')
	call AddTimedKeyToUnit(target,4401,5)
	call UnitAddAbilityPermanent(source,'A13D')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A13D',true)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A11N',false)
	call SetImageRenderAlways(i,true)
	if IsUnitAlly(source,GetOwningPlayer(target))==false or IsUnitAlly(target,LocalPlayer) or Func0100(LocalPlayer)then
		set fx="effects\\BlackTide.mdx"
		call ShowImage(i,true)
	else
		call ShowImage(i,false)
	endif
	call SetImageColor(i,255,0,0,255)
	call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(source),'o01Z',x,y,0),'BTLF',5)
	if IsUnitAlly(target,GetOwningPlayer(source)) then
		call TriggerRegisterTimerEvent(t,8,false)
	else
		call TriggerRegisterTimerEvent(t,4,false)
	endif
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1541))
	call SaveImageHandle(HY,(h),(185),(i))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget(fx,target,"overhead")))
	call SaveUnitHandle(HY,(h),(2),(source))
	set source=null
	set target=null
	set i=null
	set t=null
endfunction

function Func1543 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A11N' and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or IsBlocked(GetSpellTargetUnit())==false)then
			call Func1542()
		endif
	else
		if GetLearnedSkill()=='A11N' then
			call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A13D',false)
			call UnitAddAbilityPermanent(GetTriggerUnit(),'A13D')
		endif
	endif
	return false
endfunction

function Func1544 takes nothing returns boolean
	if GetSpellAbilityId()=='A11N' then
		if(LoadBoolean(HY,(GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))),(139)))and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())) then
			call InterruptUnit(GetTriggerUnit())
			call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n038'))
		endif
	endif
	return false
endfunction

function Func1545 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func1543))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func1544))
	set t=null
endfunction

function Func1546 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer O91=1
	local player p
	local real d
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer PY2=(LoadInteger(HY,(h),(136)))
	local integer DC1=(LoadInteger(HY,(h),(188)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>DC1 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		loop
			exitwhen O91>PY2
			set p=(LoadPlayerHandle(HY,(h),(1300+O91)))
			set d=(LoadReal(HY,(h),(1200+O91)))
			if p==null then
				set O91=PY2
			else
				call SetUnitState(target,UNIT_STATE_LIFE,Func0134(1,GetUnitState(target,UNIT_STATE_LIFE)-d/DC1))
			endif
			set O91=O91+1
		endloop
	endif
	set t=null
	set p=null
	set target=null
	return false
endfunction

function Func1547 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	local trigger PK2=(LoadTriggerHandle(HY,(h),(135)))
	local integer O91=GetTriggerEvalCount(t)
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call TriggerRegisterTimerEvent(PK2,1,true)
		call TriggerAddCondition(PK2,Condition(function Func1546))
		call UnitRemoveAbility(target,'B09U')
	else
		set h=GetHandleId(PK2)
		call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)+0.5*GetEventDamage())
		call SavePlayerHandle(HY,(h),(1300+O91),(GetOwningPlayer(GetEventDamageSource())))
		call SaveReal(HY,(h),(1200+O91),((0.5*GetEventDamage())*1.0))
		call SaveInteger(HY,(h),(136),(O91))
	endif
	set t=null
	set target=null
	set p=null
	set PK2=null
	return false
endfunction

function Func1548 takes nothing returns nothing
	local unit source=unit267
	local unit target=GetEnumUnit()
	local integer lvl=integer460
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer DC1=10
	local trigger PK2=CreateTrigger()
	call Func0225(target,'A126',1,DC1)
	call UnitMakeAbilityPermanent(target,true,'A126')
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A126',false)
	call TriggerRegisterTimerEvent(t,DC1+0.01,false)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func1547))
	call SavePlayerHandle(HY,(h),(54),(GetOwningPlayer(source)))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveTriggerHandle(HY,(h),(135),(PK2))
	call SaveUnitHandle(HY,(GetHandleId(PK2)),(17),(target))
	call SaveInteger(HY,(GetHandleId(PK2)),(188),(DC1))
	set source=null
	set target=null
	set t=null
	set PK2=null
endfunction

function Func1549 takes nothing returns boolean
	if(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(),group007)==false then
		call GroupAddUnit(group007,GetFilterUnit())
		return true
	endif
	return false
endfunction

function Func1550 takes nothing returns nothing
	local unit source=unit267
	local unit target=GetEnumUnit()
	local integer lvl=integer460
	call StunTargetIF(source,target,1.4)
	call DamageTarget(source,target,1,300+100*lvl)
	set source=null
	set target=null
endfunction

function Func1551 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local unit PT2
	local real RM2=(LoadReal(HY,(h),(13)))
	local real SourceX=GetUnitX(IG1)
	local real SourceY=GetUnitY(IG1)
	local real QJI=(LoadReal(HY,(h),(66)))
	local real QKI=(LoadReal(HY,(h),(67)))
	local integer Count=GetTriggerEvalCount(t)
	local real IV1=SafeX50(QJI+13.33*Count*Cos(RM2))
	local real IW1=SafeY50(QKI+13.33*Count*Sin(RM2))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	local group g
	if Count<19 then
		call SetUnitVertexColor(IG1,255,255,255,5+Count*10)
		set PT2=(LoadUnitHandle(HY,(h),(186)))
		call SetUnitVertexColor(PT2,255,255,255,5+Count*10)
	elseif Count<125 then
		call SetUnitVertexColor(IG1,255,255,255,190)
	elseif Count<150 then
	endif
	set g=GetAvailableGroup()
	set group007=PR2
	set tt_unit1=IG1
	set unit267=IG1
	set integer460=lvl
	call GroupEnumUnitsInRange(g,GetUnitX(IG1),GetUnitY(IG1),425,Condition(function Func1549))
	call ForGroup(g,function Func1548)
	call KillGroup(g)
	call SetUnitX(IG1,IV1)
	call SetUnitY(IG1,IW1)
	if Count==140 then
		set PT2=(LoadUnitHandle(HY,(h),(186)))
		call KillUnit(PT2)
	elseif Count<140 then
		set PT2=(LoadUnitHandle(HY,(h),(186)))
		call SetUnitX(PT2,IV1)
		call SetUnitY(PT2,IW1)
	endif
	if Count==150 then
		set g=GetAvailableGroup()
		set tt_unit1=IG1
		call GroupEnumUnitsInRange(g,IV1,IW1,425+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func1550)
		call KillGroup(g)
		call KillUnit(IG1)
		call KillGroup(PR2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set IG1=null
	set PT2=null
	set PR2=null
	set g=null
	return false
endfunction

function Func1552 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local real SourceX=GetUnitX(Hero)
	local real SourceY=GetUnitY(Hero)
	local location l=GetSpellTargetLoc()
	local real x0=GetLocationX(l)
	local real y0=GetLocationY(l)
	local real RM2
	local real x1
	local real y1
	local real x2
	local real y2
	local trigger t
	local integer h
	local integer lvl
	local unit IG1
	local unit PT2
	local string s=""
	local integer PQ2='h06U'
	if GetRandomInt(0,5)==0 then
		set PQ2='h0DJ'
	endif
	if IsPlayerAlly(GetOwningPlayer(Hero),LocalPlayer)or Func0100(LocalPlayer)then
		set s="war3mapImported\\Whirlpool.mdx"
	endif
	if x0==GetUnitX(Hero)and y0==GetUnitY(Hero)then
		set x0=x0+50*Cos(GetUnitFacing(Hero)*bj_DEGTORAD)
		set y0=y0+50*Sin(GetUnitFacing(Hero)*bj_DEGTORAD)
	endif
	set RM2=Atan2(y0-SourceY,x0-SourceX)
	set x1=SourceX-1000*Cos(RM2)
	set y1=SourceY-1000*Sin(RM2)
	set x2=SourceX+1000*Cos(RM2)
	set y2=SourceY+1000*Sin(RM2)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	set lvl=GetUnitAbilityLevel(Hero,'A11K')
	set IG1=CreateUnit(GetOwningPlayer(Hero),PQ2,x1,y1,Atan2(y0-SourceY,x0-SourceX)*bj_RADTODEG)
	set PT2=CreateUnit(GetOwningPlayer(Hero),'h06V',x1,y1,Atan2(y0-SourceY,x0-SourceX)*bj_RADTODEG)
	call SetUnitVertexColor(IG1,255,255,255,0)
	call SetUnitPathing(IG1,false)
	call RemoveLocation(l)
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveUnitHandle(HY,(h),(186),(PT2))
	call SaveReal(HY,(h),(66),((x1)*1.0))
	call SaveReal(HY,(h),(67),((y1)*1.0))
	call SaveGroupHandle(HY,(h),(187),(GetAvailableGroup()))
	call DestroyEffect(AddSpecialEffect(s,SafeX50(x2),SafeY50(y2)))
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func1551))
	set Hero=null
	set t=null
	set IG1=null
	set PT2=null
	set l=null
endfunction

function Func1553 takes nothing returns boolean
	if GetSpellAbilityId()=='A11K' then
		call Func1552()
	endif
	return false
endfunction

function Func1554 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1553))
	call Func0125('A11L')
	set t=null
endfunction

function Func1555 takes nothing returns nothing
	call DamageTarget(unit268,GetEnumUnit(),2,real276)
	call StunTargetIF(unit268,GetEnumUnit(),real275)
endfunction

function Func1556 takes unit source,unit target,real UH1 returns nothing
	local group g
	local integer lvl=GetUnitAbilityLevel(source,'A1NI')
	local real x
	local real y
	set unit268=source
	set real276=(80+70*lvl)*UH1/5.0
	set real275=(1+0.75*lvl)*UH1/5.0
	set unit269=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbilityPermanent(unit269,'A0X6')
	call SetUnitAbilityLevel(unit269,'A0X6',Func0313(real275))
	set tt_unit1=source
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),175+25,Condition(function DefaultEnemyFilterWithAncients))
	if GetUnitTypeId(target)!='h0BD' then
		call GroupAddUnit(g,target)
	endif
	call ForGroup(g,function Func1555)
	call KillGroup(g)
	call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",GetUnitX(target),GetUnitY(target)))
endfunction

function Func1557 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real UH1=(LoadReal(HY,(h),(444)))
	local real QO2=(LoadReal(HY,(h),(445)))
	local real RM2=Func0159(GetUnitX(IG1),GetUnitY(IG1),GetUnitX(target),GetUnitY(target))
	local real x=GetUnitX(IG1)+18*Cos(RM2*bj_DEGTORAD)
	local real y=GetUnitY(IG1)+18*Sin(RM2*bj_DEGTORAD)
	call SetUnitX(IG1,x)
	call SetUnitY(IG1,y)
	if Func0141(x,y,GetUnitX(target),GetUnitY(target))<=18 then
		call KillUnit(IG1)
		call Func1556(source,target,UH1)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	set IG1=null
	return false
endfunction

function Func1558 takes unit source,unit target,real UH1,real QO2 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit IG1=CreateUnit(GetOwningPlayer(source),'h0BD',GetUnitX(source),GetUnitY(source),GetUnitFacing(source))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveReal(HY,(h),(444),((UH1)*1.0))
	call SaveReal(HY,(h),(445),((QO2)*1.0))
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func1557))
	set t=null
	set IG1=null
endfunction

function Func1559 takes string UWI,unit target,unit Hero returns nothing
	local texttag tt=CreateTextTag()
	call SetTextTagText(tt,UWI,0.033)
	call SetTextTagPosUnit(tt,target,64)
	call SetTextTagColor(tt,255,0,0,255)
	call SetTextTagVelocity(tt,0,0.0355)
	call SetTextTagFadepoint(tt,0.15)
	call SetTextTagPermanent(tt,false)
	call SetTextTagLifespan(tt,0.65)
	if IsUnitAlly(Hero,LocalPlayer)or Func0100(LocalPlayer)then
		call SetTextTagVisibility(tt,true)
	else
		call SetTextTagVisibility(tt,false)
	endif
	set tt=null
endfunction

function Func1560 takes real DC1 returns string
	if DC1>4.5 then
		return"5.0"
	elseif DC1>4.0 then
		return"4.5"
	elseif DC1>3.5 then
		return"4.0"
	elseif DC1>3.0 then
		return"3.5"
	elseif DC1>2.5 then
		return"3.0"
	elseif DC1>2.0 then
		return"2.5"
	elseif DC1>1.5 then
		return"2.0"
	elseif DC1>1.0 then
		return"1.5"
	elseif DC1>0.5 then
		return"1.0"
	elseif DC1>0.0 then
		return"0.5"
	else
		return"0.0"
	endif
	return" "
endfunction

function Func1561 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real QO2=(LoadReal(HY,(h),(442)))
	local real time=GetTime()
	local real BQO=5.0-(time-QO2)
	local real QHI=Func0133(time-QO2,5.0)
	local integer Count=(LoadInteger(HY,(h),(34)))+1
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call Func1556(source,source,5.0)
		if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A1NI' then
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1NI',true)
		endif
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1NH',false)
		call SetUnitVertexColor(source,255,255,255,255)
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A1NH' then
			if IsBlocked(GetSpellTargetUnit())==false then
				call Func1558(source,GetSpellTargetUnit(),QHI,QO2)
			endif
			if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A1NI' then
				call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1NI',true)
			endif
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1NH',false)
			call SetUnitVertexColor(source,255,255,255,255)
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call SaveInteger(HY,(h),(34),(Count))
		if BQO>=0 then
			call Func1559(Func1560(BQO),source,source)
			if ModuloInteger(Count,2)==0 then
				call SetUnitVertexColor(source,255,125,125,255)
			else
				call SetUnitVertexColor(source,255,175,175,255)
			endif
		else
			call SetUnitVertexColor(source,255,0,0,255)
		endif
		if time-QO2>(5.0+0.5)then
			call Func1556(source,source,5.0)
			if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A1NI' then
				call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1NI',true)
			endif
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1NH',false)
			call SetUnitVertexColor(source,255,255,255,255)
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	endif
	set t=null
	set source=null
	return false
endfunction

function Func1562 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local string s="war3mapImported\\UnstableConcoctionRangeDisplay3.mdx"
	if LocalPlayer!=GetOwningPlayer(source)then
		set s=""
	endif
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(442),((GetTime())*1.0))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget(s,source,"origin")))
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1561))
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1NI',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1NH',true)
	call UnitAddAbilityPermanent(source,'A1NH')
	call UnitMakeAbilityPermanent(source,true,'A1NH')
	call TriggerEvaluate(t)
	set source=null
	set t=null
endfunction

function Func1563 takes nothing returns boolean
	if GetSpellAbilityId()=='A1NI' then
		call Func1562()
	endif
	return false
endfunction

function Func1564 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1563))
	call Func0125('A0X6')
	set t=null
endfunction

function Func1565 takes nothing returns boolean
	return GetUnitAbilityLevel(GetKillingUnit(),'A0O3')>0 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetTriggerUnit())==false
endfunction

function Func1566 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit u=(LoadUnitHandle(HY,(h),(26)))
	call SaveInteger(HY,(GetHandleId(u)),(27),((LoadInteger(HY,(GetHandleId(u)),(27)))-1))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set u=null
	set t=null
	return false
endfunction

function Func1567 takes nothing returns nothing
	local unit PKI=GetKillingUnit()
	local unit QB2=GetTriggerUnit()
	local integer h=GetHandleId(PKI)
	local integer QC2=(LoadInteger(HY,(h),(27)))
	local integer lvl=GetUnitAbilityLevel(PKI,'A0O3')
	local integer QD2=4+8*lvl
	local integer QE2=QC2*3
	local integer QF2=Func0130(QE2+lvl*2+4,QD2)
	local texttag tt=CreateTextTag()
	local player p=GetOwningPlayer(PKI)
	local trigger t=CreateTrigger()
	set integers145[GetPlayerId(p)]=integers145[GetPlayerId(p)]+QF2
	call TriggerRegisterTimerEvent(t,30,false)
	call TriggerAddCondition(t,Condition(function Func1566))
	call SaveUnitHandle(HY,(GetHandleId(t)),(26),(PKI))
	call SaveInteger(HY,(h),(27),(QC2+1))
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,QF2+GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD))
	call SetTextTagText(tt,"+"+I2S(QF2),0.025)
	call SetTextTagPosUnit(tt,QB2,0)
	call SetTextTagColor(tt,255,220,0,255)
	call SetTextTagVelocity(tt,0,0.03)
	if LocalPlayer==p then
		call SetTextTagVisibility(tt,true)
	else
		call SetTextTagVisibility(tt,false)
	endif
	call SetTextTagFadepoint(tt,2)
	call SetTextTagLifespan(tt,3)
	call SetTextTagPermanent(tt,false)
	set t=null
endfunction

function Func1568 takes nothing returns boolean
	local integer EB2=integers145[GetPlayerId(GetTriggerPlayer())]
	if(GetUnitTypeId(Players_Hero[GetPlayerId(GetTriggerPlayer())])=='N01I' or GetUnitTypeId(Players_Hero[GetPlayerId(GetTriggerPlayer())])=='N01H' or GetUnitTypeId(Players_Hero[GetPlayerId(GetTriggerPlayer())])=='N01T' or GetUnitTypeId(Players_Hero[GetPlayerId(GetTriggerPlayer())])=='N01J')and EB2>0 then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,GetObjectName('n0GQ')+" "+I2S(EB2))
	endif
	return false
endfunction

function Func1569 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1565))
	call TriggerAddAction(t,function Func1567)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-st",true)
	call TriggerAddCondition(t,Condition(function Func1568))
	set t=null
endfunction

constant function AcidSpray_RawCode takes nothing returns integer
	return 'A0IL'
endfunction

constant function AcidSpray_EffectCode takes nothing returns integer
	return 'A0J4'
endfunction

function Func1570 takes nothing returns boolean
	return GetSpellAbilityId()==('A0IL')
endfunction

function Func1571 takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(unit002))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and GetUnitTypeId(GetFilterUnit())!='n0F5'
endfunction

function Func1572 takes nothing returns nothing
	call DamageTarget(unit002,GetEnumUnit(),2,real002)
endfunction

function Func1573 takes nothing returns nothing
	local timer t=GetExpiredTimer()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local integer QX2=(LoadInteger(HY,(h),(28)))
	local real x=GetUnitX(caster)
	local real y=GetUnitY(caster)
	local boolexpr QL1
	local group Z51
	if QX2>16 then
		call KillUnit(caster)
		call PauseTimer(t)
		call FlushChildHashtable(HY,(h))
		call DestroyTimer(t)
	else
		set unit002=Hero
		set real002=8+GetUnitAbilityLevel(Hero,('A0IL'))*4
		set QL1=Condition(function Func1571)
		set Z51=GetAvailableGroup()
		call GroupEnumUnitsInRange(Z51,x,y,650,QL1)
		call ForGroup(Z51,function Func1572)
		call KillGroup(Z51)
		set QX2=QX2+1
		call SaveInteger(HY,(h),(28),(QX2))
	endif
endfunction

function Func1574 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local location BFO=GetSpellTargetLoc()
	local real x=GetLocationX(BFO)
	local real y=GetLocationY(BFO)
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e01E',x,y,0)
	local timer t=CreateTimer()
	local integer h=GetHandleId(t)
	call RemoveLocation(BFO)
	call UnitAddAbilityPermanent(caster,('A0J4'))
	call SetUnitAbilityLevel(caster,('A0J4'),GetUnitAbilityLevel(Hero,('A0IL')))
	call UnitAddAbilityPermanent(caster,'Aloc')
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveInteger(HY,(h),(28),(0))
	call TimerStart(t,1,true,function Func1573)
endfunction

function Func1575 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddAction(t,function Func1574)
	call TriggerAddCondition(t,Condition(function Func1570))
	call Func0125(('A0J4'))
endfunction

function Func1576 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real OA2=GetUnitState(Hero,UNIT_STATE_MANA)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call SetUnitState(Hero,UNIT_STATE_MANA,GetUnitState(Hero,UNIT_STATE_MAX_MANA))
	call SetUnitState(Hero,UNIT_STATE_MANA,OA2)
	set t=null
	set Hero=null
	return false
endfunction

function Func1577 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	call TriggerRegisterTimerEvent(t,0.1,false)
	call TriggerAddCondition(t,Condition(function Func1576))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	set t=null
	set Hero=null
endfunction

function Func1578 takes nothing returns boolean
	if GetSpellAbilityId()=='ANcr' and GetUnitTypeId(GetTriggerUnit())=='N01I' then
		call Func1577()
	endif
	return false
endfunction

function Register_ChemicalRage takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1578))
	set t=null
endfunction

function Func1579 takes nothing returns nothing
	call DamageTarget(unit270,GetEnumUnit(),1,real277)
endfunction

function Func1580 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(Hero,'A2WE')
	local real dmg=(0.35+0.25*lvl)*(GetUnitState(target,UNIT_STATE_MAX_MANA)-GetUnitState(target,UNIT_STATE_MANA))
	local group g=GetAvailableGroup()
	call StunTargetIF(Hero,target,0.1*lvl)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",target,"chest"))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl",target,"chest"))
	call DestroyEffect(AddSpecialEffect("war3mapImported\\Enchantment.mdx",GetUnitX(target),GetUnitY(target)))
	call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),500+25,Condition(function Func0271))
	set real277=dmg
	set unit270=Hero
	call ForGroup(g,function Func1579)
	call PlaySoundOnUnitBJ(sound017,100,target)
	call KillGroup(g)
	set Hero=null
	set target=null
	set g=null
endfunction

function Func1581 takes nothing returns boolean
	if GetSpellAbilityId()=='A2WE' and IsBlocked(GetSpellTargetUnit())==false then
		call Func1580()
	endif
	return false
endfunction

function Func1582 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1581))
	set t=null
endfunction

function Func1583 takes unit source,unit target returns nothing
	local integer lvl=GetUnitAbilityLevel(source,'A1V6')
	local real QR2=16+12*lvl
	local real QP2=GetUnitState(target,UNIT_STATE_MANA)
	local real ZCO=RMinBJ(QR2,QP2)
	if ZCO>0 then
		call SetUnitState(target,UNIT_STATE_MANA,QP2-ZCO)
		call DamageTarget(source,target,2,ZCO*0.6)
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl",target,"origin"))
	endif
endfunction

function Func1584 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source then
			call DisableTrigger(t)
			call Func1583(source,target)
			call UnitAsInteger_Clear(PCI)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func1585 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local unit target=GetTriggerUnit()
	local unit source=GetAttacker()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,0.4,false)
	call TriggerAddCondition(t,Condition(function Func1584))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveUnitHandle(HY,(h),(2),(source))
	set target=null
	set source=null
	set t=null
endfunction

function Func1586 takes nothing returns nothing
	local unit source=GetAttacker()
	if((LoadInteger(HY,(GetHandleId((source))),((4274))))==1)==false then
		call AddTimedKeyToUnit(source,4274,0.4)
		call Func1585()
	endif
endfunction

function Func1587 takes nothing returns boolean
	if GetUnitAbilityLevel(GetAttacker(),'A1V6')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(14)))and GetUnitTypeId(GetTriggerUnit())!='n00L' and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))and Func0091(GetTriggerUnit())==false then
		call Func1586()
	endif
	return false
endfunction

function Func1588 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func1587))
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(GetTriggerUnit()))
	set t=null
endfunction

function Func1589 takes nothing returns boolean
	if GetLearnedSkill()=='A1V6' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A1V6')==1 then
		call Func1588()
	endif
	return false
endfunction

function Func1590 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func1589))
	set t=null
endfunction

function Func1591 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local integer Count=GetTriggerEvalCount(t)
	local integer R2O=R2I(((0.9-0.3)/0.5)/0.03)
	local integer U42=R2I((175/R2O))
	local integer U52=R2I((255/R2O)*1.75)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	if Count>R2O then
		call SetUnitVertexColor(caster,255,255,255,0)
		call SetUnitVertexColor(Hero,255,255,255,255)
		call ShowUnit(caster,false)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call SetUnitVertexColor(caster,255,255,255,175-U42*Count)
		call SetUnitX(caster,x)
		call SetUnitY(caster,y)
		call SetUnitVertexColor(Hero,255,255,255,U52*Count)
	endif
	set t=null
	set caster=null
	set Hero=null
	return false
endfunction

function Func1592 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit caster=(LoadUnitHandle(HY,(GetHandleId(Hero)),(293)))
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real x=GetUnitX(Hero)
	local real y=GetUnitY(Hero)
	call SetUnitX(caster,x)
	call SetUnitY(caster,y)
	call SetUnitX(Hero,x)
	call SetUnitY(Hero,y)
	call SetUnitVertexColor(Hero,255,255,255,0)
	call SetUnitVertexColor(caster,255,255,255,175)
	call SetUnitTimeScale(caster,0.5)
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerAddCondition(t,Condition(function Func1591))
	set Hero=null
	set caster=null
	set t=null
endfunction

function Func1593 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit caster
	local integer h=GetHandleId(Hero)
	local location l=GetSpellTargetLoc()
	local real a=Func0159(GetUnitX(Hero),GetUnitY(Hero),GetLocationX(l),GetLocationY(l))
	local real x=GetUnitX(Hero)
	local real y=GetUnitY(Hero)
	call RemoveLocation(l)
	call SetUnitPathing(Hero,false)
	call UnitAddAbilityPermanent(Hero,'Aeth')
	set caster=CreateUnit(GetOwningPlayer(Hero),'h06K',GetUnitX(Hero),GetUnitY(Hero),a)
	call Func0206(caster,5)
	call SetUnitPathing(caster,false)
	call UnitAddAbilityPermanent(caster,'Aeth')
	call UnitAddAbilityPermanent(caster,'Aloc')
	call UnitAddAbilityPermanent(caster,'A04R')
	call SetUnitVertexColor(caster,255,255,255,0)
	call SetUnitX(caster,x)
	call SetUnitY(caster,y)
	call SetUnitX(Hero,x)
	call SetUnitY(Hero,y)
	call SetUnitAnimation(caster,"Spell Throw")
	call SetUnitPathing(Hero,true)
	call UnitRemoveAbility(Hero,'Aeth')
	call SaveUnitHandle(HY,(h),(293),(caster))
	set Hero=null
	set caster=null
endfunction

function Func1594 takes nothing returns boolean
	if GetSpellAbilityId()=='AEbl' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
			call Func1592()
		else
			call Func1593()
		endif
	endif
	return false
endfunction

function Func1595 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1594))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func1594))
	set t=null
	call Func0219('h06K')
endfunction

function Func1596 takes nothing returns boolean
	return GetSpellAbilityId()=='A0O1'
endfunction

function TreeKiller takes nothing returns nothing
	call KillDestructable(GetEnumDestructable())
endfunction

function Func1597 takes unit PKI,real x,real y,group JAO returns nothing
	local group Z51=GetAvailableGroup()
	local unit WH1
	call KillTrees(x,y,150)
	call GroupEnumUnitsInRange(Z51,x,y,150,Condition(function ReturnTrue))
	loop
		set WH1=FirstOfGroup(Z51)
		exitwhen WH1==null
		if(IsUnitInGroup(WH1,JAO)==false and IsUnitEnemy(WH1,GetOwningPlayer(PKI)))then
			if(GetUnitAbilityLevel(WH1,'A04R')!=1 and GetUnitState(WH1,UNIT_STATE_LIFE)>0 and IsUnitType(WH1,UNIT_TYPE_STRUCTURE)==false)then
				call GroupAddUnit(JAO,WH1)
				call DamageTarget(PKI,WH1,2,40+GetUnitAbilityLevel(PKI,'A0O1')*30)
				call AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",WH1,"overhead")
			endif
		endif
		call GroupRemoveUnit(Z51,WH1)
	endloop
	call KillGroup(Z51)
endfunction

function Func1598 takes nothing returns nothing
	local integer h=GetHandleId(GetExpiredTimer())
	local unit UC2=(LoadUnitHandle(HY,(h),(290)))
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real Ax=(LoadReal(HY,(h),(284)))
	local real Ay=(LoadReal(HY,(h),(285)))
	local real Cx=(LoadReal(HY,(h),(286)))
	local real Cy=(LoadReal(HY,(h),(287)))
	local real Bx=(LoadReal(HY,(h),(288)))
	local real By=(LoadReal(HY,(h),(289)))
	local real a=(LoadReal(HY,(h),(137)))
	local real b=1-a
	local boolean UD2=(LoadBoolean(HY,(h),(291)))
	local group JAO=(LoadGroupHandle(HY,(h),(133)))
	local real UE2=RMaxBJ(Func0141(Ax,Ay,Cx,Cy)/1300,0.4)
	call SetUnitX(UC2,SafeX50(Ax*a*a+Bx*2*a*b+Cx*b*b))
	call SetUnitY(UC2,SafeY50(Ay*a*a+By*2*a*b+Cy*b*b))
	call Func1597(Hero,GetUnitX(UC2),GetUnitY(UC2),JAO)
	if(UD2)then
		call SaveReal(HY,(h),(137),((a-.02/UE2)*1.0))
	else
		call SaveReal(HY,(h),(137),((a+.02/UE2)*1.0))
		call SaveReal(HY,(h),(284),((GetUnitX(Hero))*1.0))
		call SaveReal(HY,(h),(285),((GetUnitY(Hero))*1.0))
	endif
	if(a<0 and UD2)then
		call SaveBoolean(HY,(h),(291),(false))
		call SaveReal(HY,(h),(288),((Ax+300*Cos(Atan2(Cy-Ay,Cx-Ax)+(LoadReal(HY,(h),(292)))))*1.0))
		call SaveReal(HY,(h),(289),((Ay+300*Sin(Atan2(Cy-Ay,Cx-Ax)+(LoadReal(HY,(h),(292)))))*1.0))
	endif
	if(a>1 and UD2==false)then
		call PauseTimer(GetExpiredTimer())
		call KillGroup(JAO)
		call FlushChildHashtable(HY,(h))
		call RemoveUnit(UC2)
		call DestroyTimer(GetExpiredTimer())
	endif
endfunction

function Func1599 takes nothing returns nothing
	local unit PKI=GetTriggerUnit()
	local real Ax=GetUnitX(PKI)
	local real Ay=GetUnitY(PKI)
	local real Cx=GetLocationX(GetSpellTargetLoc())
	local real Cy=GetLocationY(GetSpellTargetLoc())
	local unit UG2=CreateUnit(GetOwningPlayer(PKI),'e01T',Ax,Ay,270.0)
	local unit UH2=CreateUnit(GetOwningPlayer(PKI),'e01T',Ax,Ay,270.0)
	local integer UZ2
	local integer UV2
	local timer UW2=CreateTimer()
	local timer UX2=CreateTimer()
	if GetSpellTargetUnit()!=null then
		set Cx=GetUnitX(GetSpellTargetUnit())
		set Cy=GetUnitY(GetSpellTargetUnit())
	endif
	call UnitAddAbilityPermanent(UG2,'Amrf')
	call UnitRemoveAbility(UG2,'Amrf')
	call SetUnitFlyHeight(UG2,150,0)
	call UnitAddAbilityPermanent(UH2,'Amrf')
	call UnitRemoveAbility(UH2,'Amrf')
	call SetUnitFlyHeight(UH2,150,0)
	set UZ2=GetHandleId(UW2)
	call SaveUnitHandle(HY,(UZ2),(14),(PKI))
	call SaveUnitHandle(HY,(UZ2),(290),(UG2))
	call SaveGroupHandle(HY,(UZ2),(133),(GetAvailableGroup()))
	call SaveReal(HY,(UZ2),(284),((Ax)*1.0))
	call SaveReal(HY,(UZ2),(285),((Ay)*1.0))
	call SaveReal(HY,(UZ2),(286),((Cx)*1.0))
	call SaveReal(HY,(UZ2),(287),((Cy)*1.0))
	call SaveReal(HY,(UZ2),(288),((Ax+300*Cos(Atan2(Cy-Ay,Cx-Ax)+45))*1.0))
	call SaveReal(HY,(UZ2),(289),((Ay+300*Sin(Atan2(Cy-Ay,Cx-Ax)+45))*1.0))
	call SaveReal(HY,(UZ2),(137),((1)*1.0))
	call SaveReal(HY,(UZ2),(292),((-45)*1.0))
	call SaveBoolean(HY,(UZ2),(291),(true))
	set UV2=GetHandleId(UX2)
	call SaveUnitHandle(HY,(UV2),(14),(PKI))
	call SaveUnitHandle(HY,(UV2),(290),(UH2))
	call SaveGroupHandle(HY,(UV2),(133),(GetAvailableGroup()))
	call SaveReal(HY,(UV2),(284),((Ax)*1.0))
	call SaveReal(HY,(UV2),(285),((Ay)*1.0))
	call SaveReal(HY,(UV2),(286),((Cx)*1.0))
	call SaveReal(HY,(UV2),(287),((Cy)*1.0))
	call SaveReal(HY,(UV2),(288),((Ax+300*Cos(Atan2(Cy-Ay,Cx-Ax)-45))*1.0))
	call SaveReal(HY,(UV2),(289),((Ay+300*Sin(Atan2(Cy-Ay,Cx-Ax)-45))*1.0))
	call SaveReal(HY,(UV2),(137),((1)*1.0))
	call SaveReal(HY,(UV2),(292),((45)*1.0))
	call SaveBoolean(HY,(UV2),(291),(true))
	call TimerStart(UW2,.025,true,function Func1598)
	call TimerStart(UX2,.025,true,function Func1598)
endfunction

function Func1600 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1596))
	call TriggerAddAction(t,function Func1599)
endfunction

function Func1601 takes nothing returns nothing
	local real x=GetUnitX(GetEnumUnit())
	local real y=GetUnitY(GetEnumUnit())
	local real a=bj_RADTODEG*Atan2(y-real010,x-real009)
	local real UJ2
	local real UK2
	if Sin((a-real011)*bj_DEGTORAD)<0 then
		set UJ2=GetUnitX(GetEnumUnit())+15*Cos((real011-90)*bj_DEGTORAD)
		set UK2=GetUnitY(GetEnumUnit())+15*Sin((real011-90)*bj_DEGTORAD)
		call SetUnitPosition(GetEnumUnit(),UJ2,UK2)
		call SetUnitFacingTimed(GetEnumUnit(),real011+90,0.3)
	else
		set UJ2=GetUnitX(GetEnumUnit())+15*Cos((real011+90)*bj_DEGTORAD)
		set UK2=GetUnitY(GetEnumUnit())+15*Sin((real011+90)*bj_DEGTORAD)
		call SetUnitPosition(GetEnumUnit(),UJ2,UK2)
		call SetUnitFacingTimed(GetEnumUnit(),real011-90,0.3)
	endif
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",GetEnumUnit(),"origin"))
endfunction

function Func1602 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local real RM2=(LoadReal(HY,(h),(13)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local group g=(LoadGroupHandle(HY,(h),(22)))
	if GetTriggerEvalCount(t)>20 then
		call KillGroup(g)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set real009=x
		set real010=y
		set real011=RM2
		call ForGroup(g,function Func1601)
	endif
	set t=null
	set g=null
	return false
endfunction

function Func1603 takes nothing returns nothing
	call DamageTarget(tt_unit1,GetEnumUnit(),1,real009)
endfunction

function Func1604 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(Hero,'A0O2')
	local unit caster
	local real RM2=bj_RADTODEG*Atan2(GetUnitY(target)-GetUnitY(Hero),GetUnitX(target)-GetUnitX(Hero))
	local real x
	local real y
	local group g=GetAvailableGroup()
	local group g2=GetAvailableGroup()
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(Hero,'A289')
	endif
	call SaveGroupHandle(HY,(h),(22),(g))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveReal(HY,(h),(6),((GetUnitX(Hero))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(Hero))*1.0))
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerAddCondition(t,Condition(function Func1602))
	set x=GetUnitX(Hero)+50*Cos(RM2*bj_DEGTORAD)
	set y=GetUnitY(Hero)+50*Sin(RM2*bj_DEGTORAD)
	call GroupEnumUnitsInRange(g2,x,y,325,Condition(function Func0271))
	call GroupAddGroup(g2,g)
	call GroupClear(g2)
	set caster=CreateUnit(GetOwningPlayer(Hero),'o00Y',x,y,RM2)
	call UnitApplyTimedLife(caster,'BTLF',1)
	call UnitAddAbilityPermanent(caster,'A0NY')
	call SetUnitAbilityLevel(caster,'A0NY',lvl)
	call IssueImmediateOrder(caster,"thunderclap")
	set x=GetUnitX(Hero)+250*Cos(RM2*bj_DEGTORAD)
	set y=GetUnitY(Hero)+250*Sin(RM2*bj_DEGTORAD)
	call GroupEnumUnitsInRange(g2,x,y,325,Condition(function Func0271))
	call GroupAddGroup(g2,g)
	call GroupClear(g2)
	set caster=CreateUnit(GetOwningPlayer(Hero),'o00Y',x,y,RM2)
	call UnitApplyTimedLife(caster,'BTLF',1)
	call UnitAddAbilityPermanent(caster,'A0NY')
	call SetUnitAbilityLevel(caster,'A0NY',lvl)
	call IssueImmediateOrder(caster,"thunderclap")
	set x=GetUnitX(Hero)+450*Cos(RM2*bj_DEGTORAD)
	set y=GetUnitY(Hero)+450*Sin(RM2*bj_DEGTORAD)
	call GroupEnumUnitsInRange(g2,x,y,325,Condition(function Func0271))
	call GroupAddGroup(g2,g)
	call GroupClear(g2)
	set caster=CreateUnit(GetOwningPlayer(Hero),'o00Y',x,y,RM2)
	call UnitApplyTimedLife(caster,'BTLF',1)
	call UnitAddAbilityPermanent(caster,'A0NY')
	call SetUnitAbilityLevel(caster,'A0NY',lvl)
	call IssueImmediateOrder(caster,"thunderclap")
	if GetUnitAbilityLevel(Hero,'A0O2')==0 then
		set x=GetUnitX(Hero)+650*Cos(RM2*bj_DEGTORAD)
		set y=GetUnitY(Hero)+650*Sin(RM2*bj_DEGTORAD)
		call GroupEnumUnitsInRange(g2,x,y,325,Condition(function Func0271))
		call GroupAddGroup(g2,g)
		call GroupClear(g2)
		set caster=CreateUnit(GetOwningPlayer(Hero),'o00Y',x,y,RM2)
		call UnitApplyTimedLife(caster,'BTLF',1)
		call UnitAddAbilityPermanent(caster,'A0NY')
		call SetUnitAbilityLevel(caster,'A0NY',lvl)
		call IssueImmediateOrder(caster,"thunderclap")
	endif
	call KillGroup(g2)
	call GroupRemoveUnit(g,target)
	set real009=150+50*lvl
	set tt_unit1=Hero
	call ForGroup(g,function Func1603)
	set t=null
	set Hero=null
	set target=null
	set caster=null
	set g=null
	set g2=null
endfunction

function Func1605 takes nothing returns boolean
	if(GetSpellAbilityId()=='A0O2' or GetSpellAbilityId()=='A289')and IsBlocked(GetSpellTargetUnit())==false then
		call Func1604()
	endif
	return false
endfunction

function Func1606 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1605))
	set t=null
endfunction

function Func1607 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call UnitRemoveAbility(source,'A140')
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func1608 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	call UnitAddAbilityPermanent(source,'A140')
	call TriggerRegisterTimerEvent(t,5,false)
	call TriggerAddCondition(t,Condition(function Func1607))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
endfunction

function Func1609 takes nothing returns boolean
	if GetSpellAbilityId()=='A13Z' then
		call Func1608()
	endif
	return false
endfunction

function Func1610 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1609))
	set t=null
endfunction

function Func1611 takes nothing returns boolean
	return GetSpellAbilityId()=='A0OO' or GetSpellAbilityId()=='A2U5'
endfunction

function Func1612 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit I03=(LoadUnitHandle(HY,(h),(2)))
	local real II3=(LoadReal(HY,(h),(6)))
	local real I13=(LoadReal(HY,(h),(7)))
	local real IO3=GetUnitX(I03)
	local real I23=GetUnitY(I03)
	call SaveReal(HY,(h),(6),((IO3)*1.0))
	call SaveReal(HY,(h),(7),((I23)*1.0))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		if II3==IO3 and I13==I23 then
			if GetUnitAbilityLevel(I03,'A1WG')==0 then
				call UnitAddAbilityPermanent(I03,'A1WG')
			endif
		else
			if GetUnitAbilityLevel(I03,'A1WG')>0 then
				call UnitRemoveAbility(I03,'A1WG')
			endif
		endif
	endif
	set t=null
	set I03=null
	return false
endfunction

function Func1613 takes nothing returns nothing
	if boolean140 then
		if(GetUnitTypeId(GetEnumUnit())=='n01Q' or GetUnitTypeId(GetEnumUnit())=='n01R')then
		endif
	elseif boolean141 then
		if(GetUnitTypeId(GetEnumUnit())=='n01M' or GetUnitTypeId(GetEnumUnit())=='n01S')then
		endif
	endif
endfunction

function Func1614 takes nothing returns nothing
	local unit PKI=GetTriggerUnit()
	local player T4I=GetOwningPlayer(PKI)
	local integer lvl=GetUnitAbilityLevel(PKI,'A0OO')
	local real x=GetUnitX(PKI)
	local real y=GetUnitY(PKI)
	local group Z51=GetAvailableGroup()
	local unit I03
	local trigger t
	local integer h
	local boolean I53=GetSpellAbilityId()=='A0OO'
	local boolean I63=GetSpellAbilityId()=='A2U5'
	set boolean140=I53
	set boolean141=I63
	call GroupEnumUnitsOfPlayer(Z51,T4I,Condition(function ReturnTrue))
	call ForGroup(Z51,function Func1613)
	call KillGroup(Z51)
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",x,y))
	if(I53)then
		if(lvl==1)then
			set I03=CreateUnit(T4I,'n01Q',x,y,270)
			call UnitApplyTimedLife(I03,'BTLF',60)
		elseif(lvl==2)then
			set I03=CreateUnit(T4I,'n0NX',x,y,270)
			call UnitApplyTimedLife(I03,'BTLF',60)
		elseif(lvl==3)then
			set I03=CreateUnit(T4I,'n0NV',x,y,270)
			call UnitApplyTimedLife(I03,'BTLF',60)
		elseif(lvl==4)then
			set I03=CreateUnit(T4I,'n0NW',x,y,270)
			call UnitApplyTimedLife(I03,'BTLF',60)
		endif
		if lvl==3 or lvl==4 then
			set t=CreateTrigger()
			set h=GetHandleId(t)
			call TriggerRegisterTimerEvent(t,0.05,true)
			call TriggerRegisterUnitEvent(t,I03,EVENT_UNIT_DEATH)
			call SaveReal(HY,(h),(6),((GetUnitX(I03))*1.0))
			call SaveReal(HY,(h),(7),((GetUnitY(I03))*1.0))
			call SaveUnitHandle(HY,(h),(2),(I03))
			call TriggerAddCondition(t,Condition(function Func1612))
		endif
	endif
	if(I63)then
		if(lvl==1)then
			call UnitApplyTimedLife(CreateUnit(T4I,'n0NT',x,y,270),'BTLF',60)
		elseif(lvl==2)then
			call UnitApplyTimedLife(CreateUnit(T4I,'n01M',x,y,270),'BTLF',60)
		elseif(lvl==3)then
			call UnitApplyTimedLife(CreateUnit(T4I,'n0NS',x,y,270),'BTLF',60)
		elseif(lvl==4)then
			call UnitApplyTimedLife(CreateUnit(T4I,'n0NU',x,y,270),'BTLF',60)
		endif
	endif
endfunction

function Func1615 takes nothing returns boolean
	if GetLearnedSkill()=='A0OO' and IsUnitIllusion(GetTriggerUnit())==false then
		if GetUnitAbilityLevel(GetTriggerUnit(),'A0OO')==1 then
			call UnitAddAbilityPermanent(GetTriggerUnit(),'A2U5')
		endif
		call SetUnitAbilityLevel(GetTriggerUnit(),'A2U5',GetUnitAbilityLevel(GetTriggerUnit(),'A0OO'))
	endif
	return false
endfunction

function Func1616 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1611))
	call TriggerAddAction(t,function Func1614)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func1615))
	set t=null
endfunction

function Func1617 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer h=GetHandleId(source)
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local texttag tt=CreateTextTag()
	local integer ROI
	local integer i=1
	local unit u
	local player p2
	if lvl==1 then
		set ROI=200
	elseif lvl==2 then
		set ROI=275
	else
		set ROI=350
	endif
	call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)+ROI)
	call SetTextTagText(tt,"+"+I2S(ROI),0.025)
	call SetTextTagPosUnit(tt,Players_Hero[GetPlayerId(p)],100)
	call SetTextTagColor(tt,255,220,0,255)
	call SetTextTagVelocity(tt,0,0.03)
	call SetTextTagVisibility(tt,false)
	if LocalPlayer==p then
		call SetTextTagVisibility(tt,true)
	endif
	call SetTextTagFadepoint(tt,2)
	call SetTextTagLifespan(tt,3)
	call SetTextTagPermanent(tt,false)
	set ReliableGold[GetPlayerId(p)]=ReliableGold[GetPlayerId(p)]+ROI
	set integer461=integer461+ROI
	if lvl==1 then
		set ROI=50
	elseif lvl==2 then
		set ROI=100
	else
		set ROI=150
	endif
	loop
		exitwhen i>5
		if IsSentinel(p)then
			set p2=Sentinels[i]
		else
			set p2=Scourges[i]
		endif
		if p2!=p then
			set u=Players_Hero[GetPlayerId(p2)]
			if Func0139(u,source)<950 then
				set tt=CreateTextTag()
				call SetPlayerState(p2,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p2,PLAYER_STATE_RESOURCE_GOLD)+ROI)
				call SetTextTagText(tt,"+"+I2S(ROI),0.025)
				call SetTextTagPosUnit(tt,u,100)
				call SetTextTagColor(tt,255,220,0,255)
				call SetTextTagVelocity(tt,0,0.03)
				call SetTextTagVisibility(tt,false)
				if LocalPlayer==p2 then
					call SetTextTagVisibility(tt,true)
				endif
				call SetTextTagFadepoint(tt,2)
				call SetTextTagLifespan(tt,3)
				call SetTextTagPermanent(tt,false)
				set ReliableGold[GetPlayerId(p2)]=ReliableGold[GetPlayerId(p2)]+ROI
				set integer461=integer461+ROI
			endif
		endif
		set i=i+1
	endloop
	set source=null
	set p=null
	set tt=null
endfunction

function Func1618 takes nothing returns boolean
	if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and(LoadReal(HY,(GetHandleId(GetTriggerUnit())),(314)))>GetTime()then
		call Func1617()
	endif
	return false
endfunction

function Func1619 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	call SetUnitX(caster,GetUnitX(target))
	call SetUnitY(caster,GetUnitY(target))
	if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEvalCount(t)>10 and GetUnitAbilityLevel(target,'B00L')==0)then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call KillUnit(caster)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	set caster=null
	return false
endfunction

function Func1620 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit target=GetSpellTargetUnit()
	local unit source=GetTriggerUnit()
	local unit caster=CreateUnit(GetOwningPlayer(target),'e01V',GetUnitX(target),GetUnitY(target),0)
	local string FX="war3mapImported\\TrackBuff.mdx"
	if IsPlayerAlly(LocalPlayer,GetOwningPlayer(target))and Func0100(LocalPlayer)==false then
		set FX=""
	endif
	call UnitAddAbilityPermanent(caster,'A115')
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerRegisterUnitEvent(t,GetSpellTargetUnit(),EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1619))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget(FX,target,"overhead")))
	call SaveReal(HY,(GetHandleId(GetSpellTargetUnit())),(314),((GetTime()+30)*1.0))
	call SavePlayerHandle(HY,(GetHandleId(GetSpellTargetUnit())),(54),(GetOwningPlayer(GetTriggerUnit())))
	call SaveInteger(HY,(GetHandleId(GetSpellTargetUnit())),(5),(GetUnitAbilityLevel(GetTriggerUnit(),'A0B4')))
	set t=null
	set target=null
	set source=null
	set caster=null
endfunction

function Func1621 takes nothing returns boolean
	if GetSpellAbilityId()=='A0B4' then
		call Func1620()
	endif
	return false
endfunction

function Func1622 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1621))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1618))
	set t=null
endfunction

function Jinada_Swap takes nothing returns nothing
	call SetPlayerAbilityAvailable(GetOwningPlayer(unit128),'A1J4',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(unit128),'A1J3',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(unit128),'A1J5',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(unit128),'A1IU',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(unit129),'A1J4',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(unit129),'A1J3',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(unit129),'A1J5',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(unit129),'A1IU',false)
endfunction

function Func1623 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call UnitRemoveAbility(target,'A1IW')
	call UnitRemoveAbility(target,'B0CA')
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set target=null
	return false
endfunction

function Func1624 takes unit source,unit target returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,3,false)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1623))
	call SaveUnitHandle(HY,(h),(17),(target))
	call UnitAddAbilityPermanent(target,'A1IW')
	call UnitMakeAbilityPermanent(target,true,'A1IW')
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A1IW',false)
	call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl",target,"chest"))
	set t=null
endfunction

function Func1625 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source and(GetEventDamage()>40 or IsUnitType(target,UNIT_TYPE_STRUCTURE) or GetUnitTypeId(target)=='umtw' or GetUnitTypeId(target)=='ebal')and(LoadBoolean(HY,(GetHandleId(source)),(183))) then
			call Func1624(source,target)
			call SaveBoolean(HY,(GetHandleId(source)),(183),(false))
			call SaveReal(HY,(GetHandleId(source)),(184),((GetTime())*1.0))
			call UnitRemoveAbility(source,'A1IS')
			call UnitRemoveAbility(source,'A1J4')
			call UnitRemoveAbility(source,'A1J3')
			call UnitRemoveAbility(source,'A1J5')
			call UnitRemoveAbility(source,'A1IU')
			call FlushChildHashtable(HY,(GetHandleId((LoadTriggerHandle(HY,(h),(35))))))
			call CleanTrigger((LoadTriggerHandle(HY,(h),(35))))
			call UnitAsInteger_Clear(PCI)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func1626 takes nothing returns boolean
	local trigger t
	local integer h
	local unit target
	local unit source
	local integer lvl
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call SaveBoolean(HY,(GetHandleId(GetTriggerUnit())),(183),(false))
		call SaveReal(HY,(GetHandleId(GetTriggerUnit())),(184),((GetTime())*1.0))
		call UnitRemoveAbility(GetTriggerUnit(),'A1IS')
		call UnitRemoveAbility(GetTriggerUnit(),'A1J4')
		call UnitRemoveAbility(GetTriggerUnit(),'A1J3')
		call UnitRemoveAbility(GetTriggerUnit(),'A1J5')
		call UnitRemoveAbility(GetTriggerUnit(),'A1IU')
		call FlushChildHashtable(HY,(GetHandleId(GetTriggeringTrigger())))
		call CleanTrigger(GetTriggeringTrigger())
	elseif GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(182)))then
		if IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false then
			set t=CreateTrigger()
			set h=GetHandleId(t)
			set target=GetTriggerUnit()
			set source=GetAttacker()
			call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
			call TriggerRegisterTimerEvent(t,2.5,false)
			call TriggerAddCondition(t,Condition(function Func1625))
			call SaveInteger(HY,(h),(30),(Func0021(target)))
			call SaveUnitHandle(HY,(h),(2),(source))
			call SaveTriggerHandle(HY,(h),(35),(GetTriggeringTrigger()))
			set lvl=GetUnitAbilityLevel(GetAttacker(),'A1IQ')
			if lvl==0 then
				call UnitRemoveAbility(GetAttacker(),'A1J4')
				call UnitRemoveAbility(GetAttacker(),'A1J3')
				call UnitRemoveAbility(GetAttacker(),'A1J5')
				call UnitRemoveAbility(GetAttacker(),'A1IU')
			elseif lvl==1 then
				call UnitRemoveAbility(GetAttacker(),'A1J3')
				call UnitRemoveAbility(GetAttacker(),'A1J5')
				call UnitRemoveAbility(GetAttacker(),'A1IU')
			elseif lvl==2 then
				call UnitRemoveAbility(GetAttacker(),'A1J4')
				call UnitRemoveAbility(GetAttacker(),'A1J5')
				call UnitRemoveAbility(GetAttacker(),'A1IU')
			elseif lvl==3 then
				call UnitRemoveAbility(GetAttacker(),'A1J4')
				call UnitRemoveAbility(GetAttacker(),'A1J3')
				call UnitRemoveAbility(GetAttacker(),'A1IU')
			elseif lvl==4 then
				call UnitRemoveAbility(GetAttacker(),'A1J4')
				call UnitRemoveAbility(GetAttacker(),'A1J3')
				call UnitRemoveAbility(GetAttacker(),'A1J5')
			endif
			set target=null
			set source=null
			set t=null
		endif
	endif
	return false
endfunction

function Func1627 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real QZI=GetTime()
	local integer lvl=GetUnitAbilityLevel(Hero,'A1IQ')
	local real PD2=(LoadReal(HY,(GetHandleId(Hero)),(184)))
	local boolean IZ3=(LoadBoolean(HY,(GetHandleId(Hero)),(183)))
	if QZI-PD2>14-lvl*2 and IZ3==false and GetUnitTypeId(Hero)=='Naka' and IsDead(Hero)==false then
		call SaveBoolean(HY,(GetHandleId(Hero)),(183),(true))
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
		call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DEATH)
		call TriggerAddCondition(t,Condition(function Func1626))
		call SaveUnitHandle(HY,(h),(182),(Hero))
		call UnitAddAbilityPermanent(Hero,'A1IS')
		if GetUnitAbilityLevel(Hero,'B068')==0 then
			if lvl==1 then
				call UnitAddAbilityPermanent(Hero,'A1J4')
			elseif lvl==2 then
				call UnitAddAbilityPermanent(Hero,'A1J3')
			elseif lvl==3 then
				call UnitAddAbilityPermanent(Hero,'A1J5')
			elseif lvl==4 then
				call UnitAddAbilityPermanent(Hero,'A1IU')
			endif
		endif
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A1J4',false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A1J3',false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A1J5',false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A1IU',false)
	elseif IZ3==false and GetUnitAbilityLevel(Hero,'B068')==0 then
		call UnitRemoveAbility(Hero,'A1IS')
		call UnitRemoveAbility(Hero,'A1J4')
		call UnitRemoveAbility(Hero,'A1J3')
		call UnitRemoveAbility(Hero,'A1J5')
		call UnitRemoveAbility(Hero,'A1IU')
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func1628 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerAddCondition(t,Condition(function Func1627))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveInteger(HY,(h),(181),(0))
	set Hero=null
	set t=null
endfunction

function Func1629 takes nothing returns boolean
	if GetLearnedSkill()=='A1IQ' and GetUnitAbilityLevel(GetTriggerUnit(),'A1IQ')==1 and IsUnitIllusion(GetTriggerUnit())==false then
		call Func1628()
	endif
	return false
endfunction

function Func1630 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func1629))
	set t=null
endfunction

function Func1631 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A07A')
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			if((LoadInteger(HY,(GetHandleId((source))),((2487))))==1)==false then
				call AddTimedKeyToUnit(source,2487,0.5)
				if IsUnitType(target,UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(target,GetOwningPlayer(source))then
					call DamageTarget(source,target,2,30*lvl)
					call Func0163(I2S(R2I(30*lvl)),1,source,0.027,216,0,0,216)
				endif
			endif
		endif
	else
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func1632 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local unit target=GetTriggerUnit()
	local unit source=GetAttacker()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,2,false)
	call TriggerAddCondition(t,Condition(function Func1631))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(2),(source))
	set target=null
	set source=null
	set t=null
endfunction

function Func1633 takes nothing returns boolean
	local integer lvl
	local unit Hero
	if GetTriggerEventId()==EVENT_UNIT_SPELL_CAST or GetTriggerEventId()==EVENT_UNIT_DEATH then
		set Hero=(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(14)))
		set lvl=GetUnitAbilityLevel(Hero,'A1IQ')
		if(LoadBoolean(HY,(GetHandleId(Hero)),(183)))then
			set lvl=GetUnitAbilityLevel(Hero,'A1IQ')
			if lvl==0 then
				call UnitRemoveAbility(Hero,'A1J4')
				call UnitRemoveAbility(Hero,'A1J3')
				call UnitRemoveAbility(Hero,'A1J5')
				call UnitRemoveAbility(Hero,'A1IU')
			elseif lvl==1 then
				call UnitRemoveAbility(Hero,'A1J3')
				call UnitRemoveAbility(Hero,'A1J5')
				call UnitRemoveAbility(Hero,'A1IU')
			elseif lvl==2 then
				call UnitRemoveAbility(Hero,'A1J4')
				call UnitRemoveAbility(Hero,'A1J5')
				call UnitRemoveAbility(Hero,'A1IU')
			elseif lvl==3 then
				call UnitRemoveAbility(Hero,'A1J4')
				call UnitRemoveAbility(Hero,'A1J3')
				call UnitRemoveAbility(Hero,'A1IU')
			elseif lvl==4 then
				call UnitRemoveAbility(Hero,'A1J4')
				call UnitRemoveAbility(Hero,'A1J3')
				call UnitRemoveAbility(Hero,'A1J5')
			endif
		else
			call UnitRemoveAbility(Hero,'A1J4')
			call UnitRemoveAbility(Hero,'A1J3')
			call UnitRemoveAbility(Hero,'A1J5')
			call UnitRemoveAbility(Hero,'A1IU')
		endif
		call FlushChildHashtable(HY,(GetHandleId(GetTriggeringTrigger())))
		call CleanTrigger(GetTriggeringTrigger())
	elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
		if GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(14)))then
			if((LoadInteger(HY,(GetHandleId((GetAttacker()))),((2488))))==1)==false then
				call FlushChildHashtable(HY,(GetHandleId(GetTriggeringTrigger())))
				call CleanTrigger(GetTriggeringTrigger())
				call Func1632()
			endif
			if(LoadBoolean(HY,(GetHandleId(GetAttacker())),(183)))then
				set lvl=GetUnitAbilityLevel(GetAttacker(),'A1IQ')
				if lvl==0 then
					call UnitRemoveAbility(GetAttacker(),'A1J4')
					call UnitRemoveAbility(GetAttacker(),'A1J3')
					call UnitRemoveAbility(GetAttacker(),'A1J5')
					call UnitRemoveAbility(GetAttacker(),'A1IU')
				elseif lvl==1 then
					call UnitRemoveAbility(GetAttacker(),'A1J3')
					call UnitRemoveAbility(GetAttacker(),'A1J5')
					call UnitRemoveAbility(GetAttacker(),'A1IU')
				elseif lvl==2 then
					call UnitRemoveAbility(GetAttacker(),'A1J4')
					call UnitRemoveAbility(GetAttacker(),'A1J5')
					call UnitRemoveAbility(GetAttacker(),'A1IU')
				elseif lvl==3 then
					call UnitRemoveAbility(GetAttacker(),'A1J4')
					call UnitRemoveAbility(GetAttacker(),'A1J3')
					call UnitRemoveAbility(GetAttacker(),'A1IU')
				elseif lvl==4 then
					call UnitRemoveAbility(GetAttacker(),'A1J4')
					call UnitRemoveAbility(GetAttacker(),'A1J3')
					call UnitRemoveAbility(GetAttacker(),'A1J5')
				endif
			else
				call UnitRemoveAbility(GetAttacker(),'A1J4')
				call UnitRemoveAbility(GetAttacker(),'A1J3')
				call UnitRemoveAbility(GetAttacker(),'A1J5')
				call UnitRemoveAbility(GetAttacker(),'A1IU')
			endif
		endif
	else
		set Hero=(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(14)))
		if(LoadBoolean(HY,(GetHandleId(Hero)),(183)))==false then
			call UnitRemoveAbility(Hero,'A1J4')
			call UnitRemoveAbility(Hero,'A1J3')
			call UnitRemoveAbility(Hero,'A1J5')
			call UnitRemoveAbility(Hero,'A1IU')
		endif
		call FlushChildHashtable(HY,(GetHandleId(GetTriggeringTrigger())))
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1634 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit target=GetSpellTargetUnit()
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A07A')
	call AddTimedKeyToUnit(source,2488,1.25-0.25*lvl-0.01)
	call TriggerRegisterTimerEvent(t,15+5*lvl,false)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_CAST)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1633))
	call SaveUnitHandle(HY,(h),(14),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call UnitAddAbilityPermanent(source,'A1J4')
	call UnitAddAbilityPermanent(source,'A1J3')
	call UnitAddAbilityPermanent(source,'A1J5')
	call UnitAddAbilityPermanent(source,'A1IU')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1J4',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1J3',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1J5',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1IU',false)
	set t=null
	set target=null
	set source=null
endfunction

function Func1635 takes nothing returns boolean
	if GetSpellAbilityId()=='A07A' then
		call Func1634()
	endif
	return false
endfunction

function Func1636 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1635))
	set t=null
endfunction

function Func1637 takes unit source,unit WNO,unit IN3,integer lvl,boolean IS3 returns real
	local unit caster
	local real IT3=Func0139(WNO,IN3)
	if IS3==false then
		set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(WNO),GetUnitY(WNO),0)
		call UnitAddAbilityPermanent(caster,'A004')
		call SetUnitAbilityLevel(caster,'A004',lvl)
		call IssueTargetOrder(caster,"thunderbolt",IN3)
		set caster=null
	endif
	return IT3/1000
endfunction

function Func1638 takes nothing returns boolean
	if IsUnitInGroup(GetFilterUnit(),group008)==false then
		if GetUnitAbilityLevel(GetFilterUnit(),'B00L')>0 then
			return true
		endif
	endif
	return false
endfunction

function Func1639 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local unit WNO=(LoadUnitHandle(HY,(h),(17)))
	local unit IN3
	local real dur
	local group PR2=(LoadGroupHandle(HY,(h),(22)))
	local group g
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set g=GetAvailableGroup()
	set group008=PR2
	call GroupEnumUnitsInRange(g,GetUnitX(WNO),GetUnitY(WNO),900,Condition(function Func1638))
	set IN3=GroupPickRandomUnit(g)
	call KillGroup(g)
	if IN3!=null then
		set dur=Func1637(source,WNO,IN3,lvl,false)
		call GroupAddUnit(PR2,IN3)
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveInteger(HY,(h),(5),(lvl))
		call SaveUnitHandle(HY,(h),(17),(IN3))
		call SaveGroupHandle(HY,(h),(22),(PR2))
		call TriggerRegisterTimerEvent(t,dur,false)
		call TriggerAddCondition(t,Condition(function Func1639))
	else
		call KillGroup(PR2)
	endif
	set t=null
	set source=null
	set WNO=null
	set IN3=null
	set g=null
	set PR2=null
	return false
endfunction

function Func1640 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit IU3=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(Hero,'A004')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real dur=Func1637(Hero,Hero,IU3,lvl,true)
	local group g=GetAvailableGroup()
	call GroupAddUnit(g,IU3)
	call SaveUnitHandle(HY,(h),(2),(Hero))
	call SaveUnitHandle(HY,(h),(17),(IU3))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveGroupHandle(HY,(h),(22),(g))
	call TriggerRegisterTimerEvent(t,dur,false)
	call TriggerAddCondition(t,Condition(function Func1639))
	set Hero=null
	set IU3=null
	set t=null
endfunction

function Func1641 takes nothing returns boolean
	if GetUnitAbilityLevel(GetTriggerUnit(),'A04R')==0 and GetSpellAbilityId()=='A004' and IsBlocked(GetSpellTargetUnit())==false then
		call Func1640()
	endif
	return false
endfunction

function Func1642 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1641))
	set t=null
endfunction

constant function Warpath_AbilityCode takes nothing returns integer
	return 'A0FV'
endfunction

constant function Warpath_EffectCode takes nothing returns integer
	return 'A0EF'
endfunction

constant function Warpath_SprayCode takes nothing returns integer
	return 'A0GP'
endfunction

constant function Warpath_GooCode takes nothing returns integer
	return 'A0FW'
endfunction

function Func1643 takes nothing returns boolean
	return GetSpellAbilityId()==('A0GP')or GetSpellAbilityId()==('A0FW')
endfunction

function Func1644 takes integer lvl,integer a returns integer
	if a==0 then
		return 1
	else
		if lvl==1 then
			return a+1
		elseif lvl==2 then
			return a+6
		elseif lvl==3 then
			return a+12
		endif
	endif
	return 1
endfunction

function Func1645 takes nothing returns boolean
	return GetUnitTypeId(GetFilterUnit())=='e00X'
endfunction

function Func1646 takes nothing returns nothing
	call RemoveUnit(GetEnumUnit())
endfunction

function Func1647 takes player p returns nothing
	local group g=GetAvailableGroup()
	call GroupEnumUnitsOfPlayer(g,p,Condition(function Func1645))
	call ForGroup(g,function Func1646)
	call KillGroup(g)
	set g=null
endfunction

function Func1648 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local unit Hero=(LoadUnitHandle(HY,(GetHandleId(t)),(14)))
	local integer h=GetHandleId(Hero)
	local integer lvl=GetUnitAbilityLevel(Hero,('A0FV'))
	local integer O53=(LoadInteger(HY,(h),(315)))-1
	local integer O63=Func0132(O53,0,4+lvl)
	local unit caster=(LoadUnitHandle(HY,(h),(316)))
	local integer O73
	if lvl==1 then
		set O73=O63*20
	elseif lvl==2 then
		set O73=O63*25
	elseif lvl==3 then
		set O73=O63*30
	endif
	if O53==0 then
		set O73=0
	endif
	call Func0366(Hero,O73)
	if GetUnitTypeId(caster)=='e00X' then
		call SetUnitAbilityLevel(caster,('A0EF'),Func1644(lvl,O63))
		call SaveInteger(HY,(h),(315),(O53))
	else
		call Func1647((LoadPlayerHandle(HY,(GetHandleId(t)),(54))))
	endif
	call FlushChildHashtable(HY,(GetHandleId(t)))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	set caster=null
	return false
endfunction

function Func1649 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local integer h=GetHandleId(Hero)
	local unit caster=(LoadUnitHandle(HY,(h),(316)))
	local integer lvl=GetUnitAbilityLevel(Hero,('A0FV'))
	local integer O53=(LoadInteger(HY,(h),(315)))+1
	local integer O63=Func0132(O53,0,4+lvl)
	local integer O93=Func1644(lvl,O63)
	local trigger t=CreateTrigger()
	local integer O73
	if lvl==1 then
		set O73=O63*20
	elseif lvl==2 then
		set O73=O63*25
	elseif lvl==3 then
		set O73=O63*30
	endif
	call Func0366(Hero,O73)
	call SetUnitAbilityLevel(caster,('A0EF'),O93)
	call SaveInteger(HY,(h),(315),(O53))
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(Hero))
	call SavePlayerHandle(HY,(GetHandleId(t)),(54),(GetOwningPlayer(Hero)))
	call TriggerRegisterTimerEvent(t,14,false)
	call TriggerAddCondition(t,Condition(function Func1648))
	set t=null
endfunction

function Func1650 takes nothing returns boolean
	return GetLearnedSkill()==('A0FV')and GetUnitAbilityLevel(GetTriggerUnit(),('A0FV'))==1 and IsUnitIllusion(GetTriggerUnit())==false
endfunction

function Func1651 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(Hero,('A0FV'))
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e00X',0,0,0)
	local trigger t=CreateTrigger()
	call UnitAddAbilityPermanent(caster,('A0EF'))
	call SaveUnitHandle(HY,(GetHandleId(Hero)),(316),(caster))
	call SetUnitInvulnerable(caster,true)
	call UnitAddAbilityPermanent(caster,'Aloc')
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1643))
	call TriggerAddAction(t,function Func1649)
endfunction

function Func1652 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func1650))
	call TriggerAddAction(t,function Func1651)
	call Func0125(('A0EF'))
endfunction

function Func1653 takes nothing returns boolean
	return GetSpellAbilityId()=='A0GP'
endfunction

function Func1654 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(),'A04R')!=1
endfunction

function Func1655 takes nothing returns nothing
	local integer OF3=GetHandleId(GetEnumUnit())
	local integer OG3=(LoadInteger(HY,(integer462),(OF3)))
	local integer lvl=GetUnitAbilityLevel(unit002,'A0GP')
	local real dmg=Func0133(real002+OG3*(28+2*lvl),400)
	call UnitDamageTarget(unit002,GetEnumUnit(),dmg,false,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
	call SaveInteger(HY,(integer462),(OF3),(OG3+1))
endfunction

function Func1656 takes nothing returns nothing
	local integer OF3=GetHandleId(GetEnumUnit())
	local integer OG3=(LoadInteger(HY,(integer462),(OF3)))
	call SaveInteger(HY,(integer462),(OF3),(OG3-1))
endfunction

function Func1657 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit PKI=(LoadUnitHandle(HY,(h),(221)))
	local group Z51=(LoadGroupHandle(HY,(h),(317)))
	set integer462=GetHandleId(PKI)
	call ForGroup(Z51,function Func1656)
	call KillGroup(Z51)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	return false
endfunction

function Func1658 takes nothing returns nothing
	local unit PKI=GetTriggerUnit()
	local group Z51=GetAvailableGroup()
	local trigger t=CreateTrigger()
	if IsUnitType(PKI,UNIT_TYPE_HERO)==false then
		set PKI=Players_Hero[GetPlayerId(GetOwningPlayer(PKI))]
	endif
	call GroupEnumUnitsInRange(Z51,GetUnitX(PKI),GetUnitY(PKI),650,Condition(function Func1654))
	set unit002=CreateUnit(GetOwningPlayer(PKI),'e00E',GetUnitX(PKI),GetUnitY(PKI),0)
	set real002=GetUnitAbilityLevel(PKI,'A0GP')*20
	set integer462=GetHandleId(PKI)
	call ForGroup(Z51,function Func1655)
	call SaveUnitHandle(HY,(GetHandleId(t)),(221),(PKI))
	call SaveGroupHandle(HY,(GetHandleId(t)),(317),(Z51))
	call TriggerRegisterTimerEvent(t,14,false)
	call TriggerAddCondition(t,Condition(function Func1657))
	set t=null
endfunction

function Func1659 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1653))
	call TriggerAddAction(t,function Func1658)
endfunction

function Func1660 takes nothing returns boolean
	return GetSpellAbilityId()=='A0FW' and IsBlocked(GetSpellTargetUnit())==false
endfunction

function Trig_Goo_Func001Func001001002 takes nothing returns boolean
	return(GetUnitTypeId(GetFilterUnit())=='e02E')
endfunction

function Func1661 takes nothing returns nothing
	call KillUnit(GetEnumUnit())
endfunction

function Func1662 takes nothing returns boolean
	return(GetUnitTypeId(GetFilterUnit())=='e02E')
endfunction

function Func1663 takes nothing returns boolean
	if(not(GetUnitUserData(GetEnumUnit())==4))then
		return false
	endif
	return true
endfunction

function Func1664 takes nothing returns nothing
	local location BFO=GetUnitLoc(GetTriggerUnit())
	call SetUnitPositionLoc(GetEnumUnit(),BFO)
	if(Func1663())then
		call IssueTargetOrder(GetEnumUnit(),"acidbomb",GetSpellTargetUnit())
	else
		call IncUnitAbilityLevel(GetEnumUnit(),'A0FZ')
		call IssueTargetOrder(GetEnumUnit(),"acidbomb",GetSpellTargetUnit())
		call SetUnitUserData(GetEnumUnit(),(GetUnitUserData(GetEnumUnit())+1))
	endif
	call RemoveLocation(BFO)
endfunction

function Func1665 takes nothing returns nothing
	local location BFO=GetUnitLoc(GetTriggerUnit())
	local location OM3=GetUnitLoc(GetSpellTargetUnit())
	local group ON3=GetAvailableGroup()
	if(UnitHasBuffBJ(GetSpellTargetUnit(),'B02U'))then
		call GroupEnumUnitsOfPlayer(ON3,GetOwningPlayer(GetSpellTargetUnit()),Condition(function Func1662))
		call ForGroupBJ(ON3,function Func1664)
	else
		call GroupEnumUnitsOfPlayer(ON3,GetOwningPlayer(GetSpellTargetUnit()),Condition(function Func1662))
		call ForGroupBJ(ON3,function Func1661)
		call DisableTrigger(trigger030)
		call CreateNUnitsAtLocFacingLocBJ(1,'e02E',GetOwningPlayer(GetSpellTargetUnit()),BFO,OM3)
		call EnableTrigger(trigger030)
		call UnitAddAbility(bj_lastCreatedUnit,'A0FZ')
		call SetUnitAbilityLevelSwapped('A0FZ',bj_lastCreatedUnit,((GetUnitAbilityLevelSwapped('A0FW',GetTriggerUnit())*4)-3))
		call IssueTargetOrder(bj_lastCreatedUnit,"acidbomb",GetSpellTargetUnit())
		call SetUnitUserData(bj_lastCreatedUnit,1)
	endif
	call KillGroup(ON3)
	call RemoveLocation(BFO)
	call RemoveLocation(OM3)
endfunction

function Func1666 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1660))
	call TriggerAddAction(t,function Func1665)
endfunction

function Func1667 takes nothing returns boolean
	return GetLearnedSkill()=='A0M3' and IsUnitIllusion(GetTriggerUnit())==false
endfunction

function Func1668 takes nothing returns boolean
	if(IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE))then
		return false
	endif
	return true
endfunction

function Func1669 takes unit Hero returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e00E',GetUnitX(Hero),GetUnitY(Hero),0)
	call UnitAddAbilityPermanent(caster,'A0GP')
	call SetUnitAbilityLevel(caster,'A0GP',GetUnitAbilityLevel(Hero,'A0GP'))
	call IssueImmediateOrder(caster,"fanofknives")
	set caster=null
endfunction

function Func1670 takes unit Hero,real dmg returns nothing
	local integer h=GetHandleId(Hero)
	local real E01=(LoadReal(HY,(h),(278)))
	if E01+dmg>250 then
		call SaveReal(HY,(h),(278),((0)*1.0))
		call Func1669(Hero)
	else
		call SaveReal(HY,(h),(278),((E01+dmg)*1.0))
	endif
endfunction

function Func1671 takes nothing returns nothing
	local unit OU3=GetTriggerUnit()
	local unit Z4O=GetEventDamageSource()
	local real A03=Func0158(Z4O,OU3)
	local real AI3=GetUnitFacing(OU3)
	local real A13
	local real dmg=GetEventDamage()
	local real AO3
	local real RM2
	if(dmg>5)and GetUnitState(OU3,UNIT_STATE_LIFE)>1 and GetUnitAbilityLevel(OU3,'BNdo')==0 then
		if((AI3-A03)<(-180.00))then
			set A13=(AI3-A03+360)
		else
			if((AI3-A03)>180.00)then
				set A13=(AI3-A03-360)
			else
				set A13=(AI3-A03)
			endif
		endif
		set RM2=RAbsBJ(A13)
		if RM2<=70 then
			set AO3=(GetUnitAbilityLevel(OU3,'A0M3')*0.08+0.08)*dmg
			call Func1670(OU3,dmg-AO3)
			call SetUnitState(OU3,UNIT_STATE_LIFE,GetUnitState(OU3,UNIT_STATE_LIFE)+AO3)
		elseif RM2<=110 then
			set AO3=(GetUnitAbilityLevel(OU3,'A0M3')*0.04+0.04)*dmg
			call SetUnitState(OU3,UNIT_STATE_LIFE,GetUnitState(OU3,UNIT_STATE_LIFE)+AO3)
		endif
	endif
	set OU3=null
	set Z4O=null
endfunction

function Func1672 takes nothing returns nothing
	local trigger t
	if GetUnitAbilityLevel(GetTriggerUnit(),'A0M3')==1 then
		set t=CreateTrigger()
		call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
		call TriggerAddCondition(t,Condition(function Func1668))
		call TriggerAddAction(t,function Func1671)
	endif
endfunction

function Func1673 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func1667))
	call TriggerAddAction(t,function Func1672)
endfunction

function Func1674 takes nothing returns boolean
	return GetUnitAbilityLevel(GetTriggerUnit(),'A00V')>0 and GetUnitAbilityLevel(GetAttacker(),'A04R')!=1 and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false and GetUnitTypeId(GetAttacker())!='n0F5'
endfunction

function Func1675 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetAttacker()
	local integer lvl=GetUnitAbilityLevel(source,'A00V')
	local integer A53=GetHeroStr(source,true)
	local real dmg=(14+2*lvl)+(0.18+0.08*lvl)*A53
	call DamageTarget(source,target,2,dmg)
	set source=null
	set target=null
endfunction

function Func1676 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func1674))
	call TriggerAddAction(t,function Func1675)
endfunction

function Func1677 takes nothing returns nothing
	call DamageTarget(unit271,GetEnumUnit(),1,real278)
endfunction

function Func1678 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2ON')
	local real A83
	local group g=GetAvailableGroup()
	set real278=100+lvl*75
	set unit271=source
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),190+25,Condition(function Func0280))
	call ForGroup(g,function Func1677)
	set A83=real278
	if GetUnitState(source,UNIT_STATE_LIFE)<=A83*0.75 then
		set A83=GetUnitState(source,UNIT_STATE_LIFE)/0.75-10
	endif
	call DamageTarget(source,source,1,A83)
	call DestroyEffect(AddSpecialEffect("war3mapImported\\DoubleEdgeTarget.mdx",GetUnitX(target),GetUnitY(target)))
	set source=null
	set target=null
endfunction

function Func1679 takes nothing returns boolean
	if GetSpellAbilityId()=='A2ON' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
			call Func1678()
		else
			call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\DoubleEdgeCaster.mdx",GetTriggerUnit(),"hand, right"))
		endif
	endif
	return false
endfunction

function Func1680 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func1679))
	set t=null
endfunction

function Func1681 takes nothing returns nothing
	local integer AB3
	if Func0091(GetEnumUnit())==false and((LoadInteger(HY,(GetHandleId((GetEnumUnit()))),((4332))))==1)==false then
		call AddTimedKeyToUnit(GetEnumUnit(),4332,3.75)
		set AB3=integer463
		call DamageTarget(unit273,GetEnumUnit(),1,(AB3)*GetHeroStr(unit272,true))
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A2OK',false)
		call UnitAddAbilityPermanent(GetEnumUnit(),'A2OK')
		call Func0228(GetEnumUnit(),'A2OK',1,1.5,'B0GF')
	endif
endfunction

function Func1682 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local group g
	if GetTriggerEvalCount(t)>=R2I(20*3.75)or GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SetUnitPathing(source,true)
		call UnitRemoveAbility(source,'A2O4')
		call UnitRemoveAbility(source,'B0GB')
	else
		set g=GetAvailableGroup()
		set tt_unit1=source
		set unit272=caster
		set unit273=source
		set integer463=lvl
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),105+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func1681)
		call KillGroup(g)
	endif
	set t=null
	set source=null
	set g=null
	return false
endfunction

function Func1683 takes nothing returns nothing
	local unit source=GetEnumUnit()
	local integer lvl=GetUnitAbilityLevel(unit272,'A2O6')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SetUnitPathing(source,false)
	call UnitAddAbilityPermanent(source,'A2O4')
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerAddCondition(t,Condition(function Func1682))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(19),(unit272))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("war3mapImported\\SandBreathDamageSmall.mdx",source,"foot, left")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("war3mapImported\\SandBreathDamageSmall.mdx",source,"foot, right")))
	set source=null
	set t=null
endfunction

function Func1684 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group g=GetAvailableGroup()
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set unit272=source
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,0,0,99999,Condition(function Func0293))
	call ForGroup(g,function Func1683)
	call KillGroup(g)
	set t=null
	set source=null
	set g=null
	return false
endfunction

function Func1685 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local sound PGI=CreateSound("abilities\\Spells\\Other\\Stampede\\StampedeCaster1.wav",false,false,false,10,10,"DefaultEAXON")
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call StartSound(PGI)
	call KillSoundWhenDone(PGI)
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func1684))
	call SaveUnitHandle(HY,(h),(2),(source))
	set source=null
	set PGI=null
endfunction

function Func1686 takes nothing returns boolean
	if GetSpellAbilityId()=='A2O6' then
		call Func1685()
	endif
	return false
endfunction

function Func1687 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call Func0125('A2O4')
	call Func0125('A0X6')
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1686))
	call CreateSound("abilities\\Spells\\Other\\Stampede\\StampedeCaster1.wav",false,false,false,10,10,"DefaultEAXON")
	set t=null
endfunction

function Func1688 takes nothing returns boolean
	return GetSpellAbilityId()=='A0LV' or GetSpellAbilityId()=='A2MC'
endfunction

function Func1689 takes nothing returns boolean
	if(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)then
		if(IsUnitAliveBJ(GetFilterUnit()))then
			if Func0089(GetFilterUnit())==false then
				if(GetUnitTypeId(GetFilterUnit())!='ncop')then
					if(GetUnitAbilityLevel(GetFilterUnit(),'Aeth')==1)then
						if((GetUnitAbilityLevel(GetFilterUnit(),'A0KO')==1)or(GetUnitAbilityLevel(GetFilterUnit(),'A0KQ')==1)or(GetUnitAbilityLevel(GetFilterUnit(),'A0KR')==1)or(GetUnitAbilityLevel(GetFilterUnit(),'A0KP')==1))then
							return true
						endif
					endif
				endif
			endif
		endif
	endif
	return false
endfunction

function Func1690 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit AW3=(LoadUnitHandle(HY,(h),(2)))
	local unit u=(LoadUnitHandle(HY,(h),(26)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local boolean AX3=(LoadBoolean(HY,(h),(95)))
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
		if Func0323(GetSpellAbilityId())and GetSpellTargetUnit()==u then
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			set t=null
			set AW3=null
			set u=null
		endif
		return false
	endif
	call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
	if(LoadBoolean(HY,(GetHandleId(u)),(80)))==false and GetUnitAbilityLevel(u,'A04R')==0 then
		call AddTimedKeyToUnit(u,4409,1)
		if AX3 then
			call SetUnitPosition(u,GetUnitX(AW3),GetUnitY(AW3))
		else
			call SetUnitPosition(u,x,y)
		endif
	endif
	if(LoadBoolean(HY,(GetHandleId(u)),(80))) then
		call Error(GetOwningPlayer(AW3),GetObjectName('n036'))
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set AW3=null
	set u=null
	return false
endfunction

function Func1691 takes unit u,unit AJ3,integer AK3,real x,real y,boolean AX3 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	if IsUnitOwnedByPlayer(u,GetOwningPlayer(AJ3))and AX3==false then
		call TriggerRegisterTimerEvent(t,0.1,false)
	else
		call TriggerRegisterTimerEvent(t,7-AK3,false)
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	endif
	call TriggerAddCondition(t,Condition(function Func1690))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("effects\\Test_of_Faith_FX.mdx",u,"overhead")))
	call SaveUnitHandle(HY,(h),(26),(u))
	call SaveUnitHandle(HY,(h),(2),(AJ3))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveBoolean(HY,(h),(95),(AX3))
	set t=null
endfunction

function Func1692 takes nothing returns nothing
	local unit target=GetSpellTargetUnit()
	local unit AW3=GetTriggerUnit()
	local location BFO=GetUnitLoc(AW3)
	local unit caster
	local integer AK3=GetUnitAbilityLevel(AW3,'A0LV')
	local real DH1
	local group Z51
	local unit GB2
	local location AM3
	local effect fx
	if(IsSentinel(GetOwningPlayer(AW3)))then
		set AM3=GetRectCenter(Hero_Creation_NE)
	else
		set AM3=GetRectCenter(Hero_Creation_UD)
	endif
	if target==AW3 then
		set Z51=GetAvailableGroup()
		call GroupEnumUnitsOfPlayer(Z51,GetOwningPlayer(AW3),Condition(function Func1689))
		loop
			exitwhen CountUnitsInGroup(Z51)==0
			set GB2=GroupPickRandomUnit(Z51)
			call GroupRemoveUnit(Z51,GB2)
			call Func1691(GB2,AW3,AK3,GetLocationX(AM3),GetLocationY(AM3),true)
		endloop
		call KillGroup(Z51)
	elseif(IsUnitAlly(target,GetOwningPlayer(AW3))==false)then
		if IsBlocked(GetSpellTargetUnit())==false then
			set DH1=GetRandomInt(50*AK3,100*AK3)
			call Func0163(I2S(R2I(DH1)),1,target,0.023,255,255,0,216)
			call UnitDamageTargetBJ(AW3,target,DH1,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC)
			set fx=AddSpecialEffectTargetUnitBJ("chest",target,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
			call DestroyEffect(fx)
		endif
	else
		if(IsUnitType(target,UNIT_TYPE_HERO))then
			if((LoadBoolean(HY,(GetHandleId(GetOwningPlayer(target))),(139)))==false)then
				call Func1691(target,AW3,AK3,GetLocationX(AM3),GetLocationY(AM3),false)
			endif
		elseif(IsUnitOwnedByPlayer(target,GetOwningPlayer(AW3)))then
			call SetUnitPositionLoc(target,AM3)
		endif
	endif
	call RemoveLocation(BFO)
	call RemoveLocation(AM3)
endfunction

function Func1693 takes nothing returns boolean
	if GetLearnedSkill()=='A0LV' and IsUnitIllusion(GetTriggerUnit())==false then
		call UnitAddAbilityPermanent(GetTriggerUnit(),'A2MC')
		call SetUnitAbilityLevel(GetTriggerUnit(),'A2MC',GetUnitAbilityLevel(GetTriggerUnit(),'A0LV'))
	endif
	return false
endfunction

function Func1694 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1688))
	call TriggerAddAction(t,function Func1692)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func1693))
endfunction

function Func1695 takes nothing returns boolean
	if(not(GetSpellAbilityId()=='A069'))then
		return false
	endif
	return true
endfunction

function Func1696 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit AW3=(LoadUnitHandle(HY,(h),(2)))
	local integer AR3=(LoadInteger(HY,(h),(157)))
	local group Z51=GetAvailableGroup()
	local unit GB2
	call GroupEnumUnitsOfPlayer(Z51,GetOwningPlayer(AW3),Condition(function Func1689))
	loop
		exitwhen(CountUnitsInGroup(Z51)<=AR3)
		set GB2=GroupPickRandomUnit(Z51)
		call GroupRemoveUnit(Z51,GB2)
		call KillUnit(GB2)
	endloop
	call KillGroup(Z51)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set AW3=null
	set t=null
	set Z51=null
	set GB2=null
	return false
endfunction

function Func1697 takes nothing returns nothing
	local unit AQ3=GetSpellTargetUnit()
	local unit AW3=GetTriggerUnit()
	local integer AK3=GetUnitAbilityLevel(AW3,'A069')
	local integer AR3=1
	local integer playerid=GetPlayerId(GetOwningPlayer(AW3))
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call Func0142(AQ3)
	if(AK3==1)then
		set AR3=1
		call UnitAddAbilityPermanent(AQ3,'A0KO')
	endif
	if(AK3==2)then
		set AR3=2
		call UnitAddAbilityPermanent(AQ3,'A0KQ')
	endif
	if(AK3==3)then
		set AR3=3
		call UnitAddAbilityPermanent(AQ3,'A0KR')
	endif
	if(AK3==4)then
		set AR3=4
		call UnitAddAbilityPermanent(AQ3,'A0KP')
	endif
	call UnitAddAbilityPermanent(AQ3,'Aeth')
	call UnitAddAbilityPermanent(AQ3,'A12G')
	call SaveUnitHandle(HY,(h),(2),(AW3))
	call SaveInteger(HY,(h),(157),(AR3))
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func1696))
	set t=null
	set AQ3=null
	set AW3=null
endfunction

function Func1698 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster
	local real x
	local real y
	local integer lvl=GetUnitAbilityLevel(source,'A28T')
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A2YN')
	endif
	if IsUnitEnemy(target,GetOwningPlayer(source))then
		set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
		call UnitAddAbility(caster,'A069')
		call SetUnitAbilityLevel(caster,'A069',lvl)
		call IssueTargetOrder(caster,"charm",target)
	else
		if IsSentinel(GetOwningPlayer(source))then
			set x=GetRectCenterX(Hero_Creation_NE)
			set y=GetRectCenterY(Hero_Creation_NE)
		else
			set x=GetRectCenterX(Hero_Creation_UD)
			set y=GetRectCenterY(Hero_Creation_UD)
		endif
		if(LoadBoolean(HY,(GetHandleId(GetOwningPlayer(target))),(139)))==false then
			call Func1691(target,source,lvl,x,y,false)
		endif
	endif
	set source=null
	set target=null
	set caster=null
endfunction

function Func1699 takes nothing returns boolean
	if(GetSpellAbilityId()=='A28T' or GetSpellAbilityId()=='A2YN')and IsBlocked(GetSpellTargetUnit())==false then
		call Func1698()
	endif
	return false
endfunction

function Func1700 takes nothing returns boolean
	if GetSpellAbilityId()=='A28T' then
		if IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())) then
			if IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO) or IsUnitIllusion(GetSpellTargetUnit())then
				call InterruptUnit(GetTriggerUnit())
				call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0K9'))
			endif
		endif
	endif
	return false
endfunction

function Func1701 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1695))
	call TriggerAddAction(t,function Func1697)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func1700))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1699))
	set t=null
endfunction

function Func1702 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real BO3
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamage()>10 then
			set BO3=GetEventDamage()*(0.1+0.04*lvl)
			call DisableTrigger(t)
			call DamageTarget(GetEventDamageSource(),GetTriggerUnit(),3,BO3)
			call EnableTrigger(t)
		endif
	else
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	return false
endfunction

function Func1703 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit target=GetSpellTargetUnit()
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A0KM')
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",source,"chest"))
	call SaveInteger(HY,(h),(5),(lvl))
	call TriggerRegisterTimerEvent(t,4+lvl,false)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func1702))
	set t=null
	set target=null
	set source=null
endfunction

function Func1704 takes nothing returns boolean
	if GetSpellAbilityId()=='A0KM' then
		call Func1703()
	endif
	return false
endfunction

function Func1705 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1704))
	set t=null
endfunction

function Func1706 takes nothing returns boolean
	return GetSpellAbilityId()=='A0LT' or GetSpellAbilityId()=='A1CS'
endfunction

function Func1707 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1
endfunction

function Func1708 takes nothing returns nothing
	local unit PKI=GetTriggerUnit()
	local integer AK3=GetUnitAbilityLevel(PKI,'A0LT')
	local group Z51=GetAvailableGroup()
	local unit GB2
	if AK3==0 then
		set AK3=GetUnitAbilityLevel(PKI,'A1CS')
	endif
	call GroupEnumUnitsInRect(Z51,bj_mapInitialPlayableArea,Condition(function Func1707))
	loop
		set GB2=FirstOfGroup(Z51)
		exitwhen GB2==null
		if(IsUnitAlly(GB2,GetOwningPlayer(PKI)))then
			call SetWidgetLife(GB2,(GetUnitStateSwap(UNIT_STATE_LIFE,GB2)+100+(100*AK3)))
			call DestroyEffect(AddSpecialEffectTargetUnitBJ("chest",GB2,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"))
		endif
		call GroupRemoveUnit(Z51,GB2)
	endloop
	call KillGroup(Z51)
	set Z51=GetAvailableGroup()
	set bj_groupEnumOwningPlayer=GetOwningPlayer(PKI)
	call GroupEnumUnitsInRect(Z51,GetWorldBounds(),filterGetUnitsInRectOfPlayer)
	loop
		set GB2=FirstOfGroup(Z51)
		exitwhen GB2==null
		if(IsUnitType(GB2,UNIT_TYPE_HERO)==false and GetUnitTypeId(GB2)!='n00C')then
			call SetUnitLifePercentBJ(GB2,100)
			call DestroyEffect(AddSpecialEffectTargetUnitBJ("chest",GB2,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"))
		endif
		call GroupRemoveUnit(Z51,GB2)
	endloop
	call KillGroup(Z51)
endfunction

function Func1709 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1706))
	call TriggerAddAction(t,function Func1708)
endfunction

function Func1710 takes nothing returns nothing
	if Func0089(GetEnumUnit())==false then
		call DamageTarget(unit274,GetEnumUnit(),1,real279)
	endif
endfunction

function Func1711 takes unit source,real x,real y returns nothing
	local real x1
	local real y1
	local group g=GetAvailableGroup()
	local integer lvl=GetUnitAbilityLevel(source,'A0Z6')
	local real dmg=40+40*lvl
	set tt_unit1=source
	set unit274=source
	set real279=dmg
	call GroupEnumUnitsInRange(g,x,y,600,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func1710)
	call KillGroup(g)
	set x1=x
	set y1=y
	call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
	set x1=x+200
	set y1=y+200
	call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
	set x1=x+200
	set y1=y-200
	call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
	set x1=x-200
	set y1=y+200
	call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
	set x1=x-200
	set y1=y-200
	call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
	call TimedReveal(GetOwningPlayer(source),10,x,y,600)
	set g=null
endfunction

function Func1712 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local real SourceX=(LoadReal(HY,(h),(189)))
	local real SourceY=(LoadReal(HY,(h),(190)))
	local real IV1=SafeX50(SourceX+30*Cos(RM2))
	local real IW1=SafeY50(SourceY+30*Sin(RM2))
	local real BA3
	local real BB3
	call SetUnitX(IG1,IV1)
	call SetUnitY(IG1,IW1)
	call SaveReal(HY,(h),(189),((IV1)*1.0))
	call SaveReal(HY,(h),(190),((IW1)*1.0))
	if Func0168(QJI,QKI,IV1,IW1)<=35 then
		call KillUnit(IG1)
		set Hero=(LoadUnitHandle(HY,(h),(14)))
		call Func1711(Hero,IV1,IW1)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set Hero=null
	set IG1=null
	return false
endfunction

function Func1713 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local real SourceX=SafeX50(GetUnitX(Hero))
	local real SourceY=SafeY50(GetUnitY(Hero))
	local location AM3=GetSpellTargetLoc()
	local real QJI=SafeX50(GetLocationX(AM3))
	local real QKI=SafeY50(GetLocationY(AM3))
	local real RM2=Atan2(QKI-SourceY,QJI-SourceX)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit IG1=CreateUnit(GetOwningPlayer(Hero),'h03Y',SourceX,SourceY,RM2*bj_RADTODEG)
	call RemoveLocation(AM3)
	call SetUnitFacing(IG1,RM2*bj_RADTODEG)
	call SetUnitPathing(IG1,false)
	call UnitAddAbilityPermanent(IG1,'Aloc')
	call ShowUnit(IG1,false)
	call UnitRemoveAbility(IG1,'Aloc')
	call ShowUnit(IG1,true)
	call SaveReal(HY,(h),(191),((SourceX)*1.0))
	call SaveReal(HY,(h),(192),((SourceY)*1.0))
	call SaveReal(HY,(h),(189),((SourceX)*1.0))
	call SaveReal(HY,(h),(190),((SourceY)*1.0))
	call SaveReal(HY,(h),(47),((QJI)*1.0))
	call SaveReal(HY,(h),(48),((QKI)*1.0))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call TriggerRegisterTimerEvent(t,0.025,true)
	call TriggerAddCondition(t,Condition(function Func1712))
	set Hero=null
	set AM3=null
	set t=null
	set IG1=null
endfunction

function Func1714 takes nothing returns boolean
	if GetSpellAbilityId()=='A0Z6' then
		call Func1713()
	endif
	return false
endfunction

function Func1715 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1714))
	set t=null
endfunction

function Func1716 takes real s,real d1,real d2,real d3 returns boolean
	return s<=d1 and s<=d2 and s<=d3
endfunction

function Func1717 takes unit u,real x,real y,real d returns real
	local real x2=GetUnitX(u)
	local real y2=GetUnitY(u)
	local real BG3=Func0141(x-d,y,x2,y2)
	local real BH3=Func0141(x+d,y,x2,y2)
	local real BZ3=Func0141(x,y+d,x2,y2)
	local real BV3=Func0141(x,y-d,x2,y2)
	if Func1716(BG3,BH3,BV3,BZ3)then
		return 180.0
	elseif Func1716(BH3,BG3,BV3,BZ3)then
		return 0.0
	elseif Func1716(BV3,BH3,BG3,BZ3)then
		return 270.0
	endif
	return 90.0
endfunction

function Func1718 takes real s,real d1,real d2,real d3,real d4,real d5,real d6,real d7 returns boolean
	return s<=d1 and s<=d2 and s<=d3 and s<=d4 and s<=d5 and s<=d6 and s<=d7
endfunction

function Func1719 takes unit u,integer h returns unit
	local real x1=GetUnitX(u)
	local real y1=GetUnitY(u)
	local unit BY3=(LoadUnitHandle(HY,(h),(1100+1)))
	local unit BJ3=(LoadUnitHandle(HY,(h),(1100+2)))
	local unit BK3=(LoadUnitHandle(HY,(h),(1100+3)))
	local unit BL3=(LoadUnitHandle(HY,(h),(1100+4)))
	local unit BM3=(LoadUnitHandle(HY,(h),(1100+5)))
	local unit BN3=(LoadUnitHandle(HY,(h),(1100+6)))
	local unit BS3=(LoadUnitHandle(HY,(h),(1100+7)))
	local unit BT3=(LoadUnitHandle(HY,(h),(1100+8)))
	local real d1=Func0141(x1,y1,GetUnitX(BY3),GetUnitY(BY3))
	local real d2=Func0141(x1,y1,GetUnitX(BJ3),GetUnitY(BJ3))
	local real d3=Func0141(x1,y1,GetUnitX(BK3),GetUnitY(BK3))
	local real d4=Func0141(x1,y1,GetUnitX(BL3),GetUnitY(BL3))
	local real d5=Func0141(x1,y1,GetUnitX(BM3),GetUnitY(BM3))
	local real d6=Func0141(x1,y1,GetUnitX(BN3),GetUnitY(BN3))
	local real d7=Func0141(x1,y1,GetUnitX(BS3),GetUnitY(BS3))
	local real d8=Func0141(x1,y1,GetUnitX(BT3),GetUnitY(BT3))
	if Func1718(d1,d2,d3,d4,d5,d6,d7,d8)then
		return BY3
	elseif Func1718(d2,d1,d3,d4,d5,d6,d7,d8)then
		return BJ3
	elseif Func1718(d3,d2,d1,d4,d5,d6,d7,d8)then
		return BK3
	elseif Func1718(d4,d2,d3,d1,d5,d6,d7,d8)then
		return BL3
	elseif Func1718(d5,d2,d3,d4,d1,d6,d7,d8)then
		return BM3
	elseif Func1718(d6,d2,d3,d4,d5,d1,d7,d8)then
		return BN3
	elseif Func1718(d7,d2,d3,d4,d5,d6,d1,d8)then
		return BS3
	elseif Func1718(d8,d2,d3,d4,d5,d6,d7,d1)then
		return BT3
	endif
	return null
endfunction

function Func1720 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local real x=GetUnitX(target)
	local real y=GetUnitY(target)
	local real RS2=12
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer BP3=40+40*lvl
	if GetTriggerEvalCount(t)>21 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SaveInteger(HY,(GetHandleId((target))),((4260)),(2))
		call DamageTarget(source,target,1,I2R(BP3))
		call SetUnitState(target,UNIT_STATE_MANA,Func0134(GetUnitState(target,UNIT_STATE_MANA)-BP3,0))
		call KillTrees(GetUnitX(target),GetUnitY(target),100)
	else
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",x,y))
		call KillTrees(x,y,150)
		if((LoadInteger(HY,(GetHandleId((target))),((4261))))==1)==false then
			call SetUnitPosition(target,x+RS2*Cos(RM2*bj_DEGTORAD),y+RS2*Sin(RM2*bj_DEGTORAD))
		endif
	endif
	set t=null
	set target=null
	return false
endfunction

function Func1721 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit target=GetEnumUnit()
	local real x=real009
	local real y=real010
	local real d=real011
	local real RM2=Func1717(target,x,y,d)
	local real BU3=200
	local real C03=d-Func0141(GetUnitX(target),GetUnitY(target),x,y)+BU3/2
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",target,"chest"))
	call SaveInteger(HY,(GetHandleId((target))),((4260)),(1))
	if C03>0 then
		call SetUnitX(target,GetUnitX(target)+C03*Cos(RM2*bj_DEGTORAD))
		call SetUnitY(target,GetUnitY(target)+C03*Sin(RM2*bj_DEGTORAD))
	endif
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveInteger(HY,(h),(5),(integer022))
	call SaveUnitHandle(HY,(h),(2),(tt_unit1))
	call TriggerRegisterTimerEvent(t,0.04,true)
	call TriggerAddCondition(t,Condition(function Func1720))
	set t=null
	set target=null
endfunction

function Func1722 takes unit u,integer h returns boolean
	local unit C13=Func1719(u,h)
	local boolean FB1=true
	if IsDead(C13)or(LoadInteger(HY,(GetHandleId(C13)),(156)))==1 then
		set FB1=false
	endif
	call SaveInteger(HY,(GetHandleId(C13)),(156),(1))
	call SetUnitVertexColor(C13,25,25,25,175)
	set C13=null
	return FB1
endfunction

function Func1723 takes nothing returns nothing
	if GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)>0 and IsUnitInGroup(GetEnumUnit(),group002)==false and((LoadInteger(HY,(GetHandleId((GetEnumUnit()))),((4260))))==1)==false and Func1722(GetEnumUnit(),integer464)then
		call SaveInteger(HY,(GetHandleId((GetEnumUnit()))),((4260)),(1))
		call GroupAddUnit(group003,GetEnumUnit())
	endif
endfunction

function Func1724 takes trigger t,unit Hero,real x,real y,real d,integer lvl returns nothing
	local integer h=GetHandleId(t)
	local real BU3=200
	local rect r1=Rect(x-d,y-d,x+d,y+d)
	local rect r2=Rect(x-d-BU3,y-d-BU3,x+d+BU3,y+d+BU3)
	local group g1=GetAvailableGroup()
	local group g2=GetAvailableGroup()
	local group g3=GetAvailableGroup()
	set tt_unit1=Hero
	call GroupEnumUnitsInRect(g1,r1,Condition(function Func0280))
	call GroupEnumUnitsInRect(g2,r2,Condition(function Func0280))
	set group002=g1
	set group003=g3
	set real009=x
	set real010=y
	set real011=d
	set integer464=h
	call ForGroup(g2,function Func1723)
	set integer022=lvl
	call ForGroup(g3,function Func1721)
	call KillGroup(g1)
	call KillGroup(g2)
	call KillGroup(g3)
	call RemoveRect(r1)
	call RemoveRect(r2)
	set g1=null
	set g2=null
	set g3=null
	set r1=null
	set r2=null
endfunction

function Func1725 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	local boolean C43=(LoadBoolean(HY,(h),(155)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if C43 then
		call TimedReveal(p,.2,x,y,500)
	endif
	set t=null
	set p=null
	return false
endfunction

function Func1726 takes unit C63 returns nothing
	local real x=GetUnitX(C63)
	local real y=GetUnitY(C63)
	local player p=GetOwningPlayer(C63)
	local unit caster=CreateUnit(p,'u00W',x,y,0)
	call KillUnit(caster)
	set p=null
	set caster=null
endfunction

function Func1727 takes integer h,real x,real y,boolean C43,player p returns nothing
	local unit BY3=(LoadUnitHandle(HY,(h),(1100+1)))
	local unit BJ3=(LoadUnitHandle(HY,(h),(1100+2)))
	local unit BK3=(LoadUnitHandle(HY,(h),(1100+3)))
	local unit BL3=(LoadUnitHandle(HY,(h),(1100+4)))
	local unit BM3=(LoadUnitHandle(HY,(h),(1100+5)))
	local unit BN3=(LoadUnitHandle(HY,(h),(1100+6)))
	local unit BS3=(LoadUnitHandle(HY,(h),(1100+7)))
	local unit BT3=(LoadUnitHandle(HY,(h),(1100+8)))
	local trigger t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.1,false)
	call TriggerAddCondition(t,Condition(function Func1725))
	call SaveReal(HY,(GetHandleId(t)),(6),((x)*1.0))
	call SaveReal(HY,(GetHandleId(t)),(7),((y)*1.0))
	call SavePlayerHandle(HY,(GetHandleId(t)),(54),(p))
	call SaveBoolean(HY,(GetHandleId(t)),(155),(C43))
	set boolean142=true
	call Func1726(BY3)
	call RemoveUnit(BY3)
	call Func1726(BJ3)
	call RemoveUnit(BJ3)
	call Func1726(BK3)
	call RemoveUnit(BK3)
	call Func1726(BL3)
	call RemoveUnit(BL3)
	call Func1726(BM3)
	call RemoveUnit(BM3)
	call Func1726(BN3)
	call RemoveUnit(BN3)
	call Func1726(BS3)
	call RemoveUnit(BS3)
	call Func1726(BT3)
	call RemoveUnit(BT3)
	set BY3=null
	set BJ3=null
	set BK3=null
	set BL3=null
	set BM3=null
	set BN3=null
	set BS3=null
	set BT3=null
endfunction

function PowerCog_DeathBurn takes nothing returns nothing
	local integer BP3=(40+40*integer465)/2
	call DamageTarget(unit275,GetEnumUnit(),1,I2R(BP3))
	call SetUnitState(GetEnumUnit(),UNIT_STATE_MANA,Func0134(GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)-BP3,0))
endfunction

function Func1728 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit C63=(LoadUnitHandle(HY,(h),(19)))
	local group g
	if boolean142==false then
		set g=GetAvailableGroup()
		set tt_unit1=C63
		set unit275=C63
		call GroupEnumUnitsInRange(g,GetUnitX(C63),GetUnitY(C63),175+25,Condition(function Func0280))
		call KillGroup(g)
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set g=null
	set C63=null
	return false
endfunction

function Func1729 takes unit C63,integer h,integer MLI,player p returns nothing
	local trigger t=CreateTrigger()
	local integer KAO=GetHandleId(t)
	call TriggerRegisterDeathEvent(t,C63)
	call SaveUnitHandle(HY,(KAO),(19),(C63))
	call TriggerAddCondition(t,Condition(function Func1728))
	if IsUnitVisible(C63,p)then
		call SaveBoolean(HY,(h),(155),(true))
	endif
	call SaveUnitHandle(HY,(h),(1100+MLI),(C63))
endfunction

function Func1730 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local real DC1=(LoadReal(HY,(h),(57)))
	local integer Count=GetTriggerEvalCount(t)
	if Count>R2I(DC1*100)then
		call Func1727(h,(LoadReal(HY,(h),(6))),(LoadReal(HY,(h),(7))),(LoadBoolean(HY,(h),(155))),(LoadPlayerHandle(HY,(h),(154))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call Func1724(t,(LoadUnitHandle(HY,(h),(14))),(LoadReal(HY,(h),(6))),(LoadReal(HY,(h),(7))),(LoadReal(HY,(h),(138))),(LoadInteger(HY,(h),(5))))
	endif
	set t=null
	return false
endfunction

function Func1731 takes nothing returns nothing
	call SetUnitX(GetEnumUnit(),GetUnitX(tt_unit1))
	call SetUnitY(GetEnumUnit(),GetUnitY(tt_unit1))
endfunction

function Func1732 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer lvl=GetUnitAbilityLevel(Hero,'A0Z5')
	local integer ID='u00S'
	local real x1=GetUnitX(Hero)
	local real y1=GetUnitY(Hero)
	local real x2
	local real y2
	local real d=125
	local unit C63
	local real DC1=4+lvl
	local real BufferDuration=5
	local group g
	local rect CD3
	local player VE2
	local integer HP=2
	if lvl==4 then
		set HP=3
	endif
	set integer465=lvl
	set boolean142=false
	if IsSentinel(GetOwningPlayer(Hero))then
		set VE2=Scourges[0]
	else
		set VE2=Sentinels[0]
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SaveBoolean(HY,(h),(155),(false))
	set x2=x1+d
	set y2=y1
	set C63=CreateUnit(GetOwningPlayer(Hero),ID,x2,y2,0)
	call SetUnitPosition(C63,x2,y2)
	call Func1729(C63,h,1,VE2)
	call SetUnitState(C63,UNIT_STATE_LIFE,HP)
	set x2=x1+d
	set y2=y1+d
	set C63=CreateUnit(GetOwningPlayer(Hero),ID,x2,y2,0)
	call SetUnitPosition(C63,x2,y2)
	call Func1729(C63,h,2,VE2)
	call SetUnitState(C63,UNIT_STATE_LIFE,HP)
	set x2=x1
	set y2=y1+d
	set C63=CreateUnit(GetOwningPlayer(Hero),ID,x2,y2,0)
	call SetUnitPosition(C63,x2,y2)
	call Func1729(C63,h,3,VE2)
	call SetUnitState(C63,UNIT_STATE_LIFE,HP)
	set x2=x1-d
	set y2=y1+d
	set C63=CreateUnit(GetOwningPlayer(Hero),ID,x2,y2,0)
	call SetUnitPosition(C63,x2,y2)
	call Func1729(C63,h,4,VE2)
	call SetUnitState(C63,UNIT_STATE_LIFE,HP)
	set x2=x1-d
	set y2=y1
	set C63=CreateUnit(GetOwningPlayer(Hero),ID,x2,y2,0)
	call SetUnitPosition(C63,x2,y2)
	call Func1729(C63,h,5,VE2)
	call SetUnitState(C63,UNIT_STATE_LIFE,HP)
	set x2=x1-d
	set y2=y1-d
	set C63=CreateUnit(GetOwningPlayer(Hero),ID,x2,y2,0)
	call SetUnitPosition(C63,x2,y2)
	call Func1729(C63,h,6,VE2)
	call SetUnitState(C63,UNIT_STATE_LIFE,HP)
	set x2=x1
	set y2=y1-d
	set C63=CreateUnit(GetOwningPlayer(Hero),ID,x2,y2,0)
	call SetUnitPosition(C63,x2,y2)
	call Func1729(C63,h,7,VE2)
	call SetUnitState(C63,UNIT_STATE_LIFE,HP)
	set x2=x1+d
	set y2=y1-d
	set C63=CreateUnit(GetOwningPlayer(Hero),ID,x2,y2,0)
	call SetUnitPosition(C63,x2,y2)
	call Func1729(C63,h,8,VE2)
	call SetUnitState(C63,UNIT_STATE_LIFE,HP)
	call TriggerRegisterTimerEvent(t,0.01,true)
	call TriggerAddCondition(t,Condition(function Func1730))
	call SaveReal(HY,(h),(57),((DC1)*1.0))
	call SaveReal(HY,(h),(6),((x1)*1.0))
	call SaveReal(HY,(h),(7),((y1)*1.0))
	call SaveReal(HY,(h),(138),((d)*1.0))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveInteger(HY,(h),(5),(lvl))
	call SavePlayerHandle(HY,(h),(154),(VE2))
	set d=d+110
	set g=GetAvailableGroup()
	set CD3=Rect(x1-d,y1-d,x1+d,y1+d)
	set tt_unit1=Hero
	call GroupEnumUnitsInRect(g,CD3,Condition(function Func0303))
	call ForGroup(g,function Func1731)
	call KillGroup(g)
	set t=null
	set g=null
	set Hero=null
	set C63=null
	set CD3=null
	set VE2=null
	return false
endfunction

function Func1733 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	call TriggerRegisterTimerEvent(t,0.1,false)
	call TriggerAddCondition(t,Condition(function Func1732))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	set t=null
	set Hero=null
endfunction

function Func1734 takes nothing returns boolean
	if GetSpellAbilityId()=='A0Z5' then
		call Func1733()
	endif
	return false
endfunction

function Func1735 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1734))
	set t=null
	set boolean142=false
endfunction

function Func1736 takes unit source,unit target returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	local integer lvl=GetUnitAbilityLevel(source,'A0Z8')
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A1CV')
	endif
	call UnitAddAbilityPermanent(caster,'A0Z9')
	call SetUnitAbilityLevel(caster,'A0Z9',lvl)
	call IssueTargetOrder(caster,"thunderbolt",target)
	set caster=null
endfunction

function Func1737 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group002)==false then
		call GroupAddUnit(group002,GetEnumUnit())
		call Func1736(tt_unit1,GetEnumUnit())
	endif
endfunction

function Func1738 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer CV3=(LoadInteger(HY,(h),(18)))
	local integer Count=GetTriggerEvalCount(t)
	local unit CW3
	local group CX3=(LoadGroupHandle(HY,(h),(16)))
	local group g
	local real CY3=200
	if target==null then
		set CW3=(LoadUnitHandle(HY,(h),(700+CV3+1-Count)))
		call RemoveUnit(CW3)
	else
		set CW3=(LoadUnitHandle(HY,(h),(700+Count)))
		call SetUnitX(Hero,GetUnitX(CW3))
		call SetUnitY(Hero,GetUnitY(CW3))
		call RemoveUnit(CW3)
		if Count==CV3 then
			set CY3=225
		endif
		set g=GetAvailableGroup()
		set tt_unit1=Hero
		set group002=CX3
		call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),CY3,Condition(function Func0279))
		call ForGroup(g,function Func1737)
		call KillGroup(g)
	endif
	if Count==(CV3)then
		if target!=null then
			call PauseUnit(target,false)
		endif
		call KillTrees(GetUnitX(Hero),GetUnitY(Hero),100)
		call KillGroup(CX3)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set Hero=null
	set target=null
	set CW3=null
	set CX3=null
	set g=null
	return false
endfunction

function Func1739 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local integer MKO=(LoadInteger(HY,(h),(12)))
	local integer Count=GetTriggerEvalCount(t)
	local real x=GetUnitX(Hero)+Count*50*Cos(RM2*bj_DEGTORAD)
	local real y=GetUnitY(Hero)+Count*50*Sin(RM2*bj_DEGTORAD)
	local boolean CK3=(LoadBoolean(HY,(h),(15)))
	local unit CL3
	local trigger CM3=(LoadTriggerHandle(HY,(h),(11)))
	local integer CN3=GetHandleId(CM3)
	local group g=GetAvailableGroup()
	local unit target=null
	local integer ID='u00V'
	local real CY3=125
	if Count==1 then
		set CY3=100
	endif
	set tt_unit1=Hero
	call GroupEnumUnitsInRange(g,x,y,CY3,Condition(function Func0268))
	call GroupRemoveUnit(g,Hero)
	set target=GroupPickRandomUnit(g)
	call KillGroup(g)
	if target!=null or Count==MKO or Count==(MKO-1)or Count==(MKO-2)then
		set ID='u00U'
	endif
	set CL3=CreateUnit(GetOwningPlayer(Hero),ID,x,y,RM2)
	call SaveUnitHandle(HY,(CN3),(700+Count),(CL3))
	if target!=null then
		if(IsUnitAlly(target,GetOwningPlayer(Hero)) and CK3==false)or((LoadInteger(HY,(GetHandleId((target))),((4259))))==1) then
			set target=null
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if target!=null and IsUnitAlly(target,GetOwningPlayer(Hero))==false then
			call PauseUnit(target,true)
		endif
		call TriggerRegisterTimerEvent(CM3,0.5/MKO,true)
		call TriggerAddCondition(CM3,Condition(function Func1738))
		call SaveInteger(HY,(CN3),(18),(Count))
		call SaveUnitHandle(HY,(CN3),(17),(target))
		call SaveUnitHandle(HY,(CN3),(14),(Hero))
		call SaveGroupHandle(HY,(CN3),(16),(GetAvailableGroup()))
	elseif Count>MKO then
		set target=null
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call TriggerRegisterTimerEvent(CM3,0.5/MKO,true)
		call TriggerAddCondition(CM3,Condition(function Func1738))
		call SaveInteger(HY,(CN3),(18),(Count))
		call SaveUnitHandle(HY,(CN3),(17),(target))
		call SaveUnitHandle(HY,(CN3),(14),(Hero))
		call SaveGroupHandle(HY,(CN3),(16),(GetAvailableGroup()))
	endif
	set t=null
	set Hero=null
	set CL3=null
	set CM3=null
	set g=null
	set target=null
	return false
endfunction

function Func1740 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real RM2=Func0159(GetUnitX(Hero),GetUnitY(Hero),GetLocationX(l),GetLocationY(l))
	local integer lvl=GetUnitAbilityLevel(Hero,'A0Z8')
	local integer CT3
	local integer MKO
	local boolean CK3=true
	local trigger CR3=CreateTrigger()
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(Hero,'A1CV')
		set CK3=true
	endif
	set CT3=1500+500*lvl
	set MKO=CT3/50
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveInteger(HY,(h),(12),(MKO))
	call SaveTriggerHandle(HY,(h),(11),(CR3))
	call SaveBoolean(HY,(h),(15),(CK3))
	call TriggerRegisterTimerEvent(t,0.5/MKO,true)
	call TriggerAddCondition(t,Condition(function Func1739))
	call RemoveLocation(l)
	set t=null
	set Hero=null
	set l=null
endfunction

function Func1741 takes nothing returns boolean
	if GetSpellAbilityId()=='A0Z8' or GetSpellAbilityId()=='A1CV' then
		call Func1740()
	endif
	return false
endfunction

function Func1742 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1741))
	set t=null
endfunction

function Func1743 takes unit source returns nothing
	local group g=GetAvailableGroup()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local unit target
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
	local integer lvl=GetUnitAbilityLevel(source,'A0Z4')
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,x,y,300,Condition(function Func0281))
	set target=GroupPickRandomUnit(g)
	call KillGroup(g)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",source,"origin"))
	if target!=null then
		call UnitAddAbilityPermanent(caster,'A0Z7')
		call SetUnitAbilityLevel(caster,'A0Z7',lvl)
		call IssueTargetOrder(caster,"thunderbolt",target)
	endif
	set g=null
	set target=null
	set caster=null
endfunction

function Func1744 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer Count=GetTriggerEvalCount(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	if Count>15 or GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call Func1743(Hero)
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func1745 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	call TriggerRegisterTimerEvent(t,.7,true)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1744))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call TriggerEvaluate(t)
	set t=null
	set Hero=null
endfunction

function Func1746 takes nothing returns boolean
	if GetSpellAbilityId()=='A0Z4' then
		call Func1745()
	endif
	return false
endfunction

function Func1747 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1746))
	set t=null
endfunction

function Func1748 takes nothing returns nothing
	call DamageTarget(unit276,GetEnumUnit(),1,integer466)
endfunction

function Func1749 takes unit source,real x,real y,integer lvl returns nothing
	local group g=GetAvailableGroup()
	if lvl==1 then
		set integer466=105
	elseif lvl==2 then
		set integer466=170
	elseif lvl==3 then
		set integer466=250
	elseif lvl==4 then
		set integer466=310
	endif
	set unit276=source
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,x,y,300+25,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func1748)
	call KillGroup(g)
	set g=null
endfunction

function Func1750 takes nothing returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(tt_unit1),'e00E',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
	if GetUnitAbilityLevel(tt_unit1,'A03R')>0 then
		call UnitAddAbilityPermanent(caster,'A10T')
	else
		call UnitAddAbilityPermanent(caster,'A2S6')
	endif
	call IssueTargetOrder(caster,"slow",GetEnumUnit())
	set caster=null
endfunction

function Func1751 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer D43=ModuloInteger(GetTriggerEvalCount(t),4)+1
	local real a
	local real d
	local real x
	local real y
	local group g=GetAvailableGroup()
	set tt_unit1=Hero
	call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),860,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func1750)
	call KillGroup(g)
	if D43==1 then
		set a=GetRandomReal(0,90)
	elseif D43==2 then
		set a=GetRandomReal(90,180)
	elseif D43==3 then
		set a=GetRandomReal(180,270)
	else
		set a=GetRandomReal(270,360)
	endif
	set d=GetRandomReal(140,860)
	if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and(GetSpellAbilityId()=='A03R' or GetSpellAbilityId()=='A0AV')then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call StopSound(sound003,false,true)
	else
		set x=GetUnitX(Hero)+d*Cos(a*bj_DEGTORAD)
		set y=GetUnitY(Hero)+d*Sin(a*bj_DEGTORAD)
		call DestroyEffect(AddSpecialEffect("effects\\SnowyBlizzardTarget.mdx",x,y))
		call Func1749(Hero,x,y,lvl)
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func1752 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl
	call Func0174(sound003,GetUnitX(Hero),GetUnitY(Hero))
	if GetSpellAbilityId()=='A03R' then
		set lvl=GetUnitAbilityLevel(Hero,'A03R')
	else
		set lvl=GetUnitAbilityLevel(Hero,'A0AV')+1
	endif
	call TriggerRegisterTimerEvent(t,0.10,true)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_SPELL_ENDCAST)
	call TriggerAddCondition(t,Condition(function Func1751))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveInteger(HY,(h),(5),(lvl))
	set t=null
	set Hero=null
endfunction

function Func1753 takes nothing returns boolean
	if GetSpellAbilityId()=='A03R' or GetSpellAbilityId()=='A0AV' then
		call Func1752()
	endif
	return false
endfunction

function Func1754 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1753))
	call Func0125('A03X')
	set t=null
endfunction

function Func1755 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local unit caster=CreateUnit(GetOwningPlayer(source),'e038',x,y,0)
	local integer lvl=GetUnitAbilityLevel(source,'A1E9')
	call UnitAddAbilityPermanent(caster,'A01D')
	call SetUnitAbilityLevel(caster,'A01D',lvl)
	call IssueTargetOrder(caster,"frostnova",caster)
	call RemoveLocation(l)
	call UnitAddAbilityPermanent(caster,'Aloc')
	call UnitApplyTimedLife(caster,'BTLF',2)
	set source=null
	set caster=null
	set l=null
endfunction

function Func1756 takes nothing returns boolean
	if GetSpellAbilityId()=='A1E9' then
		call Func1755()
	endif
	return false
endfunction

function Func1757 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1756))
	set t=null
endfunction

function Func1758 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'AHab')
	if IsDead(source)==false then
		call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MANA)+(0.5+0.5*lvl)*0.25)
	endif
	set source=null
	set t=null
	return false
endfunction

function Func1759 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	call TriggerRegisterTimerEvent(t,0.25,true)
	call TriggerAddCondition(t,Condition(function Func1758))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
endfunction

function Func1760 takes nothing returns boolean
	if GetLearnedSkill()=='AHab' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'AHab')==1 then
		call Func1759()
	endif
	return false
endfunction

function Func1761 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func1760))
	set t=null
endfunction

function Func1762 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A04C')
	local integer Count=GetTriggerEvalCount(t)
	if(IsUnitType(target,UNIT_TYPE_HERO) and Count>2+lvl)or Count>20 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call DamageTarget(source,target,1,50)
	endif
	set t=null
	return false
endfunction

function Func1763 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerAddCondition(t,Condition(function Func1762))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	set source=null
	set target=null
	set t=null
endfunction

function Func1764 takes nothing returns boolean
	if GetSpellAbilityId()=='A04C' then
		call Func1763()
	endif
	return false
endfunction

function Func1765 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1764))
	set t=null
endfunction

function Func1766 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call SetUnitAnimationByIndex(source,8)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func1767 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SetUnitAnimationByIndex(source,7)
	call TriggerRegisterTimerEvent(t,2.5,false)
	call TriggerAddCondition(t,Condition(function Func1766))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
endfunction

function Func1768 takes nothing returns boolean
	if GetUnitTypeId(GetTriggerUnit())=='N0M0' then
		call Func1767()
	endif
	return false
endfunction

function Func1769 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1768))
	set t=null
endfunction

function Func1770 takes nothing returns nothing
	call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
	call DamageTarget(unit277,GetEnumUnit(),1,real280)
endfunction

function Func1771 takes nothing returns boolean
	local trigger t2=GetTriggeringTrigger()
	local integer KAO=GetHandleId(t2)
	local trigger t1=(LoadTriggerHandle(HY,(KAO),(9)))
	local integer DW3=GetHandleId(t1)
	local unit DX3=(LoadUnitHandle(HY,(KAO),(8)))
	local group g
	local integer lvl=(LoadInteger(HY,(KAO),(5)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call ShowUnit(DX3,false)
		call KillUnit(DX3)
		call FlushChildHashtable(HY,(DW3))
		call CleanTrigger(t1)
		call FlushChildHashtable(HY,(KAO))
		call CleanTrigger(t2)
	elseif IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(DX3)) and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetTriggerUnit(),'A04R')==0 then
		set g=GetAvailableGroup()
		set tt_unit1=DX3
		set unit277=DX3
		set real280=100+40*lvl
		call GroupEnumUnitsInRange(g,GetUnitX(DX3),GetUnitY(DX3),285,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func1770)
		call KillGroup(g)
		call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetUnitX(DX3),GetUnitY(DX3)))
		call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetUnitX(DX3),GetUnitY(DX3)))
		call ShowUnit(DX3,false)
		call KillUnit(DX3)
		call FlushChildHashtable(HY,(DW3))
		call CleanTrigger(t1)
		call FlushChildHashtable(HY,(KAO))
		call CleanTrigger(t2)
	endif
	set t1=null
	set t2=null
	set DX3=null
	set g=null
	return false
endfunction

function Func1772 takes nothing returns boolean
	local trigger t1=GetTriggeringTrigger()
	local integer DW3=GetHandleId(t1)
	local trigger t2
	local integer KAO
	local unit DX3
	local integer lvl
	local real x=(LoadReal(HY,(DW3),(6)))
	local real y=(LoadReal(HY,(DW3),(7)))
	local real NB2
	local integer Count=GetTriggerEvalCount(t1)
	if Count==1 then
		call DestroyEffect((LoadEffectHandle(HY,(DW3),(3))))
	elseif Count==2 then
		call DestroyEffect((LoadEffectHandle(HY,(DW3),(4))))
		set t2=CreateTrigger()
		set KAO=GetHandleId(t2)
		set lvl=(LoadInteger(HY,(DW3),(5)))
		set NB2=(LoadReal(HY,(DW3),(1)))
		set DX3=CreateUnit(GetOwningPlayer((LoadUnitHandle(HY,(DW3),(2)))),'h07F',x,y,NB2)
		call SetUnitVertexColor(DX3,255,255,255,100)
		call UnitApplyTimedLife(DX3,'BTLF',12)
		call SaveUnitHandle(HY,(DW3),(8),(DX3))
		call SaveUnitHandle(HY,(KAO),(8),(DX3))
		call SaveTriggerHandle(HY,(KAO),(9),(t1))
		call SaveInteger(HY,(KAO),(5),(lvl))
		call TriggerRegisterUnitInRange(t2,DX3,235,Condition(function Func0165))
		call TriggerRegisterUnitEvent(t2,DX3,EVENT_UNIT_DEATH)
		call TriggerAddCondition(t2,Condition(function Func1771))
		call DestroyEffect(AddSpecialEffectTarget("effects\\ManaFlareBoltImpact_NoSound.mdx",DX3,"origin"))
	elseif Count>2 then
		set DX3=(LoadUnitHandle(HY,(DW3),(8)))
		call DestroyEffect(AddSpecialEffectTarget("effects\\ManaFlareBoltImpact_NoSound.mdx",DX3,"origin"))
	endif
	set t1=null
	set DX3=null
	return false
endfunction

function Func1773 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t1=CreateTrigger()
	local integer DW3=GetHandleId(t1)
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	call TriggerRegisterTimerEvent(t1,0.5,true)
	call TriggerAddCondition(t1,Condition(function Func1772))
	call SaveReal(HY,(DW3),(6),((x)*1.0))
	call SaveReal(HY,(DW3),(7),((y)*1.0))
	call SaveInteger(HY,(DW3),(5),(GetUnitAbilityLevel(source,'A14P')))
	call SaveUnitHandle(HY,(DW3),(2),(source))
	call SaveReal(HY,(DW3),(1),((GetUnitFacing(source))*1.0))
	call SaveEffectHandle(HY,(DW3),(3),(AddSpecialEffect("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl",x,y)))
	call SaveEffectHandle(HY,(DW3),(4),(AddSpecialEffect("effects\\Static_Remnant_FX.mdx",x,y)))
	set source=null
	set t1=null
endfunction

function Func1774 takes nothing returns boolean
	if GetSpellAbilityId()=='A14P' then
		call Func1773()
	endif
	return false
endfunction

function Func1775 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1774))
	set t=null
endfunction

function Func1776 takes nothing returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(unit278),'e00E',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
	call UnitAddAbilityPermanent(caster,'A0S5')
	call IssueTargetOrder(caster,"slow",GetEnumUnit())
	call DamageTarget(unit278,GetEnumUnit(),1,real281)
	set caster=null
endfunction

function Func1777 takes unit source,unit target returns nothing
	local integer h=GetHandleId(source)
	local group g=GetAvailableGroup()
	call DestroyEffect((LoadEffectHandle(HY,(h),(200))))
	call DestroyEffect((LoadEffectHandle(HY,(h),(201))))
	call SaveInteger(HY,(GetHandleId((source))),((4264)),(2))
	set tt_unit1=source
	set unit278=source
	set real281=GetUnitAbilityLevel(source,'A0QW')*20+10
	call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),300,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func1776)
	call KillGroup(g)
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetUnitX(target),GetUnitY(target)))
	set g=null
endfunction

function Func1778 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local trigger DS3=(LoadTriggerHandle(HY,(h),(202)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source and((LoadInteger(HY,(GetHandleId((source))),((4264))))==1) then
			call DisableTrigger(t)
			call Func1777(source,target)
			call UnitAsInteger_Clear(PCI)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call FlushChildHashtable(HY,(GetHandleId(DS3)))
			call CleanTrigger(DS3)
		endif
	else
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	set source=null
	set DS3=null
	return false
endfunction

function Func1779 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local unit target=GetTriggerUnit()
	local unit source=GetAttacker()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,2.5,false)
	call TriggerAddCondition(t,Condition(function Func1778))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveTriggerHandle(HY,(h),(202),(GetTriggeringTrigger()))
	set t=null
	set target=null
	set source=null
endfunction

function Func1780 takes nothing returns boolean
	if GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(2)))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false then
		call Func1779()
	endif
	return false
endfunction

function Func1781 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local unit source=GetTriggerUnit()
	local integer h=GetHandleId(source)
	local string fx=""
	if IsUnitAlly(source,LocalPlayer)or Func0100(LocalPlayer)then
		set fx="Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl"
	endif
	call SaveEffectHandle(HY,(h),(200),(AddSpecialEffectTarget(fx,source,"right hand")))
	call SaveEffectHandle(HY,(h),(201),(AddSpecialEffectTarget(fx,source,"left hand")))
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func1780))
	call SaveUnitHandle(HY,(GetHandleId(t)),(2),(source))
	set t=null
endfunction

function Func1782 takes nothing returns boolean
	if(GetSpellAbilityId()=='A14O' or GetSpellAbilityId()=='A14P' or GetSpellAbilityId()=='A14R')and((LoadInteger(HY,(GetHandleId((GetTriggerUnit()))),((4264))))==1)==false then
		call SaveInteger(HY,(GetHandleId((GetTriggerUnit()))),((4264)),(1))
		call Func1781()
	endif
	return false
endfunction

function Func1783 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1782))
	set source=null
	set t=null
endfunction

function Func1784 takes nothing returns boolean
	if GetLearnedSkill()=='A0QW' and GetUnitAbilityLevel(GetTriggerUnit(),'A0QW')==1 and IsUnitIllusion(GetTriggerUnit())==false then
		call Func1783()
	endif
	return false
endfunction

function Func1785 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func1784))
	set t=null
endfunction

function Func1786 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local real x=GetUnitX(target)-5*Cos(RM2)
	local real y=GetUnitY(target)-5*Sin(RM2)
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real x0=(LoadReal(HY,(h),(6)))
	local real y0=(LoadReal(HY,(h),(7)))
	if((x0-x)*(x0-x))+((y0-y)*(y0-y))<100 then
		set x=x0
		set y=y0
	endif
	call SetUnitX(target,x)
	call SetUnitY(target,y)
	if GetTriggerEvalCount(t)==(10+10*lvl)or GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	return false
endfunction

function Func1787 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster=CreateUnit(GetOwningPlayer(source),'u00X',GetUnitX(source),GetUnitY(source),GetUnitFacing(source))
	local integer lvl=GetUnitAbilityLevel(source,'A14R')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1786))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(13),((Atan2(GetUnitY(target)-GetUnitY(source),GetUnitX(target)-GetUnitX(source)))*1.0))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	call UnitAddAbilityPermanent(caster,'A14Q')
	call SetUnitAbilityLevel(caster,'A14Q',lvl)
	call IssueTargetOrder(caster,"magicleash",target)
	call UnitApplyTimedLife(caster,'BTLF',0.5+0.5*lvl)
	set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),GetUnitFacing(source))
	call UnitAddAbilityPermanent(caster,'A14S')
	call IssueTargetOrder(caster,"slow",source)
	set source=null
	set target=null
	set caster=null
	set t=null
endfunction

function Func1788 takes nothing returns boolean
	if GetSpellAbilityId()=='A14R' and GetUnitTypeId(GetSpellTargetUnit())!='n00L' and IsBlocked(GetSpellTargetUnit())==false then
		call Func1787()
	endif
	return false
endfunction

function Func1789 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1788))
	set t=null
endfunction

function Func1790 takes nothing returns nothing
	if(LoadBoolean(HY,(integer467),(GetHandleId(GetEnumUnit()))))==false then
		call SaveBoolean(HY,(integer467),(GetHandleId(GetEnumUnit())),(true))
		call DamageTarget(unit279,GetEnumUnit(),1,real282*(integer468*4+4)/100)
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetEnumUnit(),"origin"))
	endif
endfunction

function Func1791 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit E43=(LoadUnitHandle(HY,(h),(195)))
	local integer BQO=(LoadInteger(HY,(h),(194)))
	local real QJI=(LoadReal(HY,(h),(6)))
	local real QKI=(LoadReal(HY,(h),(7)))
	local real IO3=GetUnitX(source)
	local real I23=GetUnitY(source)
	local real RM2=Atan2(QKI-I23,QJI-IO3)
	local real IV1=IO3+(25+25*lvl)*Cos(RM2)
	local real IW1=I23+(25+25*lvl)*Sin(RM2)
	local lightning UZI=(LoadLightningHandle(HY,(h),(196)))
	local real lx=(LoadReal(HY,(h),(197)))
	local real ly=(LoadReal(HY,(h),(198)))
	local real KWO=GetUnitState(source,UNIT_STATE_MANA)
	local real E53=(25+25*lvl)*(12+0.007*GetUnitState(source,UNIT_STATE_MAX_MANA))/100
	local group g=GetAvailableGroup()
	local real E63=(LoadReal(HY,(h),(199)))
	set E63=E63+25+25*lvl
	call SaveReal(HY,(h),(199),((E63)*1.0))
	if GetTriggerEvalCount(t)>25 then
		set lx=lx+(25+25*lvl)*Cos(RM2)
		set ly=ly+(25+25*lvl)*Sin(RM2)
		call SaveReal(HY,(h),(197),((lx)*1.0))
		call SaveReal(HY,(h),(198),((ly)*1.0))
	endif
	call SetUnitState(source,UNIT_STATE_MANA,RMaxBJ(KWO-E53,0))
	call MoveLightning(UZI,true,lx,ly,IV1,IW1)
	call SetUnitX(source,IV1)
	call SetUnitY(source,IW1)
	call SetUnitPosition(caster,IV1,IW1)
	call SetUnitPosition(E43,IV1,IW1)
	set tt_unit1=source
	set unit279=source
	set integer467=h
	set integer468=lvl
	set real282=E63
	call GroupEnumUnitsInRange(g,IV1,IW1,75+75*lvl,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func1790)
	call KillGroup(g)
	set BQO=BQO-1
	call SaveInteger(HY,(h),(194),(BQO))
	call SetUnitVertexColor(source,255,255,255,0)
	if BQO==0 or GetUnitState(source,UNIT_STATE_MANA)<1 then
		call DestroyLightning(UZI)
		call KillTrees(IV1,IW1,75)
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call RemoveUnit(caster)
		call RemoveUnit(E43)
		call SetUnitVertexColor(source,255,255,255,255)
		call SetUnitPathing(source,true)
		call SetUnitInvulnerable(source,false)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call KillTrees(IV1,IW1,75)
	endif
	set t=null
	set caster=null
	set source=null
	set UZI=null
	set g=null
	set E43=null
	return false
endfunction

function Func1792 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real SourceX=GetUnitX(source)
	local real SourceY=GetUnitY(source)
	local unit caster
	local unit E43
	local location l
	local real x
	local real y
	local trigger t
	local integer h
	local lightning UZI
	local integer lvl=GetUnitAbilityLevel(source,'A14O')
	local real KWO=GetUnitState(source,UNIT_STATE_MANA)
	local real E53=15+0.07*GetUnitState(source,UNIT_STATE_MAX_MANA)
	call SetUnitState(source,UNIT_STATE_MANA,RMaxBJ(KWO-E53,0))
	if GetUnitState(source,UNIT_STATE_MANA)>10 then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		set caster=CreateUnit(GetOwningPlayer(source),'o010',SourceX,SourceY,0)
		set E43=CreateUnit(GetOwningPlayer(source),'H07G',SourceX,SourceY,0)
		set UZI=AddLightning("FORK",true,SourceX,SourceY,SourceX,SourceY)
		if GetSpellTargetUnit()==null then
			set l=GetSpellTargetLoc()
			set x=GetLocationX(l)
			set y=GetLocationY(l)
			call RemoveLocation(l)
		else
			set x=GetUnitX(GetSpellTargetUnit())
			set y=GetUnitY(GetSpellTargetUnit())
		endif
		call SetUnitVertexColor(source,255,255,255,0)
		call SetUnitVertexColor(E43,255,255,255,0)
		call SetUnitPathing(source,false)
		call SetUnitPathing(caster,false)
		call SetUnitInvulnerable(source,true)
		call SaveUnitHandle(HY,(h),(19),(caster))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(195),(E43))
		call SaveLightningHandle(HY,(h),(196),(UZI))
		call SaveInteger(HY,(h),(5),(lvl))
		call SaveReal(HY,(h),(6),((x)*1.0))
		call SaveReal(HY,(h),(7),((y)*1.0))
		call SaveReal(HY,(h),(197),((SourceX)*1.0))
		call SaveReal(HY,(h),(198),((SourceY)*1.0))
		call SaveReal(HY,(h),(199),((0)*1.0))
		call SaveInteger(HY,(h),(194),(Func0131(R2I(SquareRoot((x-SourceX)*(x-SourceX)+(y-SourceY)*(y-SourceY))/(25+25*lvl)),1)))
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx",E43,"origin")))
		call TriggerRegisterTimerEvent(t,0.04,true)
		call TriggerAddCondition(t,Condition(function Func1791))
		call ShowUnit(source,false)
		call ShowUnit(source,true)
		call SelectUnitAddForPlayer(source,GetOwningPlayer(source))
	endif
	set source=null
	set caster=null
	set E43=null
	set l=null
	set t=null
	set UZI=null
endfunction

function Func1793 takes nothing returns boolean
	if GetSpellAbilityId()=='A14O' then
		call Func1792()
	endif
	return false
endfunction

function Func1794 takes nothing returns boolean
	if GetSpellAbilityId()=='A14O' then
		if GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA)<(15+0.07*GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_MANA))then
			call InterruptUnit(GetTriggerUnit())
			call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0G8'))
		endif
	endif
	return false
endfunction

function Func1795 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1793))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func1794))
	set t=null
endfunction

function Func1796 takes unit source returns nothing
	local integer lvl=GetUnitAbilityLevel(source,'A2AI')
	if GetUnitTypeId(source)=='Hlgr' then
		call SetUnitAbilityLevel(source,'A0AR',lvl)
	else
		call SetUnitAbilityLevel(source,'A0AR',lvl+4)
	endif
endfunction

function Func1797 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2AI')
	if lvl==1 then
		call UnitAddAbilityPermanent(source,'A0AR')
	endif
	call Func1796(source)
	set source=null
endfunction

function Func1798 takes nothing returns boolean
	if GetLearnedSkill()=='A2AI' and IsUnitIllusion(GetTriggerUnit())==false then
		call Func1797()
	endif
	return false
endfunction

function Func1799 takes nothing returns nothing
	local unit u=GetTriggerUnit()
	if GetUnitTypeId(u)=='H00G' or GetUnitTypeId(u)=='H00F' or GetUnitTypeId(u)=='H00E' then
		call SetUnitAnimation(u,"stand")
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl",u,"head"))
	elseif GetUnitTypeId(u)=='Hlgr' then
		call SetUnitAnimation(u,"stand defend")
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl",u,"origin"))
	endif
	set u=null
endfunction

function Func1800 takes nothing returns boolean
	if GetSpellAbilityId()=='A0AR' then
		call Func1799()
	endif
	return false
endfunction

function Func1801 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1800))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func1798))
	call Func0125('A0AR')
	set t=null
endfunction

constant function DragonsBlood_RawCode takes nothing returns integer
	return 'A0CL'
endfunction

constant function DragonsBlood_ArmorCode takes nothing returns integer
	return 'R006'
endfunction

function Func1802 takes nothing returns boolean
	return GetLearnedSkill()==('A0CL')and IsUnitIllusion(GetTriggerUnit())==false
endfunction

function Func1803 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	call SetPlayerTechResearched(GetOwningPlayer(Hero),('R006'),GetPlayerTechCount(GetOwningPlayer(Hero),('R006'),true)+1)
endfunction

function Func1804 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func1802))
	call TriggerAddAction(t,function Func1803)
endfunction

function Func1805 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real time=(LoadReal(HY,(GetHandleId(target)),(805)))
	local real AB3=0.75
	local real dmg=20
	if IsUnitType(target,UNIT_TYPE_HERO)==false then
		set AB3=1
	endif
	if GetUnitState(target,UNIT_STATE_LIFE)<=dmg*AB3 then
		set dmg=GetUnitState(target,UNIT_STATE_LIFE)/AB3-2
	endif
	call DamageTarget(source,target,1,dmg)
	if GetTime()>=time then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func1806 takes unit source,unit target returns nothing
	local trigger t
	local integer h
	local real time=(LoadReal(HY,(GetHandleId(target)),(805)))
	if time>GetTime()then
		call SaveReal(HY,(GetHandleId(target)),(805),((GetTime()+5)*1.0))
	else
		call SaveReal(HY,(GetHandleId(target)),(805),((GetTime()+5)*1.0))
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1805))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
	endif
	set t=null
endfunction

function Func1807 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source then
			call DisableTrigger(t)
			call Func1806(source,target)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	set source=null
	return false
endfunction

function Func1808 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local unit target=GetTriggerUnit()
	local unit source=GetAttacker()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,2.5,false)
	call TriggerAddCondition(t,Condition(function Func1807))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	set t=null
	set target=null
	set source=null
endfunction

function Func1809 takes nothing returns boolean
	if GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(2)))and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false and GetUnitAbilityLevel(GetAttacker(),'A0O4')>0 then
		call Func1808()
	endif
	return false
endfunction

function Func1810 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func1809))
	call SaveUnitHandle(HY,(GetHandleId(t)),(2),(source))
	set source=null
	set t=null
endfunction

function Func1811 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call Func1796(source)
	call CleanTrigger(t)
	call FlushChildHashtable(HY,(h))
	set t=null
	set source=null
	return false
endfunction

function Func1812 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call Func1796(source)
	call CleanTrigger(t)
	call FlushChildHashtable(HY,(h))
	set t=null
	set source=null
	return false
endfunction

function Func1813 takes nothing returns nothing
	if GetUnitAbilityLevel(tt_unit1,'A0AR')>0 then
		call Func1796(tt_unit1)
	endif
endfunction

function Func1814 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.01,false)
	call TriggerAddCondition(t,Condition(function Func1811))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerAddCondition(t,Condition(function Func1812))
	call SaveUnitHandle(HY,(h),(2),(source))
	set source=null
	set t=null
endfunction

function Func1815 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A03G' then
			call Func1814()
		endif
	else
		if GetLearnedSkill()=='A03G' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A03G')==1 then
			call Func1810()
		endif
	endif
	return false
endfunction

function Func1816 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func1815))
	set t=null
endfunction

function Func1817 takes nothing returns boolean
	if((GetSpellAbilityId()=='A0SK'))then
		return true
	endif
	if((GetSpellAbilityId()=='A0DL'))then
		return true
	endif
	if((GetSpellAbilityId()=='A0DH'))then
		return true
	endif
	if((GetSpellAbilityId()=='A1OB'))then
		return true
	endif
	return false
endfunction

function Func1818 takes nothing returns boolean
	if(not(GetUnitAbilityLevelSwapped('A0DJ',GetSpellAbilityUnit())>0))then
		return false
	endif
	if(not Func1817())then
		return false
	endif
	return true
endfunction

function Func1819 takes nothing returns nothing
	local location ON3=GetUnitLoc(GetTriggerUnit())
	call CreateNUnitsAtLoc(1,'e00E',GetOwningPlayer(GetTriggerUnit()),ON3,270)
	call UnitAddAbility(bj_lastCreatedUnit,'A0DI')
	call SetUnitAbilityLevelSwapped('A0DI',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0DJ',GetSpellAbilityUnit()))
	call IssueImmediateOrder(bj_lastCreatedUnit,"stomp")
	call RemoveLocation(ON3)
endfunction

function Func1820 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1818))
	call TriggerAddAction(t,function Func1819)
endfunction

function Func1821 takes nothing returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(GetEnumUnit()),'e00E',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
	call UnitAddAbilityPermanent(caster,'A0SJ')
	call SetUnitAbilityLevel(caster,'A0SJ',integer022)
	call IssueTargetOrder(caster,"thunderbolt",GetEnumUnit())
	call DamageTarget(GetTriggerUnit(),GetEnumUnit(),1,real009)
	set caster=null
endfunction

function Func1822 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local location l=GetSpellTargetLoc()
	local integer i=1
	local real SourceX=GetUnitX(Hero)
	local real SourceY=GetUnitY(Hero)
	local real QJI
	local real QKI
	local real x
	local real y
	local real a
	local group g=GetAvailableGroup()
	local group g2=GetAvailableGroup()
	if target==null then
		set QJI=GetLocationX(l)
		set QKI=GetLocationY(l)
	else
		set QJI=GetUnitX(target)
		set QKI=GetUnitY(target)
	endif
	set a=bj_DEGTORAD*Func0159(SourceX,SourceY,QJI,QKI)
	call RemoveLocation(l)
	loop
		exitwhen i>24
		set x=SafeX50(SourceX+i*60*Cos(a))
		set y=SafeY50(SourceY+i*60*Sin(a))
		call GroupEnumUnitsInRange(g2,x,y,250,Condition(function Func0271))
		call GroupAddGroup(g2,g)
		call GroupClear(g2)
		call Func0198(CreateDestructable('B000',x,y,GetRandomReal(0,360),0.5,GetRandomInt(0,2)),8)
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl",x,y))
		set i=i+1
	endloop
	set integer022=GetUnitAbilityLevel(Hero,'A0SK')
	set real009=integer022*50+75
	call ForGroup(g,function Func1821)
	call KillGroup(g)
	call KillGroup(g2)
	set Hero=null
	set l=null
endfunction

function Func1823 takes nothing returns boolean
	if GetSpellAbilityId()=='A0SK' then
		call Func1822()
	endif
	return false
endfunction

function Func1824 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1823))
	call Func0125('A0SJ')
	set t=null
endfunction

function Func1825 takes nothing returns boolean
	if(not(UnitHasBuffBJ(GetAttacker(),'Broa')))then
		return false
	endif
	return true
endfunction

function Func1826 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source then
			call UnitRemoveAbility(source,'Broa')
		endif
	else
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func1827 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit target=GetTriggerUnit()
	local unit source=GetAttacker()
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,1.5,false)
	call TriggerAddCondition(t,Condition(function Func1826))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	set t=null
	set source=null
	set target=null
endfunction

function Func1828 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func1825))
	call TriggerAddAction(t,function Func1827)
endfunction

function Func1829 takes nothing returns boolean
	if(GetItemTypeId(GetManipulatedItem())=='I00K')then
		if(GetUnitTypeId(GetTriggerUnit())=='Otch')then
			return true
		endif
	endif
	return false
endfunction

function Func1830 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e00E',GetUnitX(Hero),GetUnitY(Hero),0)
	call UnitAddAbilityPermanent(caster,'AIrr')
	call IssueImmediateOrder(caster,"roar")
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	set caster=null
	return false
endfunction

function Func1831 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call UnitRemoveAbility(Hero,'B01P')
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func1830))
	set t=null
	set Hero=null
endfunction

function Func1832 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t,Condition(function Func1829))
	call TriggerAddAction(t,function Func1831)
endfunction

function Func1833 takes nothing returns nothing
	local real x=GetUnitX(GetEnumUnit())
	local real y=GetUnitY(GetEnumUnit())
	local integer id=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
	call SetUnitX(units021[id],x)
	call SetUnitY(units021[id],y)
	call IssueImmediateOrder(units021[id],"fanofknives")
	call DamageTarget(GetTriggerUnit(),GetEnumUnit(),1,real283)
endfunction

function Func1834 takes nothing returns nothing
	local real x=GetUnitX(GetEnumUnit())
	local real y=GetUnitY(GetEnumUnit())
	local integer id=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
	if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) or IsUnitIllusion(GetEnumUnit()) then
		call SetUnitX(units021[id],x)
		call SetUnitY(units021[id],y)
		call IssueImmediateOrder(units021[id],"fanofknives")
	endif
endfunction

function Func1835 takes nothing returns boolean
	return GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())) and IsDead(GetFilterUnit())==false
endfunction

function Func1836 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local group g=GetAvailableGroup()
	local integer id=GetPlayerId(GetOwningPlayer(source))
	local integer lvl=GetUnitAbilityLevel(source,'A0DH')
	local unit caster=CreateUnit(GetOwningPlayer(source),'o00Z',GetUnitX(source),GetUnitY(source),0)
	call UnitApplyTimedLife(caster,'BTLF',0.5)
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A1OB')
	endif
	if lvl==1 then
		set real283=160
	elseif lvl==2 then
		set real283=210
	elseif lvl==2 then
		set real283=270
	endif
	set units021[id]=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
	set units022[id]=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
	call SetUnitScale(units021[id],0.25,0.25,0.25)
	call UnitAddAbilityPermanent(units021[id],'A0DM')
	call UnitAddAbilityPermanent(units022[id],'A1H0')
	call SetUnitAbilityLevel(units021[id],'A0DM',lvl)
	call SetUnitAbilityLevel(units022[id],'A1H0',lvl)
	call GroupEnumUnitsInRange(g,x,y,575+25,Condition(function Func1835))
	call ForGroup(g,function Func1833)
	if GetUnitAbilityLevel(source,'A1OB')>0 then
		call ForGroup(g,function Func1834)
	endif
	call KillGroup(g)
	set source=null
	set g=null
endfunction

function Func1837 takes nothing returns boolean
	if GetSpellAbilityId()=='A0DH' or GetSpellAbilityId()=='A1OB' then
		call Func1836()
	endif
	return false
endfunction

function Func1838 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1837))
	set t=null
	call Func0125('A0DM')
endfunction

constant function Untouchable_RawCode takes nothing returns integer
	return 'A0DW'
endfunction

constant function Untouchable_EffectCode takes nothing returns integer
	return 'A0B0'
endfunction

function Func1839 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
		return GetUnitAbilityLevel(GetSpellTargetUnit(),('A0DW'))>0
	else
		return GetUnitAbilityLevel(GetTriggerUnit(),('A0DW'))>0
	endif
endfunction

function Func1840 takes nothing returns nothing
	local unit source
	local unit target
	local unit caster
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
		set source=GetSpellTargetUnit()
		set target=GetTriggerUnit()
	else
		set source=GetTriggerUnit()
		set target=GetAttacker()
	endif
	set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbilityPermanent(caster,('A0B0'))
	call SetUnitAbilityLevel(caster,('A0B0'),GetUnitAbilityLevel(source,('A0DW')))
	call IssueTargetOrder(caster,"acidbomb",target)
endfunction

function Func1841 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1839))
	call TriggerAddAction(t,function Func1840)
endfunction

function Func1842 takes nothing returns boolean
	return(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)!=GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_LIFE)
endfunction

function Func1843 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer QX2=(LoadInteger(HY,(h),(28)))
	local group g
	local unit WH1
	if QX2>10 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call SaveInteger(HY,(h),(28),(QX2+1))
		set tt_unit1=source
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),300,Condition(function Func1842))
		set WH1=GroupPickRandomUnit(g)
		call KillGroup(g)
		call SetUnitState(WH1,UNIT_STATE_LIFE,GetUnitState(WH1,UNIT_STATE_LIFE)+10)
	endif
	set t=null
	set source=null
	set g=null
	set WH1=null
	return false
endfunction

function Func1844 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call AddUnitAnimationProperties(source,"alternate",false)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func1845 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer i=1
	local trigger t
	local integer h
	loop
		exitwhen i>(1+2*GetUnitAbilityLevel(source,'A01B'))
		set t=CreateTrigger()
		call SaveUnitHandle(HY,(GetHandleId(t)),(2),(source))
		call SaveInteger(HY,(GetHandleId(t)),(28),(0))
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1843))
		set i=i+1
	endloop
	if GetUnitTypeId(source)=='E02X' then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,0,false)
		call TriggerAddCondition(t,Condition(function Func1844))
		call SaveUnitHandle(HY,(h),(2),(source))
		set t=null
	endif
	set t=null
	set source=null
endfunction

function Func1846 takes nothing returns boolean
	if GetSpellAbilityId()=='A01B' then
		call Func1845()
	endif
	return false
endfunction

function Func1847 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1846))
	set t=null
endfunction

function Func1848 takes real x1,real y1,real x2,real y2 returns real
	return SquareRoot(((x1-x2)*(x1-x2))+((y1-y2)*(y1-y2)))
endfunction

function Func1849 takes unit u returns integer
	local integer lvl=GetUnitAbilityLevel(u,'A0DY')
	if lvl>0 then
		return lvl
	endif
	set lvl=GetUnitAbilityLevel(u,'A1WB')
	return lvl
endfunction

function Func1850 takes nothing returns boolean
	local real d
	local real IT3
	if GetUnitAbilityLevel(GetTriggerUnit(),'B03U')>0 and Func1849(GetEventDamageSource())>0 and(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(2)))==GetEventDamageSource()then
		call UnitRemoveAbility(GetTriggerUnit(),'B03U')
		set IT3=RMinBJ(Func1848(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitX(GetEventDamageSource()),GetUnitY(GetEventDamageSource())),2500)
		set d=(0.10+0.05*I2R(Func1849(GetEventDamageSource())))*IT3
		call Func0163("+"+I2S(R2I(d)),1,GetTriggerUnit(),0.023,3,216,216,216)
		call DisableTrigger(GetTriggeringTrigger())
		call DamageTarget(GetEventDamageSource(),GetTriggerUnit(),3,d)
		call FlushChildHashtable(HY,(GetHandleId(GetTriggeringTrigger())))
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1851 takes nothing returns nothing
	local trigger t
	local unit target
	local unit source
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		set target=GetSpellTargetUnit()
		set source=GetTriggerUnit()
	else
		set target=GetTriggerUnit()
		set source=GetAttacker()
	endif
	if IsUnitIllusion(source)==false then
		set t=CreateTrigger()
		call SaveUnitHandle(HY,(GetHandleId(t)),(2),(source))
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
		call TriggerAddCondition(t,Condition(function Func1850))
	endif
	set t=null
	set target=null
	set source=null
endfunction

function Func1852 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
		if Func1849(GetAttacker())>0 and(LoadBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(263)))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(14)))then
			call Func1851()
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
		if(GetIssuedOrderId()==OrderId("poisonarrows"))then
			call SaveBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(263),(true))
		elseif(GetIssuedOrderId()==OrderId("unpoisonarrows"))then
			call SaveBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(263),(false))
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()=='A0DY' or GetSpellAbilityId()=='A1WB')then
		call Func1851()
	endif
	return false
endfunction

function Func1853 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_SPELL_EFFECT)
	call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_ORDER)
	call TriggerAddCondition(t,Condition(function Func1852))
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(GetTriggerUnit()))
	set t=null
endfunction

function Func1854 takes nothing returns boolean
	if(GetLearnedSkill()=='A0DY' or GetLearnedSkill()=='A1WB')and IsUnitIllusion(GetTriggerUnit())==false and Func1849(GetTriggerUnit())==1 then
		call Func1853()
	endif
	return false
endfunction

function Func1855 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func1854))
	set t=null
endfunction

function Func1856 takes unit u returns boolean
	return IsUnitType(u,UNIT_TYPE_HERO)==false and IsUnitType(u,UNIT_TYPE_ANCIENT)==false and GetUnitTypeId(u)!='n01E' and GetUnitTypeId(u)!='n019'
endfunction

function Func1857 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call UnitRemoveAbility(target,'Bslo')
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set target=null
	return false
endfunction

function Func1858 takes nothing returns nothing
	local unit target=GetSpellTargetUnit()
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.01,false)
	call TriggerAddCondition(t,Condition(function Func1857))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SetUnitOwner(target,GetOwningPlayer(source),true)
	call UnitApplyTimedLife(target,'BTLF',80)
	call UnitAddAbilityPermanent(target,'Aeth')
	call UnitAddAbilityPermanent(target,'A12G')
	call Func0142(target)
	set target=null
	set source=null
endfunction

function Func1859 takes nothing returns boolean
	if GetSpellAbilityId()=='A0DX' and Func1856(GetSpellTargetUnit())then
		call Func1858()
	endif
	return false
endfunction

function Func1860 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1859))
	set t=null
endfunction

function Func1861 takes nothing returns nothing
	local real dmg=GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*real284
	call DamageTarget(unit280,GetEnumUnit(),7,dmg)
endfunction

function Func1862 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local group g
	if GetTriggerEvalCount(t)>11 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set g=GetAvailableGroup()
		set tt_unit1=source
		set unit280=source
		set real284=(2.25+0.75*GetUnitAbilityLevel(source,'A0B1'))/100
		call GroupEnumUnitsInRange(g,x,y,625,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func1861)
		call KillGroup(g)
		set g=null
	endif
	set t=null
	set source=null
	return false
endfunction

function Func1863 takes real x,real y returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func1862))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	set t=null
	set source=null
endfunction

function Func1864 takes nothing returns boolean
	if(not(GetSpellAbilityId()=='A0B1'))then
		return false
	endif
	return true
endfunction

function Func1865 takes nothing returns nothing
	local location ON3=GetUnitLoc(GetTriggerUnit())
	local location FP3=GetSpellTargetLoc()
	call Func1863(GetLocationX(FP3),GetLocationY(FP3))
	call CreateNUnitsAtLocFacingLocBJ(1,'e00E',GetOwningPlayer(GetTriggerUnit()),FP3,FP3)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitApplyTimedLifeBJ(11.00,'BTLF',bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit,'A0B2')
	call SetUnitAbilityLevelSwapped('A0B2',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0B1',GetTriggerUnit()))
	call IssuePointOrderLoc(bj_lastCreatedUnit,"deathanddecay",FP3)
	call RemoveLocation(ON3)
	call RemoveLocation(FP3)
endfunction

function Func1866 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1864))
	call TriggerAddAction(t,function Func1865)
endfunction

function Func1867 takes unit source,unit target,integer lvl returns nothing
	local real dmg
	local real FU3
	if lvl==1 then
		set dmg=25
		set FU3=0.25
	elseif lvl==2 then
		set dmg=40
		set FU3=0.5
	elseif lvl==3 then
		set dmg=55
		set FU3=0.75
	else
		set dmg=70
		set FU3=1
	endif
	call StunTargetIF(target,target,FU3)
	call DamageTarget(source,target,1,dmg)
endfunction

function Func1868 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	call Func1867(source,target,lvl)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func1869 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t
	local integer h
	local integer lvl=GetUnitAbilityLevel(source,'A0I7')
	call Func1867(source,target,lvl)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(5),(lvl))
	call TriggerRegisterTimerEvent(t,2,false)
	call TriggerAddCondition(t,Condition(function Func1868))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(5),(lvl))
	call TriggerRegisterTimerEvent(t,4,false)
	call TriggerAddCondition(t,Condition(function Func1868))
	set t=null
	set source=null
	set target=null
endfunction

function Func1870 takes nothing returns boolean
	if GetSpellAbilityId()=='A0I7' and IsBlocked(GetSpellTargetUnit())==false then
		call Func1869()
	endif
	return false
endfunction

function Func1871 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1870))
endfunction

function DemonicConversion_Delayed takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	call UnitAddAbilityPermanent(caster,'A17Z')
	call SetUnitAbilityLevel(caster,'A17Z',lvl)
	call IssueImmediateOrder(caster,"slimemonster")
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set caster=null
	return false
endfunction

function Func1872 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local real x=GetUnitX(target)
	local real y=GetUnitY(target)
	local integer lvl=GetUnitAbilityLevel(source,'A180')
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
	call SetUnitState(target,UNIT_STATE_LIFE,1)
	call DamageTarget(source,target,2,20)
	call DamageTarget(source,target,1,20)
	call DamageTarget(source,target,3,20)
	call UnitAddAbilityPermanent(caster,'A17Z')
	call SetUnitAbilityLevel(caster,'A17Z',lvl)
	call IssueImmediateOrder(caster,"lavamonster")
	set source=null
	set target=null
	set caster=null
endfunction

function Func1873 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer G33=GetUnitLevel(target)
	if GetOwningPlayer(target)!=Sentinels[0]and GetOwningPlayer(target)!=Scourges[0]and G33>4 then
		call InterruptUnit(Hero)
		call Error(GetOwningPlayer(Hero),GetObjectName('n0CX'))
	endif
	set Hero=null
	set target=null
endfunction

function Func1874 takes nothing returns boolean
	if GetSpellAbilityId()=='A180' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
			call Func1872()
		else
			call Func1873()
		endif
	endif
	return false
endfunction

function DemonicConversion_Recolor takes nothing returns boolean
	local integer id=GetUnitTypeId(GetTriggerUnit())
	if id=='hwat' or id=='hwt2' or id=='hwt3' or id=='h006' then
		call SetUnitVertexColor(GetSummonedUnit(),0,0,50,255)
	endif
	return false
endfunction

function Func1875 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local region S5O=CreateRegion()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func1874))
	set t=null
endfunction

function Func1876 takes real x returns real
	local real d=GetRectMinX(bj_mapInitialPlayableArea)+150
	if(x<d)then
		return d
	endif
	set d=GetRectMaxX(bj_mapInitialPlayableArea)-150
	if(x>d)then
		return d
	endif
	return x
endfunction

function Func1877 takes real y returns real
	local real d=GetRectMinY(bj_mapInitialPlayableArea)+150
	if(y<d)then
		return d
	endif
	set d=GetRectMaxY(bj_mapInitialPlayableArea)-150
	if(y>d)then
		return d
	endif
	return y
endfunction

function Func1878 takes unit u returns boolean
	local integer id=GetUnitTypeId(u)
	return id=='npn3' or id=='npn6' or id=='n010' or id=='n0GZ' or id=='npn1' or id=='npn4' or id=='n011' or id=='n0H0' or id=='npn2' or id=='npn5' or id=='n012' or id=='n0H1'
endfunction

function Func1879 takes nothing returns boolean
	return GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func1878(GetFilterUnit())or Func0266(GetFilterUnit())or GetUnitTypeId(GetFilterUnit())=='n00U' or GetUnitTypeId(GetFilterUnit())=='n00Y' or GetUnitTypeId(GetFilterUnit())=='n00Z' or GetUnitTypeId(GetFilterUnit())=='n0KU' or GetUnitTypeId(GetFilterUnit())=='n0KV' or GetUnitTypeId(GetFilterUnit())=='n0KW' or Func0103(GetUnitTypeId(GetFilterUnit())))and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer((LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(318)))))
endfunction

function Func1880 takes nothing returns nothing
	local location GA3=GetUnitLoc(GetEnumUnit())
	local location GB3=GetUnitLoc((LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(318))))
	local location GC3=GetLocationWithOffset(GB3,DistanceBetweenPoints(GB3,GA3)-2,AngleBetweenPoints(GB3,GA3))
	call SetUnitFacing(GetEnumUnit(),AngleBetweenPoints(GB3,GA3))
	call SetUnitPositionLoc(GetEnumUnit(),GC3)
	call RemoveLocation(GA3)
	call RemoveLocation(GB3)
	call RemoveLocation(GC3)
	if integer469>0 then
		call DamageTarget(unit281,GetEnumUnit(),8,GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*(0.0225+0.0075*integer469))
	endif
endfunction

function Func1881 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local group Z51
	local integer h=GetHandleId(t)
	local unit GE3=(LoadUnitHandle(HY,(h),(318)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster
	local real x
	local real y
	if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and(GetSpellAbilityId()=='A1BX' or GetSpellAbilityId()=='A2TX')then
		call KillUnit(GE3)
		set caster=(LoadUnitHandle(HY,(h),(19)))
		call UnitApplyTimedLife((LoadUnitHandle(HY,(h),(250))),'BTLF',1)
		call UnitApplyTimedLife((LoadUnitHandle(HY,(h),(251))),'BTLF',1)
		call UnitApplyTimedLife((LoadUnitHandle(HY,(h),(252))),'BTLF',1)
		call UnitApplyTimedLife((LoadUnitHandle(HY,(h),(253))),'BTLF',1)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillUnit(caster)
	elseif GetTriggerEvalCount(t)>90 then
		set caster=(LoadUnitHandle(HY,(h),(19)))
		call UnitApplyTimedLife((LoadUnitHandle(HY,(h),(250))),'BTLF',1)
		call UnitApplyTimedLife((LoadUnitHandle(HY,(h),(251))),'BTLF',1)
		call UnitApplyTimedLife((LoadUnitHandle(HY,(h),(252))),'BTLF',1)
		call UnitApplyTimedLife((LoadUnitHandle(HY,(h),(253))),'BTLF',1)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillUnit(GE3)
		call KillUnit(caster)
		call InterruptUnit((LoadUnitHandle(HY,(h),(2))))
	else
		set integer469=0
		if GetTriggerEvalCount(t)==20 or GetTriggerEvalCount(t)==40 or GetTriggerEvalCount(t)==60 or GetTriggerEvalCount(t)==80 then
			if GetUnitAbilityLevel(source,'A2TX')>0 then
				set unit281=source
				set integer469=GetUnitAbilityLevel(source,'A0B1')
			endif
		endif
		set x=GetUnitX(GE3)
		set y=GetUnitY(GE3)
		set Z51=GetAvailableGroup()
		call GroupEnumUnitsInRange(Z51,x,y,425,Condition(function Func1879))
		call ForGroup(Z51,function Func1880)
		call KillGroup(Z51)
	endif
	set caster=null
	set GE3=null
	set t=null
	return false
endfunction

function Func1882 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
	local unit GE3=CreateUnit(GetOwningPlayer(source),'u004',x,y,0)
	local integer lvl=GetUnitAbilityLevel(source,'A1BX')
	call RemoveLocation(l)
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A2TX')
	endif
	call SetUnitAbilityLevel(GE3,'A0C0',lvl)
	if Func0052(GetOwningPlayer(source))then
		call UnitAddAbilityPermanent(caster,'A0X4')
	else
		call UnitAddAbilityPermanent(caster,'A0X3')
	endif
	call IssuePointOrder(caster,"cloudoffog",x,y)
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveUnitHandle(HY,(h),(250),(CreateUnit(GetOwningPlayer(source),'h06R',x,y,0)))
	call SaveUnitHandle(HY,(h),(251),(CreateUnit(GetOwningPlayer(source),'h06R',x,y,0)))
	call SaveUnitHandle(HY,(h),(252),(CreateUnit(GetOwningPlayer(source),'h06R',x,y,0)))
	call SaveUnitHandle(HY,(h),(253),(CreateUnit(GetOwningPlayer(source),'h06R',x,y,0)))
	call SaveUnitHandle(HY,(h),(318),(GE3))
	call SaveUnitHandle(HY,(h),(2),(source))
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_ENDCAST)
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerAddCondition(t,Condition(function Func1881))
	set source=null
	set GE3=null
	set t=null
	set l=null
endfunction

function Func1883 takes nothing returns boolean
	if GetSpellAbilityId()=='A1BX' or GetSpellAbilityId()=='A2TX' then
		call Func1882()
	endif
	return false
endfunction

function Func1884 takes nothing returns boolean
	local location l
	local real x
	local real y
	if GetSpellAbilityId()=='A1BX' or GetSpellAbilityId()=='A2TX' then
		set l=GetSpellTargetLoc()
		set x=GetLocationX(l)
		set y=GetLocationY(l)
		call RemoveLocation(l)
		set l=null
		if(x!=Func1876(x)and y!=Func1877(y))or RectContainsCoords(rect165,x,y)or RectContainsCoords(rect166,x,y)or RectContainsCoords(rect167,x,y)or RectContainsCoords(rect168,x,y)or RectContainsCoords(rect169,x,y)or RectContainsCoords(rect170,x,y)then
			call InterruptUnit(GetTriggerUnit())
			call Error(GetOwningPlayer(GetTriggerUnit()),"Cannot cast Blackhole here")
		endif
	endif
	return false
endfunction

function Func1885 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1883))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func1884))
	call Func0125('A0C0')
endfunction

function Func1886 takes nothing returns nothing
	call DamageTarget(GetTriggerUnit(),GetEnumUnit(),1,real009)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfPurification\\PurificationTarget.mdx",GetEnumUnit(),"chest"))
endfunction

function Func1887 takes nothing returns nothing
	local group g=GetAvailableGroup()
	local unit Hero=GetTriggerUnit()
	local real x=GetUnitX(Hero)
	local real y=GetUnitY(Hero)
	local integer lvl=GetUnitAbilityLevel(Hero,'A0SC')
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e00E',x,y,0)
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\StaffOfPurification\\PurificationCaster.mdx",x,y))
	call UnitAddAbilityPermanent(caster,'A0SD')
	call SetUnitAbilityLevel(caster,'A0SD',lvl)
	call IssuePointOrder(caster,"silence",x,y)
	set real009=lvl*70
	call GroupEnumUnitsInRange(g,x,y,425,Condition(function Func0272))
	call ForGroup(g,function Func1886)
	call KillGroup(g)
	set caster=null
	set g=null
	set Hero=null
endfunction

function Func1888 takes nothing returns boolean
	if GetSpellAbilityId()=='A0SC' then
		call Func1887()
	endif
	return false
endfunction

function Func1889 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1888))
	set t=null
endfunction

function Func1890 takes unit source,unit target,integer lvl,integer KBO returns nothing
	local unit caster
	if KBO==1 then
		call StunTargetIF(source,target,0.75+0.75*lvl)
		call DamageTarget(source,target,1,lvl*50+50)
	else
		set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
		call UnitAddAbilityPermanent(caster,'A0SG')
		call SetUnitAbilityLevel(caster,'A0SG',lvl)
		call IssueTargetOrder(caster,"thunderbolt",target)
		call DamageTarget(source,target,1,lvl*50+50+100)
	endif
	set caster=null
endfunction

function Func1891 takes unit source,unit target returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbilityPermanent(caster,'A0SF')
	call IssueTargetOrder(caster,"thunderbolt",target)
	set caster=null
endfunction

function Func1892 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer KBO=(LoadInteger(HY,(h),(152)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local lightning UZI=(LoadLightningHandle(HY,(h),(196)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call DestroyLightning(UZI)
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call MoveLightning(UZI,false,GetUnitX(source),GetUnitY(source),GetUnitX(target),GetUnitY(target))
		if Func0141(GetUnitX(source),GetUnitY(source),GetUnitX(target),GetUnitY(target))>600 then
			call DestroyLightning(UZI)
			call UnitAsInteger_Clear(PCI)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call Func1890(source,target,lvl,KBO)
		endif
	endif
	set t=null
	set source=null
	set target=null
	set UZI=null
	return false
endfunction

function Func1893 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local lightning UZI=AddLightning("HWPB",false,GetUnitX(unit282),GetUnitY(unit282),GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()))
	call SetLightningColor(UZI,0,.7,1,1)
	call SaveLightningHandle(HY,(h),(196),(UZI))
	call SaveUnitHandle(HY,(h),(2),(unit282))
	call SaveInteger(HY,(h),(30),(Func0021(GetEnumUnit())))
	call SaveInteger(HY,(h),(5),(integer470))
	call SaveInteger(HY,(h),(152),(integer471))
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerRegisterUnitEvent(t,GetEnumUnit(),EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,unit282,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1892))
	call DamageTarget(GetTriggerUnit(),GetEnumUnit(),1,real285)
	call Func1891(GetTriggerUnit(),GetEnumUnit())
	set t=null
	set UZI=null
endfunction

function Func1894 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e00U',x,y,0)
	local group g=GetAvailableGroup()
	local integer lvl=GetUnitAbilityLevel(Hero,'A0S8')
	local real DC1=6
	local integer KBO=1
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(Hero,'A1QP')
		set DC1=8
		set KBO=2
	endif
	call RemoveLocation(l)
	call SetUnitAnimation(caster,"channel")
	call Func0209(caster,DC1)
	set unit282=caster
	set real286=DC1
	set real285=lvl*50+50
	set integer470=lvl
	set integer471=KBO
	set tt_unit1=Hero
	call GroupEnumUnitsInRange(g,x,y,400,Condition(function Func0278))
	call ForGroup(g,function Func1893)
	call KillGroup(g)
	set g=null
	set caster=null
	set Hero=null
	set l=null
endfunction

function Func1895 takes nothing returns boolean
	if GetSpellAbilityId()=='A0S8' or GetSpellAbilityId()=='A1QP' then
		call Func1894()
	endif
	return false
endfunction

function Func1896 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1895))
	set t=null
endfunction

function Func1897 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer lvl
	local integer QX2
	local integer MKO
	if(GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER and GetIssuedOrderId()!=String2OrderIdBJ("phaseshift"))or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER or GetTriggerEventId()==EVENT_UNIT_DEATH then
		call SetUnitInvulnerable(Hero,false)
		call UnitRemoveAbility(Hero,'A04R')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set lvl=(LoadInteger(HY,(h),(5)))
		set QX2=(LoadInteger(HY,(h),(28)))+1
		call SaveInteger(HY,(h),(28),(QX2))
		set MKO=3*lvl
		if lvl==4 then
			set MKO=MKO+1
		endif
		if QX2>MKO or Func0141(GetUnitX(Hero),GetUnitY(Hero),(LoadReal(HY,(h),(6))),(LoadReal(HY,(h),(7))))>125 then
			call SetUnitInvulnerable(Hero,false)
			call UnitRemoveAbility(Hero,'A04R')
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func1898 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SetUnitInvulnerable(Hero,true)
	call UnitAddAbilityPermanent(Hero,'A04R')
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveInteger(HY,(h),(5),(GetUnitAbilityLevel(Hero,'A0SB')))
	call SaveInteger(HY,(h),(28),(0))
	call SaveReal(HY,(h),(6),((GetUnitX(Hero))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(Hero))*1.0))
	call TriggerRegisterTimerEvent(t,0.25,true)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_ISSUED_ORDER)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_ISSUED_POINT_ORDER)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_ISSUED_TARGET_ORDER)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1897))
	call AddTimedKeyToUnit(Hero,4266,5.9)
	set t=null
	set Hero=null
endfunction

function Func1899 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	call IssueImmediateOrder(Hero,"phaseshiftoff")
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	return false
endfunction

function Func1900 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func1899))
	set t=null
	set Hero=null
endfunction

function Func1901 takes nothing returns boolean
	if GetIssuedOrderId()==String2OrderIdBJ("phaseshift")and IsUnitIllusion(GetTriggerUnit())==false and((LoadInteger(HY,(GetHandleId((GetTriggerUnit()))),((4266))))==1)==false then
		call Func1898()
	elseif GetIssuedOrderId()==String2OrderIdBJ("phaseshifton")then
		call Func1900()
	endif
	return false
endfunction

function Func1902 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call Func0167(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
	call TriggerAddCondition(t,Condition(function Func1901))
	set t=null
endfunction

function Func1903 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group002)==false then
		call GroupAddUnit(group002,GetEnumUnit())
		call DamageTarget(tt_unit1,GetEnumUnit(),1,real009)
	endif
endfunction

function Func1904 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local group g=(LoadGroupHandle(HY,(h),(22)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local group H03
	local real x
	local real y
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		set tt_unit1=CreateUnit(GetOwningPlayer(caster),'h06O',GetUnitX((LoadUnitHandle(HY,(h),(14)))),GetUnitY((LoadUnitHandle(HY,(h),(14)))),0)
		call SetUnitScale(tt_unit1,2.5,2.5,2.5)
		call KillUnit(tt_unit1)
		call SetUnitPosition((LoadUnitHandle(HY,(h),(14))),GetUnitX(caster),GetUnitY(caster))
		call ShowUnit((LoadUnitHandle(HY,(h),(14))),false)
		call ShowUnit((LoadUnitHandle(HY,(h),(14))),true)
		call SelectUnitAddForPlayer((LoadUnitHandle(HY,(h),(14))),GetOwningPlayer((LoadUnitHandle(HY,(h),(14)))))
		set units023[GetPlayerId(GetOwningPlayer(caster))]=null
		call KillGroup(g)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEvalCount(t)>120 then
		set units023[GetPlayerId(GetOwningPlayer(caster))]=null
		call KillGroup(g)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SetUnitScale(caster,2.5,2.5,2.5)
		call KillUnit(caster)
	else
		set x=GetUnitX(caster)
		set y=GetUnitY(caster)
		set H03=GetAvailableGroup()
		set group002=g
		set tt_unit1=caster
		set real009=lvl*70
		call GroupEnumUnitsInRange(H03,x,y,225+25,Condition(function Func0283))
		call ForGroup(H03,function Func1903)
		call KillGroup(H03)
		call SetUnitX(caster,SafeX50(x+15*Cos(RM2*bj_DEGTORAD)))
		call SetUnitY(caster,SafeY50(y+15*Sin(RM2*bj_DEGTORAD)))
	endif
	set t=null
	set g=null
	set H03=null
	set caster=null
	return false
endfunction

function Func1905 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local group g=GetAvailableGroup()
	local unit Hero=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x1=GetUnitX(Hero)
	local real y1=GetUnitY(Hero)
	local real x2=GetLocationX(l)
	local real y2=GetLocationY(l)
	local real RM2=Func0159(x1,y1,x2,y2)
	local integer lvl=GetUnitAbilityLevel(Hero,'A0S9')
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'h06O',x1,y1,RM2)
	call Func0174(sound014,x1,y1)
	call UnitAddAbilityPermanent(GetTriggerUnit(),'A0SA')
	set units023[GetPlayerId(GetOwningPlayer(Hero))]=caster
	call SetUnitScale(caster,3.5,3.5,3.5)
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveGroupHandle(HY,(h),(22),(g))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call TriggerRegisterTimerEvent(t,0.025,true)
	call TriggerRegisterUnitEvent(t,caster,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1904))
	call RemoveLocation(l)
	set t=null
	set caster=null
	set g=null
	set Hero=null
	set l=null
endfunction

function Func1906 takes nothing returns nothing
	local integer i=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
	if units023[i]==null then
		call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n037'))
	else
		call SetUnitScale(units023[i],2.5,2.5,2.5)
		call KillUnit(units023[i])
	endif
endfunction

function Func1907 takes nothing returns boolean
	if GetSpellAbilityId()=='A0S9' then
		call Func1905()
	endif
	if GetSpellAbilityId()=='A0SA' then
		call Func1906()
	endif
	return false
endfunction

function IllusoryOrb_Learn takes nothing returns boolean
	if GetLearnedSkill()=='A0S9' and GetUnitAbilityLevel(GetTriggerUnit(),'A0S9')==1 and IsUnitIllusion(GetTriggerUnit())==false then
		call UnitAddAbilityPermanent(GetTriggerUnit(),'A0SA')
	endif
	return false
endfunction

function Func1908 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1907))
	set t=null
endfunction

function Func1909 takes nothing returns boolean
	return GetSpellAbilityId()=='A21E'
endfunction

function Func1910 takes nothing returns nothing
	call SetUnitX(GetEnumUnit(),real287)
	call SetUnitY(GetEnumUnit(),real288)
endfunction

function Furion_Spout_Effect takes nothing returns nothing
	local integer i
	local unit caster=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local location l
	local real x
	local real y
	local group g=GetAvailableGroup()
	if target==null then
		set l=GetSpellTargetLoc()
	else
		set l=GetUnitLoc(target)
	endif
	set x=GetLocationX(l)
	set y=GetLocationY(l)
	set real287=x
	set real288=y
	if IsUnitAlly(caster,GetOwningPlayer(target)) or IsBlocked(GetSpellTargetUnit())==false then
		set tt_unit1=caster
		call GroupEnumUnitsInRange(g,x,y,150,Condition(function DefaultEnemyFilterWithAncients))
		call Func0196(CreateFogModifierRadiusLocBJ(true,GetOwningPlayer(caster),FOG_OF_WAR_VISIBLE,l,1000.00),2.25+0.75*GetUnitAbilityLevel(caster,'A21E'))
		set i=1
		loop
			exitwhen i>8
			call Func0198(CreateDestructableLoc('B005',GetLocationWithOffset(l,150.00,(I2R(i)*45.00)),GetRandomReal(0,360),1,0),2.25+0.75*GetUnitAbilityLevel(caster,'A21E'))
			set i=i+1
		endloop
	endif
	call RemoveLocation(l)
	call ForGroup(g,function Func1910)
	call KillGroup(g)
	set caster=null
	set target=null
	set l=null
	set g=null
endfunction

function Furion_Spout_Cast takes nothing returns nothing
	local unit target=GetSpellTargetUnit()
	local integer h=GetHandleId(GetOwningPlayer(target))
	local player caster=GetOwningPlayer(GetTriggerUnit())
	if GetSpellAbilityId()=='A21E' and IsUnitAlly(target,caster) and LoadBoolean(HY,h,139) then
		call InterruptUnit(GetTriggerUnit())
		call Error(caster,GetObjectName('n038'))
	endif
	set target=null
	set caster=null
endfunction

function Func1913 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1909))
	call TriggerAddAction(t,function Furion_Spout_Effect)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddAction(t,function Furion_Spout_Cast)
	set t=null
endfunction

constant function Teleportation_AbilityCode takes nothing returns integer
	return 'A01O'
endfunction

function Func1914 takes nothing returns boolean
	return GetSpellAbilityId()==('A01O')
endfunction

function Func1915 takes nothing returns nothing
	local location BFO=GetSpellTargetLoc()
	local real x=GetLocationX(BFO)
	local real y=GetLocationY(BFO)
	if IsPlayerAlly(LocalPlayer,GetOwningPlayer(GetTriggerUnit()))then
		call PingMinimapEx(x,y,3,255,255,255,false)
	endif
	call DestroyEffect(AddSpecialEffect("war3mapImported\\FurionTeleportTarget.mdx",x,y))
	call DestroyEffect(AddSpecialEffect("war3mapImported\\FurionTeleportTarget.mdx",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
	call RemoveLocation(BFO)
endfunction

function Func1916 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
	call TriggerAddCondition(t,Condition(function Func1914))
	call TriggerAddAction(t,function Func1915)
endfunction

function Func1917 takes unit source,real x,real y returns nothing
	local unit HA3=CreateUnit(GetOwningPlayer(source),'efon',x,y,0)
	call UnitApplyTimedLife(HA3,'BEfn',60)
	call SetUnitVertexColor(HA3,175,255,175,175)
	call SetUnitFlyHeight(HA3,0,0)
	set HA3=null
endfunction

function Func1918 takes nothing returns nothing
	if(Func0090(GetEnumDestructable())or GetDestructableTypeId(GetEnumDestructable())=='B005')and integer472<=integer473 and GetDestructableLife(GetEnumDestructable())>0 then
		set integer472=integer472+1
		call Func1917(GetTriggerUnit(),GetDestructableX(GetEnumDestructable()),GetDestructableY(GetEnumDestructable()))
		call KillDestructable(GetEnumDestructable())
	endif
endfunction

function Func1919 takes nothing returns nothing
	local integer lvl=GetUnitAbilityLevel(GetTriggerUnit(),'AEfn')
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local real d=75+75*lvl+50
	local rect r=Rect(x-d,y-d,x+d,y+d)
	set integer472=0
	set integer473=lvl
	call EnumDestructablesInRect(r,Condition(function ReturnTrue),function Func1918)
	call RemoveRect(r)
	call RemoveLocation(l)
	set l=null
	set r=null
endfunction

function ForceOfNature_Main takes nothing returns boolean
	if GetSpellAbilityId()=='AEfn' then
		call Func1919()
	endif
	return false
endfunction

function Func1920 takes nothing returns nothing
endfunction

function Func1921 takes nothing returns nothing
	local unit target=GetEnumUnit()
	local real d=Func0141(GetUnitX(target),GetUnitY(target),real290,real291)
	if d<real289 and IsUnitVisible(target,GetOwningPlayer(unit284)) then
		set unit283=GetEnumUnit()
		set real289=d
	endif
	set target=null
endfunction

function Func1922 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(GetTriggerUnit(),'A1W8')
	local integer OO1='A07X'
	local group g
	local unit caster
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(GetTriggerUnit(),'A1W9')
		set OO1='A0AL'
	endif
	if target==null then
		set unit283=null
		set unit284=source
		set real289=999999
		set real290=GetSpellTargetX()
		set real291=GetSpellTargetY()
		set tt_unit1=source
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,0,0,9999,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func1921)
		call KillGroup(g)
		set target=unit283
		set g=null
	endif
	if target!=null then
		set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
		call UnitAddAbilityPermanent(caster,OO1)
		call SetUnitAbilityLevel(caster,OO1,lvl)
		call IssueTargetOrder(caster,"chainlightning",target)
		set caster=null
	endif
	set source=null
	set target=null
endfunction

function Func1923 takes nothing returns boolean
	if GetSpellAbilityId()=='A1W8' or GetSpellAbilityId()=='A1W9' then
		call Func1922()
	endif
	return false
endfunction

function Func1924 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1923))
	set t=null
endfunction

function Func1925 takes unit source,unit target returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	local integer lvl=GetUnitAbilityLevel(source,'A0QR')
	local real AB3
	local real HH3=0.35
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A1B3')
		set HH3=0.65
	endif
	call UnitAddAbilityPermanent(caster,'A0QU')
	call SetUnitAbilityLevel(caster,'A0QU',lvl)
	call IssueTargetOrder(caster,"slow",target)
	if lvl==1 then
		set AB3=0.35
	elseif lvl==2 then
		set AB3=0.35
	else
		set AB3=0.35
	endif
	call DamageTarget(source,source,1,GetUnitState(source,UNIT_STATE_LIFE)*AB3)
	call DamageTarget(source,target,1,GetUnitState(target,UNIT_STATE_LIFE)*HH3)
	call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",source,"chest"))
	call DestroyEffect(AddSpecialEffectTarget("effects\\LifeBreak.mdx",target,"chest"))
	set source=null
	set target=null
	set caster=null
endfunction

function Func1926 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real II3=(LoadReal(HY,(h),(23)))
	local real I13=(LoadReal(HY,(h),(24)))
	local real x
	local real y
	local real SourceX=GetUnitX(source)
	local real SourceY=GetUnitY(source)
	local real QJI=GetUnitX(target)
	local real QKI=GetUnitY(target)
	local real RM2=Atan2(QKI-SourceY,QJI-SourceX)
	if GetUnitTypeId(source)=='E02X' then
		call SetUnitAnimationByIndex(source,1)
	else
		call SetUnitAnimationByIndex(source,17)
	endif
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or Func0141(II3,I13,QJI,QKI)>1400 or Func0250(source)then
		call SetUnitPathing(source,true)
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call UnitRemoveAbility(source,'A0ST')
		call SetUnitTimeScale(source,1.0)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif Func0141(SourceX,SourceY,QJI,QKI)<125 then
		call SetUnitPathing(source,true)
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call UnitRemoveAbility(source,'A0ST')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SetUnitTimeScale(source,1.0)
		if target!=null and IsDead(target)==false then
			call IssueTargetOrder(source,"attack",target)
			call Func1925(source,target)
		endif
	else
		call SetUnitPathing(source,false)
		set II3=QJI
		set I13=QKI
		call SaveReal(HY,(h),(23),((II3)*1.0))
		call SaveReal(HY,(h),(24),((I13)*1.0))
		set x=SourceX+15*Cos(RM2)
		set y=SourceY+15*Sin(RM2)
		call SetUnitPosition(source,x,y)
		call SetUnitFacing(source,RM2*bj_RADTODEG)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func1927 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.015,true)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerAddCondition(t,Condition(function Func1926))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(23),((GetUnitX(target))*1.0))
	call SaveReal(HY,(h),(24),((GetUnitY(target))*1.0))
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("war3mapImported\\LifeBreakCharge.mdx",source,"hand right alternate")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("war3mapImported\\LifeBreakCharge.mdx",source,"hand left alternate")))
	call SetUnitPathing(source,false)
	call UnitAddAbilityPermanent(source,'A0ST')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A0ST',false)
	call SetUnitAnimationByIndex(source,17)
	call SetUnitTimeScale(source,3.0)
	set source=null
	set target=null
	set t=null
endfunction

function Func1928 takes nothing returns boolean
	if(GetSpellAbilityId()=='A0QR' or GetSpellAbilityId()=='A1B3')and IsBlocked(GetSpellTargetUnit())==false then
		call Func1927()
	endif
	return false
endfunction

function Func1929 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1928))
	set t=null
	call Func0125('A0QU')
endfunction

function Func1930 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer HY3=Func0042(target)
	local real QZI=GetUnitState(target,UNIT_STATE_LIFE)
	local real R2O=GetUnitState(target,UNIT_STATE_MAX_LIFE)
	local real HJ3
	if QZI/R2O>0.4 then
		set HJ3=I2R(lvl)/4*0.2*HY3+10
	else
		set HJ3=0.2*lvl*HY3+10
	endif
	set HJ3=HJ3/8.0
	if GetTriggerEvalCount(t)>16*8.0 then
		call DestroyEffect((LoadEffectHandle(HY,(h),(31))))
		call UnitRemoveAbility(target,'A0QO')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call SetUnitState(target,UNIT_STATE_LIFE,QZI+HJ3)
	endif
	set target=null
	set t=null
	return false
endfunction

function Func1931 takes nothing returns nothing
	local unit target=GetSpellTargetUnit()
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A0QP')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1/8.0,true)
	call TriggerAddCondition(t,Condition(function Func1930))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveEffectHandle(HY,(h),(31),(AddSpecialEffectTarget("InnerVitality.mdx",target,"chest")))
	call UnitAddAbilityPermanent(target,'A0QO')
	call SetUnitAbilityLevel(target,'A0QO',lvl)
	set target=null
	set source=null
	set t=null
endfunction

function Func1932 takes nothing returns boolean
	if GetSpellAbilityId()=='A0QP' then
		call Func1931()
	endif
	return false
endfunction

function Func1933 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1932))
endfunction

function Func1934 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer KAO
	local integer HN3
	local integer HS3
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEvalCount(t)>8 or IsDead(target)then
		call DestroyEffect((LoadEffectHandle(HY,(h),(31))))
		call FlushChildHashtable(HY,(h))
		set KAO=GetHandleId(source)
		set HN3=6000+GetHandleId(target)
		set HS3=(LoadInteger(HY,(KAO),(HN3)))
		set HS3=HS3-1
		if HS3==0 then
			call SaveInteger(HY,(KAO),(HN3),(0))
		else
			call SaveInteger(HY,(KAO),(HN3),(HS3))
		endif
		call UnitAsInteger_Clear(PCI)
		call CleanTrigger(t)
	else
		call DamageTarget(source,target,1,5*GetUnitAbilityLevel(source,'A0QN'))
	endif
	set t=null
	set target=null
	set source=null
	return false
endfunction

function Func1935 takes unit source,unit target returns nothing
	local integer h=GetHandleId(source)
	local integer KAO
	local trigger t
	local integer HR3=(LoadInteger(HY,(h),(6000+GetHandleId(target))))
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func1934))
	set KAO=GetHandleId(t)
	call SaveUnitHandle(HY,(KAO),(2),(source))
	call SaveInteger(HY,(KAO),(30),(Func0021(target)))
	call SaveInteger(HY,(h),(6000+GetHandleId(target)),(HR3+1))
	call SaveEffectHandle(HY,(KAO),(31),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\BreathOfFire\\BreathOfFireDamage.mdl",target,"chest")))
	set t=null
endfunction

function Func1936 takes nothing returns boolean
	local real d
	if GetUnitAbilityLevel(GetTriggerUnit(),'B081')>0 and GetUnitAbilityLevel(GetEventDamageSource(),'A0QN')>0 and(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(2)))==GetEventDamageSource()then
		call SetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE,Func0134(GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)-15,1))
		call UnitRemoveAbility(GetTriggerUnit(),'B081')
		call Func1935(GetEventDamageSource(),GetTriggerUnit())
		call DisableTrigger(GetTriggeringTrigger())
		call FlushChildHashtable(HY,(GetHandleId(GetTriggeringTrigger())))
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func1937 takes nothing returns nothing
	local trigger t
	local unit target
	local unit source
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		set target=GetSpellTargetUnit()
		set source=GetTriggerUnit()
	else
		set target=GetTriggerUnit()
		set source=GetAttacker()
	endif
	if IsUnitIllusion(source)==false then
		set t=CreateTrigger()
		call SaveUnitHandle(HY,(GetHandleId(t)),(2),(source))
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
		call TriggerAddCondition(t,Condition(function Func1936))
	endif
	set t=null
	set target=null
	set source=null
endfunction

function Func1938 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
		if GetUnitAbilityLevel(GetAttacker(),'A0QN')>0 and(LoadBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(263)))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(14)))then
			call Func1937()
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
		if(GetIssuedOrderId()==OrderId("poisonarrows"))then
			call SaveBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(263),(true))
		elseif(GetIssuedOrderId()==OrderId("unpoisonarrows"))then
			call SaveBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(263),(false))
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A0QN' then
		call Func1937()
	endif
	return false
endfunction

function Func1939 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_SPELL_EFFECT)
	call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_ORDER)
	call TriggerAddCondition(t,Condition(function Func1938))
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(GetTriggerUnit()))
	set t=null
endfunction

function Func1940 takes nothing returns boolean
	if GetLearnedSkill()=='A0QN' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0QN')==1 then
		call Func1939()
	endif
	return false
endfunction

function Func1941 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func1940))
	set t=null
endfunction

function Func1942 takes unit Hero,integer ZO3 returns nothing
	local integer i=0
	loop
		exitwhen i>24
		if i!=ZO3/4 and GetUnitAbilityLevel(Hero,integers146[i])>0 then
			call UnitRemoveAbility(Hero,integers146[i])
		endif
		set i=i+1
	endloop
	if GetUnitAbilityLevel(Hero,integers146[ZO3/4])==0 then
		call UnitAddAbilityPermanent(Hero,integers146[ZO3/4])
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),integers146[ZO3/4],false)
	endif
endfunction

function Func1943 takes nothing returns boolean
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real Z33=GetUnitState(Hero,UNIT_STATE_LIFE)
	local real MaxHealth=GetUnitState(Hero,UNIT_STATE_MAX_LIFE)
	local integer Z43
	local integer Z53
	local integer lvl=GetUnitAbilityLevel(Hero,'A0QQ')
	local boolean Z63=(LoadBoolean(HY,(h),(319)))
	if IsUnitType(Hero,UNIT_TYPE_HERO) and lvl>0 then
		set Z43=R2I(100*GetUnitState(Hero,UNIT_STATE_LIFE)/GetUnitState(Hero,UNIT_STATE_MAX_LIFE))
		set Z53=Func0131(Func0130(R2I(100-Z43)/7,14),1)
		if IsDead(Hero)==false then
			if(GetUnitAbilityLevel(Hero,'BNdo')>0)then
				set Z53=0
			endif
			call Func0369(Hero,(12+lvl*2)*Z53)
			call Func1942(Hero,(3+lvl)*Z53)
			if Z43<40 then
				if Z63==false then
					call SaveBoolean(HY,(h),(319),(true))
					call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\TrollBerserk\\HeadhunterWEAPONSLeft.mdl",Hero,"left weapon")))
					call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("effects\\HeadhunterWEAPONSRight_NoSound.mdx",Hero,"right weapon")))
				endif
			else
				if Z63 then
					call SaveBoolean(HY,(h),(319),(false))
					call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
					call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
				endif
			endif
		endif
	endif
	set Hero=null
	return false
endfunction

function Func1944 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerAddCondition(t,Condition(function Func1943))
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(GetTriggerUnit()))
	call SaveBoolean(HY,(GetHandleId(t)),(319),(false))
	set t=null
endfunction

function Func1945 takes nothing returns boolean
	if GetLearnedSkill()=='A0QQ' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0QQ')==1 then
		call Func1944()
	endif
	return false
endfunction

function Func1946 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func1945))
	set integers146[1]='A2PM'
	set integers146[2]='A2PN'
	set integers146[3]='A2PO'
	set integers146[4]='A2PP'
	set integers146[5]='A2PQ'
	set integers146[6]='A2PJ'
	set integers146[7]='A2PR'
	set integers146[8]='A2PI'
	set integers146[9]='A2PL'
	set integers146[10]='A2PT'
	set integers146[11]='A2Q1'
	set integers146[12]='A2PU'
	set integers146[13]='A2PH'
	set integers146[14]='A2PV'
	set integers146[15]='A2PW'
	set integers146[16]='A2PX'
	set integers146[17]='A2PY'
	set integers146[18]='A2PZ'
	set integers146[19]='A2Q0'
	set integers146[20]='A2PK'
	set integers146[21]='A2PS'
	set integers146[22]='A2TA'
	set integers146[23]='A2TB'
	set integers146[24]='A2TC'
	set t=null
endfunction

function Func1947 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real a=(LoadReal(HY,(h),(137)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local integer id=GetPlayerId(GetOwningPlayer(source))
	local integer Count=GetTriggerEvalCount(t)
	local real IV1=x+150*Count*Cos(a)
	local real IW1=y+150*Count*Sin(a)
	local integer ZA3=6
	if GetUnitAbilityLevel(source,'A0O5')==0 then
		set ZA3=11
	endif
	call IssuePointOrder(units024[id],"flamestrike",IV1,IW1)
	if Count==(ZA3)then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SetUnitAnimation(source,"stand")
	endif
	set t=null
	set source=null
	return false
endfunction

function Func1948 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local real a=Atan2(y-GetUnitY(source),x-GetUnitX(source))
	local integer lvl=GetUnitAbilityLevel(source,'A0O5')
	local integer ZC3='A0OE'
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A1B1')
		set ZC3='A1B2'
	endif
	call RemoveLocation(l)
	call SetUnitAnimation(source,"spell")
	set units024[GetPlayerId(GetOwningPlayer(source))]=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
	call UnitAddAbilityPermanent(units024[GetPlayerId(GetOwningPlayer(source))],ZC3)
	call SetUnitAbilityLevel(units024[GetPlayerId(GetOwningPlayer(source))],ZC3,lvl)
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveUnitHandle(HY,(h),(2),(source))
	if ZC3=='A0OE' then
		call TriggerRegisterTimerEvent(t,0.1,true)
	else
		call TriggerRegisterTimerEvent(t,0.05,true)
	endif
	call TriggerAddCondition(t,Condition(function Func1947))
	set t=null
	set source=null
	set l=null
endfunction

function Func1949 takes nothing returns boolean
	if GetSpellAbilityId()=='A0O5' or GetSpellAbilityId()=='A1B1' then
		call Func1948()
	endif
	return false
endfunction

function Func1950 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1949))
	call Func0125('A0OE')
	set t=null
endfunction

function Func1951 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEvalCount(t)>10 or GetTriggerEventId()==EVENT_UNIT_DEATH then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call UnitRemoveAbility(target,'A1G5')
		call UnitRemoveAbility(target,'A1G3')
		call UnitRemoveAbility(target,'A1G6')
		call UnitRemoveAbility(target,'A1G4')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call DamageTarget(source,target,1,(lvl*4+8)/2)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func1952 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=integer474
	local unit source=unit285
	local unit target=GetEnumUnit()
	if lvl==1 then
		call UnitAddAbilityPermanent(target,'A1G5')
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A1G5',false)
	elseif lvl==2 then
		call UnitAddAbilityPermanent(target,'A1G3')
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A1G3',false)
	elseif lvl==3 then
		call UnitAddAbilityPermanent(target,'A1G6')
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A1G6',false)
	elseif lvl==4 then
		call UnitAddAbilityPermanent(target,'A1G4')
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A1G4',false)
	endif
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\BreathOfFire\\BreathOfFireDamage.mdl",target,"chest")))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(5),(lvl))
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1951))
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",GetUnitX(target),GetUnitY(target)))
	set t=null
	set source=null
	set target=null
endfunction

function Func1953 takes unit source,unit target returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A2VO')
	local real x=GetUnitX(target)
	local real y=GetUnitY(target)
	local group g=GetAvailableGroup()
	local group g2=GetAvailableGroup()
	set integer474=lvl
	set unit285=source
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,x,y,300+25,Condition(function Func0284))
	call GroupEnumUnitsInRange(g2,x,y,300+25,Condition(function Func0270))
	call GroupAddGroup(g2,g)
	call ForGroup(g,function Func1952)
	call KillGroup(g)
	call KillGroup(g2)
	set t=null
	set g=null
	set g2=null
endfunction

function Func1954 takes nothing returns boolean
	if GetUnitAbilityLevel(GetTriggerUnit(),'B0GX')>0 and GetUnitAbilityLevel(GetEventDamageSource(),'A2UM')>0 and(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(2)))==GetEventDamageSource()then
		call UnitRemoveAbility(GetTriggerUnit(),'B0GX')
		call FlushChildHashtable(HY,(GetHandleId(GetTriggeringTrigger())))
		call CleanTrigger(GetTriggeringTrigger())
		call Func1953(GetEventDamageSource(),GetTriggerUnit())
	endif
	return false
endfunction

function Func1955 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local unit target=GetSpellTargetUnit()
	local unit source=GetTriggerUnit()
	call SaveUnitHandle(HY,(GetHandleId(t)),(2),(source))
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func1954))
	set t=null
	set target=null
	set source=null
endfunction

function Func1956 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call IssueImmediateOrder(source,"unpoisonarrows")
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func1957 takes nothing returns boolean
	local unit source=GetTriggerUnit()
	local trigger t
	if GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
		if GetIssuedOrderId()==OrderId("poisonarrows")then
			set t=CreateTrigger()
			call SaveUnitHandle(HY,(GetHandleId(t)),(2),(source))
			call TriggerRegisterTimerEvent(t,0,false)
			call TriggerAddCondition(t,Condition(function Func1956))
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A2UM' then
		call Func1955()
	endif
	return false
endfunction

function Func1958 takes nothing returns nothing
	local trigger t
	if GetUnitAbilityLevel(GetTriggerUnit(),'A2VO')==1 then
		set t=CreateTrigger()
		call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_SPELL_EFFECT)
		call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_ORDER)
		call TriggerAddCondition(t,Condition(function Func1957))
		set t=null
	endif
	if GetUnitAbilityLevel(GetTriggerUnit(),'A2UM')==0 then
		call UnitAddAbilityPermanent(GetTriggerUnit(),'A2UM')
	endif
	call SetUnitAbilityLevel(GetTriggerUnit(),'A2UM',GetUnitAbilityLevel(GetTriggerUnit(),'A2VO'))
endfunction

function Func1959 takes nothing returns boolean
	if GetLearnedSkill()=='A2VO' and IsUnitIllusion(GetTriggerUnit())==false then
		call Func1958()
	endif
	return false
endfunction

function Func1960 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func1959))
	set t=null
endfunction

function Func1961 takes nothing returns nothing
	local unit source=unit286
	local unit target=GetEnumUnit()
	local unit ZK3
	if IsUnitInGroup(target,group009)==false then
		call GroupAddUnit(group009,target)
		call StunTargetIF(source,target,real292)
		call DamageTarget(source,target,1,50)
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",GetUnitX(target),GetUnitY(target)))
	endif
endfunction

function Func1962 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local real x0=(LoadReal(HY,(h),(6)))
	local real y0=(LoadReal(HY,(h),(7)))
	local real a=(LoadReal(HY,(h),(137)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer Count=GetTriggerEvalCount(t)
	local real x
	local real y
	local group g
	local integer i
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	local integer lvl=GetUnitAbilityLevel(source,'A0O6')
	set i=0
	loop
		exitwhen i>10
		set x=x0+100*i*Cos(a*bj_DEGTORAD)
		set y=y0+100*i*Sin(a*bj_DEGTORAD)
		if ModuloInteger(Count,10)==0 then
		endif
		set tt_unit1=source
		set unit286=source
		set group009=PR2
		set real292=(0.6+0.4*lvl)-(Count*0.05)
		set integer475=lvl
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,x,y,150+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func1961)
		call KillGroup(g)
		set i=i+1
	endloop
	if Count==20*(0.6+0.4*lvl)then
		call KillGroup(PR2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set g=null
	set PR2=null
	return false
endfunction

function Func1963 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local real x0=(LoadReal(HY,(h),(6)))
	local real y0=(LoadReal(HY,(h),(7)))
	local real a=(LoadReal(HY,(h),(137)))
	local integer Count=GetTriggerEvalCount(t)
	local real x=x0+100*Count*Cos(a*bj_DEGTORAD)
	local real y=y0+100*Count*Sin(a*bj_DEGTORAD)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A0O6')
	local ubersplat AR1
	local integer i
	if Count<10 then
		call SaveEffectHandle(HY,(h),(609+Count),(AddSpecialEffect("effects\\IcePath.mdx",x,y)))
		set AR1=CreateUbersplat(x,y,"IPTH",255,255,255,255,false,false)
		call SetUbersplatRenderAlways(AR1,true)
		call SaveUbersplatHandle(HY,(h),(760+Count),(AR1))
	endif
	if Count==10 then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,0.05,true)
		call TriggerAddCondition(t,Condition(function Func1962))
		call SaveReal(HY,(h),(6),((x0)*1.0))
		call SaveReal(HY,(h),(7),((y0)*1.0))
		call SaveReal(HY,(h),(137),((a)*1.0))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveGroupHandle(HY,(h),(187),(GetAvailableGroup()))
		call TriggerEvaluate(t)
	elseif Count>=(0.4+0.6+0.4*lvl)/.05 then
		set i=0
		loop
			exitwhen i==10
			call DestroyEffect((LoadEffectHandle(HY,(h),(609+i))))
			call DestroyUbersplat((LoadUbersplatHandle(HY,(h),(760+i))))
			set i=i+1
		endloop
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func1964 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local real a=Func0159(x,y,GetSpellTargetX(),GetSpellTargetY())
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerAddCondition(t,Condition(function Func1963))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveUnitHandle(HY,(h),(2),(source))
	call TriggerEvaluate(t)
	set t=null
	set source=null
endfunction

function Func1965 takes nothing returns boolean
	if GetSpellAbilityId()=='A0O6' then
		call Func1964()
	endif
	return false
endfunction

function Func1966 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1965))
	set t=null
endfunction

function Func1967 takes real x1,real y1,real x2,real y2,real x3,real y3,real x,real y returns boolean
	local real ZR3=(y-y1)*(x2-x1)-(x-x1)*(y2-y1)
	local real ZP3=(y-y3)*(x1-x3)-(x-x3)*(y1-y3)
	local real ZQ3=(y-y2)*(x3-x2)-(x-x2)*(y3-y2)
	return(ZR3*ZP3>0)and(ZQ3*ZP3>0)
endfunction

function Func1968 takes nothing returns boolean
	local real V03=real009
	local real VI3=real010
	local real V13=real011
	local real VO3=real012
	local real V23=real013
	local real V33=real014
	return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and Func1967(V03,VI3,V13,VO3,V23,V33,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
endfunction

function Func1969 takes real V53,real V63,real V73 returns nothing
	local real V83=600
	local real V93=200
	local real VA3=250
	local real VB3=Asin((VA3-V93)/V83)
	local real x=V93/Sin(VB3)
	local real y=(V83+VA3+x)*Tan(VB3)
	local real V03=V63+x*Cos((V53-180)*bj_DEGTORAD)
	local real VI3=V73+x*Sin((V53-180)*bj_DEGTORAD)
	local real V13=(V63+(V83+VA3)*Cos(V53*bj_DEGTORAD))+y*Cos((V53-90)*bj_DEGTORAD)
	local real VO3=(V73+(V83+VA3)*Sin(V53*bj_DEGTORAD))+y*Sin((V53-90)*bj_DEGTORAD)
	local real V23=(V63+(V83+VA3)*Cos(V53*bj_DEGTORAD))+y*Cos((V53+90)*bj_DEGTORAD)
	local real V33=(V73+(V83+VA3)*Sin(V53*bj_DEGTORAD))+y*Sin((V53+90)*bj_DEGTORAD)
	set real009=V03
	set real010=VI3
	set real011=V13
	set real012=VO3
	set real013=V23
	set real014=V33
endfunction

function Func1970 takes nothing returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'e00E',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
	call UnitAddAbilityPermanent(caster,'A2ZE')
	call SetUnitAbilityLevel(caster,'A2ZE',GetUnitAbilityLevel(GetTriggerUnit(),'A0O7'))
	call IssueTargetOrder(caster,"slow",GetEnumUnit())
	set caster=null
endfunction

function Func1971 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local unit caster
	if GetTriggerEvalCount(t)>1 then
		call SetUnitAnimation(Hero,"stand")
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call SetUnitAnimation(Hero,"spell")
		set caster=CreateUnit(p,'e00E',x,y,0)
		call UnitAddAbilityPermanent(caster,'A0OC')
		call SetUnitAbilityLevel(caster,'A0OC',lvl)
		call IssuePointOrder(caster,"breathoffrost",QJI,QKI)
	endif
	set t=null
	set p=null
	set Hero=null
	set caster=null
	return false
endfunction

function Func1972 takes unit u,player p,integer lvl,location l,real x,real y returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SavePlayerHandle(HY,(h),(54),(p))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveReal(HY,(h),(47),((GetLocationX(l))*1.0))
	call SaveReal(HY,(h),(48),((GetLocationY(l))*1.0))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveUnitHandle(HY,(h),(14),(u))
	call TriggerRegisterTimerEvent(t,0.3,true)
	call TriggerAddCondition(t,Condition(function Func1971))
	set t=null
endfunction

function Func1973 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(Hero,'A0O7')
	local real x=GetUnitX(Hero)
	local real y=GetUnitY(Hero)
	local location l
	local unit caster
	local group g=GetAvailableGroup()
	if GetSpellTargetUnit()==null then
		set l=GetSpellTargetLoc()
	else
		set l=GetUnitLoc(GetSpellTargetUnit())
	endif
	call Func1969(bj_RADTODEG*Atan2(GetLocationY(l)-y,GetLocationX(l)-x),x,y)
	call GroupEnumUnitsInRange(g,x,y,2000,Condition(function Func1968))
	call ForGroup(g,function Func1970)
	call KillGroup(g)
	set caster=CreateUnit(GetOwningPlayer(Hero),'e00E',x,y,0)
	call UnitAddAbilityPermanent(caster,'A0OB')
	call SetUnitAbilityLevel(caster,'A0OB',lvl)
	call IssuePointOrder(caster,"breathoffire",GetLocationX(l),GetLocationY(l))
	call Func1972(Hero,GetOwningPlayer(Hero),lvl,l,x+50*Cos(Atan2(GetLocationY(l)-y,GetLocationX(l)-x)),y+50*Sin(Atan2(GetLocationY(l)-y,GetLocationX(l)-x)))
	call RemoveLocation(l)
	set Hero=null
	set l=null
	set g=null
endfunction

function Func1974 takes nothing returns boolean
	if GetSpellAbilityId()=='A0O7' then
		call Func1973()
	endif
	return false
endfunction

function Func1975 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1974))
	call Func0125('A0OB')
	call Func0125('A0OC')
	call Func0125('A2ZE')
	set t=null
endfunction

function Func1976 takes unit Hero,unit target returns nothing
	local real a=GetRandomReal(0,360)
	local real x=GetUnitX(target)+50*Cos(a*bj_DEGTORAD)
	local real y=GetUnitY(target)+50*Sin(a*bj_DEGTORAD)
	local real VZ3=GetRandomReal(200,225)
	if((LoadInteger(HY,(GetHandleId((Hero))),((4256))))==1)==false then
		call SetUnitPosition(Hero,x,y)
	else
		call SetUnitX(Hero,x)
		call SetUnitY(Hero,y)
	endif
	call SetUnitFacing(Hero,bj_RADTODEG*Atan2(GetUnitY(target)-GetUnitY(Hero),GetUnitX(target)-GetUnitX(Hero)))
	call SetUnitAnimation(Hero,"Attack")
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",Hero,"chest"))
	if Func0053(GetOwningPlayer(target))==false and IsUnitType(target,UNIT_TYPE_ANCIENT)==false then
		set VZ3=99999
	endif
	call DamageTarget(Hero,target,2,VZ3)
	if((LoadInteger(HY,(GetHandleId((Hero))),((4256))))==1)==false then
		call IssueTargetOrder(Hero,"attack",target)
	endif
endfunction

function Func1977 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call Func1976(Hero,target)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	set target=null
	return false
endfunction

function Func1978 takes unit Hero returns nothing
	local group g=GetAvailableGroup()
	set tt_unit1=Hero
	call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),450,Condition(function Func0309))
	set tt_unit1=GroupPickRandomUnit(g)
	if tt_unit1!=null then
		call Func1976(Hero,tt_unit1)
	endif
	call KillGroup(g)
	set g=null
endfunction

function Func1979 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local integer VY3=(LoadInteger(HY,(h),(216)))
	local integer VJ3=(LoadInteger(HY,(h),(325)))
	local integer QX2=(LoadInteger(HY,(h),(28)))
	local unit VK3
	if QX2>VY3 then
		call KillUnit(caster)
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A05G',true)
		call SetUnitPathing(Hero,true)
		call SetUnitInvulnerable(Hero,false)
		call SaveInteger(HY,(GetHandleId((Hero))),((4253)),(2))
		call SetUnitVertexColor(Hero,255,255,255,255)
	else
		call SaveInteger(HY,(h),(28),(QX2+1))
		call Func1978(Hero)
		if tt_unit1==null then
			call KillUnit(caster)
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A05G',true)
			call SetUnitPathing(Hero,true)
			call SetUnitInvulnerable(Hero,false)
			call SaveInteger(HY,(GetHandleId((Hero))),((4253)),(2))
			call SetUnitVertexColor(Hero,255,255,255,255)
		endif
	endif
	set t=null
	set Hero=null
	set VK3=null
	set caster=null
	return false
endfunction

function Func1980 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(Hero,'A0M1')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer VJ3=GetUnitAbilityLevel(Hero,'A05G')
	local player p=GetOwningPlayer(Hero)
	local integer VY3=3
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'o00D',GetUnitX(Hero),GetUnitY(Hero),0)
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(Hero,'A1AX')
		if lvl==1 then
			set VY3=6
		elseif lvl==2 then
			set VY3=9
		elseif lvl==3 then
			set VY3=12
		endif
	elseif lvl==2 then
		set VY3=6
	elseif lvl==3 then
		set VY3=9
	endif
	call SetPlayerAbilityAvailable(p,'A05G',false)
	call SetUnitVertexColor(Hero,255,255,255,125)
	call SetUnitPathing(Hero,false)
	call SetUnitInvulnerable(Hero,true)
	call SaveInteger(HY,(GetHandleId((Hero))),((4253)),(1))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(17),(target))
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func1977))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveInteger(HY,(h),(216),(VY3))
	call SaveInteger(HY,(h),(325),(VJ3))
	call SaveInteger(HY,(h),(28),(2))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl",Hero,"weapon")))
	call TriggerRegisterTimerEvent(t,0.4,true)
	call TriggerAddCondition(t,Condition(function Func1979))
	set Hero=null
	set target=null
	set t=null
	set p=null
endfunction

function Func1981 takes nothing returns boolean
	if GetSpellAbilityId()=='A0M1' or GetSpellAbilityId()=='A1AX' then
		call Func1980()
	endif
	return false
endfunction

function Func1982 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call SetUnitAnimationByIndex(source,4)
	set t=null
	set source=null
	return false
endfunction

function Func1983 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.01,false)
	call TriggerAddCondition(t,Condition(function Func1982))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
endfunction

function Func1984 takes nothing returns boolean
	if GetSpellAbilityId()=='A0M1' or GetSpellAbilityId()=='A1AX' then
		call Func1983()
	endif
	return false
endfunction

function Func1985 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1981))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func1984))
	set t=null
endfunction

function Func1986 takes nothing returns nothing
	call DamageTarget(unit287,GetEnumUnit(),1,(60.0+20.0*integer476)*0.25)
endfunction

function Func1987 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer Count=GetTriggerEvalCount(t)
	local group g
	if Count==20 or GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set tt_unit1=source
		set unit287=source
		set integer476=GetUnitAbilityLevel(source,'A05G')
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),275,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func1986)
		call KillGroup(g)
		set g=null
	endif
	set t=null
	set source=null
	return false
endfunction

function Func1988 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.25,true)
	call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1987))
	call SaveUnitHandle(HY,(h),(2),(GetTriggerUnit()))
	call TriggerEvaluate(t)
	call AddTimedKeyToUnit(GetTriggerUnit(),4252,5)
endfunction

function Func1989 takes nothing returns boolean
	if GetSpellAbilityId()=='A05G' then
		call Func1988()
	endif
	return false
endfunction

function Func1990 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1989))
	set t=null
endfunction

function Func1991 takes nothing returns boolean
	return GetUnitTypeId(GetSummonedUnit())=='o00C' or GetUnitTypeId(GetSummonedUnit())=='o01G' or GetUnitTypeId(GetSummonedUnit())=='o01H' or GetUnitTypeId(GetSummonedUnit())=='o01I'
endfunction

function Func1992 takes nothing returns nothing
	call SetUnitAbilityLevelSwapped('A058',GetSummonedUnit(),GetUnitAbilityLevelSwapped('A047',GetSummoningUnit()))
endfunction

function Func1993 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func1991))
	call TriggerAddAction(t,function Func1992)
endfunction

function Func1994 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real x1
	local real y1
	local real x2
	local real y2
	if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetEventDamage()>2 and Func0053(GetOwningPlayer(GetEventDamageSource())))then
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()!=EVENT_UNIT_DAMAGED and GetTriggerEventId()!=EVENT_UNIT_DEATH then
		set x1=GetUnitX(source)
		set y1=GetUnitY(source)
		set x2=GetUnitX(target)
		set y2=GetUnitY(target)
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",x1,y1))
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",x2,y2))
		call AddTimedKeyToUnit(target,4410,1)
		call SetUnitPosition(target,GetUnitX(source),GetUnitY(source))
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func1995 takes nothing returns nothing
	local unit target=GetEnumUnit()
	local real d=Func0141(GetUnitX(target),GetUnitY(target),real294,real295)
	if d<real293 then
		set unit288=GetEnumUnit()
		set real293=d
	endif
	set target=null
endfunction

function Func1996 takes nothing returns nothing
	local unit target=GetSpellTargetUnit()
	local unit source=GetTriggerUnit()
	local trigger t
	local integer h
	local real DC1
	local group g
	if target==null then
		set unit288=null
		set real293=999999
		set real294=GetSpellTargetX()
		set real295=GetSpellTargetY()
		set tt_unit1=source
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,0,0,9999,Condition(function Func0299))
		call GroupRemoveUnit(g,source)
		call ForGroup(g,function Func1995)
		call KillGroup(g)
		set target=unit288
		set g=null
	endif
	if GetSpellAbilityId()=='A10U' then
		set DC1=5
	elseif GetSpellAbilityId()=='A11Y' then
		set DC1=4
	elseif GetSpellAbilityId()=='A11Z' then
		set DC1=3
	elseif GetSpellAbilityId()=='A1N1' then
		set DC1=3
	endif
	if target!=null then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
		call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
		call TriggerRegisterTimerEvent(t,DC1,false)
		call TriggerAddCondition(t,Condition(function Func1994))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",source,"origin")))
		call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",target,"origin")))
	endif
	set target=null
	set source=null
	set t=null
endfunction

function Func1997 takes nothing returns boolean
	if GetSpellAbilityId()=='A10U' or GetSpellAbilityId()=='A11Y' or GetSpellAbilityId()=='A11Z' then
		call Func1996()
	endif
	return false
endfunction

function Func1998 takes nothing returns boolean
	if GetSpellAbilityId()=='A10U' or GetSpellAbilityId()=='A11Y' or GetSpellAbilityId()=='A11Z' then
		if GetSpellTargetUnit()!=null and(LoadBoolean(HY,(GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))),(139)))then
			call InterruptUnit(GetTriggerUnit())
			call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n038'))
		endif
	endif
	return false
endfunction

function Func1999 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1997))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func1998))
	set t=null
endfunction

function Func2000 takes integer lvl returns integer
	if lvl==1 then
		return 'A10Z'
	elseif lvl==2 then
		return 'A111'
	elseif lvl==3 then
		return 'A10Y'
	elseif lvl==4 then
		return 'A110'
	endif
	return 0
endfunction

function Func2001 takes integer lvl returns integer
	if lvl==1 then
		return 'B09M'
	elseif lvl==2 then
		return 'B09N'
	elseif lvl==3 then
		return 'B09O'
	elseif lvl==4 then
		return 'B09L'
	endif
	return 0
endfunction

function Func2002 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real II3=(LoadReal(HY,(h),(23)))
	local real I13=(LoadReal(HY,(h),(24)))
	local real x=GetUnitX(target)
	local real y=GetUnitY(target)
	local real d=SquareRoot((II3-x)*(II3-x)+(I13-y)*(I13-y))
	local real W83=(0.00050)*d*GetUnitState(target,UNIT_STATE_MAX_MANA)
	local integer KO2=GetTriggerEvalCount(t)
	local unit caster
	if Func0091(target) then
		set W83=0
	endif
	if d>300 then
		set W83=0
	endif
	if W83>1 and ModuloInteger(GetTriggerEvalCount(t),3)==0 then
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\WingedSerpentMissile\\WingedSerpentMissile.mdl",target,"chest"))
	endif
	if W83>0 then
		call SetUnitState(target,UNIT_STATE_MANA,GetUnitState(target,UNIT_STATE_MANA)-W83)
	endif
	call SaveReal(HY,(h),(23),((x)*1.0))
	call SaveReal(HY,(h),(24),((y)*1.0))
	if GetTriggerEventId()==EVENT_UNIT_DEATH or KO2==(lvl+4)*10 then
		call UnitRemoveAbility(target,Func2000(lvl))
		call UnitRemoveAbility(target,Func2001(lvl))
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetUnitState(target,UNIT_STATE_MANA)<1 then
		call StunTargetIF((LoadUnitHandle(HY,(h),(2))),target,1+0.5*lvl)
		set caster=null
		call UnitRemoveAbility(target,Func2000(lvl))
		call UnitRemoveAbility(target,Func2001(lvl))
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	return false
endfunction

function Func2003 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A10X')
	call UnitAddAbilityPermanent(target,Func2000(lvl))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveReal(HY,(h),(23),((GetUnitX(target))*1.0))
	call SaveReal(HY,(h),(24),((GetUnitY(target))*1.0))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("effects\\BasicWaterFlash.mdx",target,"chest")))
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func2002))
	set source=null
	set target=null
	set t=null
endfunction

function Func2004 takes nothing returns boolean
	if GetSpellAbilityId()=='A10X' and IsBlocked(GetSpellTargetUnit())==false then
		call Func2003()
	endif
	return false
endfunction

function Func2005 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2004))
	set t=null
endfunction

function Func2006 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group002)==false then
		call GroupAddUnit(group002,GetEnumUnit())
		call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+real009)
	endif
endfunction

function Func2007 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local group g=(LoadGroupHandle(HY,(h),(22)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local group H03
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local integer Count=GetTriggerEvalCount(t)
	local real DX1=1050*0.1
	if Count>19 then
		call KillGroup(g)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set x=x+Count*DX1*Cos(RM2*bj_DEGTORAD)
		set y=y+Count*DX1*Sin(RM2*bj_DEGTORAD)
		set H03=GetAvailableGroup()
		set group002=g
		set tt_unit1=source
		set real009=(50*lvl)*0.75
		call GroupEnumUnitsInRange(H03,x,y,350+25,Condition(function Func0295))
		call ForGroup(H03,function Func2006)
		call KillGroup(H03)
	endif
	set t=null
	set g=null
	set H03=null
	return false
endfunction

function Func2008 takes unit source,real x0,real y0,real x1,real y1,integer T82 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local group g=GetAvailableGroup()
	local real RM2=Func0159(x0,y0,x1,y1)
	call SaveInteger(HY,(h),(5),(T82))
	call SaveGroupHandle(HY,(h),(22),(g))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((x0)*1.0))
	call SaveReal(HY,(h),(7),((y0)*1.0))
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func2007))
	set t=null
	set g=null
endfunction

function Func2009 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit WF3=(LoadUnitHandle(HY,(h),(19)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local integer T82=(LoadInteger(HY,(h),(34)))
	local real WG3=GetUnitX(WF3)-50*Cos(RM2)
	local real WH3=GetUnitY(WF3)-50*Sin(RM2)
	local unit caster=CreateUnit(GetOwningPlayer(WF3),'e00E',WG3,WH3,0)
	local real x=GetUnitX(caster)+50*Cos(RM2)
	local real y=GetUnitY(caster)+50*Sin(RM2)
	local real x2=x+(300+50*T82)*Cos(RM2)
	local real y2=y+(300+50*T82)*Sin(RM2)
	local unit source=Players_Hero[GetPlayerId(GetOwningPlayer(caster))]
	call UnitAddAbilityPermanent(caster,'A087')
	call SetUnitAbilityLevel(caster,'A087',T82)
	call IssuePointOrder(caster,"breathoffire",x,y)
	call KillUnit(WF3)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if source!=null and IsDayTime()and Func0341(source,integers089[integer323])!=null then
		call Func2008(source,WG3,WH3,x,y,T82)
	endif
	set caster=null
	set t=null
	return false
endfunction

function Func2010 takes unit WF3,integer T82,real RM2 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func2009))
	call SaveUnitHandle(HY,(h),(19),(WF3))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveInteger(HY,(h),(34),(T82))
	set t=null
endfunction

function Func2011 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer Count=(LoadInteger(HY,(h),(34)))
	local integer T82=Count-1
	local real RM2=(LoadReal(HY,(h),(13)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer WW3=2+lvl*2
	local boolean WX3=(LoadBoolean(HY,(h),(240)))
	local unit ZK3
	if GetTriggerEventId()!=EVENT_UNIT_SPELL_ENDCAST then
		call SaveInteger(HY,(h),(34),(Count+1))
	endif
	call SetUnitScale(caster,I2R(100+20*T82)/100,I2R(100+20*T82)/100,I2R(100+20*T82)/100)
	if(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and WX3==false)or(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId()=='A121')or T82==WW3 then
		if WX3 then
			set ZK3=(LoadUnitHandle(HY,(h),(239)))
			call ShowUnit(ZK3,false)
			call UnitApplyTimedLife(ZK3,'BTLF',1)
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if(LoadInteger(HY,(GetHandleId(Hero)),(704)))==0 or(LoadInteger(HY,(GetHandleId(Hero)),(704)))=='A085' then
			call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A085',true)
		endif
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A121',false)
		call UnitRemoveAbility(Hero,'A121')
		call Func2010(caster,T82,RM2)
	endif
	set caster=CreateUnit(GetOwningPlayer(caster),'h06M',GetUnitX(caster)+150*(T82)*Cos(RM2),GetUnitY(caster)+150*(T82)*Sin(RM2),0)
	call UnitApplyTimedLife(caster,'BTLF',7)
	set t=null
	set caster=null
	set Hero=null
	set ZK3=null
	return false
endfunction

function Func2012 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	call IssueImmediateOrder(Hero,"stop")
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	return false
endfunction

function Func2013 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real RM2=Atan2(GetLocationY(l)-GetUnitY(Hero),GetLocationX(l)-GetUnitX(Hero))
	local real x
	local real y
	local unit caster
	local unit ZK3
	local boolean WX3=false
	if GetLocationY(l)==GetUnitY(Hero)and GetLocationX(l)==GetUnitX(Hero)then
		set RM2=GetUnitFacing(Hero)*bj_DEGTORAD
	endif
	set x=GetUnitX(Hero)+150*Cos(RM2)
	set y=GetUnitY(Hero)+150*Sin(RM2)
	set caster=CreateUnit(GetOwningPlayer(Hero),'u00J',x,y,RM2*bj_RADTODEG)
	call RemoveLocation(l)
	if GetUnitTypeId(Hero)=='H06X' or GetUnitTypeId(Hero)=='H06Y' or GetUnitTypeId(Hero)=='H06W' then
		set WX3=true
	endif
	call SaveBoolean(HY,(h),(240),(WX3))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveInteger(HY,(h),(34),(1))
	call SaveInteger(HY,(h),(5),(GetUnitAbilityLevel(Hero,'A085')))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_SPELL_ENDCAST)
	call TriggerAddCondition(t,Condition(function Func2011))
	if WX3 then
		set ZK3=CreateUnit(GetOwningPlayer(Hero),'h06Z',GetUnitX(Hero),GetUnitY(Hero),RM2*bj_RADTODEG)
		call SetUnitX(ZK3,GetUnitX(Hero))
		call SetUnitY(ZK3,GetUnitY(Hero))
		call SetUnitAnimation(ZK3,"spell")
		call QueueUnitAnimation(ZK3,"spell")
		call QueueUnitAnimation(ZK3,"spell")
		call SetUnitVertexColor(ZK3,255,255,255,75)
		call SaveUnitHandle(HY,(h),(239),(ZK3))
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,0,false)
		call TriggerAddCondition(t,Condition(function Func2012))
		call SaveUnitHandle(HY,(h),(14),(Hero))
	endif
	call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A085',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A121',true)
	call Func0225(Hero,'A121',1,6)
	set t=null
	set Hero=null
	set caster=null
	set ZK3=null
	set l=null
endfunction

function Func2014 takes nothing returns boolean
	if GetSpellAbilityId()=='A085' then
		call Func2013()
	endif
	return false
endfunction

function Func2015 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2014))
	set t=null
endfunction

function Func2016 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer DC1=(LoadInteger(HY,(h),(188)))
	local integer Count=GetTriggerEvalCount(t)
	if Count==DC1 or GetUnitTypeId(source)=='Hblm' then
		if(LoadReal(HY,(GetHandleId(source)),(241)))<=GetTime()or GetUnitTypeId(source)=='Hblm' then
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A11T',true)
		else
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func2017 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A11T')
	local integer DC1=40
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A11T',false)
	call SaveReal(HY,(GetHandleId(source)),(241),((GetTime()+DC1)*1.0))
	call SaveInteger(HY,(h),(188),(DC1))
	call SaveUnitHandle(HY,(h),(2),(source))
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func2016))
	set t=null
	set source=null
endfunction

function Ignis_Main takes nothing returns boolean
	if GetSpellAbilityId()=='A11T' and GetUnitTypeId(GetTriggerUnit())=='Hblm' then
		call Func2017()
	endif
	return false
endfunction

function Func2018 takes nothing returns nothing
endfunction

function Func2019 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real OA2=(LoadReal(HY,(h),(242)))
	call SetUnitState(target,UNIT_STATE_MANA,GetUnitState(target,UNIT_STATE_MANA)+OA2)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl",target,"origin"))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set target=null
	set t=null
	return false
endfunction

function Func2020 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(242),((75*GetUnitAbilityLevel(Hero,'A112'))*1.0))
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func2019))
	set t=null
	set Hero=null
	set target=null
endfunction

function Func2021 takes nothing returns boolean
	if GetSpellAbilityId()=='A112' then
		call Func2020()
	endif
	return false
endfunction

function Func2022 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2021))
	set t=null
endfunction

function Func2023 takes nothing returns nothing
	local unit target=GetEnumUnit()
	local real x=GetUnitX(target)
	local real y=GetUnitY(target)
	local real a=Atan2(y-real297,x-real296)
	set x=SafeX50(x+25*Cos(a))
	set y=SafeY50(y+25*Sin(a))
	call KillTrees(x,y,150)
	call SetUnitX(target,x)
	call SetUnitY(target,y)
	set target=null
endfunction

function Func2024 takes nothing returns nothing
	local unit target=GetEnumUnit()
	local unit caster=CreateUnit(player005,'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbilityPermanent(caster,'A10W')
	call SetUnitAbilityLevel(caster,'A10W',integer477)
	call IssueTargetOrder(caster,"drunkenhaze",target)
	set target=null
	set caster=null
endfunction

function Func2025 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	local real SourceX=(LoadReal(HY,(h),(189)))
	local real SourceY=(LoadReal(HY,(h),(190)))
	local integer AF1=(LoadInteger(HY,(h),(59)))
	local group g=(LoadGroupHandle(HY,(h),(22)))
	local integer Count=GetTriggerEvalCount(t)
	set real296=SourceX
	set real297=SourceY
	call ForGroup(g,function Func2023)
	if Count==16 then
		if AF1=='A11X' then
			set integer477=1
		elseif AF1=='A11V' then
			set integer477=2
		else
			set integer477=3
		endif
		set player005=p
		call ForGroup(g,function Func2024)
		call KillGroup(g)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set p=null
	set g=null
	return false
endfunction

function Func2026 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	local real SourceX=(LoadReal(HY,(h),(189)))
	local real SourceY=(LoadReal(HY,(h),(190)))
	local integer AF1=(LoadInteger(HY,(h),(59)))
	local group g=(LoadGroupHandle(HY,(h),(22)))
	call CleanTrigger(t)
	call FlushChildHashtable(HY,(h))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.025,true)
	call TriggerAddCondition(t,Condition(function Func2025))
	call SavePlayerHandle(HY,(h),(54),(p))
	call SaveReal(HY,(h),(189),((SourceX)*1.0))
	call SaveReal(HY,(h),(190),((SourceY)*1.0))
	call SaveGroupHandle(HY,(h),(22),(g))
	call SaveInteger(HY,(h),(59),(AF1))
	set t=null
	set p=null
	set g=null
	return false
endfunction

function Func2027 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local group g=GetAvailableGroup()
	local unit source=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	call KillUnit(CreateUnit(GetOwningPlayer(source),'h06P',x,y,0))
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,x,y,700,Condition(function Func0280))
	call TriggerRegisterTimerEvent(t,0.4,false)
	call TriggerAddCondition(t,Condition(function Func2026))
	call SavePlayerHandle(HY,(h),(54),(GetOwningPlayer(GetTriggerUnit())))
	call SaveReal(HY,(h),(189),((x)*1.0))
	call SaveReal(HY,(h),(190),((y)*1.0))
	call SaveGroupHandle(HY,(h),(22),(g))
	call SaveInteger(HY,(h),(59),(GetSpellAbilityId()))
	set t=null
	set g=null
	set source=null
endfunction

function Func2028 takes nothing returns boolean
	if GetSpellAbilityId()=='A11X' or GetSpellAbilityId()=='A11V' or GetSpellAbilityId()=='A11W' then
		call Func2027()
	endif
	return false
endfunction

function Func2029 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2028))
	set t=null
endfunction

function Func2030 takes nothing returns boolean
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit XO3=(LoadUnitHandle(HY,(h),(305)))
	if source==null or IsDead(source)or IsDayTime()==false or Func0341(source,integers089[integer323])==null then
		call ShowUnit(XO3,false)
	else
		call ShowUnit(XO3,true)
		call SetUnitX(XO3,GetUnitX(source))
		call SetUnitY(XO3,GetUnitY(source))
	endif
	if GetOwningPlayer(XO3)!=GetOwningPlayer(source)then
		call SetUnitOwner(XO3,GetOwningPlayer(source),true)
	endif
	return false
endfunction

function Func2031 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2XR')
	local trigger t
	local integer h
	call UnitRemoveAbility(source,'B0AA')
	call UnitRemoveAbility(source,'A11T')
	if GetUnitAbilityLevel(source,'A2KM')==0 then
		call UnitAddAbilityPermanent(source,'A2KM')
	endif
	if lvl==1 then
		call UnitAddAbility(source,'A2X4')
		call UnitRemoveAbility(source,'A2X4')
	elseif lvl==2 then
		call SetUnitAbilityLevel(source,'A2KM',lvl)
		call UnitAddAbility(source,'A2X3')
		call UnitRemoveAbility(source,'A2X3')
		call UnitRemoveAbility(source,'A11X')
		call UnitRemoveAbility(source,'A10U')
		call UnitAddAbilityPermanent(source,'A11V')
		call UnitAddAbilityPermanent(source,'A11Y')
	elseif lvl==3 then
		call SetUnitAbilityLevel(source,'A2KM',lvl)
		call UnitAddAbility(source,'A2X5')
		call UnitRemoveAbility(source,'A2X5')
		call UnitRemoveAbility(source,'A11X')
		call UnitRemoveAbility(source,'A10U')
		call UnitRemoveAbility(source,'A11V')
		call UnitRemoveAbility(source,'A11Y')
		call UnitAddAbilityPermanent(source,'A11W')
		call UnitAddAbilityPermanent(source,'A11Z')
	endif
	if lvl>0 then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,0.2,true)
		call TriggerAddCondition(t,Condition(function Func2030))
		call SaveUnitHandle(HY,(h),(2),(GetTriggerUnit()))
		call SaveUnitHandle(HY,(h),(305),(CreateUnit(GetOwningPlayer(GetTriggerUnit()),'o01A',GetUnitX(source),GetUnitY(source),0)))
		set t=null
	endif
	set source=null
endfunction

function Func2032 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2XQ')
	local trigger t
	local integer h
	if lvl==1 then
		call UnitAddAbilityPermanent(source,'A11T')
	elseif lvl==2 then
		call SetUnitAbilityLevel(source,'A11T',lvl)
	elseif lvl==3 then
		call SetUnitAbilityLevel(source,'A11T',lvl)
	endif
	set source=null
endfunction

function Func2033 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_PLAYER_HERO_SKILL then
		if GetLearnedSkill()=='A2XR' and IsUnitIllusion(GetTriggerUnit())==false then
			call Func2031()
		endif
		if GetLearnedSkill()=='A2XQ' and IsUnitIllusion(GetTriggerUnit())==false then
			call Func2032()
		endif
	else
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM and GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and Func0346(GetManipulatedItem())==integer323 then
			call Func2031()
		endif
	endif
	return false
endfunction

function Func2034 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t,Condition(function Func2033))
	set t=null
endfunction

function Func2035 takes unit Hero,integer lvl returns integer
	local integer X63
	local integer X73
	if lvl==1 then
		set X73='B0B1'
		set X63='A18Z'
		if GetUnitAbilityLevel(Hero,X73)>0 then
			call UnitRemoveAbility(Hero,X73)
			return X63
		endif
		set X73='B0B0'
		set X63='A19J'
		if GetUnitAbilityLevel(Hero,X73)>0 then
			call UnitRemoveAbility(Hero,X73)
			return X63
		endif
		set X73='B0AY'
		set X63='A19J'
		if GetUnitAbilityLevel(Hero,X73)>0 then
			call UnitRemoveAbility(Hero,X73)
			return X63
		endif
		return 'A18Y'
	elseif lvl==2 then
		set X73='B0B8'
		set X63='A19H'
		if GetUnitAbilityLevel(Hero,X73)>0 then
			call UnitRemoveAbility(Hero,X73)
			return X63
		endif
		set X73='B0B7'
		set X63='A19G'
		if GetUnitAbilityLevel(Hero,X73)>0 then
			call UnitRemoveAbility(Hero,X73)
			return X63
		endif
		set X73='B0B2'
		set X63='A19G'
		if GetUnitAbilityLevel(Hero,X73)>0 then
			call UnitRemoveAbility(Hero,X73)
			return X63
		endif
		return 'A19I'
	elseif lvl==3 then
		set X73='B0B3'
		set X63='A19E'
		if GetUnitAbilityLevel(Hero,X73)>0 then
			call UnitRemoveAbility(Hero,X73)
			return X63
		endif
		set X73='B0B9'
		set X63='A19D'
		if GetUnitAbilityLevel(Hero,X73)>0 then
			call UnitRemoveAbility(Hero,X73)
			return X63
		endif
		set X73='B0B6'
		set X63='A19D'
		if GetUnitAbilityLevel(Hero,X73)>0 then
			call UnitRemoveAbility(Hero,X73)
			return X63
		endif
		return 'A19K'
	elseif lvl==4 then
		set X73='B0B5'
		set X63='A196'
		if GetUnitAbilityLevel(Hero,X73)>0 then
			call UnitRemoveAbility(Hero,X73)
			return X63
		endif
		set X73='B0B4'
		set X63='A195'
		if GetUnitAbilityLevel(Hero,X73)>0 then
			call UnitRemoveAbility(Hero,X73)
			return X63
		endif
		set X73='B0BA'
		set X63='A195'
		if GetUnitAbilityLevel(Hero,X73)>0 then
			call UnitRemoveAbility(Hero,X73)
			return X63
		endif
		return 'A19L'
	endif
	return 0
endfunction

function Func2036 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(Hero,'A18X')
	local integer X93=Func2035(Hero,lvl)
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e00E',GetUnitX(Hero),GetUnitY(Hero),0)
	call UnitAddAbilityPermanent(caster,X93)
	call IssueTargetOrder(caster,"bloodlust",Hero)
	set Hero=null
	set caster=null
endfunction

function Func2037 takes nothing returns boolean
	if GetSpellAbilityId()=='A01F' or GetSpellAbilityId()=='A027' or GetSpellAbilityId()=='A01P' or GetSpellAbilityId()=='A09Z' then
		call Func2036()
	endif
	return false
endfunction

function Func2038 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2037))
	set t=null
	set Hero=null
endfunction

function Func2039 takes nothing returns boolean
	if GetLearnedSkill()=='A18X' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A18X')==1 then
		call Func2038()
	endif
	return false
endfunction

function Func2040 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2039))
	set t=null
endfunction

function Func2041 takes nothing returns nothing
	local integer lvl=GetUnitAbilityLevel(GetTriggerUnit(),'A09Z')
	local real dmg
	if lvl==1 then
		set dmg=450
	elseif lvl==2 then
		set dmg=675
	elseif lvl==3 then
		set dmg=950
	endif
	call DamageTarget(GetTriggerUnit(),GetSpellTargetUnit(),7,dmg)
endfunction

function Func2042 takes nothing returns boolean
	if(GetSpellAbilityId()=='A09Z')and IsBlocked(GetSpellTargetUnit())==false then
		call Func2041()
	endif
	return false
endfunction

function Func2043 takes nothing returns boolean
	if(GetSpellAbilityId()=='A01P')and Func0091(GetSpellTargetUnit())then
		call InterruptUnit(GetTriggerUnit())
		call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0LR'))
	endif
	return false
endfunction

function Func2044 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func2043))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2042))
	set t=null
endfunction

function Func2045 takes nothing returns boolean
	if GetLearnedSkill()=='A041' then
		if GetUnitAbilityLevel(GetTriggerUnit(),'A041')==4 then
			call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),'Remg',6)
		else
			call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),'Remg',GetUnitAbilityLevel(GetTriggerUnit(),'A041'))
		endif
	elseif GetLearnedSkill()=='A062' then
		call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),'R00I',1)
	endif
	return false
endfunction

function Func2046 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2045))
	set t=null
endfunction

function Func2047 takes nothing returns boolean
	if(GetUnitTypeId((GetFilterUnit()))=='u009')or(Func0091(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1))and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))then
		if(LoadInteger(HY,(integer478),(GetHandleId(GetFilterUnit()))))<integer022 then
			return true
		endif
	endif
	return false
endfunction

function Func2048 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer XV3=(LoadInteger(HY,(h),(217)))
	local integer VY3=(LoadInteger(HY,(h),(216)))
	local integer XW3=(LoadInteger(HY,(h),(218)))
	local group g=GetAvailableGroup()
	local real x=GetUnitX(Hero)
	local real y=GetUnitY(Hero)
	local unit target
	local real r1=GetRandomInt(200,350)
	local real r2=GetRandomInt(200,350)
	if GetRandomInt(1,2)==1 then
		set r1=-1*r1
		set r2=-1*r2
	endif
	set tt_unit1=Hero
	set integer022=XW3
	set integer478=GetHandleId(t)
	call GroupEnumUnitsInRange(g,x,y,700,Condition(function Func2047))
	set target=GroupPickRandomUnit(g)
	call KillGroup(g)
	if IsDead(Hero)==false and target!=null and(GetUnitTypeId((target))=='u009')==false then
		call SaveInteger(HY,(integer478),(GetHandleId(target)),((LoadInteger(HY,(integer478),(GetHandleId(target))))+1))
		call Func0152("effects\\Eclipse.mdx",target,"origin",3)
		call DamageTarget(Hero,target,1,XV3*75)
	elseif IsDead(Hero)==false then
		set x=x+GetRandomInt(-350,350)
		set y=y+GetRandomInt(-350,350)
		call Func0154("effects\\Eclipse.mdx",x,y,1.5)
	endif
	if(GetTriggerEvalCount(t)+1)==VY3 or IsDead(Hero) then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set Hero=null
	set g=null
	set target=null
	return false
endfunction

function Func2049 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer VY3
	local integer XV3=GetUnitAbilityLevel(Hero,'A042')
	local integer XW3
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e00E',GetUnitX(Hero),GetUnitY(Hero),0)
	if XV3==0 and GetUnitTypeId(Hero)!='E005' then
		set XV3=4
	endif
	call UnitAddAbilityPermanent(caster,'A1T6')
	if GetSpellAbilityId()=='A054' then
		set VY3=2+3*GetUnitAbilityLevel(Hero,'A054')
		set XW3=4
	else
		set VY3=2+4*GetUnitAbilityLevel(Hero,'A00U')
		set XW3=60
	endif
	call SaveInteger(HY,(h),(217),(XV3))
	call SaveInteger(HY,(h),(216),(VY3))
	call SaveInteger(HY,(h),(218),(XW3))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call TriggerRegisterTimerEvent(t,0.6,true)
	call TriggerAddCondition(t,Condition(function Func2048))
	call TriggerEvaluate(t)
	call IssueImmediateOrderById(caster,852621)
	set t=null
	set Hero=null
	set caster=null
endfunction

function Func2050 takes nothing returns boolean
	if GetSpellAbilityId()=='A054' or GetSpellAbilityId()=='A00U' then
		call Func2049()
	endif
	return false
endfunction

function Func2051 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2050))
	set t=null
endfunction

function Func2052 takes nothing returns nothing
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl",GetEnumUnit(),"origin"))
endfunction

function Func2053 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call DamageTarget(Hero,target,1,0.75*GetUnitAbilityLevel(Hero,'A0KV')*75)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	set target=null
	return false
endfunction

function Func2054 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local group g
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if IsDead(target)then
		set g=GetAvailableGroup()
		set tt_unit1=Hero
		call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),175+25,Condition(function Func0274))
		set target=GroupPickRandomUnit(g)
		call KillGroup(g)
		set g=null
	endif
	call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl",target,"origin"))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(17),(target))
	call TriggerRegisterTimerEvent(t,0.5,false)
	call TriggerAddCondition(t,Condition(function Func2053))
	set t=null
	set Hero=null
	set target=null
	return false
endfunction

function Func2055 takes nothing returns nothing
	call DamageTarget(unit289,GetEnumUnit(),1,real298)
endfunction

function Func2056 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local group g=(LoadGroupHandle(HY,(h),(22)))
	set real298=GetUnitAbilityLevel(Hero,'A0KV')*75
	set unit289=Hero
	call ForGroup(g,function Func2055)
	call KillGroup(g)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	set g=null
	return false
endfunction

function Func2057 takes nothing returns nothing
	local real QWI=Func0139(GetTriggerUnit(),GetEnumUnit())
	if QWI>650 then
	else
		call GroupAddUnit(group002,GetEnumUnit())
	endif
endfunction

function Func2058 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	local group g=GetAvailableGroup()
	local unit target
	set tt_unit1=Hero
	set unit289=Hero
	set group002=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),900,Condition(function Func0274))
	call ForGroup(g,function Func2057)
	call KillGroup(g)
	set g=group002
	call ForGroup(g,function Func2052)
	call SaveGroupHandle(HY,(h),(22),(g))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call TriggerRegisterTimerEvent(t,0.5,false)
	call TriggerAddCondition(t,Condition(function Func2056))
	set unit289=Hero
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),175+25,Condition(function Func0274))
	set target=GroupPickRandomUnit(g)
	call KillGroup(g)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallCaster.mdl",Hero,"origin")))
	call TriggerRegisterTimerEvent(t,1,false)
	call TriggerAddCondition(t,Condition(function Func2054))
	set t=null
	set g=null
	set Hero=null
	set target=null
endfunction

function Func2059 takes nothing returns boolean
	if GetSpellAbilityId()=='A0KV' then
		call Func2058()
	endif
	return false
endfunction

function Func2060 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2059))
	set t=null
endfunction

constant function MoonlightShadow_RawCode takes nothing returns integer
	return 'A0KU'
endfunction

constant function MoonlightShadow_InvisibilityAbility takes nothing returns integer
	return 'A0KT'
endfunction

function Func2061 takes nothing returns boolean
	return GetSpellAbilityId()==('A0KU')
endfunction

function Func2062 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction

function Func2063 takes nothing returns nothing
	call UnitAddAbilityPermanent(GetEnumUnit(),('A0KT'))
	call SetUnitAbilityLevel(GetEnumUnit(),('A0KT'),integer011)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Invisibility\\InvisibilityTarget.mdl",GetEnumUnit(),"chest"))
endfunction

function Func2064 takes nothing returns nothing
	call UnitRemoveAbility(GetEnumUnit(),('A0KT'))
endfunction

function Func2065 takes nothing returns nothing
	local timer t=GetExpiredTimer()
	local integer h=GetHandleId(t)
	local group Z51=(LoadGroupHandle(HY,(h),(220)))
	call ForGroup(Z51,function Func2064)
	call KillGroup(Z51)
	call Func0156(t)
endfunction

function Func2066 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local group Z51=GetAvailableGroup()
	local timer t=CreateTimer()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(Hero,('A0KU'))
	local real DC1=15
	set integer011=lvl
	call GroupEnumUnitsInRange(Z51,0,0,9999,Condition(function Func2062))
	call ForGroup(Z51,function Func2063)
	call SaveGroupHandle(HY,(h),(220),(Z51))
	call TimerStart(t,DC1,false,function Func2065)
endfunction

function Func2067 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2061))
	call TriggerAddAction(t,function Func2066)
endfunction

constant function Leap_RawCode takes nothing returns integer
	return 'A0LN'
endfunction

constant function Leap_BonusCode takes nothing returns integer
	return 'A0LO'
endfunction

function Func2068 takes nothing returns boolean
	return GetSpellAbilityId()==('A0LN')
endfunction

function Func2069 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(unit002))
endfunction

function Func2070 takes nothing returns nothing
	local unit Hero=GetEnumUnit()
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e01R',0,0,0)
	call UnitAddAbilityPermanent(caster,('A0LO'))
	call SetUnitAbilityLevel(caster,('A0LO'),GetUnitAbilityLevel(unit002,('A0LN')))
	call UnitApplyTimedLife(caster,'BTLF',10)
endfunction

function Func2071 takes unit Hero returns nothing
	local group Z51=GetAvailableGroup()
	set unit002=Hero
	call GroupEnumUnitsInRange(Z51,GetUnitX(Hero),GetUnitY(Hero),800,Condition(function Func2069))
	call ForGroup(Z51,function Func2070)
	call KillGroup(Z51)
endfunction

function Func2072 takes unit Hero returns nothing
	local integer h=GetHandleId(Hero)
	local string Y63=(LoadStr(HY,(h),(206)))
	local string Y73=OrderId2String((LoadInteger(HY,(h),(211))))
	local real QJI
	local real QKI
	local unit target
	local trigger t=(LoadTriggerHandle(HY,(h),(204)))
	local boolean Y83=not(LoadBoolean(HY,(h),(207)))
	local boolean Y93=(LoadBoolean(HY,(h),(208)))
	call DisableTrigger(t)
	call IssueImmediateOrder(Hero,"stop")
	if Y63=="Target"and(Y83 or Y93)then
		set target=(LoadUnitHandle(HY,(h),(215)))
		call IssueTargetOrder(Hero,Y73,target)
	elseif Y63=="Point"and(Y83 or Y93)then
		set QJI=(LoadReal(HY,(h),(209)))
		set QKI=(LoadReal(HY,(h),(210)))
		call IssuePointOrder(Hero,Y73,QJI,QKI)
	elseif(Y83 or Y93)then
		call IssueImmediateOrder(Hero,"OrderString")
	endif
	call SaveBoolean(HY,(h),(208),(false))
	call EnableTrigger(t)
endfunction

function Func2073 takes nothing returns nothing
	local timer t=GetExpiredTimer()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real YB3=(LoadReal(HY,(h),(212)))
	local real YC3=(LoadReal(HY,(h),(213)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local real IV1=GetUnitX(Hero)+40*Cos(RM2*bj_DEGTORAD)
	local real IW1=GetUnitY(Hero)+40*Sin(RM2*bj_DEGTORAD)
	local real YD3=200
	local real YE3=(1-YB3/YC3)*YD3*2
	if YE3>YD3 then
		set YE3=YD3*2-YE3
	endif
	call SetUnitFlyHeight(Hero,Func0134(YE3,0),0)
	call SetUnitX(Hero,SafeX50(IV1))
	call SetUnitY(Hero,SafeY50(IW1))
	call SetUnitFacing(Hero,RM2)
	call SaveReal(HY,(h),(212),((YB3-40)*1.0))
	if YE3<1 and YB3-YC3!=0 then
		call SaveBoolean(HY,(GetHandleId(Hero)),(214),(false))
		call SetUnitFacing(Hero,RM2)
		call SetUnitAnimation(Hero,"stand")
		call SetUnitPathing(Hero,true)
		call Func2072(Hero)
		call PauseTimer(t)
		call FlushChildHashtable(HY,(h))
		call DestroyTimer(t)
	endif
endfunction

function Func2074 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(Hero,('A0LN'))
	local real QWI=500+100*lvl
	local real RM2=GetUnitFacing(Hero)
	local real SourceX=GetUnitX(Hero)
	local real SourceY=GetUnitY(Hero)
	local real QJI=SafeX50(SourceX+QWI*Cos(RM2*bj_DEGTORAD))
	local real QKI=SafeY50(SourceY+QWI*Sin(RM2*bj_DEGTORAD))
	local timer t=CreateTimer()
	local integer h=GetHandleId(t)
	local trigger YG3=(LoadTriggerHandle(HY,(GetHandleId(Hero)),(204)))
	set QWI=SquareRoot((SourceX-QJI)*(SourceX-QJI)+(SourceY-QKI)*(SourceY-QKI))
	call Func2071(Hero)
	if QWI>100 then
		call UnitAddAbilityPermanent(Hero,'Amrf')
		call UnitRemoveAbility(Hero,'Amrf')
		call SetUnitPathing(Hero,false)
		call SetUnitAnimationByIndex(Hero,6)
		call DisableTrigger(YG3)
		call IssueImmediateOrder(Hero,"stop")
		call EnableTrigger(YG3)
		call SaveReal(HY,(h),(212),((QWI)*1.0))
		call SaveReal(HY,(h),(213),((QWI)*1.0))
		call SaveReal(HY,(h),(13),((RM2)*1.0))
		call SaveUnitHandle(HY,(h),(14),(Hero))
		call TimerStart(t,0.025,true,function Func2073)
		call SaveBoolean(HY,(GetHandleId(Hero)),(214),(true))
		call SaveBoolean(HY,(GetHandleId(Hero)),(208),(false))
	endif
endfunction

function Func2075 takes nothing returns boolean
	return OrderId2String(GetIssuedOrderId())!="windwalk"
endfunction

function Func2076 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local integer h=GetHandleId(Hero)
	local boolean YV3=(LoadBoolean(HY,(h),(214)))
	call SaveInteger(HY,(h),(211),(GetIssuedOrderId()))
	call SaveBoolean(HY,(h),(207),(false))
	if GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER then
	elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER then
		if YV3 or Func0157(GetUnitX(Hero),GetUnitY(Hero),GetOrderPointX(),GetOrderPointY())>800 then
			call SaveStr(HY,(h),(206),("Point"))
			call SaveReal(HY,(h),(209),((GetOrderPointX())*1.0))
			call SaveReal(HY,(h),(210),((GetOrderPointY())*1.0))
		else
			call SaveBoolean(HY,(h),(207),(true))
		endif
	else
		call SaveStr(HY,(h),(206),("Instant"))
	endif
	if YV3 then
		call SaveBoolean(HY,(h),(208),(true))
	endif
endfunction

function Func2077 takes nothing returns nothing
	local unit Hero=(LoadUnitHandle(HY,(GetHandleId(GetExpiredTimer())),(14)))
	local integer h=GetHandleId(Hero)
	local real x=GetUnitX(Hero)
	local real y=GetUnitY(Hero)
	local string Y63=(LoadStr(HY,(h),(206)))
	if Y63=="Point"and Func0157(GetUnitX(Hero),GetUnitY(Hero),(LoadReal(HY,(h),(209))),(LoadReal(HY,(h),(210))))<100 then
		call SaveBoolean(HY,(h),(207),(true))
	endif
endfunction

function Func2078 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local timer t2
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_ISSUED_TARGET_ORDER)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_ISSUED_POINT_ORDER)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_ISSUED_ORDER)
	call TriggerAddAction(t,function Func2076)
	call TriggerAddCondition(t,Condition(function Func2075))
	call SaveTriggerHandle(HY,(GetHandleId(Hero)),(204),(t))
	set t2=CreateTimer()
	call SaveUnitHandle(HY,(GetHandleId(t2)),(14),(Hero))
	call TimerStart(t2,0.3,true,function Func2077)
	call SaveTimerHandle(HY,(GetHandleId(Hero)),(205),(t2))
endfunction

function Func2079 takes nothing returns nothing
	if GetUnitAbilityLevel(GetTriggerUnit(),('A0LN'))==1 then
		call Func2078()
	endif
endfunction

function Func2080 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2068))
	call TriggerAddAction(t,function Func2074)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddAction(t,function Func2079)
endfunction

constant function ElunesArrow_RawCode takes nothing returns integer
	return 'A0L8'
endfunction

constant function ElunesArrow_ArrowUnit takes nothing returns integer
	return 'h005'
endfunction

constant function ElunesArrow_StunCode takes nothing returns integer
	return 'A0L7'
endfunction

function Func2081 takes nothing returns boolean
	return GetSpellAbilityId()==('A0L8')
endfunction

function Func2082 takes nothing returns boolean
	return GetUnitAbilityLevel(GetFilterUnit(),'A1RB')==0 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(unit002))and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false
endfunction

function Func2083 takes real BA3,real BB3,real SourceX,real SourceY returns integer
	local real QWI=SquareRoot((SourceX-BA3)*(SourceX-BA3)+(SourceY-BB3)*(SourceY-BB3))
	return Func0130(R2I(QWI/150),11)
endfunction

function Func2084 takes nothing returns nothing
	local timer t=GetExpiredTimer()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local real SourceX=GetUnitX(IG1)
	local real SourceY=GetUnitY(IG1)
	local real IV1=SafeX50(GetUnitX(IG1)+30*Cos(RM2))
	local real IW1=SafeY50(GetUnitY(IG1)+30*Sin(RM2))
	local boolexpr QL1=Condition(function Func2082)
	local group Z51=GetAvailableGroup()
	local unit caster
	local unit target
	local real BA3
	local real BB3
	call SetUnitX(IG1,IV1)
	call SetUnitY(IG1,IW1)
	set unit002=Hero
	call GroupEnumUnitsInRange(Z51,IV1,IW1,140,QL1)
	set target=FirstOfGroup(Z51)
	call KillGroup(Z51)
	if target!=null then
		if IsUnitType(target,UNIT_TYPE_HERO) then
			set integers147[GetPlayerId(GetOwningPlayer(Hero))]=integers147[GetPlayerId(GetOwningPlayer(Hero))]+1
			call Traffic_RegisterData("AA_Hits"+I2S(GetPlayerId(GetOwningPlayer(Hero))),integers147[GetPlayerId(GetOwningPlayer(Hero))])
		endif
		set BA3=(LoadReal(HY,(h),(191)))
		set BB3=(LoadReal(HY,(h),(192)))
		set caster=CreateUnit(GetOwningPlayer(target),'e00E',SourceX,SourceY,0)
		call UnitAddAbilityPermanent(caster,('A0L7'))
		call SetUnitAbilityLevel(caster,('A0L7'),Func2083(BA3,BB3,SourceX,SourceY))
		if IssueTargetOrder(caster,"thunderbolt",target)then
		endif
		call UnitDamageTarget(Hero,target,90*GetUnitAbilityLevel(Hero,('A0L8'))-40+(Func2083(BA3,BB3,SourceX,SourceY)-1)*14,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
		call KillUnit(IG1)
		call Func0156(t)
	elseif(IV1-QJI)*(IV1-QJI)+(IW1-QKI)*(IW1-QKI)<1600 then
		call KillUnit(IG1)
		call Func0156(t)
	endif
endfunction

function Func2085 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local real SourceX=SafeX50(GetUnitX(Hero))
	local real SourceY=SafeY50(GetUnitY(Hero))
	local location AM3=GetSpellTargetLoc()
	local real QJI=GetLocationX(AM3)
	local real QKI=GetLocationY(AM3)
	local real RM2=Atan2(QKI-SourceY,QJI-SourceX)
	local timer t=CreateTimer()
	local integer h=GetHandleId(t)
	local unit IG1=CreateUnit(GetOwningPlayer(Hero),('h005'),SourceX,SourceY,RM2*bj_RADTODEG)
	set integers148[GetPlayerId(GetOwningPlayer(Hero))]=integers148[GetPlayerId(GetOwningPlayer(Hero))]+1
	call Traffic_RegisterData("AA_Total"+I2S(GetPlayerId(GetOwningPlayer(Hero))),integers148[GetPlayerId(GetOwningPlayer(Hero))])
	call RemoveLocation(AM3)
	call SetUnitFacing(IG1,RM2*bj_RADTODEG)
	call SetUnitPathing(IG1,false)
	set QJI=SafeX50(SourceX+3000*Cos(RM2))
	set QKI=SafeY50(SourceY+3000*Sin(RM2))
	call SaveReal(HY,(h),(191),((SourceX)*1.0))
	call SaveReal(HY,(h),(192),((SourceY)*1.0))
	call SaveReal(HY,(h),(47),((QJI)*1.0))
	call SaveReal(HY,(h),(48),((QKI)*1.0))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call TimerStart(t,0.035,true,function Func2084)
endfunction

function Func2086 takes nothing returns boolean
	local integer YT3=integers147[GetPlayerId(GetTriggerPlayer())]
	local integer QHI=integers148[GetPlayerId(GetTriggerPlayer())]
	if GetUnitTypeId(Players_Hero[GetPlayerId(GetTriggerPlayer())])=='N01V' and QHI>0 then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,GetObjectName('n0GM')+" "+R2S(I2R(YT3)/I2R(QHI)*100)+"% ("+I2S(YT3)+"/"+I2S(QHI)+")")
	endif
	return false
endfunction

function Func2087 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2081))
	call TriggerAddAction(t,function Func2085)
	call Func0125(('A0L7'))
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-st",true)
	call TriggerAddCondition(t,Condition(function Func2086))
	set t=null
endfunction

function Func2088 takes nothing returns boolean
	return GetSpellAbilityId()=='A0FN'
endfunction

function Func2089 takes nothing returns boolean
	local unit YQ3=GetFilterUnit()
	if IsUnitInGroup(YQ3,group001)then
		return false
	endif
	if IsUnitEnemy(YQ3,GetOwningPlayer(unit002))and GetUnitAbilityLevel(YQ3,'A04R')!=1 and GetUnitState(YQ3,UNIT_STATE_LIFE)>0 and IsUnitType(YQ3,UNIT_TYPE_STRUCTURE)==false then
		return true
	endif
	return false
endfunction

function Func2090 takes nothing returns nothing
	call UnitDamageTarget(unit002,GetEnumUnit(),real002,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endfunction

function Func2091 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit PKI=(LoadUnitHandle(HY,(h),(221)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local integer BQO=(LoadInteger(HY,(h),(194)))
	local group JAO=(LoadGroupHandle(HY,(h),(133)))
	local real IO3=GetUnitX(PKI)
	local real I23=GetUnitY(PKI)
	local real II3=(LoadReal(HY,(h),(23)))
	local real I13=(LoadReal(HY,(h),(24)))
	local real IV1=II3+1000*0.05*Cos(RM2)
	local real IW1=I13+1000*0.05*Sin(RM2)
	local group Z51
	local unit ZK3=(LoadUnitHandle(HY,(h),(239)))
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A0GC' or GetSpellAbilityId()==0 then
			call RemoveUnit(ZK3)
			call SetUnitVertexColor(PKI,255,255,255,255)
			call SaveBoolean(HY,(GetHandleId(PKI)),(225),(false))
			call SetUnitInvulnerable(PKI,false)
			call SetUnitPathing(PKI,true)
			call KillGroup(JAO)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
		return false
	endif
	set Z51=GetAvailableGroup()
	call SaveReal(HY,(h),(23),((IV1)*1.0))
	call SaveReal(HY,(h),(24),((IW1)*1.0))
	set unit002=PKI
	set real002=GetUnitAbilityLevel(PKI,'A0FN')*75+25
	set group001=JAO
	call GroupEnumUnitsInRange(Z51,IO3,I23,200+25,Condition(function Func2089))
	call ForGroup(Z51,function Func2090)
	call GroupAddGroup(Z51,JAO)
	call KillGroup(Z51)
	set BQO=BQO-1
	call SaveInteger(HY,(h),(194),(BQO))
	call SetUnitX(PKI,SafeX50(IV1))
	call SetUnitY(PKI,SafeY50(IW1))
	call SetUnitX(ZK3,GetUnitX(PKI))
	call SetUnitY(ZK3,GetUnitY(PKI))
	call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",IO3,I23))
	if BQO==0 then
		call RemoveUnit(ZK3)
		call SetUnitVertexColor(PKI,255,255,255,255)
		call SaveBoolean(HY,(GetHandleId(PKI)),(225),(false))
		call SetUnitInvulnerable(PKI,false)
		call SetUnitPathing(PKI,true)
		call KillGroup(JAO)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set PKI=null
	set JAO=null
	set Z51=null
	set t=null
	return false
endfunction

function Func2092 takes nothing returns nothing
	local unit PKI=GetTriggerUnit()
	local real SourceX=GetUnitX(PKI)
	local real SourceY=GetUnitY(PKI)
	local location AM3=GetSpellTargetLoc()
	local real QJI=GetLocationX(AM3)
	local real QKI=GetLocationY(AM3)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local group JAO=GetAvailableGroup()
	local integer pid=GetPlayerId(GetOwningPlayer(PKI))
	local unit ZK3=CreateUnit(GetOwningPlayer(PKI),'e00E',SourceX,SourceY,0)
	call RemoveLocation(AM3)
	if GetSpellTargetUnit()!=null then
		set QJI=GetUnitX(GetSpellTargetUnit())
		set QKI=GetUnitY(GetSpellTargetUnit())
	endif
	call SetUnitVertexColor(PKI,255,255,255,0)
	call SaveBoolean(HY,(GetHandleId(PKI)),(225),(true))
	call SetUnitInvulnerable(PKI,true)
	call SetUnitPathing(PKI,false)
	call SaveUnitHandle(HY,(h),(221),(PKI))
	call SaveReal(HY,(h),(23),((SourceX)*1.0))
	call SaveReal(HY,(h),(24),((SourceY)*1.0))
	call SaveGroupHandle(HY,(h),(133),(JAO))
	call SaveReal(HY,(h),(13),((Atan2(QKI-SourceY,QJI-SourceX))*1.0))
	call SaveInteger(HY,(h),(194),(Func0131(R2I(SquareRoot((QJI-SourceX)*(QJI-SourceX)+(QKI-SourceY)*(QKI-SourceY))/50),1)))
	call SaveUnitHandle(HY,(h),(239),(ZK3))
	call TriggerRegisterTimerEvent(t,0.04,true)
	call TriggerRegisterUnitEvent(t,PKI,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2091))
	call ShowUnit(PKI,false)
	call ShowUnit(PKI,true)
	call SelectUnitAddForPlayer(PKI,GetOwningPlayer(PKI))
	set t=null
endfunction

function Func2093 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2088))
	call TriggerAddAction(t,function Func2092)
endfunction

constant function ReplicateAbilityId takes nothing returns integer
	return 'A0G8'
endfunction

constant function ReplicateMorphAbilityId takes nothing returns integer
	return 'A0GC'
endfunction

constant function ReplicateMorphBuffId takes nothing returns integer
	return 'B030'
endfunction

function Func2094 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer Count=(LoadInteger(HY,(h),(34)))-1
	local texttag tt
	call SaveInteger(HY,(h),(34),(Count))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set tt=CreateTextTag()
		call SetTextTagText(tt,I2S(Count),0.03)
		call SetTextTagPosUnit(tt,source,0)
		call SetTextTagColorBJ(tt,0,29,255,15)
		call SetTextTagVelocity(tt,0,0.035)
		call SetTextTagFadepoint(tt,3)
		call SetTextTagLifespan(tt,0.9)
		call SetTextTagPermanent(tt,false)
		call SetTextTagVisibility(tt,false)
		if GetOwningPlayer(source)==GetLocalPlayer()then
			call SetTextTagVisibility(tt,true)
		endif
		set tt=CreateTextTag()
		call SetTextTagText(tt,I2S(Count),0.03)
		call SetTextTagPosUnit(tt,target,0)
		call SetTextTagColorBJ(tt,0,29,255,15)
		call SetTextTagVelocity(tt,0,0.035)
		call SetTextTagFadepoint(tt,3)
		call SetTextTagLifespan(tt,0.9)
		call SetTextTagPermanent(tt,false)
		call SetTextTagVisibility(tt,false)
		if GetOwningPlayer(source)==GetLocalPlayer()then
			call SetTextTagVisibility(tt,true)
		endif
	endif
	set t=null
	set tt=null
	set source=null
	set target=null
	return false
endfunction

function Func2095 takes nothing returns nothing
	local trigger t=GetTriggeringTrigger()
	local unit Hero=(LoadUnitHandle(HY,(GetHandleId(t)),(14)))
	local unit J23=(LoadUnitHandle(HY,(GetHandleId(Hero)),(229)))
	call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",GetUnitX(J23),GetUnitY(J23)))
	call RemoveUnit(J23)
	call UnitRemoveAbility(Hero,('A0GC'))
	if(LoadInteger(HY,(GetHandleId(Hero)),(704)))==0 or(LoadInteger(HY,(GetHandleId(Hero)),(704)))==('A0G8')then
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),('A0G8'),true)
	endif
	call FlushChildHashtable(HY,(GetHandleId(t)))
	call CleanTrigger((t))
	set Hero=null
	set J23=null
endfunction

function Func2096 takes nothing returns boolean
	if GetSpellAbilityId()==('A0GC')then
		return true
	endif
	return false
endfunction

function Func2097 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local integer h=GetHandleId(Hero)
	local unit J23=(LoadUnitHandle(HY,(h),(229)))
	local real x=GetUnitX(J23)
	local real y=GetUnitY(J23)
	call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",GetUnitX(Hero),GetUnitY(Hero)))
	call KillUnit(J23)
	call SetUnitX(Hero,x)
	call SetUnitY(Hero,y)
	call PanCameraToTimedForPlayer(GetOwningPlayer(Hero),x,y,0)
	call IssueImmediateOrder(Hero,"stop")
	set Hero=null
	set J23=null
endfunction

function Func2098 takes nothing returns boolean
	return GetUnitAbilityLevel(GetSummonedUnit(),('B030'))>0 and GetUnitState(GetSummonedUnit(),UNIT_STATE_LIFE)>0
endfunction

function Func2099 takes nothing returns nothing
	local unit Hero=GetSummoningUnit()
	local integer h=GetHandleId(Hero)
	local unit target=(LoadUnitHandle(HY,(h),(228)))
	local unit J23=GetSummonedUnit()
	local trigger t
	call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),('A0G8'),false)
	call UnitAddAbilityPermanent(Hero,('A0GC'))
	call SetUnitColor(J23,GetPlayerColor(GetOwningPlayer(target)))
	call SaveUnitHandle(HY,(h),(229),(J23))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,J23,EVENT_UNIT_DEATH)
	call TriggerAddAction(t,function Func2095)
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(Hero))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,J23,EVENT_UNIT_DEATH)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func2094))
	call SaveUnitHandle(HY,(GetHandleId(t)),(2),(Hero))
	call SaveUnitHandle(HY,(GetHandleId(t)),(17),(J23))
	call SaveInteger(HY,(GetHandleId(t)),(34),(GetUnitAbilityLevel(Hero,('A0G8'))*15+15-1))
	set Hero=null
	set target=null
	set J23=null
	set t=null
endfunction

function Func2100 takes nothing returns boolean
	return GetSpellAbilityId()==('A0G8')
endfunction

function Func2101 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	call SaveUnitHandle(HY,(GetHandleId(Hero)),(228),(target))
	set Hero=null
	set target=null
endfunction

function Func2102 takes nothing returns boolean
	if GetSpellAbilityId()==('A0G8')then
		if GetOwningPlayer(GetSpellTargetUnit())==GetOwningPlayer(GetTriggerUnit())then
			call InterruptUnit(GetTriggerUnit())
			call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0LF'))
		endif
	endif
	return false
endfunction

function Func2103 takes nothing returns nothing
	local trigger t
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2100))
	call TriggerAddAction(t,function Func2101)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func2098))
	call TriggerAddAction(t,function Func2099)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2096))
	call TriggerAddAction(t,function Func2097)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func2102))
	set t=null
endfunction

function Func2104 takes unit Hero,integer JB3,real JC3 returns nothing
	local integer JD3=GetHeroAgi(Hero,false)
	local integer JE3=GetHeroStr(Hero,false)
	local real KWO=GetUnitState(Hero,UNIT_STATE_MANA)
	if JB3==0 then
		if KWO>=JC3 and JD3>2 and IsDead(Hero)==false then
			call SetUnitState(Hero,UNIT_STATE_MANA,KWO-JC3)
			call SetHeroAgi(Hero,JD3-2,true)
			call SetHeroStr(Hero,JE3+2,true)
		endif
	elseif JB3==1 then
		if KWO>=JC3 and JE3>2 and IsDead(Hero)==false then
			call SetUnitState(Hero,UNIT_STATE_MANA,KWO-JC3)
			call SetHeroAgi(Hero,JD3+2,true)
			call SetHeroStr(Hero,JE3-2,true)
		endif
	endif
endfunction

function Func2105 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer lvl=GetUnitAbilityLevel(Hero,'A0KX')
	call Func2104(Hero,1,30.0/lvl)
	set t=null
	set Hero=null
	return false
endfunction

function Func2106 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer lvl=GetUnitAbilityLevel(Hero,'A0KX')
	call Func2104(Hero,0,30.0/lvl)
	set t=null
	set Hero=null
	return false
endfunction

function Func2107 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	local trigger JZ3=(LoadTriggerHandle(HY,(h),(226)))
	local integer lvl=GetUnitAbilityLevel(Hero,'A0KX')
	local integer id=(LoadInteger(HY,(h),(227)))
	local real JV3=1.0/lvl
	if lvl==4 then
		set JV3=0.2
	endif
	if GetIssuedOrderId()==852549 then
		if JZ3!=null then
			call FlushChildHashtable(HY,(GetHandleId(JZ3)))
			call CleanTrigger(JZ3)
		endif
		set JZ3=CreateTrigger()
		call TriggerRegisterTimerEvent(JZ3,JV3,true)
		call TriggerAddCondition(JZ3,Condition(function Func2105))
		call SaveUnitHandle(HY,(GetHandleId(JZ3)),(14),(Hero))
		call SaveTriggerHandle(HY,(h),(226),(JZ3))
		call SaveInteger(HY,(h),(227),(GetIssuedOrderId()))
		call UnitAddAbility(Hero,'A22L')
		call UnitRemoveAbility(Hero,'A22T')
	elseif GetIssuedOrderId()==852546 then
		if JZ3!=null then
			call FlushChildHashtable(HY,(GetHandleId(JZ3)))
			call CleanTrigger(JZ3)
		endif
		set JZ3=CreateTrigger()
		call TriggerRegisterTimerEvent(JZ3,JV3,true)
		call TriggerAddCondition(JZ3,Condition(function Func2106))
		call SaveUnitHandle(HY,(GetHandleId(JZ3)),(14),(Hero))
		call SaveTriggerHandle(HY,(h),(226),(JZ3))
		call SaveInteger(HY,(h),(227),(GetIssuedOrderId()))
		call UnitAddAbility(Hero,'A22T')
		call UnitRemoveAbility(Hero,'A22L')
	elseif GetIssuedOrderId()==852550 then
		if JZ3!=null then
			call FlushChildHashtable(HY,(GetHandleId(JZ3)))
			call CleanTrigger(JZ3)
		endif
		call SaveTriggerHandle(HY,(h),(226),(null))
		call SaveInteger(HY,(h),(227),(GetIssuedOrderId()))
		call UnitRemoveAbility(Hero,'A22L')
		call UnitRemoveAbility(Hero,'A22T')
	elseif GetIssuedOrderId()==852547 then
		if JZ3!=null then
			call FlushChildHashtable(HY,(GetHandleId(JZ3)))
			call CleanTrigger(JZ3)
		endif
		call SaveTriggerHandle(HY,(h),(226),(null))
		call SaveInteger(HY,(h),(227),(GetIssuedOrderId()))
		call UnitRemoveAbility(Hero,'A22L')
		call UnitRemoveAbility(Hero,'A22T')
	elseif GetIssuedOrderId()==852548 and id!=852546 and id!=852546 then
		call Func2104(Hero,1,30*JV3)
	elseif GetIssuedOrderId()==852545 and id!=852546 and id!=852546 then
		call Func2104(Hero,0,30*JV3)
	endif
	set t=null
	set Hero=null
	set JZ3=null
	return false
endfunction

function Func2108 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local trigger t
	local integer h
	local integer lvl=GetUnitAbilityLevel(GetTriggerUnit(),'A0KX')
	if lvl==1 then
		call SetHeroAgi(Hero,GetHeroAgi(Hero,false)+3,true)
		call SetHeroStr(Hero,GetHeroStr(Hero,false)+3,true)
	else
		call SetHeroAgi(Hero,GetHeroAgi(Hero,false)+1,true)
		call SetHeroStr(Hero,GetHeroStr(Hero,false)+1,true)
	endif
	if lvl==1 then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call UnitAddAbilityPermanent(Hero,'A0KW')
		call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_ISSUED_ORDER)
		call TriggerAddCondition(t,Condition(function Func2107))
		call SaveTriggerHandle(HY,(h),(226),(null))
	else
		call SetUnitAbilityLevel(Hero,'A0KW',lvl)
	endif
	set t=null
endfunction

function Func2109 takes nothing returns boolean
	if GetLearnedSkill()=='A0KX' and IsUnitIllusion(GetTriggerUnit())==false then
		call Func2108()
	endif
	return false
endfunction

function Func2110 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2109))
	set t=null
endfunction

function Func2111 takes nothing returns nothing
	local unit PKI=(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(326)))
	local real r
	local real g
	local real b
	local integer JJ3
	local integer JK3
	local real JL3
	local real JM3
	if GetUnitTypeId(PKI)!='O00P' then
		call DisableTrigger(GetTriggeringTrigger())
	elseif IsDead(PKI)==false and(LoadBoolean(HY,(GetHandleId(PKI)),(225)))==false then
		set JJ3=GetHeroAgi(PKI,true)
		set JK3=GetHeroStr(PKI,true)
		set JL3=RMaxBJ(75+2*(JJ3-JK3),35)
		set r=JL3
		set g=JL3
		set b=JL3
		call SetUnitVertexColorBJ(PKI,r,g,b,GetRandomReal(0.00,10.00))
	endif
endfunction

function Func2112 takes nothing returns boolean
	return GetUnitTypeId(GetTriggerUnit())=='O00P' and IsUnitIllusion(GetTriggerUnit())==false
endfunction

function Func2113 takes nothing returns nothing
	local trigger t
	if((LoadBoolean(HY,(GetHandleId(GetTriggerUnit())),(327)))==false)then
		set t=CreateTrigger()
		call SaveUnitHandle(HY,(GetHandleId(t)),(326),(GetTriggerUnit()))
		call SaveTriggerHandle(HY,(GetHandleId(GetTriggerUnit())),(328),(t))
		call TriggerAddAction(t,function Func2111)
		call TriggerRegisterTimerEvent(t,1.0,true)
		call SaveBoolean(HY,(GetHandleId(GetTriggerUnit())),(327),(true))
		call UnitAddItem(GetTriggerUnit(),CreateItem('I00E',GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
	endif
endfunction

function Func2114 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)
	call TriggerAddCondition(t,Condition(function Func2112))
	call TriggerAddAction(t,function Func2113)
endfunction

function Func2115 takes nothing returns boolean
	return GetSpellAbilityId()=='A0G6' and GetUnitTypeId(GetSpellTargetUnit())!='n00L' and IsBlocked(GetSpellTargetUnit())==false
endfunction

function Func2116 takes nothing returns nothing
	local unit PKI=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(PKI,'A0G6')
	local unit caster
	local location JP3
	local real RM2
	local integer JJ3=GetHeroAgi(PKI,true)
	local integer JK3=GetHeroStr(PKI,true)
	local real JL3=I2R(JJ3)/I2R(JK3)
	local real JM3=I2R(JK3)/I2R(JJ3)
	local real JQ3
	local real JU3
	local real K03
	local real IT3
	local real KI3
	local real K13
	local integer i1
	local integer i2
	local integer i3
	local string s1
	local string s2
	local string s3
	local real KO3=0.25+lvl
	if JL3<0.5 then
		set JQ3=0.25
		set JU3=20*lvl
	elseif JL3>1.5 then
		set JQ3=0.5*lvl
		set JU3=20*lvl
	else
		set JQ3=0.25+(JL3-0.5)*(0.5*lvl-0.25)
		set JU3=20*lvl
	endif
	if JM3<0.5 then
		set K03=0.25
		set IT3=100
	elseif JM3>1.5 then
		set K03=KO3
		set IT3=300
	else
		set IT3=100+(JM3-0.5)*200
		set K03=0.25+(JM3-0.5)*(KO3-0.25)
	endif
	set KI3=JU3+JQ3*JJ3
	set K13=K03
	set i1=R2I(K13)
	set i2=R2I(10*K13-i1*10)
	set i3=R2I(100*K13-i2*10-i1*100)
	set s1=I2S(i1)
	set s2=I2S(i2)
	set s3=I2S(i3)
	set RM2=Atan2(GetUnitY(target)-GetUnitY(PKI),GetUnitX(target)-GetUnitX(PKI))
	set JP3=Location(GetUnitX(target)+IT3*Cos(RM2),GetUnitY(target)+IT3*Sin(RM2))
	call SetUnitPositionLoc(target,JP3)
	call KillTrees(GetLocationX(JP3),GetLocationY(JP3),200)
	call RemoveLocation(JP3)
	call Func0163("|c001ce6b9+"+I2S(R2I(KI3))+"|r |c00ff0303+"+s1+"."+s2+s3+"|r",1,target,0.023,255,255,255,216)
	call DamageTarget(PKI,target,1,KI3)
	call StunTargetIF(PKI,target,K13)
	set PKI=null
	set target=null
	set caster=null
	set JP3=null
endfunction

function Func2117 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2115))
	call TriggerAddAction(t,function Func2116)
	call Func0125('A0X6')
endfunction

function Func2118 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group011)==false then
		call GroupAddUnit(group012,GetEnumUnit())
		call UnitRemoveAbility(GetEnumUnit(),'B02J')
		call UnitRemoveAbility(GetEnumUnit(),'BUsp')
		call UnitRemoveAbility(GetEnumUnit(),'Bust')
	endif
endfunction

function Func2119 takes nothing returns nothing
	call UnitRemoveAbility(GetEnumUnit(),'B02J')
	call UnitRemoveAbility(GetEnumUnit(),'BUsp')
	call UnitRemoveAbility(GetEnumUnit(),'Bust')
endfunction

function Func2120 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group010)==false then
		call GroupAddUnit(group010,GetEnumUnit())
		call SetUnitOwner(unit291,GetOwningPlayer(GetEnumUnit()),false)
		call IssueTargetOrder(unit291,"sleep",GetEnumUnit())
	endif
endfunction

function Func2121 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local group g
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	if GetTriggerEvalCount(t)==10 then
		call UnitAddAbilityPermanent(source,'A24E')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A07U',false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A24E',true)
	endif
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)>140 or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A24E')then
		if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A07U' then
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A07U',true)
		endif
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A24E',false)
		call ForGroup(PR2,function Func2119)
		call KillGroup(PR2)
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set g=GetAvailableGroup()
		set tt_unit1=source
		set unit290=source
		set unit291=caster
		set group010=PR2
		call GroupEnumUnitsInRange(g,x,y,1250+25,Condition(function Func0269))
		call ForGroup(g,function Func2120)
		set group011=g
		set group012=GetAvailableGroup()
		call ForGroup(PR2,function Func2118)
		call GroupRemoveGroup(group012,PR2)
		call KillGroup(g)
		call KillGroup(group012)
	endif
	set t=null
	set g=null
	set source=null
	set PR2=null
	set caster=null
	return false
endfunction

function Func2122 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
	call UnitAddAbility(caster,'A07T')
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2121))
	call SaveGroupHandle(HY,(h),(187),(GetAvailableGroup()))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\SongOfTheSiren_2.mdx",source,"origin")))
	set t=null
	set source=null
endfunction

function Func2123 takes nothing returns boolean
	if GetSpellAbilityId()=='A07U' then
		call Func2122()
	endif
	return false
endfunction

function Func2124 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2123))
	set t=null
endfunction

function Func2125 takes unit source,unit target returns nothing
	local integer lvl=GetUnitAbilityLevel(source,'A2KU')
	local integer id='A244'
	call DamageTarget(source,target,1,100+30*lvl)
	if lvl==2 then
		set id='A245'
	elseif lvl==3 then
		set id='A246'
	elseif lvl==4 then
		set id='A247'
	endif
	if Func0255(target)==false then
		call Func0225(target,id,1,8)
	endif
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),id,false)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl",target,"chest"))
	set source=null
	set target=null
endfunction

function Func2126 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group013)==false and Func0091(GetEnumUnit())==false then
		call GroupAddUnit(group013,GetEnumUnit())
		call Func2125(unit292,GetEnumUnit())
	endif
endfunction

function Func2127 takes nothing returns nothing
	local unit source=GetEnumUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local group g=GetAvailableGroup()
	call DestroyEffect(AddSpecialEffect("war3mapImported\\RipTide09.mdx",x,y))
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,x,y,320+25,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func2126)
	call KillGroup(g)
	set t=null
	set g=null
endfunction

function Func2128 takes nothing returns boolean
	return IsUnitIllusion(GetFilterUnit())and IsDead(GetFilterUnit())==false
endfunction

function Func2129 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local group g=GetAvailableGroup()
	local integer i=0
	set group013=GetAvailableGroup()
	set unit292=source
	call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(source),Condition(function Func2128))
	call GroupAddUnit(g,source)
	call ForGroup(g,function Func2127)
	call KillGroup(g)
	call KillGroup(group013)
	set source=null
	set g=null
endfunction

function Func2130 takes nothing returns boolean
	if GetSpellAbilityId()=='A2KU' then
		call Func2129()
	endif
	return false
endfunction

function Func2131 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2130))
	set t=null
endfunction

function Func2132 takes unit source,unit target,integer lvl returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
	call UnitAddAbility(caster,'A0BA')
	call SetUnitAbilityLevel(caster,'A0BA',lvl)
	call IssueTargetOrder(caster,"ensnare",target)
	set caster=null
endfunction

function Func2133 takes nothing returns boolean
	if IsUnitIllusion(GetFilterUnit()) and GetUnitTypeId(GetFilterUnit())=='HC49' and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())then
		call Func2132(GetFilterUnit(),unit293,GetUnitAbilityLevel(GetTriggerUnit(),'A24D'))
	endif
	return false
endfunction

function Func2134 takes nothing returns boolean
	if IsUnitIllusion(GetFilterUnit()) and GetUnitTypeId(GetFilterUnit())=='HC49' and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())then
		call SetUnitFacing(GetFilterUnit(),real009)
		call SetUnitAnimation(GetFilterUnit(),"spell")
	endif
	return false
endfunction

function Func2135 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local group g=GetAvailableGroup()
	set real009=Func0159(GetUnitX(Hero),GetUnitY(Hero),GetUnitX(unit293),GetUnitY(unit293))
	call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),700,Condition(function Func2134))
	call KillGroup(g)
	set Hero=null
	set g=null
endfunction

function Func2136 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=unit293
	local group g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),700,Condition(function Func2133))
	call KillGroup(g)
	set Hero=null
	set g=null
endfunction

function Func2137 takes nothing returns boolean
	if GetSpellAbilityId()=='A24D' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
			if IsBlocked(GetSpellTargetUnit())==false then
				set integer479=0
				set unit293=GetSpellTargetUnit()
				call Func2132(GetTriggerUnit(),unit293,GetUnitAbilityLevel(GetTriggerUnit(),'A24D'))
				call Func2136()
			endif
		else
			call Func2135()
		endif
	endif
	return false
endfunction

function Func2138 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func2137))
	set t=null
endfunction

function Func2139 takes unit SWI returns integer
	local real r=GetRandomReal(0,100)
	local integer lvl=GetUnitAbilityLevel(SWI,'A088')
	local boolean CK3=Func0341(SWI,integers089[integer331])!=null
	local integer KX3=0
	local integer id=GetPlayerId(GetOwningPlayer(SWI))
	set CK3=false
	if lvl==1 then
		set integers153[id]=integers153[id]+1
		if CK3 then
			if r<30 then
				set integers150[id]=integers150[id]+1
				set KX3=3
			elseif r<60 then
				set integers149[id]=integers149[id]+1
				set KX3=2
			endif
		else
			if r<40 then
				set KX3=2
				set integers149[id]=integers149[id]+1
			endif
		endif
	elseif lvl==2 then
		set integers153[id]=integers153[id]+1
		if CK3 then
			if r<17.5 then
				set KX3=4
				set integers151[id]=integers151[id]+1
			elseif r<35 then
				set KX3=3
				set integers150[id]=integers150[id]+1
			elseif r<70 then
				set KX3=2
				set integers149[id]=integers149[id]+1
			endif
		else
			if r<20 then
				set KX3=3
				set integers150[id]=integers150[id]+1
			elseif r<50 then
				set KX3=2
				set integers149[id]=integers149[id]+1
			endif
		endif
	elseif lvl==3 then
		set integers153[id]=integers153[id]+1
		if CK3 then
			if r<10 then
				set KX3=5
				set integers152[id]=integers152[id]+1
			elseif r<20 then
				set KX3=4
				set integers151[id]=integers151[id]+1
			elseif r<40 then
				set KX3=3
				set integers150[id]=integers150[id]+1
			elseif r<80 then
				set KX3=2
				set integers149[id]=integers149[id]+1
			endif
		else
			if r<12.5 then
				set KX3=4
				set integers151[id]=integers151[id]+1
			elseif r<25 then
				set KX3=3
				set integers150[id]=integers150[id]+1
			elseif r<60 then
				set KX3=2
				set integers149[id]=integers149[id]+1
			endif
		endif
	endif
	return KX3
endfunction

function Func2140 takes nothing returns boolean
	return(Func0091(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1))and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),'B03J')==0 and GetFilterUnit()!=unit294
endfunction

function Func2141 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer KK3=(LoadInteger(HY,(h),(300)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer KL3=(LoadInteger(HY,(h),(299)))
	local unit caster
	local group g=GetAvailableGroup()
	set tt_unit1=source
	set unit294=target
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),1425,Condition(function Func2140))
	set target=GroupPickRandomUnit(g)
	if target==null then
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),1425,Condition(function Func0281))
		set target=GroupPickRandomUnit(g)
	endif
	call KillGroup(g)
	call SaveUnitHandle(HY,(h),(17),(target))
	if GetTriggerEvalCount(t)>KK3 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
		if KL3=='A2KQ' then
			set KL3='A2KR'
		endif
		call UnitAddAbilityPermanent(caster,KL3)
		call SetUnitAbilityLevel(caster,KL3,lvl)
		call IssueTargetOrder(caster,"acidbomb",target)
	endif
	set t=null
	set target=null
	set source=null
	set caster=null
	set g=null
	return false
endfunction

function Func2142 takes integer r returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer KL3=GetSpellAbilityId()
	local integer lvl=GetUnitAbilityLevel(source,KL3)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	if r==2 then
		call Func0163(GetObjectName('n0K7'),5,GetTriggerUnit(),0.03,255,0,0,255)
	elseif r==3 then
		call Func0163(GetObjectName('n0JT'),5,GetTriggerUnit(),0.03,255,0,0,255)
	elseif r==4 then
		call Func0163(GetObjectName('n0K8'),5,GetTriggerUnit(),0.03,255,0,0,255)
	elseif r==5 then
		call Func0163(GetObjectName('n0JO'),5,GetTriggerUnit(),0.03,255,0,0,255)
	endif
	set r=r-1
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(300),(r))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(299),(KL3))
	call TriggerRegisterTimerEvent(t,0.4,true)
	call TriggerAddCondition(t,Condition(function Func2141))
	set t=null
	set target=null
	set source=null
endfunction

function Func2143 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbilityPermanent(caster,'A2KR')
	call IssueTargetOrder(caster,"thunderbolt",target)
	call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MANA)*0.4)
	set source=null
	set target=null
	set caster=null
endfunction

function Func2144 takes nothing returns nothing
	local unit source=tt_unit1
	call UnitAddAbilityPermanent(source,'A2KQ')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2KQ',true)
	set source=null
endfunction

function Func2145 takes nothing returns nothing
	local unit source=tt_unit1
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2KQ',false)
	set source=null
endfunction

function Func2146 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer KK3=(LoadInteger(HY,(h),(300)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer KL3=(LoadInteger(HY,(h),(299)))
	local unit caster
	if GetTriggerEvalCount(t)>KK3 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
		if KL3=='A2KQ' then
			set KL3='A2KR'
		endif
		call UnitAddAbilityPermanent(caster,KL3)
		call SetUnitAbilityLevel(caster,KL3,lvl)
		call IssueTargetOrder(caster,"thunderbolt",target)
	endif
	set t=null
	set target=null
	set source=null
	set caster=null
	return false
endfunction

function Func2147 takes integer r returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer KL3=GetSpellAbilityId()
	local integer lvl=GetUnitAbilityLevel(source,KL3)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	if r==2 then
		call Func0163(GetObjectName('n0K7'),5,GetTriggerUnit(),0.03,255,0,0,255)
	elseif r==3 then
		call Func0163(GetObjectName('n0JT'),5,GetTriggerUnit(),0.03,255,0,0,255)
	elseif r==4 then
		call Func0163(GetObjectName('n0K8'),5,GetTriggerUnit(),0.03,255,0,0,255)
	elseif r==5 then
		call Func0163(GetObjectName('n0JO'),5,GetTriggerUnit(),0.03,255,0,0,255)
	endif
	set r=r-1
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(300),(r))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(299),(KL3))
	call TriggerRegisterTimerEvent(t,0.4,true)
	call TriggerAddCondition(t,Condition(function Func2146))
	set t=null
	set target=null
	set source=null
endfunction

function Func2148 takes nothing returns boolean
	local integer r
	if GetUnitAbilityLevel(GetTriggerUnit(),'A088')>0 and IsBlocked(GetSpellTargetUnit())==false then
		if GetSpellAbilityId()=='A04W' or GetSpellAbilityId()=='A08D' or GetSpellAbilityId()=='A08A' or GetSpellAbilityId()=='A089' or GetSpellAbilityId()=='A2KQ' then
			set r=Func2139(GetTriggerUnit())
			if r>1 and((LoadInteger(HY,(GetHandleId((GetSpellTargetUnit()))),((4322))))==1)==false then
				call Func2147(r)
			endif
		elseif GetSpellAbilityId()=='A011' or GetSpellAbilityId()=='A007' or GetSpellAbilityId()=='A17W' or GetSpellAbilityId()=='A01T' or GetSpellAbilityId()=='A17X' or GetSpellAbilityId()=='A00F' or GetSpellAbilityId()=='A17Y' or GetSpellAbilityId()=='A17V' then
			set r=Func2139(GetTriggerUnit())
			if r>1 and((LoadInteger(HY,(GetHandleId((GetSpellTargetUnit()))),((4322))))==1)==false then
				call Func2142(r)
			endif
		endif
	endif
	if IsBlocked(GetSpellTargetUnit())==false and GetSpellAbilityId()=='A2KQ' then
		call Func2143()
	endif
	return false
endfunction

function Func2149 takes nothing returns boolean
	local integer id=GetPlayerId(GetTriggerPlayer())
	local string s1
	local string s2
	local string s3
	local string s4
	local string s5
	local string s6
	if integers153[id]>0 then
		set s1=GetObjectName('n0JH')+" "+I2S(integers153[id])
		set s2=GetObjectName('n0JM')+" "+I2S(integers149[id]+integers150[id]+integers151[id]+integers152[id])+" ("+I2S((integers149[id]+integers150[id]+integers151[id]+integers152[id])*100/integers153[id])+"%)"
		set s3=GetObjectName('n0JL')+" "+I2S(integers149[id])+" ("+I2S(100*integers149[id]/integers153[id])+"%)"
		set s4=GetObjectName('n0JK')+" "+I2S(integers150[id])+" ("+I2S(100*integers150[id]/integers153[id])+"%)"
		set s5=GetObjectName('n0JJ')+" "+I2S(integers151[id])+" ("+I2S(100*integers151[id]/integers153[id])+"%)"
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,s1)
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,s2)
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,s3)
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,s4)
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,s5)
	endif
	return false
endfunction

function Func2150 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2148))
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-st",true)
	call TriggerAddCondition(t,Condition(function Func2149))
	set t=null
endfunction

function Func2151 takes nothing returns boolean
	local unit YQ3=GetFilterUnit()
	local unit PKI=GetTriggerUnit()
	if IsUnitAlly(YQ3,GetOwningPlayer(PKI))and GetUnitState(YQ3,UNIT_STATE_LIFE)>0 and GetUnitAbilityLevel(YQ3,'Bblo')==0 then
		if(GetOwningPlayer(YQ3)==Sentinels[0]or GetOwningPlayer(YQ3)==Scourges[0])then
			if(GetUnitTypeId(YQ3)=='ugho' or GetUnitTypeId(YQ3)=='u001' or GetUnitTypeId(YQ3)=='unec' or GetUnitTypeId(YQ3)=='u002')then
				return true
			endif
			if(GetUnitTypeId(YQ3)=='esen' or GetUnitTypeId(YQ3)=='e00V' or GetUnitTypeId(YQ3)=='edry' or GetUnitTypeId(YQ3)=='e00W')then
				return true
			endif
			return false
		elseif IsUnitType(YQ3,UNIT_TYPE_HERO) then
			return true
		elseif GetOwningPlayer(YQ3)==GetOwningPlayer(PKI)then
			return true
		endif
	endif
	return false
endfunction

function Func2152 takes integer r returns nothing
	local unit PKI=GetTriggerUnit()
	local integer lvl=r
	local group Z51=GetAvailableGroup()
	local unit caster
	local unit WH1
	local integer TPI=GetSpellAbilityId()
	local integer TGI=1
	if r==2 then
		call Func0163(GetObjectName('n0K7'),5,GetTriggerUnit(),0.03,255,0,0,255)
	elseif r==3 then
		call Func0163(GetObjectName('n0JT'),5,GetTriggerUnit(),0.03,255,0,0,255)
	elseif r==4 then
		call Func0163(GetObjectName('n0K8'),5,GetTriggerUnit(),0.03,255,0,0,255)
	elseif r==5 then
		call Func0163(GetObjectName('n0JO'),5,GetTriggerUnit(),0.03,255,0,0,255)
	endif
	set r=r-1
	call GroupEnumUnitsInRange(Z51,GetUnitX(PKI),GetUnitY(PKI),600,Condition(function Func2151))
	if PKI!=GetSpellTargetUnit()then
		call GroupAddUnit(Z51,PKI)
	endif
	loop
		exitwhen TGI>lvl
		set TGI=TGI+1
		set caster=CreateUnit(GetOwningPlayer(PKI),'e00C',GetUnitX(PKI),GetUnitY(PKI),270)
		call UnitAddAbilityPermanent(caster,TPI)
		call SetUnitAbilityLevel(caster,TPI,GetUnitAbilityLevel(PKI,TPI))
		call UnitApplyTimedLife(caster,'BTLF',1.0)
		set WH1=GroupPickRandomUnit(Z51)
		call IssueTargetOrder(caster,"bloodlust",WH1)
		call SetUnitPathing(caster,false)
		call SetUnitInvulnerable(caster,true)
		call UnitAddAbilityPermanent(caster,'Aloc')
		call GroupRemoveUnit(Z51,WH1)
	endloop
	call KillGroup(Z51)
endfunction

function Func2153 takes nothing returns boolean
	local integer r
	if GetUnitAbilityLevel(GetTriggerUnit(),'A088')>0 and(GetSpellAbilityId()=='A083' or GetSpellAbilityId()=='A08I' or GetSpellAbilityId()=='A08G' or GetSpellAbilityId()=='A08F')then
		set r=Func2139(GetTriggerUnit())
		if r>1 then
			call Func2152(r)
		endif
	endif
	return false
endfunction

function Func2154 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2153))
	set t=null
endfunction

constant function Purification_RawCode takes nothing returns integer
	return 'A08N'
endfunction

function Func2155 takes nothing returns boolean
	return GetSpellAbilityId()==('A08N')
endfunction

function Func2156 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')!=1 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction

function Func2157 takes nothing returns nothing
	call DamageTarget(GetTriggerUnit(),GetEnumUnit(),3,real002)
endfunction

function Func2158 takes nothing returns nothing
	local boolexpr QL1=Condition(function Func2156)
	local group Z51=GetAvailableGroup()
	local real x=GetUnitX(GetSpellTargetUnit())
	local real y=GetUnitY(GetSpellTargetUnit())
	set real002=90*GetUnitAbilityLevel(GetTriggerUnit(),('A08N'))
	if GetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE)>1 then
		call SetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE,GetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE)+real002)
	endif
	call GroupEnumUnitsInRange(Z51,x,y,260+25,QL1)
	call ForGroup(Z51,function Func2157)
	call KillGroup(Z51)
endfunction

function Func2159 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2155))
	call TriggerAddAction(t,function Func2158)
endfunction

function Func2160 takes nothing returns boolean
	local unit IYO=GetSummonedUnit()
	local unit caster
	local unit target
	if GetUnitAbilityLevel(IYO,'B098')>0 then
		set caster=GetSummoningUnit()
		set target=(LoadUnitHandle(HY,(GetHandleId(caster)),(303)))
		call SetUnitX(IYO,GetUnitX(target))
		call SetUnitY(IYO,GetUnitY(target))
		call IssueTargetOrder(IYO,"attack",target)
	endif
	set IYO=null
	set caster=null
	set target=null
	return false
endfunction

function Func2161 takes player p,unit target,integer lvl returns nothing
	local unit caster=CreateUnit(p,'e00E',GetUnitX(target),GetUnitY(target),0)
	local integer aid
	call SaveUnitHandle(HY,(GetHandleId(caster)),(303),(target))
	if lvl==1 then
		set aid='A10H'
	elseif lvl==2 then
		set aid='A10G'
	elseif lvl==3 then
		set aid='A10I'
	else
		set aid='A10F'
	endif
	call UnitAddAbilityPermanent(caster,aid)
	call IssueTargetOrderById(caster,ORDER_wandillusion,Players_Hero[GetPlayerId(p)])
	set caster=null
endfunction

function Func2162 takes player p,unit target,integer lvl,boolean L63,boolean L73 returns nothing
	local real dmg=50+50*lvl
	local unit caster
	local integer aid
	if L73 then
		set caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
		call UnitAddAbilityPermanent(caster,'A10C')
		call SetUnitAbilityLevel(caster,'A10C',lvl)
		call IssueTargetOrder(caster,"cripple",target)
		call DamageTarget(Players_Hero[GetPlayerId(p)],target,1,dmg)
		if L63 then
			call Func2161(p,target,lvl)
		endif
	endif
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl",target,"origin"))
	set caster=null
endfunction

function Func2163 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local boolean DH1=(LoadBoolean(HY,(h),(302)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real x=GetUnitX(IG1)
	local real y=GetUnitY(IG1)
	local real QJI=GetUnitX(target)
	local real QKI=GetUnitY(target)
	local real IH1=1000*0.035
	local real IZ1=Func0159(x,y,QJI,QKI)
	local real IV1=x+IH1*Cos(IZ1*bj_DEGTORAD)
	local real IW1=y+IH1*Sin(IZ1*bj_DEGTORAD)
	local boolean ZXO=(LoadBoolean(HY,(h),(249)))
	call SetUnitX(IG1,IV1)
	call SetUnitY(IG1,IW1)
	call SetUnitFacing(IG1,IZ1)
	if((LoadInteger(HY,(GetHandleId((target))),((4422))))==1) then
		set ZXO=false
		call SaveBoolean(HY,(h),(249),(ZXO))
	endif
	if Func0168(QJI,QKI,IV1,IW1)<=IH1 then
		if ZXO then
			call Func2162(p,target,lvl,true,DH1)
		endif
		call KillUnit(IG1)
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	set IG1=null
	return false
endfunction

function Func2164 takes unit source,integer lvl,unit target,boolean DH1 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit IG1=CreateUnit(GetOwningPlayer(source),'h06L',GetUnitX(source),GetUnitY(source),Func0159(GetUnitX(source),GetUnitY(source),GetUnitX(target),GetUnitY(target)))
	call SavePlayerHandle(HY,(h),(54),(GetOwningPlayer(source)))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveBoolean(HY,(h),(302),(DH1))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveBoolean(HY,(h),(249),(true))
	call TriggerRegisterTimerEvent(t,0.035,true)
	call TriggerAddCondition(t,Condition(function Func2163))
	set t=null
endfunction

function Func2165 takes nothing returns boolean
	if IsUnitIllusion(GetFilterUnit()) and GetUnitTypeId(GetFilterUnit())=='Ogrh' and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())then
		call Func2164(GetFilterUnit(),GetUnitAbilityLevel(GetTriggerUnit(),'A10D'),GetSpellTargetUnit(),false)
	endif
	return false
endfunction

function Func2166 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(Hero,'A10D')
	local unit target=GetSpellTargetUnit()
	local group g=GetAvailableGroup()
	local boolean LC3=IsBlocked(GetSpellTargetUnit())
	call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),700,Condition(function Func2165))
	if LC3 then
		call Func2164(Hero,lvl,target,false)
	else
		call Func2164(Hero,lvl,target,true)
	endif
	call KillGroup(g)
	set Hero=null
	set target=null
	set g=null
endfunction

function Func2167 takes nothing returns boolean
	if IsUnitIllusion(GetFilterUnit()) and GetUnitTypeId(GetFilterUnit())=='Ogrh' and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())then
		call SetUnitFacing(GetFilterUnit(),real009)
		call SetUnitAnimation(GetFilterUnit(),"spell")
	endif
	return false
endfunction

function Func2168 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local group g=GetAvailableGroup()
	set real009=Func0159(GetUnitX(Hero),GetUnitY(Hero),GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))
	call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),700,Condition(function Func2167))
	call KillGroup(g)
	set Hero=null
	set g=null
endfunction

function Func2169 takes nothing returns boolean
	if GetSpellAbilityId()=='A10D' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
			call Func2166()
		else
			call Func2168()
		endif
	endif
	return false
endfunction

function Func2170 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2169))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func2169))
	call Func0125('A10C')
	call Func0125('A10H')
	call Func0125('A10G')
	call Func0125('A10I')
	call Func0125('A10F')
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func2160))
	set t=null
endfunction

function Func2171 takes nothing returns boolean
	if GetUnitAbilityLevel(GetFilterUnit(),'B03B')>0 and IsUnitIllusion(GetFilterUnit()) then
		set integer022=integer022+1
	endif
	return false
endfunction

function Func2172 takes nothing returns nothing
	local unit LZ3=GetAttacker()
	local group g=GetAvailableGroup()
	local integer TJI=GetRandomInt(1,100)
	local integer LV3=GetUnitAbilityLevel(LZ3,'A0DB')
	local unit caster
	local integer LW3=4+2*LV3
	local integer LX3=35+5*LV3
	local integer LY3=8
	set integer022=0
	call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(LZ3),Condition(function Func2171))
	call KillGroup(g)
	if integer022<LW3 and GetUnitAbilityLevel(LZ3,'BNdo')==0 then
		if IsUnitIllusion(LZ3)==false and TJI<=LX3 then
			set caster=CreateUnit(GetOwningPlayer(LZ3),'e00E',GetUnitX(LZ3),GetUnitY(LZ3),0)
			call UnitAddAbilityPermanent(caster,'A0DD')
			call IssueTargetOrderById(caster,ORDER_wandillusion,LZ3)
		endif
		if IsUnitIllusion(LZ3) and TJI<=LY3 then
			set caster=CreateUnit(GetOwningPlayer(LZ3),'e00E',GetUnitX(LZ3),GetUnitY(LZ3),0)
			call UnitAddAbilityPermanent(caster,'A30B')
			call IssueTargetOrderById(caster,ORDER_wandillusion,LZ3)
		endif
	endif
	set LZ3=null
	set g=null
	set caster=null
endfunction

function Func2173 takes nothing returns boolean
	if(GetUnitAbilityLevel(GetAttacker(),'B03B')>0)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())) then
		call Func2172()
	endif
	return false
endfunction

function Func2174 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func2173))
	set t=null
endfunction

function Func2175 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real QWI=Func0139(source,target)
	local real II3=(LoadReal(HY,(h),(6)))
	local real I13=(LoadReal(HY,(h),(7)))
	local real x
	local real y
	local real a=Func0158(source,target)
	if IsDead(source)or IsDead(target)or QWI<175 or GetTriggerEvalCount(t)>250 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set x=SafeX50(II3+800*0.02*Cos(a*bj_DEGTORAD))
		set y=SafeY50(I13+800*0.02*Sin(a*bj_DEGTORAD))
		call SetUnitX(source,x)
		call SetUnitY(source,y)
		call SetUnitFacing(source,a)
		call SaveReal(HY,(h),(6),((x)*1.0))
		call SaveReal(HY,(h),(7),((y)*1.0))
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2176 takes unit source,unit target returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call IssueTargetOrder(source,"attack",target)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func2175))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	set t=null
	set source=null
	set target=null
endfunction

function Func2177 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(GetHandleId(source)),(831)))
	local integer lvl=GetUnitAbilityLevel(source,'A0YK')
	local real PD2=(LoadReal(HY,(GetHandleId(source)),(832)))
	local boolean LN3=GetTime()>(PD2+20-4*lvl)
	local integer LS3=500+100*lvl
	local integer LT3=300
	local real QWI
	if IsUnitIllusion(source) and IsDead(source)then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif target==null or IsDead(target) then
		call SaveUnitHandle(HY,(GetHandleId(source)),(831),(null))
	elseif LN3 then
		set QWI=Func0139(source,target)
		if QWI>LT3 and QWI<LS3 then
			call SaveReal(HY,(GetHandleId(source)),(832),((GetTime())*1.0))
			call SaveUnitHandle(HY,(GetHandleId(source)),(831),(null))
			call RemoveSavedHandle(HY,(GetHandleId(source)),(831))
			call Func2176(source,target)
		endif
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2178 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func2177))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
endfunction

function Func2179 takes nothing returns boolean
	if GetUnitAbilityLevel(GetTriggerUnit(),'A0YK')>0 then
		if GetIssuedOrderId()==851971 and GetOrderTargetUnit()!=null and IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetOrderTargetUnit()))==false then
			call SaveUnitHandle(HY,(GetHandleId(GetTriggerUnit())),(831),(GetOrderTargetUnit()))
		elseif GetIssuedOrderId()==851983 and GetOrderTargetUnit()!=null and IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetOrderTargetUnit()))==false then
			call SaveUnitHandle(HY,(GetHandleId(GetTriggerUnit())),(831),(GetOrderTargetUnit()))
		else
			call SaveUnitHandle(HY,(GetHandleId(GetTriggerUnit())),(831),(null))
			call RemoveSavedHandle(HY,(GetHandleId(GetTriggerUnit())),(831))
		endif
	endif
	return false
endfunction

function Func2180 takes nothing returns boolean
	if GetUnitAbilityLevel(GetTriggerUnit(),'A0YK')==1 then
		call Func2178()
	endif
	return false
endfunction

function Func2181 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
	call TriggerAddCondition(t,Condition(function Func2179))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2180))
	set t=null
endfunction

function Func2182 takes nothing returns nothing
	call SetUnitX(GetEnumUnit(),real299+GetRandomInt(0,500)-250)
	call SetUnitY(GetEnumUnit(),real300+GetRandomInt(0,500)-250)
	call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\DG_Reappear.mdx",GetEnumUnit(),"chest"))
endfunction

function Func2183 takes nothing returns boolean
	return GetOwningPlayer(unit295)==GetOwningPlayer(GetFilterUnit())and IsUnitIllusion(GetFilterUnit())
endfunction

function Func2184 takes nothing returns nothing
	call SetUnitInvulnerable(GetEnumUnit(),false)
	call PauseUnit(GetEnumUnit(),false)
	call ShowUnit(GetEnumUnit(),true)
	call SetUnitX(GetEnumUnit(),real299+GetRandomInt(0,250))
	call SetUnitY(GetEnumUnit(),real300+GetRandomInt(0,250))
endfunction

function Func2185 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group g=(LoadGroupHandle(HY,(h),(22)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local unit caster
	call TimedReveal(GetOwningPlayer(source),1,x,y,925)
	call KillTrees(x,y,225)
	set real299=x
	set real300=y
	call ForGroup(g,function Func2184)
	call GroupAddUnit(g,source)
	set caster=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
	call UnitAddAbilityPermanent(caster,'A30E')
	call IssueTargetOrderById(caster,ORDER_wandillusion,source)
	set caster=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
	call UnitAddAbilityPermanent(caster,'A30D')
	call IssueTargetOrderById(caster,ORDER_wandillusion,source)
	call KillGroup(g)
	call CleanTrigger(t)
	call FlushChildHashtable(HY,(h))
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,x,y,925,Condition(function Func2183))
	call GroupAddUnit(g,source)
	call ForGroup(g,function Func2182)
	call KillGroup(g)
	call ClearSelectionForPlayer(GetOwningPlayer(source))
	call SelectUnitAddForPlayer(source,GetOwningPlayer(source))
	set t=null
	set source=null
	set g=null
	set caster=null
	return false
endfunction

function Func2186 takes nothing returns nothing
	call SelectUnitRemoveForPlayer(GetEnumUnit(),GetOwningPlayer(GetEnumUnit()))
	call SetUnitInvulnerable(GetEnumUnit(),true)
	call PauseUnit(GetEnumUnit(),true)
	call ShowUnit(GetEnumUnit(),false)
	call DestroyEffect(AddSpecialEffect("war3mapImported\\DG_Disappear.mdx",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
endfunction

function Func2187 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group g=(LoadGroupHandle(HY,(h),(22)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local unit caster
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call ForGroup(g,function Func2186)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveGroupHandle(HY,(h),(22),(g))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call TriggerRegisterTimerEvent(t,1,false)
	call TriggerAddCondition(t,Condition(function Func2185))
	set t=null
	set source=null
	set g=null
	set caster=null
	return false
endfunction

function Func2188 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local group g=GetAvailableGroup()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	set unit295=source
	call GroupEnumUnitsInRange(g,x,y,925,Condition(function Func2183))
	call GroupAddUnit(g,source)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveGroupHandle(HY,(h),(22),(g))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call TriggerRegisterTimerEvent(t,.01,false)
	call TriggerAddCondition(t,Condition(function Func2187))
	set t=null
	set source=null
	set g=null
endfunction

function Func2189 takes nothing returns boolean
	if GetSpellAbilityId()=='A30C' then
		call Func2188()
	endif
	return false
endfunction

function Func2190 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2189))
	set t=null
endfunction

function Func2191 takes nothing returns boolean
	return GetSpellAbilityId()=='A07Z'
endfunction

function Func2192 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0
endfunction

function Func2193 takes nothing returns nothing
	local unit PKI=GetTriggerUnit()
	local unit caster=CreateUnit(GetOwningPlayer(PKI),'e022',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),270)
	call UnitAddAbilityPermanent(caster,'A06T')
	call SetUnitAbilityLevel(caster,'A06T',GetUnitAbilityLevel(PKI,'A07Z'))
	call IssueTargetOrder(caster,"entanglingroots",GetEnumUnit())
endfunction

function Func2194 takes nothing returns nothing
	local unit PKI=GetTriggerUnit()
	local group Z51=GetAvailableGroup()
	local boolexpr QL1=Condition(function Func2192)
	call GroupEnumUnitsInRange(Z51,GetUnitX(PKI),GetUnitY(PKI),700,QL1)
	call ForGroup(Z51,function Func2193)
	call KillGroup(Z51)
endfunction

function Func2195 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2191))
	call TriggerAddAction(t,function Func2194)
endfunction

function Func2196 takes unit source,integer lvl returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
	call UnitAddAbilityPermanent(caster,'A1GB')
	call SetUnitAbilityLevel(caster,'A1GB',lvl)
	call IssueTargetOrder(caster,"invisibility",source)
	call UnitAddAbilityPermanent(source,'A23O')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A23O',false)
	set caster=null
endfunction

function Func2197 takes nothing returns boolean
	return GetUnitTypeId(GetFilterUnit())=='h0BT'
endfunction

function Func2198 takes unit Hero returns boolean
	local group g=GetAvailableGroup()
	local boolean FB1=false
	call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),375,Condition(function Func2197))
	if FirstOfGroup(g)!=null then
		set FB1=true
	endif
	call KillGroup(g)
	set g=null
	return FB1
endfunction

function Func2199 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit Hero=UnitAsInteger_Load(PCI)
	local integer Count=(LoadInteger(HY,(h),(34)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real time=(LoadReal(HY,(h),(442)))
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED and(LoadBoolean(HY,(h),(329)))and GetAttacker()==Hero then
		call UnitRemoveAbility(Hero,'B021')
		call UnitRemoveAbility(Hero,'A1GA')
		call UnitRemoveAbility(Hero,'A23O')
		call UnitRemoveAbility(Hero,'B0E9')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED and GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT then
			set Count=Count+1
			call SaveInteger(HY,(h),(34),(Count))
		elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A01Z' and GetTriggerUnit()==Hero then
			call SaveReal(HY,(h),(442),((GetTime()+1.0)*1.0))
			call DisableTrigger(GetTriggeringTrigger())
			call Func2196(Hero,lvl)
			call EnableTrigger(GetTriggeringTrigger())
			call SaveInteger(HY,(h),(34),(0))
		endif
		if Func0178(GetUnitX(Hero),GetUnitY(Hero),375)==false and Func2198(Hero)==false then
			if time<GetTime()or GetTriggerEvalCount(t)==1 then
				call UnitRemoveAbility(Hero,'B021')
				call UnitRemoveAbility(Hero,'A1GA')
				call UnitRemoveAbility(Hero,'A23O')
				call UnitRemoveAbility(Hero,'B0E9')
				call FlushChildHashtable(HY,(h))
				call CleanTrigger(t)
			endif
		elseif(LoadBoolean(HY,(h),(329)))and Count>(150*lvl)then
			call UnitRemoveAbility(Hero,'B021')
			call UnitRemoveAbility(Hero,'A1GA')
			call UnitRemoveAbility(Hero,'A23O')
			call UnitRemoveAbility(Hero,'B0E9')
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		elseif(LoadBoolean(HY,(h),(329)))and GetUnitAbilityLevel(Hero,'B021')==0 and GetUnitAbilityLevel(Hero,'A1GA')>0 then
			call SaveReal(HY,(h),(442),((GetTime()+1.0)*1.0))
			call DisableTrigger(GetTriggeringTrigger())
			call Func2196(Hero,lvl)
			call EnableTrigger(GetTriggeringTrigger())
		elseif GetUnitAbilityLevel(Hero,'B021')==0 then
			call UnitRemoveAbility(Hero,'B021')
			call UnitRemoveAbility(Hero,'A1GA')
			call UnitRemoveAbility(Hero,'A23O')
			call UnitRemoveAbility(Hero,'B0E9')
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		else
			call SaveReal(HY,(h),(442),((GetTime()+1.0)*1.0))
		endif
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func2200 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEventId()!=EVENT_WIDGET_DEATH then
		if GetUnitAbilityLevel(source,'B021')>0 then
			call UnitAddAbilityPermanent(source,'A1GA')
		endif
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func2201 takes nothing returns nothing
	local trigger t
	local integer h
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SaveInteger(HY,(h),(30),(Func0021(GetSpellTargetUnit())))
	call SaveInteger(HY,(h),(5),(GetUnitAbilityLevel(GetTriggerUnit(),'A01Z')))
	call SaveInteger(HY,(h),(34),(0))
	call SaveReal(HY,(h),(442),((GetTime()+1.0)*1.0))
	call TriggerAddCondition(t,Condition(function Func2199))
	call TriggerRegisterTimerEvent(t,0.1,true)
	call UnitAddAbilityPermanent(GetSpellTargetUnit(),'A23O')
	call SetPlayerAbilityAvailable(GetOwningPlayer(GetSpellTargetUnit()),'A23O',false)
	if GetTriggerUnit()==GetSpellTargetUnit()then
		call SaveBoolean(HY,(h),(329),(true))
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveUnitHandle(HY,(h),(2),(GetTriggerUnit()))
		call TriggerAddCondition(t,Condition(function Func2200))
		call TriggerRegisterTimerEvent(t,2,false)
		call TriggerRegisterDeathEvent(t,GetTriggerUnit())
	endif
	set t=null
endfunction

function Func2202 takes nothing returns boolean
	if GetSpellAbilityId()=='A01Z' then
		call Func2201()
	endif
	return false
endfunction

function Func2203 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2202))
	set t=null
endfunction

function Func2204 takes nothing returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(unit296),'e022',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),270)
	call UnitAddAbilityPermanent(caster,'A316')
	call SetUnitAbilityLevel(caster,'A316',GetUnitAbilityLevel(unit296,'A07Z'))
	call IssueTargetOrder(caster,"entanglingroots",GetEnumUnit())
	set caster=null
endfunction

function Func2205 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local destructable d=(LoadDestructableHandle(HY,(h),(834)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group g
	if GetDestructableLife(d)<=0 then
		call KillUnit(caster)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A07Z' then
		set unit296=source
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(caster),GetUnitY(caster),825,Condition(function Func2192))
		call ForGroup(g,function Func2204)
		call KillGroup(g)
	endif
	set t=null
	set d=null
	set g=null
	set caster=null
	set source=null
	return false
endfunction

function Func2206 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local destructable d=GetSpellTargetDestructable()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit caster=CreateUnit(GetOwningPlayer(source),'o02E',GetDestructableX(d),GetDestructableY(d),0)
	call SaveDestructableHandle(HY,(h),(834),(d))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveUnitHandle(HY,(h),(2),(source))
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2205))
	set t=null
	set source=null
	set d=null
	set caster=null
endfunction

function Func2207 takes nothing returns boolean
	if GetSpellAbilityId()=='A01V' then
		call Func2206()
	endif
	return false
endfunction

function Func2208 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2207))
	set t=null
endfunction

function Func2209 takes nothing returns nothing
	call UnitAddAbilityPermanent(tt_unit1,'A01V')
endfunction

function Func2210 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real LVO=(LoadReal(HY,(GetHandleId(target)),(686)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or LVO<GetTime()or Func0091(target)then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SaveReal(HY,(GetHandleId(target)),(686),((0)*1.0))
		call UnitRemoveAbility(target,'A24P')
		call UnitRemoveAbility(target,'A24P')
		call UnitRemoveAbility(target,'A24P')
		call UnitRemoveAbility(target,'A24P')
		call UnitRemoveAbility(target,'B0EG')
	else
		call DamageTarget(source,target,1,15+15*lvl)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2211 takes unit source,unit target returns nothing
	local trigger t
	local integer h
	local real LVO=(LoadReal(HY,(GetHandleId(target)),(686)))
	local integer lvl=GetUnitAbilityLevel(source,'A1G7')
	if LVO>GetTime()then
		call SaveReal(HY,(GetHandleId(target)),(686),((GetTime()+4)*1.0))
	else
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveReal(HY,(GetHandleId(target)),(686),((GetTime()+4)*1.0))
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerRegisterDeathEvent(t,target)
		call TriggerAddCondition(t,Condition(function Func2210))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveInteger(HY,(h),(5),(lvl))
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\AcidBomb\\BottleImpact.mdl",target,"overhead")))
		if lvl==1 then
			call UnitAddAbilityPermanent(target,'A24P')
			call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A24P',false)
		elseif lvl==2 then
			call UnitAddAbilityPermanent(target,'A24P')
			call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A24P',false)
		elseif lvl==3 then
			call UnitAddAbilityPermanent(target,'A24P')
			call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A24P',false)
		elseif lvl==4 then
			call UnitAddAbilityPermanent(target,'A24P')
			call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A24P',false)
		endif
	endif
	set t=null
endfunction

function Sentinel_FindClosest takes nothing returns boolean
	if GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(unit298)and(GetUnitTypeId(GetFilterUnit())=='h0BT' or GetUnitTypeId(GetFilterUnit())=='h0BU')then
		if Func0141(GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()),real301,real302)<real303 then
			set unit297=GetFilterUnit()
			set real303=Func0141(GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()),real301,real302)
		endif
	endif
	return false
endfunction

function Func2212 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target
	local group g
	local real time=(LoadReal(HY,(h),(442)))
	local real x
	local real y
	local integer RII
	local real hp
	local integer Count=(LoadInteger(HY,(h),(34)))
	if GetTriggerEventId()!=EVENT_PLAYER_UNIT_DEATH then
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
	endif
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_DEATH then
		if GetTriggerUnit()==caster then
			call UnitRemoveAbility(caster,'Apiv')
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	elseif GetUnitTypeId(caster)=='h0BT' then
		set tt_unit1=caster
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(caster),GetUnitY(caster),110,Condition(function DefaultEnemyFilterWithAncients))
		set target=Func0235(g,GetUnitX(caster),GetUnitY(caster))
		call KillGroup(g)
		if target!=null then
			call Func2211(source,target)
			set x=GetUnitX(caster)
			set y=GetUnitY(caster)
			set hp=GetUnitState(caster,UNIT_STATE_LIFE)
			call ShowUnit(caster,false)
			call DisableTrigger(t)
			call KillUnit(caster)
			call EnableTrigger(t)
			set caster=CreateUnit(GetOwningPlayer(source),'h0BU',x,y,0)
			call SetUnitState(caster,UNIT_STATE_LIFE,hp)
			call UnitApplyTimedLife(caster,'BTLF',480-(GetTime()-time))
			call SaveUnitHandle(HY,(h),(19),(caster))
			call SaveReal(HY,(h),(411),((GetTime()+4)*1.0))
		endif
	elseif GetUnitTypeId(caster)=='h0BU' and(LoadReal(HY,(h),(411)))<GetTime()then
		set x=GetUnitX(caster)
		set y=GetUnitY(caster)
		set hp=GetUnitState(caster,UNIT_STATE_LIFE)
		call ShowUnit(caster,false)
		call DisableTrigger(t)
		call KillUnit(caster)
		call EnableTrigger(t)
		set caster=CreateUnit(GetOwningPlayer(source),'h0BT',x,y,0)
		call SetUnitState(caster,UNIT_STATE_LIFE,hp)
		call UnitApplyTimedLife(caster,'BTLF',480-(GetTime()-time))
		call SaveUnitHandle(HY,(h),(19),(caster))
	endif
	set t=null
	set source=null
	set target=null
	set caster=null
	set g=null
	return false
endfunction

function Func2213 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A1G7')
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local unit caster=CreateUnit(GetOwningPlayer(source),'h0BT',x,y,0)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call UnitApplyTimedLife(caster,'BTLF',480)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func2212))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(442),((GetTime())*1.0))
	call SaveInteger(HY,(h),(34),(0))
	set t=null
	set source=null
	set caster=null
endfunction

function Func2214 takes nothing returns boolean
	if GetSpellAbilityId()=='A1G7' then
		call Func2213()
	endif
	return false
endfunction

function Func2215 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2214))
	set t=null
endfunction

function Func2216 takes nothing returns nothing
	local unit target=GetEnumUnit()
	local real d=Func0141(GetUnitX(target),GetUnitY(target),real305,real306)
	if d<real304 and IsUnitVisible(target,GetOwningPlayer(unit300)) and(IsUnitType(target,UNIT_TYPE_HERO) or(IsUnitType(target,UNIT_TYPE_STRUCTURE) and Func0263(target)))then
		set unit299=GetEnumUnit()
		set real304=d
	endif
	set target=null
endfunction

function Func2217 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local integer lvl=GetUnitAbilityLevel(source,'A2ML')
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamage()>5 then
			set Count=Count+1
			call SaveInteger(HY,(h),(34),(Count))
			call Func0137(target,RMinBJ(GetEventDamage(),20*GetUnitAbilityLevel(source,'A2ML')))
		endif
	endif
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or Count>(lvl+3-1)then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitRemoveAbility(target,'A2MX')
		call UnitRemoveAbility(target,'A2MY')
		call UnitRemoveAbility(target,'A2MW')
		call UnitRemoveAbility(target,'A2MV')
		call UnitRemoveAbility(target,'B0G5')
	endif
	set t=null
	set target=null
	return false
endfunction

function Func2218 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer OO1='A2MX'
	local integer lvl=GetUnitAbilityLevel(source,'A2ML')
	local group g
	if target==null then
		set unit299=null
		set unit300=source
		set real304=999999
		set real305=GetSpellTargetX()
		set real306=GetSpellTargetY()
		set tt_unit1=source
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,0,0,9999,Condition(function Func0286))
		call ForGroup(g,function Func2216)
		call KillGroup(g)
		set target=unit299
		set g=null
	endif
	if lvl==2 then
		set OO1='A2MY'
	elseif lvl==3 then
		set OO1='A2MW'
	elseif lvl==4 then
		set OO1='A2MV'
	endif
	call UnitAddAbilityPermanent(target,OO1)
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),OO1,false)
	call TriggerRegisterTimerEvent(t,15,false)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func2217))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(34),(0))
	set t=null
	set source=null
endfunction

function Func2219 takes nothing returns boolean
	if GetSpellAbilityId()=='A2ML' then
		call Func2218()
	endif
	return false
endfunction

function Func2220 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2219))
	set t=null
endfunction

function Func2221 takes nothing returns nothing
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit source=tt_unit1
	local unit target=tt_unit2
	local real MR3=(LoadReal(HY,(h),(21)))
	call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)+MR3)
	set source=null
	set target=null
endfunction

function Func2222 takes nothing returns nothing
	local trigger t=AddProjectile(unit301,GetEnumUnit(),'h0D8',"Func2221",400,false)
	local integer h=GetHandleId(t)
	call SaveReal(HY,(h),(21),((real307)*1.0))
	set t=null
endfunction

function Func2223 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local group g
	local integer Count=(LoadInteger(HY,(h),(34)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitRemoveAbility(target,'A273')
		call UnitRemoveAbility(target,'B0EL')
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
	else
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
		if Count>5 then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call UnitRemoveAbility(target,'A273')
			call UnitRemoveAbility(target,'B0EL')
		endif
		call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl",target,"origin"))
		set tt_unit1=source
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),525,Condition(function Func0295))
		set unit301=target
		set real307=15*lvl
		call ForGroup(g,function Func2222)
		call KillGroup(g)
		call DamageTarget(source,target,1,real307)
	endif
	set t=null
	set source=null
	set target=null
	set g=null
	return false
endfunction

function Func2224 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A26N')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call UnitAddAbilityPermanent(target,'A273')
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A273',false)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerRegisterTimerEvent(t,4.5,false)
	call TriggerAddCondition(t,Condition(function Func2223))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(442),((GetTime())*1.0))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(34),(0))
	set t=null
	set source=null
endfunction

function LeechSeed takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	call AddProjectile(source,target,'h0D9',"Func2224",600,false)
	set source=null
	set target=null
endfunction

function Func2225 takes nothing returns boolean
	if GetSpellAbilityId()=='A26N' and IsBlocked(GetSpellTargetUnit())==false then
		call Func2224()
	endif
	return false
endfunction

function Func2226 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2225))
	set t=null
endfunction

function Func2227 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A2NT')
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call DamageTarget(source,target,1,100+50*lvl)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2228 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	local integer lvl=GetUnitAbilityLevel(source,'A2NT')
	local boolean NO3=(LoadBoolean(HY,(h),(95)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call UnitAddAbilityPermanent(caster,'A0LS')
	call SetUnitAbilityLevel(caster,'A0LS',lvl)
	call IssueTargetOrder(caster,"soulburn",target)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerAddCondition(t,Condition(function Func2227))
	call TriggerRegisterTimerEvent(t,0.01,false)
	call SaveUnitHandle(HY,(GetHandleId(t)),(2),(source))
	call SaveUnitHandle(HY,(GetHandleId(t)),(17),(target))
	call SaveInteger(HY,(GetHandleId(t)),(5),(lvl))
	if NO3 then
		call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\LastWordDamageSpell.mdx",target,"overhead"))
	endif
	set t=null
	set source=null
	set target=null
	set caster=null
	return false
endfunction

function Func2229 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit caster
	local integer lvl=GetUnitAbilityLevel(source,'A2NT')
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call UnitRemoveAbility(target,'A2NU')
		call UnitRemoveAbility(target,'B05V')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call UnitRemoveAbility(target,'A2NU')
		call UnitRemoveAbility(target,'B05V')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerAddCondition(t,Condition(function Func2228))
		call TriggerRegisterTimerEvent(t,0.01,false)
		call SaveUnitHandle(HY,(GetHandleId(t)),(2),(source))
		call SaveUnitHandle(HY,(GetHandleId(t)),(17),(target))
		call SaveInteger(HY,(GetHandleId(t)),(5),(lvl))
		call SaveBoolean(HY,(h),(95),(false))
		set caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
		call UnitAddAbilityPermanent(caster,'A2NW')
		call SetUnitAbilityLevel(caster,'A2NW',lvl)
		call IssueTargetOrder(caster,"drunkenhaze",target)
		call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\LastWordDamageDuration.mdx",target,"overhead"))
		set caster=null
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and Func0407(GetSpellAbilityId())==false and Func0409(GetSpellAbilityId())==false and GetSpellAbilityId()!='AIbk' and GetSpellAbilityId()!='A05Z' and GetSpellAbilityId()!='A0FP' and GetSpellAbilityId()!='A0QY' and GetSpellAbilityId()!='A06X' and GetSpellAbilityId()!='A0AQ' and GetSpellAbilityId()!='A21X' and GetSpellAbilityId()!='A21W' and GetSpellAbilityId()!='A21V' and GetSpellAbilityId()!='A12W' and GetSpellAbilityId()!='A06K' and GetSpellAbilityId()!='Aeat' and GetSpellAbilityId()!='A0JY' and GetSpellAbilityId()!='A0FO' and GetSpellAbilityId()!='A1NI' and GetSpellAbilityId()!='A1MI' and GetSpellAbilityId()!='A2QE' and GetSpellAbilityId()!='A1Q8' and GetSpellAbilityId()!='A1RA' and GetSpellAbilityId()!='A1QV' and GetSpellAbilityId()!='A21Y' and GetSpellAbilityId()!='A1GU' and GetSpellAbilityId()!='A1YY' and Func0252(GetSpellAbilityId())==false then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call UnitRemoveAbility(target,'A2NU')
		call UnitRemoveAbility(target,'B05V')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		set t=CreateTrigger()
		set h=GetHandleId(t)
		if GetSpellAbilityId()=='A0RV' or GetSpellAbilityId()=='A0LN' then
			call TriggerRegisterTimerEvent(t,0.01,false)
		else
			call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_SPELL_ENDCAST)
		endif
		call TriggerAddCondition(t,Condition(function Func2228))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveBoolean(HY,(h),(95),(true))
	endif
	set target=null
	set source=null
	set t=null
	return false
endfunction

function Func2230 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetUnitAbilityLevel(target,'A2NU')==0 or GetTriggerEvalCount(t)>250 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillUnit(caster)
	else
		call SetUnitX(caster,GetUnitX(target))
		call SetUnitY(caster,GetUnitY(target))
	endif
	set t=null
	set caster=null
	set target=null
	return false
endfunction

function Func2231 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster=CreateUnit(GetOwningPlayer(source),'o019',GetUnitX(target),GetUnitY(target),0)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_SPELL_EFFECT)
	call TriggerRegisterTimerEvent(t,5,false)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerAddCondition(t,Condition(function Func2229))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call UnitAddAbilityPermanent(target,'A2NU')
	call UnitMakeAbilityPermanent(target,true,'A2NV')
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2NU',false)
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\LastWordDebuff_6.mdx",target,"overhead")))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func2230))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveUnitHandle(HY,(h),(17),(target))
	set source=null
	set target=null
	set t=null
endfunction

function Func2232 takes nothing returns boolean
	if GetSpellAbilityId()=='A2NT' and IsBlocked(GetSpellTargetUnit())==false then
		call Func2231()
	endif
	return false
endfunction

function LastWord_Process takes nothing returns nothing
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit source=tt_unit2
	local real dmg=(LoadReal(HY,(h),(20)))
	call SetHeroInt(source,GetHeroInt(source,false)+1,true)
	call Func0163("+1 "+GetObjectName('n0JP'),3,source,0.023,0,255,0,230)
	set source=null
endfunction

function Func2233 takes nothing returns nothing
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit source=tt_unit2
	local real dmg=(LoadReal(HY,(h),(20)))
	call SetHeroInt(source,GetHeroInt(source,false)+2,true)
	call Func0163("+2 "+GetObjectName('n0JP'),3,source,0.023,0,255,0,230)
	set source=null
endfunction

function Func2234 takes unit source,unit IFO returns nothing
	if IsUnitType(IFO,UNIT_TYPE_HERO) and Func0406(GetUnitTypeId(IFO))==false and IsUnitIllusion(IFO)==false and(IsUnitInRange(source,IFO,900)or GetOwningPlayer(source)==GetOwningPlayer(GetKillingUnit()))and IsDead(source)==false and IsUnitAlly(source,GetOwningPlayer(IFO))==false then
		if GetUnitTypeId(source)=='N01A' then
			set integers154[GetPlayerId(GetOwningPlayer(source))]=integers154[GetPlayerId(GetOwningPlayer(source))]+2
			call Func0163("-2 "+GetObjectName('n0JP'),3,IFO,0.023,255,0,0,230)
			call SetHeroInt(IFO,GetHeroInt(IFO,false)-2,true)
			call AddProjectile(IFO,source,'h0CP',"Func2233",450,false)
		endif
	endif
endfunction

function Func2235 takes nothing returns nothing
	call Func2234(GetEnumUnit(),GetTriggerUnit())
endfunction

function Func2236 takes nothing returns boolean
	local group g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1000,Condition(function Func0307))
	call GroupAddUnit(g,Players_Hero[GetPlayerId(GetOwningPlayer(GetKillingUnit()))])
	call ForGroup(g,function Func2235)
	call KillGroup(g)
	set g=null
	return false
endfunction

function Func2237 takes nothing returns boolean
	local integer QHI=integers154[GetPlayerId(GetTriggerPlayer())]
	if GetUnitTypeId(Players_Hero[GetPlayerId(GetTriggerPlayer())])=='N01A' and QHI>0 then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,GetObjectName('n0HM')+" "+I2S(QHI))
	endif
	return false
endfunction

function Func2238 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2232))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2236))
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-st",true)
	call TriggerAddCondition(t,Condition(function Func2237))
	set t=null
endfunction

function Func2239 takes nothing returns boolean
	local real d
	if GetUnitAbilityLevel(GetTriggerUnit(),'B05X')>0 and GetUnitAbilityLevel(GetEventDamageSource(),'A0LZ')>0 and(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(2)))==GetEventDamageSource()then
		call UnitRemoveAbility(GetTriggerUnit(),'B05X')
		set d=(0.1+0.2*I2R(GetUnitAbilityLevel(GetEventDamageSource(),'A0LZ')))*GetHeroInt(GetEventDamageSource(),true)
		call Func0163("+"+I2S(R2I(d)),1,GetTriggerUnit(),0.023,3,216,216,216)
		call DisableTrigger(GetTriggeringTrigger())
		call DamageTarget(GetEventDamageSource(),GetTriggerUnit(),3,d)
		call FlushChildHashtable(HY,(GetHandleId(GetTriggeringTrigger())))
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func2240 takes nothing returns nothing
	local trigger t
	local unit target
	local unit source
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		set target=GetSpellTargetUnit()
		set source=GetTriggerUnit()
	else
		set target=GetTriggerUnit()
		set source=GetAttacker()
	endif
	if IsUnitIllusion(source)==false then
		set t=CreateTrigger()
		call SaveUnitHandle(HY,(GetHandleId(t)),(2),(source))
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
		call TriggerAddCondition(t,Condition(function Func2239))
	endif
	set t=null
	set target=null
	set source=null
endfunction

function Func2241 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
		if GetUnitAbilityLevel(GetAttacker(),'A0LZ')>0 and(LoadBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(263)))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(14)))then
			call Func2240()
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
		if(GetIssuedOrderId()==OrderId("poisonarrows"))then
			call SaveBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(263),(true))
		elseif(GetIssuedOrderId()==OrderId("unpoisonarrows"))then
			call SaveBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(263),(false))
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A0LZ' then
		call Func2240()
	endif
	return false
endfunction

function Func2242 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_SPELL_EFFECT)
	call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_ORDER)
	call TriggerAddCondition(t,Condition(function Func2241))
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(GetTriggerUnit()))
	set t=null
endfunction

function Func2243 takes nothing returns boolean
	if GetLearnedSkill()=='A0LZ' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0LZ')==1 then
		call Func2242()
	endif
	return false
endfunction

function Func2244 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2243))
	set t=null
endfunction

function Func2245 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	if GetTriggerEventId()!=EVENT_UNIT_DEATH and GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT and Count<(6)then
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
		call SetUnitState(target,UNIT_STATE_MANA,GetUnitState(target,UNIT_STATE_MANA)-8*lvl)
		call DamageTarget(source,target,1,5+15*lvl)
	elseif Count>=(6)or GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()!='A12W' and GetSpellAbilityId()!='A0FO' and GetSpellAbilityId()!='A1MO' and GetSpellAbilityId()!='A1C0' and GetSpellAbilityId()!='A1ZI' and GetSpellAbilityId()!='A28Y' and Func0409(GetSpellAbilityId())==false and(Func0073(GetSpellAbilityId())or GetSpellAbilityId()=='A06K'))then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call UnitRemoveAbility(target,'A1PS')
		call UnitRemoveAbility(target,'B0CQ')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2246 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetEnumUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A14L')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call UnitAddAbilityPermanent(target,'A1PS')
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_SPELL_EFFECT)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func2245))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareTarget.mdl",target,"overhead")))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(34),(0))
	set source=null
	set target=null
	set t=null
endfunction

function Func2247 takes nothing returns nothing
	local group g
	local integer lvl=GetUnitAbilityLevel(GetTriggerUnit(),'A14L')
	if lvl>0 then
		set g=GetAvailableGroup()
		set tt_unit1=GetTriggerUnit()
		set unit302=GetTriggerUnit()
		call GroupEnumUnitsInRange(g,0,0,9999,Condition(function Func0301))
		call ForGroup(g,function Func2246)
		call KillGroup(g)
	endif
	set g=null
endfunction

function Func2248 takes nothing returns nothing
	local group g=GetAvailableGroup()
	local location l=GetSpellTargetLoc()
	set tt_unit1=GetTriggerUnit()
	set unit302=GetTriggerUnit()
	call GroupEnumUnitsInRange(g,GetLocationX(l),GetLocationY(l),375,Condition(function Func0301))
	call ForGroup(g,function Func2246)
	call Func0154("war3mapImported\\CotS.mdx",GetLocationX(l),GetLocationY(l),5)
	call KillGroup(g)
	call RemoveLocation(l)
	set g=null
	set l=null
endfunction

function Func2249 takes nothing returns boolean
	if GetSpellAbilityId()=='A14L' then
		call Func2248()
	endif
	return false
endfunction

function Func2250 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2249))
	set t=null
endfunction

function Func2251 takes nothing returns boolean
	return GetSpellAbilityId()=='A0L3' or GetSpellAbilityId()=='A2QC'
endfunction

function Func2252 takes nothing returns boolean
	call CleanTrigger(GetTriggeringTrigger())
	call VolumeGroupReset()
	return false
endfunction

function Func2253 takes nothing returns nothing
	local location BFO=GetUnitLoc(GetTriggerUnit())
	local trigger t=CreateTrigger()
	local integer lvl=GetUnitAbilityLevel(GetTriggerUnit(),'A0L3')
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(GetTriggerUnit(),'A2QC')
		call Func2247()
	endif
	call TriggerRegisterTimerEvent(t,lvl+2,false)
	call TriggerAddCondition(t,Condition(function Func2252))
	call CreateNUnitsAtLoc(1,'e00E',GetOwningPlayer(GetTriggerUnit()),BFO,270)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitApplyTimedLifeBJ(5.00,'BTLF',bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit,'A0L2')
	call SetUnitAbilityLevelSwapped('A0L2',bj_lastCreatedUnit,lvl)
	call IssuePointOrderLoc(bj_lastCreatedUnit,"silence",BFO)
	call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_UNITSOUNDS,.0)
	call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_COMBAT,.0)
	call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_SPELLS,.0)
	call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_MUSIC,.0)
	call RemoveLocation(BFO)
	set t=null
	set BFO=null
endfunction

function Func2254 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2251))
	call TriggerAddAction(t,function Func2253)
endfunction

function Func2255 takes nothing returns boolean
	return GetLearnedSkill()=='A03U'
endfunction

function Func2256 takes nothing returns nothing
	call SetPlayerTechResearchedSwap('R005',GetUnitAbilityLevelSwapped('A03U',GetTriggerUnit()),GetOwningPlayer(GetLearningUnit()))
endfunction

function Func2257 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2255))
	call TriggerAddAction(t,function Func2256)
endfunction

function Func2258 takes nothing returns nothing
	if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false then
		if(LoadInteger(HY,(GetHandleId(GetEnumUnit())),(836)))==integer480 or GetTime()>(1.1+(LoadReal(HY,(GetHandleId(GetEnumUnit())),(837))))then
			call SaveInteger(HY,(GetHandleId(GetEnumUnit())),(836),(integer480))
			call SaveReal(HY,(GetHandleId(GetEnumUnit())),(837),((GetTime())*1.0))
			call DamageTarget(unit303,GetEnumUnit(),1,real308)
			call IssueTargetOrder(unit304,"slow",GetEnumUnit())
		endif
	endif
endfunction

function Func2259 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local group g=GetAvailableGroup()
	local real d
	local real a
	local real x2
	local real y2
	set integer480=h
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,x,y,450+25,Condition(function Func0284))
	set unit303=source
	set real308=lvl*12
	set unit304=caster
	call ForGroup(g,function Func2258)
	call KillGroup(g)
	call DestroyEffect((LoadEffectHandle(HY,(h),(309))))
	call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
	call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
	call DestroyEffect((LoadEffectHandle(HY,(h),(177))))
	call DestroyEffect((LoadEffectHandle(HY,(h),(178))))
	call DestroyEffect((LoadEffectHandle(HY,(h),(179))))
	call DestroyEffect((LoadEffectHandle(HY,(h),(180))))
	call DestroyEffect((LoadEffectHandle(HY,(h),(330))))
	call DestroyEffect((LoadEffectHandle(HY,(h),(331))))
	if GetTriggerEvalCount(t)==10 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set d=0
		set a=0
		set x2=x+d*Cos(a*bj_DEGTORAD)
		set y2=y+d*Sin(a*bj_DEGTORAD)
		call SaveEffectHandle(HY,(h),(309),(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2)))
		set d=150
		set a=45
		set x2=x+d*Cos(a*bj_DEGTORAD)
		set y2=y+d*Sin(a*bj_DEGTORAD)
		call SaveEffectHandle(HY,(h),(175),(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2)))
		set d=275
		set a=90
		set x2=x+d*Cos(a*bj_DEGTORAD)
		set y2=y+d*Sin(a*bj_DEGTORAD)
		call SaveEffectHandle(HY,(h),(176),(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2)))
		set d=150
		set a=135
		set x2=x+d*Cos(a*bj_DEGTORAD)
		set y2=y+d*Sin(a*bj_DEGTORAD)
		call SaveEffectHandle(HY,(h),(177),(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2)))
		set d=275
		set a=180
		set x2=x+d*Cos(a*bj_DEGTORAD)
		set y2=y+d*Sin(a*bj_DEGTORAD)
		call SaveEffectHandle(HY,(h),(178),(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2)))
		set d=150
		set a=225
		set x2=x+d*Cos(a*bj_DEGTORAD)
		set y2=y+d*Sin(a*bj_DEGTORAD)
		call SaveEffectHandle(HY,(h),(179),(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2)))
		set d=275
		set a=270
		set x2=x+d*Cos(a*bj_DEGTORAD)
		set y2=y+d*Sin(a*bj_DEGTORAD)
		call SaveEffectHandle(HY,(h),(180),(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2)))
		set d=150
		set a=305
		set x2=x+d*Cos(a*bj_DEGTORAD)
		set y2=y+d*Sin(a*bj_DEGTORAD)
		call SaveEffectHandle(HY,(h),(330),(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2)))
		set d=275
		set a=360
		set x2=x+d*Cos(a*bj_DEGTORAD)
		set y2=y+d*Sin(a*bj_DEGTORAD)
		call SaveEffectHandle(HY,(h),(331),(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2)))
	endif
	set t=null
	set source=null
	set caster=null
	set g=null
	return false
endfunction

function Func2260 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A2ZO')
	local real x1=(LoadReal(HY,(h),(6)))
	local real y1=(LoadReal(HY,(h),(7)))
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',x1,y1,0)
	local real x2
	local real y2
	local real d
	local real a
	local integer i
	call UnitAddAbilityPermanent(caster,'A19F')
	call SetUnitAbilityLevel(caster,'A19F',lvl)
	if GetTriggerEvalCount(t)==1 then
		set i=1
		loop
			exitwhen i>10
			set d=GetRandomReal(0,450)
			set a=GetRandomReal(0,360)
			set x2=x1+d*Cos(a*bj_DEGTORAD)
			set y2=y1+d*Sin(a*bj_DEGTORAD)
			set caster=CreateUnit(GetOwningPlayer(source),'e00J',GetUnitX(source),GetUnitY(source),90)
			call IssuePointOrder(caster,"attackground",x2,y2)
			call UnitApplyTimedLife(caster,'BTLF',0.5)
			set i=i+1
		endloop
	else
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(19),(caster))
		call SaveReal(HY,(h),(6),((x1)*1.0))
		call SaveReal(HY,(h),(7),((y1)*1.0))
		call SaveInteger(HY,(h),(5),(lvl))
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func2259))
		call TriggerEvaluate(t)
	endif
	set source=null
	set caster=null
	set t=null
	return false
endfunction

function Func2261 takes nothing returns nothing
	local trigger t
	local integer h
	local unit source=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local integer JGO=(LoadInteger(HY,(GetHandleId(source)),(829)))
	if JGO>0 then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TimedReveal(GetOwningPlayer(source),9.4,x,y,360)
		call TriggerRegisterTimerEvent(t,0.4,true)
		call TriggerAddCondition(t,Condition(function Func2260))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveReal(HY,(h),(6),((x)*1.0))
		call SaveReal(HY,(h),(7),((y)*1.0))
		call UnitRemoveAbility(source,integers155[JGO])
		set JGO=JGO-1
		call SaveInteger(HY,(GetHandleId(source)),(829),(JGO))
		call UnitAddAbilityPermanent(source,integers155[JGO])
	else
		call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0NY'))
	endif
	call RemoveLocation(l)
	set t=null
	set source=null
	set l=null
endfunction

function Func2262 takes nothing returns boolean
	if GetSpellAbilityId()=='A2ZR' or GetSpellAbilityId()=='A2ZQ' or GetSpellAbilityId()=='A064' or GetSpellAbilityId()=='A2ZP' then
		call Func2261()
	endif
	return false
endfunction

function Func2263 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer JGO=(LoadInteger(HY,(GetHandleId(source)),(829)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local integer NQ3=3
	if JGO<NQ3 then
		set Count=Count-1
		call SaveInteger(HY,(h),(34),(Count))
		if Count==0 then
			call UnitRemoveAbility(source,integers155[JGO])
			set Count=40
			call SaveInteger(HY,(h),(34),(Count))
			set JGO=JGO+1
			call SaveInteger(HY,(GetHandleId(source)),(829),(JGO))
			call UnitAddAbilityPermanent(source,integers155[JGO])
		endif
	endif
	set t=null
	set source=null
	return false
endfunction

function Func2264 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveInteger(HY,(GetHandleId(source)),(829),(3))
	call UnitAddAbilityPermanent(source,integers155[3])
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func2263))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(34),(40))
	set source=null
	set t=null
endfunction

function Func2265 takes nothing returns boolean
	if GetLearnedSkill()=='A2ZO' and IsUnitIllusion(GetTriggerUnit())==false then
		if GetUnitAbilityLevel(GetTriggerUnit(),'A2ZO')==1 then
			call Func2264()
		endif
	endif
	return false
endfunction

function Func2266 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2262))
	call Func0125('A19F')
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2265))
	set t=null
	set integers155[0]='A2ZR'
	set integers155[1]='A2ZQ'
	set integers155[2]='A064'
	set integers155[3]='A2ZP'
endfunction

function Func2267 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local effect FX=(LoadEffectHandle(HY,(h),(32)))
	local player p=GetOwningPlayer(Hero)
	call UnitShareVision(target,p,false)
	call DestroyEffect(FX)
	call RemoveUnit(caster)
	call UnitRemoveAbility(target,'B06H')
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	set caster=null
	set target=null
	set FX=null
	set p=null
	return false
endfunction

function Func2268 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local player p=GetOwningPlayer(Hero)
	local unit caster
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local string s="effects\\Snipe Target.mdx"
	if IsPlayerAlly(LocalPlayer,p)==false and Func0100(LocalPlayer)==false then
		set s=""
	endif
	call UnitShareVision(target,p,true)
	set caster=CreateUnit(GetOwningPlayer(target),'e01R',0,0,0)
	call UnitAddAbilityPermanent(caster,'A0NI')
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget(s,target,"overhead")))
	call TriggerRegisterTimerEvent(t,4,false)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_SPELL_ENDCAST)
	call TriggerAddCondition(t,Condition(function Func2267))
	set t=null
	set Hero=null
	set target=null
	set caster=null
	set p=null
endfunction

function Func2269 takes nothing returns boolean
	if GetSpellAbilityId()=='A04P' or GetSpellAbilityId()=='A1AU' then
		call Func2268()
	endif
	return false
endfunction

function Func2270 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
	call TriggerAddCondition(t,Condition(function Func2269))
	set t=null
endfunction

function Func2271 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real time=(LoadReal(HY,(GetHandleId(source)),(827)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or time<GetTime()then
		call UnitRemoveAbility(source,'A2YK')
		call UnitRemoveAbility(source,'B0HD')
		call UnitRemoveAbility(source,'A2YM')
		call SaveReal(HY,(GetHandleId(source)),(827),((0)*1.0))
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func2272 takes unit source,unit target returns nothing
	local trigger t
	local integer h
	local real time=(LoadReal(HY,(GetHandleId(source)),(827)))
	local integer lvl=GetUnitAbilityLevel(source,'A03S')
	call SaveReal(HY,(GetHandleId(source)),(827),((GetTime()+0.5)*1.0))
	call DamageTarget(source,target,2,25*lvl-10)
	if Func0255(target)==false then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,0.5+0.01,false)
		call TriggerRegisterDeathEvent(t,target)
		call TriggerAddCondition(t,Condition(function Func2271))
		call SaveUnitHandle(HY,(h),(2),(target))
		call UnitAddAbilityPermanent(target,'A2YK')
		call UnitAddAbilityPermanent(target,'A2YM')
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2YK',false)
	endif
	set t=null
endfunction

function Func2273 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		if GetEventDamageSource()==source and GetEventDamage()>0 then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call Func2272(source,target)
		endif
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2274 takes nothing returns boolean
	local unit source=(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(2)))
	local unit target=GetTriggerUnit()
	local trigger t
	local integer h
	if GetAttacker()==source and((LoadInteger(HY,(GetHandleId((source))),((4347))))==1)==false and IsUnitType(target,UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(target,'A04R')==0 then
		if GetRandomReal(0,100)<40 then
			call AddTimedKeyToUnit(source,4347,0.1)
			set t=CreateTrigger()
			set h=GetHandleId(t)
			call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
			call TriggerRegisterTimerEvent(t,1.5,false)
			call TriggerAddCondition(t,Condition(function Func2273))
			call SaveUnitHandle(HY,(h),(2),(source))
			call SaveUnitHandle(HY,(h),(17),(target))
		endif
	endif
	set source=null
	set target=null
	return false
endfunction

function Func2275 takes nothing returns boolean
	local trigger t
	local integer h
	if GetLearnedSkill()=='A03S' and GetUnitAbilityLevel(GetTriggerUnit(),'A03S')==1 and IsUnitIllusion(GetTriggerUnit())==false then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
		call TriggerAddCondition(t,Condition(function Func2274))
		call SaveUnitHandle(HY,(h),(2),(GetTriggerUnit()))
		set t=null
	endif
	return false
endfunction

function Func2276 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2275))
	set t=null
endfunction

function Func2277 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e003',x,y,0)
	local integer lvl=GetUnitAbilityLevel(Hero,'A0RG')
	local real S83=(83+17*lvl)*0.01
	call SetUnitVertexColor(caster,255,255,255,150)
	call UnitApplyTimedLife(caster,'BTLF',6)
	call SetUnitScale(caster,S83,S83,S83)
	if Func0052(GetOwningPlayer(Hero))then
		call UnitAddAbilityPermanent(caster,'A019')
		call SetUnitAbilityLevel(caster,'A019',lvl)
	else
		call UnitAddAbilityPermanent(caster,'A0E7')
		call SetUnitAbilityLevel(caster,'A0E7',lvl)
	endif
	call IssuePointOrder(caster,"cloudoffog",x,y)
	call RemoveLocation(l)
	set Hero=null
	set l=null
	set caster=null
endfunction

function Func2278 takes nothing returns boolean
	if GetSpellAbilityId()=='A0RG' then
		call Func2277()
	endif
	return false
endfunction

function Func2279 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2278))
endfunction

function Func2280 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local player p
	local integer lvl=GetUnitAbilityLevel(source,'A00J')
	local real HJ3=(lvl+3)/4
	if GetTime()>(10-2*lvl)+real309 then
		call SetUnitState(source,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_LIFE)+HJ3)
	endif
	set p=null
	set t=null
	set source=null
	return false
endfunction

function Func2281 takes nothing returns boolean
	local unit source=GetAttacker()
	local integer lvl=GetUnitAbilityLevel(source,'A00J')
	if lvl>0 then
		set real309=GetTime()
		call UnitRemoveAbility(source,integers156[lvl])
		call UnitRemoveAbility(source,'A00J')
		call UnitAddAbilityPermanent(source,integers156[lvl])
		call UnitAddAbilityPermanent(source,'A00J')
		call SetUnitAbilityLevel(source,'A00J',lvl)
	endif
	set source=null
	return false
endfunction

function Func2282 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A00J')
	local trigger t
	local integer h
	if lvl==1 then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,0.25,true)
		call TriggerAddCondition(t,Condition(function Func2280))
		call SaveUnitHandle(HY,(h),(2),(source))
		set t=null
	endif
	if GetUnitAbilityLevel(source,'A0MB')==0 then
		call UnitAddAbilityPermanent(source,'A0MB')
	endif
	if lvl==2 then
		call UnitRemoveAbility(source,integers156[1])
	elseif lvl==3 then
		call UnitRemoveAbility(source,integers156[1])
		call UnitRemoveAbility(source,integers156[2])
	elseif lvl==4 then
		call UnitRemoveAbility(source,integers156[1])
		call UnitRemoveAbility(source,integers156[2])
		call UnitRemoveAbility(source,integers156[3])
	endif
	call SetUnitAbilityLevel(source,'A0MB',lvl)
	call UnitAddAbilityPermanent(source,integers156[lvl])
	set source=null
endfunction

function Func2283 takes nothing returns boolean
	if GetLearnedSkill()=='A00J' and IsUnitIllusion(GetTriggerUnit())==false then
		call Func2282()
	endif
	return false
endfunction

function Func2284 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2283))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func2281))
	set integers156[1]='A2UR'
	set integers156[2]='A2US'
	set integers156[3]='A2UT'
	set integers156[4]='A2YU'
	set t=null
endfunction

function Func2285 takes integer id returns boolean
	return id=='A2YZ' or id=='A2YW' or id=='A2YV' or id=='A2YY' or id=='A2YX' or id=='A2Z0' or id=='A2ZL'
endfunction

function Func2286 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local real dmg=10+30*GetUnitAbilityLevel(source,'A0K9')
	local trigger t
	local integer h
	local real x=GetUnitX(target)-75*Cos(GetUnitFacing(target)*bj_DEGTORAD)
	local real y=GetUnitY(target)-75*Sin(GetUnitFacing(target)*bj_DEGTORAD)
	local integer JGO=(LoadInteger(HY,(GetHandleId(source)),(828)))
	if JGO>0 then
		call SetUnitX(source,x)
		call SetUnitY(source,y)
		call SetUnitFacing(source,GetUnitFacing(target))
		call DestroyEffect(AddSpecialEffect("war3mapImported\\BlinkStrike.mdx",x,y))
		if IsUnitEnemy(target,GetOwningPlayer(source))then
			call DamageTarget(source,target,1,dmg)
			call SaveBoolean(HY,(GetHandleId(source)),(332),(true))
			call IssueTargetOrder(source,"attack",target)
		endif
		call UnitRemoveAbility(source,integers157[JGO])
		set JGO=JGO-1
		call SaveInteger(HY,(GetHandleId(source)),(828),(JGO))
		call UnitAddAbilityPermanent(source,integers157[JGO])
	else
		call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0NY'))
	endif
	set source=null
	set target=null
	set t=null
endfunction

function Func2287 takes nothing returns boolean
	if Func2285(GetSpellAbilityId())then
		call Func2286()
	endif
	return false
endfunction

function Func2288 takes nothing returns boolean
	if Func2285(GetSpellAbilityId())then
		call DestroyEffect(AddSpecialEffect("war3mapImported\\BlinkStrike.mdx",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
	endif
	return false
endfunction

function Func2289 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer JGO=(LoadInteger(HY,(GetHandleId(source)),(828)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local integer NQ3=3+GetUnitAbilityLevel(source,'A0K9')
	if JGO<NQ3 then
		set Count=Count-1
		call SaveInteger(HY,(h),(34),(Count))
		if Count==0 then
			call UnitRemoveAbility(source,integers157[JGO])
			set Count=35
			call SaveInteger(HY,(h),(34),(Count))
			set JGO=JGO+1
			call SaveInteger(HY,(GetHandleId(source)),(828),(JGO))
			call UnitAddAbilityPermanent(source,integers157[JGO])
		endif
	endif
	set t=null
	set source=null
	return false
endfunction

function Func2290 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveInteger(HY,(GetHandleId(source)),(828),(4))
	call UnitAddAbilityPermanent(source,integers157[4])
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func2289))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(34),(35))
	set source=null
	set t=null
endfunction

function Func2291 takes nothing returns boolean
	if GetLearnedSkill()=='A0K9' and IsUnitIllusion(GetTriggerUnit())==false then
		if GetUnitAbilityLevel(GetTriggerUnit(),'A0K9')==1 then
			call Func2290()
		endif
	endif
	return false
endfunction

function Func2292 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2287))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func2288))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2291))
	set t=null
	set integers157[0]='A2YZ'
	set integers157[1]='A2YW'
	set integers157[2]='A2YV'
	set integers157[3]='A2YY'
	set integers157[4]='A2YX'
	set integers157[5]='A2Z0'
	set integers157[6]='A2ZL'
endfunction

function Func2293 takes nothing returns nothing
	local unit source=GetAttacker()
	local unit target=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A0DZ')
	local boolean SY3=(LoadBoolean(HY,(GetHandleId(source)),(332)))
	local real d=RAbsBJ(GetUnitFacing(target)-GetUnitFacing(source))
	if d>180 then
		set d=360-d
	endif
	if d<=105 or SY3 then
		call SaveBoolean(HY,(GetHandleId(source)),(332),(false))
		if GetUnitAbilityLevel(target,'A04R')==0 then
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",target,"chest"))
			call DamageTarget(source,target,2,GetHeroAgi(source,true)*(0.25*lvl+0.25))
		endif
	endif
	set source=null
	set target=null
endfunction

function Func2294 takes nothing returns boolean
	if GetUnitAbilityLevel(GetAttacker(),'A0DZ')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false then
		if IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false or(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false and GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)<0.5)then
			call Func2293()
		endif
	endif
	return false
endfunction

function Func2295 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func2294))
	set t=null
endfunction

function Func2296 takes nothing returns nothing
	if Func0255(GetEnumUnit())then
		return
	endif
	call Func0228(GetEnumUnit(),integer481,1,8,'B0BV')
	call UnitMakeAbilityPermanent(GetEnumUnit(),true,integer481)
	call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),integer481,false)
endfunction

function Func2297 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2IS')
	local group g=GetAvailableGroup()
	if lvl==1 then
		set integer481='A1F6'
	elseif lvl==2 then
		set integer481='A1F7'
	elseif lvl==3 then
		set integer481='A1F3'
	elseif lvl==4 then
		set integer481='A1F5'
	endif
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),925,Condition(function Func0290))
	call ForGroup(g,function Func2296)
	call KillGroup(g)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl",source,"overhead"))
	set source=null
	set g=null
endfunction

function Func2298 takes nothing returns boolean
	if GetSpellAbilityId()=='A2IS' then
		call Func2297()
	endif
	return false
endfunction

function Func2299 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2298))
	set t=null
endfunction

function Func2300 takes unit SWI returns boolean
	if Func0341(SWI,integers089[integer385])!=null then
		return true
	endif
	return false
endfunction

function Func2301 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local boolean CK3=Func2300(Hero)
	if GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT then
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
	endif
	if(GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT and Count>1)or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and Func0323(GetSpellAbilityId())and GetSpellTargetUnit()==Hero)then
		if(GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT and Count>1)then
			if IsDead(Hero)==false then
				call UnitRemoveAbility(Hero,'A2Z7')
				call UnitRemoveAbility(Hero,'A2Z9')
				call UnitRemoveAbility(Hero,'A2Z8')
				call UnitRemoveAbility(Hero,'A0WO')
				call UnitRemoveAbility(Hero,'A31E')
				call UnitRemoveAbility(Hero,'B009')
				call UnitRemoveAbility(Hero,'B0DP')
				call UnitRemoveAbility(Hero,'B0HN')
				call UnitRemoveAbility(Hero,'B0HO')
			endif
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	elseif GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT then
		call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BattleCryCaster.mdx",Hero,"overhead"))
		if CK3 then
			if lvl==1 then
				call UnitAddAbilityPermanent(Hero,'A2Z7')
				call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A2Z7',false)
				call UnitAddAbilityPermanent(Hero,'A31V')
				call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A31V',false)
			endif
			if lvl==2 then
				call UnitAddAbilityPermanent(Hero,'A2Z9')
				call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A2Z9',false)
				call UnitAddAbilityPermanent(Hero,'A31U')
				call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A31U',false)
			endif
			if lvl==3 then
				call UnitAddAbilityPermanent(Hero,'A2Z8')
				call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A2Z8',false)
				call UnitAddAbilityPermanent(Hero,'A31W')
				call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A31W',false)
			endif
		else
			call UnitAddAbilityPermanent(Hero,'A0WO')
			call SetUnitAbilityLevel(Hero,'A0WO',lvl)
			call UnitMakeAbilityPermanent(Hero,true,'A0WO')
			call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A0WO',false)
		endif
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func2302 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	local unit caster
	local integer lvl=GetUnitAbilityLevel(Hero,'A1WH')
	call TriggerRegisterTimerEvent(t,25,false)
	call TriggerRegisterTimerEvent(t,0.31,false)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2301))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveInteger(HY,(h),(34),(0))
	call SaveInteger(HY,(h),(5),(lvl))
	set t=null
	set Hero=null
endfunction

function Func2303 takes nothing returns boolean
	if GetSpellAbilityId()=='A1WH' and GetUnitTypeId(GetTriggerUnit())=='H001' then
		call Func2302()
	endif
	return false
endfunction

function Func2304 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2303))
	set t=null
endfunction

function Func2305 takes nothing returns nothing
	call StunTargetIF(unit305,GetEnumUnit(),2)
	call DamageTarget(unit305,GetEnumUnit(),1,integer482*75+25)
endfunction

function Func2306 takes player p,unit target,integer lvl returns nothing
	local unit caster=CreateUnit(p,'e00E',GetUnitX(target),GetUnitY(target),0)
	local integer aid
	local group g=GetAvailableGroup()
	set integer482=lvl
	set tt_unit1=Players_Hero[GetPlayerId(p)]
	call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),280,Condition(function DefaultEnemyFilterWithAncients))
	call GroupAddUnit(g,target)
	set unit305=caster
	call ForGroup(g,function Func2305)
	call KillGroup(g)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\StormBolt\\StormBoltMissile.mdl",target,"origin"))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\StormBolt\\StormBoltMissile.mdl",target,"origin"))
	set caster=null
	set g=null
endfunction

function Func2307 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real x=GetUnitX(IG1)
	local real y=GetUnitY(IG1)
	local real QJI=GetUnitX(target)
	local real QKI=GetUnitY(target)
	local real IH1=1000*0.035
	local real IZ1=Func0159(x,y,QJI,QKI)
	local real IV1=x+IH1*Cos(IZ1*bj_DEGTORAD)
	local real IW1=y+IH1*Sin(IZ1*bj_DEGTORAD)
	local boolean ZXO=(LoadBoolean(HY,(h),(249)))
	call SetUnitX(IG1,IV1)
	call SetUnitY(IG1,IW1)
	call SetUnitFacing(IG1,IZ1)
	if((LoadInteger(HY,(GetHandleId((target))),((4422))))==1) then
		set ZXO=false
		call SaveBoolean(HY,(h),(249),(ZXO))
	endif
	if Func0168(QJI,QKI,IV1,IW1)<=IH1 then
		if ZXO then
			call Func2306(p,target,lvl)
		endif
		call KillUnit(IG1)
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	set IG1=null
	return false
endfunction

function Func2308 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A190')
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit IG1=CreateUnit(GetOwningPlayer(source),'h07Q',GetUnitX(source),GetUnitY(source),Func0159(GetUnitX(source),GetUnitY(source),GetUnitX(target),GetUnitY(target)))
	local boolean ZXO=IsBlocked(GetSpellTargetUnit())==false
	call SaveBoolean(HY,(h),(249),(ZXO))
	call SavePlayerHandle(HY,(h),(54),(GetOwningPlayer(source)))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveInteger(HY,(h),(5),(lvl))
	call TriggerRegisterTimerEvent(t,0.035,true)
	call TriggerAddCondition(t,Condition(function Func2307))
	set t=null
	set source=null
	set target=null
	set IG1=null
endfunction

function Func2309 takes nothing returns boolean
	if GetSpellAbilityId()=='A190' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetTriggerUnit(),"weapon"))
		else
			call Func2308()
		endif
	endif
	return false
endfunction

function Func2310 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func2309))
	set t=null
endfunction

function Func2311 takes nothing returns boolean
	if((GetUnitTypeId(GetFilterUnit())=='n01G'))then
		return true
	endif
	if((GetUnitTypeId(GetFilterUnit())=='n01C'))then
		return true
	endif
	if((GetUnitTypeId(GetFilterUnit())=='n018'))then
		return true
	endif
	if((GetUnitTypeId(GetFilterUnit())=='n004'))then
		return true
	endif
	return false
endfunction

function Func2312 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit ZOO
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
	local integer lvl=GetUnitAbilityLevel(source,GetSpellAbilityId())
	local group g=GetAvailableGroup()
	call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(source),Condition(function Func2311))
	set ZOO=FirstOfGroup(g)
	call KillGroup(g)
	if GetSpellAbilityId()=='A1EF' then
		call UnitAddAbilityPermanent(caster,'A0AA')
		call SetUnitAbilityLevel(caster,'A0AA',lvl)
	elseif GetSpellAbilityId()=='A1EE' then
		call UnitAddAbilityPermanent(caster,'A0AB')
		call SetUnitAbilityLevel(caster,'A0AB',lvl)
	elseif GetSpellAbilityId()=='A1EH' then
		call UnitAddAbilityPermanent(caster,'A0AC')
		call SetUnitAbilityLevel(caster,'A0AC',lvl)
	elseif GetSpellAbilityId()=='A1EI' then
		call UnitAddAbilityPermanent(caster,'A0AD')
		call SetUnitAbilityLevel(caster,'A0AD',lvl)
	elseif GetSpellAbilityId()=='A1EG' then
		call UnitAddAbilityPermanent(caster,'A0AE')
		call SetUnitAbilityLevel(caster,'A0AE',lvl)
	endif
	call IssueTargetOrder(caster,"bloodlust",source)
	if ZOO!=null and IsDead(ZOO)==false then
		call IssueTargetOrder(caster,"bloodlust",ZOO)
	endif
	set g=null
	set source=null
	set ZOO=null
	set caster=null
endfunction

function Func2313 takes nothing returns boolean
	if GetSpellAbilityId()=='A1EF' or GetSpellAbilityId()=='A1EE' or GetSpellAbilityId()=='A1EH' or GetSpellAbilityId()=='A1EI' or GetSpellAbilityId()=='A1EG' then
		call Func2312()
	endif
	return false
endfunction

function Func2314 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2313))
	set t=null
endfunction

function Func2315 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit ZOO=(LoadUnitHandle(HY,(h),(2)))
	local real T43
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and Func0053(GetOwningPlayer(GetEventDamageSource()))then
			call SaveReal(HY,(h),(714),((GetTime())*1.0))
		endif
	endif
	set T43=(LoadReal(HY,(h),(714)))
	if T43+3<GetTime()then
		if(LoadInteger(HY,(h),(34)))==2 then
			call SaveInteger(HY,(h),(34),(1))
			call SaveInteger(HY,(GetHandleId((ZOO))),((4327)),(2))
			call SetPlayerAbilityAvailable(GetOwningPlayer(ZOO),'A0A7',true)
		endif
	else
		if(LoadInteger(HY,(h),(34)))==1 then
			call SaveInteger(HY,(h),(34),(2))
			call SaveInteger(HY,(GetHandleId((ZOO))),((4327)),(1))
			call SetPlayerAbilityAvailable(GetOwningPlayer(ZOO),'A0A7',false)
		endif
	endif
	set t=null
	set ZOO=null
	return false
endfunction

function Func2316 takes unit ZOO returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.2,true)
	call TriggerRegisterUnitEvent(t,ZOO,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,ZOO,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2315))
	call SaveUnitHandle(HY,(h),(2),(ZOO))
	call SaveReal(HY,(h),(714),((0)*1.0))
	call SaveInteger(HY,(h),(34),(1))
	call SetPlayerAbilityAvailable(GetOwningPlayer(ZOO),'A0A7',true)
	set t=null
endfunction

function Func2317 takes nothing returns boolean
	return(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),'B0C1')>0
endfunction

function Func2318 takes nothing returns nothing
	call DamageTarget(unit306,GetEnumUnit(),2,30)
endfunction

function Func2319 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit ZOO=(LoadUnitHandle(HY,(h),(53)))
	local group g=GetAvailableGroup()
	set tt_unit1=ZOO
	set unit306=ZOO
	call GroupEnumUnitsInRange(g,GetUnitX(ZOO),GetUnitY(ZOO),2000,Condition(function Func2317))
	call ForGroup(g,function Func2318)
	call KillGroup(g)
	set t=null
	set g=null
	set ZOO=null
	return false
endfunction

function Func2320 takes nothing returns nothing
	local unit ZOO=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerAddCondition(t,Condition(function Func2319))
	call SaveUnitHandle(HY,(h),(53),(ZOO))
	set ZOO=null
	set t=null
endfunction

function Func2321 takes nothing returns boolean
	return GetLearnedSkill()=='A0A5' and IsUnitIllusion(GetTriggerUnit())==false
endfunction

function Func2322 takes nothing returns boolean
	if IsDead(GetFilterUnit())then
		return false
	endif
	if((GetUnitTypeId(GetFilterUnit())=='n01C'))then
		return true
	endif
	if((GetUnitTypeId(GetFilterUnit())=='n018'))then
		return true
	endif
	if((GetUnitTypeId(GetFilterUnit())=='n004'))then
		return true
	endif
	return false
endfunction

function Func2323 takes nothing returns nothing
	local integer h=GetHandleId(GetOwningPlayer(GetTriggerUnit()))
	local unit TD3=(LoadUnitHandle(HY,(h),(334)))
	local unit ZOO=(LoadUnitHandle(HY,(h),(333)))
	if TD3!=null and Mode_DM==false then
		call UnitAddItem(ZOO,UnitRemoveItemFromSlot(TD3,0))
		call UnitAddItem(ZOO,UnitRemoveItemFromSlot(TD3,1))
		call UnitAddItem(ZOO,UnitRemoveItemFromSlot(TD3,2))
		call UnitAddItem(ZOO,UnitRemoveItemFromSlot(TD3,3))
		call UnitAddItem(ZOO,UnitRemoveItemFromSlot(TD3,4))
		call UnitAddItem(ZOO,UnitRemoveItemFromSlot(TD3,5))
	endif
endfunction

function Func2324 takes nothing returns nothing
	local unit PKI=GetTriggerUnit()
	local player T4I=GetOwningPlayer(PKI)
	local location BFO=GetUnitLoc(PKI)
	local boolexpr QL1=Condition(function Func2322)
	local group Z51=GetAvailableGroup()
	local integer lvl=GetUnitAbilityLevel(PKI,'A0A5')
	local integer h=GetHandleId(T4I)
	local integer TF3
	local unit ZOO
	local real Z43
	call GroupEnumUnitsOfPlayer(Z51,GetOwningPlayer(PKI),QL1)
	call DestroyBoolExpr(QL1)
	if(lvl==1)then
		call Func2320()
	endif
	set TF3=CountUnitsInGroup(Z51)
	if(TF3==1)then
		set ZOO=FirstOfGroup(Z51)
		set Z43=GetUnitLifePercent(ZOO)
		set BFO=GetUnitLoc(ZOO)
		call ShowUnit(ZOO,false)
		call KillUnit(ZOO)
		if(lvl==2)then
			call CreateNUnitsAtLoc(1,'n018',GetOwningPlayer(GetTriggerUnit()),BFO,270)
			call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
			call Func2316(bj_lastCreatedUnit)
		elseif(lvl==3)then
			call CreateNUnitsAtLoc(1,'n01C',GetOwningPlayer(GetTriggerUnit()),BFO,270)
			call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
			call Func2316(bj_lastCreatedUnit)
		elseif(lvl==4)then
			call CreateNUnitsAtLoc(1,'n01G',GetOwningPlayer(GetTriggerUnit()),BFO,270)
			call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
			call Func2316(bj_lastCreatedUnit)
		endif
		call SetUnitLifePercentBJ(bj_lastCreatedUnit,Z43)
		call SaveUnitHandle(HY,(h),(333),(bj_lastCreatedUnit))
		call Func2323()
	endif
	call KillGroup(Z51)
endfunction

function Func2325 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2321))
	call TriggerAddAction(t,function Func2324)
endfunction

function Func2326 takes nothing returns boolean
	return GetLearnedSkill()=='A0A8' and IsUnitIllusion(GetTriggerUnit())==false
endfunction

function Func2327 takes nothing returns nothing
	call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),'R000',GetPlayerTechCount(GetOwningPlayer(GetTriggerUnit()),'R000',true)+1)
	call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),'R001',GetPlayerTechCount(GetOwningPlayer(GetTriggerUnit()),'R001',true)+1)
endfunction

function Func2328 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2326))
	call TriggerAddAction(t,function Func2327)
endfunction

function Func2329 takes nothing returns boolean
	return GetSpellAbilityId()=='A0A5'
endfunction

function Func2330 takes nothing returns boolean
	if IsDead(GetFilterUnit())then
		return false
	endif
	if((GetUnitTypeId(GetFilterUnit())=='n01G'))then
		return true
	endif
	if((GetUnitTypeId(GetFilterUnit())=='n01C'))then
		return true
	endif
	if((GetUnitTypeId(GetFilterUnit())=='n018'))then
		return true
	endif
	if((GetUnitTypeId(GetFilterUnit())=='n004'))then
		return true
	endif
	return false
endfunction

function Func2331 takes nothing returns nothing
	local unit PKI=GetTriggerUnit()
	local player T4I=GetOwningPlayer(PKI)
	local location BFO=GetUnitLoc(PKI)
	local boolexpr QL1=Condition(function Func2330)
	local group Z51=GetAvailableGroup()
	local integer lvl=GetUnitAbilityLevel(PKI,'A0A5')
	local integer h=GetHandleId(T4I)
	local boolean TX3
	local unit ZOO
	call GroupEnumUnitsOfPlayer(Z51,GetOwningPlayer(PKI),QL1)
	set TX3=CountUnitsInGroup(Z51)==0
	if(lvl==1 and TX3)then
		call CreateNUnitsAtLoc(1,'n004',GetOwningPlayer(GetTriggerUnit()),BFO,270)
		call SaveUnitHandle(HY,(h),(333),(bj_lastCreatedUnit))
		call Func2323()
		call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
		call Func2316(bj_lastCreatedUnit)
	elseif(lvl==2 and TX3)then
		call CreateNUnitsAtLoc(1,'n018',GetOwningPlayer(GetTriggerUnit()),BFO,270)
		call SaveUnitHandle(HY,(h),(333),(bj_lastCreatedUnit))
		call Func2323()
		call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
		call Func2316(bj_lastCreatedUnit)
	elseif(lvl==3 and TX3)then
		call CreateNUnitsAtLoc(1,'n01C',GetOwningPlayer(GetTriggerUnit()),BFO,270)
		call SaveUnitHandle(HY,(h),(333),(bj_lastCreatedUnit))
		call Func2323()
		call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
		call Func2316(bj_lastCreatedUnit)
	elseif(lvl==4 and TX3)then
		call CreateNUnitsAtLoc(1,'n01G',GetOwningPlayer(GetTriggerUnit()),BFO,270)
		call SaveUnitHandle(HY,(h),(333),(bj_lastCreatedUnit))
		call Func2323()
		call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
		call Func2316(bj_lastCreatedUnit)
	elseif TX3==false then
		set ZOO=FirstOfGroup(Z51)
		call AddSpecialEffectTargetUnitBJ("chest",ZOO,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
		call SetUnitState(ZOO,UNIT_STATE_LIFE,GetUnitState(ZOO,UNIT_STATE_MAX_LIFE))
		call SetUnitPosition(ZOO,GetUnitX(PKI),GetUnitY(PKI))
		set ZOO=null
	endif
	call SetUnitAbilityLevel(bj_lastCreatedUnit,'A09Y',lvl)
	call KillGroup(Z51)
	call RemoveLocation(BFO)
	set PKI=null
	set T4I=null
	set BFO=null
	set Z51=null
endfunction

function Func2332 takes nothing returns nothing
	local unit PKI=GetTriggerUnit()
	local player T4I=GetOwningPlayer(PKI)
	local location BFO=GetUnitLoc(PKI)
	local boolexpr QL1=Condition(function Func2330)
	local group Z51=GetAvailableGroup()
	local integer lvl=GetUnitAbilityLevel(PKI,'A0A5')
	local integer h=GetHandleId(T4I)
	local boolean TX3
	local unit ZOO
	call GroupEnumUnitsOfPlayer(Z51,GetOwningPlayer(PKI),QL1)
	if CountUnitsInGroup(Z51)!=0 then
		set ZOO=FirstOfGroup(Z51)
		if ZOO!=null and((LoadInteger(HY,(GetHandleId((ZOO))),((4327))))==1) then
			call InterruptUnit(PKI)
			call Error(T4I,GetObjectName('n0MN'))
		endif
	endif
	call KillGroup(Z51)
	call RemoveLocation(BFO)
endfunction

function Func2333 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2329))
	call TriggerAddAction(t,function Func2331)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func2329))
	call TriggerAddAction(t,function Func2332)
endfunction

function Func2334 takes nothing returns boolean
	return GetSpellAbilityId()=='A0A7'
endfunction

function Func2335 takes nothing returns nothing
	local unit ZOO=GetTriggerUnit()
	local unit Z2O=Players_Hero[GetPlayerId(GetOwningPlayer(ZOO))]
	call SetUnitX(ZOO,GetUnitX(Z2O)+GetRandomReal(25,50)*Cos(GetRandomReal(0,360)))
	call SetUnitY(ZOO,GetUnitY(Z2O)+GetRandomReal(25,50)*Sin(GetRandomReal(0,360)))
endfunction

function Func2336 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2334))
	call TriggerAddAction(t,function Func2335)
endfunction

function Func2337 takes nothing returns boolean
	return(GetUnitTypeId(GetTriggerUnit())=='N013' or GetUnitTypeId(GetTriggerUnit())=='N01O' or GetUnitTypeId(GetTriggerUnit())=='N015' or GetUnitTypeId(GetTriggerUnit())=='N014')and IsUnitIllusion(GetTriggerUnit())==false
endfunction

function Func2338 takes nothing returns nothing
	local unit ZOO=(LoadUnitHandle(HY,(GetHandleId(GetOwningPlayer(GetTriggerUnit()))),(333)))
	call KillUnit(ZOO)
endfunction

function Func2339 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2337))
	call TriggerAddAction(t,function Func2338)
endfunction

function Func2340 takes unit source,unit target returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	call AddTimedKeyToUnit(source,4343,5)
	call UnitAddAbility(caster,'A1GZ')
	call IssueTargetOrder(caster,"ensnare",target)
	set caster=null
endfunction

function Func2341 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source then
			call DisableTrigger(t)
			call Func2340(source,target)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2342 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local unit target=GetTriggerUnit()
	local unit source=GetAttacker()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,1,false)
	call TriggerAddCondition(t,Condition(function Func2341))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(2),(source))
	set target=null
	set source=null
	set t=null
endfunction

function Func2343 takes nothing returns nothing
	local unit source=GetAttacker()
	if GetUnitTypeId(source)!='n01G' and GetUnitTypeId(source)!='n01C' then
		return
	endif
	if((LoadInteger(HY,(GetHandleId((source))),((4342))))==1)==false and((LoadInteger(HY,(GetHandleId((source))),((4343))))==1)==false and GetRandomInt(0,100)<20 then
		call AddTimedKeyToUnit(source,4342,.3)
		call Func2342()
	endif
	return
endfunction

function Func2344 takes nothing returns boolean
	return GetUnitTypeId(GetAttacker())=='n01G' or GetUnitTypeId(GetAttacker())=='n01C' or GetUnitTypeId(GetAttacker())=='n018' or GetUnitTypeId(GetAttacker())=='n004'
endfunction

function Func2345 takes nothing returns nothing
	local unit ZOO=GetAttacker()
	local unit Z2O=Players_Hero[GetPlayerId(GetOwningPlayer(ZOO))]
	if((GetUnitX(Z2O)-GetUnitX(ZOO))*(GetUnitX(Z2O)-GetUnitX(ZOO))+(GetUnitY(Z2O)-GetUnitY(ZOO))*(GetUnitY(Z2O)-GetUnitY(ZOO))>=(1100*1100))then
		call IssueImmediateOrder(ZOO,"stop")
	else
		call Func2343()
	endif
endfunction

function Func2346 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func2344))
	call TriggerAddAction(t,function Func2345)
endfunction

function Func2347 takes nothing returns boolean
	local integer i=GetUnitTypeId(GetTriggerUnit())
	return (i=='n01G' or i=='n01C' or i=='n018' or i=='n004')and IsUnitIllusion(GetTriggerUnit())==false
endfunction

function Func2348 takes nothing returns nothing
	local location spawnloc
	if IsSentinel(GetOwningPlayer(GetTriggerUnit()))then
		set spawnloc=GetRectCenter(Hero_Creation_NE)
	else
		set spawnloc=GetRectCenter(Hero_Creation_UD)
	endif
	if Func0351(GetEnumItem())==false then
		call SetItemPositionLoc(GetEnumItem(),spawnloc)
	endif
	call RemoveLocation(spawnloc)
	set spawnloc=null
endfunction

function Func2349 takes nothing returns nothing
	local integer h=GetHandleId(GetOwningPlayer(GetTriggerUnit()))
	local unit TD3=(LoadUnitHandle(HY,(h),(334)))
	local unit ZOO=(LoadUnitHandle(HY,(h),(333)))
	local integer x
	local integer y
	if TD3==null then
		if IsSentinel(GetOwningPlayer(ZOO))then
			set x=-6390
			set y=-5615
		else
			set x=5875
			set y=5000
		endif
		set TD3=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'e01F',x,y,0)
		call SaveUnitHandle(HY,(h),(334),(TD3))
	endif
	if Func0351(GetEnumItem())==false then
		call UnitAddItem(TD3,GetEnumItem())
	endif
	call ShowUnit(TD3,true)
endfunction

function Func2350 takes nothing returns nothing
	local integer indexId=GetIndex(GetEnumItem())
	if GetWidgetLife(GetEnumItem())>0 and indexId!=integer198 then
		if Mode_DM then
			call Func2348()
		else
			call Func2349()
		endif
	else
	endif
endfunction

function Func2351 takes nothing returns nothing
	local location BFO=GetUnitLoc(GetTriggerUnit())
	local rect R23=RectFromCenterSizeBJ(BFO,400.00,400.00)
	local unit Z2O=Players_Hero[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
	call SetHeroXP(Z2O,(GetHeroXP(Z2O)-(GetHeroXP(Z2O)/(125-(25*GetUnitAbilityLevel(Z2O,'A0A5'))))),false)
	call DamageTarget(GetKillingUnit(),Z2O,3,0.1*GetUnitState(Z2O,UNIT_STATE_MAX_LIFE))
	call EnumItemsInRectBJ(R23,function Func2350)
	call RemoveLocation(BFO)
	call RemoveRect(R23)
endfunction

function Func2352 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2347))
	call TriggerAddAction(t,function Func2351)
endfunction

function Func2353 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if Func0053(GetOwningPlayer(GetEventDamageSource()))and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) and boolean143==false then
			if boolean144==false then
				call UnitRemoveAbility(GetTriggerUnit(),'B0BM')
				call CleanTrigger(GetTriggeringTrigger())
			endif
		endif
		if boolean144 then
			set boolean144=false
		endif
		if boolean143 then
			set boolean143=false
		endif
	else
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func2354 takes nothing returns nothing
	local unit target=GetEnumUnit()
	local trigger t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerRegisterTimerEvent(t,6,false)
	call TriggerAddCondition(t,Condition(function Func2353))
	set target=null
	set t=null
endfunction

function Func2355 takes nothing returns boolean
	return GetUnitAbilityLevel(GetFilterUnit(),'B0BM')>0 and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0
endfunction

function Func2356 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local group g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,x,y,1000,Condition(function Func2355))
	call ForGroup(g,function Func2354)
	call KillGroup(g)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set g=null
	return false
endfunction

function Func2357 takes nothing returns nothing
	if integer483==1 or integer483==2 then
		call DamageTarget(GetTriggerUnit(),GetEnumUnit(),2,70+10*integer484)
	endif
	if integer483==1 or integer483==3 then
		call DamageTarget(GetTriggerUnit(),GetEnumUnit(),1,70+10*integer484)
	endif
endfunction

function Func2358 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local unit caster=CreateUnit(GetOwningPlayer(source),'h07Z',x,y,0)
	local group g=GetAvailableGroup()
	local unit u
	set integer484=GetUnitAbilityLevel(source,'A1AA')
	if((LoadInteger(HY,(GetHandleId((source))),((4270))))==1)==false then
		call SetUnitTimeScale(caster,2.5)
		call UnitApplyTimedLife(caster,'BTLF',2)
		set caster=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
		call UnitAddAbilityPermanent(caster,'A1A9')
		call SetUnitAbilityLevel(caster,'A1A9',GetUnitAbilityLevel(source,'A1AA'))
		call IssueImmediateOrder(caster,"stomp")
		call GroupEnumUnitsInRange(g,x,y,500,Condition(function Func0271))
		set integer483=1
		call ForGroup(g,function Func2357)
		call KillGroup(g)
		call TriggerRegisterTimerEvent(t,0.65,false)
		call TriggerAddCondition(t,Condition(function Func2356))
		call SaveReal(HY,(h),(6),((x)*1.0))
		call SaveReal(HY,(h),(7),((y)*1.0))
	else
		call SetUnitTimeScale(caster,2.5)
		call UnitApplyTimedLife(caster,'BTLF',2)
		set caster=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
		call UnitAddAbilityPermanent(caster,'A1A9')
		call SetUnitAbilityLevel(caster,'A1A9',GetUnitAbilityLevel(source,'A1AA'))
		call IssueImmediateOrder(caster,"stomp")
		call GroupEnumUnitsInRange(g,x,y,500,Condition(function Func0271))
		set integer483=2
		call ForGroup(g,function Func2357)
		call TriggerRegisterTimerEvent(t,0.65,false)
		call TriggerAddCondition(t,Condition(function Func2356))
		call SaveReal(HY,(h),(6),((x)*1.0))
		call SaveReal(HY,(h),(7),((y)*1.0))
		set t=CreateTrigger()
		set h=GetHandleId(t)
		set u=(units025[GetPlayerId(GetOwningPlayer((source)))])
		call IssueImmediateOrder(u,"stop")
		set x=GetUnitX(u)
		set y=GetUnitY(u)
		set caster=CreateUnit(GetOwningPlayer(source),'h07Z',x,y,0)
		call SetUnitTimeScale(caster,2.5)
		call UnitApplyTimedLife(caster,'BTLF',2)
		set caster=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
		call UnitAddAbilityPermanent(caster,'A1A9')
		call SetUnitAbilityLevel(caster,'A1A9',GetUnitAbilityLevel(source,'A1AA'))
		call IssueImmediateOrder(caster,"stomp")
		call GroupEnumUnitsInRange(g,x,y,500,Condition(function Func0271))
		set integer483=3
		call ForGroup(g,function Func2357)
		call KillGroup(g)
		call TriggerRegisterTimerEvent(t,0.65,false)
		call TriggerAddCondition(t,Condition(function Func2356))
		call SaveReal(HY,(h),(6),((x)*1.0))
		call SaveReal(HY,(h),(7),((y)*1.0))
		call SetUnitAnimationByIndex(u,3)
	endif
	set t=null
	set source=null
	set caster=null
	set g=null
endfunction

function Func2359 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit IYO=(LoadUnitHandle(HY,(h),(335)))
	local boolean RA3=(LoadBoolean(HY,(h),(336)))
	if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
		call SaveInteger(HY,(GetHandleId((source))),((4269)),(2))
		call SaveBoolean(HY,(GetHandleId(IYO)),(337),(true))
		if RA3 then
			call ShowUnit(IYO,false)
			call KillUnit(IYO)
		else
			call ShowUnit(IYO,false)
			call UnitRemoveAbility(IYO,'Aloc')
			call ShowUnit(IYO,true)
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		if RA3 then
			call SetUnitFacing(IYO,GetUnitFacing(source))
		endif
	endif
	set t=null
	set IYO=null
	return false
endfunction

function Func2360 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit IYO
	local boolean KillImage
	call SaveBoolean(HY,(h),(336),(false))
	if((LoadInteger(HY,(GetHandleId((source))),((4270))))==1)==false then
		call SaveBoolean(HY,(h),(336),(true))
		set IYO=CreateUnit(GetOwningPlayer(source),'h07U',GetUnitX(source),GetUnitY(source),GetUnitFacing(source))
		call UnitAddAbilityPermanent(IYO,'Aloc')
		call UnitAddAbilityPermanent(IYO,'Aetl')
		call SetUnitPosition(IYO,GetUnitX(source),GetUnitY(source))
		call SetUnitScale(IYO,1.4,1.4,1.4)
	else
		set IYO=(units025[GetPlayerId(GetOwningPlayer((source)))])
		call UnitAddAbility(IYO,'Aloc')
	endif
	call IssueImmediateOrder(IYO,"stop")
	call SaveInteger(HY,(GetHandleId((source))),((4269)),(1))
	call SetUnitAnimation(IYO,"spell slam")
	call QueueUnitAnimation(IYO,"spell slam")
	call SaveUnitHandle(HY,(h),(335),(IYO))
	call SaveUnitHandle(HY,(h),(2),(source))
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_ENDCAST)
	call TriggerAddCondition(t,Condition(function Func2359))
	call SaveUnitHandle(HY,(h),(335),(IYO))
	set t=null
	set source=null
	set IYO=null
endfunction

function Func2361 takes nothing returns boolean
	if GetSpellAbilityId()=='A1AA' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_FINISH then
			call Func2358()
		else
			call Func2360()
		endif
	endif
	return false
endfunction

function Func2362 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_FINISH)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func2361))
	set t=null
endfunction

function Func2363 takes nothing returns nothing
	if Func0255(GetEnumUnit())then
		return
	endif
	if GetUnitAbilityLevel(GetEnumUnit(),'A1CA')>0 then
		call UnitRemoveAbility(GetEnumUnit(),'A1CA')
		call UnitRemoveAbility(GetEnumUnit(),'B0BP')
	endif
	if GetUnitAbilityLevel(GetEnumUnit(),'A1C9')>0 then
		call UnitRemoveAbility(GetEnumUnit(),'A1C9')
		call UnitRemoveAbility(GetEnumUnit(),'B0BP')
	endif
	if GetUnitAbilityLevel(GetEnumUnit(),'A1CB')>0 then
		call UnitRemoveAbility(GetEnumUnit(),'A1CB')
		call UnitRemoveAbility(GetEnumUnit(),'B0BP')
	endif
	if GetUnitAbilityLevel(GetEnumUnit(),'A1CC')>0 then
		call UnitRemoveAbility(GetEnumUnit(),'A1CC')
		call UnitRemoveAbility(GetEnumUnit(),'B0BP')
	endif
	call Func0370(GetEnumUnit(),0)
endfunction

function Func2364 takes nothing returns nothing
	if Func0255(GetEnumUnit())then
		return
	endif
	if integer485==1 then
		if GetUnitAbilityLevel(GetEnumUnit(),'A1CA')==0 then
			call UnitAddAbilityPermanent(GetEnumUnit(),'A1CA')
		endif
	elseif integer485==2 then
		if GetUnitAbilityLevel(GetEnumUnit(),'A1C9')==0 then
			call UnitAddAbilityPermanent(GetEnumUnit(),'A1C9')
		endif
	elseif integer485==3 then
		if GetUnitAbilityLevel(GetEnumUnit(),'A1CB')==0 then
			call UnitAddAbilityPermanent(GetEnumUnit(),'A1CB')
		endif
	elseif integer485==4 then
		if GetUnitAbilityLevel(GetEnumUnit(),'A1CC')==0 then
			call UnitAddAbilityPermanent(GetEnumUnit(),'A1CC')
		endif
	endif
	if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) then
		call Func0370(GetEnumUnit(),R2I((I2R(GetHeroAgi(GetEnumUnit(),true))/7)*I2R(integer485)/4))
	endif
endfunction

function Func2365 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group RG3=(LoadGroupHandle(HY,(h),(340)))
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local group g=GetAvailableGroup()
	local group g2
	if source==null or GetUnitTypeId(source)!='O015' then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillGroup(RG3)
		call KillGroup(g)
		return false
	endif
	set tt_unit1=source
	set integer485=GetUnitAbilityLevel(source,'A1CD')
	call GroupEnumUnitsInRange(g,x,y,300,Condition(function DefaultEnemyFilterWithAncients))
	if((LoadInteger(HY,(GetHandleId((source))),((4270))))==1) then
		set g2=GetAvailableGroup()
		call GroupEnumUnitsInRange(g2,GetUnitX((units025[GetPlayerId(GetOwningPlayer((source)))])),GetUnitY((units025[GetPlayerId(GetOwningPlayer((source)))])),300,Condition(function DefaultEnemyFilterWithAncients))
		call GroupAddGroup(g2,g)
		call KillGroup(g2)
		set g2=null
	endif
	call GroupRemoveGroup(g,RG3)
	call ForGroup(RG3,function Func2363)
	if IsDead(source)==false then
		call ForGroup(g,function Func2364)
	endif
	call SaveGroupHandle(HY,(h),(340),(g))
	call KillGroup(RG3)
	set t=null
	set source=null
	set RG3=null
	return false
endfunction

function Func2366 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local integer i
	local player p
	call UnitAddAbilityPermanent(source,'A1CQ')
	call TriggerRegisterTimerEvent(t,0.3,true)
	call TriggerAddCondition(t,Condition(function Func2365))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveGroupHandle(HY,(h),(340),(GetAvailableGroup()))
	call SaveTriggerHandle(HY,(GetHandleId(source)),(338),(t))
	call SaveBoolean(HY,(GetHandleId(source)),(339),(true))
	set i=0
	loop
		exitwhen i>5
		set p=Sentinels[i]
		call SetPlayerAbilityAvailable(p,'A1CA',false)
		call SetPlayerAbilityAvailable(p,'A1C9',false)
		call SetPlayerAbilityAvailable(p,'A1CB',false)
		call SetPlayerAbilityAvailable(p,'A1CC',false)
		set p=Scourges[i]
		call SetPlayerAbilityAvailable(p,'A1CA',false)
		call SetPlayerAbilityAvailable(p,'A1C9',false)
		call SetPlayerAbilityAvailable(p,'A1CB',false)
		call SetPlayerAbilityAvailable(p,'A1CC',false)
		set i=i+1
	endloop
	set t=null
	set source=null
endfunction

function Func2367 takes nothing returns boolean
	if GetLearnedSkill()=='A1CD' and GetUnitAbilityLevel(GetTriggerUnit(),'A1CD')==1 and IsUnitIllusion(GetTriggerUnit())==false then
		call Func2366()
	endif
	return false
endfunction

function Func2368 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2367))
	set t=null
endfunction

function Func2369 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call Func0262(target)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2370 takes nothing returns nothing
	local real x1=real310
	local real y1=real311
	local real x2=real312
	local real y2=real313
	local real x3=GetUnitX(GetEnumUnit())
	local real y3=GetUnitY(GetEnumUnit())
	local real u=((x3-x1)*(x2-x1)+(y3-y1)*(y2-y1))/((x1-x2)*(x1-x2)+(y1-y2)*(y1-y2))
	local real x4=x1+u*(x2-x1)
	local real y4=y1+u*(y2-y1)
	local real VZ3=GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*0.35/2
	local trigger t
	local integer h
	local integer RX3=GetUnitAbilityLevel(unit308,'A2ZH')
	if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) then
		call SetUnitPosition(GetEnumUnit(),x4,y4)
	else
		call SetUnitX(GetEnumUnit(),x4)
		call SetUnitY(GetEnumUnit(),y4)
	endif
	if RX3>0 then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call Func0261(GetEnumUnit())
		call TriggerRegisterTimerEvent(t,RX3+3,false)
		call TriggerRegisterDeathEvent(t,GetEnumUnit())
		call TriggerAddCondition(t,Condition(function Func2369))
		call SaveUnitHandle(HY,(h),(2),(unit308))
		call SaveUnitHandle(HY,(h),(17),(GetEnumUnit()))
		set t=null
	endif
	call IssueTargetOrder(unit307,"slow",GetEnumUnit())
	call DamageTarget(unit308,GetEnumUnit(),1,VZ3)
	call DamageTarget(unit308,GetEnumUnit(),2,VZ3)
endfunction

function Func2371 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x0=(LoadReal(HY,(h),(282)))
	local real y0=(LoadReal(HY,(h),(283)))
	local real a0=(LoadReal(HY,(h),(341)))
	local integer i=0
	local real x
	local real y
	local group g=GetAvailableGroup()
	local group PR2=GetAvailableGroup()
	local integer lvl=GetUnitAbilityLevel(source,'A1A1')
	local integer MKO=(LoadInteger(HY,(h),(34)))
	local integer RJ3='A1CE'
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A2ZH')
		set RJ3='A2ZI'
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set tt_unit1=source
	set unit308=source
	set unit307=CreateUnit(GetOwningPlayer(source),'e00E',x0,y0,0)
	call UnitAddAbilityPermanent(unit307,RJ3)
	call SetUnitAbilityLevel(unit307,RJ3,lvl)
	loop
		exitwhen i>MKO
		set x=x0+i*200*Cos(a0)
		set y=y0+i*200*Sin(a0)
		call Func0154("Abilities\\Spells\\Orc\\EarthQuake\\EarthQuakeTarget.mdl",x,y,1.6)
		call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x,y-250))
		call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x,y))
		call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x+250,y))
		call KillTrees(x,y,300)
		call GroupEnumUnitsInRange(g,x,y,325,Condition(function DefaultEnemyFilterWithAncients))
		call GroupAddGroup(g,PR2)
		call GroupClear(g)
		set i=i+1
	endloop
	set real310=x0
	set real311=y0
	set real312=x
	set real313=y
	call ForGroup(PR2,function Func2370)
	call KillGroup(PR2)
	call KillGroup(g)
	set t=null
	set source=null
	return false
endfunction

function Func2372 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real a=(LoadReal(HY,(h),(137)))
	local real x0=(LoadReal(HY,(h),(282)))
	local real y0=(LoadReal(HY,(h),(283)))
	local real a0
	local real RL3
	local real RM3
	local real RN3
	local real RS3
	local real RT3
	local real RR3
	local real RP3
	local real RQ3
	local real RU3
	local real P03
	local real PI3
	local real P13
	local real x
	local real y
	local ubersplat AR1
	local integer Count=GetTriggerEvalCount(t)
	local integer MKO=(LoadInteger(HY,(h),(34)))
	set x=x0+200*Count*Cos(a)
	set y=y0+200*Count*Sin(a)
	set AR1=CreateUbersplat(x,y,"THNE",255,255,255,255,false,false)
	call SetUbersplatRenderAlways(AR1,true)
	set RL3=x+250*Cos(bj_DEGTORAD*(a*bj_RADTODEG-45))
	set RM3=y+250*Sin(bj_DEGTORAD*(a*bj_RADTODEG-45))
	set RN3=x+250*Cos(bj_DEGTORAD*(a*bj_RADTODEG+45))
	set RS3=y+250*Sin(bj_DEGTORAD*(a*bj_RADTODEG+45))
	set RT3=x-125*Cos(bj_DEGTORAD*(a*bj_RADTODEG-45))
	set RR3=y-125*Sin(bj_DEGTORAD*(a*bj_RADTODEG-45))
	set RP3=x-125*Cos(bj_DEGTORAD*(a*bj_RADTODEG+45))
	set RQ3=y-125*Sin(bj_DEGTORAD*(a*bj_RADTODEG+45))
	set RU3=x
	set P03=y
	set PI3=x
	set P13=y
	call TimedReveal(GetOwningPlayer(source),4,x,y,500)
	call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",RL3,RM3))
	call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",RN3,RS3))
	call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",RT3,RR3))
	call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",RP3,RQ3))
	call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",RU3,P03))
	call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",PI3,P13))
	if GetTriggerEvalCount(t)>MKO then
		set x0=(LoadReal(HY,(h),(282)))
		set y0=(LoadReal(HY,(h),(283)))
		set a0=(LoadReal(HY,(h),(341)))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,0.5,false)
		call TriggerAddCondition(t,Condition(function Func2371))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveReal(HY,(h),(282),((x0)*1.0))
		call SaveReal(HY,(h),(283),((y0)*1.0))
		call SaveReal(HY,(h),(341),((a0)*1.0))
		call SaveInteger(HY,(h),(34),(MKO))
	endif
	set t=null
	set source=null
	return false
endfunction

function Func2373 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local real a=Atan2(y-GetUnitY(source),x-GetUnitX(source))
	local real d=Func0141(x,y,GetUnitX(source),GetUnitY(source))
	local integer MKO=11
	call TriggerRegisterTimerEvent(t,0.22,true)
	call TriggerAddCondition(t,Condition(function Func2372))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveReal(HY,(h),(282),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(283),((GetUnitY(source))*1.0))
	call SaveReal(HY,(h),(341),((a)*1.0))
	call SaveInteger(HY,(h),(34),(MKO))
	set t=null
	set source=null
endfunction

function Func2374 takes nothing returns boolean
	if GetSpellAbilityId()=='A1A1' or GetSpellAbilityId()=='A2ZH' then
		call Func2373()
	endif
	return false
endfunction

function Func2375 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2374))
	set t=null
endfunction

function Func2376 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call UnitRemoveAbility(source,'A2NI')
	call UnitAddAbility(source,'A2NI')
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func2377 takes unit source returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func2376))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
endfunction

function Func2378 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call Func0366(source,0)
	set t=null
	set source=null
	return false
endfunction

function Func2379 takes unit source,unit IYO,unit P73,integer P83,integer P93 returns nothing
	local trigger t
	local integer h
	local unit caster
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",IYO,"chest"))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",source,"chest"))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",source,"origin"))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",source,"hand,left"))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",source,"hand,right"))
	call ShowUnit(IYO,false)
	call KillUnit(IYO)
	call KillUnit(P73)
	call SaveInteger(HY,(GetHandleId((source))),((4270)),(2))
	if P93>0 or P83>0 then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,9.1,false)
		call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
		call TriggerAddCondition(t,Condition(function Func2378))
		call SaveUnitHandle(HY,(h),(2),(source))
		set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
		call UnitAddAbilityPermanent(caster,'A1G9')
		call SetUnitAbilityLevel(caster,'A1G9',P93)
		call IssueTargetOrder(caster,"bloodlust",source)
		call Func0366(source,P83)
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\RadianceHands.mdx",source,"weapon")))
	endif
	set t=null
	set caster=null
endfunction

function Func2380 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group014)==false then
		if IsUnitIllusion(GetEnumUnit())==false then
			if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) then
				set integer487=integer487+(integer486*10)
				set integer488=integer488+5
			else
				set integer487=integer487+(integer486*3)
				set integer488=integer488+1
			endif
		endif
		call GroupAddUnit(group014,GetEnumUnit())
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",GetEnumUnit(),"chest"))
		set boolean143=true
		set boolean144=true
		call DamageTarget(unit309,GetEnumUnit(),1,real314)
		set boolean143=false
		set boolean144=false
	endif
endfunction

function Func2381 takes real PC3,real PD3,real PE3,real PF3,real PG3,real PH3 returns real
	local real PZ3
	local real PV3
	local real PW3
	local real PX3
	local real PY3
	local real PJ3
	local real PK3
	local real REFLECTED_SCALED_V_X
	local real REFLECTED_SCALED_V_Y
	local real PL3
	local real PM3
	local real PN3
	local real PS3
	local real PT3
	local real PR3
	local real PP3
	local real PQ3
	set PN3=PE3-PG3
	set PS3=PF3-PH3
	set PT3=-1*PS3
	set PR3=PN3
	set PP3=SquareRoot(PT3*PT3+PR3*PR3)
	set PT3=PT3/PP3
	set PR3=PR3/PP3
	set PZ3=PC3-PE3
	set PV3=PD3-PF3
	set PW3=SquareRoot(PZ3*PZ3+PV3*PV3)
	set PX3=PZ3/PW3
	set PY3=PV3/PW3
	set PQ3=PZ3*PT3+PV3*PR3
	set PJ3=-1*PC3+2*PE3+2*PT3*PQ3
	set PK3=-1*PD3+2*PF3+2*PR3*PQ3
	set PL3=PG3+PE3-PJ3
	set PM3=PH3+PF3-PK3
	return PL3
endfunction

function Func2382 takes real PC3,real PD3,real PE3,real PF3,real PG3,real PH3 returns real
	local real PZ3
	local real PV3
	local real PW3
	local real PX3
	local real PY3
	local real PJ3
	local real PK3
	local real REFLECTED_SCALED_V_X
	local real REFLECTED_SCALED_V_Y
	local real PL3
	local real PM3
	local real PN3
	local real PS3
	local real PT3
	local real PR3
	local real PP3
	local real PQ3
	set PN3=PE3-PG3
	set PS3=PF3-PH3
	set PT3=-1*PS3
	set PR3=PN3
	set PP3=SquareRoot(PT3*PT3+PR3*PR3)
	set PT3=PT3/PP3
	set PR3=PR3/PP3
	set PZ3=PC3-PE3
	set PV3=PD3-PF3
	set PW3=SquareRoot(PZ3*PZ3+PV3*PV3)
	set PX3=PZ3/PW3
	set PY3=PV3/PW3
	set PQ3=PZ3*PT3+PV3*PR3
	set PJ3=-1*PC3+2*PE3+2*PT3*PQ3
	set PK3=-1*PD3+2*PF3+2*PR3*PQ3
	set PL3=PG3+PE3-PJ3
	set PM3=PH3+PF3-PK3
	return PM3
endfunction

function Func2383 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit IYO=(LoadUnitHandle(HY,(h),(335)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local real x0=(LoadReal(HY,(h),(282)))
	local real y0=(LoadReal(HY,(h),(283)))
	local real x1=GetUnitX(source)
	local real y1=GetUnitY(source)
	local real x2=GetUnitX(IYO)
	local real y2=GetUnitY(IYO)
	local real x3
	local real y3
	local real a
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	local group g
	local real d
	local integer lvl=GetUnitAbilityLevel(source,'A1A8')
	local real QI3=(LoadReal(HY,(h),(342)))
	local real time=GetTime()
	call SetUnitX(caster,GetUnitX(IYO))
	call SetUnitY(caster,GetUnitY(IYO))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call KillGroup(PR2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call ShowUnit(IYO,false)
		call KillUnit(IYO)
		call KillUnit(caster)
		call SaveInteger(HY,(GetHandleId((source))),((4270)),(2))
		if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A1A8' then
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1A8',true)
		endif
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2NI',false)
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A2NI' then
			call IssueImmediateOrder(IYO,"stop")
			call SaveBoolean(HY,(h),(249),(true))
			call SetUnitAnimationByIndex(IYO,3)
			call Func2377(GetTriggerUnit())
		elseif GetSpellAbilityId()=='A2LK' then
			if IssueImmediateOrder(source,"charm")then
				call UnitRemoveAbility(IYO,'A2LK')
			endif
		endif
	elseif Func0141(x1,y1,x2,y2)<100 then
		call Func2379(source,IYO,caster,(LoadInteger(HY,(h),(344))),(LoadInteger(HY,(h),(345))))
		call KillGroup(PR2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A1A8' then
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1A8',true)
		endif
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2NI',false)
	elseif GetTriggerEvalCount(t)>400 or(LoadBoolean(HY,(h),(249))) then
		call UnitAddAbilityPermanent(IYO,'Aloc')
		if GetTriggerEvalCount(t)==401 and(LoadBoolean(HY,(h),(249)))==false then
			call IssueImmediateOrder(IYO,"stop")
			call SetUnitAnimationByIndex(IYO,3)
		endif
		set g=GetAvailableGroup()
		set integer486=lvl
		set integer487=(LoadInteger(HY,(h),(344)))
		set integer488=(LoadInteger(HY,(h),(345)))
		set real314=30+30*lvl
		set unit309=source
		set tt_unit1=source
		set group014=PR2
		call GroupEnumUnitsInRange(g,GetUnitX(IYO),GetUnitY(IYO),300,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func2380)
		call KillGroup(g)
		set g=null
		call SaveInteger(HY,(h),(344),(integer487))
		call SaveInteger(HY,(h),(345),(integer488))
		if((LoadInteger(HY,(GetHandleId((source))),((4269))))==1)==false then
			set a=Atan2(y1-y2,x1-x2)
			call SetUnitFacing(IYO,a*bj_RADTODEG)
			set x3=GetUnitX(IYO)+12*Cos(a)
			set y3=GetUnitY(IYO)+12*Sin(a)
			call SetUnitX(IYO,SafeX50(x3))
			call SetUnitY(IYO,SafeY50(y3))
			call SaveReal(HY,(h),(282),((x1)*1.0))
			call SaveReal(HY,(h),(283),((y1)*1.0))
		endif
	else
		call SetUnitMoveSpeed(IYO,GetUnitMoveSpeed(source))
		call UnitRemoveAbility(IYO,'Aloc')
		set g=GetAvailableGroup()
		set integer486=lvl
		set integer487=(LoadInteger(HY,(h),(344)))
		set integer488=(LoadInteger(HY,(h),(345)))
		set real314=30+30*lvl
		set unit309=source
		set tt_unit1=source
		set group014=PR2
		call GroupEnumUnitsInRange(g,GetUnitX(IYO),GetUnitY(IYO),300,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func2380)
		call KillGroup(g)
		set g=null
		call SaveInteger(HY,(h),(344),(integer487))
		call SaveInteger(HY,(h),(345),(integer488))
		if x0!=x1 or y0!=y1 then
			set QI3=time
			call SaveReal(HY,(h),(342),((QI3)*1.0))
		endif
		if((LoadInteger(HY,(GetHandleId((source))),((4269))))==1)==false then
			if QI3==time then
				set x3=Func2381(x0,y0,x1,y1,x2,y2)
				set y3=Func2382(x0,y0,x1,y1,x2,y2)
				set a=Atan2(y3-y2,x3-x2)*bj_RADTODEG
				call SaveReal(HY,(h),(282),((x1)*1.0))
				call SaveReal(HY,(h),(283),((y1)*1.0))
			endif
			if(QI3+0.3)<time then
				call SaveInteger(HY,(h),(343),(1))
			elseif(QI3+0.3)>time and(LoadInteger(HY,(h),(343)))==1 then
				call SaveInteger(HY,(h),(343),(2))
			elseif(LoadInteger(HY,(h),(343)))==3 then
				call SaveInteger(HY,(h),(343),(1))
			endif
		else
			call SaveInteger(HY,(h),(343),(3))
		endif
	endif
	set t=null
	set source=null
	set IYO=null
	set PR2=null
	set caster=null
	return false
endfunction

function Func2384 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local real x0=GetUnitX(source)
	local real y0=GetUnitY(source)
	local location l=GetSpellTargetLoc()
	local real lx=GetLocationX(l)
	local real ly=GetLocationY(l)
	local real a=Atan2(ly-y0,lx-x0)
	local real d=Func0134(Func0141(x0,y0,lx,ly),300)
	local real x1=SafeX50(x0+d*Cos(a))
	local real y1=SafeY50(y0+d*Sin(a))
	local unit IYO=CreateUnit(GetOwningPlayer(source),'h07U',x1,y1,(a*bj_RADTODEG)-180)
	local unit caster=CreateUnit(GetOwningPlayer(source),'o02D',x1,y1,(a*bj_RADTODEG)-180)
	call SetUnitMoveSpeed(IYO,GetUnitMoveSpeed(source))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",IYO,"chest"))
	if GetUnitAbilityLevel(source,'A1CD')>0 then
		call UnitAddAbilityPermanent(IYO,'A1CQ')
	endif
	if GetUnitAbilityLevel(source,'A1AA')==0 then
		call UnitRemoveAbility(IYO,'A2LK')
	endif
	call UnitAddAbility(source,'A2NI')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1A8',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2NI',true)
	call RemoveLocation(l)
	set units025[GetPlayerId(GetOwningPlayer(source))]=IYO
	call SaveInteger(HY,(GetHandleId((source))),((4270)),(1))
	call UnitAddAbilityPermanent(IYO,'Avul')
	call UnitAddAbilityPermanent(IYO,'Aetl')
	if(LoadBoolean(HY,(GetHandleId(source)),(339))) then
		call TriggerEvaluate((LoadTriggerHandle(HY,(h),(338))))
	endif
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerRegisterUnitEvent(t,IYO,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2383))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(335),(IYO))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveReal(HY,(h),(282),((x0)*1.0))
	call SaveReal(HY,(h),(283),((y0)*1.0))
	call SaveGroupHandle(HY,(h),(187),(GetAvailableGroup()))
	call SaveInteger(HY,(h),(343),(2))
	call SaveReal(HY,(h),(342),((GetTime()-5)*1.0))
	call SaveBoolean(HY,(h),(249),(false))
	set t=null
	set source=null
	set IYO=null
	set caster=null
endfunction

function Func2385 takes nothing returns boolean
	if GetSpellAbilityId()=='A1A8' then
		call Func2384()
	endif
	return false
endfunction

function Func2386 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2385))
	call Func0125('A1G9')
	set t=null
endfunction

function Func2387 takes nothing returns nothing
	local unit target=GetOrderTargetUnit()
	local real x
	local real y
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER then
		set x=GetUnitX(GetOrderTargetUnit())
		set y=GetUnitY(GetOrderTargetUnit())
	else
		set x=GetOrderPointX()
		set y=GetOrderPointY()
	endif
	if Func0141(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),x,y)<700 then
		call Func0174(sound038,x,y)
	endif
endfunction

function Func2388 takes nothing returns boolean
	if GetIssuedOrderId()==852040 then
		call Func2387()
	endif
	return false
endfunction

function Func2389 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(GetTriggerUnit()),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,Condition(function Func0165))
	call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(GetTriggerUnit()),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Condition(function Func0165))
	call TriggerAddCondition(t,Condition(function Func2388))
	set t=null
endfunction

function Func2390 takes nothing returns boolean
	if GetLearnedSkill()=='A06B' and GetUnitAbilityLevel(GetTriggerUnit(),'A06B')==1 and IsUnitIllusion(GetTriggerUnit())==false then
		call Func2389()
	endif
	return false
endfunction

function Func2391 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2390))
	set t=null
endfunction

function Func2392 takes nothing returns boolean
	return(GetLearnedSkill()=='A0AK' or GetLearnedSkill()=='A1FY')and IsUnitIllusion(GetTriggerUnit())==false
endfunction

function Func2393 takes nothing returns nothing
	if(GetUnitAbilityLevel(GetTriggerUnit(),'A0AK')==1 or GetUnitAbilityLevel(GetTriggerUnit(),'A1FY')==1)then
		call UnitAddAbilityPermanent(GetTriggerUnit(),'A1WF')
	endif
endfunction

function Func2394 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2392))
	call TriggerAddAction(t,function Func2393)
endfunction

function Func2395 takes nothing returns boolean
	if(GetSpellAbilityId()=='A0AM' or GetSpellAbilityId()=='A0A3' or GetSpellAbilityId()=='A0A4' or GetSpellAbilityId()=='A02T' or GetSpellAbilityId()=='A1FZ' or GetSpellAbilityId()=='A1WF')then
		return true
	elseif GetSpellAbilityId()=='A0AK' or GetSpellAbilityId()=='A1FY' then
		if GetUnitAbilityLevel(GetTriggerUnit(),'A1WF')==0 then
			call UnitAddAbilityPermanent(GetTriggerUnit(),'A1WF')
		endif
	endif
	return false
endfunction

function Func2396 takes nothing returns boolean
	if(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))then
		if(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)then
			if(GetUnitAbilityLevelSwapped('A04R',GetFilterUnit())==0)then
				return true
			endif
		endif
	endif
	return false
endfunction

function Func2397 takes nothing returns nothing
	call IssueImmediateOrder(GetEnumUnit(),"locustswarm")
endfunction

function Func2398 takes nothing returns nothing
	call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),300.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
endfunction

function Func2399 takes nothing returns nothing
	call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),450.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
endfunction

function Func2400 takes nothing returns nothing
	call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),600.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
endfunction

function Func2401 takes nothing returns nothing
	call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),750.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
endfunction

function Func2402 takes nothing returns boolean
	return GetOwningPlayer(GetFilterUnit())==player022 and GetUnitTypeId(GetFilterUnit())==integer489 and IsDead(GetFilterUnit())==false
endfunction

function Func2403 takes player p,integer RII,real x,real y returns nothing
	local group g=GetAvailableGroup()
	set player022=p
	set integer489=RII
	call GroupEnumUnitsInRange(g,x,y,716,Condition(function Func2402))
	call ForGroup(g,function Func2397)
	call KillGroup(g)
	set g=null
endfunction

function Func2404 takes nothing returns nothing
	local real x=GetUnitX(GetTriggerUnit())
	local real y=GetUnitY(GetTriggerUnit())
	local group Z51
	call DisableTrigger(trigger067)
	set boolean063=true
	if(GetSpellAbilityId()=='A0AM')then
		call Func0154("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
		call TimedReveal(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)
		set Z51=GetAvailableGroup()
		call GroupEnumUnitsInRange(Z51,x,y,450,Condition(function Func2396))
		call ForGroup(Z51,function Func2398)
		call RemoveUnit(GetTriggerUnit())
		call KillGroup(Z51)
	endif
	if(GetSpellAbilityId()=='A0A3')then
		call Func0154("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
		call TimedReveal(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)
		set Z51=GetAvailableGroup()
		call GroupEnumUnitsInRange(Z51,x,y,450,Condition(function Func2396))
		call ForGroup(Z51,function Func2399)
		call RemoveUnit(GetTriggerUnit())
		call KillGroup(Z51)
	endif
	if(GetSpellAbilityId()=='A0A4')then
		call Func0154("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
		call TimedReveal(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)
		set Z51=GetAvailableGroup()
		call GroupEnumUnitsInRange(Z51,x,y,450,Condition(function Func2396))
		call ForGroup(Z51,function Func2400)
		call RemoveUnit(GetTriggerUnit())
		call KillGroup(Z51)
	endif
	if(GetSpellAbilityId()=='A1FZ')then
		call Func0154("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
		call TimedReveal(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)
		set Z51=GetAvailableGroup()
		call GroupEnumUnitsInRange(Z51,x,y,450,Condition(function Func2396))
		call ForGroup(Z51,function Func2401)
		call RemoveUnit(GetTriggerUnit())
		call KillGroup(Z51)
	endif
	if(GetSpellAbilityId()=='A02T')then
		set Z51=GetAvailableGroup()
		set bj_groupEnumTypeId='o018'
		call GroupEnumUnitsOfPlayer(Z51,GetOwningPlayer(GetTriggerUnit()),filterGetUnitsOfPlayerAndTypeId)
		call ForGroup(Z51,function Func2397)
		call KillGroup(Z51)
		set Z51=GetAvailableGroup()
		set bj_groupEnumTypeId='o002'
		call GroupEnumUnitsOfPlayer(Z51,GetOwningPlayer(GetTriggerUnit()),filterGetUnitsOfPlayerAndTypeId)
		call ForGroup(Z51,function Func2397)
		call KillGroup(Z51)
		set Z51=GetAvailableGroup()
		set bj_groupEnumTypeId='o00B'
		call GroupEnumUnitsOfPlayer(Z51,GetOwningPlayer(GetTriggerUnit()),filterGetUnitsOfPlayerAndTypeId)
		call ForGroup(Z51,function Func2397)
		call KillGroup(Z51)
		set Z51=GetAvailableGroup()
		set bj_groupEnumTypeId='o01B'
		call GroupEnumUnitsOfPlayer(Z51,GetOwningPlayer(GetTriggerUnit()),filterGetUnitsOfPlayerAndTypeId)
		call ForGroup(Z51,function Func2397)
		call KillGroup(Z51)
	endif
	if(GetSpellAbilityId()=='A1WF')then
		set x=GetSpellTargetX()
		set y=GetSpellTargetY()
		call Func2403(GetOwningPlayer(GetTriggerUnit()),'o018',x,y)
		call Func2403(GetOwningPlayer(GetTriggerUnit()),'o002',x,y)
		call Func2403(GetOwningPlayer(GetTriggerUnit()),'o00B',x,y)
		call Func2403(GetOwningPlayer(GetTriggerUnit()),'o01B',x,y)
	endif
	set boolean063=false
	call EnableTrigger(trigger067)
endfunction

function Func2405 takes nothing returns nothing
	local integer id=GetUnitTypeId(GetTriggerUnit())
	local real x=GetUnitX(GetTriggerUnit())
	local real y=GetUnitY(GetTriggerUnit())
	local group Z51
	if id=='o018' then
		call Func0154("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
		set Z51=GetAvailableGroup()
		call GroupEnumUnitsInRange(Z51,x,y,450,Condition(function Func2396))
		call ForGroup(Z51,function Func2398)
		call KillGroup(Z51)
	endif
	if id=='o002' then
		call Func0154("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
		set Z51=GetAvailableGroup()
		call GroupEnumUnitsInRange(Z51,x,y,450,Condition(function Func2396))
		call ForGroup(Z51,function Func2399)
		call KillGroup(Z51)
	endif
	if id=='o00B' then
		call Func0154("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
		set Z51=GetAvailableGroup()
		call GroupEnumUnitsInRange(Z51,x,y,450,Condition(function Func2396))
		call ForGroup(Z51,function Func2400)
		call KillGroup(Z51)
	endif
	if id=='o01B' then
		call Func0154("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
		set Z51=GetAvailableGroup()
		call GroupEnumUnitsInRange(Z51,x,y,450,Condition(function Func2396))
		call ForGroup(Z51,function Func2401)
		call KillGroup(Z51)
	endif
endfunction

function Func2406 takes nothing returns boolean
	local integer id=GetUnitTypeId(GetTriggerUnit())
	if id=='o018' or id=='o002' or id=='o00B' or id=='o01B' then
		call Func2405()
	endif
	return false
endfunction

function Func2407 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddAction(t,function Func2404)
	call TriggerAddCondition(t,Condition(function Func2395))
	call Func0231("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack1.wav")
	set trigger067=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(trigger067,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(trigger067,Condition(function Func2406))
endfunction

function Func2408 takes nothing returns nothing
	local real QWI=Func0139(unit310,GetEnumUnit())
	local real dmg=real315
	local real QX3=225
	if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE) then
		set QX3=440
	endif
	if QWI>QX3 then
		set dmg=dmg/2
	endif
	call DamageTarget(unit310,GetEnumUnit(),2,dmg)
endfunction

function Func2409 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit QJ3=(LoadUnitHandle(HY,(h),(347)))
	local group g=GetAvailableGroup()
	local integer lvl=(LoadInteger(HY,(h),(5)))
	set tt_unit1=QJ3
	set unit310=QJ3
	set real315=225+75*lvl
	call GroupEnumUnitsInRange(g,GetUnitX(QJ3),GetUnitY(QJ3),500+25,Condition(function Func0285))
	call ForGroup(g,function Func2408)
	call KillGroup(g)
	set t=null
	set QJ3=null
	set g=null
	return false
endfunction

function Func2410 takes nothing returns boolean
	if GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0.5 and(GetUnitTypeId(GetFilterUnit())=='n00O' or GetUnitTypeId(GetFilterUnit())=='n00P' or GetUnitTypeId(GetFilterUnit())=='n00Q' or GetUnitTypeId(GetFilterUnit())=='n00N')then
		set integer490=integer490+1
	endif
	return false
endfunction

function Func2411 takes nothing returns boolean
	local group g=GetAvailableGroup()
	set integer490=0
	call GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function Func2410))
	if integer490>0 then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,GetObjectName('n0FC')+": "+I2S(integer490))
	endif
	call KillGroup(g)
	set g=null
	return false
endfunction

function Func2412 takes nothing returns boolean
	if((GetUnitTypeId(GetTriggerUnit())=='n00O'))then
		return true
	endif
	if((GetUnitTypeId(GetTriggerUnit())=='n00P'))then
		return true
	endif
	if((GetUnitTypeId(GetTriggerUnit())=='n00Q'))then
		return true
	endif
	if((GetUnitTypeId(GetTriggerUnit())=='n00N'))then
		return true
	endif
	if GetUnitTypeId(GetTriggerUnit())=='o018' or GetUnitTypeId(GetTriggerUnit())=='o002' or GetUnitTypeId(GetTriggerUnit())=='o00B' or GetUnitTypeId(GetTriggerUnit())=='o01B' then
		if booleans024[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]then
		endif
	endif
	return false
endfunction

function Func2413 takes nothing returns boolean
	if GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())then
		if((GetUnitTypeId(GetFilterUnit())=='n00O'))then
			return true
		endif
		if((GetUnitTypeId(GetFilterUnit())=='n00P'))then
			return true
		endif
		if((GetUnitTypeId(GetFilterUnit())=='n00Q'))then
			return true
		endif
		if((GetUnitTypeId(GetFilterUnit())=='n00N'))then
			return true
		endif
	endif
	return false
endfunction

function Func2414 takes nothing returns boolean
	return(GetUnitTypeId(GetFilterUnit())=='H00E' or GetUnitTypeId(GetFilterUnit())=='H00G' or GetUnitTypeId(GetFilterUnit())=='H00F' or GetUnitTypeId(GetFilterUnit())=='E00P' or GetUnitTypeId(GetFilterUnit())=='N00B' or GetUnitTypeId(GetFilterUnit())=='UC60' or GetUnitTypeId(GetFilterUnit())=='EC77' or GetUnitTypeId(GetFilterUnit())=='U00P' or GetUnitTypeId(GetFilterUnit())=='E02N' or GetUnitTypeId(GetFilterUnit())=='E02O' or GetUnitTypeId(GetFilterUnit())=='O016' or GetUnitTypeId(GetFilterUnit())=='O017' or GetUnitTypeId(GetFilterUnit())=='E02F' or GetUnitTypeId(GetFilterUnit())=='H0DO' or GetUnitTypeId(GetFilterUnit())=='N0M7' or GetUnitTypeId(GetFilterUnit())=='N0MB' or GetUnitTypeId(GetFilterUnit())=='N0MC' or GetUnitTypeId(GetFilterUnit())=='N0MO' or GetUnitTypeId(GetFilterUnit())=='N0MA' or GetUnitTypeId(GetFilterUnit())=='N0MW')and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(tt_unit1))
endfunction

function Func2415 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit QJ3=(LoadUnitHandle(HY,(h),(347)))
	local group g
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call DestroyEffect(AddSpecialEffect("war3mapImported\\NewGroundEX.mdx",GetUnitX(QJ3),GetUnitY(QJ3)))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set g=GetAvailableGroup()
		set tt_unit1=QJ3
		call GroupEnumUnitsInRange(g,GetUnitX(QJ3),GetUnitY(QJ3),200,Condition(function Func2414))
		if FirstOfGroup(g)!=null then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call SetUnitExploded(QJ3,true)
			call KillUnit(QJ3)
		endif
		call KillGroup(g)
	endif
	set t=null
	set QJ3=null
	set g=null
	return false
endfunction

function Func2416 takes nothing returns nothing
	local integer h=GetHandleId(GetOwningPlayer(GetTriggerUnit()))
	local group Z51=GetAvailableGroup()
	local integer QP3=(LoadInteger(HY,(h),(346)))
	local integer QQ3=0
	local unit QU3
	local integer UI3
	local unit WH1
	local integer U13
	local integer TGI
	local integer THI
	local trigger t=CreateTrigger()
	local unit Hero=Players_Hero[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
	local integer lvl=GetUnitAbilityLevel(Hero,'A05J')
	call GroupEnumUnitsInRect(Z51,bj_mapInitialPlayableArea,Condition(function Func2413))
	call TriggerRegisterTimerEvent(t,0.4,true)
	call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2415))
	call SaveUnitHandle(HY,(GetHandleId(t)),(347),(GetTriggerUnit()))
	set QP3=(QP3+1)
	call StartTimerBJ((LoadTimerHandle(HY,(h),(1500+QP3))),false,15000.00)
	call SaveUnitHandle(HY,(h),(1600+QP3),(GetTriggerUnit()))
	set QQ3=CountUnitsInGroup(Z51)
	if(QQ3>20)then
		set UI3=99999
		set TGI=1
		set THI=QP3
		loop
			exitwhen TGI>THI
			set WH1=(LoadUnitHandle(HY,(h),(1600+TGI)))
			set U13=R2I(TimerGetRemaining((LoadTimerHandle(HY,(h),(1500+TGI)))))
			if(GetUnitState(WH1,UNIT_STATE_LIFE)>0 and U13<UI3)then
				set QU3=WH1
				set UI3=U13
			endif
			set TGI=TGI+1
		endloop
		call ExplodeUnitBJ(QU3)
	endif
	call SaveInteger(HY,(h),(346),(QP3))
	call KillGroup(Z51)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2409))
	call SaveUnitHandle(HY,(h),(347),(GetTriggerUnit()))
	call SaveInteger(HY,(h),(5),(lvl))
endfunction

function Func2417 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-st",true)
	call TriggerAddCondition(t,Condition(function Func2411))
	set t=CreateTrigger()
	call TriggerRegisterEnterRectSimple(t,GetWorldBounds())
	call TriggerAddCondition(t,Condition(function Func2412))
	call TriggerAddAction(t,function Func2416)
	set t=null
endfunction

function Func2418 takes nothing returns nothing
	local real QWI=Func0139(unit311,GetEnumUnit())
	local real dmg=real316
	if QWI>225 then
		set dmg=real317
	endif
	call DamageTarget(unit311,GetEnumUnit(),2,dmg)
endfunction

function Func2419 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A06B')
	local real U33
	local real U43
	local group g=GetAvailableGroup()
	if lvl==1 then
		set U33=500
		set U43=260
	elseif lvl==2 then
		set U33=650
		set U43=300
	elseif lvl==3 then
		set U33=850
		set U43=340
	elseif lvl==4 then
		set U33=1150
		set U43=380
	endif
	set real316=U33
	set real317=U43
	set tt_unit1=source
	set unit311=source
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),525,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func2418)
	call KillGroup(g)
	set g=null
	set source=null
endfunction

function Func2420 takes nothing returns boolean
	if GetSpellAbilityId()=='A06B' then
		call Func2419()
	endif
	return false
endfunction

function Func2421 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2420))
	set t=null
endfunction

function Func2422 takes nothing returns boolean
	return GetSpellAbilityId()=='A065'
endfunction

function Func2423 takes nothing returns nothing
	local integer i=0
	local unit Hero=GetTriggerUnit()
	local item HLO
	local integer indexId
	loop
		exitwhen i>5
		set HLO=UnitItemInSlot(Hero,i)
		set indexId=Func0346(HLO)
		if indexId==integer089 then
			call DisableTrigger(trigger057)
			set player005=GetItemPlayer(HLO)
			call RemoveItem(HLO)
			set tt_item1=Func0357(Hero,integers089[integer088],i)
			call SetItemPlayer(tt_item1,player005,false)
			call SetItemUserData(tt_item1,1)
			call EnableTrigger(trigger057)
		endif
		set i=i+1
	endloop
	set Hero=null
	set HLO=null
endfunction

function Func2424 takes nothing returns nothing
	local integer TGI=0
	local integer THI=5
	local integer array U93
	local player array UA3
	local integer indexId
	local item FH1
	call SaveReal(HY,(GetHandleId(GetTriggerUnit())),(785),((0)*1.0))
	call Func2423()
	set U93[0]=0
	set U93[1]=0
	set U93[2]=0
	set U93[3]=0
	set U93[4]=0
	set U93[5]=0
	call DisableTrigger(trigger057)
	loop
		exitwhen TGI>THI
		set indexId=Func0346(UnitItemInSlot(GetTriggerUnit(),TGI))
		if indexId==integer191 or indexId==integer192 or indexId==integer193 or indexId==integer194 or indexId==integer195 or indexId==integer196 or indexId==integer181 or indexId==integer207 or indexId==integer208 or indexId==integer209 or indexId==integer165 or indexId==integer226 or indexId==integer230 or indexId==integer254 then
			set U93[TGI]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),TGI))
			set UA3[TGI]=GetItemPlayer(UnitItemInSlot(GetTriggerUnit(),TGI))
			call RemoveItem(UnitItemInSlot(GetTriggerUnit(),TGI))
		endif
		set TGI=TGI+1
	endloop
	call UnitResetCooldown(GetTriggerUnit())
	set TGI=0
	set THI=5
	loop
		exitwhen TGI>THI
		if U93[TGI]>0 then
			set FH1=CreateItem(U93[TGI],0,0)
			call SetItemPlayer(FH1,UA3[TGI],false)
			call SetItemUserData(FH1,1)
			call UnitAddItem(GetTriggerUnit(),FH1)
		endif
		set TGI=TGI+1
	endloop
	call EnableTrigger(trigger057)
	set FH1=null
endfunction

function Func2425 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_FINISH)
	call TriggerAddCondition(t,Condition(function Func2422))
	call TriggerAddAction(t,function Func2424)
endfunction

function Func2426 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e00E',GetUnitX(Hero),GetUnitY(Hero),0)
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local integer i=0
	local real a=0
	local real r=0
	local integer lvl=GetUnitAbilityLevel(Hero,'A0BQ')
	call UnitAddAbilityPermanent(caster,'A05F')
	call SetUnitAbilityLevel(caster,'A05F',lvl)
	loop
		exitwhen i>40
		exitwhen IssuePointOrder(caster,"stampede",x+r*Cos(a),y+r*Sin(a))
		set i=i+1
		set a=a+0.4
		set r=r+10
	endloop
	call RemoveLocation(l)
	set Hero=null
	set caster=null
	set l=null
endfunction

function Func2427 takes nothing returns boolean
	if GetSpellAbilityId()=='A0BQ' then
		call Func2426()
	endif
	return false
endfunction

function Func2428 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2427))
	set t=null
endfunction

function Func2429 takes nothing returns boolean
	return(GetSpellAbilityId()=='A049' or GetSpellAbilityId()=='A2WB')and IsBlocked(GetSpellTargetUnit())==false
endfunction

function Func2430 takes nothing returns nothing
	call UnitDamageTarget(GetTriggerUnit(),GetSpellTargetUnit(),GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId())*80,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endfunction

function Func2431 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2429))
	call TriggerAddAction(t,function Func2430)
endfunction

function Func2432 takes nothing returns boolean
	return(Func0091(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1))and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and IsHeroUnitId(GetUnitTypeId(GetFilterUnit()))
endfunction

function Func2433 takes nothing returns nothing
	local unit source=tt_unit1
	local unit target=tt_unit2
	local integer lvl=GetUnitAbilityLevel(source,'A05E')
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A2WA')
	endif
	call DamageTarget(source,target,1,50+75*lvl)
	set source=null
	set target=null
endfunction

function Func2434 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=null
	local group g=GetAvailableGroup()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local integer Count=2
	if GetUnitAbilityLevel(source,'A05E')==0 then
		set Count=4
	endif
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,x,y,2500+25,Condition(function Func2432))
	loop
		exitwhen FirstOfGroup(g)==null or Count==0
		set target=Func0235(g,x,y)
		set Count=Count-1
		call GroupRemoveUnit(g,target)
		call AddProjectile(source,target,'h0ET',"Func2433",1000,false)
	endloop
	call KillGroup(g)
	set g=null
	set target=null
	set source=null
endfunction

function Func2435 takes nothing returns boolean
	if GetSpellAbilityId()=='A05E' or GetSpellAbilityId()=='A2WA' then
		call Func2434()
	endif
	return false
endfunction

function Func2436 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2435))
	set t=null
endfunction

function Func2437 takes nothing returns nothing
	if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE) then
		call DamageTarget(unit312,GetEnumUnit(),1,real318/3)
	else
		call DamageTarget(unit312,GetEnumUnit(),1,real318)
	endif
endfunction

function Func2438 takes unit source,real x,real y,real r,real d returns nothing
	local group g=GetAvailableGroup()
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,x,y,r,Condition(function Func0284))
	set unit312=source
	set real318=d
	call ForGroup(g,function Func2437)
	call KillGroup(g)
	set g=null
endfunction

function Func2439 takes nothing returns boolean
	if((GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and Func0089(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))then
		return true
	endif
	return false
endfunction

function Func2440 takes unit Hero returns unit
	local unit source=null
	local group g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),275,Condition(function Func2439))
	call GroupRemoveUnit(g,Hero)
	set source=GroupPickRandomUnit(g)
	call KillGroup(g)
	set tt_unit1=source
	set source=null
	set g=null
	return tt_unit1
endfunction

function Func2441 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer Count=GetTriggerEvalCount(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real x0=(LoadReal(HY,(h),(282)))
	local real y0=(LoadReal(HY,(h),(283)))
	local real x1=GetUnitX(source)
	local real y1=GetUnitY(source)
	local real x2=0
	local real y2=0
	local real RM2
	local real RN2
	local real RS2
	local real RT2
	local real IV1
	local real IW1
	local location l
	if target!=null then
		set x2=GetUnitX(target)
		set y2=GetUnitY(target)
	endif
	if target==null or Func0141(x0,y0,x2,y2)>1000 then
		set x2=x0
		set y2=y0
	endif
	set RM2=Func0159(x1,y1,x2,y2)
	set RN2=Func0141(x1,y1,x2,y2)
	set RS2=RN2/IMaxBJ((65-Count),1)
	set RT2=(Count-33)*(Count-33)
	set IV1=x1+RS2*Cos(RM2*bj_DEGTORAD)
	set IW1=y1+RS2*Sin(RM2*bj_DEGTORAD)
	if Count<65 then
		if Func0093(source)==false then
			call SetUnitFlyHeight(source,775-RT2,0)
		endif
		call SetUnitPosition(source,IV1,IW1)
	else
		if Func0093(source)==false then
			call SetUnitFlyHeight(source,GetUnitDefaultFlyHeight(source),0)
		endif
		call PauseUnit(source,false)
		call SetUnitPathing(source,true)
		call SetUnitPosition(source,x2,y2)
		call SaveInteger(HY,(GetHandleId((source))),((4268)),(2))
		set l=Location(x2,y2)
		call TerrainDeformationRippleBJ(0.2,true,l,1.00,300.00,96.00,1,64.00)
		call RemoveLocation(l)
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetUnitX(source),GetUnitY(source)))
		if IsUnitAlly(source,GetOwningPlayer(Hero))then
		else
			if(Func0341((Hero),integers089[integer367])!=null)then
				call DamageTarget(Hero,source,1,(0.2+0.15*(GetUnitAbilityLevel(Hero,'A0CY')+1))*75*GetUnitAbilityLevel(Hero,'A0BZ'))
			else
				call DamageTarget(Hero,source,1,(0.2+0.15*GetUnitAbilityLevel(Hero,'A0CY'))*75*GetUnitAbilityLevel(Hero,'A0BZ'))
			endif
		endif
		call KillTrees(x2,y2,300)
		call Func2438(Hero,x2,y2,300,75*GetUnitAbilityLevel(Hero,'A0BZ'))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set Hero=null
	set source=null
	set target=null
	set l=null
	return false
endfunction

function Func2442 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit source=unit313
	local unit target
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real x
	local real y
	call SetUnitAnimationByIndex(Hero,4)
	call PauseUnit(source,true)
	call SetUnitPathing(source,false)
	if Func0093(source)==false then
		call UnitAddAbilityPermanent(source,'Amrf')
		call UnitRemoveAbility(source,'Amrf')
	endif
	call SaveInteger(HY,(GetHandleId((source))),((4268)),(1))
	if GetSpellTargetItem()==null then
		set target=GetSpellTargetUnit()
		set x=GetUnitX(target)
		set y=GetUnitY(target)
	else
		set x=GetItemX(GetSpellTargetItem())
		set y=GetItemY(GetSpellTargetItem())
		set target=null
	endif
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",source,"origin")))
	call SaveReal(HY,(h),(282),((x)*1.0))
	call SaveReal(HY,(h),(283),((y)*1.0))
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func2441))
	set Hero=null
	set source=null
	set target=null
	set t=null
endfunction

function Func2443 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit source=Func2440(Hero)
	local unit target=GetSpellTargetUnit()
	if GetSpellTargetItem()!=null and Func0540(GetItemTypeId(GetSpellTargetItem()))==false then
		call InterruptUnit(Hero)
		call Error(GetOwningPlayer(Hero),GetObjectName('n0N3'))
	endif
	set unit313=source
	if source==null then
		call InterruptUnit(Hero)
		call Error(GetOwningPlayer(Hero),GetObjectName('n0DA'))
	elseif GetOwningPlayer(target)==GetOwningPlayer(Hero)then
		call InterruptUnit(Hero)
		call Error(GetOwningPlayer(Hero),GetObjectName('n0CY'))
	endif
	set Hero=null
	set source=null
	set target=null
endfunction

function Func2444 takes nothing returns boolean
	if GetSpellAbilityId()=='A0BZ' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
			call Func2443()
		else
			call Func2442()
		endif
	endif
	return false
endfunction

function Func2445 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2444))
	set t=null
endfunction

function Func2446 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	call Func0237('A2KK')
endfunction

function Func2447 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer UT3=(LoadInteger(HY,(h),(375)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer Count
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source and GetEventDamage()>20 then
			set Count=(LoadInteger(HY,(GetHandleId(source)),(674)))
			if((LoadInteger(HY,(GetHandleId((source))),((4297))))==1)==false then
				call AddTimedKeyToUnit(source,4297,0.1)
				call SaveInteger(HY,(GetHandleId(source)),(674),(Count+1))
			endif
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func2448 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local trigger t2
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer Count=(LoadInteger(HY,(GetHandleId(source)),(674)))
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED and Count<6 then
		if GetAttacker()==source and((LoadInteger(HY,(GetHandleId((source))),((4297))))==1)==false then
			set t2=CreateTrigger()
			call TriggerRegisterUnitEvent(t2,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
			call TriggerRegisterTimerEvent(t2,1,false)
			call TriggerAddCondition(t2,Condition(function Func2447))
			call SaveUnitHandle(HY,(GetHandleId(t2)),(2),(source))
		endif
	endif
	if Count>5 then
		call SaveInteger(HY,(GetHandleId(GetTriggerUnit())),(674),(0))
		call UnitRemoveAbility(source,'A1W1')
		if(LoadInteger(HY,(h),(34)))==1 then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	endif
	if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED then
		call SaveInteger(HY,(h),(34),(1))
		if Count>5 then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
		call UnitRemoveAbility(source,'A1VG')
		if(Func0341((source),integers089[integer367])!=null)then
			call UnitAddAbilityPermanent(source,'A1VH')
		endif
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1VH',true)
	endif
	set t=null
	set source=null
	return false
endfunction

function WarClub_Animation takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEvalCount(t)==1 then
		call SetUnitTimeScalePercent(source,250)
	else
		call SetUnitTimeScalePercent(source,100)
		call SetUnitAnimationByIndex(source,12)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	return false
endfunction

function Func2449 takes nothing returns boolean
	local trigger t
	if GetSpellAbilityId()=='A1VH' then
		call AddTimedKeyToUnit(GetTriggerUnit(),4296,29.9)
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A1VH',false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A1VG',true)
		call UnitAddAbilityPermanent(GetTriggerUnit(),'A1VG')
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A1W1',false)
		call UnitAddAbilityPermanent(GetTriggerUnit(),'A1W1')
		call IssueTargetOrder(GetTriggerUnit(),"grabtree",GetSpellTargetDestructable())
		set t=CreateTrigger()
		call TriggerRegisterTimerEvent(t,30,false)
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
		call TriggerAddCondition(t,Condition(function Func2448))
		call SaveUnitHandle(HY,(GetHandleId(t)),(2),(GetTriggerUnit()))
		call SaveInteger(HY,(GetHandleId(t)),(34),(0))
		call SaveInteger(HY,(GetHandleId(GetTriggerUnit())),(674),(0))
		set t=null
	elseif GetSpellAbilityId()=='A2KA' then
		call RemoveDestructable(GetSpellTargetDestructable())
		call ShowUnit(GetTriggerUnit(),false)
		call ShowUnit(GetTriggerUnit(),true)
		call UnitRemoveAbility(GetTriggerUnit(),'Aloc')
		call UnitAddAbility(GetTriggerUnit(),'A2KB')
		call UnitRemoveAbility(GetTriggerUnit(),'A2KB')
		call UnitAddAbility(GetTriggerUnit(),'A2KC')
		call UnitRemoveAbility(GetTriggerUnit(),'A2KC')
		call AddUnitAnimationProperties(GetTriggerUnit(),"upgrade",false)
	endif
	return false
endfunction

function WarClub_Scan takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if(Func0341((source),integers089[integer367])!=null)then
		if((LoadInteger(HY,(GetHandleId((source))),((4296))))==1)==false then
			if GetUnitAbilityLevel(source,'A1VH')==0 and GetUnitAbilityLevel(source,'A1VG')==0 then
				call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1VH',true)
				call UnitAddAbilityPermanent(source,'A1VH')
			endif
		endif
	else
		call UnitRemoveAbility(source,'A1VH')
		call UnitRemoveAbility(source,'A1VG')
	endif
	set t=null
	return false
endfunction

function Func2450 takes nothing returns nothing
	local unit source=unit128
	local unit target=unit129
	local unit caster=(LoadUnitHandle(HY,(GetHandleId(source)),(297)))
	call SaveUnitHandle(HY,(GetHandleId(target)),(297),(caster))
	call SetUnitOwner(caster,GetOwningPlayer(target),true)
	set source=null
	set target=null
	set caster=null
endfunction

function Func2451 takes nothing returns nothing
	local unit Hero=unit127
	local unit caster=(LoadUnitHandle(HY,(GetHandleId(Hero)),(297)))
	if caster!=null and GetUnitTypeId(caster)=='e01V' then
		call RemoveUnit(caster)
	endif
endfunction

function Func2452 takes nothing returns boolean
	return GetLearnedSkill()=='A0CY' and IsUnitIllusion(GetTriggerUnit())==false
endfunction

function Func2453 takes nothing returns nothing
	local unit I04=(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(298)))
	local integer lvl=GetUnitAbilityLevel(I04,'A0CY')
	if GetUnitState(I04,UNIT_STATE_LIFE)>1 then
		call SetUnitScale(I04,0.5+0.25*lvl,0.5+0.25*lvl,0.5+0.25*lvl)
	endif
endfunction

function Func2454 takes nothing returns boolean
	local integer lvl
	if IsUnitIllusion(GetTriggerUnit())and(GetUnitTypeId(GetTriggerUnit())=='Ucrl' or GetUnitTypeId(GetTriggerUnit())=='U01X')then
		set lvl=GetUnitAbilityLevel((LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(298))),'A0CY')
		call SetUnitScale(GetTriggerUnit(),0.5+0.25*lvl,0.5+0.25*lvl,0.5+0.25*lvl)
	endif
	return false
endfunction

function Func2455 takes nothing returns nothing
	local trigger t
	local unit I04=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(I04,'A0CY')
	local unit caster
	local unit Hero=GetTriggerUnit()
	local region S5O
	if lvl==1 then
		set caster=CreateUnit(GetOwningPlayer(Hero),'e01V',0,0,0)
		call UnitAddAbilityPermanent(caster,'A10B')
		call SaveUnitHandle(HY,(GetHandleId(Hero)),(297),(caster))
	else
		set caster=(LoadUnitHandle(HY,(GetHandleId(Hero)),(297)))
	endif
	if lvl==2 then
		call UnitRemoveAbility(caster,'A10B')
		call UnitAddAbilityPermanent(caster,'A10A')
	elseif lvl==3 then
		call UnitRemoveAbility(caster,'A10B')
		call UnitRemoveAbility(caster,'A10A')
		call UnitAddAbilityPermanent(caster,'A0ZS')
	endif
	call SetPlayerTechResearched(GetOwningPlayer(I04),'R00E',lvl)
	if lvl==1 then
		set t=CreateTrigger()
		call TriggerAddAction(t,function Func2453)
		call TriggerRegisterTimerEvent(t,2.00,true)
		call SaveUnitHandle(HY,(GetHandleId(t)),(298),(I04))
		call SetUnitScale(I04,0.5+0.25*lvl,0.5+0.25*lvl,0.5+0.25*lvl)
		set t=CreateTrigger()
		set S5O=CreateRegion()
		call RegionAddRect(S5O,GetWorldBounds())
		call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
		call TriggerAddCondition(t,Condition(function Func2454))
		call SaveUnitHandle(HY,(GetHandleId(t)),(298),(I04))
		set t=null
		set S5O=null
		set t=CreateTrigger()
		call SaveUnitHandle(HY,(GetHandleId(t)),(2),(I04))
		call TriggerRegisterTimerEvent(t,0.5,true)
		set t=null
	endif
	set Hero=null
	set caster=null
endfunction

function Func2456 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2452))
	call TriggerAddAction(t,function Func2455)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2449))
	call Func2446()
	set t=null
endfunction

function Func2457 takes nothing returns boolean
	local unit source=GetTriggerUnit()
	local unit target=GetAttacker()
	local integer lvl=GetUnitAbilityLevel(source,'A19Q')
	local unit caster
	if GetRandomInt(1,100)<=(5+lvl*5)and Func0139(source,target)<325 then
		set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
		call UnitAddAbilityPermanent(caster,'A0BV')
		call SetUnitAbilityLevel(caster,'A0BV',lvl)
		call IssueTargetOrder(caster,"thunderbolt",target)
		set caster=null
	endif
	set source=null
	set target=null
	return false
endfunction

function Func2458 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local unit source=GetTriggerUnit()
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func2457))
	set t=null
	set source=null
endfunction

function Func2459 takes nothing returns boolean
	if GetLearnedSkill()=='A19Q' and GetUnitAbilityLevel(GetTriggerUnit(),'A19Q')==1 and IsUnitIllusion(GetTriggerUnit())==false then
		call Func2458()
	endif
	return false
endfunction

function Func2460 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2459))
	set t=null
endfunction

function Func2461 takes nothing returns boolean
	if((LoadInteger(HY,(GetHandleId((GetFilterUnit()))),((4268))))==1)and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(unit314)) then
		call DamageTarget(unit314,GetFilterUnit(),1,real319)
	endif
	return false
endfunction

function Func2462 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e00E',x,y,0)
	local integer lvl=GetUnitAbilityLevel(Hero,'A0LL')
	local group g=GetAvailableGroup()
	call UnitAddAbilityPermanent(caster,'A10J')
	call SetUnitAbilityLevel(caster,'A10J',lvl)
	set unit314=Hero
	if lvl==1 then
		set real319=25
	elseif lvl==2 then
		set real319=45
	elseif lvl==3 then
		set real319=65
	elseif lvl==4 then
		set real319=75
	endif
	call GroupEnumUnitsInRange(g,x,y,275+24,Condition(function Func2461))
	call KillGroup(g)
	if GetTriggerEvalCount(t)>6 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set Hero=null
	set caster=null
	set g=null
	return false
endfunction

function Func2463 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local location l=GetSpellTargetLoc()
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e00E',GetUnitX(Hero),GetUnitY(Hero),0)
	local integer lvl=GetUnitAbilityLevel(Hero,'A0LL')
	call UnitAddAbilityPermanent(caster,'A10M')
	call SetUnitAbilityLevel(caster,'A10M',lvl)
	call IssuePointOrder(caster,"clusterrockets",GetLocationX(l),GetLocationY(l))
	call TriggerRegisterTimerEvent(t,0.25,true)
	call TriggerAddCondition(t,Condition(function Func2462))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveReal(HY,(h),(6),((GetLocationX(l))*1.0))
	call SaveReal(HY,(h),(7),((GetLocationY(l))*1.0))
	call TriggerEvaluate(t)
	call RemoveLocation(l)
	set Hero=null
	set l=null
	set t=null
	set caster=null
endfunction

function Func2464 takes nothing returns boolean
	if GetSpellAbilityId()=='A0LL' then
		call Func2463()
	endif
	return false
endfunction

function Func2465 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2464))
	set t=null
endfunction

function Func2466 takes nothing returns nothing
	if GetEnumUnit()==GetTriggerUnit()then
		call Func0228(GetEnumUnit(),'A0XE',integer491,real320,'B00B')
	else
		call Func0228(GetEnumUnit(),'A0XE',integer491,real320,'B00B')
	endif
	call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A0XE',false)
endfunction

function Func2467 takes nothing returns nothing
	local group g=GetAvailableGroup()
	set integer491=GetUnitAbilityLevel(GetTriggerUnit(),'A1EJ')
	set real320=7
	call GroupEnumUnitsInRange(g,0,0,9999,Condition(function Func0298))
	call ForGroup(g,function Func2466)
	call KillGroup(g)
	set g=null
endfunction

function Func2468 takes nothing returns boolean
	if GetSpellAbilityId()=='A1EJ' then
		call Func2467()
	endif
	return false
endfunction

function Func2469 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2468))
	set t=null
endfunction

function Func2470 takes nothing returns boolean
	return GetSpellAbilityId()=='A0BE'
endfunction

function Func2471 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call SetUnitAbilityLevel(source,'A09E',GetUnitAbilityLevel(source,'A0BE'))
	call UnitRemoveAbility(source,'B09Y')
	set t=null
	set source=null
	return false
endfunction

function Func2472 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(2),(source))
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func2471))
	set t=null
	set source=null
endfunction

function Func2473 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_FINISH)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2470))
	call TriggerAddAction(t,function Func2472)
endfunction

function Func2474 takes nothing returns boolean
	return GetLearnedSkill()=='A0BE' and IsUnitIllusion(GetTriggerUnit())==false
endfunction

function Func2475 takes nothing returns nothing
	call SetUnitAbilityLevel(GetTriggerUnit(),'A09E',GetUnitAbilityLevel(GetTriggerUnit(),'A0BE'))
endfunction

function Func2476 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2474))
	call TriggerAddAction(t,function Func2475)
endfunction

constant function BeastRage_AbilityCode takes nothing returns integer
	return 'A0O0'
endfunction

constant function BeastRage_EffectCode takes nothing returns integer
	return 'A0NZ'
endfunction

function Func2477 takes nothing returns boolean
	return GetUnitAbilityLevel(GetAttacker(),('A0O0'))>0 and((LoadInteger(HY,(GetHandleId((GetAttacker()))),((4271))))==1)==false
endfunction

function Func2478 takes nothing returns nothing
	local unit Z4O=GetAttacker()
	local unit target=GetTriggerUnit()
	local integer h=GetHandleId(Z4O)
	local integer IZ4=(LoadInteger(HY,(h),(237)))
	local unit IV4=UnitAsInteger_Load(IZ4)
	local integer QX2=Func0131((LoadInteger(HY,(h),(236))),0)
	local integer lvl=GetUnitAbilityLevel(Z4O,('A0O0'))
	local integer IW4=1
	if IV4!=target then
		set QX2=1
	else
		set QX2=Func0130(QX2+1,1+4)
	endif
	if QX2>1 then
		set IW4=QX2+4*(lvl-1)
	endif
	call Func0129(Z4O,('A0NZ'),IW4)
	call SaveInteger(HY,(h),(236),(QX2))
	if IV4!=target then
		call UnitAsInteger_Clear(IZ4)
		set IZ4=Func0021(target)
		call SaveInteger(HY,(h),(237),(IZ4))
	endif
	call AddTimedKeyToUnit(Z4O,4271,0.4)
endfunction

function Func2479 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func2477))
	call TriggerAddAction(t,function Func2478)
	call Func0125(('A0NZ'))
endfunction

function Func2480 takes unit source,unit target,unit caster,integer lvl returns nothing
	call SetUnitOwner(caster,GetOwningPlayer(target),false)
	call SetUnitAbilityLevel(caster,'A21O',lvl)
	call IssueTargetOrder(caster,"curse",target)
	call DamageTarget(source,target,1,25+50*lvl)
	call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",target,"overhead"))
endfunction

function Func2481 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group015)==false then
		call GroupAddUnit(group015,GetEnumUnit())
		call Func2480(unit315,GetEnumUnit(),unit316,integer492)
	endif
endfunction

function Func2482 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local unit IK4=(LoadUnitHandle(HY,(h),(675)))
	local unit IL4=(LoadUnitHandle(HY,(h),(676)))
	local real a=(LoadReal(HY,(h),(13)))
	local real d=(LoadReal(HY,(h),(433)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	local group g=GetAvailableGroup()
	if GetTriggerEvalCount(t)<=50 then
		set a=a+20
		set d=d+7
		call SaveReal(HY,(h),(13),((a)*1.0))
		call SaveReal(HY,(h),(433),((d)*1.0))
	elseif GetTriggerEvalCount(t)<=100 then
		set a=a+20
		set d=d-7
		call SaveReal(HY,(h),(13),((a)*1.0))
		call SaveReal(HY,(h),(433),((d)*1.0))
	endif
	call SetUnitX(IK4,SafeX50(x+d*Cos(a*bj_DEGTORAD)))
	call SetUnitY(IK4,SafeY50(y+d*Sin(a*bj_DEGTORAD)))
	set a=a+180
	call SetUnitX(IL4,SafeX50(x+d*Cos(a*bj_DEGTORAD)))
	call SetUnitY(IL4,SafeY50(y+d*Sin(a*bj_DEGTORAD)))
	set tt_unit1=source
	set unit315=source
	set unit316=caster
	set group015=PR2
	set integer492=lvl
	call GroupEnumUnitsInRange(g,GetUnitX(IK4),GetUnitY(IK4),125,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func2481)
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,GetUnitX(IL4),GetUnitY(IL4),125,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func2481)
	call KillGroup(g)
	if GetTriggerEvalCount(t)>100 then
		call KillUnit(IK4)
		call KillUnit(IL4)
		call KillUnit(caster)
		call KillGroup(PR2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set IK4=null
	set IL4=null
	set caster=null
	return false
endfunction

function Func2483 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local unit IK4=CreateUnit(GetOwningPlayer(source),'e02Y',x,y,0)
	local unit IL4=CreateUnit(GetOwningPlayer(source),'e02Y',x,y,0)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
	call UnitAddAbility(caster,'A21O')
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveUnitHandle(HY,(h),(675),(IK4))
	call SaveUnitHandle(HY,(h),(676),(IL4))
	call SaveReal(HY,(h),(13),((0)*1.0))
	call SaveReal(HY,(h),(433),((0)*1.0))
	call SaveInteger(HY,(h),(5),(GetUnitAbilityLevel(source,'A21N')))
	call SaveGroupHandle(HY,(h),(187),(GetAvailableGroup()))
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerAddCondition(t,Condition(function Func2482))
	set source=null
	set IK4=null
	set IL4=null
	set t=null
	set caster=null
endfunction

function Func2484 takes unit source,unit target,unit caster,integer lvl returns nothing
	call SetUnitOwner(caster,GetOwningPlayer(target),false)
	call SetUnitAbilityLevel(caster,'A21P',lvl)
	call IssueTargetOrder(caster,"slow",target)
	call DamageTarget(source,target,1,75)
	call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",target,"overhead"))
endfunction

function Func2485 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group015)==false and unit317!=null and IsDead(unit317)==false then
		call GroupAddUnit(group015,GetEnumUnit())
		call Func2484(unit315,GetEnumUnit(),unit316,integer492)
	endif
endfunction

function Func2486 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local unit IK4=(LoadUnitHandle(HY,(h),(393)))
	local unit IL4=(LoadUnitHandle(HY,(h),(394)))
	local unit IR4=(LoadUnitHandle(HY,(h),(395)))
	local unit IP4=(LoadUnitHandle(HY,(h),(396)))
	local unit IQ4=(LoadUnitHandle(HY,(h),(397)))
	local real a=(LoadReal(HY,(h),(13)))-12.5
	local real d=(LoadReal(HY,(h),(433)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local unit UC2
	local group g
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	set d=d+900/20.0
	call SaveReal(HY,(h),(433),((d)*1.0))
	call SetUnitX(IK4,SafeX50(x+d*Cos(a*bj_DEGTORAD)))
	call SetUnitY(IK4,SafeY50(y+d*Sin(a*bj_DEGTORAD)))
	set a=a+6.25
	call SetUnitX(IL4,SafeX50(x+d*Cos(a*bj_DEGTORAD)))
	call SetUnitY(IL4,SafeY50(y+d*Sin(a*bj_DEGTORAD)))
	set a=a+6.25
	call SetUnitX(IR4,SafeX50(x+d*Cos(a*bj_DEGTORAD)))
	call SetUnitY(IR4,SafeY50(y+d*Sin(a*bj_DEGTORAD)))
	set a=a+6.25
	call SetUnitX(IP4,SafeX50(x+d*Cos(a*bj_DEGTORAD)))
	call SetUnitY(IP4,SafeY50(y+d*Sin(a*bj_DEGTORAD)))
	set a=a+6.25
	call SetUnitX(IQ4,SafeX50(x+d*Cos(a*bj_DEGTORAD)))
	call SetUnitY(IQ4,SafeY50(y+d*Sin(a*bj_DEGTORAD)))
	set unit315=source
	set unit316=caster
	set group015=PR2
	set integer492=lvl
	set UC2=IK4
	if UC2!=null and IsDead(UC2)==false then
		set x=GetUnitX(UC2)
		set y=GetUnitY(UC2)
		set unit317=UC2
		set tt_unit1=source
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,x,y,125,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func2485)
		call KillGroup(g)
	endif
	set UC2=IL4
	if UC2!=null and IsDead(UC2)==false then
		set x=GetUnitX(UC2)
		set y=GetUnitY(UC2)
		set unit317=UC2
		set tt_unit1=source
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,x,y,125,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func2485)
		call KillGroup(g)
	endif
	set UC2=IR4
	if UC2!=null and IsDead(UC2)==false then
		set x=GetUnitX(UC2)
		set y=GetUnitY(UC2)
		set unit317=UC2
		set tt_unit1=source
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,x,y,125,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func2485)
		call KillGroup(g)
	endif
	set UC2=IP4
	if UC2!=null and IsDead(UC2)==false then
		set x=GetUnitX(UC2)
		set y=GetUnitY(UC2)
		set unit317=UC2
		set tt_unit1=source
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,x,y,125,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func2485)
		call KillGroup(g)
	endif
	set UC2=IQ4
	if UC2!=null and IsDead(UC2)==false then
		set x=GetUnitX(UC2)
		set y=GetUnitY(UC2)
		set unit317=UC2
		set tt_unit1=source
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,x,y,125,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func2485)
		call KillGroup(g)
	endif
	if GetTriggerEvalCount(t)>20 then
		call KillUnit(IK4)
		call KillUnit(IL4)
		call KillUnit(IR4)
		call KillUnit(IP4)
		call KillUnit(IQ4)
		call KillUnit(caster)
		call KillGroup(PR2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set IK4=null
	set IL4=null
	set IR4=null
	set IP4=null
	set IQ4=null
	set caster=null
	return false
endfunction

function Func2487 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x0=GetUnitX(source)
	local real y0=GetUnitY(source)
	local real x1=GetSpellTargetX()
	local real y1=GetSpellTargetY()
	local real a=Func0159(x0,y0,x1,y1)
	local unit IK4=CreateUnit(GetOwningPlayer(source),'e02Z',x0,y0,a-12.5)
	local unit IL4=CreateUnit(GetOwningPlayer(source),'e02Z',x0,y0,a-6.25)
	local unit IR4=CreateUnit(GetOwningPlayer(source),'e02Z',x0,y0,a)
	local unit IP4=CreateUnit(GetOwningPlayer(source),'e02Z',x0,y0,a+6.25)
	local unit IQ4=CreateUnit(GetOwningPlayer(source),'e02Z',x0,y0,a+12.5)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',x0,y0,0)
	call UnitAddAbility(caster,'A21P')
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveUnitHandle(HY,(h),(393),(IK4))
	call SaveUnitHandle(HY,(h),(394),(IL4))
	call SaveUnitHandle(HY,(h),(395),(IR4))
	call SaveUnitHandle(HY,(h),(396),(IP4))
	call SaveUnitHandle(HY,(h),(397),(IQ4))
	call SaveReal(HY,(h),(6),((x0)*1.0))
	call SaveReal(HY,(h),(7),((y0)*1.0))
	call SaveReal(HY,(h),(433),((0)*1.0))
	call SaveReal(HY,(h),(13),((a)*1.0))
	call SaveGroupHandle(HY,(h),(187),(GetAvailableGroup()))
	call SaveInteger(HY,(h),(5),(GetUnitAbilityLevel(source,'A21M')))
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerAddCondition(t,Condition(function Func2486))
	set source=null
	set IK4=null
	set IL4=null
	set IR4=null
	set IP4=null
	set IQ4=null
	set t=null
	set caster=null
endfunction

function Func2488 takes nothing returns boolean
	if GetSpellAbilityId()=='A21M' then
		call Func2487()
	elseif GetSpellAbilityId()=='A21N' then
		call Func2483()
	endif
	return false
endfunction

function Func2489 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A21L')
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	if GetUnitTypeId(source)=='N017' or GetUnitTypeId(source)=='N02B' then
		if((LoadInteger(HY,(GetHandleId((source))),((4416))))==1)==false or p!=GetOwningPlayer(source)then
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A21N',true)
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A21M',false)
			call SaveInteger(HY,(GetHandleId((source))),((4416)),(1))
			call SaveInteger(HY,(GetHandleId((source))),((4417)),(2))
			if p!=GetOwningPlayer(source)then
				call SavePlayerHandle(HY,(h),(54),(GetOwningPlayer(source)))
			endif
		endif
		if GetUnitAbilityLevel(source,'A21N')!=lvl then
			call SetUnitAbilityLevel(source,'A21N',lvl)
		endif
	elseif GetUnitTypeId(source)=='N016' then
		if((LoadInteger(HY,(GetHandleId((source))),((4417))))==1)==false or p!=GetOwningPlayer(source)then
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A21N',false)
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A21M',true)
			call SaveInteger(HY,(GetHandleId((source))),((4417)),(1))
			call SaveInteger(HY,(GetHandleId((source))),((4416)),(2))
			if p!=GetOwningPlayer(source)then
				call SavePlayerHandle(HY,(h),(54),(GetOwningPlayer(source)))
			endif
		endif
		if GetUnitAbilityLevel(source,'A21M')!=lvl then
			call SetUnitAbilityLevel(source,'A21M',lvl)
		endif
	endif
	set t=null
	set source=null
	return false
endfunction

function Func2490 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	call UnitAddAbilityPermanent(source,'A21N')
	call UnitAddAbilityPermanent(source,'A21M')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A21N',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A21M',false)
	call SaveInteger(HY,(GetHandleId((source))),((4416)),(2))
	call SaveInteger(HY,(GetHandleId((source))),((4417)),(2))
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerAddCondition(t,Condition(function Func2489))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SavePlayerHandle(HY,(h),(54),(GetOwningPlayer(source)))
	set t=null
	set source=null
endfunction

function Func2491 takes nothing returns boolean
	if GetLearnedSkill()=='A21L' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A21L')==1 then
		call Func2490()
	endif
	return false
endfunction

function Func2492 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2491))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2488))
	set t=null
endfunction

function Func2493 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local integer MKO=2+lvl
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call UnitRemoveAbility(source,'A1N3')
		call UnitRemoveAbility(source,'A1N6')
		call UnitRemoveAbility(source,'A1N7')
		call UnitRemoveAbility(source,'B0CH')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
		if GetAttacker()==source then
			set Count=Count+1
			call SaveInteger(HY,(h),(34),(Count))
			if Count>=MKO then
				call UnitRemoveAbility(source,'A1N3')
				call UnitRemoveAbility(source,'A1N6')
				call UnitRemoveAbility(source,'A1N7')
				call UnitRemoveAbility(source,'B0CH')
				call FlushChildHashtable(HY,(h))
				call CleanTrigger(t)
			endif
		endif
	elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
		if GetTriggerUnit()==source and GetSpellAbilityId()=='A1P9' and GetTime()>(LoadReal(HY,(h),(442)))then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		elseif Func0323(GetSpellAbilityId())and source==GetSpellTargetUnit()then
			call UnitRemoveAbility(source,'A1N3')
			call UnitRemoveAbility(source,'A1N6')
			call UnitRemoveAbility(source,'A1N7')
			call UnitRemoveAbility(source,'B0CH')
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call UnitRemoveAbility(source,'A1N3')
		call UnitRemoveAbility(source,'A1N6')
		call UnitRemoveAbility(source,'A1N7')
		call UnitRemoveAbility(source,'B0CH')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func2494 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A1P9')
	call UnitAddAbilityPermanent(source,'A1N3')
	call UnitAddAbilityPermanent(source,'A1N6')
	call UnitAddAbilityPermanent(source,'A1N7')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1N6',false)
	call TriggerRegisterTimerEvent(t,15,false)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2493))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(34),(0))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveReal(HY,(h),(442),((GetTime()+1)*1.0))
	set t=null
	set source=null
endfunction

function Func2495 takes nothing returns boolean
	if GetSpellAbilityId()=='A1P9' then
		call Func2494()
	endif
	return false
endfunction

function Func2496 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2495))
	call Func0125('A1N3')
	set t=null
endfunction

function Func2497 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A0LC')
	local integer EB2
	local integer O64
	if GetTriggerEventId()==EVENT_UNIT_DEATH or GetUnitAbilityLevel(source,'B02H')==0 or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and source==GetSpellTargetUnit()and Func0323(GetSpellAbilityId()))then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitRemoveAbility(source,'B02H')
		call Func0366(source,0)
	else
		set EB2=R2I(GetUnitState(source,UNIT_STATE_LIFE)*(0.04+0.01*lvl))
		set O64=(LoadInteger(HY,(h),(238)))
		if EB2!=O64 then
			call SaveInteger(HY,(h),(238),(EB2))
			call Func0366(source,EB2)
		endif
	endif
	set t=null
	set source=null
	return false
endfunction

function Func2498 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.25,true)
	call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2497))
	call SaveUnitHandle(HY,(h),(2),(GetTriggerUnit()))
	call SaveInteger(HY,(h),(238),(0))
	set t=null
endfunction

function Func2499 takes nothing returns boolean
	if GetSpellAbilityId()=='A0LC' then
		call Func2498()
	endif
	return false
endfunction

function Func2500 takes nothing returns boolean
	if GetUnitAbilityLevel(GetAttacker(),'B02H')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false and GetUnitAbilityLevel(GetTriggerUnit(),'A04R')==0 then
	endif
	return false
endfunction

function Func2501 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2499))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func2500))
	set t=null
endfunction

function Func2502 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call Func0367(source,0)
	set source=null
	return false
endfunction

function Func2503 takes nothing returns nothing
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer OC4=(LoadInteger(HY,(GetHandleId(target)),(824)))
	local real OD4=(LoadReal(HY,(GetHandleId(target)),(825)))
	local integer lvl=GetUnitAbilityLevel(source,'A2X2')
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or OD4<GetTime()then
		call SaveInteger(HY,(GetHandleId(target)),(824),(0))
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_UNIT_ATTACKED then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,0.31,true)
		call TriggerAddCondition(t,Condition(function Func2502))
		call SaveUnitHandle(HY,(h),(2),(source))
		call Func0367(source,IMinBJ((10+5*lvl)*OC4,500))
	endif
	set t=null
	set source=null
	set target=null
endfunction

function Func2504 takes nothing returns boolean
	if GetTriggerEventId()!=EVENT_UNIT_ATTACKED then
		call Func2503()
	endif
	if GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(2)))then
		call Func2503()
	endif
	return false
endfunction

function Func2505 takes unit source,unit target returns nothing
	local trigger t
	local integer h
	local integer OC4=(LoadInteger(HY,(GetHandleId(target)),(824)))
	local integer lvl=GetUnitAbilityLevel(source,'A2X2')
	call SaveInteger(HY,(GetHandleId(target)),(824),(OC4+1))
	call SaveReal(HY,(GetHandleId(target)),(825),((GetTime()+15)*1.0))
	if OC4==0 then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\BattleRoar\\RoarTarget.mdl",target,"overhead")))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_ATTACKED)
		call TriggerRegisterDeathEvent(t,target)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func2504))
		call SaveInteger(HY,(GetHandleId(target)),(824),(2))
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,0.31,true)
		call TriggerAddCondition(t,Condition(function Func2502))
		call SaveUnitHandle(HY,(h),(2),(source))
		call Func0367(source,IMinBJ((10+5*lvl),500))
	endif
	set t=null
endfunction

function Func2506 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source then
			call DisableTrigger(t)
			call Func2505(source,target)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2507 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local unit target=GetTriggerUnit()
	local unit source=GetAttacker()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,1,false)
	call TriggerAddCondition(t,Condition(function Func2506))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	set target=null
	set source=null
	set t=null
endfunction

function Func2508 takes nothing returns nothing
	local unit source=GetAttacker()
	if((LoadInteger(HY,(GetHandleId((source))),((4274))))==1)==false then
		call AddTimedKeyToUnit(source,4274,0.2)
		call Func2507()
	endif
endfunction

function Func2509 takes nothing returns boolean
	if GetUnitAbilityLevel(GetAttacker(),'A2X2')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(14)))and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
		call Func2508()
	endif
	return false
endfunction

function Func2510 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func2509))
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(GetTriggerUnit()))
	set t=null
endfunction

function Func2511 takes nothing returns boolean
	if GetLearnedSkill()=='A2X2' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A2X2')==1 then
		call Func2510()
	endif
	return false
endfunction

function Func2512 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2511))
	set t=null
endfunction

function Func2513 takes unit caster,real x,real y,integer lvl returns nothing
	call SetUnitPosition(caster,x,y)
	call IssueImmediateOrder(caster,"howlofterror")
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl",x,y))
	set caster=null
endfunction

function Func2514 takes nothing returns boolean
	if(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(),group016)==false then
		call GroupAddUnit(group016,GetFilterUnit())
		call DamageTarget(unit318,GetFilterUnit(),7,real321)
	endif
	return false
endfunction

function Func2515 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local group JAO=(LoadGroupHandle(HY,(h),(133)))
	local group g
	if GetTriggerEvalCount(t)>10 then
		call KillGroup(JAO)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set group016=JAO
		set unit318=source
		set real321=lvl*20+10
		set tt_unit1=source
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,x,y,325,Condition(function Func2514))
		call KillGroup(g)
		set g=null
		call Func2513(caster,x,y,lvl)
		if ModuloInteger(GetTriggerEvalCount(t),2)==0 then
			call KillUnit(CreateUnit(GetOwningPlayer(source),'e02A',x,y,0))
		endif
		set x=SafeX50(x+200*Cos(RM2*bj_DEGTORAD))
		set y=SafeY50(y+200*Sin(RM2*bj_DEGTORAD))
		call SaveReal(HY,(h),(6),((x)*1.0))
		call SaveReal(HY,(h),(7),((y)*1.0))
	endif
	set t=null
	set source=null
	set caster=null
	set JAO=null
	return false
endfunction

function Func2516 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x1=GetUnitX(source)
	local real y1=GetUnitY(source)
	local real x2=GetLocationX(l)
	local real y2=GetLocationY(l)
	local real RM2=Func0159(x1,y1,x2,y2)
	local integer lvl=GetUnitAbilityLevel(source,'A17O')
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',x1,y1,0)
	call UnitAddAbilityPermanent(caster,'A0AP')
	call SetUnitAbilityLevel(caster,'A0AP',lvl)
	call RemoveLocation(l)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveReal(HY,(h),(6),((x1)*1.0))
	call SaveReal(HY,(h),(7),((y1)*1.0))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveGroupHandle(HY,(h),(133),(GetAvailableGroup()))
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func2515))
	set t=null
	set source=null
	set l=null
	set caster=null
endfunction

function Func2517 takes nothing returns boolean
	if GetSpellAbilityId()=='A17O' then
		call Func2516()
	endif
	return false
endfunction

function Func2518 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2517))
	set t=null
endfunction

function Func2519 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real x1=(LoadReal(HY,(h),(64)))
	local real x2=(LoadReal(HY,(h),(66)))
	local real y1=(LoadReal(HY,(h),(65)))
	local real y2=(LoadReal(HY,(h),(67)))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl",source,"origin"))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl",target,"origin"))
	call SetUnitPosition(source,x2,y2)
	call AddTimedKeyToUnit(target,4407,1)
	call SetUnitPosition(target,x1,y1)
	if IsUnitInRegion(region007,target)then
		call Func0240(target)
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2520 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local real x1=GetUnitX(source)
	local real y1=GetUnitY(source)
	local real x2=GetUnitX(target)
	local real y2=GetUnitY(target)
	local trigger t
	local integer h
	if IsUnitAlly(source,GetOwningPlayer(target)) or IsBlocked(GetSpellTargetUnit())==false then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveReal(HY,(h),(64),((x1)*1.0))
		call SaveReal(HY,(h),(66),((x2)*1.0))
		call SaveReal(HY,(h),(65),((y1)*1.0))
		call SaveReal(HY,(h),(67),((y2)*1.0))
		call TriggerRegisterTimerEvent(t,0,false)
		call TriggerAddCondition(t,Condition(function Func2519))
		call Func0161("SPLK",x1,y1,x2,y2,0.5,0,1,1,0.3)
		call KillTrees(x1,y1,300)
		call KillTrees(x2,y2,300)
	endif
	set source=null
	set target=null
	set t=null
endfunction

function Func2521 takes nothing returns boolean
	if GetSpellAbilityId()=='A0IN' or GetSpellAbilityId()=='A1AW' then
		call Func2520()
	endif
	return false
endfunction

function Func2522 takes nothing returns nothing
	if(IsTerrainPathable(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),PATHING_TYPE_WALKABILITY))then
		call InterruptUnit(GetTriggerUnit())
		call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n03B'))
	endif
endfunction

function Func2523 takes nothing returns boolean
	if GetSpellAbilityId()=='A0IN' or GetSpellAbilityId()=='A1AW' then
		call Func2522()
	endif
	return false
endfunction

function Func2524 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2521))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func2523))
	set t=null
endfunction

function MagicMissle takes nothing returns nothing
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareMissile.mdl",GetTriggerUnit(),"weapon"))
endfunction

function Func2525 takes nothing returns boolean
	if GetSpellAbilityId()=='A02A' then
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareMissile.mdl",GetTriggerUnit(),"weapon"))
	endif
	return false
endfunction

function Func2526 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerAddCondition(t,Condition(function Func2525))
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	set t=null
endfunction

function Func2527 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if IsDead(source)==false or GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call UnitRemoveAbility(target,'A2WV')
		call UnitRemoveAbility(target,'A2WY')
		call UnitRemoveAbility(target,'A2WW')
		call UnitRemoveAbility(target,'A2WX')
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2528 takes nothing returns boolean
	local trigger t
	local integer h
	local unit source=GetTriggerUnit()
	local unit target=GetKillingUnit()
	local integer lvl=GetUnitAbilityLevel(source,'ACac')
	set target=Func0656(target)
	if IsUnitType(target,UNIT_TYPE_HERO) then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerRegisterDeathEvent(t,target)
		call TriggerAddCondition(t,Condition(function Func2527))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		if lvl==1 then
			call UnitAddAbilityPermanent(target,'A2WV')
			call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2WV',false)
		elseif lvl==2 then
			call UnitAddAbilityPermanent(target,'A2WY')
			call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2WY',false)
		elseif lvl==3 then
			call UnitAddAbilityPermanent(target,'A2WW')
			call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2WW',false)
		elseif lvl==4 then
			call UnitAddAbilityPermanent(target,'A2WX')
			call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2WX',false)
		endif
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2529 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2528))
	set source=null
	set t=null
endfunction

function Func2530 takes nothing returns boolean
	if GetLearnedSkill()=='ACac' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'ACac')==1 then
		call Func2529()
	endif
	return false
endfunction

function Func2531 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerAddCondition(t,Condition(function Func2530))
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	set t=null
endfunction

function Func2532 takes unit u returns nothing
	local unit Hero=Players_Hero[GetPlayerId(GetOwningPlayer(u))]
	local integer h=GetHandleId(Hero)
	local integer A24
	local integer i
	local integer x
	local integer A34
	local unit A44
	if GetUnitTypeId(Hero)!='E01Y' then
		return
	endif
	set A24=(LoadInteger(HY,(h),(348)))
	set i=1
	loop
		exitwhen i>A24
		set A34=(LoadInteger(HY,(h),(7000+i)))
		set A44=UnitAsInteger_Load(A34)
		if A44==u then
			set x=i
			loop
				exitwhen x==A24
				call SaveInteger(HY,(h),(7000+x),((LoadInteger(HY,(h),(7000+x+1)))))
				set x=x+1
			endloop
			set i=A24
		endif
		set i=i+1
	endloop
	call SaveInteger(HY,(h),(348),(A24-1))
	set A44=null
	set Hero=null
endfunction

function Func2533 takes unit u returns nothing
	local unit Hero=Players_Hero[GetPlayerId(GetOwningPlayer(u))]
	local integer h=GetHandleId(Hero)
	local integer A24=(LoadInteger(HY,(h),(348)))
	call SaveReal(HY,(GetHandleId(u)),(786),((GetTime())*1.0))
	set A24=A24+1
	call SaveInteger(HY,(h),(7000+A24),(Func0021(u)))
	call SaveInteger(HY,(h),(348),(A24))
	if booleans024[GetPlayerId(GetOwningPlayer(Hero))]then
		call SelectUnitAddForPlayer(u,GetOwningPlayer(Hero))
	endif
	set Hero=null
endfunction

function WardenTrap_DeathMain takes nothing returns nothing
	call Func2532(GetTriggerUnit())
endfunction

function Func2534 takes unit u returns nothing
	local integer A74=GetUnitAbilityLevel(u,'A0RP')*3+2
	local integer h=GetHandleId(u)
	local integer A24=(LoadInteger(HY,(h),(348)))
	local integer A34=(LoadInteger(HY,(h),(7000+1)))
	local unit A44=UnitAsInteger_Load(A34)
	if A24>=A74 then
		call Func2532(A44)
		call RemoveUnit(A44)
	endif
	set A44=null
endfunction

function Func2535 takes nothing returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'e00E',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
	call UnitAddAbilityPermanent(caster,'A0RU')
	call SetUnitAbilityLevel(caster,'A0RU',integer493)
	call IssueTargetOrder(caster,"slow",GetEnumUnit())
	call UnitAddAbilityPermanent(caster,'A0S7')
	set caster=null
endfunction

function Func2536 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local group g=GetAvailableGroup()
	local real time=(LoadReal(HY,(GetHandleId(source)),(786)))
	local real TB2=GetTime()-time
	local integer lvl=1
	if TB2>4 then
		set lvl=5
	elseif TB2>3 then
		set lvl=4
	elseif TB2>2 then
		set lvl=3
	elseif TB2>1 then
		set lvl=2
	endif
	set integer493=lvl
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl",x,y))
	call GroupEnumUnitsInRange(g,x,y,400,Condition(function Func0271))
	call ForGroup(g,function Func2535)
	call KillGroup(g)
	call Func2532(source)
	call RemoveUnit(source)
	set g=null
	set source=null
endfunction

function Func2537 takes nothing returns boolean
	return GetOwningPlayer(GetFilterUnit())==player005 and GetUnitTypeId(GetFilterUnit())=='e020'
endfunction

function Func2538 takes nothing returns nothing
	local real AC4=Func0168(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),real009,real010)
	local real AD4=Func0168(GetUnitX(tt_unit1),GetUnitY(tt_unit1),real009,real010)
	if AC4<AD4 then
		set tt_unit1=GetEnumUnit()
	endif
endfunction

function Func2539 takes nothing returns nothing
	local group g=GetAvailableGroup()
	set player005=GetOwningPlayer(GetTriggerUnit())
	call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),9000,Condition(function Func2537))
	set tt_unit1=FirstOfGroup(g)
	set real009=GetUnitX(GetTriggerUnit())
	set real010=GetUnitY(GetTriggerUnit())
	call ForGroup(g,function Func2538)
	call IssueImmediateOrder((tt_unit1),"locustswarm")
	call KillGroup(g)
	set g=null
endfunction

function WardenTrap_LearnMain takes nothing returns nothing
	call UnitAddAbilityPermanent(GetTriggerUnit(),'A2XJ')
endfunction

function Func2540 takes nothing returns nothing
	local location l=GetSpellTargetLoc()
	call UnitAddAbilityPermanent(GetTriggerUnit(),'A2XJ')
	call Func2534(GetTriggerUnit())
	call Func2533(CreateUnit(GetOwningPlayer(GetTriggerUnit()),'e020',GetLocationX(l),GetLocationY(l),0))
	call RemoveLocation(l)
	set l=null
endfunction

function Func2541 takes nothing returns boolean
	if GetSpellAbilityId()=='A0RP' then
		call Func2540()
	endif
	if GetSpellAbilityId()=='A2XJ' then
		call Func2539()
	endif
	return false
endfunction

function Func2542 takes nothing returns boolean
	if GetSpellAbilityId()=='A0RQ' then
		call Func2536()
	endif
	return false
endfunction

function Func2543 takes nothing returns boolean
	if GetLearnedSkill()=='A0RP' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0RP')==1 then
		call UnitAddAbilityPermanent(GetTriggerUnit(),'A2XJ')
	endif
	return false
endfunction

function Func2544 takes nothing returns boolean
	if GetUnitTypeId(GetDyingUnit())=='e020' then
		call Func2532(GetTriggerUnit())
	endif
	return false
endfunction

function Func2545 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2541))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2544))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2542))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2543))
	set t=null
endfunction

function Func2546 takes unit u,real AX4,real AY4,real AJ4,real AK4,real AL4 returns boolean
	local real AM4=AJ4-AX4
	local real AN4=AK4-AY4
	local real AS4=GetUnitX(u)-AX4
	local real AT4=GetUnitY(u)-AY4
	return AL4>=RAbsBJ(AM4*AT4-AN4*AS4)/RAbsBJ(Pow(Pow(AM4,2)+Pow(AN4,2),0.5))
endfunction

function Func2547 takes unit source,unit target,real dmg,real InitX,real InitY returns nothing
	local integer lvl=GetUnitAbilityLevel(source,'A0RO')
	local real AP4=(300+20*lvl)*2
	local real AQ4=80+25
	local unit AU4
	local real dx
	local real dy
	local real B04
	local real x
	local real y
	local group g=GetAvailableGroup()
	local boolean BI4
	local boolean B14
	set dx=GetUnitX(target)-GetUnitX(source)
	set dy=GetUnitY(target)-GetUnitY(source)
	set B04=Pow(Pow(dx,2)+Pow(dy,2),0.5)
	set x=GetUnitX(target)+(AP4/2-25)*(dx/B04)
	set y=GetUnitY(target)+(AP4/2-25)*(dy/B04)
	set tt_unit1=source
	set real009=dmg
	call GroupEnumUnitsInRange(g,x,y,Pow(Pow(AP4/2,2)+Pow(AQ4/2,2),0.5),Condition(function DefaultEnemyFilterWithAncients))
	call GroupRemoveUnit(g,target)
	set AU4=FirstOfGroup(g)
	loop
		exitwhen AU4==null
		set BI4=Func2546(AU4,GetUnitX(source),GetUnitY(source),GetUnitX(target),GetUnitY(target),AQ4/2)
		set B14=Func2546(AU4,x,y,x-100,y+100*x*Pow(y,-1),0.01+AP4/2)
		if BI4 and B14 then
			call DamageTarget(source,AU4,3,dmg)
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PriestMissile\\PriestMissile.mdl",AU4,"chest"))
		endif
		call GroupRemoveUnit(g,AU4)
		set AU4=FirstOfGroup(g)
	endloop
	call KillGroup(g)
	set AU4=null
	set g=null
endfunction

function Func2548 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source and GetEventDamage()>1 and IsUnitIllusion(target)==false then
			call DisableTrigger(t)
			call Func2547(source,target,GetEventDamage(),(LoadReal(HY,(h),(349))),(LoadReal(HY,(h),(350))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2549 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local unit target=GetTriggerUnit()
	local unit source=GetAttacker()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,2.0,false)
	call TriggerAddCondition(t,Condition(function Func2548))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(349),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(350),((GetUnitY(source))*1.0))
	set target=null
	set source=null
	set t=null
endfunction

function Func2550 takes nothing returns nothing
	local unit source=GetAttacker()
	if((LoadInteger(HY,(GetHandleId((source))),((4272))))==1)==false then
		call AddTimedKeyToUnit(source,4272,0.4)
		call Func2549()
	endif
endfunction

function Func2551 takes nothing returns boolean
	if GetUnitAbilityLevel(GetAttacker(),'A0RO')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(14)))then
		call Func2550()
	endif
	return false
endfunction

function Func2552 takes nothing returns nothing
	local trigger t
	if GetUnitAbilityLevel(GetTriggerUnit(),'A0RO')==1 then
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
		call TriggerAddCondition(t,Condition(function Func2551))
		call SaveUnitHandle(HY,(GetHandleId(t)),(14),(GetTriggerUnit()))
	endif
	call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),'Repb',GetUnitAbilityLevel(GetTriggerUnit(),'A0RO'))
	set t=null
endfunction

function Func2553 takes nothing returns boolean
	if GetLearnedSkill()=='A0RO' and IsUnitIllusion(GetTriggerUnit())==false then
		call Func2552()
	endif
	return false
endfunction

function Func2554 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2553))
	set t=null
endfunction

function Func2555 takes nothing returns boolean
	local unit Hero=GetTriggerUnit()
	local integer h=GetHandleId(Hero)
	local integer BQO=(LoadInteger(HY,(h),(352)))
	if BQO>0 and GetTriggerEventId()!=EVENT_UNIT_DEATH then
		if GetEventDamage()>5 then
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PriestMissile\\PriestMissile.mdl",Hero,"right hand"))
			call Func0137(Hero,GetEventDamage())
			call SaveInteger(HY,(h),(352),(BQO-1))
		endif
	else
		call UnitRemoveAbility(Hero,'A0RN')
		call UnitRemoveAbility(Hero,'B08J')
		call SaveInteger(HY,(h),(352),(0))
	endif
	set Hero=null
	return false
endfunction

function Func2556 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local unit Hero=(LoadUnitHandle(HY,(GetHandleId(t)),(14)))
	local integer h=GetHandleId(Hero)
	local integer BQO=(LoadInteger(HY,(h),(351)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED and GetAttacker()==Hero and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false)then
		if GetTriggerEventId()!=EVENT_UNIT_DEATH and BQO>0 and GetEventDamage()>0 then
			call SaveInteger(HY,(h),(351),(BQO-1))
		else
			call UnitRemoveAbility(Hero,'A0RF')
			call UnitRemoveAbility(Hero,'A0RM')
			call UnitRemoveAbility(Hero,'B08I')
			call SaveInteger(HY,(h),(351),(0))
		endif
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func2557 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local unit Hero=(LoadUnitHandle(HY,(GetHandleId(t)),(14)))
	local integer h=GetHandleId(Hero)
	call SaveInteger(HY,(h),(352),(0))
	call SaveInteger(HY,(h),(351),(0))
	call UnitRemoveAbility(Hero,'A0RF')
	call UnitRemoveAbility(Hero,'A0RM')
	call UnitRemoveAbility(Hero,'A0RN')
	call FlushChildHashtable(HY,(GetHandleId(t)))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	return false
endfunction

function Func2558 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local integer h=GetHandleId(Hero)
	local trigger t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,17,false)
	call TriggerAddCondition(t,Condition(function Func2557))
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(Hero))
	call Func0174(sound035,GetUnitX(Hero),GetUnitY(Hero))
	call UnitAddAbilityPermanent(Hero,'A0RN')
	call SaveInteger(HY,(h),(352),(GetUnitAbilityLevel(Hero,'A1EA')+2))
	call UnitAddAbilityPermanent(Hero,'A0RF')
	call SetUnitAbilityLevel(Hero,'A0RF',GetUnitAbilityLevel(Hero,'A1EA'))
	call UnitAddAbilityPermanent(Hero,'A0RM')
	call SaveInteger(HY,(h),(351),(GetUnitAbilityLevel(Hero,'A1EA')+2))
	set Hero=null
endfunction

function Func2559 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local trigger t
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2555))
	call SaveInteger(HY,(GetHandleId(Hero)),(352),(0))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2556))
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(Hero))
	call SaveInteger(HY,(GetHandleId(Hero)),(351),(0))
	set t=null
	set Hero=null
endfunction

function Func2560 takes nothing returns boolean
	if GetLearnedSkill()=='A1EA' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A1EA')==1 then
		call Func2559()
	endif
	return false
endfunction

function Func2561 takes nothing returns boolean
	if GetSpellAbilityId()=='A1EA' then
		call Func2558()
	endif
	return false
endfunction

function Func2562 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2561))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2560))
	set t=null
endfunction

function Func2563 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	call UnitRemoveAbility((LoadUnitHandle(HY,(GetHandleId(t)),(14))),'A0RC')
	call FlushChildHashtable(HY,(GetHandleId(t)))
	call CleanTrigger(t)
	set t=null
	return false
endfunction

function Func2564 takes unit source,unit target returns nothing
	local trigger t=CreateTrigger()
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(target))
	call TriggerRegisterTimerEvent(t,10,false)
	call TriggerAddCondition(t,Condition(function Func2563))
	call UnitAddAbilityPermanent(target,'A0RC')
	call SetUnitAbilityLevel(target,'A0RC',GetUnitAbilityLevel(source,'A0RV'))
	call DamageTarget(source,target,2,50*GetUnitAbilityLevel(source,'A0RV'))
	call Func0163(I2S(50*GetUnitAbilityLevel(source,'A0RV')),1,target,0.03,255,0,0,255)
	call UnitRemoveAbility(source,'B08K')
	set t=null
endfunction

function Func2565 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local trigger BH4=(LoadTriggerHandle(HY,(h),(353)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source then
			call DisableTrigger(t)
			call FlushChildHashtable(HY,(GetHandleId(BH4)))
			call CleanTrigger(BH4)
			call Func2564(source,target)
			call UnitAsInteger_Clear(PCI)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	set source=null
	set BH4=null
	return false
endfunction

function Func2566 takes unit source,unit target,trigger BH4 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,2.0,false)
	call TriggerAddCondition(t,Condition(function Func2565))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveTriggerHandle(HY,(h),(353),(BH4))
	set t=null
endfunction

function Func2567 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEventId()==EVENT_UNIT_SPELL_CAST or(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED and GetAttacker()==Hero and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(Hero))==false)then
		if GetTriggerEventId()!=EVENT_UNIT_DEATH and GetTriggerEventId()!=EVENT_UNIT_SPELL_CAST and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false then
			call Func2566(Hero,GetTriggerUnit(),t)
			call UnitRemoveAbility(Hero,'B08K')
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
		if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEventId()==EVENT_UNIT_SPELL_CAST then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	elseif GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED then
		if x!=GetUnitX(Hero)or y!=GetUnitY(Hero)then
			call UnitRemoveAbility(Hero,'B08K')
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func2568 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call DestroyEffect(AddSpecialEffectTarget("effects\\PurpleAura.mdx",Hero,"origin"))
	call Func0174(sound019,GetUnitX(Hero),GetUnitY(Hero))
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_SPELL_CAST)
	call TriggerRegisterTimerEvent(t,0.2,true)
	call TriggerAddCondition(t,Condition(function Func2567))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveReal(HY,(h),(6),((GetUnitX(Hero))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(Hero))*1.0))
	call IssueImmediateOrder(Hero,"holdposition")
	set t=null
	set Hero=null
endfunction

function Func2569 takes nothing returns boolean
	if GetSpellAbilityId()=='A0RV' then
		call Func2568()
	endif
	return false
endfunction

function Func2570 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2569))
	set t=null
endfunction

function Func2571 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer BJ4=(LoadInteger(HY,(h),(247)))
	call DestroyEffect(AddSpecialEffect("effects\\Tornado.mdx",GetUnitX(source),GetUnitY(source)))
	if GetTriggerEvalCount(t)>10*(2+1*lvl)or GetTriggerEventId()==EVENT_UNIT_DEATH then
		call UnitRemoveAbility(source,BJ4)
		call UnitRemoveAbility(source,'B09W')
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func2572 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A14I')
	local integer BJ4
	if lvl==1 then
		set BJ4='A135'
	elseif lvl==2 then
		set BJ4='A12O'
	elseif lvl==3 then
		set BJ4='A134'
	elseif lvl==4 then
		set BJ4='A139'
	endif
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),BJ4,false)
	call Func0225(source,BJ4,1,2+lvl)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2571))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(247),(BJ4))
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("effects\\Tornado.mdx",source,"hand,left")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("effects\\Tornado.mdx",source,"hand,right")))
	set source=null
	set t=null
endfunction

function Func2573 takes nothing returns boolean
	if GetSpellAbilityId()=='A14I' then
		call Func2572()
	endif
	return false
endfunction

function Func2574 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2573))
	set t=null
endfunction

function Func2575 takes nothing returns nothing
	local destructable target=GetEnumDestructable()
	local real a=Atan2(GetDestructableY(target)-GetUnitY(tt_unit1),GetDestructableX(target)-GetUnitX(tt_unit1))
	local real VOO=RAbsBJ((real009-a)*bj_RADTODEG)
	if(Func0090(target)or GetDestructableTypeId(target)=='B005')and GetDestructableLife(target)>1 and VOO<real322 and VOO<(real323-5)then
		set real322=VOO
		set destructable001=target
	endif
	set target=null
endfunction

function Func2576 takes unit IG1,unit source,real RM2 returns destructable
	local real x=GetUnitX(IG1)
	local real y=GetUnitY(IG1)
	local rect r=Rect(x-real325,y-real325,x+real325,y+real325)
	set real322=9999
	set tt_unit1=IG1
	set destructable001=null
	call EnumDestructablesInRect(r,Condition(function ReturnTrue),function Func2575)
	call RemoveRect(r)
	set r=null
	return destructable001
endfunction

function Func2577 takes nothing returns nothing
	local unit target=GetEnumUnit()
	local real a=Atan2(GetUnitY(target)-GetUnitY(tt_unit1),GetUnitX(target)-GetUnitX(tt_unit1))
	local real VOO=RAbsBJ((real009-a)*bj_RADTODEG)
	if VOO<real322 and VOO<real323 and target!=tt_unit2 then
		set real322=VOO
		set unit319=target
	endif
	set target=null
endfunction

function Func2578 takes unit IG1,unit source,real RM2 returns unit
	local group g=GetAvailableGroup()
	set unit319=null
	set real322=9999
	set tt_unit1=IG1
	set real009=Atan2(GetUnitY(source)-real327,GetUnitX(source)-real326)
	set tt_unit2=source
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),real324,Condition(function Func0280))
	call ForGroup(g,function Func2577)
	call KillGroup(g)
	set g=null
	return unit319
endfunction

function Func2579 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	if(LoadLightningHandle(HY,(h),(196)))!=null then
		call DestroyLightning((LoadLightningHandle(HY,(h),(196))))
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	return false
endfunction

function Func2580 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real BQ4=(LoadReal(HY,(h),(248)))
	local real RM2=Atan2(GetUnitY(target)-GetUnitY(IG1),GetUnitX(target)-GetUnitX(IG1))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real x=GetUnitX(IG1)+50*Cos(RM2)
	local real y=GetUnitY(IG1)+50*Sin(RM2)
	local unit BU4
	local destructable d
	local lightning UZI
	local unit caster
	local boolean ZXO=(LoadBoolean(HY,(h),(249)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillUnit(IG1)
	else
		call SetUnitX(IG1,x)
		call SetUnitY(IG1,y)
		call SetUnitFacing(IG1,RM2*bj_RADTODEG)
		if Func0141(x,y,GetUnitX(target),GetUnitY(target))<45 then
			set real326=(LoadReal(HY,(h),(6)))
			set real327=(LoadReal(HY,(h),(7)))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			if GetUnitTypeId(target)!='n00L' and ZXO then
				set BU4=Func2578(IG1,target,BQ4)
				set d=Func2576(IG1,target,BQ4)
				if BU4!=null then
					set t=CreateTrigger()
					set h=GetHandleId(t)
					set caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
					call UnitAddAbilityPermanent(caster,'A12I')
					call SetUnitAbilityLevel(caster,'A12I',lvl+1)
					call IssueTargetOrder(caster,"thunderbolt",target)
					set caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(BU4),GetUnitY(BU4),0)
					call UnitAddAbilityPermanent(caster,'A12I')
					call SetUnitAbilityLevel(caster,'A12I',lvl+1)
					call IssueTargetOrder(caster,"thunderbolt",BU4)
					call TriggerRegisterTimerEvent(t,0.25+lvl*0.75,false)
					call TriggerAddCondition(t,Condition(function Func2579))
					set UZI=AddLightning("MFPB",true,GetUnitX(target),GetUnitY(target),GetUnitX(BU4),GetUnitY(BU4))
					call SetLightningColor(UZI,0.5,0.5,1,1)
					call SaveLightningHandle(HY,(h),(196),(UZI))
				elseif d!=null then
					set t=CreateTrigger()
					set h=GetHandleId(t)
					set caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
					call UnitAddAbilityPermanent(caster,'A12I')
					call SetUnitAbilityLevel(caster,'A12I',lvl+1)
					call IssueTargetOrder(caster,"thunderbolt",target)
					call TriggerRegisterTimerEvent(t,0.25+lvl*0.75,false)
					call TriggerAddCondition(t,Condition(function Func2579))
					set UZI=AddLightning("MFPB",true,GetUnitX(target),GetUnitY(target),GetDestructableX(d),GetDestructableY(d))
					call SetLightningColor(UZI,0.5,0.5,1,1)
					call SaveLightningHandle(HY,(h),(196),(UZI))
					call SetDestructableAnimation(d,"stand hit")
				else
					set caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
					call UnitAddAbilityPermanent(caster,'A12I')
					call SetUnitAbilityLevel(caster,'A12I',1)
					call IssueTargetOrder(caster,"thunderbolt",target)
				endif
			endif
			call KillUnit(IG1)
		endif
	endif
	set t=null
	set IG1=null
	set target=null
	set UZI=null
	set BU4=null
	set d=null
	set caster=null
	return false
endfunction

function Func2581 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local real RM2=Atan2(GetUnitY(target)-GetUnitY(source),GetUnitX(target)-GetUnitX(source))
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit IG1=CreateUnit(GetOwningPlayer(source),'h077',GetUnitX(source),GetUnitY(source),RM2*bj_RADTODEG)
	local integer lvl=GetUnitAbilityLevel(source,'A12J')
	local boolean ZXO=IsBlocked(GetSpellTargetUnit())==false
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveReal(HY,(h),(248),((RM2)*1.0))
	call SaveBoolean(HY,(h),(249),(ZXO))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	call TriggerRegisterTimerEvent(t,0.033,true)
	call TriggerAddCondition(t,Condition(function Func2580))
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	set source=null
	set target=null
	set t=null
endfunction

function Func2582 takes nothing returns boolean
	if GetSpellAbilityId()=='A12J' then
		call Func2581()
	endif
	return false
endfunction

function Func2583 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2582))
	set t=null
endfunction

function Func2584 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group017)==false and GetUnitAbilityLevel(GetEnumUnit(),'Bcyc')==0 then
		call DamageTarget((unit320),(GetEnumUnit()),1,(((real328)*1.0))*Pow(0.9,(integer495))*Pow(0.99,(integer494)))
		call GroupAddUnit(group017,GetEnumUnit())
		set integer495=integer495+1
	endif
endfunction

function Func2585 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local real dmg=(LoadReal(HY,(h),(20)))
	local integer C24=(LoadInteger(HY,(h),(354)))
	local integer C34=(LoadInteger(HY,(h),(355)))
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	local real x=SafeX50(GetUnitX(IG1)+(60*Pow(0.9,C34)*Pow(0.99,C24))*Cos(RM2))
	local real y=SafeY50(GetUnitY(IG1)+(60*Pow(0.9,C34)*Pow(0.99,C24))*Sin(RM2))
	local group g=GetAvailableGroup()
	local real d
	if GetTriggerEvalCount(t)>2 then
		set d=150
	else
		set d=75
	endif
	call DestroyEffect(AddSpecialEffect("effects\\Tornado.mdx",x,y))
	set C24=C24+KillTrees(x,y,75)
	call SaveInteger(HY,(h),(354),(C24))
	set group017=PR2
	set unit320=IG1
	set real328=dmg
	set integer494=C24
	set integer495=C34
	set tt_unit1=IG1
	call GroupEnumUnitsInRange(g,x,y,d,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func2584)
	call KillGroup(g)
	call SaveInteger(HY,(h),(355),(integer495))
	call SetUnitX(IG1,x)
	call SetUnitY(IG1,y)
	if GetTriggerEvalCount(t)>42 then
		call KillUnit(IG1)
		call KillGroup(PR2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set IG1=null
	set PR2=null
	set g=null
	return false
endfunction

function Func2586 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x2=(LoadReal(HY,(GetHandleId(source)),(356)))
	local real y2=(LoadReal(HY,(GetHandleId(source)),(357)))
	local real C54=Func0133(GetTime()-(LoadReal(HY,(GetHandleId(source)),(358))),1.0)
	local real RM2=Atan2(y2-GetUnitY(source),x2-GetUnitX(source))
	local trigger t
	local integer h
	local unit IG1
	local integer lvl=GetUnitAbilityLevel(source,'A12K')
	local real dmg=(40+80*lvl)*(C54)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	set IG1=CreateUnit(GetOwningPlayer(source),'h078',GetUnitX(source),GetUnitY(source),RM2*bj_RADTODEG)
	set x2=GetUnitX(source)+2475*Cos(RM2)
	set y2=GetUnitY(source)+2475*Sin(RM2)
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveReal(HY,(h),(47),((x2)*1.0))
	call SaveReal(HY,(h),(48),((y2)*1.0))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveReal(HY,(h),(20),((dmg)*1.0))
	call SaveInteger(HY,(h),(354),(0))
	call SaveInteger(HY,(h),(355),(0))
	call SaveGroupHandle(HY,(h),(187),(GetAvailableGroup()))
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func2585))
	set source=null
	set t=null
	set IG1=null
endfunction

function Func2587 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	call SetUnitTimeScale(Hero,1)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	return false
endfunction

function Func2588 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	call SetUnitAnimation(Hero,"attack")
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	return false
endfunction

function Func2589 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	call RemoveLocation(l)
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call TriggerRegisterTimerEvent(t,0.,false)
	call TriggerAddCondition(t,Condition(function Func2588))
	call SaveReal(HY,(GetHandleId(Hero)),(356),((x)*1.0))
	call SaveReal(HY,(GetHandleId(Hero)),(357),((y)*1.0))
	call SaveReal(HY,(GetHandleId(Hero)),(358),((GetTime())*1.0))
	call SetUnitTimeScale(Hero,1)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call TriggerRegisterTimerEvent(t,1,false)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2587))
	set t=null
	set Hero=null
endfunction

function Func2590 takes nothing returns boolean
	if GetSpellAbilityId()=='A12K' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CHANNEL then
			call SaveBoolean(HY,(GetHandleId(GetTriggerUnit())),(360),(false))
			call Func2589()
		elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
			call SaveBoolean(HY,(GetHandleId(GetTriggerUnit())),(360),(true))
		elseif(LoadBoolean(HY,(GetHandleId(GetTriggerUnit())),(360))) then
			call Func2586()
		endif
	endif
	return false
endfunction

function Func2591 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2590))
	set t=null
endfunction

function Func2592 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local real RS2=(LoadReal(HY,(h),(193)))
	local boolean CK3=(LoadBoolean(HY,(h),(15)))
	local integer lvl
	if GetTriggerEvalCount(t)==1 then
		call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	endif
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
		if GetAttacker()==source and GetTriggerUnit()==target then
			call DestroyEffect(AddSpecialEffectTarget("effects\\Tornado.mdx",source,"hand,left"))
			call DestroyEffect(AddSpecialEffectTarget("effects\\Tornado.mdx",source,"hand,right"))
			if GetUnitAbilityLevel(source,'A12R')==0 then
				call UnitAddAbilityPermanent(source,'A12R')
				set lvl=GetUnitAbilityLevel(source,'A1D6')
			endif
		elseif GetAttacker()==source and GetTriggerUnit()!=target then
			call UnitRemoveAbility(source,'A12R')
			call UnitRemoveAbility(source,'B09X')
			call UnitRemoveAbility(source,'A1FK')
			call UnitRemoveAbility(source,'A1FL')
			call UnitRemoveAbility(source,'A1FJ')
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source then
			call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)+(RS2)*GetEventDamage())
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A12P' or GetSpellAbilityId()=='A1D6' then
			call UnitAsInteger_Clear(PCI)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call UnitRemoveAbility(source,'A12R')
		call UnitRemoveAbility(source,'B09X')
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitRemoveAbility(source,'A1FK')
		call UnitRemoveAbility(source,'A1FL')
		call UnitRemoveAbility(source,'A1FJ')
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2593 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A12P')
	local real RS2=0.6-lvl*0.1
	local boolean CK3=false
	call UnitRemoveAbility(source,'A12R')
	call UnitRemoveAbility(source,'B09X')
	if lvl==0 then
		set CK3=true
		set lvl=GetUnitAbilityLevel(source,'A1D6')
		set RS2=0.45-lvl*0.15
	endif
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A12R',false)
	call UnitAddAbilityPermanent(source,'A12R')
	call IssueTargetOrder(source,"attack",target)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveBoolean(HY,(h),(15),(CK3))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveReal(HY,(h),(193),((RS2)*1.0))
	call SaveInteger(HY,(h),(361),(0))
	call TriggerRegisterTimerEvent(t,20,false)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2592))
	set source=null
	set target=null
	set t=null
endfunction

function Func2594 takes nothing returns boolean
	if(GetSpellAbilityId()=='A12P' or GetSpellAbilityId()=='A1D6')and IsBlocked(GetSpellTargetUnit())==false then
		call Func2593()
	endif
	return false
endfunction

function Func2595 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2594))
	set t=null
endfunction

function Func2596 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and Func0406(GetUnitTypeId(GetFilterUnit()))==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(unit321))
endfunction

function Func2597 takes nothing returns nothing
	local real x=GetUnitX(GetEnumUnit())
	local real y=GetUnitY(GetEnumUnit())
	local unit RMI=CreateUnit(GetOwningPlayer(unit321),'e039',x,y,0)
	call UnitAddAbility(RMI,'A05S')
	call SetUnitAbilityLevel(RMI,'A05S',integer496)
	call IssueTargetOrder(RMI,"chainlightning",GetEnumUnit())
	call UnitApplyTimedLife(RMI,'BTLF',3)
	call UnitAddAbility(RMI,'Aloc')
	set RMI=null
endfunction

function Func2598 takes nothing returns nothing
	local group g=GetAvailableGroup()
	set unit321=GetTriggerUnit()
	if GetSpellAbilityId()=='A29G' then
		set integer496=GetUnitAbilityLevel(GetTriggerUnit(),'A29G')+4
	else
		set integer496=GetUnitAbilityLevel(GetTriggerUnit(),'A29H')+7
	endif
	call GroupEnumUnitsInRect(g,bj_mapInitialPlayableArea,Condition(function Func2596))
	call ForGroup(g,function Func2597)
	call KillGroup(g)
	set g=null
endfunction

function Func2599 takes nothing returns boolean
	if GetSpellAbilityId()=='A29G' or GetSpellAbilityId()=='A29H' then
		call Func2598()
	endif
	return false
endfunction

function Func2600 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2599))
	set t=null
endfunction

constant function StaticField_RawCode takes nothing returns integer
	return 'A0N5'
endfunction

constant function StaticField_LightningCode takes nothing returns integer
	return 'A2WQ'
endfunction

constant function StaticField_ArcLightningCode takes nothing returns integer
	return 'A020'
endfunction

constant function StaticField_WrathOfGodCode takes nothing returns integer
	return 'A29G'
endfunction

constant function StaticField_WrathOfGod2Code takes nothing returns integer
	return 'A29H'
endfunction

function Func2601 takes nothing returns boolean
	return(GetSpellAbilityId()==('A2WQ')or GetSpellAbilityId()==('A020')or GetSpellAbilityId()==('A29G')or GetSpellAbilityId()==('A29H'))and GetUnitAbilityLevel(GetTriggerUnit(),('A0N5'))>0
endfunction

function Func2602 takes nothing returns nothing
	local real CV4=GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)
	local real CW4=0.03+0.02*GetUnitAbilityLevel(GetTriggerUnit(),('A0N5'))
	local real dmg=CV4*CW4
	call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),dmg,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\ForkedLightning\\ForkedLightningTarget.mdl",GetEnumUnit(),"overhead"))
endfunction

function Func2603 takes nothing returns boolean
	return GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false
endfunction

function Func2604 takes nothing returns nothing
	local location BFO=GetUnitLoc(GetTriggerUnit())
	local group Z51=GetAvailableGroup()
	local real x=GetLocationX(BFO)
	local real y=GetLocationY(BFO)
	local boolexpr QL1=Condition(function Func2603)
	call GroupEnumUnitsInRange(Z51,x,y,1225,QL1)
	call ForGroup(Z51,function Func2602)
	call RemoveLocation(BFO)
	call KillGroup(Z51)
endfunction

function Func2605 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2601))
	call TriggerAddAction(t,function Func2604)
endfunction

function Func2606 takes nothing returns boolean
	return(Func0091(GetFilterUnit())==false and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and IsHeroUnitId(GetUnitTypeId(GetFilterUnit()))
endfunction

function Func2607 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster
	local integer lvl=GetUnitAbilityLevel(source,'A2WQ')
	local real dmg=25+lvl*75
	local group g
	local real x
	local real y
	if lvl>=3 then
		set dmg=dmg+25
	endif
	if target==null then
		set g=GetAvailableGroup()
		set x=GetSpellTargetX()
		set y=GetSpellTargetY()
		set tt_unit1=source
		call GroupEnumUnitsInRange(g,x,y,325+25,Condition(function Func2606))
		set target=Func0235(g,x,y)
		call KillGroup(g)
		set g=null
	endif
	if target!=null then
		set x=GetUnitX(target)
		set y=GetUnitY(target)
		call Func0172(source,target)
		call DamageTarget_Delayed(source,target,1,dmg,0.25)
	endif
	set caster=CreateUnit(GetOwningPlayer(source),'e000',x,y,0)
	call UnitAddAbilityPermanent(caster,'A05S')
	call UnitApplyTimedLife(caster,'BTLF',4.5)
	call SetUnitPathing(caster,false)
	call UnitAddAbilityPermanent(caster,'Aloc')
	if target==null or IssueTargetOrder(caster,"chainlightning",target)==false then
		set target=CreateUnit(GetOwningPlayer(source),'e00C',x,y,0)
		call UnitApplyTimedLife(target,'BTLF',0.2)
		call IssueTargetOrder(caster,"chainlightning",target)
	endif
	set source=null
	set target=null
	set caster=null
endfunction

function Func2608 takes nothing returns boolean
	if GetSpellAbilityId()=='A2WQ' and(GetSpellTargetUnit()==null or IsBlocked(GetSpellTargetUnit())==false)then
		call Func2607()
	endif
	return false
endfunction

function Func2609 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2608))
	set t=null
endfunction

function Func2610 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	call SetUnitX(caster,GetUnitX(source))
	call SetUnitY(caster,GetUnitY(source))
	if GetTriggerEvalCount(t)>80 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set caster=null
	return false
endfunction

function Func2611 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster=CreateUnit(GetOwningPlayer(source),'e02C',GetUnitX(source),GetUnitY(source),0)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call UnitAddAbilityPermanent(caster,'A1FM')
	call SetUnitAbilityLevel(caster,'A1FM',GetUnitAbilityLevel(source,'A020'))
	call IssueTargetOrder(caster,"chainlightning",target)
	call UnitApplyTimedLife(caster,'BTLF',10)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerAddCondition(t,Condition(function Func2610))
	set source=null
	set target=null
	set caster=null
	set t=null
endfunction

function Func2612 takes nothing returns boolean
	if GetSpellAbilityId()=='A020' and IsBlocked(GetSpellTargetUnit())==false then
		call Func2611()
	endif
	return false
endfunction

function Func2613 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerAddCondition(t,Condition(function Func2612))
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	set t=null
endfunction

constant function DeathCoil_AbilityCode takes nothing returns integer
	return 'A0I3'
endfunction

function Func2614 takes nothing returns boolean
	return GetSpellAbilityId()==('A0I3')and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or IsBlocked(GetSpellTargetUnit())==false)
endfunction

function Func2615 takes nothing returns nothing
	local timer t=GetExpiredTimer()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real dmg=(LoadReal(HY,(h),(20)))
	call UnitDamageTarget(Hero,Hero,dmg,false,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
	call FlushChildHashtable(HY,(h))
	call PauseTimer(t)
	call DestroyTimer(t)
endfunction

function Func2616 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local real dmg=50+50*GetUnitAbilityLevel(Hero,('A0I3'))
	local real CQ4=50+25*GetUnitAbilityLevel(Hero,('A0I3'))
	local timer t=CreateTimer()
	local integer h=GetHandleId(t)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",target,"origin"))
	if IsUnitAlly(target,GetOwningPlayer(Hero))and GetUnitState(target,UNIT_STATE_LIFE)>1.00 then
		call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)+dmg)
	else
		call UnitDamageTarget(Hero,target,dmg,false,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
	endif
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveReal(HY,(h),(20),((CQ4)*1.0))
	call TimerStart(t,0,false,function Func2615)
endfunction

function Func2617 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2614))
	call TriggerAddAction(t,function Func2616)
endfunction

function Func2618 takes nothing returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(unit322),'e00E',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
	call UnitAddAbilityPermanent(caster,'A0MJ')
	call SetUnitAbilityLevel(caster,'A0MJ',integer497)
	call IssueTargetOrder(caster,"forkedlightning",GetEnumUnit())
	set caster=null
endfunction

function Func2619 takes unit source,unit target,integer lvl returns nothing
	local group g=GetAvailableGroup()
	set tt_unit1=source
	set integer497=lvl
	set unit322=source
	call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),700,Condition(function Func0274))
	call ForGroup(g,function Func2618)
	call KillGroup(g)
	set g=null
endfunction

function Func2620 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local real D14=(LoadReal(HY,(h),(362)))
	local unit source
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local integer lvl
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if((LoadInteger(HY,(GetHandleId((GetTriggerUnit()))),((4250))))==1)==false then
			if D14<GetEventDamage()then
				set source=(LoadUnitHandle(HY,(h),(2)))
				set lvl=(LoadInteger(HY,(h),(5)))
				call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
				call SaveBoolean(HY,(GetHandleId(target)),(363),(false))
				call UnitAsInteger_Clear(PCI)
				call FlushChildHashtable(HY,(h))
				call CleanTrigger(t)
				call Func0137(GetTriggerUnit(),D14)
				call Func2619(source,GetTriggerUnit(),lvl)
			elseif GetEventDamage()>0 then
				call Func0137(GetTriggerUnit(),GetEventDamage())
				call SaveReal(HY,(h),(362),((D14-GetEventDamage())*1.0))
			endif
		endif
	elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
		if Func0323(GetSpellAbilityId()) and GetSpellTargetUnit()==target then
			set source=(LoadUnitHandle(HY,(h),(2)))
			set lvl=(LoadInteger(HY,(h),(5)))
			call SaveBoolean(HY,(GetHandleId(target)),(363),(false))
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call UnitAsInteger_Clear(PCI)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call Func2619(source,target,lvl)
		endif
	else
		set source=(LoadUnitHandle(HY,(h),(2)))
		set lvl=(LoadInteger(HY,(h),(5)))
		call SaveBoolean(HY,(GetHandleId(target)),(363),(false))
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call Func2619(source,target,lvl)
	endif
	set t=null
	return false
endfunction

function Func2621 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit target=GetSpellTargetUnit()
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A0MF')
	local integer KAO=GetHandleId(target)
	local real D14
	if(LoadBoolean(HY,(KAO),(363))) then
		call TriggerEvaluate((LoadTriggerHandle(HY,(KAO),(364))))
	endif
	call UnitRemoveBuffs(target,false,true)
	call SetNapalmFactory(target,0,0)
	if lvl==1 then
		set D14=110
	elseif lvl==2 then
		set D14=140
	elseif lvl==3 then
		set D14=170
	else
		set D14=200
	endif
	call SaveReal(HY,(h),(362),((D14)*1.0))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\Defensive Barrier big.mdx",target,"chest")))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerRegisterTimerEvent(t,15,false)
	call TriggerAddCondition(t,Condition(function Func2620))
	call SaveTriggerHandle(HY,(KAO),(364),(t))
	call SaveBoolean(HY,(KAO),(363),(true))
	set t=null
	set target=null
	set source=null
endfunction

function Func2622 takes nothing returns boolean
	if GetSpellAbilityId()=='A0MF' then
		call Func2621()
	endif
	return false
endfunction

function Func2623 takes nothing returns nothing
	if GetUnitAbilityLevel(GetSpellTargetUnit(),'BNdo')>0 then
		call InterruptUnit(GetTriggerUnit())
		call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n03I'))
	endif
endfunction

function Func2624 takes nothing returns boolean
	if GetSpellAbilityId()=='A0MF' then
		call Func2623()
	endif
	return false
endfunction

function Func2625 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func2624))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2622))
	set t=null
endfunction

function Func2626 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local trigger bt=(LoadTriggerHandle(HY,(h),(35)))
	if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)then
		call TriggerRegisterUnitEvent(bt,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
	endif
	set t=null
	set bt=null
	return false
endfunction

function Func2627 takes nothing returns nothing
	call TriggerRegisterUnitEvent(trigger068,GetEnumUnit(),EVENT_UNIT_DAMAGED)
endfunction

function Func2628 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH or IssueImmediateOrder(Hero,"windwalk")then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func2629 takes unit Hero returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2628))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	set t=null
endfunction

function Func2630 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A0NS')
	local integer DC1=3+lvl
	local real OA2
	local boolean DA4=false
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A1DA')
		set DC1=4+1*lvl
		set DA4=true
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED and((LoadInteger(HY,(GetHandleId((source))),((4250))))==1)then
		if Hero==source then
			call Func0137(Hero,GetEventDamage())
			call Func0137(Hero,GetEventDamage())
		elseif DA4 and Func0139(Hero,source)<900 and IsUnitAlly(Hero,GetOwningPlayer(source))then
			call Func0137(Hero,GetEventDamage()*0.35)
			call Func0137(source,GetEventDamage()*0.35)
		endif
	elseif Hero==source and((GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()=='A0NS' or GetSpellAbilityId()=='A1DA'))or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and((LoadInteger(HY,(GetHandleId((Hero))),((4251))))==1)==false and GetUnitState(Hero,UNIT_STATE_LIFE)<400 and GetUnitAbilityLevel(Hero,'BNdo')==0))then
		call TimerStart(timers003[GetPlayerId(GetOwningPlayer(Hero))],70-10*lvl,false,null)
		call AddTimedKeyToUnit(Hero,4250,DC1)
		call AddTimedKeyToUnit(Hero,4251,70-10*lvl)
		call UnitRemoveBuffs(Hero,false,true)
		call SetNapalmFactory(Hero,0,0)
		if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
			call DisableTrigger(t)
			set boolean145=true
			if IssueImmediateOrder(Hero,"windwalk")==false then
				call Func2629(Hero)
			endif
			set boolean145=false
			call EnableTrigger(t)
		endif
		call Func0152("Abilities\\Spells\\Undead\\Unsummon\\UnsummonTarget.mdl",Hero,"origin",DC1)
	endif
	set t=null
	set Hero=null
	set source=null
	return false
endfunction

function Func2631 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local group g
	local region r
	call SaveUnitHandle(HY,(h),(2),(source))
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2630))
	set trigger068=t
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,0,0,999999,Condition(function Func0308))
	call ForGroup(g,function Func2627)
	call KillGroup(g)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SaveTriggerHandle(HY,(h),(35),(trigger068))
	set r=CreateRegion()
	call RegionAddRect(r,GetWorldBounds())
	call TriggerRegisterEnterRegion(t,r,Condition(function ReturnTrue))
	call TriggerAddCondition(t,Condition(function Func2626))
	set t=null
	set source=null
	set g=null
	set r=null
endfunction

function Func2632 takes nothing returns boolean
	if(GetLearnedSkill()=='A0NS' or GetLearnedSkill()=='A1DA')and IsUnitIllusion(GetTriggerUnit())==false and(GetUnitAbilityLevel(GetTriggerUnit(),'A0NS')==1 or GetUnitAbilityLevel(GetTriggerUnit(),'A1DA')==1)then
		call Func2631()
	endif
	return false
endfunction

function Func2633 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2632))
	set t=null
endfunction

constant function MarkOfTheAbyss_AttackBuff takes nothing returns integer
	return 'B066'
endfunction

constant function MarkOfTheAbyss_EffectCode takes nothing returns integer
	return 'A0MH'
endfunction

constant function MarkOfTheAbyss_FrostmourneCode takes nothing returns integer
	return 'A0MG'
endfunction

function Func2634 takes nothing returns boolean
	return GetUnitAbilityLevel(GetTriggerUnit(),('B066'))>0 or GetUnitAbilityLevel(GetAttacker(),('A0MG'))>0
endfunction

function Func2635 takes nothing returns nothing
	local unit Z4O=GetAttacker()
	local unit target=GetTriggerUnit()
	local unit SourceHero
	local integer lvl=GetUnitAbilityLevel(Z4O,('A0MG'))
	local unit caster=CreateUnit(GetOwningPlayer(Z4O),'e00E',GetUnitX(Z4O),GetUnitY(Z4O),0)
	if lvl>0 then
		call SaveInteger(HY,(GetHandleId(target)),(203),(lvl))
	else
		set lvl=(LoadInteger(HY,(GetHandleId(target)),(203)))
	endif
	if IsUnitEnemy(target,GetOwningPlayer(Z4O)) then
		call UnitAddAbilityPermanent(caster,('A0MH'))
		call SetUnitAbilityLevel(caster,('A0MH'),lvl)
		call IssueTargetOrder(caster,"bloodlust",Z4O)
	endif
endfunction

function Func2636 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func2634))
	call TriggerAddAction(t,function Func2635)
endfunction

function Func2637 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local real dmg
	local integer DC1
	local unit IWO
	if lvl==1 then
		set dmg=16
		set DC1=10
	elseif lvl==2 then
		set dmg=24
		set DC1=10
	elseif lvl==3 then
		set dmg=32
		set DC1=10
	elseif lvl==4 then
		set dmg=40
		set DC1=10
	endif
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetTriggerEvalCount(t)>1 and GetSpellAbilityId()=='A0S1' and IsBlocked(GetSpellTargetUnit())==false and target==GetSpellTargetUnit()then
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_DEATH then
		set IWO=GetKillingUnit()
		if Func0092(IWO)then
			set IWO=(Players_Hero[GetPlayerId(GetOwningPlayer((IWO)))])
		endif
		if GetTriggerUnit()==target or IWO==target then
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call UnitRemoveAbility(target,'A1W3')
			call UnitRemoveAbility(target,'B0DO')
		endif
	else
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
		if Count==DC1 or GetUnitAbilityLevel(target,'B0DO')==0 or Func0091(target) then
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call UnitRemoveAbility(target,'A1W3')
			call UnitRemoveAbility(target,'B0DO')
		endif
		call DamageTarget(source,target,1,dmg)
	endif
	set t=null
	set source=null
	set target=null
	set IWO=null
	return false
endfunction

function Func2638 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A0S1')
	local real dmg
	local real DC1
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Demon\\ReviveDemon\\ReviveDemon.mdl",target,"overhead"))
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A1W3',false)
	call UnitAddAbilityPermanent(target,'A1W3')
	call UnitMakeAbilityPermanent(target,true,'A1W2')
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2637))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(34),(0))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\SoulBurn\\SoulBurnbuff.mdl",target,"overhead")))
	set source=null
	set target=null
	set t=null
endfunction

function Func2639 takes nothing returns nothing
	if GetUnitAbilityLevel(GetEnumUnit(),'B0DO')>0 then
		set integer498=integer498+1
	endif
endfunction

function Func2640 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group g=GetAvailableGroup()
	set tt_unit1=source
	set integer498=0
	call GroupEnumUnitsInRange(g,0,0,9999,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func2639)
	call KillGroup(g)
	if integer498==0 then
		if GetUnitAbilityLevel(source,'B0EZ')>0 then
			call UnitRemoveAbility(source,'A2AR')
			call UnitRemoveAbility(source,'A2AS')
			call UnitRemoveAbility(source,'A2AU')
			call UnitRemoveAbility(source,'A2AT')
			call UnitRemoveAbility(source,'A2AQ')
			call UnitRemoveAbility(source,'A2AP')
			call UnitRemoveAbility(source,'B0EZ')
		endif
	elseif integer498==1 then
		if GetUnitAbilityLevel(source,'A2AR')==0 then
			call UnitRemoveAbility(source,'A2AR')
			call UnitRemoveAbility(source,'A2AS')
			call UnitRemoveAbility(source,'A2AU')
			call UnitRemoveAbility(source,'A2AT')
			call UnitRemoveAbility(source,'A2AQ')
			call UnitRemoveAbility(source,'A2AP')
			call UnitRemoveAbility(source,'B0EZ')
			call UnitAddAbility(source,'A2AR')
		endif
	elseif integer498==2 then
		if GetUnitAbilityLevel(source,'A2AS')==0 then
			call UnitRemoveAbility(source,'A2AR')
			call UnitRemoveAbility(source,'A2AS')
			call UnitRemoveAbility(source,'A2AU')
			call UnitRemoveAbility(source,'A2AT')
			call UnitRemoveAbility(source,'A2AQ')
			call UnitRemoveAbility(source,'A2AP')
			call UnitRemoveAbility(source,'B0EZ')
			call UnitAddAbility(source,'A2AS')
		endif
	elseif integer498==3 then
		if GetUnitAbilityLevel(source,'A2AU')==0 then
			call UnitRemoveAbility(source,'A2AR')
			call UnitRemoveAbility(source,'A2AS')
			call UnitRemoveAbility(source,'A2AU')
			call UnitRemoveAbility(source,'A2AT')
			call UnitRemoveAbility(source,'A2AQ')
			call UnitRemoveAbility(source,'A2AP')
			call UnitRemoveAbility(source,'B0EZ')
			call UnitAddAbility(source,'A2AU')
		endif
	elseif integer498==4 then
		if GetUnitAbilityLevel(source,'A2AT')==0 then
			call UnitRemoveAbility(source,'A2AR')
			call UnitRemoveAbility(source,'A2AS')
			call UnitRemoveAbility(source,'A2AU')
			call UnitRemoveAbility(source,'A2AT')
			call UnitRemoveAbility(source,'A2AQ')
			call UnitRemoveAbility(source,'A2AP')
			call UnitRemoveAbility(source,'B0EZ')
			call UnitAddAbility(source,'A2AT')
		endif
	elseif integer498==5 then
		if GetUnitAbilityLevel(source,'A2AQ')==0 then
			call UnitRemoveAbility(source,'A2AR')
			call UnitRemoveAbility(source,'A2AS')
			call UnitRemoveAbility(source,'A2AU')
			call UnitRemoveAbility(source,'A2AT')
			call UnitRemoveAbility(source,'A2AQ')
			call UnitRemoveAbility(source,'A2AP')
			call UnitRemoveAbility(source,'B0EZ')
			call UnitAddAbility(source,'A2AQ')
		endif
	elseif integer498>=6 then
		if GetUnitAbilityLevel(source,'A2AP')==0 then
			call UnitRemoveAbility(source,'A2AR')
			call UnitRemoveAbility(source,'A2AS')
			call UnitRemoveAbility(source,'A2AU')
			call UnitRemoveAbility(source,'A2AT')
			call UnitRemoveAbility(source,'A2AQ')
			call UnitRemoveAbility(source,'A2AP')
			call UnitRemoveAbility(source,'B0EZ')
			call UnitAddAbility(source,'A2AP')
		endif
	endif
	set t=null
	set source=null
	return false
endfunction

function Func2641 takes nothing returns boolean
	if GetSpellAbilityId()=='A0S1' and IsBlocked(GetSpellTargetUnit())==false then
		call Func2638()
	endif
	return false
endfunction

function Func2642 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func2640))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2AR',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2AS',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2AU',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2AT',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2AQ',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2AP',false)
	set t=null
endfunction

function Func2643 takes nothing returns boolean
	if GetLearnedSkill()=='A0S1' and GetUnitAbilityLevel(GetTriggerUnit(),'A0S1')==1 and IsUnitIllusion(GetTriggerUnit())==false then
		call Func2642()
	endif
	return false
endfunction

function Func2644 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2641))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2643))
	set t=null
endfunction

function Func2645 takes nothing returns boolean
	return(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),'B008')==0 and GetUnitAbilityLevel(GetFilterUnit(),'Bcyc')==0 and GetUnitAbilityLevel(GetFilterUnit(),'Bcy2')==0
endfunction

function Func2646 takes integer h,integer DK4 returns nothing
	local integer i=1
	loop
		exitwhen i>DK4
		call DestroyEffect((LoadEffectHandle(HY,(h),(2700+i))))
		set i=i+1
	endloop
endfunction

function Func2647 takes nothing returns nothing
	call UnitWakeUp(GetEnumUnit())
	call IssueTargetOrder(GetEnumUnit(),"attack",unit323)
endfunction

function Func2648 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local group g=(LoadGroupHandle(HY,(h),(220)))
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer DK4=(LoadInteger(HY,(h),(365)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId()!=EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId()!=EVENT_PLAYER_UNIT_ISSUED_ORDER then
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
		if Count==(8+2*lvl)or IsDead(Hero)then
			call UnitRemoveAbility(Hero,'A0I5')
			call KillGroup(g)
			call Func2646(h,DK4)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		else
			call DisableTrigger(t)
			set unit323=Hero
			call ForGroup(g,function Func2647)
			call EnableTrigger(t)
		endif
	else
		if IsUnitInGroup(GetTriggerUnit(),g) and UnitIsSleeping(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'B008')==0 and GetIssuedOrderId()!=851973 and boolean145==false then
			call DisableTrigger(t)
			call IssueTargetOrder(GetTriggerUnit(),"attack",Hero)
			call EnableTrigger(t)
		endif
	endif
	set t=null
	set g=null
	set Hero=null
	return false
endfunction

function Func2649 takes nothing returns nothing
	set integer022=integer022+1
	call SaveEffectHandle(HY,(integer025),(2700+integer022),(AddSpecialEffectTarget("Abilities\\Weapons\\LavaSpawnMissile\\LavaSpawnBirthMissile.mdl",GetEnumUnit(),"chest")))
endfunction

function Func2650 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(Hero,'A0I6')
	local group g=GetAvailableGroup()
	call UnitAddAbilityPermanent(Hero,'A0I5')
	call SetUnitAbilityLevel(Hero,'A0I5',lvl)
	set tt_unit1=Hero
	set unit323=Hero
	set integer022=0
	set integer025=h
	call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),325,Condition(function Func2645))
	call ForGroup(g,function Func2649)
	call ForGroup(g,function Func2647)
	call SaveInteger(HY,(h),(365),(integer022))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveGroupHandle(HY,(h),(220),(g))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(34),(0))
	call TriggerRegisterTimerEvent(t,0.2,true)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
	call TriggerAddCondition(t,Condition(function Func2648))
	set t=null
	set g=null
	set Hero=null
endfunction

function Func2651 takes nothing returns boolean
	if GetSpellAbilityId()=='A0I6' then
		call Func2650()
	endif
	return false
endfunction

function Func2652 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2651))
	set t=null
endfunction

function Func2653 takes nothing returns nothing
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
	call DamageTarget(GetTriggerUnit(),GetEnumUnit(),2,GetUnitAbilityLevel(GetTriggerUnit(),'A0C6')*35+65)
endfunction

function Func2654 takes nothing returns nothing
	local group g
	local unit Hero=GetTriggerUnit()
	local integer Count=(LoadInteger(HY,(GetHandleId(Hero)),(823)))
	if GetRandomReal(0,100)<(Count+1)*5.570 then
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),300,Condition(function Func0273))
		call ForGroup(g,function Func2653)
		call SetUnitAnimation(Hero,"spin")
		call Func0202(Hero,0.6)
		call AddTimedKeyToUnit(Hero,4267,0.5-0.05*GetUnitAbilityLevel(GetTriggerUnit(),'A0C6'))
		call SaveInteger(HY,(GetHandleId(Hero)),(823),(0))
		call KillGroup(g)
	else
		call SaveInteger(HY,(GetHandleId(Hero)),(823),(Count+1))
	endif
	set g=null
	set Hero=null
endfunction

function Func2655 takes nothing returns boolean
	if GetUnitAbilityLevel(GetTriggerUnit(),'B03P')>0 and IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false and IsUnitType(GetAttacker(),UNIT_TYPE_MECHANICAL)==false and GetUnitAbilityLevel(GetAttacker(),'A04R')==0 and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false and((LoadInteger(HY,(GetHandleId((GetTriggerUnit()))),((4267))))==1)==false then
		call Func2654()
	endif
	return false
endfunction

function Func2656 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func2655))
	set t=null
endfunction

function Func2657 takes nothing returns nothing
	call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A2IC',false)
	call Func0228(GetEnumUnit(),'A2IC',1,integer499,'B0FV')
endfunction

constant function CullingBlade_RawCode takes nothing returns integer
	return 'A0E2'
endfunction

function Func2658 takes nothing returns boolean
	return IsBlocked(GetSpellTargetUnit())==false and(GetSpellAbilityId()==('A0E2')or GetSpellAbilityId()=='A1MR')
endfunction

function Func2659 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local real D14=GetUnitState(target,UNIT_STATE_LIFE)
	local integer lvl=GetUnitAbilityLevel(Hero,('A0E2'))
	local unit caster
	local boolean E14=false
	local group g
	local integer EO4=250
	local integer E24=325
	local integer E34=400
	set integer499=6
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(Hero,'A1MR')
		set E14=true
		set EO4=300
		set E24=425
		set E34=550
		set integer499=10
	endif
	if(D14<=EO4 and lvl==1)or(D14<=E24 and lvl==2)or(D14<=E34 and lvl==3)then
		if IsUnitType(target,UNIT_TYPE_HERO)then
			if E14 then
				call UnitRemoveAbility(Hero,'A1MR')
				call UnitAddAbility(Hero,'A1MR')
				call SetUnitAbilityLevel(Hero,'A1MR',lvl)
			else
				call UnitRemoveAbility(Hero,'A0E2')
				call UnitAddAbility(Hero,'A0E2')
				call SetUnitAbilityLevel(Hero,'A0E2',lvl)
			endif
		endif
		call PlaySoundOnUnitBJ(sound005,100,target)
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl",target,"overhead"))
		set caster=CreateUnit(GetOwningPlayer(Hero),'e00E',0,0,0)
		call UnitRemoveBuffs(target,true,true)
		call UnitRemoveAbility(target,'Aetl')
		call UnitDamageTarget(caster,target,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
		call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\AxeUltiMSFX_01.mdx",Hero,"origin"))
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),925,Condition(function Func0296))
		call ForGroup(g,function Func2657)
		call KillGroup(g)
		set g=null
	endif
endfunction

function Func2660 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2658))
	call TriggerAddAction(t,function Func2659)
endfunction

function Func2661 takes nothing returns boolean
	return GetSpellAbilityId()=='A0GK' and IsBlocked(GetSpellTargetUnit())==false
endfunction

function Func2662 takes nothing returns nothing
	call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),20+70*GetUnitAbilityLevel(GetTriggerUnit(),'A0GK'),ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC)
	if GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)>1 then
		call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+20+70*GetUnitAbilityLevel(GetTriggerUnit(),'A0GK'))
	endif
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetSpellTargetUnit(),"origin"))
endfunction

function Func2663 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local unit caster
	if GetUnitAbilityLevel(target,'B02F')==0 then
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A04Y',true)
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2O9',false)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED and GetTriggerUnit()==target then
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A04Y',true)
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2O9',false)
		call UnitRemoveAbility(target,'B02F')
		set caster=CreateUnit(p,'e00E',GetUnitX(target),GetUnitY(target),0)
		call UnitAddAbilityPermanent(caster,'A04Y')
		call SetUnitAbilityLevel(caster,'A04Y',lvl)
		call IssueTargetOrder(caster,"sleep",GetAttacker())
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED then
		if GetUnitState(target,UNIT_STATE_LIFE)>21 then
			call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)-20)
		else
			call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A04Y',true)
			call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2O9',false)
			call UnitRemoveAbility(target,'B02F')
			call DamageTarget(source,target,1,50)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	endif
	set t=null
	set p=null
	set caster=null
	set target=null
	set source=null
	return false
endfunction

function Func2664 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	set h=GetHandleId(t)
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SavePlayerHandle(HY,(h),(54),(GetOwningPlayer(source)))
	call SaveInteger(HY,(h),(5),(GetUnitAbilityLevel(source,'A04Y')))
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func2663))
	if GetUnitAbilityLevel(target,'A04Y')>0 then
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A04Y',false)
		call UnitAddAbilityPermanent(target,'A2O9')
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2O9',true)
	endif
	set boolean073=true
	call DamageTarget(source,target,2,0)
	set boolean073=false
	set source=null
	set target=null
	set t=null
endfunction

function Func2665 takes nothing returns boolean
	if GetSpellAbilityId()=='A04Y' and Func0089(GetSpellTargetUnit())==false then
		call Func2664()
	endif
	return false
endfunction

function Func2666 takes nothing returns boolean
	if GetSpellAbilityId()=='A04Y' and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
		if GetOwningPlayer(GetTriggerUnit())!=GetOwningPlayer(GetSpellTargetUnit())and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(LoadBoolean(HY,(GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))),(139)))then
			call InterruptUnit(GetTriggerUnit())
			call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n038'))
		endif
	endif
	return false
endfunction

function Func2667 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call UnitRemoveAbility(source,'B02F')
	call UnitRemoveAbility(source,'A2O9')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A04Y',true)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2O9',false)
	set t=null
	set source=null
	return false
endfunction

function Func2668 takes nothing returns boolean
	local trigger t
	if GetIssuedOrderId()==String2OrderIdBJ("manashieldon")and GetUnitAbilityLevel(GetTriggerUnit(),'A2O9')>0 then
		set t=CreateTrigger()
		call TriggerRegisterTimerEvent(t,0,false)
		call TriggerAddCondition(t,Condition(function Func2667))
		call SaveUnitHandle(HY,(GetHandleId(t)),(2),(GetTriggerUnit()))
	endif
	return false
endfunction

function Func2669 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2665))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func2666))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
	call TriggerAddCondition(t,Condition(function Func2668))
	set t=null
endfunction

function Func2670 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real OA2
	local integer Count=(LoadInteger(HY,(h),(34)))
	local integer MKO=6
	local unit caster
	local integer lvl
	local fogmodifier fm=(LoadFogModifierHandle(HY,(h),(42)))
	if GetUnitAbilityLevel(source,'A1D9')>0 then
		set MKO=8
	endif
	if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
		call FogModifierStop(fm)
		call DestroyFogModifier(fm)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SaveBoolean(HY,(GetHandleId(source)),(4344),(false))
	elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
		if(LoadBoolean(HY,(GetHandleId(GetTriggerUnit())),(4344)))then
			set lvl=GetUnitAbilityLevel(source,'A04Y')
			if lvl>0 and GetUnitAbilityLevel(source,'A1D9')>0 then
				set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),0)
				call UnitAddAbilityPermanent(caster,'A04Y')
				call SetUnitAbilityLevel(caster,'A04Y',lvl)
				call IssueTargetOrder(caster,"sleep",GetAttacker())
			endif
		endif
	else
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
		if Count>MKO then
			call FogModifierStop(fm)
			call DestroyFogModifier(fm)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call InterruptUnit(source)
		else
			set OA2=RMinBJ(0.05*GetUnitState(target,UNIT_STATE_MAX_MANA),GetUnitState(target,UNIT_STATE_MANA))
			if GetUnitAbilityLevel(source,'A1D9')>0 then
				set OA2=RMinBJ(0.1*GetUnitState(target,UNIT_STATE_MAX_MANA),GetUnitState(target,UNIT_STATE_MANA))
			endif
			if OA2>0 then
				call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MANA)+OA2)
				call SetUnitState(target,UNIT_STATE_MANA,GetUnitState(target,UNIT_STATE_MANA)-OA2)
			endif
		endif
	endif
	set t=null
	set source=null
	set target=null
	set fm=null
	return false
endfunction

function Func2671 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local fogmodifier fm=CreateFogModifierRadius(GetOwningPlayer(source),FOG_OF_WAR_VISIBLE,GetUnitX(target),GetUnitY(target),350,true,true)
	call FogModifierStart(fm)
	call UnitRemoveAbility(target,'B02F')
	call UnitRemoveAbility(target,'BUsp')
	call UnitRemoveAbility(target,'Bust')
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_ENDCAST)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func2670))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveFogModifierHandle(HY,(h),(42),(fm))
	call SaveBoolean(HY,(GetHandleId(source)),(4344),(true))
	set source=null
	set target=null
	set t=null
	set fm=null
endfunction

function Func2672 takes nothing returns boolean
	if GetSpellAbilityId()=='A02Q' or GetSpellAbilityId()=='A1D9' then
		call Func2671()
	endif
	return false
endfunction

function Func2673 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2672))
	set t=null
endfunction

function Func2674 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real LVO=(LoadReal(HY,(GetHandleId(target)),(789)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or LVO<GetTime()then
		call UnitRemoveAbility(target,'A2OG')
		call UnitRemoveAbility(target,'A2OA')
		call UnitRemoveAbility(target,'A2OF')
		call UnitRemoveAbility(target,'A2OH')
		call UnitRemoveAbility(target,'B0GE')
	endif
	set t=null
	set target=null
	return false
endfunction

function Func2675 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2OI')
	if lvl==1 then
		call UnitRemoveAbility(target,'B0GE')
		call UnitRemoveAbility(target,'A2OA')
		call UnitRemoveAbility(target,'A2OF')
		call UnitRemoveAbility(target,'A2OH')
		call UnitAddAbilityPermanent(target,'A2OG')
		call UnitMakeAbilityPermanent(target,true,'A2OD')
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2OG',false)
	elseif lvl==2 then
		call UnitRemoveAbility(target,'B0GE')
		call UnitRemoveAbility(target,'A2OG')
		call UnitRemoveAbility(target,'A2OF')
		call UnitRemoveAbility(target,'A2OH')
		call UnitAddAbilityPermanent(target,'A2OA')
		call UnitMakeAbilityPermanent(target,true,'A2OE')
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2OA',false)
	elseif lvl==3 then
		call UnitRemoveAbility(target,'B0GE')
		call UnitRemoveAbility(target,'A2OG')
		call UnitRemoveAbility(target,'A2OA')
		call UnitRemoveAbility(target,'A2OH')
		call UnitAddAbilityPermanent(target,'A2OF')
		call UnitMakeAbilityPermanent(target,true,'A2OC')
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2OF',false)
	elseif lvl==4 then
		call UnitRemoveAbility(target,'B0GE')
		call UnitRemoveAbility(target,'A2OG')
		call UnitRemoveAbility(target,'A2OA')
		call UnitRemoveAbility(target,'A2OF')
		call UnitAddAbilityPermanent(target,'A2OH')
		call UnitMakeAbilityPermanent(target,true,'A2OB')
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2OH',false)
	endif
	call TriggerRegisterTimerEvent(t,20,false)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerAddCondition(t,Condition(function Func2674))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(GetHandleId(target)),(789),((19.9+GetTime())*1.0))
	set t=null
	set source=null
	set target=null
endfunction

function Func2676 takes nothing returns boolean
	if GetSpellAbilityId()=='A2OI' and IsBlocked(GetSpellTargetUnit())==false then
		call Func2675()
	endif
	return false
endfunction

function Func2677 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2676))
	set t=null
endfunction

function Func2678 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer Count=(LoadInteger(HY,(GetHandleId(target)),(281)))
	local boolean EV4=(LoadBoolean(HY,(h),(280)))
	local real DH1
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call SetUnitTurnSpeed(target,GetUnitDefaultTurnSpeed(target))
		call SaveInteger(HY,(GetHandleId(target)),(281),(0))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SetNapalmFactory(target,0,0)
	elseif Count==0 then
		call SetUnitTurnSpeed(target,GetUnitDefaultTurnSpeed(target))
		call SaveInteger(HY,(GetHandleId(target)),(281),(0))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED and EV4==false then
		if Count>0 and GetUnitAbilityLevel(GetEventDamageSource(),'A1EL')>0 and(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(2)))==GetEventDamageSource()then
			call SaveBoolean(HY,(h),(280),(true))
			if boolean146 then
				call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",target,"chest"))
				set DH1=0.5*(5+5*GetUnitAbilityLevel(source,'A1EL'))*Count
			elseif boolean069==false and GetEventDamage()>12 then
				call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",target,"chest"))
				set DH1=(5+5*GetUnitAbilityLevel(source,'A1EL'))*Count
			endif
			if IsUnitType(target,UNIT_TYPE_HERO)==false then
				set DH1=DH1*0.5
			endif
			if boolean146 then
				call DamageTarget(source,target,1,DH1)
			elseif boolean069==false and GetEventDamage()>12 then
				call DamageTarget(source,target,1,DH1)
			endif
			call SaveBoolean(HY,(h),(280),(false))
		endif
	else
		call SetUnitTurnSpeed(target,GetUnitDefaultTurnSpeed(target)*0.3)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2679 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real time=(LoadReal(HY,(GetHandleId(target)),(675)))
	local integer StickyCount=(LoadInteger(HY,(GetHandleId(target)),(281)))
	if GetTime()-time>=8 then
		call SetUnitTurnSpeed(target,GetUnitDefaultTurnSpeed(target))
		call SaveInteger(HY,(GetHandleId(target)),(281),(0))
		call SetNapalmFactory(target,0,0)
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2680 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetEnumUnit()
	local trigger t
	local integer h
	local integer lvl=GetUnitAbilityLevel(source,'A1EL')
	local integer Count=IMinBJ((LoadInteger(HY,(GetHandleId(target)),(281)))+1,10)
	if Func0091(target)then
		set source=null
		set target=null
		return
	endif
	call SetNapalmFactory(target,lvl,Count)
	call SaveInteger(HY,(GetHandleId(target)),(281),(Count))
	call SaveReal(HY,(GetHandleId(target)),(675),((GetTime())*1.0))
	call SetUnitTurnSpeed(target,GetUnitDefaultTurnSpeed(target)*0.3)
	if IsUnitType(target,UNIT_TYPE_HERO) then
		call Func0164(GetOwningPlayer(source),I2S(Count)+"!",2,target,0.026,50,0,255,216)
	endif
	if Count==1 then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveBoolean(HY,(h),(280),(false))
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func2678))
	endif
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,8,false)
	call TriggerAddCondition(t,Condition(function Func2679))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	set t=null
	set source=null
	set target=null
endfunction

function StickyNapalm_Effect takes nothing returns nothing
	local group g=GetAvailableGroup()
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local unit source=GetTriggerUnit()
	call GroupEnumUnitsInRange(g,x,y,400,Condition(function Func0271))
	call ForGroup(g,function Func2680)
	call TimedReveal(GetOwningPlayer(source),2,x,y,500)
	call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x,y))
	call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x,y+130))
	call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x,y-130))
	call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x+130,y))
	call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x+130,y+130))
	call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x+130,y-130))
	call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x-130,y))
	call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x-130,y+130))
	call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x-130,y-130))
	call KillGroup(g)
	set g=null
	set source=null
endfunction

function Func2682 takes nothing returns boolean
	if GetSpellAbilityId()=='A1EL' then
		call StickyNapalm_Effect()
	endif
	return false
endfunction

function Func2683 takes nothing returns nothing
	local integer i
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2682))
	set StickyNapalmSlowStacks_Level1[1]='A1XC'
	set StickyNapalmSlowStacks_Level1[2]='A1XB'
	set StickyNapalmSlowStacks_Level1[3]='A1X4'
	set StickyNapalmSlowStacks_Level1[4]='A1X5'
	set StickyNapalmSlowStacks_Level1[5]='A1X6'
	set StickyNapalmSlowStacks_Level1[6]='A1X7'
	set StickyNapalmSlowStacks_Level1[7]='A1XA'
	set StickyNapalmSlowStacks_Level1[8]='A1X8'
	set StickyNapalmSlowStacks_Level1[9]='A1X9'
	set StickyNapalmSlowStacks_Level1[10]='A1XD'
	set StickyNapalmSlowStacks_Level2[1]='A1XM'
	set StickyNapalmSlowStacks_Level2[2]='A1XE'
	set StickyNapalmSlowStacks_Level2[3]='A1XF'
	set StickyNapalmSlowStacks_Level2[4]='A1XG'
	set StickyNapalmSlowStacks_Level2[5]='A1XH'
	set StickyNapalmSlowStacks_Level2[6]='A1XI'
	set StickyNapalmSlowStacks_Level2[7]='A1XJ'
	set StickyNapalmSlowStacks_Level2[8]='A1XK'
	set StickyNapalmSlowStacks_Level2[9]='A1XN'
	set StickyNapalmSlowStacks_Level2[10]='A1XL'
	set StickyNapalmSlowStacks_Level3[1]='A1XO'
	set StickyNapalmSlowStacks_Level3[2]='A1XV'
	set StickyNapalmSlowStacks_Level3[3]='A1XW'
	set StickyNapalmSlowStacks_Level3[4]='A1XQ'
	set StickyNapalmSlowStacks_Level3[5]='A1XR'
	set StickyNapalmSlowStacks_Level3[6]='A1XS'
	set StickyNapalmSlowStacks_Level3[7]='A1XX'
	set StickyNapalmSlowStacks_Level3[8]='A1XT'
	set StickyNapalmSlowStacks_Level3[9]='A1XU'
	set StickyNapalmSlowStacks_Level3[10]='A1XP'
	set StickyNapalmSlowStacks_Level4[1]='A1XY'
	set StickyNapalmSlowStacks_Level4[2]='A1XZ'
	set StickyNapalmSlowStacks_Level4[3]='A1Y5'
	set StickyNapalmSlowStacks_Level4[4]='A1Y6'
	set StickyNapalmSlowStacks_Level4[5]='A1Y7'
	set StickyNapalmSlowStacks_Level4[6]='A1Y1'
	set StickyNapalmSlowStacks_Level4[7]='A1Y2'
	set StickyNapalmSlowStacks_Level4[8]='A1Y3'
	set StickyNapalmSlowStacks_Level4[9]='A1Y4'
	set StickyNapalmSlowStacks_Level4[10]='A1Y0'
	set i=1
	loop
		exitwhen i>10
		call Func0125(StickyNapalmSlowStacks_Level1[i])
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>10
		call Func0125(StickyNapalmSlowStacks_Level2[i])
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>10
		call Func0125(StickyNapalmSlowStacks_Level3[i])
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>10
		call Func0125(StickyNapalmSlowStacks_Level4[i])
		set i=i+1
	endloop
	set t=null
endfunction

function Func2684 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real a=(LoadReal(HY,(h),(137)))
	local real d=(LoadReal(HY,(h),(138)))
	local real x1=(LoadReal(HY,(h),(6)))
	local real y1=(LoadReal(HY,(h),(7)))
	local real x2
	local real y2
	local real x
	local real y
	if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>10 then
		call KillTrees(GetUnitX(target),GetUnitY(target),200)
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set x2=x1+d*Cos(a)
		set y2=y1+d*Sin(a)
		if(IsPointInRegion(region006,((x2)*1.0),((y2)*1.0)))==false then
			call SaveReal(HY,(h),(6),((x2)*1.0))
			call SaveReal(HY,(h),(7),((y2)*1.0))
			set x=x2
			set y=y2
		else
			set x=x1
			set y=y1
		endif
		if IsUnitType(target,UNIT_TYPE_HERO) then
			call SetUnitPosition(target,x,y)
		else
			call SetUnitX(target,x)
			call SetUnitY(target,y)
		endif
	endif
	set t=null
	set target=null
	return false
endfunction

function Func2685 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetEnumUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A19V')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2684))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(137),((Atan2(GetUnitY(target)-real330,GetUnitX(target)-real329))*1.0))
	call SaveReal(HY,(h),(138),((Func0134((400-Func0141(real329,real330,GetUnitX(target),GetUnitY(target))),10)/10)*1.0))
	call SaveReal(HY,(h),(6),((GetUnitX(target))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(target))*1.0))
	set source=null
	set target=null
	set t=null
	call DamageTarget(unit324,GetEnumUnit(),1,integer500*75)
endfunction

function Func2686 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real a=(LoadReal(HY,(h),(137)))
	local group g=GetAvailableGroup()
	local unit target
	local real x=GetUnitX(caster)
	local real y=GetUnitY(caster)
	local real EN4=(LoadReal(HY,(h),(6)))
	local real ES4=(LoadReal(HY,(h),(7)))
	set x=SafeX50(x+36*Cos(a))
	set y=SafeY50(y+36*Sin(a))
	call SetUnitX(caster,x)
	call SetUnitY(caster,y)
	set tt_unit1=caster
	call GroupEnumUnitsInRange(g,x,y,125,Condition(function Func0280))
	set target=FirstOfGroup(g)
	call KillGroup(g)
	if Func0141(x,y,EN4,ES4)<40 or GetTriggerEvalCount(t)>100 then
		set target=null
		set x=EN4
		set y=ES4
		set unit324=source
		set integer500=(LoadInteger(HY,(h),(5)))
		set unit325=target
		if target==null then
			set real329=x
			set real330=y
		else
			set real329=GetUnitX(target)
			set real330=GetUnitY(target)
		endif
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,x,y,400,Condition(function Func0280))
		if target!=null then
			call GroupRemoveUnit(g,target)
			call StunTargetIF(source,target,0.3)
			call DamageTarget(unit324,target,1,integer500*75)
		endif
		call ForGroup(g,function Func2685)
		call KillUnit(caster)
		call KillGroup(g)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	set caster=null
	set source=null
	set g=null
	return false
endfunction

function Func2687 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local real a=Atan2(y-GetUnitY(source),x-GetUnitX(source))
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A19V')
	local unit caster
	call RemoveLocation(l)
	set caster=CreateUnit(GetOwningPlayer(source),'h0ED',GetUnitX(source),GetUnitY(source),a*bj_RADTODEG)
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call TriggerRegisterTimerEvent(t,0.04,true)
	call TriggerAddCondition(t,Condition(function Func2686))
	set source=null
	set caster=null
	set l=null
	set t=null
endfunction

function Func2688 takes nothing returns boolean
	if GetSpellAbilityId()=='A19V' then
		call Func2687()
	endif
	return false
endfunction

function Func2689 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2688))
	set t=null
endfunction

function Func2690 takes nothing returns nothing
	local unit source=unit326
	local unit JMO=GetEnumUnit()
	local unit target
	local group g
	if GetUnitCurrentOrder(JMO)==0 then
		set g=GetAvailableGroup()
		set tt_unit1=JMO
		call GroupEnumUnitsInRange(g,GetUnitX(JMO),GetUnitY(JMO),825,Condition(function DefaultEnemyFilterWithAncients))
		set target=FirstOfGroup(g)
		if target!=null then
			call GroupRemoveUnit(g,target)
		endif
		if FirstOfGroup(g)==null and target==source then
			call IssueTargetOrder(JMO,"attack",target)
		endif
		call KillGroup(g)
		set target=null
		set g=null
	endif
	set source=null
	set JMO=null
endfunction

function Func2691 takes unit source returns nothing
	local group g=GetAvailableGroup()
	set tt_unit1=source
	set unit326=source
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),1000,Condition(function Func0312))
	call ForGroup(g,function Func2690)
	call KillGroup(g)
	set g=null
endfunction

function Func2692 takes nothing returns nothing
	call DamageTarget(unit326,GetEnumUnit(),1,integer501*10)
endfunction

function Func2693 takes unit source,integer h,integer Count returns nothing
	local group g1=GetAvailableGroup()
	local group g2=GetAvailableGroup()
	local integer i=0
	set tt_unit1=source
	loop
		exitwhen i>Count
		call GroupEnumUnitsInRange(g2,(LoadReal(HY,(h),(2300+i))),(LoadReal(HY,(h),(2500+i))),225,Condition(function DefaultEnemyFilterWithAncients))
		call GroupAddGroup(g2,g1)
		call GroupClear(g2)
		set i=i+1
	endloop
	call KillGroup(g2)
	if FirstOfGroup(g1)!=null then
		set unit326=source
		set integer501=GetUnitAbilityLevel(source,'A19Z')
		set unit327=CreateUnit(GetOwningPlayer(source),'e00E',0,0,0)
		call UnitAddAbilityPermanent(unit327,'A19U')
		call SetUnitAbilityLevel(unit327,'A19U',integer501)
		call ForGroup(g1,function Func2692)
	endif
	call KillGroup(g1)
	set g1=null
	set g2=null
endfunction

function Func2694 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real II3=(LoadReal(HY,(h),(23)))
	local real I13=(LoadReal(HY,(h),(24)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local integer i
	local real x
	local real y
	if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>360 then
		set i=0
		loop
			exitwhen i>Count
			call DestroyEffect((LoadEffectHandle(HY,(h),(2700+i))))
			set i=i+1
		endloop
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set x=GetUnitX(source)
		set y=GetUnitY(source)
		if isObserversMode then
			call Func2691(source)
		endif
		if Func0141(x,y,II3,I13)>125 then
			set Count=Count+1
			call SaveInteger(HY,(h),(34),(Count))
			call SaveReal(HY,(h),(23),((x)*1.0))
			call SaveReal(HY,(h),(24),((y)*1.0))
			call SaveEffectHandle(HY,(h),(2700+Count),(AddSpecialEffect("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",x,y)))
			call SaveReal(HY,(h),(2300+Count),((x)*1.0))
			call SaveReal(HY,(h),(2500+Count),((y)*1.0))
		endif
		if ModuloInteger(GetTriggerEvalCount(t),10)==0 then
			set boolean146=true
			call Func2693(source,h,Count)
			set boolean146=false
		endif
		call KillTrees(GetUnitX(source),GetUnitY(source),100)
	endif
	return false
endfunction

function Func2695 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerAddCondition(t,Condition(function Func2694))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveEffectHandle(HY,(h),(2700),(AddSpecialEffect("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",GetUnitX(source),GetUnitY(source))))
	call SaveReal(HY,(h),(23),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(24),((GetUnitY(source))*1.0))
	call SaveReal(HY,(h),(2300),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(2500),((GetUnitY(source))*1.0))
	set source=null
	set t=null
endfunction

function Func2696 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if IsDead(source)then
		return false
	endif
	if GetUnitTypeId(source)=='O016' then
		call SetUnitFlyHeight(source,170,0)
	elseif GetUnitTypeId(source)=='O017' then
		call SetUnitFlyHeight(source,220,0)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func2697 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	call TriggerRegisterTimerEvent(t,2,true)
	call TriggerAddCondition(t,Condition(function Func2696))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
endfunction

function Func2698 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,false)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	return false
endfunction

function Func2699 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,true)
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func2698))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	set source=null
	set t=null
endfunction

function Func2700 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A19Z' then
			if GetUnitTypeId(GetTriggerUnit())=='O016' then
				call Func2695()
			elseif IsTerrainPathable(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),PATHING_TYPE_WALKABILITY)then
				call Func2699()
			endif
		endif
	else
		if GetLearnedSkill()=='A19Z' and GetUnitAbilityLevel(GetTriggerUnit(),'A19Z')==1 and IsUnitIllusion(GetTriggerUnit())==false then
			call Func2697()
		endif
	endif
	return false
endfunction

function Func2701 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2700))
	set t=null
endfunction

function Func2702 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local real d=Func0141(GetUnitX(source),GetUnitY(source),GetUnitX(target),GetUnitY(target))
	local real a
	local real DC1=(LoadReal(HY,(h),(57)))
	local real x0=(LoadReal(HY,(h),(282)))
	local real y0=(LoadReal(HY,(h),(283)))
	local real x1
	local real y1
	if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>R2I(20*DC1)then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillUnit(caster)
		call SetUnitPathing(target,true)
		call Func0262(source)
		call KillTrees(GetUnitX(target),GetUnitY(target),175)
	else
		call SetUnitX(caster,GetUnitX(source))
		call SetUnitY(caster,GetUnitY(source))
		if Func0141(x0,y0,GetUnitX(source),GetUnitY(source))>400 then
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call KillUnit(caster)
			call SetUnitPathing(target,true)
			call Func0262(source)
			call KillTrees(GetUnitX(target),GetUnitY(target),175)
		else
			call SaveReal(HY,(h),(282),((GetUnitX(source))*1.0))
			call SaveReal(HY,(h),(283),((GetUnitY(source))*1.0))
			if d>300 then
				set a=Atan2(GetUnitY(target)-GetUnitY(source),GetUnitX(target)-GetUnitX(source))
				set x1=GetUnitX(source)+300*Cos(a)
				set y1=GetUnitY(source)+300*Sin(a)
				if(IsPointInRegion(region006,((x1)*1.0),((y1)*1.0)))==false then
					call SetUnitX(target,x1)
					call SetUnitY(target,y1)
				endif
			endif
		endif
	endif
	set t=null
	set source=null
	set target=null
	set caster=null
	return false
endfunction

function Func2703 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster=CreateUnit(GetOwningPlayer(source),'u00Y',GetUnitX(source),GetUnitY(source),0)
	local integer lvl=GetUnitAbilityLevel(source,'A19O')
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A1MV')+2
	endif
	call UnitAddAbilityPermanent(caster,'A19N')
	call SetUnitAbilityLevel(caster,'A19N',GetUnitAbilityLevel(source,'A19O'))
	call IssueTargetOrder(caster,"magicleash",target)
	call SetUnitPathing(caster,false)
	call SetUnitPathing(target,false)
	call Func0261(source)
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2702))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveReal(HY,(h),(57),((2.5+lvl*0.5)*1.0))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\AerialShackles\\AerialShacklesTarget.mdl",target,"chest")))
	call SaveReal(HY,(h),(282),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(283),((GetUnitY(source))*1.0))
	set t=null
	set source=null
	set target=null
	set caster=null
endfunction

function Func2704 takes nothing returns boolean
	if(GetSpellAbilityId()=='A19O' or GetSpellAbilityId()=='A1MV')and IsBlocked(GetSpellTargetUnit())==false and GetUnitTypeId(GetSpellTargetUnit())!='n00L' then
		call Func2703()
	endif
	return false
endfunction

function Func2705 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2704))
	set t=null
endfunction

function Func2706 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real II3=(LoadReal(HY,(h),(23)))
	local real I13=(LoadReal(HY,(h),(24)))
	local real x=GetUnitX(target)
	local real y=GetUnitY(target)
	local real d=SquareRoot((II3-x)*(II3-x)+(I13-y)*(I13-y))
	local real VZ3=0.2*lvl*d
	local integer KO2=(LoadInteger(HY,(h),(25)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call UnitRemoveAbility(target,'A0IH')
		call UnitRemoveAbility(target,'B08L')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		set t=null
		set source=null
		set target=null
		return false
	endif
	if d>1300 then
		set VZ3=0
	endif
	if VZ3>5 then
		call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",target,"origin"))
	endif
	if((LoadInteger(HY,(GetHandleId((target))),((2485))))==1)and VZ3>=GetUnitState(target,UNIT_STATE_LIFE)-2 then
		set VZ3=GetUnitState(target,UNIT_STATE_LIFE)-2
	endif
	if Func0089(target)then
		set VZ3=0
	endif
	if VZ3>0 and IsDead(target)==false and Func0257(target)==false then
		call DamageTarget(source,target,6,VZ3)
	endif
	call SaveReal(HY,(h),(23),((x)*1.0))
	call SaveReal(HY,(h),(24),((y)*1.0))
	call SaveInteger(HY,(h),(25),(KO2+1))
	if IsDead(target)then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif KO2>4*(12)then
		call UnitRemoveAbility(target,'A0IH')
		call UnitRemoveAbility(target,'B08L')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2707 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A0LH')
	local real dmg=50+100*lvl
	call UnitAddAbilityPermanent(target,'A0IH')
	call SetUnitAbilityLevel(target,'A0IH',lvl)
	call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",target,"chest"))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveReal(HY,(h),(23),((GetUnitX(target))*1.0))
	call SaveReal(HY,(h),(24),((GetUnitY(target))*1.0))
	call SaveInteger(HY,(h),(25),(0))
	call TriggerRegisterTimerEvent(t,0.25,true)
	call TriggerAddCondition(t,Condition(function Func2706))
	call TriggerRegisterDeathEvent(t,target)
	set source=null
	set target=null
	set t=null
endfunction

function Func2708 takes nothing returns boolean
	if GetSpellAbilityId()=='A0LH' and IsBlocked(GetSpellTargetUnit())==false then
		call Func2707()
	endif
	return false
endfunction

function Func2709 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2708))
	set t=null
endfunction

function Func2710 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real H71=(LoadReal(HY,(h),(6)))
	local real H81=(LoadReal(HY,(h),(7)))
	call Func0390(source,H71,H81,Func0388(source))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	set t=null
	set source=null
	return false
endfunction

function Func2711 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer i=0
	local player p
	loop
		exitwhen i>5
		set p=Sentinels[i]
		if units027[GetPlayerId(p)]==null or IsPlayerAlly(GetOwningPlayer(source),p) or Func0258(units027[GetPlayerId(p)])then
			call SetUnitX(units026[GetPlayerId(p)],Func0106(source))
			call SetUnitY(units026[GetPlayerId(p)],Func0107(source))
		else
			if IsUnitVisible(units027[GetPlayerId(p)],GetOwningPlayer(source))==false then
				call KillUnit(CreateUnit(GetOwningPlayer(source),'o02C',GetUnitX(units027[GetPlayerId(p)]),GetUnitY(units027[GetPlayerId(p)]),0))
			endif
			call SetUnitX(units026[GetPlayerId(p)],GetUnitX(units027[GetPlayerId(p)]))
			call SetUnitY(units026[GetPlayerId(p)],GetUnitY(units027[GetPlayerId(p)]))
		endif
		set p=Scourges[i]
		if units027[GetPlayerId(p)]==null or IsPlayerAlly(GetOwningPlayer(source),p) or Func0258(units027[GetPlayerId(p)])then
			call SetUnitX(units026[GetPlayerId(p)],Func0106(source))
			call SetUnitY(units026[GetPlayerId(p)],Func0107(source))
		else
			if IsUnitVisible(units027[GetPlayerId(p)],GetOwningPlayer(source))==false then
				call KillUnit(CreateUnit(GetOwningPlayer(source),'o02C',GetUnitX(units027[GetPlayerId(p)]),GetUnitY(units027[GetPlayerId(p)]),0))
			endif
			call SetUnitX(units026[GetPlayerId(p)],GetUnitX(units027[GetPlayerId(p)]))
			call SetUnitY(units026[GetPlayerId(p)],GetUnitY(units027[GetPlayerId(p)]))
		endif
		set i=i+1
	endloop
	set p=null
	set t=null
	set source=null
	return false
endfunction

function Func2712 takes unit target,player p,boolean ZXO returns nothing
	if ZXO then
		set units027[GetPlayerId(GetOwningPlayer(target))]=target
	else
		set units027[GetPlayerId(GetOwningPlayer(target))]=null
	endif
endfunction

function Func2713 takes nothing returns nothing
	local unit caster
	if Func0264(GetEnumUnit())==false then
		call UnitRemoveAbility(GetEnumUnit(),'Bdet')
		call Func2712(GetEnumUnit(),GetOwningPlayer(unit328),true)
	else
		call Func2712(GetEnumUnit(),GetOwningPlayer(unit328),true)
		if GetUnitAbilityLevel(GetEnumUnit(),'Bdet')==0 and GetUnitAbilityLevel(GetEnumUnit(),'B00T')==0 and GetUnitAbilityLevel(GetEnumUnit(),'B00L')==0 then
			set caster=CreateUnit(GetOwningPlayer(unit328),'e00E',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
			call UnitAddAbility(caster,'A2VW')
			call IssueImmediateOrderById(caster,852625)
			set caster=null
		endif
	endif
endfunction

function Func2714 takes nothing returns nothing
	local real JC3=0.3
	if IsDead(unit328) or IsUnitInGroup(GetEnumUnit(),group019)==false or GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)>JC3 or(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)>JC3/2 and Func0264(GetEnumUnit()))then
		call GroupRemoveUnit(group018,GetEnumUnit())
		call Func2712(GetEnumUnit(),GetOwningPlayer(unit328),false)
		call UnitRemoveAbility(GetEnumUnit(),'Bdet')
	endif
endfunction

function Func2715 takes nothing returns nothing
	local real JC3
	if IsDead(unit328)==false and IsUnitInGroup(GetEnumUnit(),group018)==false and IsUnitIllusion(GetEnumUnit())==false then
		set JC3=0.3
		if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)<JC3 then
			call GroupAddUnit(group018,GetEnumUnit())
		endif
	endif
endfunction

function Func2716 takes nothing returns nothing
	local real JC3
	if IsDead(unit328)==false and IsUnitIllusion(GetEnumUnit())==false then
		set real332=real332+1
		set real331=real331+(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE))
	endif
endfunction

function Func2717 takes unit source,integer E01 returns nothing
	local integer i=1
	if E01==0 then
		call UnitRemoveAbility(source,'B05R')
		call Func0366(source,0)
	else
		call Func0366(source,E01*5)
	endif
	set i=1
	loop
		exitwhen i>20
		if i!=E01 then
			call UnitRemoveAbility(source,integers162[i])
		elseif GetUnitAbilityLevel(source,integers162[i])==0 then
			call UnitRemoveAbility(source,'B05R')
			call UnitAddAbility(source,integers162[i])
		endif
		set i=i+1
	endloop
endfunction

function Func2718 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group FX4=(LoadGroupHandle(HY,(h),(22)))
	local group g=GetAvailableGroup()
	local integer lvl=GetUnitAbilityLevel(source,'A0I8')
	local integer E01=0
	local real FY4
	local real FJ4=0
	set tt_unit1=source
	set unit328=source
	set group018=FX4
	set integer502=lvl
	set real331=0
	set real332=0
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),25+25000,Condition(function Func0303))
	call ForGroup(g,function Func2716)
	call KillGroup(g)
	if real332>0 then
		set FY4=real332-real331
		set FJ4=(FY4*lvl*10)
		set E01=IMinBJ(R2I(FJ4/5),20)
	endif
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),25+25000,Condition(function Func0303))
	call ForGroup(g,function Func2715)
	set group019=g
	call ForGroup(group018,function Func2714)
	call ForGroup(group018,function Func2713)
	if E01==0 then
		call Func2717(source,E01)
		call SaveInteger(HY,(GetHandleId(source)),(814),(0))
	else
		call Func2717(source,E01)
		call SaveInteger(HY,(GetHandleId(source)),(814),(E01))
	endif
	if E01<5 then
		call UnitRemoveAbility(source,'A214')
	else
		call UnitAddAbilityPermanent(source,'A214')
	endif
	call KillGroup(g)
	set t=null
	set source=null
	set g=null
	set FX4=null
	return false
endfunction

function Func2719 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local player p
	call TriggerRegisterTimerEvent(t,0.25,true)
	call TriggerAddCondition(t,Condition(function Func2718))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveGroupHandle(HY,(h),(22),(GetAvailableGroup()))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.04,true)
	call TriggerAddCondition(t,Condition(function Func2711))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.005,true)
	call TriggerAddCondition(t,Condition(function Func2710))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	set p=Sentinels[1]
	set units026[GetPlayerId(p)]=CreateUnit(GetOwningPlayer(source),'o02B',Func0106(source),Func0107(source),0)
	set units027[GetPlayerId(p)]=null
	set p=Sentinels[2]
	set units026[GetPlayerId(p)]=CreateUnit(GetOwningPlayer(source),'o02B',Func0106(source),Func0107(source),0)
	set units027[GetPlayerId(p)]=null
	set p=Sentinels[3]
	set units026[GetPlayerId(p)]=CreateUnit(GetOwningPlayer(source),'o02B',Func0106(source),Func0107(source),0)
	set units027[GetPlayerId(p)]=null
	set p=Sentinels[4]
	set units026[GetPlayerId(p)]=CreateUnit(GetOwningPlayer(source),'o02B',Func0106(source),Func0107(source),0)
	set units027[GetPlayerId(p)]=null
	set p=Sentinels[5]
	set units026[GetPlayerId(p)]=CreateUnit(GetOwningPlayer(source),'o02B',Func0106(source),Func0107(source),0)
	set units027[GetPlayerId(p)]=null
	set p=Scourges[1]
	set units026[GetPlayerId(p)]=CreateUnit(GetOwningPlayer(source),'o02B',Func0106(source),Func0107(source),0)
	set units027[GetPlayerId(p)]=null
	set p=Scourges[2]
	set units026[GetPlayerId(p)]=CreateUnit(GetOwningPlayer(source),'o02B',Func0106(source),Func0107(source),0)
	set units027[GetPlayerId(p)]=null
	set p=Scourges[3]
	set units026[GetPlayerId(p)]=CreateUnit(GetOwningPlayer(source),'o02B',Func0106(source),Func0107(source),0)
	set units027[GetPlayerId(p)]=null
	set p=Scourges[4]
	set units026[GetPlayerId(p)]=CreateUnit(GetOwningPlayer(source),'o02B',Func0106(source),Func0107(source),0)
	set units027[GetPlayerId(p)]=null
	set p=Scourges[5]
	set units026[GetPlayerId(p)]=CreateUnit(GetOwningPlayer(source),'o02B',Func0106(source),Func0107(source),0)
	set units027[GetPlayerId(p)]=null
	set t=null
	set source=null
endfunction

function Func2720 takes nothing returns boolean
	if GetLearnedSkill()=='A0I8' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0I8')==1 then
		call Func2719()
	endif
	return false
endfunction

function Func2721 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2720))
	set integers162[1]='A2U8'
	set integers162[2]='A20W'
	set integers162[3]='A2U9'
	set integers162[4]='A2U6'
	set integers162[5]='A2U7'
	set integers162[6]='A2UC'
	set integers162[7]='A2UD'
	set integers162[8]='A2UA'
	set integers162[9]='A2UB'
	set integers162[10]='A20Z'
	set integers162[11]='A2UF'
	set integers162[12]='A2UE'
	set integers162[13]='A2UG'
	set integers162[14]='A2UH'
	set integers162[15]='A20X'
	set integers162[16]='A2UL'
	set integers162[17]='A2UL'
	set integers162[18]='A20Y'
	set integers162[19]='A2UJ'
	set integers162[20]='A2UI'
	set t=null
endfunction

function Func2722 takes nothing returns nothing
	call DamageTarget(unit329,GetEnumUnit(),1,80+40*integer503)
endfunction

function Func2723 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A2X9')
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
	local group g=GetAvailableGroup()
	call UnitAddAbilityPermanent(caster,'A30A')
	call SetUnitAbilityLevel(caster,'A30A',lvl)
	call IssuePointOrder(caster,"silence",x,y)
	set tt_unit1=source
	set unit329=source
	set integer503=lvl
	call GroupEnumUnitsInRange(g,x,y,600+25,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func2722)
	call Func0174(sound077,x,y)
	call KillGroup(g)
	call DestroyEffect(AddSpecialEffect(string039,x,y))
	call DestroyEffect(AddSpecialEffect(string039,x+200,y))
	call DestroyEffect(AddSpecialEffect(string039,x+200,y-200))
	call DestroyEffect(AddSpecialEffect(string039,x+200,y+200))
	call DestroyEffect(AddSpecialEffect(string039,x-200,y-200))
	call DestroyEffect(AddSpecialEffect(string039,x,y+200))
	call DestroyEffect(AddSpecialEffect(string039,x-200,y+200))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func2724 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TimedReveal(GetOwningPlayer(source),3,x,y,600)
	call TriggerRegisterTimerEvent(t,3,false)
	call TriggerAddCondition(t,Condition(function Func2723))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call DestroyEffect(AddSpecialEffect("war3mapImported\\Bloodrite.mdx",x,y))
	call Func0174(sound076,x,y)
	set t=null
	set source=null
endfunction

function Func2725 takes nothing returns boolean
	if GetSpellAbilityId()=='A2X9' then
		call Func2724()
	endif
	return false
endfunction

function Func2726 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2725))
	set t=null
endfunction

function Func2727 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A311')
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if boolean147 and(target==GetEventDamageSource()or target==GetTriggerUnit())then
			set boolean147=false
			call DamageTarget(GetEventDamageSource(),GetTriggerUnit(),3,GetEventDamage()*(20+5*lvl)/100)
			set boolean147=true
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_DEATH then
		if GetKillingUnit()==target or GetTriggerUnit()==target then
			call SetUnitState(GetKillingUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)*0.25+GetUnitState(GetKillingUnit(),UNIT_STATE_LIFE))
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",GetKillingUnit(),"origin"))
		elseif GetOwningPlayer(GetKillingUnit())==GetOwningPlayer(target)and GetUnitAbilityLevel(GetKillingUnit(),'A04R')>0 then
			call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_MAX_LIFE)*0.25+GetUnitState(target,UNIT_STATE_LIFE))
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",target,"origin"))
		endif
		if GetTriggerUnit()==target then
			call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
			call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2728 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local group g=GetAvailableGroup()
	local integer lvl=GetUnitAbilityLevel(source,'A311')
	local unit u
	call TriggerRegisterTimerEvent(t,8+lvl,false)
	call TriggerAddCondition(t,Condition(function Func2727))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\TrollBerserk\\HeadhunterWEAPONSLeft.mdl",target,"hand,right")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\TrollBerserk\\HeadhunterWEAPONSLeft.mdl",target,"hand,left")))
	call GroupEnumUnitsInRange(g,0,0,99999,Condition(function Func0267))
	loop
		set u=FirstOfGroup(g)
		exitwhen u==null
		call GroupRemoveUnit(g,u)
		call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DAMAGED)
		call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
	endloop
	call KillGroup(g)
	set u=null
	set t=null
	set source=null
	set target=null
	set g=null
endfunction

function Func2729 takes nothing returns boolean
	if GetSpellAbilityId()=='A311' and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
		if IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==false or IsBlocked(GetSpellTargetUnit())==false then
			call Func2728()
		endif
	endif
	return false
endfunction

function Func2730 takes nothing returns boolean
	if GetSpellAbilityId()=='A311' and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and GetSpellTargetUnit()!=GetTriggerUnit()and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(LoadBoolean(HY,(GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))),(139)))then
		call InterruptUnit(GetTriggerUnit())
		call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n038'))
	endif
	return false
endfunction

function Func2731 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func2730))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2729))
	set t=null
endfunction

function Func2732 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit GI4
	local integer h=GetHandleId(source)
	local integer lvl=GetUnitAbilityLevel(source,'A2ZS')
	local integer G14=(LoadInteger(HY,(h),(279)))
	local unit GO4=(LoadUnitHandle(HY,(h),(1400+1)))
	local integer x=1
	local integer JGO=(LoadInteger(HY,(GetHandleId(source)),(830)))
	if JGO>0 then
		set GI4=CreateUnit(GetOwningPlayer(source),'o003',GetSpellTargetX(),GetSpellTargetY(),GetRandomReal(0,360))
		set G14=G14+1
		call SaveUnitHandle(HY,(h),(1400+G14),(GI4))
		call SetUnitAbilityLevel(GI4,'A0BF',lvl)
		if(G14>lvl*2)then
			call KillUnit(GO4)
			loop
				exitwhen x==G14
				call SaveUnitHandle(HY,(h),(1400+x),((LoadUnitHandle(HY,(h),(1400+x+1)))))
				set x=x+1
			endloop
			set G14=G14-1
		endif
		call SaveInteger(HY,(h),(279),(G14))
		call UnitRemoveAbility(source,integers163[JGO])
		set JGO=JGO-1
		call SaveInteger(HY,(GetHandleId(source)),(830),(JGO))
		call UnitAddAbilityPermanent(source,integers163[JGO])
	else
		call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0NY'))
	endif
	set source=null
	set GI4=null
	set GO4=null
endfunction

function Func2733 takes nothing returns boolean
	if GetSpellAbilityId()=='A2ZU' or GetSpellAbilityId()=='A2ZX' or GetSpellAbilityId()=='A2ZW' or GetSpellAbilityId()=='A2ZT' or GetSpellAbilityId()=='A2ZV' then
		call Func2732()
	endif
	return false
endfunction

function Func2734 takes unit G44 returns nothing
	local integer h=GetHandleId(G44)
	local integer lvl=GetUnitAbilityLevel(G44,'A2ZS')
	local integer G14=(LoadInteger(HY,(h),(279)))
	local integer x=1
	local unit GV2
	loop
		exitwhen x>G14
		set GV2=(LoadUnitHandle(HY,(h),(1400+x)))
		call SetUnitAbilityLevel(GV2,'A0BF',lvl)
		set x=x+1
	endloop
endfunction

function Func2735 takes nothing returns boolean
	return GetLearnedSkill()=='A2ZS' and IsUnitIllusion(GetTriggerUnit())==false
endfunction

function Func2736 takes nothing returns nothing
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit G44=(LoadUnitHandle(HY,(h),(366)))
	local integer G74=GetHandleId(Players_Hero[GetPlayerId(GetOwningPlayer(G44))])
	local integer G14=(LoadInteger(HY,(G74),(279)))
	local integer x=1
	local boolean G84=false
	local player G94
	local boolean GA4=false
	local integer lvl=GetUnitAbilityLevel(Players_Hero[GetPlayerId(GetOwningPlayer(G44))],'A2ZS')
	local integer GB4='A304'
	if lvl==2 then
		set GB4='A305'
	elseif lvl==3 then
		set GB4='A303'
	elseif lvl==4 then
		set GB4='A302'
	endif
	if G44==null then
		call FlushChildHashtable(HY,(GetHandleId(GetTriggeringTrigger())))
		call CleanTrigger(GetTriggeringTrigger())
	else
		if(LoadReal(HY,(GetHandleId(G44)),(785)))+6>GetTime()then
			set GA4=true
		endif
		loop
			exitwhen x>G14 or G84
			set G84=IsUnitInRange(G44,(LoadUnitHandle(HY,(G74),(1400+x))),900)
			set x=x+1
		endloop
		if G84==false then
			call UnitRemoveAbility(G44,'B01C')
		endif
		if IsUnitType(G44,UNIT_TYPE_HERO) then
			if GetUnitAbilityLevel(G44,'B01C')>0 then
				call UnitAddAbilityPermanent(G44,'A021')
				if IsSentinel(GetOwningPlayer(G44))then
					set G94=Scourges[0]
				else
					set G94=Sentinels[0]
				endif
				if GA4==false then
					call UnitAddAbilityPermanent(G44,'Aeth')
					call UnitAddAbilityPermanent(G44,GB4)
					call SetPlayerAbilityAvailable(GetOwningPlayer(G44),GB4,false)
					call SetUnitPathing(G44,false)
					if SafeX(GetUnitX(G44))!=GetUnitX(G44)or SafeY(GetUnitY(G44))!=GetUnitY(G44)then
						call SetUnitX(G44,SafeX(GetUnitX(G44)))
						call SetUnitY(G44,SafeY(GetUnitY(G44)))
					endif
				else
					call UnitRemoveAbility(G44,'Aeth')
					call UnitRemoveAbility(G44,'A304')
					call UnitRemoveAbility(G44,'A305')
					call UnitRemoveAbility(G44,'A303')
					call UnitRemoveAbility(G44,'A302')
					call UnitRemoveAbility(G44,'B0HI')
					call SetUnitPathing(G44,true)
					call KillTrees(GetUnitX(G44),GetUnitY(G44),50)
				endif
				set G94=null
			else
				call UnitRemoveAbility(G44,'A021')
				call UnitRemoveAbility(G44,'Aeth')
				call SetUnitPathing(G44,true)
				call UnitRemoveAbility(G44,'A304')
				call UnitRemoveAbility(G44,'A305')
				call UnitRemoveAbility(G44,'A303')
				call UnitRemoveAbility(G44,'A302')
				call UnitRemoveAbility(G44,'B0HI')
				call KillTrees(GetUnitX(G44),GetUnitY(G44),50)
			endif
		else
			if GetUnitAbilityLevel(G44,'B01C')>0 then
				call UnitAddAbilityPermanent(G44,'A29C')
				if GA4==false then
					call UnitAddAbilityPermanent(G44,'Aeth')
					call UnitAddAbilityPermanent(G44,GB4)
					call SetPlayerAbilityAvailable(GetOwningPlayer(G44),GB4,false)
					call SetUnitPathing(G44,false)
					if SafeX(GetUnitX(G44))!=GetUnitX(G44)or SafeY(GetUnitY(G44))!=GetUnitY(G44)then
						call SetUnitX(G44,SafeX(GetUnitX(G44)))
						call SetUnitY(G44,SafeY(GetUnitY(G44)))
					endif
				else
					call UnitRemoveAbility(G44,'Aeth')
					call UnitRemoveAbility(G44,'A304')
					call UnitRemoveAbility(G44,'A305')
					call UnitRemoveAbility(G44,'A303')
					call UnitRemoveAbility(G44,'A302')
					call UnitRemoveAbility(G44,'B0HI')
					call SetUnitPathing(G44,true)
				endif
			else
				call UnitRemoveAbility(G44,'A29C')
				call UnitRemoveAbility(G44,'Aeth')
				call UnitRemoveAbility(G44,'A304')
				call UnitRemoveAbility(G44,'A305')
				call UnitRemoveAbility(G44,'A303')
				call UnitRemoveAbility(G44,'A302')
				call UnitRemoveAbility(G44,'B0HI')
				call SetUnitPathing(G44,true)
			endif
		endif
	endif
	set G44=null
endfunction

function Func2737 takes unit G44 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.2,true)
	call TriggerAddAction(t,function Func2736)
	call SaveUnitHandle(HY,(h),(366),(G44))
	set t=null
endfunction

function Func2738 takes nothing returns boolean
	if GetUnitTypeId(GetSummonedUnit())=='n01E' or GetUnitTypeId(GetSummonedUnit())=='n019' then
		call Func2737(GetSummonedUnit())
	endif
	return false
endfunction

function Func2739 takes nothing returns nothing
	local unit PKI=GetTriggerUnit()
	local trigger t
	if(GetUnitAbilityLevel(PKI,'A2ZS')==1)then
		call Func2737(PKI)
	else
		call Func2734(PKI)
	endif
	set PKI=null
endfunction

function Func2740 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer JGO=(LoadInteger(HY,(GetHandleId(source)),(830)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local integer NQ3=GetUnitAbilityLevel(source,'A2ZS')
	if JGO<NQ3 then
		set Count=Count-1
		call SaveInteger(HY,(h),(34),(Count))
		if Count==0 then
			call UnitRemoveAbility(source,integers163[JGO])
			set Count=40
			call SaveInteger(HY,(h),(34),(Count))
			set JGO=JGO+1
			call SaveInteger(HY,(GetHandleId(source)),(830),(JGO))
			call UnitAddAbilityPermanent(source,integers163[JGO])
		endif
	endif
	set t=null
	set source=null
	return false
endfunction

function Func2741 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveInteger(HY,(GetHandleId(source)),(830),(1))
	call UnitAddAbilityPermanent(source,integers163[1])
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func2740))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(34),(40))
	set source=null
	set t=null
endfunction

function Func2742 takes nothing returns boolean
	if GetLearnedSkill()=='A2ZS' and IsUnitIllusion(GetTriggerUnit())==false then
		if GetUnitAbilityLevel(GetTriggerUnit(),'A2ZS')==1 then
			call Func2741()
		endif
	endif
	return false
endfunction

function Func2743 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2735))
	call TriggerAddAction(t,function Func2739)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func2738))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2733))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2742))
	set integers163[0]='A2ZU'
	set integers163[1]='A2ZX'
	set integers163[2]='A2ZW'
	set integers163[3]='A2ZT'
	set integers163[4]='A2ZV'
endfunction

function Func2744 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	if GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and Func0323(GetSpellAbilityId())and GetSpellTargetUnit()==Hero)then
		if IsDead(Hero)==false then
			call UnitRemoveAbility(Hero,'A0WR')
			call UnitRemoveAbility(Hero,'B01E')
		endif
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func2745 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	call TriggerRegisterTimerEvent(t,14,false)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2744))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl",Hero,"origin")))
	call UnitAddAbilityPermanent(Hero,'A0WR')
	call SetUnitAbilityLevel(Hero,'A0WR',GetUnitAbilityLevel(Hero,'A0WQ'))
	call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A0WR',false)
endfunction

function Func2746 takes nothing returns boolean
	if GetSpellAbilityId()=='A0WQ' then
		call Func2745()
	endif
	return false
endfunction

function Func2747 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2746))
	set t=null
endfunction

function Func2748 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEvalCount(t)>300 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetUnitAbilityLevel(target,'B0E7')>0 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call DamageTarget(source,target,1,GetUnitAbilityLevel(source,'A0BH')*75)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2749 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	call TriggerRegisterTimerEvent(t,0.01,true)
	call TriggerAddCondition(t,Condition(function Func2748))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	set t=null
	set source=null
	set target=null
endfunction

function Func2750 takes nothing returns boolean
	if GetSpellAbilityId()=='A0BH' then
		call Func2749()
	endif
	return false
endfunction

function Func2751 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2750))
	set t=null
endfunction

function Func2752 takes nothing returns boolean
	return GetSpellAbilityId()=='A055'
endfunction

function Func2753 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local real dmg=(LoadReal(HY,(h),(20)))
	local integer DC1=(LoadInteger(HY,(h),(188)))
	local texttag tt
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetEventDamageSource()==caster then
		set tt=CreateTextTag()
		call Func0163(I2S(DC1),DC1,target,0.03,127,127,255,255)
		call SetTextTagText(tt,"+"+I2S(R2I(dmg)),0.025)
		call SetTextTagPosUnit(tt,target,10)
		call SetTextTagColor(tt,255,0,0,255)
		call SetTextTagVelocity(tt,0,0.0355)
		call SetTextTagFadepoint(tt,2)
		call SetTextTagPermanent(tt,false)
		call SetTextTagLifespan(tt,2)
		if IsUnitVisible(target,LocalPlayer)or Func0100(LocalPlayer)then
			call SetTextTagVisibility(tt,true)
		else
			call SetTextTagVisibility(tt,false)
		endif
		call DamageTarget(source,target,1,dmg)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	set tt=null
	return false
endfunction

function Func2754 takes nothing returns nothing
	local integer lvl=GetUnitAbilityLevel(GetTriggerUnit(),'A055')
	local integer GN4
	local unit PKI=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local location BFO=GetUnitLoc(PKI)
	local real dmg
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit caster=CreateUnit(GetOwningPlayer(PKI),'e00E',GetUnitX(PKI),GetUnitY(PKI),0)
	if lvl==1 then
		set GN4=GetRandomInt(1,2)
		if GN4==1 then
			set dmg=GetRandomReal(100,200)
		elseif GN4==2 then
			set dmg=GetRandomReal(1,100)
		endif
	elseif lvl==2 then
		set GN4=GetRandomInt(1,3)
		if GN4==1 then
			set dmg=GetRandomReal(170,225)
		elseif GN4==2 then
			set dmg=GetRandomReal(110,170)
		elseif GN4==3 then
			set dmg=GetRandomReal(50,110)
		endif
	elseif lvl==3 then
		set GN4=GetRandomInt(1,4)
		if GN4==1 then
			set dmg=GetRandomReal(195,250)
		elseif GN4==2 then
			set dmg=GetRandomReal(155,195)
		elseif GN4==3 then
			set dmg=GetRandomReal(115,155)
		elseif GN4==4 then
			set dmg=GetRandomReal(75,115)
		endif
	elseif lvl==4 then
		set GN4=GetRandomInt(2,4)
		if GN4==2 then
			set dmg=GetRandomReal(225,275)
		elseif GN4==3 then
			set dmg=GetRandomReal(175,225)
		elseif GN4==4 then
			set dmg=GetRandomReal(100,175)
		endif
	endif
	call TriggerRegisterTimerEvent(t,10,false)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func2753))
	call SaveUnitHandle(HY,(h),(2),(PKI))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveReal(HY,(h),(20),((dmg)*1.0))
	if(lvl==4)then
	endif
	call SaveInteger(HY,(h),(188),(GN4))
	call UnitAddAbilityPermanent(caster,'A04U')
	call SetUnitAbilityLevel(caster,'A04U',GN4)
	call IssueTargetOrder(caster,"thunderbolt",target)
	set t=null
endfunction

function Func2755 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2752))
	call TriggerAddAction(t,function Func2754)
endfunction

function Func2756 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call Func0366(source,0)
	set t=null
	set source=null
	return false
endfunction

function Func2757 takes nothing returns boolean
	if GetUnitTypeId(GetFilterUnit())==GetUnitTypeId(unit330)and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(unit330)and IsUnitIllusion(GetFilterUnit()) then
		call SetUnitX(GetFilterUnit(),real333)
		call SetUnitY(GetFilterUnit(),real334)
		call IssueTargetOrder(GetFilterUnit(),"attack",unit331)
	endif
	return false
endfunction

function Func2758 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local real SourceX=GetUnitX(source)
	local real SourceY=GetUnitY(source)
	local real QJI=GetUnitX(target)
	local real QKI=GetUnitY(target)
	local real RM2=Func0159(SourceX,SourceY,QJI,QKI)
	local real QWI=Func0141(SourceX,SourceY,QJI,QKI)
	local real d=GetRandomReal(QWI*0.3,QWI*0.8)
	local integer lvl=GetUnitAbilityLevel(source,'A0RW')
	local real IV1=SourceX+d*Cos(RM2*bj_DEGTORAD)
	local real IW1=SourceY+d*Sin(RM2*bj_DEGTORAD)
	local unit u=CreateUnit(GetOwningPlayer(source),integer504,IV1,IW1,0)
	local unit u2
	local group g
	local trigger t
	local integer h
	call SetUnitX(source,IV1)
	call SetUnitY(source,IW1)
	call SetUnitFacing(source,-RM2)
	call PlaySoundOnUnitBJ(sound002,100,target)
	if IsUnitEnemy(target,GetOwningPlayer(source))and GetUnitTypeId(target)!='n00L' then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,1.2,false)
		call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
		call TriggerAddCondition(t,Condition(function Func2756))
		call SaveUnitHandle(HY,(h),(2),(source))
		set t=null
		call Func0366(source,40+20*lvl)
		set IV1=SourceX+(d-25)*Cos(RM2*bj_DEGTORAD)
		set IW1=SourceY+(d-25)*Sin(RM2*bj_DEGTORAD)
		call AddTimedKeyToUnit(target,4405,1)
		call SetUnitX(target,IV1)
		call SetUnitY(target,IW1)
		call SetUnitFacing(target,RM2)
		call IssueTargetOrder(source,"attack",target)
		set g=GetAvailableGroup()
		set real333=IV1
		set real334=IW1
		set unit330=source
		set unit331=target
		call GroupEnumUnitsInRange(g,SourceX,SourceY,1400,Condition(function Func2757))
		call KillGroup(g)
		set u2=CreateUnit(GetOwningPlayer(source),integer504,IV1,IW1,0)
		call KillUnit(u2)
	endif
	call KillUnit(u)
	set source=null
	set target=null
	set u=null
	set u2=null
	set g=null
endfunction

function Func2759 takes nothing returns boolean
	if GetSpellAbilityId()=='A0RW' then
		call Func2758()
	endif
	return false
endfunction

function Func2760 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit u=CreateUnit(GetOwningPlayer(Hero),integer504,GetUnitX(Hero),GetUnitY(Hero),0)
	call PlaySoundOnUnitBJ(sound002,100,Hero)
	call KillUnit(u)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set u=null
	set t=null
	set Hero=null
	return false
endfunction

function Func2761 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerAddCondition(t,Condition(function Func2760))
	call TriggerRegisterTimerEvent(t,0.3,false)
	call SaveUnitHandle(HY,(h),(14),(GetTriggerUnit()))
	set t=null
endfunction

function Func2762 takes nothing returns boolean
	if GetSpellAbilityId()=='A0RW' then
		call Func2761()
	endif
	return false
endfunction

function Func2763 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2759))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func2762))
	set t=null
endfunction

function Func2764 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call UnitAddAbilityPermanent(caster,'A2X7')
	call IssueTargetOrderById(caster,ORDER_wandillusion,source)
	set t=null
	set source=null
	return false
endfunction

function Func2765 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t
	local integer h
	if GetRandomInt(0,1)==0 then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,0.65,false)
		call TriggerAddCondition(t,Condition(function Func2764))
		call SaveUnitHandle(HY,(h),(2),(source))
	endif
	set t=null
	set source=null
endfunction

function Func2766 takes nothing returns boolean
	if GetSpellAbilityId()=='A03O' then
		call Func2765()
	endif
	return false
endfunction

function Func2767 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2766))
	set t=null
endfunction

function Func2768 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	if GetUnitAbilityLevel(source,'AHfa')==0 then
		call UnitAddAbilityPermanent(source,'AHfa')
		if GetUnitAbilityLevel(source,'BOwk')>0 then
			call UnitRemoveAbility(source,'BOwk')
		endif
	endif
	call SetUnitAbilityLevel(source,'AHfa',GetUnitAbilityLevel(source,'A2UO'))
	set source=null
endfunction

function Func2769 takes nothing returns boolean
	if GetLearnedSkill()=='A2UO' and IsUnitIllusion(GetTriggerUnit())==false then
		call Func2768()
	endif
	return false
endfunction

function Func2770 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2769))
	set t=null
endfunction

function Func2771 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real H54=GetUnitState(source,UNIT_STATE_LIFE)
	call UnitRemoveAbility(source,'A1R0')
	call UnitRemoveAbility(source,'B0D5')
	call Func0366(source,0)
	call Func0368(source,0)
	call SetUnitState(source,UNIT_STATE_LIFE,H54)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func2772 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A04Q')
	local real H74=GetUnitState(target,UNIT_STATE_LIFE)
	local real H54=GetUnitState(source,UNIT_STATE_LIFE)
	local integer H84=R2I((0.035+0.015*lvl)*H74)
	local integer H94=R2I((0.35+0.15*lvl)*H74)
	call Func0366(source,H84)
	call Func0368(source,H94)
	call UnitAddAbilityPermanent(source,'A1R0')
	call SetUnitState(target,UNIT_STATE_LIFE,1)
	call DamageTarget(source,target,2,20)
	call DamageTarget(source,target,1,20)
	call DamageTarget(source,target,3,20)
	call SetUnitState(source,UNIT_STATE_LIFE,H54+H94)
	call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",target,"chest"))
	call SaveUnitHandle(HY,(h),(2),(source))
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerRegisterTimerEvent(t,35,false)
	call TriggerAddCondition(t,Condition(function Func2771))
	set source=null
	set target=null
	set t=null
endfunction

function Func2773 takes nothing returns boolean
	if GetSpellAbilityId()=='A04Q' and GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)>0.5 and Func0089(GetSpellTargetUnit())==false then
		call Func2772()
	endif
	return false
endfunction

function Func2774 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2773))
	set t=null
endfunction

function Func2775 takes integer x returns boolean
	return x=='A06X' or x=='A0AQ' or x=='A14O' or x=='A0NE' or x=='A14O' or x=='A1C0' or x=='A0SB'
endfunction

function Func2776 takes nothing returns boolean
	return(GetLearnedSkill()=='A0IF')and(IsUnitIllusion(GetTriggerUnit())==false)
endfunction

function Func2777 takes nothing returns boolean
	return GetUnitAbilityLevel(GetTriggerUnit(),'B06X')>0 and(Func0074(GetSpellAbilityId())or GetSpellAbilityId()=='A0OI')and Func2775(GetSpellAbilityId())==false and Func0409(GetSpellAbilityId())==false
endfunction

function Func2778 takes nothing returns nothing
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit PKI=GetTriggerUnit()
	local unit HF4=(LoadUnitHandle(HY,(h),(254)))
	local integer AK3=GetUnitAbilityLevel(HF4,'A0IF')
	if GetRandomInt(1,100)<=40 and Func0138(PKI,HF4,1400)then
		call SetUnitState(PKI,UNIT_STATE_MANA,GetUnitState(PKI,UNIT_STATE_MANA)+(0.05+0.05*AK3)*GetUnitState(PKI,UNIT_STATE_MAX_MANA))
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl",PKI,"overhead"))
	endif
endfunction

function Func2779 takes nothing returns nothing
	local unit PKI=GetTriggerUnit()
	local integer AK3=GetUnitAbilityLevel(PKI,'A0IF')
	local trigger t
	if(AK3==1)then
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
		call TriggerAddCondition(t,Condition(function Func2777))
		call TriggerAddAction(t,function Func2778)
		call SaveUnitHandle(HY,(GetHandleId(t)),(254),(PKI))
	endif
	if(AK3==1)then
		call UnitAddAbilityPermanent(PKI,'A0OL')
	elseif(AK3==2)then
		call UnitAddAbilityPermanent(PKI,'A0OM')
	elseif(AK3==3)then
		call UnitAddAbilityPermanent(PKI,'A0ON')
	elseif(AK3==4)then
		call UnitAddAbilityPermanent(PKI,'A0OH')
	endif
endfunction

function Func2780 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2776))
	call TriggerAddAction(t,function Func2779)
endfunction

function Func2781 takes nothing returns boolean
	local real d
	if GetUnitAbilityLevel(GetTriggerUnit(),'B06Y')>0 and GetUnitAbilityLevel(GetEventDamageSource(),'A0OI')>0 and(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(2)))==GetEventDamageSource()then
		call UnitRemoveAbility(GetTriggerUnit(),'B06Y')
		set d=0.01*(5+GetUnitAbilityLevel(GetEventDamageSource(),'A0OI'))*(GetUnitState(GetEventDamageSource(),UNIT_STATE_MANA)+100)
		if(IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED) or IsUnitIllusion(GetTriggerUnit()))and GetUnitTypeId(GetTriggerUnit())!='n004' and GetUnitTypeId(GetTriggerUnit())!='n018' and GetUnitTypeId(GetTriggerUnit())!='n01C' and GetUnitTypeId(GetTriggerUnit())!='n01G' and GetUnitTypeId(GetTriggerUnit())!='n00U' and GetUnitTypeId(GetTriggerUnit())!='n00Y' and GetUnitTypeId(GetTriggerUnit())!='n00Z' then
			set d=d+100*GetUnitAbilityLevel(GetEventDamageSource(),'A0OI')
		endif
		call Func0163("+"+I2S(R2I(d)),1,GetTriggerUnit(),0.023,191,64,255,216)
		if(GetRandomInt(1,100)<=GetUnitAbilityLevel(GetEventDamageSource(),'A0IF')*10)and((LoadBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(264)))==false)then
			call SetUnitState(GetEventDamageSource(),UNIT_STATE_MANA,GetUnitState(GetEventDamageSource(),UNIT_STATE_MANA)+0.25*GetUnitState(GetEventDamageSource(),UNIT_STATE_MAX_MANA))
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl",GetEventDamageSource(),"overhead"))
		endif
		call DisableTrigger(GetTriggeringTrigger())
		call DamageTarget(GetEventDamageSource(),GetTriggerUnit(),3,d)
		call FlushChildHashtable(HY,(GetHandleId(GetTriggeringTrigger())))
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func2782 takes nothing returns nothing
	local trigger t
	local unit target
	local unit source
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		set target=GetSpellTargetUnit()
		set source=GetTriggerUnit()
	else
		set target=GetTriggerUnit()
		set source=GetAttacker()
	endif
	if IsUnitIllusion(source)==false then
		set t=CreateTrigger()
		if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
			call SaveBoolean(HY,(GetHandleId(t)),(264),(true))
		else
			call SaveBoolean(HY,(GetHandleId(t)),(264),(false))
		endif
		call SaveUnitHandle(HY,(GetHandleId(t)),(2),(source))
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
		call TriggerAddCondition(t,Condition(function Func2781))
	endif
	set t=null
	set target=null
	set source=null
endfunction

function Func2783 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
		if GetUnitAbilityLevel(GetAttacker(),'A0OI')>0 and(LoadBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(263)))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(14)))then
			call Func2782()
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
		if(GetIssuedOrderId()==OrderId("poisonarrows"))then
			call SaveBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(263),(true))
		elseif(GetIssuedOrderId()==OrderId("unpoisonarrows"))then
			call SaveBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(263),(false))
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A0OI' then
		call Func2782()
	endif
	return false
endfunction

function Func2784 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_SPELL_EFFECT)
	call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_ORDER)
	call TriggerAddCondition(t,Condition(function Func2783))
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(GetTriggerUnit()))
	set t=null
endfunction

function Func2785 takes nothing returns boolean
	if GetLearnedSkill()=='A0OI' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0OI')==1 then
		call Func2784()
	endif
	return false
endfunction

function Func2786 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2785))
	set t=null
endfunction

function Func2787 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer HJ4=(LoadInteger(HY,(h),(262)))
	call SetHeroInt(target,GetHeroInt(target,false)+HJ4,true)
	call SetHeroInt(source,GetHeroInt(source,false)-HJ4,true)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2788 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call SaveInteger(HY,(GetHandleId((target))),((4303)),(2))
	call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
	call SetUnitInvulnerable(target,false)
	call PauseUnit(target,false)
	call ShowUnit(target,true)
	call ClearSelectionForPlayer(GetOwningPlayer(target))
	call SelectUnitAddForPlayer(target,GetOwningPlayer(target))
	call RemoveSavedHandle(HY,(GetHandleId(source)),(748))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2789 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A0OJ')
	local integer HJ4=Func0130(GetHeroInt(target,false),1+lvl*3)
	local trigger t
	local integer h
	local unit caster=CreateUnit(GetOwningPlayer(target),'o019',GetUnitX(target),GetUnitY(target),0)
	call UnitApplyTimedLife(caster,'BTLF',(lvl+1))
	if(IsUnitEnemy(target,GetOwningPlayer(source)))==false or IsBlocked(GetSpellTargetUnit())==false then
		call SaveInteger(HY,(GetHandleId((target))),((4303)),(1))
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SelectUnitRemoveForPlayer(target,GetOwningPlayer(target))
		call SetUnitInvulnerable(target,true)
		call PauseUnit(target,true)
		call ShowUnit(target,false)
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffect("Abilities\\Spells\\Demon\\DarkConversion\\ZombifyTarget.mdl",GetUnitX(target),GetUnitY(target))))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call TriggerRegisterTimerEvent(t,lvl,false)
		call TriggerAddCondition(t,Condition(function Func2788))
		if(IsUnitEnemy(target,GetOwningPlayer(source))) then
			call SaveUnitHandle(HY,(GetHandleId(source)),(748),(target))
			call SetHeroInt(target,GetHeroInt(target,false)-HJ4,true)
			call SetHeroInt(source,GetHeroInt(source,false)+HJ4,true)
			set t=CreateTrigger()
			set h=GetHandleId(t)
			call SaveUnitHandle(HY,(h),(2),(source))
			call SaveUnitHandle(HY,(h),(17),(target))
			call SaveInteger(HY,(h),(262),(HJ4))
			call TriggerRegisterTimerEvent(t,50,false)
			call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
			call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
			call TriggerAddCondition(t,Condition(function Func2787))
		endif
	endif
	set source=null
	set target=null
	set t=null
endfunction

function Func2790 takes nothing returns boolean
	if GetSpellAbilityId()=='A0OJ' then
		call Func2789()
	endif
	return false
endfunction

function Func2791 takes nothing returns nothing
	if IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(LoadBoolean(HY,(GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))),(139)))and GetSpellTargetUnit()!=GetTriggerUnit()then
		call InterruptUnit(GetTriggerUnit())
		call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n038'))
	endif
endfunction

function Func2792 takes nothing returns boolean
	if GetSpellAbilityId()=='A0OJ' then
		call Func2791()
	endif
	return false
endfunction

function Func2793 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2790))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func2792))
	set t=null
endfunction

function Func2794 takes nothing returns boolean
	return GetSpellAbilityId()=='A0OK' or GetSpellAbilityId()=='A1VW'
endfunction

function Func2795 takes nothing returns nothing
	local unit target=GetEnumUnit()
	local unit HF4=GetTriggerUnit()
	local integer HP4=GetHeroInt(HF4,true)-GetHeroInt(target,true)
	local integer array HQ4
	local integer lvl=GetUnitAbilityLevel(HF4,'A0OK')
	local integer HU4=7+1*lvl
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(HF4,'A1VW')
		set HU4=7+1*lvl+1
	endif
	set HQ4[1]=10
	set HQ4[2]=30
	set HQ4[3]=50
	if(HP4>0)then
		call UnitDamageTarget(HF4,target,HP4*HU4,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
		call Func0163(I2S(R2I(HP4*HU4)),3,target,0.023,216,30,30,216)
		if(HP4<HQ4[lvl]or GetUnitAbilityLevel(HF4,'A1VW')>0)then
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl",target,"overhead"))
			call SetUnitState(target,UNIT_STATE_MANA,GetUnitState(target,UNIT_STATE_MANA)*.25)
		endif
	endif
endfunction

function Func2796 takes nothing returns boolean
	if(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))then
		if(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))then
			return true
		endif
	endif
	return false
endfunction

function Func2797 takes nothing returns nothing
	local unit PKI=GetTriggerUnit()
	local integer AK3=GetUnitAbilityLevel(PKI,'A0OK')
	local real x=GetLocationX(GetSpellTargetLoc())
	local real y=GetLocationY(GetSpellTargetLoc())
	local group Z51=GetAvailableGroup()
	local integer CM_Column=0
	local unit Z14=(LoadUnitHandle(HY,(GetHandleId(PKI)),(748)))
	if AK3==0 then
		set AK3=GetUnitAbilityLevel(PKI,'A1VW')
	endif
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl",x,y))
	loop
		exitwhen CM_Column>=360
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl",x+(200+AK3*50)*Cos(CM_Column*bj_DEGTORAD),y+(200+AK3*50)*Sin(CM_Column*bj_DEGTORAD)))
		set CM_Column=CM_Column+45
	endloop
	call GroupEnumUnitsInRange(Z51,x,y,300+AK3*100,Condition(function Func2796))
	if Z14!=null and Func0141(x,y,GetUnitX(Z14),GetUnitY(Z14))<(300+AK3*100)then
		call SetUnitInvulnerable(Z14,false)
		call GroupAddUnit(Z51,Z14)
	endif
	call ForGroup(Z51,function Func2795)
	if Z14!=null and IsDead(Z14)==false then
		call SetUnitInvulnerable(Z14,true)
	endif
	call KillGroup(Z51)
endfunction

function Func2798 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2794))
	call TriggerAddAction(t,function Func2797)
endfunction

function Func2799 takes nothing returns nothing
	call DamageTarget(unit332,GetEnumUnit(),1,real335)
endfunction

function Func2800 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group g
	local integer Count=(LoadInteger(HY,(h),(34)))
	if GetTriggerEvalCount(t)>200 or GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEvalCount(t)>1 and GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A0QG' and GetSpellTargetUnit()==target)then
		call DestroyEffect((LoadEffectHandle(HY,(h),(31))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
		set g=GetAvailableGroup()
		set tt_unit1=source
		set unit332=source
		set real335=1.0+2.0*GetUnitAbilityLevel(source,'A0QG')
		call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),275,Condition(function DefaultEnemyFilterWithAncients))
		call GroupRemoveUnit(g,target)
		call ForGroup(g,function Func2799)
		call KillGroup(g)
		set target=null
	endif
	set t=null
	set source=null
	set g=null
	return false
endfunction

function Func2801 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local effect fx=AddSpecialEffectTarget("war3mapImported\\NewSoulArmor.mdx",GetSpellTargetUnit(),"chest")
	local integer h=GetHandleId(t)
	call Func0174(sound015,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))
	call SaveUnitHandle(HY,(h),(2),(GetTriggerUnit()))
	call SaveUnitHandle(HY,(h),(17),(GetSpellTargetUnit()))
	call SaveEffectHandle(HY,(h),(31),(fx))
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerRegisterUnitEvent(t,GetSpellTargetUnit(),EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2800))
	set t=null
	set fx=null
endfunction

function Func2802 takes nothing returns boolean
	if GetSpellAbilityId()=='A0QG' then
		call Func2801()
	endif
	return false
endfunction

function Func2803 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2802))
	set t=null
endfunction

function Func2804 takes unit u returns boolean
	return GetUnitAbilityLevel(u,'B02J')>0 or GetUnitAbilityLevel(u,'BUsp')>0 or GetUnitAbilityLevel(u,'Bust')>0 or Func0101(u)
endfunction

function Func2805 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local integer lvl
	local unit source
	local unit target
	local real x1
	local real y1
	local real d
	local real a
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set target=(LoadUnitHandle(HY,(h),(17)))
		set d=(LoadReal(HY,(h),(138)))
		set x=(LoadReal(HY,(h),(6)))
		set y=(LoadReal(HY,(h),(7)))
		set a=(LoadReal(HY,(h),(137)))
		set x1=GetUnitX(target)+d/12*Cos(a)
		set y1=GetUnitY(target)+d/12*Sin(a)
		if IsUnitType(target,UNIT_TYPE_HERO) then
			call SetUnitPosition(target,x1,y1)
		else
			call SetUnitX(target,x1)
			call SetUnitY(target,y1)
		endif
		if GetTriggerEvalCount(t)>19 then
			set source=(LoadUnitHandle(HY,(h),(2)))
			set lvl=(LoadInteger(HY,(h),(5)))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call DamageTarget(source,target,1,lvl*40)
			set source=null
		endif
		set target=null
	endif
	set t=null
	return false
endfunction

function Func2806 takes nothing returns nothing
	local trigger t
	local integer h
	local unit source=GetTriggerUnit()
	local unit target=GetEnumUnit()
	if Func2804(target)==false then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
		call TriggerRegisterTimerEvent(t,0.025,true)
		call TriggerAddCondition(t,Condition(function Func2805))
		call SaveReal(HY,(h),(6),((real336)*1.0))
		call SaveReal(HY,(h),(7),((real337)*1.0))
		call SaveReal(HY,(h),(138),((Func0141(real336,real337,GetUnitX(target),GetUnitY(target)))*1.0))
		call SaveReal(HY,(h),(137),((Atan2(real337-GetUnitY(target),real336-GetUnitX(target)))*1.0))
		call SaveInteger(HY,(h),(5),(integer505))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
	endif
	set t=null
	set source=null
	set target=null
endfunction

function Func2807 takes nothing returns nothing
	local group g=GetAvailableGroup()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local integer lvl=GetUnitAbilityLevel(GetTriggerUnit(),'A0QE')
	local real r=150+100*lvl+25
	set tt_unit1=GetTriggerUnit()
	call Func0174(sound035,x,y)
	call DestroyEffect(AddSpecialEffect("war3mapImported\\Star Aura.mdx",x,y))
	call GroupEnumUnitsInRange(g,x,y,r,Condition(function Func0280))
	set real336=x
	set real337=y
	set integer505=lvl
	call ForGroup(g,function Func2806)
	call KillTrees(x,y,200)
	call RemoveLocation(l)
	call KillGroup(g)
	set l=null
	set g=null
endfunction

function Func2808 takes nothing returns boolean
	if GetSpellAbilityId()=='A0QE' then
		call Func2807()
	endif
	return false
endfunction

function Func2809 takes nothing returns nothing
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	if Func0171(x,y)==false or(IsPointInRegion(region006,((x)*1.0),((y)*1.0)))then
		call InterruptUnit(GetTriggerUnit())
		call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n03K'))
	endif
	call RemoveLocation(l)
	set l=null
endfunction

function Func2810 takes nothing returns boolean
	if GetSpellAbilityId()=='A0QE' then
		call Func2809()
	endif
	return false
endfunction

function Func2811 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2808))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func2810))
	set t=null
endfunction

function Func2812 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call UnitRemoveAbility(target,'B07W')
	call UnitRemoveAbility(target,'Bblo')
	call UnitRemoveAbility(target,'B062')
	call UnitRemoveAbility(target,'B065')
	call UnitRemoveAbility(target,'Bcrs')
	call UnitRemoveAbility(target,'B016')
	call UnitRemoveAbility(target,'B05R')
	return false
endfunction

function Func2813 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,GetUnitAbilityLevel(GetTriggerUnit(),'A0R7')*1.5+1.5,false)
	call TriggerAddCondition(t,Condition(function Func2812))
	call SaveUnitHandle(HY,(GetHandleId(t)),(17),(GetSpellTargetUnit()))
	call Func0174(sound030,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))
	call DestroyEffect(AddSpecialEffectTarget("effects\\Surge.mdx",GetSpellTargetUnit(),"origin"))
endfunction

function Func2814 takes nothing returns boolean
	if GetSpellAbilityId()=='A0R7' then
		call Func2813()
	endif
	return false
endfunction

function Func2815 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2814))
	set t=null
endfunction

function Func2816 takes boolean CK3 returns boolean
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit ZG4=(LoadUnitHandle(HY,(h),(259)))
	local unit target=GetTriggerUnit()
	local unit ZH4=CreateUnit(GetOwningPlayer(ZG4),'e01S',GetUnitX(target),GetUnitY(target),0)
	local unit Hero=Players_Hero[GetPlayerId(GetOwningPlayer(ZG4))]
	local integer lvl=GetUnitAbilityLevel(Hero,'A0QK')
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(Hero,'A21Q')
	endif
	call SetUnitAbilityLevel(ZG4,'A0QL',lvl)
	set real338=GetUnitX(target)
	set real339=GetUnitY(target)
	set unit333=target
	if CK3 then
		call SetUnitAbilityLevel(ZG4,'A0QL',3+lvl)
		call IssueTargetOrderById(ZG4,ORDER_wandillusion,target)
		call DamageTarget(ZG4,target,1,150)
	else
		call IssueTargetOrderById(ZG4,ORDER_wandillusion,target)
		call DamageTarget(ZG4,target,1,150)
	endif
	call UnitApplyTimedLife(ZH4,'BTLF',0.5)
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(target),GetUnitY(target)))
	set ZG4=null
	set target=null
	return false
endfunction

function Func2817 takes nothing returns boolean
	local group g
	if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer((LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(259)))))and Func0406(GetUnitTypeId(GetFilterUnit()))==false then
		set g=(LoadGroupHandle(HY,(GetHandleId(GetTriggeringTrigger())),(257)))
		if IsUnitInGroup(GetFilterUnit(),g)==false then
			call GroupAddUnit(g,GetFilterUnit())
			call Func2816(false)
		endif
	endif
	set g=null
	return false
endfunction

function Func2818 takes nothing returns boolean
	local group g
	if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer((LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(259)))))and Func0406(GetUnitTypeId(GetFilterUnit()))==false then
		set g=(LoadGroupHandle(HY,(GetHandleId(GetTriggeringTrigger())),(257)))
		if IsUnitInGroup(GetFilterUnit(),g)==false then
			call GroupAddUnit(g,GetFilterUnit())
			call Func2816(true)
		endif
	endif
	set g=null
	return false
endfunction

function WallOfReplica_FindSource takes nothing returns nothing
	if GetPlayerId(GetOwningPlayer(GetEnumUnit()))==integer022 then
		call GroupAddUnit(group002,GetEnumUnit())
	endif
endfunction

function Func2819 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	call GroupRemoveUnit((LoadGroupHandle(HY,(h),(257))),(LoadUnitHandle(HY,(h),(261))))
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
	call FlushChildHashtable(HY,(h))
	call DisableTrigger(t)
	set t=null
	return false
endfunction

function Func2820 takes nothing returns boolean
	local unit ZG4=GetSummoningUnit()
	local unit IYO=GetSummonedUnit()
	local integer h=GetHandleId(ZG4)
	local integer ZY4=(LoadInteger(HY,(h),(260)))
	local trigger t=CreateTrigger()
	call SetUnitVertexColor(IYO,255,255,255,100)
	call TriggerRegisterUnitEvent(t,IYO,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2819))
	call SaveGroupHandle(HY,(GetHandleId(t)),(257),((LoadGroupHandle(HY,(h),(257)))))
	call SaveUnitHandle(HY,(GetHandleId(t)),(261),(unit333))
	set ZY4=ZY4+1
	call SaveInteger(HY,(h),(260),(ZY4))
	call SaveInteger(HY,(h),(2800+ZY4),(Func0021(IYO)))
	call SaveTriggerHandle(HY,(h),(2900+ZY4),(t))
	call SetUnitX(IYO,real338)
	call SetUnitY(IYO,real339)
	set ZG4=null
	set IYO=null
	return false
endfunction

function Func2821 takes nothing returns nothing
	call RemoveUnit(GetEnumUnit())
endfunction

function Func2822 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer DW3=GetHandleId(t)
	local trigger ZL4=(LoadTriggerHandle(HY,(DW3),(255)))
	local integer KAO=GetHandleId(ZL4)
	local trigger ZM4=(LoadTriggerHandle(HY,(KAO),(256)))
	local group ZN4=(LoadGroupHandle(HY,(KAO),(257)))
	local group ZS4=(LoadGroupHandle(HY,(KAO),(258)))
	local unit ZG4=(LoadUnitHandle(HY,(KAO),(259)))
	local integer ZT4=GetHandleId(ZG4)
	local integer ZY4=(LoadInteger(HY,(ZT4),(260)))
	local integer ZR4
	local integer i
	local unit u
	call ForGroup(ZS4,function Func2821)
	set i=1
	loop
		exitwhen i>ZY4
		set ZR4=(LoadInteger(HY,(ZT4),(2800+i)))
		set u=UnitAsInteger_Load(ZR4)
		call FlushChildHashtable(HY,(GetHandleId((LoadTriggerHandle(HY,(ZT4),(2900+i))))))
		call CleanTrigger((LoadTriggerHandle(HY,(ZT4),(2900+i))))
		if IsUnitIllusion(u)then
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(u),GetUnitY(u)))
			call RemoveUnit(u)
			call UnitAsInteger_Clear(ZR4)
		endif
		set i=i+1
	endloop
	call FlushChildHashtable(HY,(DW3))
	call FlushChildHashtable(HY,(KAO))
	call FlushChildHashtable(HY,(ZT4))
	call RemoveUnit(ZG4)
	call KillGroup(ZN4)
	call KillGroup(ZS4)
	call CleanTrigger(ZL4)
	call CleanTrigger(ZM4)
	call CleanTrigger(t)
	set t=null
	set ZL4=null
	set ZM4=null
	set ZN4=null
	set ZS4=null
	set ZG4=null
	set u=null
	return false
endfunction

function Func2823 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local real ZQ4=GetUnitFacing(Hero)-45
	local unit ZG4=CreateUnit(GetOwningPlayer(Hero),'h00O',x,y,ZQ4)
	local unit u
	local real UJ2
	local real UK2
	local integer i
	local real CM_Column
	local trigger t=CreateTrigger()
	local group g1=GetAvailableGroup()
	local integer h=GetHandleId(t)
	local group g2=GetAvailableGroup()
	local trigger ZL4=t
	local integer lvl=GetUnitAbilityLevel(Hero,'A0QK')
	local boolean CK3=false
	if lvl==0 then
		set CK3=true
		set lvl=GetUnitAbilityLevel(Hero,'A21Q')
	endif
	call SetUnitAbilityLevel(ZG4,'A0QL',lvl)
	call Func0174(sound036,x,y)
	call SaveGroupHandle(HY,(h),(257),(g1))
	call SaveGroupHandle(HY,(GetHandleId(ZG4)),(257),(g1))
	call SaveGroupHandle(HY,(h),(258),(g2))
	call SaveUnitHandle(HY,(h),(259),(ZG4))
	call SaveInteger(HY,(GetHandleId(ZG4)),(260),(0))
	set i=0
	loop
		exitwhen i>39
		set UJ2=x+(500-25*i)*Cos((ZQ4-45)*bj_DEGTORAD)
		set UK2=y+(500-25*i)*Sin((ZQ4-45)*bj_DEGTORAD)
		set u=CreateUnit(GetOwningPlayer(Hero),'h00P',UJ2,UK2,ZQ4)
		call SetUnitPathing(u,false)
		call SetUnitX(u,UJ2)
		call SetUnitY(u,UK2)
		call GroupAddUnit(g2,u)
		call TriggerRegisterUnitInRange(t,u,17,Condition(function ReturnTrue))
		set i=i+1
	endloop
	if CK3 then
		call TriggerAddCondition(t,Condition(function Func2818))
	else
		call TriggerAddCondition(t,Condition(function Func2817))
	endif
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,ZG4,EVENT_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func2820))
	call SaveTriggerHandle(HY,(h),(256),(t))
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,15*lvl,false)
	call TriggerAddCondition(t,Condition(function Func2822))
	call SaveTriggerHandle(HY,(GetHandleId(t)),(255),(ZL4))
	call RemoveLocation(l)
	set Hero=null
	set l=null
	set u=null
	set t=null
	set ZL4=null
	set g1=null
	set g2=null
	set ZG4=null
endfunction

function Func2824 takes nothing returns boolean
	if GetSpellAbilityId()=='A0QK' or GetSpellAbilityId()=='A21Q' then
		call Func2823()
	endif
	return false
endfunction

function Func2825 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2824))
	set t=null
endfunction

function Func2826 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer VI4=(LoadInteger(HY,(h),(29)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		if(LoadBoolean(HY,(h),(276)))==false and GetTriggerUnit()==(LoadUnitHandle(HY,(h),(2)))then
			call SaveBoolean(HY,(h),(276),(true))
			call SetHeroStr((LoadUnitHandle(HY,(h),(2))),GetHeroStr((LoadUnitHandle(HY,(h),(2))),false)-VI4,true)
		elseif(LoadBoolean(HY,(h),(277)))==false and GetTriggerUnit()==(LoadUnitHandle(HY,(h),(17)))then
			call SaveBoolean(HY,(h),(277),(true))
			call SetHeroStr((LoadUnitHandle(HY,(h),(17))),GetHeroStr((LoadUnitHandle(HY,(h),(17))),false)+VI4,true)
		endif
	else
		if(LoadBoolean(HY,(h),(276)))==false then
			call SaveBoolean(HY,(h),(276),(true))
			call SetHeroStr((LoadUnitHandle(HY,(h),(2))),GetHeroStr((LoadUnitHandle(HY,(h),(2))),false)-VI4,true)
		endif
		if(LoadBoolean(HY,(h),(277)))==false then
			call SaveBoolean(HY,(h),(277),(true))
			call SetHeroStr((LoadUnitHandle(HY,(h),(17))),GetHeroStr((LoadUnitHandle(HY,(h),(17))),false)+VI4,true)
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	return false
endfunction

function Func2827 takes nothing returns nothing
	local unit source=unit334
	local unit target=GetEnumUnit()
	local integer VI4
	local integer lvl=integer506
	local trigger t
	local integer h
	if IsUnitType(target,UNIT_TYPE_HERO) and Func0406(GetUnitTypeId(target))==false then
		set VI4=IMinBJ(GetHeroStr(target,false)-1,4)
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SetHeroStr(source,GetHeroStr(source,false)+VI4,true)
		call SetHeroStr(target,GetHeroStr(target,false)-VI4,true)
		call TriggerRegisterTimerEvent(t,40,false)
		call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
		call TriggerAddCondition(t,Condition(function Func2826))
		call SaveBoolean(HY,(h),(276),(false))
		call SaveBoolean(HY,(h),(277),(false))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveInteger(HY,(h),(29),(VI4))
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",source,"origin"))
	endif
	call DamageTarget(source,target,1,40*lvl-20)
	set source=null
	set target=null
	set t=null
endfunction

function Func2828 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local group g=GetAvailableGroup()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A15S')
	local unit caster=CreateUnit(GetOwningPlayer(source),'h07J',x,y,0)
	call DestroyEffect(AddSpecialEffect("effects\\DecayGreen_Groundonly_1.mdx",x,y))
	call RemoveLocation(l)
	set tt_unit1=source
	set unit334=source
	set integer506=lvl
	call GroupEnumUnitsInRange(g,x,y,325+25,Condition(function Func0280))
	call ForGroup(g,function Func2827)
	call KillGroup(g)
	call KillUnit(caster)
	set source=null
	set l=null
	set g=null
	set t=null
	set caster=null
endfunction

function Func2829 takes nothing returns boolean
	if GetSpellAbilityId()=='A15S' then
		call Func2828()
	endif
	return false
endfunction

function Func2830 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2829))
	set t=null
endfunction

function Func2831 takes nothing returns nothing
	if integer507<=integer508 then
		set integer507=integer507+1
		call GroupAddUnit(group020,GetEnumUnit())
	endif
endfunction

function Func2832 takes unit source,unit target returns nothing
	call Func0161("SPLK",GetUnitX(source),GetUnitY(source),GetUnitX(target),GetUnitY(target),0.1,0.6,0.44,.9,0.6)
endfunction

function Func2833 takes nothing returns nothing
	local integer dmg=14+4*GetUnitAbilityLevel(unit335,'A0R5')
	call SetUnitState(unit336,UNIT_STATE_LIFE,GetUnitState(unit336,UNIT_STATE_LIFE)+dmg)
	if GetUnitTypeId(GetEnumUnit())!='n0F5' then
		call Func0218(GetEnumUnit(),dmg)
	endif
	call Func2832(GetEnumUnit(),unit336)
endfunction

function Func2834 takes nothing returns nothing
	local integer dmg=14+4*GetUnitAbilityLevel(unit335,'A0R5')
	call DamageTarget(unit335,unit336,1,dmg)
	if GetUnitTypeId(GetEnumUnit())!='n0F5' then
		call Func0218(GetEnumUnit(),dmg)
	endif
	call Func2832(GetEnumUnit(),unit336)
endfunction

function Func2835 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local group g=GetAvailableGroup()
	local integer V84=GetUnitAbilityLevel(Hero,'A0R5')*2+8
	set group020=GetAvailableGroup()
	set integer507=0
	set integer508=V84
	set tt_unit1=Hero
	call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),1300+25,Condition(function Func0310))
	call GroupRemoveUnit(g,Hero)
	call GroupRemoveUnit(g,GetSpellTargetUnit())
	call ForGroup(g,function Func2831)
	call KillGroup(g)
	set g=group020
	set unit336=GetSpellTargetUnit()
	set unit335=Hero
	if IsUnitAlly(unit336,GetOwningPlayer(Hero))then
		call ForGroup(g,function Func2833)
	else
		call ForGroup(g,function Func2834)
	endif
	call KillGroup(g)
	set Hero=null
	set g=null
endfunction

function Func2836 takes nothing returns boolean
	if GetSpellAbilityId()=='A0R5' and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_STRUCTURE)==false or GetOwningPlayer(GetSpellTargetUnit())==GetOwningPlayer(GetTriggerUnit()))then
		call Func2835()
	endif
	return false
endfunction

function Func2837 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2836))
	set t=null
endfunction

function Func2838 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local unit VB4=(LoadUnitHandle(HY,(h),(269)))
	local real CV4=GetUnitState(target,UNIT_STATE_LIFE)
	local real VC4=GetUnitState(target,UNIT_STATE_MAX_LIFE)
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if GetTriggerUnit()==target then
			call KillUnit(VB4)
		endif
	elseif boolean036 then
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call PauseUnit(VB4,true)
	elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER then
		call DisableTrigger(t)
		call IssueTargetOrder(VB4,"attack",target)
		call EnableTrigger(t)
	elseif(CV4<(100*integer509)or CV4/VC4<(0.15+0.05*integer509))and GetUnitAbilityLevel(VB4,'B0AN')==0 then
		call IssueTargetOrder(units028[GetPlayerId(GetOwningPlayer(VB4))],"bloodlust",VB4)
	elseif IsUnitVisible(target,GetOwningPlayer(VB4))==false then
		if(LoadBoolean(HY,(h),(270))) then
			if(LoadBoolean(HY,(h),(271))) then
				if(LoadBoolean(HY,(h),(272))) then
					call FlushChildHashtable(HY,(h))
					call CleanTrigger(t)
					call KillUnit(VB4)
				else
					call SaveBoolean(HY,(h),(272),(true))
				endif
			else
				call SaveBoolean(HY,(h),(271),(true))
			endif
		else
			call SaveBoolean(HY,(h),(270),(true))
		endif
	else
		call SaveBoolean(HY,(h),(270),(false))
		call SaveBoolean(HY,(h),(271),(false))
		call SaveBoolean(HY,(h),(272),(false))
	endif
	set t=null
	set target=null
	set VB4=null
	return false
endfunction

function Func2839 takes nothing returns boolean
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit target=GetEnumUnit()
	local unit VB4=CreateUnit(player023,'n0F5',GetUnitX(target),GetUnitY(target),0)
	call IssueTargetOrder(VB4,"attack",target)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,VB4,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,VB4,EVENT_UNIT_ISSUED_ORDER)
	call TriggerRegisterUnitEvent(t,VB4,EVENT_UNIT_ISSUED_POINT_ORDER)
	call TriggerRegisterUnitEvent(t,VB4,EVENT_UNIT_ISSUED_TARGET_ORDER)
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerAddCondition(t,Condition(function Func2838))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveUnitHandle(HY,(h),(269),(VB4))
	call SaveInteger(HY,(h),(5),(integer509))
	set t=null
	set target=null
	set VB4=null
	return false
endfunction

function Func2840 takes nothing returns boolean
	if GetUnitTypeId(GetFilterUnit())=='n0F5' and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 then
		call KillUnit(GetFilterUnit())
	endif
	return false
endfunction

function Func2841 takes player p returns nothing
	local group g=GetAvailableGroup()
	call GroupEnumUnitsOfPlayer(g,p,Condition(function Func2840))
	call KillGroup(g)
	set g=null
endfunction

function Func2842 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit VH4=(LoadUnitHandle(HY,(h),(266)))
	local unit VZ4=(LoadUnitHandle(HY,(h),(267)))
	local unit VV4=(LoadUnitHandle(HY,(h),(268)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local group g
	local player VE2
	if IsSentinel(GetOwningPlayer(source))then
		set VE2=Scourges[0]
	else
		set VE2=Sentinels[0]
	endif
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		if(LoadBoolean(HY,(h),(265)))then
			call TimedReveal(VE2,.4,GetUnitX(source),GetUnitY(source),600)
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call ShowUnit(source,false)
		call RemoveUnit(VH4)
		call RemoveUnit(VZ4)
		call RemoveUnit(VV4)
		call Func2841(GetOwningPlayer(source))
	else
		if IsUnitVisible(source,VE2)then
			call SaveBoolean(HY,(h),(265),(true))
		endif
		set g=GetAvailableGroup()
		set tt_unit1=source
		set player023=GetOwningPlayer(source)
		set integer509=lvl
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),25+400+200*lvl,Condition(function Func0274))
		if boolean036==false then
			call ForGroup(g,function Func2839)
		endif
		call KillGroup(g)
		set g=null
	endif
	set t=null
	set source=null
	set VH4=null
	set VZ4=null
	set VV4=null
	return false
endfunction

function Func2843 takes nothing returns nothing
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local unit source
	local real UJ2
	local real UK2
	local real VX4
	local unit VH4
	local unit VZ4
	local unit VV4
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(GetTriggerUnit(),'A15V')
	local integer id
	if lvl==1 then
		set source=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n0FJ',x,y,0)
	elseif lvl==2 then
		set source=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n0FI',x,y,0)
	elseif lvl==3 then
		set source=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n0F6',x,y,0)
	else
		set source=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n0FH',x,y,0)
	endif
	call Func0174(sound071,x,y)
	set id=GetPlayerId(GetOwningPlayer(source))
	if units028[id]==null then
		set units028[id]=CreateUnit(GetOwningPlayer(source),'e01V',x,y,0)
		call UnitAddAbilityPermanent(units028[id],'A176')
	endif
	call SetUnitPosition(source,SafeX50(x),SafeY50(y))
	call UnitApplyTimedLife(source,'BTLF',10+5*lvl)
	call RemoveLocation(l)
	call KillTrees(x,y,300)
	set UJ2=x+200*Cos(0*bj_DEGTORAD)
	set UK2=y+200*Sin(0*bj_DEGTORAD)
	set VX4=Func0159(UJ2,UK2,x,y)
	set VH4=CreateUnit(GetOwningPlayer(source),'h07H',UJ2,UK2,VX4)
	call SetUnitAnimation(VH4,"Stand Work Gold")
	call QueueUnitAnimation(VH4,"Stand Work Gold")
	call QueueUnitAnimation(VH4,"Stand Work Gold")
	call QueueUnitAnimation(VH4,"Stand Work Gold")
	call QueueUnitAnimation(VH4,"Stand Work Gold")
	call QueueUnitAnimation(VH4,"Stand Work Gold")
	call QueueUnitAnimation(VH4,"Stand Work Gold")
	call QueueUnitAnimation(VH4,"Stand Work Gold")
	call QueueUnitAnimation(VH4,"Stand Work Gold")
	call QueueUnitAnimation(VH4,"Stand Work Gold")
	call QueueUnitAnimation(VH4,"Stand Work Gold")
	call QueueUnitAnimation(VH4,"Stand Work Gold")
	call QueueUnitAnimation(VH4,"Stand Work Gold")
	call QueueUnitAnimation(VH4,"Stand Work Gold")
	call QueueUnitAnimation(VH4,"Stand Work Gold")
	call QueueUnitAnimation(VH4,"Stand Work Gold")
	call QueueUnitAnimation(VH4,"Stand Work Gold")
	call QueueUnitAnimation(VH4,"Stand Work Gold")
	set UJ2=x+200*Cos(120*bj_DEGTORAD)
	set UK2=y+200*Sin(120*bj_DEGTORAD)
	set VX4=Func0159(UJ2,UK2,x,y)
	set VZ4=CreateUnit(GetOwningPlayer(source),'h07H',UJ2,UK2,VX4)
	call SetUnitAnimation(VZ4,"Stand Work Gold")
	call QueueUnitAnimation(VZ4,"Stand Work Gold")
	call QueueUnitAnimation(VZ4,"Stand Work Gold")
	call QueueUnitAnimation(VZ4,"Stand Work Gold")
	call QueueUnitAnimation(VZ4,"Stand Work Gold")
	call QueueUnitAnimation(VZ4,"Stand Work Gold")
	call QueueUnitAnimation(VZ4,"Stand Work Gold")
	call QueueUnitAnimation(VZ4,"Stand Work Gold")
	call QueueUnitAnimation(VZ4,"Stand Work Gold")
	call QueueUnitAnimation(VZ4,"Stand Work Gold")
	call QueueUnitAnimation(VZ4,"Stand Work Gold")
	call QueueUnitAnimation(VZ4,"Stand Work Gold")
	call QueueUnitAnimation(VZ4,"Stand Work Gold")
	call QueueUnitAnimation(VZ4,"Stand Work Gold")
	call QueueUnitAnimation(VZ4,"Stand Work Gold")
	call QueueUnitAnimation(VZ4,"Stand Work Gold")
	call QueueUnitAnimation(VZ4,"Stand Work Gold")
	set UJ2=x+200*Cos(240*bj_DEGTORAD)
	set UK2=y+200*Sin(240*bj_DEGTORAD)
	set VX4=Func0159(UJ2,UK2,x,y)
	set VV4=CreateUnit(GetOwningPlayer(source),'h07H',UJ2,UK2,VX4)
	call SetUnitAnimation(VV4,"Stand Work Gold")
	call QueueUnitAnimation(VV4,"Stand Work Gold")
	call QueueUnitAnimation(VV4,"Stand Work Gold")
	call QueueUnitAnimation(VV4,"Stand Work Gold")
	call QueueUnitAnimation(VV4,"Stand Work Gold")
	call QueueUnitAnimation(VV4,"Stand Work Gold")
	call QueueUnitAnimation(VV4,"Stand Work Gold")
	call QueueUnitAnimation(VV4,"Stand Work Gold")
	call QueueUnitAnimation(VV4,"Stand Work Gold")
	call QueueUnitAnimation(VV4,"Stand Work Gold")
	call QueueUnitAnimation(VV4,"Stand Work Gold")
	call QueueUnitAnimation(VV4,"Stand Work Gold")
	call QueueUnitAnimation(VV4,"Stand Work Gold")
	call QueueUnitAnimation(VV4,"Stand Work Gold")
	call QueueUnitAnimation(VV4,"Stand Work Gold")
	call QueueUnitAnimation(VV4,"Stand Work Gold")
	call SetUnitAnimation(source,"Stand Work")
	call QueueUnitAnimation(source,"Stand Work")
	call QueueUnitAnimation(source,"Stand Work")
	call QueueUnitAnimation(source,"Stand Work")
	call QueueUnitAnimation(source,"Stand Work")
	call QueueUnitAnimation(source,"Stand Work")
	call QueueUnitAnimation(source,"Stand Work")
	call QueueUnitAnimation(source,"Stand Work")
	call QueueUnitAnimation(source,"Stand Work")
	call QueueUnitAnimation(source,"Stand Work")
	call QueueUnitAnimation(source,"Stand Work")
	call QueueUnitAnimation(source,"Stand Work")
	call QueueUnitAnimation(source,"Stand Work")
	call QueueUnitAnimation(source,"Stand Work")
	call QueueUnitAnimation(source,"Stand Work")
	call QueueUnitAnimation(source,"Stand Work")
	call QueueUnitAnimation(source,"Stand Work")
	call QueueUnitAnimation(source,"Stand Work")
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerRegisterTimerEvent(t,3,true)
	call TriggerAddCondition(t,Condition(function Func2842))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(266),(VH4))
	call SaveUnitHandle(HY,(h),(267),(VZ4))
	call SaveUnitHandle(HY,(h),(268),(VV4))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveBoolean(HY,(h),(265),(false))
	call TriggerEvaluate(t)
	set source=null
	set VH4=null
	set VZ4=null
	set VV4=null
	set l=null
endfunction

function Func2844 takes nothing returns boolean
	if GetSpellAbilityId()=='A15V' then
		call Func2843()
	endif
	return false
endfunction

function Func2845 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2844))
	set t=null
endfunction

function Func2846 takes unit SWI returns boolean
	if Func0341(SWI,integers089[integer333])!=null then
		return true
	endif
	return false
endfunction

function FleshGolem_ValidCorpse takes nothing returns boolean
	if GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit()) then
		set integer510=integer510+1
	endif
	return false
endfunction

function Func2847 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A15J')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A17A',false)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func2848 takes nothing returns nothing
	if IsUnitType(tt_unit1,UNIT_TYPE_HERO) then
		if Func2846(tt_unit2)then
			call SetUnitState(tt_unit2,UNIT_STATE_LIFE,GetUnitState(tt_unit2,UNIT_STATE_LIFE)+GetUnitState(tt_unit2,UNIT_STATE_MAX_LIFE)*0.10)
		else
			call SetUnitState(tt_unit2,UNIT_STATE_LIFE,GetUnitState(tt_unit2,UNIT_STATE_LIFE)+GetUnitState(tt_unit2,UNIT_STATE_MAX_LIFE)*0.06)
		endif
	else
		if Func2846(tt_unit2)then
			call SetUnitState(tt_unit2,UNIT_STATE_LIFE,GetUnitState(tt_unit2,UNIT_STATE_LIFE)+GetUnitState(tt_unit2,UNIT_STATE_MAX_LIFE)*0.03)
		else
			call SetUnitState(tt_unit2,UNIT_STATE_LIFE,GetUnitState(tt_unit2,UNIT_STATE_LIFE)+GetUnitState(tt_unit2,UNIT_STATE_MAX_LIFE)*0.02)
		endif
	endif
endfunction

function Func2849 takes nothing returns boolean
	local trigger t2=GetTriggeringTrigger()
	local integer KAO=GetHandleId(t2)
	local trigger t1=(LoadTriggerHandle(HY,(KAO),(274)))
	local integer DW3=GetHandleId(t1)
	local unit source=(LoadUnitHandle(HY,(KAO),(2)))
	local unit target
	local real d
	local real a
	local boolean VN4=(LoadBoolean(HY,(KAO),(273)))
	if(GetTriggerEventId()==EVENT_UNIT_DEATH and GetTriggerUnit()==source)or(GetTriggerEventId()!=EVENT_UNIT_DAMAGED and GetTriggerEventId()!=EVENT_UNIT_DEATH)then
		call FlushChildHashtable(HY,(DW3))
		call FlushChildHashtable(HY,(KAO))
		call CleanTrigger(t1)
		call CleanTrigger(t2)
	elseif GetTriggerEventId()==EVENT_UNIT_DEATH then
		if IsUnitIllusion(GetDyingUnit())==false then
			call AddProjectile(GetDyingUnit(),source,'h07Y',"Func2848",600,false)
		endif
	elseif VN4==false then
		set target=GetTriggerUnit()
		set d=Func0139(source,target)
		if d<775 and GetEventDamage()>4 then
			if Func2846(source)then
				set a=25+5*integer511
			else
				set a=15+5*integer511
			endif
			if d>200 then
				set a=a-15*((d-150)/(775-150))
			endif
			call SaveBoolean(HY,(KAO),(273),(true))
			call DamageTarget(GetEventDamageSource(),GetTriggerUnit(),7,GetEventDamage()*a/100)
			call SaveBoolean(HY,(KAO),(273),(false))
		endif
	endif
	set t2=null
	set t1=null
	set source=null
	set target=null
	return false
endfunction

function Func2850 takes nothing returns boolean
	local trigger t1=GetTriggeringTrigger()
	local integer DW3=GetHandleId(t1)
	local trigger t2=(LoadTriggerHandle(HY,(DW3),(275)))
	local integer KAO=GetHandleId(t2)
	local unit target=GetTriggerUnit()
	local unit source=(LoadUnitHandle(HY,(DW3),(2)))
	if IsUnitEnemy(source,GetOwningPlayer(target)) and IsUnitType(target,UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(target,'A04R')==0 then
		if(LoadBoolean(HY,(KAO),(GetHandleId(target))))==false then
			call TriggerRegisterUnitEvent(t2,target,EVENT_UNIT_DAMAGED)
			call TriggerRegisterUnitEvent(t2,target,EVENT_UNIT_DEATH)
			call SaveBoolean(HY,(KAO),(GetHandleId(target)),(true))
		endif
	endif
	set t1=null
	set t2=null
	set target=null
	set source=null
	return false
endfunction

function Func2851 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t1=CreateTrigger()
	local integer DW3=GetHandleId(t1)
	local trigger t2=CreateTrigger()
	local integer KAO=GetHandleId(t2)
	local trigger t3=CreateTrigger()
	local integer ZT4=GetHandleId(t3)
	local integer lvl=GetUnitAbilityLevel(source,'A15J')
	set integer511=lvl
	call TriggerRegisterUnitInRange(t1,source,750,Condition(function ReturnTrue))
	call TriggerAddCondition(t1,Condition(function Func2850))
	call SaveTriggerHandle(HY,(DW3),(275),(t2))
	call SaveUnitHandle(HY,(DW3),(2),(source))
	call TriggerRegisterTimerEvent(t2,30,false)
	call TriggerRegisterUnitEvent(t2,source,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t2,Condition(function Func2849))
	call SaveTriggerHandle(HY,(KAO),(274),(t1))
	call SaveUnitHandle(HY,(KAO),(2),(source))
	call SaveBoolean(HY,(KAO),(273),(false))
	call TriggerRegisterTimerEvent(t3,0.01,false)
	call TriggerAddCondition(t3,Condition(function Func2847))
	call SaveUnitHandle(HY,(ZT4),(2),(source))
	set source=null
	set t1=null
	set t2=null
	set t3=null
endfunction

function Func2852 takes nothing returns boolean
	if GetSpellAbilityId()=='A15J' and GetUnitTypeId(GetTriggerUnit())=='H00R' then
		call Func2851()
	endif
	return false
endfunction

function Func2853 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2852))
	call Func0125('A17A')
	set t=null
endfunction

function Func2854 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group021)==false and Func0091(GetEnumUnit())==false then
		call GroupAddUnit(group021,GetEnumUnit())
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),integer512,false)
		call Func0228(GetEnumUnit(),integer512,1,3,'B05Q')
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\SpellShieldAmulet\\SpellShieldCaster.mdl",GetEnumUnit(),"overhead"))
	endif
endfunction

function Func2855 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real x2=(LoadReal(HY,(h),(66)))
	local real y2=(LoadReal(HY,(h),(67)))
	local real a=(LoadReal(HY,(h),(137)))
	local integer Count=GetTriggerEvalCount(t)
	local real x=GetUnitX(Hero)
	local real y=GetUnitY(Hero)
	local real II3=(LoadReal(HY,(h),(23)))
	local real I13=(LoadReal(HY,(h),(24)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local group g=GetAvailableGroup()
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	local integer lvl=GetUnitAbilityLevel(Hero,'A0LK')
	if Func0141(x,y,x2,y2)<=real340 then
		set x=x2
		set y=y2
	else
		set x=SafeX50(II3+65*Cos(a*bj_DEGTORAD))
		set y=SafeY50(I13+65*Sin(a*bj_DEGTORAD))
	endif
	if lvl==1 then
		set integer512='A29A'
	elseif lvl==2 then
		set integer512='A299'
	elseif lvl==3 then
		set integer512='A29B'
	elseif lvl==4 then
		set integer512='A298'
	endif
	set tt_unit1=Hero
	set group021=PR2
	call GroupEnumUnitsInRange(g,x,y,325,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func2854)
	call KillGroup(g)
	call SaveReal(HY,(h),(23),((x)*1.0))
	call SaveReal(HY,(h),(24),((y)*1.0))
	call SetUnitPosition(Hero,x,y)
	if(x==x2 and y==y2)or Count>40 then
		call SetUnitX(caster,x)
		call SetUnitY(caster,y)
		call IssueImmediateOrder(caster,"thunderclap")
		call KillGroup(PR2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SetUnitAnimation(Hero,"stand")
		call SetUnitPathing(Hero,true)
		call SetUnitInvulnerable(Hero,false)
		if GetUnitTypeId(Hero)=='E02X' then
			call SetUnitVertexColor(Hero,255,255,255,255)
		else
			call SetUnitVertexColor(Hero,0,255,150,255)
		endif
		call SaveInteger(HY,(GetHandleId((Hero))),((4261)),(2))
	endif
	set t=null
	set Hero=null
	set caster=null
	return false
endfunction

function Func2856 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local location l
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real x1=GetUnitX(Hero)
	local real y1=GetUnitY(Hero)
	local real x2
	local real y2
	local real a
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e00E',x1,y1,0)
	if GetSpellTargetUnit()==null then
		set l=GetSpellTargetLoc()
	else
		set l=GetUnitLoc(GetSpellTargetUnit())
	endif
	set x2=GetLocationX(l)
	set y2=GetLocationY(l)
	set a=Func0159(x1,y1,x2,y2)
	call RemoveLocation(l)
	call SetUnitAnimationByIndex(Hero,0)
	call SetUnitPathing(Hero,false)
	call SetUnitInvulnerable(Hero,true)
	call SetUnitVertexColor(Hero,0,0,0,255)
	call SaveInteger(HY,(GetHandleId((Hero))),((4261)),(1))
	call SaveReal(HY,(h),(66),((SafeX50(x2))*1.0))
	call SaveReal(HY,(h),(67),((SafeY50(y2))*1.0))
	call SaveReal(HY,(h),(23),((x1)*1.0))
	call SaveReal(HY,(h),(24),((y1)*1.0))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveGroupHandle(HY,(h),(187),(GetAvailableGroup()))
	call UnitAddAbilityPermanent(caster,'A0LA')
	call SetUnitAbilityLevel(caster,'A0LA',GetUnitAbilityLevel(Hero,'A0LK'))
	call TriggerRegisterTimerEvent(t,0.025,true)
	call TriggerAddCondition(t,Condition(function Func2855))
	set Hero=null
	set l=null
	set t=null
	set caster=null
endfunction

function Func2857 takes nothing returns boolean
	if GetSpellAbilityId()=='A0LK' then
		call Func2856()
	endif
	return false
endfunction

function Func2858 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2857))
	set t=null
endfunction

function Func2859 takes nothing returns boolean
	return GetLearnedSkill()=='A0CZ' and IsUnitIllusion(GetTriggerUnit())==false
endfunction

function Func2860 takes nothing returns nothing
	local unit PKI=GetTriggerUnit()
	local real dmg=GetEventDamage()
	if(dmg>0)and GetUnitState(PKI,UNIT_STATE_LIFE)>1 and GetUnitAbilityLevel(PKI,'BNdo')==0 then
		if(GetRandomInt(1,100)<=(5+(5*GetUnitAbilityLevel(PKI,'A0CZ'))))then
			call SetUnitState(PKI,UNIT_STATE_LIFE,GetUnitState(PKI,UNIT_STATE_LIFE)+dmg)
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\WingedSerpentMissile\\WingedSerpentMissile.mdl",PKI,"hand,left"))
		endif
	endif
endfunction

function Func2861 takes nothing returns nothing
	local trigger t
	if GetUnitAbilityLevel(GetTriggerUnit(),'A0CZ')==1 then
		set t=CreateTrigger()
		call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
		call TriggerAddAction(t,function Func2860)
	endif
endfunction

function Func2862 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2859))
	call TriggerAddAction(t,function Func2861)
endfunction

constant function Chronosphere_RawCode takes nothing returns integer
	return 'A0J1'
endfunction

constant function Chronosphere_SphereCode takes nothing returns integer
	return 'u00L'
endfunction

function Func2863 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit W34=(LoadUnitHandle(HY,(h),(19)))
	local real H71=(LoadReal(HY,(h),(6)))
	local real H81=(LoadReal(HY,(h),(7)))
	if W34==null or source==null then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		if Func0139(source,W34)<450 then
			call SaveInteger(HY,(GetHandleId((source))),((4423)),(1))
			call Func0390(source,H71,H81,1000.)
		else
			call SaveInteger(HY,(GetHandleId((source))),((4423)),(2))
		endif
		call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
		call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	endif
	set t=null
	set source=null
	set W34=null
	return false
endfunction

function Func2864 takes unit source,unit W34 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(19),(W34))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	call TriggerRegisterTimerEvent(t,0.005,true)
	call TriggerAddCondition(t,Condition(function Func2863))
	set t=null
endfunction

function Func2865 takes nothing returns boolean
	if GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(unit338)and GetUnitTypeId(GetFilterUnit())==GetUnitTypeId(unit338)then
		call Func2864(GetFilterUnit(),unit337)
	endif
	return false
endfunction

function Func2866 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit W34=(LoadUnitHandle(HY,(h),(19)))
	local unit u=GetTriggerUnit()
	if W34==null then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		set source=null
		set u=null
		return false
	endif
	if GetOwningPlayer(u)==GetOwningPlayer(source)and GetUnitTypeId(u)==GetUnitTypeId(source)then
		call Func2864(u,W34)
	endif
	set source=null
	set W34=null
	set u=null
	return false
endfunction

function Func2867 takes nothing returns boolean
	return GetSpellAbilityId()==('A0J1')or GetSpellAbilityId()=='A1D7'
endfunction

function Func2868 takes nothing returns nothing
	local timer t=GetExpiredTimer()
	local integer h=GetHandleId(t)
	local unit W34=(LoadUnitHandle(HY,(h),(19)))
	call PauseTimer(t)
	call FlushChildHashtable(HY,(h))
	call DestroyTimer(t)
endfunction

function Func2869 takes unit SWI returns boolean
	local integer ID=GetUnitTypeId(SWI)
	return ID=='o000' or ID=='o001' or ID=='o00A' or ID=='o00X' or ID=='osp4' or ID=='o008' or ID=='o009' or ID=='ebal' or ID=='e026' or ID=='umtw' or ID=='u00R' or ID=='EC45'
endfunction

function Func2870 takes nothing returns boolean
	return GetOwningPlayer(GetFilterUnit())!=GetOwningPlayer(unit002)and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 or Func2869(GetFilterUnit()))
endfunction

function Func2871 takes nothing returns nothing
	if GetUnitTypeId(GetEnumUnit())!='EC45' then
		call PauseUnit(GetEnumUnit(),true)
		call SetUnitTimeScale(GetEnumUnit(),0)
		call UnitRemoveAbility(GetEnumUnit(),'BUsl')
		call UnitRemoveAbility(GetEnumUnit(),'BUsp')
		call UnitRemoveAbility(GetEnumUnit(),'BUst')
		call SaveInteger(HY,(GetHandleId((GetEnumUnit()))),((4306)),(1))
	endif
endfunction

function Func2872 takes nothing returns nothing
	if GetUnitTypeId(GetEnumUnit())!='EC45' then
		call SaveInteger(HY,(GetHandleId((GetEnumUnit()))),((4306)),(2))
		call PauseUnit(GetEnumUnit(),false)
		call SetUnitTimeScale(GetEnumUnit(),1)
	endif
endfunction

function Func2873 takes nothing returns nothing
	local timer t=GetExpiredTimer()
	local integer h=GetHandleId(t)
	local unit W34=(LoadUnitHandle(HY,(h),(19)))
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local group WE4=(LoadGroupHandle(HY,(h),(220)))
	local integer QX2=(LoadInteger(HY,(h),(28)))
	local real QJI=GetUnitX(W34)
	local real QKI=GetUnitY(W34)
	local boolexpr QL1=Condition(function Func2870)
	local group H03=GetAvailableGroup()
	local integer DC1=35+lvl*5
	if GetUnitAbilityLevel(Hero,'A1D7')>0 then
		set DC1=30+lvl*10
	endif
	call ForGroup(WE4,function Func2872)
	set unit002=Hero
	call GroupEnumUnitsInRange(H03,QJI,QKI,450,QL1)
	call GroupClear(WE4)
	call GroupAddGroup(H03,WE4)
	call ForGroup(H03,function Func2871)
	call KillGroup(H03)
	set QX2=QX2+1
	call SaveInteger(HY,(h),(28),(QX2))
	if QX2>DC1 then
		if boolean036==false then
			call ForGroup(WE4,function Func2872)
		endif
		call RemoveUnit(W34)
		call KillGroup(WE4)
		call PauseTimer(t)
		call FlushChildHashtable(HY,(h))
		call DestroyTimer(t)
	endif
endfunction

function Func2874 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(Hero,('A0J1'))
	local location target=GetSpellTargetLoc()
	local real QJI=GetLocationX(target)
	local real QKI=GetLocationY(target)
	local unit W34=CreateUnit(GetOwningPlayer(Hero),('u00L'),QJI,QKI,0)
	local timer t=CreateTimer()
	local integer h=GetHandleId(t)
	local group WE4=GetAvailableGroup()
	local group g
	local trigger WG4
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(Hero,'A1D7')
	endif
	call SaveUnitHandle(HY,(GetHandleId(t)),(19),(W34))
	call TimerStart(t,0.8,false,function Func2868)
	set t=CreateTimer()
	set h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(19),(W34))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveGroupHandle(HY,(h),(220),(WE4))
	call SaveInteger(HY,(h),(28),(0))
	call SaveInteger(HY,(h),(5),(lvl))
	call TimerStart(t,0.1,true,function Func2873)
	call RemoveLocation(target)
	set unit337=W34
	set unit338=Hero
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,0,0,25000,Condition(function Func2865))
	call KillGroup(g)
	set WG4=CreateTrigger()
	set h=GetHandleId(WG4)
	call SaveUnitHandle(HY,(h),(2),(Hero))
	call SaveUnitHandle(HY,(h),(19),(W34))
	call TriggerRegisterEnterRectSimple(WG4,GetWorldBounds())
	call TriggerAddCondition(WG4,Condition(function Func2866))
	set g=null
	set WG4=null
endfunction

function Func2875 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2867))
	call TriggerAddAction(t,function Func2874)
endfunction

function Func2876 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH or GetUnitAbilityLevel(source,'B0C2')==0 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SetUnitTimeScale(source,1)
		call SaveInteger(HY,(GetHandleId((source))),((4280)),(2))
	else
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",source,"origin"))
	endif
	set t=null
	set source=null
	return false
endfunction

function Func2877 takes unit source returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SetUnitTimeScale(source,0)
	call SaveInteger(HY,(GetHandleId((source))),((4280)),(1))
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2876))
	call SaveUnitHandle(HY,(h),(2),(source))
	if((LoadInteger(HY,(GetHandleId((source))),((4306))))==1) then
		call DamageTarget(unit339,source,1,30+10*GetUnitAbilityLevel(unit339,'A081'))
	endif
	set t=null
endfunction

function Func2878 takes nothing returns boolean
	if GetUnitAbilityLevel(GetFilterUnit(),'B0C2')>0 and((LoadInteger(HY,(GetHandleId((GetFilterUnit()))),((4280))))==1)==false then
		call Func2877(GetFilterUnit())
	endif
	return false
endfunction

function Func2879 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group g=GetAvailableGroup()
	set unit339=source
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),450,Condition(function Func2878))
	call KillGroup(g)
	set t=null
	set source=null
	set g=null
	return false
endfunction

function Func2880 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func2879))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
endfunction

function Func2881 takes nothing returns boolean
	if GetLearnedSkill()=='A081' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A081')==1 then
		call Func2880()
	endif
	return false
endfunction

function Func2882 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2881))
	set t=null
endfunction

function Func2883 takes unit u,real WK4 returns nothing
	local integer d=R2I(WK4)
	local integer array b
	local integer a=d
	local integer c=1
	local integer i=0
	local integer EU1
	local real VOO
	set integers164[0]='A23H'
	set integers164[1]='A23K'
	set integers164[2]='A23L'
	set integers164[3]='A23J'
	set integers164[4]='A23I'
	set integers164[5]='A23M'
	if d<1 then
		call UnitRemoveAbility(u,integers164[0])
		call UnitRemoveAbility(u,integers164[1])
		call UnitRemoveAbility(u,integers164[2])
		call UnitRemoveAbility(u,integers164[3])
		call UnitRemoveAbility(u,integers164[4])
		call UnitRemoveAbility(u,integers164[5])
		return
	endif
	loop
		exitwhen c==0
		set c=a/2
		set b[i]=a-c*2
		set a=c
		set i=i+1
	endloop
	set EU1=5
	set i=0
	loop
		exitwhen i>EU1
		if b[i]==1 then
			call UnitAddAbilityPermanent(u,integers164[i])
			call SetPlayerAbilityAvailable(GetOwningPlayer(u),integers164[i],false)
		else
			call UnitRemoveAbility(u,integers164[i])
		endif
		set i=i+1
	endloop
endfunction

function Func2884 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A23G')
	local real time=(LoadReal(HY,(GetHandleId(target)),(682)))
	local integer Count=(LoadInteger(HY,(GetHandleId(target)),(683)))-1
	call Func2883(target,Count*lvl)
	call SaveInteger(HY,(GetHandleId(target)),(683),(Count))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2885 takes unit source,unit target returns nothing
	local integer lvl=GetUnitAbilityLevel(source,'A23G')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer Count=(LoadInteger(HY,(GetHandleId(target)),(683)))+1
	call Func2883(target,Count*lvl)
	call SaveInteger(HY,(GetHandleId(target)),(683),(Count))
	call SaveReal(HY,(GetHandleId(target)),(682),((GetTime()+real341-0.01)*1.0))
	call TriggerRegisterTimerEvent(t,real341,false)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerAddCondition(t,Condition(function Func2884))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",target,"origin"))
	set t=null
endfunction

function Func2886 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source then
			call DisableTrigger(t)
			if GetUnitAbilityLevel(target,'A04R')==0 then
				call Func2885(source,target)
			endif
			call UnitAsInteger_Clear(PCI)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2887 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local unit target=GetTriggerUnit()
	local unit source=GetAttacker()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,1,false)
	call TriggerAddCondition(t,Condition(function Func2886))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveUnitHandle(HY,(h),(2),(source))
	set target=null
	set source=null
	set t=null
endfunction

function Func2888 takes nothing returns nothing
	local unit source=GetAttacker()
	if((LoadInteger(HY,(GetHandleId((source))),((4307))))==1)==false then
		call AddTimedKeyToUnit(source,4307,0.3)
		call Func2887()
	endif
endfunction

function Func2889 takes nothing returns boolean
	if GetUnitAbilityLevel(GetAttacker(),'A23G')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(14)))and GetUnitTypeId(GetTriggerUnit())!='n00L' and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
		call Func2888()
	endif
	return false
endfunction

function Func2890 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func2889))
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(GetTriggerUnit()))
	set t=null
endfunction

function Func2891 takes nothing returns boolean
	if GetLearnedSkill()=='A23G' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A23G')==1 then
		call Func2890()
	endif
	return false
endfunction

function Func2892 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2891))
	set t=null
endfunction

function Func2893 takes nothing returns nothing
	local real X04=Func0134(Func0133(GetUnitState(GetEnumUnit(),UNIT_STATE_MANA),real344),0)
	local real XI4=X04*0.5
	if Func0091(GetEnumUnit())==false and X04>0 and Func0101(GetEnumUnit())==false then
		if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>(XI4+0.5)then
			call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)-XI4)
		else
			call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,1)
			call DamageTarget(unit340,GetEnumUnit(),1,XI4)
		endif
		call SetUnitState(GetEnumUnit(),UNIT_STATE_MANA,GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)-X04)
		if(IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))then
			call SetUnitState(unit340,UNIT_STATE_MANA,GetUnitState(unit340,UNIT_STATE_MANA)+X04*0.5)
		endif
	endif
endfunction

function Func2894 takes unit source,unit caster,integer XO4,integer X24 returns nothing
	local group g=GetAvailableGroup()
	set unit340=source
	set tt_unit1=source
	set real344=XO4*75+25
	call GroupEnumUnitsInRange(g,GetUnitX(caster),GetUnitY(caster),700,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func2893)
	call KillGroup(g)
	set g=null
endfunction

function Func2895 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer Count=GetTriggerEvalCount(t)
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit X44
	local real X54=2.9
	local real X64=real342+(real343-real342)*Count/(X54/0.05)
	call SetUnitScale(caster,X64,X64,X64)
	if Count>(X54/0.05)then
		call Func2894(source,caster,(LoadInteger(HY,(h),(3000))),(LoadInteger(HY,(h),(3002))))
		set X44=CreateUnit(GetOwningPlayer(caster),'e01O',GetUnitX(caster),GetUnitY(caster),0)
		call SetUnitTimeScale(X44,0.3)
		call RemoveUnit(caster)
		call KillUnit(X44)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set caster=null
	set X44=null
	return false
endfunction

function Func2896 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local location l=GetSpellTargetLoc()
	local unit source=GetTriggerUnit()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local real a=Atan2(y-GetUnitY(source),x-GetUnitX(source))
	local unit caster=CreateUnit(GetOwningPlayer(source),'e01M',x,y,a*bj_RADTODEG)
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerAddCondition(t,Condition(function Func2895))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(3000),((LoadInteger(HY,(GetHandleId(source)),(3000)))))
	call SaveInteger(HY,(h),(3001),((LoadInteger(HY,(GetHandleId(source)),(3001)))))
	call SaveInteger(HY,(h),(3002),((LoadInteger(HY,(GetHandleId(source)),(3002)))))
	call RemoveLocation(l)
	set t=null
	set l=null
	set source=null
endfunction

function Func2897 takes nothing returns boolean
	if GetSpellAbilityId()=='A0VS' then
		call Func2896()
	endif
	return false
endfunction

function Func2898 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2897))
	set t=null
endfunction

function Func2899 takes unit source,unit target,integer XO4,integer XB4 returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	local unit XC4=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	local real XD4=0.5+0.3*XB4
	if XB4==7 then
		set XD4=2.5
	endif
	call UnitAddAbilityPermanent(caster,'A0XK')
	call SetUnitAbilityLevel(caster,'A0XK',XB4)
	call IssueTargetOrder(caster,"cyclone",target)
	call DamageTarget_Delayed(XC4,target,1,70+(XO4+XO4+XO4)*15.0,XD4)
	set caster=null
	set XC4=null
endfunction

function Func2900 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group002)==false then
		call GroupAddUnit(group002,GetEnumUnit())
		call Func2899(tt_unit1,GetEnumUnit(),integer022,integer023)
	endif
endfunction

function Func2901 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local real x2=(LoadReal(HY,(h),(66)))
	local real y2=(LoadReal(HY,(h),(67)))
	local real a=(LoadReal(HY,(h),(137)))
	local integer XO4=(LoadInteger(HY,(h),(3000)))
	local integer XB4=(LoadInteger(HY,(h),(3001)))
	local group g=(LoadGroupHandle(HY,(h),(22)))
	local real x=GetUnitX(caster)+25*Cos(a)
	local real y=GetUnitY(caster)+25*Sin(a)
	local group XG4=GetAvailableGroup()
	local real QWI=Func0141(x,y,x2,y2)
	if QWI<=30 then
		set x=x2
		set y=y2
	endif
	call SetUnitX(caster,SafeX50(x))
	call SetUnitY(caster,SafeX50(y))
	set tt_unit1=caster
	set group002=g
	set integer022=XO4
	set integer023=XB4
	call GroupEnumUnitsInRange(XG4,x,y,200+25,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(XG4,function Func2900)
	call KillGroup(XG4)
	if QWI<=30 or GetTriggerEvalCount(t)>125 then
		call KillGroup(g)
		call KillUnit(caster)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set caster=null
	set g=null
	set XG4=null
	return false
endfunction

function Func2902 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local location l=GetSpellTargetLoc()
	local unit source=GetTriggerUnit()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local real a=Atan2(y-GetUnitY(source),x-GetUnitX(source))
	local unit caster
	set x=GetUnitX(source)
	set y=GetUnitY(source)
	set caster=CreateUnit(GetOwningPlayer(source),'n01U',x,y,a*bj_RADTODEG)
	call TriggerRegisterTimerEvent(t,0.025,true)
	call TriggerAddCondition(t,Condition(function Func2901))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveReal(HY,(h),(66),((x+(400+400.0*(LoadInteger(HY,(GetHandleId((source))),(3000))))*Cos(a))*1.0))
	call SaveReal(HY,(h),(67),((y+(400+400.0*(LoadInteger(HY,(GetHandleId((source))),(3000))))*Sin(a))*1.0))
	call SaveInteger(HY,(h),(3000),((LoadInteger(HY,(GetHandleId(source)),(3000)))))
	call SaveInteger(HY,(h),(3001),((LoadInteger(HY,(GetHandleId(source)),(3001)))))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveGroupHandle(HY,(h),(22),(GetAvailableGroup()))
	call RemoveLocation(l)
	set t=null
	set l=null
	set source=null
endfunction

function Func2903 takes nothing returns boolean
	if GetSpellAbilityId()=='A0VK' then
		call Func2902()
	endif
	return false
endfunction

function Func2904 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2903))
	call Func0127('A0XK',GetRandomReal(1,25))
	set t=null
endfunction

function Func2905 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call UnitRemoveAbility(target,'A0VJ')
	call UnitRemoveAbility(target,'A109')
	if GetUnitAbilityLevel(target,'A0VJ')==0 or GetUnitAbilityLevel(target,'A109')==0 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	return false
endfunction

function Func2906 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call UnitRemoveAbility(target,'A0VJ')
	call UnitRemoveAbility(target,'A109')
	if GetUnitAbilityLevel(target,'A0VJ')>0 or GetUnitAbilityLevel(target,'A109')>0 then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveUnitHandle(HY,(h),(17),(target))
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func2905))
	endif
	set t=null
	set target=null
	return false
endfunction

function Func2907 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer XO4=(LoadInteger(HY,(GetHandleId(Hero)),(3000)))
	local integer X24=(LoadInteger(HY,(GetHandleId(Hero)),(3002)))
	call UnitAddAbilityPermanent(target,'A0VJ')
	call SetUnitAbilityLevel(target,'A0VJ',XO4)
	call UnitAddAbilityPermanent(target,'A109')
	call SetUnitAbilityLevel(target,'A109',X24)
	call TriggerRegisterTimerEvent(t,9,false)
	call TriggerAddCondition(t,Condition(function Func2906))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIsp\\SpeedTarget.mdl",target,"origin")))
	set t=null
	set Hero=null
	set target=null
endfunction

function Func2908 takes nothing returns boolean
	if GetSpellAbilityId()=='A0VQ' then
		call Func2907()
	endif
	return false
endfunction

function Func2909 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2908))
	call Func0127('A0VJ',GetRandomReal(1,25))
	call Func0127('A109',GetRandomReal(1,25))
	set t=null
endfunction

function Func2910 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	if GetUnitAbilityLevel(Hero,'B08X')==0 then
		call KillUnit(caster)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call SetUnitAbilityLevel(caster,'A0VH',(LoadInteger(HY,(GetHandleId(Hero)),(3001))))
		call SetUnitX(caster,GetUnitX(Hero))
		call SetUnitY(caster,GetUnitY(Hero))
	endif
	set t=null
	set caster=null
	set Hero=null
	return false
endfunction

function Func2911 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e01V',GetUnitX(Hero),GetUnitY(Hero),0)
	call UnitAddAbilityPermanent(caster,'A0VH')
	call SetUnitAbilityLevel(caster,'A0VH',(LoadInteger(HY,(GetHandleId(Hero)),(3001))))
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerAddCondition(t,Condition(function Func2910))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	set t=null
	set Hero=null
endfunction

function Func2912 takes nothing returns boolean
	if GetSpellAbilityId()=='A0XL' then
		call Func2911()
	endif
	return false
endfunction

function Func2913 takes unit Hero returns nothing
	if GetUnitAbilityLevel(Hero,'A0XL')>0 then
		call SetUnitAbilityLevel(Hero,'A0XL',(LoadInteger(HY,(GetHandleId(Hero)),(3000))))
	endif
endfunction

function Func2914 takes nothing returns boolean
	if IsUnitIllusion(GetTriggerUnit())==false then
		call Func2913(GetTriggerUnit())
	endif
	return false
endfunction

function Func2915 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2912))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2914))
	call Func0127('A0VH',GetRandomReal(1,25))
	set t=null
endfunction

function Func2916 takes unit source,unit target,integer XO4 returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbilityPermanent(caster,'A0VT')
	call SetUnitAbilityLevel(caster,'A0VT',XO4)
	call IssueTargetOrder(caster,"drunkenhaze",target)
	set caster=null
endfunction

function Func2917 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local real RS2=(LoadReal(HY,(h),(193)))
	local integer XO4=(LoadInteger(HY,(h),(3000)))
	local integer XB4=(LoadInteger(HY,(h),(3001)))
	local integer MKO=XB4*25/3
	local real x
	local real y
	local integer Count=GetTriggerEvalCount(t)
	if Count>MKO/3 then
		call SaveReal(HY,(h),(193),((RS2*0.98)*1.0))
	endif
	if Count>MKO or GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if GetTriggerEventId()!=EVENT_UNIT_DEATH then
			call Func2916(source,target,XO4)
		endif
	else
		set x=SafeX50(GetUnitX(target)+RS2*Cos(RM2))
		set y=SafeY50(GetUnitY(target)+RS2*Sin(RM2))
		call KillTrees(x,y,150)
		call SetUnitPosition(target,x,y)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2918 takes unit source,unit target,integer XO4,integer XB4,integer X24 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real RM2=Atan2(GetUnitY(target)-GetUnitY(source),GetUnitX(target)-GetUnitX(source))
	call DamageTarget(source,target,1,X24*40)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveReal(HY,(h),(193),((6)*1.0))
	call SaveInteger(HY,(h),(3000),(XO4))
	call SaveInteger(HY,(h),(3001),(XB4))
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func2917))
	set t=null
endfunction

function Func2919 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group002)==false and Func0091(GetEnumUnit())==false then
		call GroupAddUnit(group002,GetEnumUnit())
		call Func2918(tt_unit1,GetEnumUnit(),integer022,integer023,integer024)
	endif
endfunction

function Func2920 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local real a=(LoadReal(HY,(h),(137)))
	local real x2=(LoadReal(HY,(h),(66)))
	local real y2=(LoadReal(HY,(h),(67)))
	local group g=(LoadGroupHandle(HY,(h),(22)))
	local integer XO4=(LoadInteger(HY,(h),(3000)))
	local integer XB4=(LoadInteger(HY,(h),(3001)))
	local integer X24=(LoadInteger(HY,(h),(3002)))
	local real x=GetUnitX(caster)
	local real y=GetUnitY(caster)
	local group g2
	if Func0141(x,y,x2,y2)<100 then
		set x=x2
		set y=y2
	else
		set x=x+33*Cos(a)
		set y=y+33*Sin(a)
	endif
	call SetUnitX(caster,SafeX50(x))
	call SetUnitY(caster,SafeY50(y))
	set g2=GetAvailableGroup()
	set tt_unit1=caster
	set group002=g
	set integer022=XO4
	set integer023=XB4
	set integer024=X24
	call GroupEnumUnitsInRange(g2,x,y,200,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g2,function Func2919)
	call KillGroup(g2)
	if(x==x2 and y==y2)or GetTriggerEvalCount(t)>35 then
		set g2=GetAvailableGroup()
		set tt_unit1=caster
		set group002=g
		set integer022=XO4
		set integer023=XB4
		set integer024=X24
		call GroupEnumUnitsInRange(g2,x,y,250,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g2,function Func2919)
		call KillGroup(g2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillUnit(caster)
		call KillGroup(g)
	endif
	set t=null
	set caster=null
	set g=null
	set g2=null
	return false
endfunction

function Func2921 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local location l=GetSpellTargetLoc()
	local unit source=GetTriggerUnit()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local real a=Atan2(y-GetUnitY(source),x-GetUnitX(source))
	local unit caster=CreateUnit(GetOwningPlayer(source),'n01X',GetUnitX(source),GetUnitY(source),a*bj_RADTODEG)
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerAddCondition(t,Condition(function Func2920))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveReal(HY,(h),(66),((GetUnitX(source)+1000*Cos(a))*1.0))
	call SaveReal(HY,(h),(67),((GetUnitY(source)+1000*Sin(a))*1.0))
	call SaveGroupHandle(HY,(h),(22),(GetAvailableGroup()))
	call SaveInteger(HY,(h),(3000),((LoadInteger(HY,(GetHandleId(source)),(3000)))))
	call SaveInteger(HY,(h),(3001),((LoadInteger(HY,(GetHandleId(source)),(3001)))))
	call SaveInteger(HY,(h),(3002),((LoadInteger(HY,(GetHandleId(source)),(3002)))))
	call RemoveLocation(l)
	set t=null
	set l=null
	set source=null
endfunction

function Func2922 takes nothing returns boolean
	if GetSpellAbilityId()=='A0VM' then
		call Func2921()
	endif
	return false
endfunction

function Func2923 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2922))
	call Func0127('A0VT',GetRandomReal(1,25))
	set t=null
endfunction

function Func2924 takes unit Hero returns real
	local integer X24=(LoadInteger(HY,(GetHandleId(Hero)),(3002)))
	return(80+X24*35.0)/2
endfunction

function Func2925 takes unit Hero returns real
	local integer XO4=(LoadInteger(HY,(GetHandleId(Hero)),(3000)))
	local integer XB4=(LoadInteger(HY,(GetHandleId(Hero)),(3001)))
	local integer X24=(LoadInteger(HY,(GetHandleId(Hero)),(3002)))
	return 325+XO4*175.0
endfunction

function Func2926 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local real dmg=(LoadReal(HY,(h),(20)))
	local effect FX=(LoadEffectHandle(HY,(h),(32)))
	local integer Count=GetTriggerEvalCount(t)
	call DamageTarget(source,target,1,dmg)
	if Count==3 then
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call DestroyEffect(FX)
	endif
	set t=null
	set source=null
	set target=null
	set FX=null
	return false
endfunction

function Func2927 takes unit source,unit target,real dmg returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveReal(HY,(h),(20),((dmg)*1.0))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Environment\\SmallBuildingFire\\SmallBuildingFire2.mdl",target,"chest")))
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func2926))
	set t=null
endfunction

function Func2928 takes nothing returns nothing
	call Func2927(tt_unit1,GetEnumUnit(),real009/5)
	call DamageTarget(tt_unit1,GetEnumUnit(),1,real009)
endfunction

function Func2929 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local real a=(LoadReal(HY,(h),(137)))
	local integer Count=GetTriggerEvalCount(t)-26
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real IV1
	local real IW1
	local unit caster
	local group g
	if Count==1 then
		set caster=CreateUnit(GetOwningPlayer(source),'e01L',x,y,a*bj_RADTODEG)
		call SaveUnitHandle(HY,(h),(19),(caster))
	elseif Count>1 then
		set caster=(LoadUnitHandle(HY,(h),(19)))
	endif
	if Count>0 then
		set IV1=SafeX50(GetUnitX(caster)+15*Cos(a))
		set IW1=SafeY50(GetUnitY(caster)+15*Sin(a))
		call SetUnitX(caster,IV1)
		call SetUnitY(caster,IW1)
		if(Count>1 and ModuloInteger(Count,10)==0)or Count==1 then
			set g=GetAvailableGroup()
			set tt_unit1=source
			set real009=Func2924(source)
			call GroupEnumUnitsInRange(g,IV1,IW1,300,Condition(function DefaultEnemyFilterWithAncients))
			call ForGroup(g,function Func2928)
			call KillGroup(g)
			call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",IV1,IW1))
		endif
		if Count>Func2925(source)/16.6 then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call KillUnit(caster)
		endif
	endif
	set t=null
	set g=null
	set caster=null
	set source=null
	return false
endfunction

function Func2930 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local location l=GetSpellTargetLoc()
	local unit source=GetTriggerUnit()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local real a=Atan2(y-GetUnitY(source),x-GetUnitX(source))
	local unit YA4=CreateUnit(GetOwningPlayer(source),'e01K',x,y,a*bj_RADTODEG)
	call SetUnitTimeScale(YA4,0.58)
	call UnitApplyTimedLife(YA4,'BTLF',1.75)
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerAddCondition(t,Condition(function Func2929))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call RemoveLocation(l)
	set t=null
	set l=null
	set source=null
endfunction

function Func2931 takes nothing returns boolean
	if GetSpellAbilityId()=='A0VN' then
		call Func2930()
	endif
	return false
endfunction

function Func2932 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2931))
	set t=null
endfunction

function Func2933 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local real time=(LoadReal(HY,(GetHandleId(target)),(3007)))
	if time+5<=GetTime()then
		call UnitRemoveAbility(target,'A0VW')
	endif
	call UnitAsInteger_Clear(PCI)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set target=null
	return false
endfunction

function Func2934 takes unit target returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(target,'A0VW')
	if lvl==0 then
		call UnitAddAbilityPermanent(target,'A0VW')
	endif
	call SetUnitAbilityLevel(target,'A0VW',lvl+1)
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveReal(HY,(GetHandleId(target)),(3007),((GetTime())*1.0))
	call TriggerRegisterTimerEvent(t,5,false)
	call TriggerAddCondition(t,Condition(function Func2933))
	set t=null
endfunction

function Func2935 takes nothing returns boolean
	local real d
	if GetUnitAbilityLevel(GetTriggerUnit(),'B091')>0 and GetUnitAbilityLevel(GetEventDamageSource(),'A0VV')>0 and(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(2)))==GetEventDamageSource()then
		call UnitRemoveAbility(GetTriggerUnit(),'B091')
		call DisableTrigger(GetTriggeringTrigger())
		call Func2934(GetTriggerUnit())
		call FlushChildHashtable(HY,(GetHandleId(GetTriggeringTrigger())))
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func2936 takes nothing returns nothing
	local trigger t
	local unit target
	local unit source
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		set target=GetSpellTargetUnit()
		set source=GetTriggerUnit()
	else
		set target=GetTriggerUnit()
		set source=GetAttacker()
	endif
	if IsUnitIllusion(source)==false then
		set t=CreateTrigger()
		call SaveUnitHandle(HY,(GetHandleId(t)),(2),(source))
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
		call TriggerAddCondition(t,Condition(function Func2935))
	endif
	set t=null
	set target=null
	set source=null
endfunction

function Func2937 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
		if GetUnitAbilityLevel(GetAttacker(),'A0VV')>0 and(LoadBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(3008)))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(2)))then
			call Func2936()
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
		if(GetIssuedOrderId()==OrderId("poisonarrows"))then
			call SaveBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(3008),(true))
		elseif(GetIssuedOrderId()==OrderId("unpoisonarrows"))then
			call SaveBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(3008),(false))
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A0VV' then
		call Func2936()
	endif
	return false
endfunction

function Func2938 takes unit source returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_ISSUED_ORDER)
	call TriggerAddCondition(t,Condition(function Func2937))
	call SaveUnitHandle(HY,(GetHandleId(t)),(2),(source))
	call SaveBoolean(HY,(GetHandleId(t)),(3008),(true))
	set t=null
endfunction

function Func2939 takes nothing returns nothing
	call KillUnit(GetEnumUnit())
endfunction

function Func2940 takes nothing returns boolean
	if GetUnitTypeId(GetFilterUnit())=='n027' then
		return true
	endif
	return false
endfunction

function Func2941 takes player p returns nothing
	local group g=GetAvailableGroup()
	call GroupEnumUnitsOfPlayer(g,p,Condition(function Func2940))
	call ForGroup(g,function Func2939)
	call KillGroup(g)
	set g=null
endfunction

function Func2942 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit caster
	local integer XB4=(LoadInteger(HY,(GetHandleId(source)),(3001)))
	local integer X24=(LoadInteger(HY,(GetHandleId(source)),(3002)))
	call Func2941(GetOwningPlayer(source))
	set caster=CreateUnit(GetOwningPlayer(source),'n027',GetUnitX(source),GetUnitY(source),GetUnitFacing(source))
	call SetUnitColor(caster,GetPlayerColor(Sentinels[0]))
	call AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",caster,"chest")
	call UnitApplyTimedLife(caster,'BTLF',10+10*XB4)
	call SetUnitAbilityLevel(caster,'A0VV',X24)
	call Func2938(caster)
	if booleans024[GetPlayerId(GetOwningPlayer(source))]then
		call SelectUnitAddForPlayer(caster,GetOwningPlayer(source))
	endif
	if XB4>3 and X24>3 then
		set caster=CreateUnit(GetOwningPlayer(source),'n027',GetUnitX(source),GetUnitY(source),GetUnitFacing(source))
		call SetUnitColor(caster,GetPlayerColor(Sentinels[0]))
		call AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",caster,"chest")
		call UnitApplyTimedLife(caster,'BTLF',10+10*XB4)
		call SetUnitAbilityLevel(caster,'A0VV',X24)
		call Func2938(caster)
		if booleans024[GetPlayerId(GetOwningPlayer(source))]then
			call SelectUnitAddForPlayer(caster,GetOwningPlayer(source))
		endif
	endif
	call SetPlayerTechResearched(GetOwningPlayer(source),'R00G',X24)
	call SetPlayerTechResearched(GetOwningPlayer(source),'R00H',XB4)
	set source=null
	set caster=null
endfunction

function Func2943 takes nothing returns boolean
	if GetSpellAbilityId()=='A0VO' then
		call Func2942()
	endif
	return false
endfunction

function Func2944 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2943))
	call Func0127('A0VV',GetRandomReal(1,25))
	call Func0127('A0VW',GetRandomReal(1,25))
	set t=null
endfunction

function Func2945 takes unit source returns integer
	local integer lvl=(LoadInteger(HY,(GetHandleId(source)),(3001)))
	if lvl==1 then
		return 'A230'
	elseif lvl==2 then
		return 'A22Z'
	elseif lvl==3 then
		return 'A22Y'
	elseif lvl==4 then
		return 'A22U'
	elseif lvl==5 then
		return 'A22V'
	elseif lvl==6 then
		return 'A22W'
	elseif lvl==7 then
		return 'A22X'
	endif
	return 'A230'
endfunction

function Func2946 takes unit target returns nothing
	call UnitRemoveAbility(target,'A230')
	call UnitRemoveAbility(target,'A22Z')
	call UnitRemoveAbility(target,'A22Y')
	call UnitRemoveAbility(target,'A22U')
	call UnitRemoveAbility(target,'A22V')
	call UnitRemoveAbility(target,'A22W')
	call UnitRemoveAbility(target,'A22X')
	call UnitRemoveAbility(target,'B08Z')
endfunction

function Func2947 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real LVO=(LoadReal(HY,(GetHandleId(target)),(681)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or LVO<GetTime()then
		call Func2946(target)
	endif
	set t=null
	set target=null
	return false
endfunction

function Func2948 takes nothing returns nothing
	local unit source=tt_unit1
	local unit target=GetEnumUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real LVO=(LoadReal(HY,(GetHandleId(target)),(681)))
	if LVO<GetTime()then
		call UnitAddAbilityPermanent(target,Func2945(source))
	endif
	call SaveReal(HY,(GetHandleId(target)),(681),((GetTime()+2)*1.0))
	call SaveUnitHandle(HY,(h),(17),(target))
	call TriggerRegisterTimerEvent(t,2.01,false)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerAddCondition(t,Condition(function Func2947))
	set t=null
	set source=null
endfunction

function Func2949 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real SourceX=(LoadReal(HY,(h),(6)))
	local real SourceY=(LoadReal(HY,(h),(7)))
	local real a=(LoadReal(HY,(h),(137)))
	local real DC1=(LoadReal(HY,(h),(57)))
	local real x
	local real y
	local integer i=1
	local integer Count=GetTriggerEvalCount(t)
	local group g
	if Count*0.1>DC1 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set g=GetAvailableGroup()
		set tt_unit1=source
		loop
			exitwhen i>7
			set x=SourceX+80*i*Cos((a+90)*bj_DEGTORAD)
			set y=SourceY+80*i*Sin((a+90)*bj_DEGTORAD)
			call GroupEnumUnitsInRange(g,x,y,105,Condition(function Func0280))
			call ForGroup(g,function Func2948)
			set x=SourceX+80*i*Cos((a-90)*bj_DEGTORAD)
			set y=SourceY+80*i*Sin((a-90)*bj_DEGTORAD)
			call GroupEnumUnitsInRange(g,x,y,105,Condition(function Func0280))
			call ForGroup(g,function Func2948)
			set i=i+1
		endloop
		call KillGroup(g)
		set g=null
	endif
	set t=null
	set source=null
	return false
endfunction

function Func2950 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real a=GetUnitFacing(source)
	local integer i=1
	local unit caster
	local real x
	local real y
	local real SourceX=GetUnitX(source)+225*Cos(a*bj_DEGTORAD)
	local real SourceY=GetUnitY(source)+225*Sin(a*bj_DEGTORAD)
	local integer XB4=(LoadInteger(HY,(GetHandleId(source)),(3001)))
	local integer X24=(LoadInteger(HY,(GetHandleId(source)),(3002)))
	local real DC1=1.5+1.5*XB4
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	loop
		exitwhen i>7
		set x=SourceX+80*i*Cos((a+90)*bj_DEGTORAD)
		set y=SourceY+80*i*Sin((a+90)*bj_DEGTORAD)
		set caster=CreateUnit(GetOwningPlayer(source),'u00O',x,y,GetRandomReal(0,360))
		call SetUnitAbilityLevel(caster,'S00H',XB4)
		call SetUnitAbilityLevel(caster,'A0XN',X24)
		call SetUnitAnimation(caster,"birth")
		call QueueUnitAnimation(caster,"stand")
		call UnitApplyTimedLife(caster,'BTLF',DC1)
		set x=SourceX+80*i*Cos((a-90)*bj_DEGTORAD)
		set y=SourceY+80*i*Sin((a-90)*bj_DEGTORAD)
		set caster=CreateUnit(GetOwningPlayer(source),'u00O',x,y,GetRandomReal(0,360))
		call SetUnitAbilityLevel(caster,'S00H',XB4)
		call SetUnitAbilityLevel(caster,'A0XN',X24)
		call SetUnitAnimation(caster,"birth")
		call QueueUnitAnimation(caster,"stand")
		call UnitApplyTimedLife(caster,'BTLF',DC1)
		set i=i+1
	endloop
	call TriggerAddCondition(t,Condition(function Func2949))
	call TriggerRegisterTimerEvent(t,0.1,true)
	call SaveReal(HY,(h),(6),((SourceX)*1.0))
	call SaveReal(HY,(h),(7),((SourceY)*1.0))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(57),((DC1)*1.0))
	set caster=null
	set source=null
	set t=null
endfunction

function Func2951 takes nothing returns boolean
	if GetSpellAbilityId()=='A0VP' then
		call Func2950()
	endif
	return false
endfunction

function Func2952 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2951))
	call Func0127('S00H',GetRandomReal(1,25))
	call Func0127('A0XN',GetRandomReal(1,25))
	set t=null
endfunction

function Func2953 takes nothing returns nothing
	if Func0089(GetEnumUnit())==false then
		call DamageTarget(tt_unit1,GetEnumUnit(),3,real009)
	endif
endfunction

function Func2954 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real dmg=(LoadReal(HY,(h),(20)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local group g=GetAvailableGroup()
	local integer Count
	set tt_unit1=Hero
	call GroupEnumUnitsInRange(g,x,y,200,Condition(function DefaultEnemyFilterWithAncients))
	set Count=CountUnitsInGroup(g)
	if Count<1 then
		set Count=1
	endif
	set real009=dmg/Count
	call ForGroup(g,function Func2953)
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",x,y))
	call KillGroup(g)
	call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	set g=null
	return false
endfunction

function Func2955 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local real dmg=(LoadInteger(HY,(GetHandleId(Hero)),(3002)))*62.5+12.5+25
	local string s=""
	if IsPlayerAlly(LocalPlayer,GetOwningPlayer(Hero)) or(isObserversMode and(LocalPlayer==Observer1 or LocalPlayer==Observer2))then
		set s="Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl"
	endif
	call TimedReveal(GetOwningPlayer(Hero),5.7,x,y,400)
	call TriggerRegisterTimerEvent(t,1.7,false)
	call TriggerAddCondition(t,Condition(function Func2954))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveReal(HY,(h),(20),((dmg)*1.0))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffect(s,x,y)))
	call RemoveLocation(l)
	set t=null
	set Hero=null
	set l=null
endfunction

function Func2956 takes nothing returns boolean
	if GetSpellAbilityId()=='A0VG' then
		call Func2955()
	endif
	return false
endfunction

function Func2957 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2956))
	set t=null
endfunction

function Func2958 takes unit source,unit target,integer lvl returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbilityPermanent(caster,'A0VI')
	call IssueTargetOrder(caster,"thunderbolt",target)
	if Func0091(target)==false then
		call DamageTarget(source,target,1,lvl*7)
	endif
	set caster=null
endfunction

function Func2959 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamage()>10 and((LoadInteger(HY,(GetHandleId((t))),((4263))))==1)==false and GetOwningPlayer(GetEventDamageSource())!=GetOwningPlayer(GetTriggerUnit())then
			call DisableTrigger(t)
			call Func2958(source,target,lvl)
			call EnableTrigger(t)
			call AddTimedKeyForTrigger(t,4263,0.8-lvl*0.0285)
		endif
	else
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	set source=null
	return false
endfunction

function Func2960 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=(LoadInteger(HY,(GetHandleId(Hero)),(3001)))
	call TriggerRegisterTimerEvent(t,2.5+lvl*0.5,false)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func2959))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveUnitHandle(HY,(h),(2),(Hero))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl",target,"overhead")))
	call Func2958(Hero,target,lvl)
	set t=null
	set Hero=null
	set target=null
endfunction

function Func2961 takes nothing returns boolean
	if GetSpellAbilityId()=='A0VZ' then
		call Func2960()
	endif
	return false
endfunction

function Func2962 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2961))
	call Func0127('A0VI',GetRandomReal(1,25))
	set t=null
endfunction

function Func2963 takes unit Hero returns nothing
	local integer h=GetHandleId(Hero)
	local boolean J84=(LoadBoolean(HY,(h),(3003)))
	local trigger t
	if J84 then
		call SaveBoolean(HY,(h),(3003),(false))
		set t=(LoadTriggerHandle(HY,(h),(3006)))
		call FlushChildHashtable(HY,(GetHandleId(t)))
		call CleanTrigger(t)
	endif
	set t=null
endfunction

function Func2964 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	call SetUnitState(Hero,UNIT_STATE_LIFE,GetUnitState(Hero,UNIT_STATE_LIFE)+lvl*1)
	return false
endfunction

function Func2965 takes unit Hero,integer lvl returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(Hero)
	call SaveBoolean(HY,(h),(3003),(true))
	call SaveTriggerHandle(HY,(h),(3006),(t))
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(Hero))
	call SaveInteger(HY,(GetHandleId(t)),(5),(lvl))
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func2964))
	set t=null
endfunction

function Func2966 takes nothing returns nothing
	local integer JC4=0
	local unit Hero=GetTriggerUnit()
	local integer h=GetHandleId(Hero)
	local integer JD4=(LoadInteger(HY,(h),(3013)))
	local integer JE4=(LoadInteger(HY,(h),(3014)))
	local integer JF4=(LoadInteger(HY,(h),(3015)))
	local integer JG4=(LoadInteger(HY,(h),(3016)))
	local integer JH4=(LoadInteger(HY,(h),(3017)))
	if JD4==3 and JE4==0 and JF4==0 then
		set JC4=1
	elseif JD4==2 and JE4==1 and JF4==0 then
		set JC4=2
	elseif JD4==2 and JE4==0 and JF4==1 then
		set JC4=3
	elseif JD4==1 and JE4==2 and JF4==0 then
		set JC4=4
	elseif JD4==1 and JE4==1 and JF4==1 then
		set JC4=5
	elseif JD4==1 and JE4==0 and JF4==2 then
		set JC4=6
	elseif JD4==0 and JE4==1 and JF4==2 then
		set JC4=7
	elseif JD4==0 and JE4==2 and JF4==1 then
		set JC4=8
	elseif JD4==0 and JE4==0 and JF4==3 then
		set JC4=9
	elseif JD4==0 and JE4==3 and JF4==0 then
		set JC4=10
	endif
	if integers165[JC4]==JH4 then
		return
	endif
	if JG4!=0 and JH4!=0 then
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),JG4,false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),JH4,false)
		set JG4=JH4
		set JH4=integers165[JC4]
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),JG4,true)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),JH4,true)
	elseif JG4==0 and JH4!=0 then
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),JH4,false)
		set JG4=JH4
		set JH4=integers165[JC4]
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),JG4,true)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),JH4,true)
	else
		set JH4=integers165[JC4]
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),JH4,true)
	endif
	call SaveInteger(HY,(h),(3016),(JG4))
	call SaveInteger(HY,(h),(3017),(JH4))
	call Func2913(Hero)
	set Hero=null
endfunction

function Func2967 takes unit Hero returns nothing
	local integer h=GetHandleId(Hero)
	local integer JD4=(LoadInteger(HY,(h),(3013)))
	local integer JE4=(LoadInteger(HY,(h),(3014)))
	local integer JF4=(LoadInteger(HY,(h),(3015)))
	local integer XO4=GetUnitAbilityLevel(Hero,'A21X')
	local integer XB4=GetUnitAbilityLevel(Hero,'A21W')
	local integer X24=GetUnitAbilityLevel(Hero,'A21V')
	call UnitRemoveAbility(Hero,'A0WD')
	call UnitRemoveAbility(Hero,'A0VE')
	call Func2963(Hero)
	call UnitRemoveAbility(Hero,'A0V7')
	if JD4>0 then
		call UnitAddAbilityPermanent(Hero,'A0WD')
		call UnitAddAbilityPermanent(Hero,'A0VE')
		call SetUnitAbilityLevel(Hero,'A0WD',JD4*XO4)
		call SetUnitAbilityLevel(Hero,'A0VE',JD4*XO4)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A0WD',false)
	endif
	if JE4>0 then
		call Func2965(Hero,JE4*XB4)
	endif
	if JF4>0 then
		call UnitAddAbilityPermanent(Hero,'A0V7')
		call SetUnitAbilityLevel(Hero,'A0V7',JF4*X24)
	endif
endfunction

function Func2968 takes unit Hero,integer JD4,integer JE4,integer JF4 returns nothing
	local integer Orb1=0
	local integer Orb2=0
	local integer Orb3=0
	local integer JW4
	local integer JX4
	local integer JY4
	local integer JJ4
	local integer JK4
	local integer JL4
	local integer JM4
	local integer JN4
	local integer JS4
	call UnitRemoveAbility(Hero,'A0DN')
	call UnitRemoveAbility(Hero,'A0DG')
	call UnitRemoveAbility(Hero,'A0IX')
	call UnitRemoveAbility(Hero,'A0I1')
	call UnitRemoveAbility(Hero,'A0I0')
	call UnitRemoveAbility(Hero,'A0HZ')
	call UnitRemoveAbility(Hero,'A0IC')
	call UnitRemoveAbility(Hero,'A0IB')
	call UnitRemoveAbility(Hero,'A0ID')
	call UnitRemoveAbility(Hero,'A22C')
	call UnitRemoveAbility(Hero,'A22D')
	call UnitRemoveAbility(Hero,'A22E')
	call UnitRemoveAbility(Hero,'A22F')
	call UnitRemoveAbility(Hero,'A22G')
	call UnitRemoveAbility(Hero,'A22H')
	call UnitRemoveAbility(Hero,'A22I')
	call UnitRemoveAbility(Hero,'A22J')
	call UnitRemoveAbility(Hero,'A22K')
	if Func0344(Hero,integer351)==null then
		set JW4='A0DN'
		set JX4='A0DG'
		set JY4='A0IX'
		set JJ4='A0I1'
		set JK4='A0I0'
		set JL4='A0HZ'
		set JM4='A0IC'
		set JN4='A0IB'
		set JS4='A0ID'
	else
		set JW4='A22C'
		set JX4='A22D'
		set JY4='A22E'
		set JJ4='A22F'
		set JK4='A22G'
		set JL4='A22H'
		set JM4='A22I'
		set JN4='A22J'
		set JS4='A22K'
	endif
	if JD4==1 and JE4==0 and JF4==0 then
		call UnitAddAbilityPermanent(Hero,JW4)
	elseif JD4==0 and JE4==1 and JF4==0 then
		call UnitAddAbilityPermanent(Hero,JJ4)
	elseif JD4==0 and JE4==0 and JF4==1 then
		call UnitAddAbilityPermanent(Hero,JM4)
	elseif JD4==2 and JE4==0 and JF4==0 then
		call UnitAddAbilityPermanent(Hero,JW4)
		call UnitAddAbilityPermanent(Hero,JX4)
	elseif JD4==1 and JE4==1 and JF4==0 then
		call UnitAddAbilityPermanent(Hero,JW4)
		call UnitAddAbilityPermanent(Hero,JK4)
	elseif JD4==1 and JE4==0 and JF4==1 then
		call UnitAddAbilityPermanent(Hero,JW4)
		call UnitAddAbilityPermanent(Hero,JN4)
	elseif JD4==0 and JE4==2 and JF4==0 then
		call UnitAddAbilityPermanent(Hero,JJ4)
		call UnitAddAbilityPermanent(Hero,JK4)
	elseif JD4==0 and JE4==1 and JF4==1 then
		call UnitAddAbilityPermanent(Hero,JJ4)
		call UnitAddAbilityPermanent(Hero,JN4)
	elseif JD4==0 and JE4==0 and JF4==2 then
		call UnitAddAbilityPermanent(Hero,JM4)
		call UnitAddAbilityPermanent(Hero,JN4)
	elseif JD4==3 and JE4==0 and JF4==0 then
		call UnitAddAbilityPermanent(Hero,JW4)
		call UnitAddAbilityPermanent(Hero,JX4)
		call UnitAddAbilityPermanent(Hero,JY4)
	elseif JD4==2 and JE4==1 and JF4==0 then
		call UnitAddAbilityPermanent(Hero,JW4)
		call UnitAddAbilityPermanent(Hero,JX4)
		call UnitAddAbilityPermanent(Hero,JL4)
	elseif JD4==2 and JE4==0 and JF4==1 then
		call UnitAddAbilityPermanent(Hero,JW4)
		call UnitAddAbilityPermanent(Hero,JX4)
		call UnitAddAbilityPermanent(Hero,JS4)
	elseif JD4==1 and JE4==2 and JF4==0 then
		call UnitAddAbilityPermanent(Hero,JW4)
		call UnitAddAbilityPermanent(Hero,JK4)
		call UnitAddAbilityPermanent(Hero,JL4)
	elseif JD4==1 and JE4==1 and JF4==1 then
		call UnitAddAbilityPermanent(Hero,JW4)
		call UnitAddAbilityPermanent(Hero,JK4)
		call UnitAddAbilityPermanent(Hero,JS4)
	elseif JD4==1 and JE4==0 and JF4==2 then
		call UnitAddAbilityPermanent(Hero,JW4)
		call UnitAddAbilityPermanent(Hero,JN4)
		call UnitAddAbilityPermanent(Hero,JS4)
	elseif JD4==0 and JE4==1 and JF4==2 then
		call UnitAddAbilityPermanent(Hero,JM4)
		call UnitAddAbilityPermanent(Hero,JN4)
		call UnitAddAbilityPermanent(Hero,JL4)
	elseif JD4==0 and JE4==2 and JF4==1 then
		call UnitAddAbilityPermanent(Hero,JJ4)
		call UnitAddAbilityPermanent(Hero,JK4)
		call UnitAddAbilityPermanent(Hero,JS4)
	elseif JD4==0 and JE4==0 and JF4==3 then
		call UnitAddAbilityPermanent(Hero,JM4)
		call UnitAddAbilityPermanent(Hero,JN4)
		call UnitAddAbilityPermanent(Hero,JS4)
	elseif JD4==0 and JE4==3 and JF4==0 then
		call UnitAddAbilityPermanent(Hero,JJ4)
		call UnitAddAbilityPermanent(Hero,JK4)
		call UnitAddAbilityPermanent(Hero,JL4)
	endif
endfunction

function Func2969 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local integer h=GetHandleId(Hero)
	local integer JR4=GetSpellAbilityId()
	local integer JP4=(LoadInteger(HY,(h),(3010)))
	local integer JQ4=(LoadInteger(HY,(h),(3011)))
	local integer JU4=(LoadInteger(HY,(h),(3012)))
	local integer JD4=0
	local integer JE4=0
	local integer JF4=0
	set JP4=JQ4
	set JQ4=JU4
	set JU4=JR4
	if JP4=='A21X' then
		set JD4=JD4+1
	elseif JP4=='A21W' then
		set JE4=JE4+1
	elseif JP4=='A21V' then
		set JF4=JF4+1
	endif
	if JQ4=='A21X' then
		set JD4=JD4+1
	elseif JQ4=='A21W' then
		set JE4=JE4+1
	elseif JQ4=='A21V' then
		set JF4=JF4+1
	endif
	if JU4=='A21X' then
		set JD4=JD4+1
	elseif JU4=='A21W' then
		set JE4=JE4+1
	elseif JU4=='A21V' then
		set JF4=JF4+1
	endif
	call SaveInteger(HY,(h),(3010),(JP4))
	call SaveInteger(HY,(h),(3011),(JQ4))
	call SaveInteger(HY,(h),(3012),(JU4))
	call SaveInteger(HY,(h),(3013),(JD4))
	call SaveInteger(HY,(h),(3014),(JE4))
	call SaveInteger(HY,(h),(3015),(JF4))
	call Func2968(Hero,JD4,JE4,JF4)
	call Func2967(Hero)
	call Func2913(Hero)
endfunction

function Func2970 takes nothing returns nothing
	local unit Hero=tt_unit1
	local integer h=GetHandleId(Hero)
	local integer JP4=(LoadInteger(HY,(h),(3010)))
	local integer JQ4=(LoadInteger(HY,(h),(3011)))
	local integer JU4=(LoadInteger(HY,(h),(3012)))
	local integer JD4=0
	local integer JE4=0
	local integer JF4=0
	if JP4=='A21X' then
		set JD4=JD4+1
	elseif JP4=='A21W' then
		set JE4=JE4+1
	elseif JP4=='A21V' then
		set JF4=JF4+1
	endif
	if JQ4=='A21X' then
		set JD4=JD4+1
	elseif JQ4=='A21W' then
		set JE4=JE4+1
	elseif JQ4=='A21V' then
		set JF4=JF4+1
	endif
	if JU4=='A21X' then
		set JD4=JD4+1
	elseif JU4=='A21W' then
		set JE4=JE4+1
	elseif JU4=='A21V' then
		set JF4=JF4+1
	endif
	call Func2968(Hero,JD4,JE4,JF4)
	set Hero=null
endfunction

function Func2971 takes nothing returns boolean
	if IsUnitIllusion(GetTriggerUnit())==false and(GetLearnedSkill()=='A21X' or GetLearnedSkill()=='A21W' or GetLearnedSkill()=='A21V')then
		call Func2967(GetTriggerUnit())
		if GetLearnedSkill()=='A21X' then
			call SetHeroAgi(GetTriggerUnit(),GetHeroAgi(GetTriggerUnit(),false)+2,true)
			call SaveInteger(HY,(GetHandleId(GetTriggerUnit())),(3000),(GetUnitAbilityLevel(GetTriggerUnit(),'A21X')))
		endif
		if GetLearnedSkill()=='A21W' then
			call SetHeroStr(GetTriggerUnit(),GetHeroStr(GetTriggerUnit(),false)+2,true)
			call SaveInteger(HY,(GetHandleId(GetTriggerUnit())),(3001),(GetUnitAbilityLevel(GetTriggerUnit(),'A21W')))
		endif
		if GetLearnedSkill()=='A21V' then
			call SetHeroInt(GetTriggerUnit(),GetHeroInt(GetTriggerUnit(),false)+2,true)
			call SaveInteger(HY,(GetHandleId(GetTriggerUnit())),(3002),(GetUnitAbilityLevel(GetTriggerUnit(),'A21V')))
		endif
	endif
	return false
endfunction

function Func2972 takes nothing returns boolean
	if GetSpellAbilityId()=='A21X' or GetSpellAbilityId()=='A21W' or GetSpellAbilityId()=='A21V' then
		call Func2969()
	elseif GetSpellAbilityId()=='A21Y' or GetSpellAbilityId()=='A1GU' then
		call Func2966()
	endif
	return false
endfunction

function Func2973 takes nothing returns nothing
	local unit Hero=tt_unit1
	local integer i=1
	local integer OO1
	if GetUnitTypeId(Hero)!='H00U' then
		return
	endif
	loop
		exitwhen i>11
		set OO1=integers165[i]
		call UnitAddAbilityPermanent(Hero,OO1)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),OO1,false)
		set i=i+1
	endloop
	set Hero=null
endfunction

function Func2974 takes nothing returns boolean
	if GetUnitTypeId(GetTriggerUnit())=='H00U' and IsUnitIllusion(GetTriggerUnit())==false then
		set tt_unit1=GetTriggerUnit()
		call Func2973()
	elseif(GetUnitTypeId(GetTriggerUnit())=='Ubal' or GetUnitTypeId(GetTriggerUnit())=='E02X')and IsUnitIllusion(GetTriggerUnit())==false then
		set tt_unit1=GetTriggerUnit()
		call ExecuteFunc("Func3670")
	elseif GetUnitTypeId(GetTriggerUnit())=='H00I' and IsUnitIllusion(GetTriggerUnit())==false then
		set tt_unit1=GetTriggerUnit()
		call ExecuteFunc("Func3044")
	endif
	return false
endfunction

function Func2975 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call Func0125((integers165[1]))
	call Func0125((integers165[2]))
	call Func0125((integers165[3]))
	call Func0125((integers165[4]))
	call Func0125((integers165[5]))
	call Func0125((integers165[6]))
	call Func0125((integers165[7]))
	call Func0125((integers165[8]))
	call Func0125((integers165[9]))
	call Func0125((integers165[10]))
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2972))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2971))
	set t=null
	call DisplayTimedTextToForceEx(bj_FORCE_ALL_PLAYERS,15.00,GetObjectName('n06G'))
	call Func0127('A0XO',GetRandomReal(1,25))
	call Func0127('A0WD',GetRandomReal(1,25))
	call Func0127('A0VE',GetRandomReal(1,25))
	call Func0127('A0V7',GetRandomReal(1,25))
	call Func0127('A21V',GetRandomReal(1,25))
	call Func0127('A21X',GetRandomReal(1,25))
	call Func0127('A21W',GetRandomReal(1,25))
	call Func2898()
	call Func2904()
	call Func2909()
	call Func2915()
	call Func2923()
	call Func2932()
	call Func2944()
	call Func2952()
	call Func2957()
	call Func2962()
endfunction

function Func2976 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real dmg
	if lvl==1 then
		set dmg=15
	elseif lvl==2 then
		set dmg=30
	elseif lvl==3 then
		set dmg=40
	elseif lvl==4 then
		set dmg=50
	endif
	if GetTriggerEvalCount(t)==3 or GetTriggerEvalCount(t)==4 then
		call DamageTarget(source,target,1,dmg)
	endif
	if GetTriggerEvalCount(t)==4 then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call UnitRemoveAbility(target,'A1VS')
		call UnitRemoveAbility(target,'B0DN')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2977 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'AHtb')
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetEventDamageSource()==source and GetEventDamage()==0 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func2976))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveInteger(HY,(h),(5),(lvl))
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",target,"chest")))
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A1VS',false)
		call UnitAddAbilityPermanent(target,'A1VS')
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2978 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local real d=Func0139(source,target)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,6,false)
	call TriggerAddCondition(t,Condition(function Func2977))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	set t=null
	set source=null
	set target=null
endfunction

function Func2979 takes nothing returns nothing
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl",GetTriggerUnit(),"weapon"))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl",GetTriggerUnit(),"hand"))
endfunction

function Func2980 takes nothing returns boolean
	if GetSpellAbilityId()=='AHtb' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
			call Func2979()
		elseif IsBlocked(GetSpellTargetUnit())==false then
			call Func2978()
		endif
	endif
	return false
endfunction

function Func2981 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2980))
	set t=null
endfunction

function Func2982 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call SelectUnitForPlayerSingle(source,GetOwningPlayer(source))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func2983 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A01Y')
	local real DC1=360-100*lvl
	local unit caster
	if lvl==3 then
	endif
	if TimerGetRemaining(timers003[GetPlayerId(GetOwningPlayer(source))])==0 and GetUnitState(source,UNIT_STATE_MANA)>=140 then
		set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
		call UnitAddAbility(caster,'A274')
		call IssueImmediateOrder(caster,"thunderclap")
		call TimerStart(timers003[GetPlayerId(GetOwningPlayer(source))],DC1,false,null)
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,3+0.01,false)
		call TriggerAddCondition(t,Condition(function Func2982))
		call SaveUnitHandle(HY,(h),(2),(source))
	endif
	set t=null
	set source=null
	set caster=null
	return false
endfunction

function Func2984 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	call TriggerRegisterDeathEvent(t,source)
	call TriggerAddCondition(t,Condition(function Func2983))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
endfunction

function Func2985 takes nothing returns boolean
	if GetLearnedSkill()=='A01Y' and GetUnitAbilityLevel(GetTriggerUnit(),'A01Y')==1 and IsUnitIllusion(GetTriggerUnit())==false then
		call Func2984()
	endif
	return false
endfunction

function Func2986 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func2985))
	set t=null
endfunction

function Func2987 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A2S0')
	local real KD4=(LoadReal(HY,(h),(797)))
	local real KE4=(LoadReal(HY,(h),(798)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call SaveInteger(HY,(GetHandleId((source))),((4338)),(2))
		call UnitAddAbilityPermanent(source,'A2RZ')
		call SetUnitAbilityLevel(source,'A2RZ',lvl)
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif KD4>0 then
		call SaveInteger(HY,(GetHandleId((source))),((4338)),(2))
		if GetUnitTypeId(source)=='NC00' then
			call UnitAddAbilityPermanent(source,'A2RZ')
			call SetUnitAbilityLevel(source,'A2RZ',lvl)
		endif
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if IsDead(source)==false then
			call SetUnitState(source,UNIT_STATE_LIFE,Func0134(1,GetUnitState(source,UNIT_STATE_LIFE)-KD4))
		endif
		if IsDead(target)==false then
			call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)+KD4)
		endif
	else
		set KD4=GetUnitState(target,UNIT_STATE_MAX_LIFE)*0.2
		call SetUnitState(source,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_LIFE)+KD4)
		call SetUnitState(target,UNIT_STATE_LIFE,Func0134(1,GetUnitState(target,UNIT_STATE_LIFE)-KD4))
		call SaveReal(HY,(h),(797),((KD4)*1.0))
		call SaveReal(HY,(h),(798),((KE4)*1.0))
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func2988 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	call TriggerRegisterTimerEvent(t,0.01,false)
	call TriggerRegisterTimerEvent(t,7,false)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerAddCondition(t,Condition(function Func2987))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(797),((0)*1.0))
	call SaveReal(HY,(h),(798),((0)*1.0))
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("war3mapImported\\MortalStrikeCaster.mdx",source,"overhead")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("war3mapImported\\MortalStrikeTarget.mdx",target,"overhead")))
	call SaveInteger(HY,(GetHandleId((source))),((4338)),(1))
	call UnitRemoveAbility(source,'A2RZ')
	set t=null
	set source=null
	set target=null
endfunction

function Func2989 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(GetTriggerUnit(),'A2S0')
	if lvl==1 then
		call UnitAddAbilityPermanent(source,'A2RZ')
	elseif((LoadInteger(HY,(GetHandleId((source))),((4338))))==1)==false then
		call SetUnitAbilityLevel(source,'A2RZ',lvl)
	endif
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2RZ',false)
	set source=null
endfunction

function Func2990 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_PLAYER_HERO_SKILL then
		if GetLearnedSkill()=='A2S0' and IsUnitIllusion(GetTriggerUnit())==false then
			call Func2989()
		endif
	else
		if GetSpellAbilityId()=='A2S0' then
			if IsBlocked(GetSpellTargetUnit())==false then
				call Func2988()
			endif
		endif
	endif
	return false
endfunction

function Func2991 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2990))
	set t=null
endfunction

function Func2992 takes unit u returns boolean
	return GetUnitTypeId(u)=='E005' or GetUnitTypeId(u)=='H00E' or GetUnitTypeId(u)=='H00G' or GetUnitTypeId(u)=='H08D' or GetUnitTypeId(u)=='H08C' or GetUnitTypeId(u)=='H084' or GetUnitTypeId(u)=='H08B' or GetUnitTypeId(u)=='E02O'
endfunction

function Func2993 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source and GetEventDamage()>0 then
			call SetUnitState(source,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_LIFE)+GetEventDamage()*(0.1+0.05*lvl))
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",source,"origin"))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	return false
endfunction

function Func2994 takes unit source,unit target,integer lvl returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,2.5,false)
	call TriggerAddCondition(t,Condition(function Func2993))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(5),(lvl))
	set t=null
endfunction

function Func2995 takes nothing returns boolean
	if(Func2992(GetAttacker()) or IsUnitIllusion(GetAttacker()))and GetUnitAbilityLevel(GetAttacker(),'B0GY')>0 and((LoadInteger(HY,(GetHandleId((GetAttacker()))),((4419))))==1)==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
		call Func2994(GetAttacker(),GetTriggerUnit(),(LoadInteger(HY,(GetHandleId(GetAttacker())),(819))))
		call AddTimedKeyToUnit(GetAttacker(),4419,0.25)
	endif
	return false
endfunction

function Func2996 takes nothing returns nothing
	if boolean148 or(IsDead(GetEnumUnit())or IsUnitInRangeXY(GetEnumUnit(),GetUnitX(unit341),GetUnitY(unit341),900)==false or IsUnitType(GetEnumUnit(),UNIT_TYPE_RANGED_ATTACKER)==false)then
		call GroupRemoveUnit(group022,GetEnumUnit())
		call UnitRemoveAbility(GetEnumUnit(),'A2VL')
		if IsUnitType(GetEnumUnit(),UNIT_TYPE_RANGED_ATTACKER)==false then
			call UnitRemoveAbility(GetEnumUnit(),'B0GY')
			call UnitRemoveAbility(GetEnumUnit(),'B0H4')
		endif
	endif
endfunction

function Func2997 takes nothing returns nothing
	if IsUnitType(GetEnumUnit(),UNIT_TYPE_RANGED_ATTACKER)and IsUnitInGroup(GetEnumUnit(),group022)==false then
		call GroupAddUnit(group022,GetEnumUnit())
	endif
endfunction

function Func2998 takes unit SWI,integer U9I returns boolean
	local item BA1
	local boolean F81=false
	local boolean F91=true
	set BA1=CreateItem(U9I,GetUnitX(SWI),GetUnitY(SWI))
	if GetUnitAbilityLevel(SWI,'AInv')==0 then
		set F81=true
		call UnitAddAbilityPermanent(SWI,'AInv')
	endif
	if UnitAddItem(SWI,BA1)==false then
		call RemoveItem(BA1)
		set F91=false
	elseif GetWidgetLife(BA1)>0 then
		call RemoveItem(BA1)
		set F91=false
	else
		call RemoveItem(BA1)
	endif
	if F81 then
		call UnitRemoveAbility(SWI,'AInv')
	endif
	set BA1=null
	return F91
endfunction

function Func2999 takes nothing returns nothing
	local unit target=GetEnumUnit()
	if Func2992(target)or IsUnitIllusion(target) then
		call UnitRemoveAbility(target,'B0H4')
		call UnitAddAbilityPermanent(target,'A2VL')
		call SaveInteger(HY,(GetHandleId(target)),(819),(integer513))
	else
		call UnitRemoveAbility(target,'A2VL')
		call UnitRemoveAbility(target,'B0GY')
		call DisableTrigger(trigger057)
		call Func2998(target,integers166[integer513])
		call EnableTrigger(trigger057)
	endif
	set target=null
endfunction

function Func3000 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group FX4=(LoadGroupHandle(HY,(h),(22)))
	local group g
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or source==null then
		set boolean148=true
		call ForGroup(FX4,function Func2996)
		call KillGroup(FX4)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set group022=FX4
		set integer513=GetUnitAbilityLevel(source,'AUav')
		set boolean148=false
		set unit341=source
		set tt_unit1=source
		call ForGroup(FX4,function Func2996)
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),900+25,Condition(function Func0295))
		call ForGroup(g,function Func2997)
		call KillGroup(g)
		set g=null
		call ForGroup(FX4,function Func2999)
	endif
	set t=null
	set source=null
	set FX4=null
	return false
endfunction

function Func3001 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	if IsUnitIllusion(source)then
		call TriggerRegisterDeathEvent(t,source)
		call TriggerRegisterTimerEvent(t,1,true)
	else
		call TriggerRegisterTimerEvent(t,0.2,true)
	endif
	call TriggerAddCondition(t,Condition(function Func3000))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveGroupHandle(HY,(h),(22),(GetAvailableGroup()))
	set t=null
	set source=null
endfunction

function Func3002 takes nothing returns boolean
	if GetLearnedSkill()=='AUav' and GetUnitAbilityLevel(GetTriggerUnit(),'AUav')==1 then
		call Func3001()
	endif
	return false
endfunction

function Func3003 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3002))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func2995))
	set integers166[1]='I0QA'
	set integers166[2]='I0QB'
	set integers166[3]='I0QC'
	set integers166[4]='I0QD'
	set t=null
endfunction

constant function Poof_RawCode takes nothing returns integer
	return 'A0N8'
endfunction

constant function Poof_PrimaryUnitCode takes nothing returns integer
	return 'H00I'
endfunction

constant function Poof_SecondaryUnitCode takes nothing returns integer
	return 'H00J'
endfunction

function Func3004 takes unit SWI returns boolean
	return(GetUnitTypeId(SWI)==('H00I')or GetUnitTypeId(SWI)==('H00J')or GetUnitTypeId(SWI)==GetUnitTypeId(GetTriggerUnit()))and GetUnitState(SWI,UNIT_STATE_LIFE)>0.5 and GetOwningPlayer(SWI)==GetOwningPlayer(GetTriggerUnit())
endfunction

function Func3005 takes nothing returns boolean
	return GetSpellAbilityId()==('A0N8')
endfunction

function Func3006 takes nothing returns boolean
	return Func3004(GetFilterUnit())
endfunction

function Func3007 takes nothing returns nothing
	local unit HO2=GetEnumUnit()
	local real KU4=Func0140(HO2,location020)
	if KU4<real002 then
		set real002=KU4
		set unit002=HO2
	endif
endfunction

function Func3008 takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0
endfunction

function Func3009 takes nothing returns nothing
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl",GetEnumUnit(),"origin"))
	call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),real002,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE,WEAPON_TYPE_WHOKNOWS)
endfunction

function Func3010 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local location AM3
	local real x
	local real y
	local real SourceX=GetUnitX(source)
	local real SourceY=GetUnitY(source)
	local group Z51
	local boolexpr QL1
	local boolean LO4=false
	if target!=null and Func3004(target)then
		set x=GetUnitX(target)
		set y=GetUnitY(target)
		set LO4=true
	else
		set QL1=Condition(function Func3006)
		set Z51=GetAvailableGroup()
		call GroupEnumUnitsInRange(Z51,0,0,999999,QL1)
		if target!=null then
			set AM3=GetUnitLoc(target)
		else
			set AM3=GetSpellTargetLoc()
		endif
		set unit002=FirstOfGroup(Z51)
		if unit002!=null then
			set LO4=true
			call GroupRemoveUnit(Z51,unit002)
			set real002=Func0140(unit002,AM3)
			set location020=AM3
			call ForGroup(Z51,function Func3007)
			set target=unit002
			set x=GetUnitX(target)
			set y=GetUnitY(target)
		endif
		call KillGroup(Z51)
		call RemoveLocation(AM3)
	endif
	if LO4 then
		call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl",SourceX,SourceY))
		call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl",x,y))
		call SetUnitX(source,x)
		call SetUnitY(source,y)
		set real002=60+GetUnitAbilityLevel(GetTriggerUnit(),('A0N8'))*20
		set QL1=Condition(function Func3008)
		set Z51=GetAvailableGroup()
		call GroupEnumUnitsInRange(Z51,SourceX,SourceY,400,QL1)
		call ForGroup(Z51,function Func3009)
		call KillGroup(Z51)
		set Z51=GetAvailableGroup()
		call GroupEnumUnitsInRange(Z51,x,y,400,QL1)
		call ForGroup(Z51,function Func3009)
		call KillGroup(Z51)
	endif
endfunction

function Func3011 takes nothing returns boolean
	return GetSpellAbilityId()==('A0N8')
endfunction

function Func3012 takes nothing returns nothing
	call SetUnitAnimationByIndex((LoadUnitHandle(HY,(GetHandleId(GetExpiredTimer())),(221))),2)
endfunction

function Func3013 takes nothing returns nothing
	local timer t=CreateTimer()
	call SetUnitAnimationByIndex(GetTriggerUnit(),2)
	call SaveUnitHandle(HY,(GetHandleId(t)),(221),(GetTriggerUnit()))
	call TimerStart(t,1,false,function Func3012)
endfunction

function Func3014 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer i=1
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
	call TriggerAddCondition(t,Condition(function Func3011))
	call TriggerAddAction(t,function Func3013)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3005))
	call TriggerAddAction(t,function Func3010)
	loop
		exitwhen i>5
		call SetPlayerAbilityAvailable(Sentinels[i],'A2QA',false)
		call SetPlayerAbilityAvailable(Scourges[i],'A2QA',false)
		set i=i+1
	endloop
endfunction

constant function Trap_CastCode takes nothing returns integer
	return 'A0NB'
endfunction

constant function Trap_EffectCode takes nothing returns integer
	return 'A0NC'
endfunction

constant function Trap_Projectile takes nothing returns integer
	return 'h00C'
endfunction

constant function Trap_DummyNet takes nothing returns integer
	return 'h009'
endfunction

constant function Trap_Radius takes nothing returns integer
	return 245
endfunction

function Func3015 takes nothing returns boolean
	return GetSpellAbilityId()==('A0NB')
endfunction

function Func3016 takes nothing returns boolean
	return Func0091(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(unit002))and(Func0264(GetFilterUnit())==false or IsUnitVisible(GetFilterUnit(),GetOwningPlayer(unit002)))and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0.5 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and GetUnitTypeId(GetFilterUnit())!='n00L'
endfunction

function Func3017 takes nothing returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(GetEnumUnit()),'e00E',real002,real004,0)
	call UnitAddAbilityPermanent(caster,('A0NC'))
	call IssueTargetOrder(caster,"ensnare",GetEnumUnit())
endfunction

function Func3018 takes unit IG1,real x,real y returns nothing
	local boolexpr QL1=Condition(function Func3016)
	local group Z51=GetAvailableGroup()
	set unit002=IG1
	call GroupEnumUnitsInRange(Z51,x,y,(245),QL1)
	set real002=x
	set real004=y
	call ForGroup(Z51,function Func3017)
	call KillGroup(Z51)
endfunction

function Func3019 takes nothing returns nothing
	local timer t=GetExpiredTimer()
	local integer h=GetHandleId(t)
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local real SourceX=GetUnitX(IG1)
	local real SourceY=GetUnitY(IG1)
	local real IV1=GetUnitX(IG1)+30*Cos(RM2)
	local real IW1=GetUnitY(IG1)+30*Sin(RM2)
	if(IV1-QJI)*(IV1-QJI)+(IW1-QKI)*(IW1-QKI)<1200 then
		call SetUnitX(IG1,QJI)
		call SetUnitY(IG1,QKI)
		call Func3018(IG1,QJI,QKI)
		call PauseTimer(t)
		call FlushChildHashtable(HY,(h))
		call KillUnit(IG1)
		call DestroyTimer(t)
	else
		call SetUnitX(IG1,IV1)
		call SetUnitY(IG1,IW1)
	endif
endfunction

function Func3020 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local location AM3=GetSpellTargetLoc()
	local real QJI=SafeX50(GetLocationX(AM3))
	local real QKI=SafeY50(GetLocationY(AM3))
	local real SourceX=SafeX50(GetUnitX(Hero))
	local real SourceY=SafeY50(GetUnitY(Hero))
	local unit IG1=CreateUnit(GetOwningPlayer(Hero),('h00C'),SourceX,SourceY,0)
	local real RM2=Atan2(QKI-SourceY,QJI-SourceX)
	local timer t=CreateTimer()
	local integer h=GetHandleId(t)
	call SetUnitScale(IG1,2,2,2)
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveReal(HY,(h),(47),((QJI)*1.0))
	call SaveReal(HY,(h),(48),((QKI)*1.0))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call TimerStart(t,0.035,true,function Func3019)
	call RemoveLocation(AM3)
endfunction

function Func3021 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddAction(t,function Func3020)
	call TriggerAddCondition(t,Condition(function Func3015))
endfunction

function Func3022 takes unit u returns boolean
	return GetUnitTypeId(u)=='H00I' or GetUnitTypeId(u)=='H00J'
endfunction

constant function DoubleTrouble_RawCode takes nothing returns integer
	return 'A0MW'
endfunction

constant function DoubleTrouble_PrimaryUnitCode takes nothing returns integer
	return 'H00I'
endfunction

constant function DoubleTrouble_SecondaryUnitCode takes nothing returns integer
	return 'H00J'
endfunction

constant function DoubleTrouble_Ability1 takes nothing returns integer
	return 'A0N8'
endfunction

constant function DoubleTrouble_Ability2 takes nothing returns integer
	return 'A0NB'
endfunction

constant function DoubleTrouble_Ability3 takes nothing returns integer
	return 'A0N7'
endfunction

constant function DoubleTrouble_Item9 takes nothing returns integer
	return integers089[integer136]
endfunction

constant function DoubleTrouble_Item8 takes nothing returns integer
	return integers089[integer135]
endfunction

constant function DoubleTrouble_Item7 takes nothing returns integer
	return integers089[integer254]
endfunction

constant function DoubleTrouble_Item6 takes nothing returns integer
	return integers089[integer244]
endfunction

constant function DoubleTrouble_Item5 takes nothing returns integer
	return integers089[integer162]
endfunction

constant function DoubleTrouble_Item4 takes nothing returns integer
	return integers089[integer163]
endfunction

constant function DoubleTrouble_Item3 takes nothing returns integer
	return integers089[integer164]
endfunction

constant function DoubleTrouble_Item2 takes nothing returns integer
	return integers089[integer161]
endfunction

constant function DoubleTrouble_Item1 takes nothing returns integer
	return integers089[integer069]
endfunction

function Func3023 takes unit SWI returns boolean
	return GetUnitTypeId(SWI)==('H00I')or GetUnitTypeId(SWI)==('H00J')
endfunction

function DoubleTrouble_IsKoboldCondition takes nothing returns boolean
	return GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(unit002)and GetFilterUnit()!=unit002 and(GetUnitTypeId(GetFilterUnit())==('H00I')or GetUnitTypeId(GetFilterUnit())==('H00J'))
endfunction

function DoubleTrouble_UnshareXPCondition takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(unit002)) and Func3023(GetFilterUnit())==false
endfunction

function DoubleTrouble_UnshareXPGive takes nothing returns nothing
	call AddHeroXP(GetEnumUnit(),integer011,true)
endfunction

function Func3024 takes nothing returns nothing
	local integer LE4=GetHandleId(GetTriggeringTrigger())
	local player T4I=(LoadPlayerHandle(HY,(LE4),(370)))
	local integer LF4=GetHandleId(T4I)
	local unit W41=(LoadUnitHandle(HY,(LF4),(699)))
	local unit W51=(LoadUnitHandle(HY,(LF4),(700)))
	local unit W61=(LoadUnitHandle(HY,(LF4),(701)))
	local unit W71=(LoadUnitHandle(HY,(LF4),(702)))
	local unit W81=(LoadUnitHandle(HY,(LF4),(703)))
	local integer LG4=GetUnitAbilityLevel(W41,'Aamk')*2
	local integer JJ3=GetHeroAgi(W41,false)
	local integer LH4=GetHeroAgi(W41,true)-JJ3-LG4
	local integer JK3=GetHeroStr(W41,false)
	local integer LZ4=GetHeroStr(W41,true)-JK3-LG4
	local integer LV4=GetHeroInt(W41,false)
	local integer LW4=GetHeroInt(W41,true)-LV4-LG4
	local real LX4=0
	local integer LY4
	local integer LJ4
	local integer LK4
	if boolean149 then
		set LX4=1.0
	endif
	set LY4=R2I(JJ3+LH4*LX4)
	set LJ4=R2I(JK3+LZ4*LX4)
	set LK4=R2I(LV4+LW4*LX4)
	if GetUnitState(W41,UNIT_STATE_LIFE)>1 then
		if W51!=null then
			call SetHeroAgi(W51,LY4,false)
			call SetHeroStr(W51,LJ4,false)
			call SetHeroInt(W51,LK4,false)
		endif
		if W61!=null then
			call SetHeroAgi(W61,LY4,false)
			call SetHeroStr(W61,LJ4,false)
			call SetHeroInt(W61,LK4,false)
		endif
		if W71!=null then
			call SetHeroAgi(W71,LY4,false)
			call SetHeroStr(W71,LJ4,false)
			call SetHeroInt(W71,LK4,false)
		endif
		if W81!=null then
			call SetHeroAgi(W81,LY4,false)
			call SetHeroStr(W81,LJ4,false)
			call SetHeroInt(W81,LK4,false)
		endif
	endif
endfunction

function Func3025 takes nothing returns nothing
	local integer LE4=GetHandleId(GetTriggeringTrigger())
	local player T4I=(LoadPlayerHandle(HY,(LE4),(370)))
	local integer LF4=GetHandleId(T4I)
	local unit W41=(LoadUnitHandle(HY,(LF4),(699)))
	local unit W51=(LoadUnitHandle(HY,(LF4),(700)))
	local unit W61=(LoadUnitHandle(HY,(LF4),(701)))
	local unit W71=(LoadUnitHandle(HY,(LF4),(702)))
	local unit W81=(LoadUnitHandle(HY,(LF4),(703)))
	local integer LM4=GetHandleId(W41)
	local integer LN4=GetHandleId(W51)
	local integer LS4=GetHandleId(W61)
	local integer LT4=GetHandleId(W71)
	local integer LR4=GetHandleId(W81)
	local integer LP4=(LoadInteger(HY,(LM4),(367)))
	local integer LQ4=(LoadInteger(HY,(LM4),(368)))
	local integer LU4=(LoadInteger(HY,(LN4),(367)))
	local integer M04=(LoadInteger(HY,(LN4),(368)))
	local integer MI4=(LoadInteger(HY,(LS4),(367)))
	local integer M14=(LoadInteger(HY,(LS4),(368)))
	local integer MO4=(LoadInteger(HY,(LT4),(367)))
	local integer M24=(LoadInteger(HY,(LT4),(368)))
	local integer M34=(LoadInteger(HY,(LR4),(367)))
	local integer M44=(LoadInteger(HY,(LR4),(368)))
	local integer M54=GetHeroXP(W41)
	local integer M64=GetHeroXP(W51)
	local integer M74=GetHeroXP(W61)
	local integer M84=GetHeroXP(W71)
	local integer M94=GetHeroXP(W81)
	local integer MA4=M54-LP4-LQ4
	local integer MB4=M64-LU4-M04
	local integer MC4=M74-MI4-M14
	local integer MD4=M84-MO4-M24
	local integer ME4=M94-M34-M44
	if GetUnitState(W41,UNIT_STATE_LIFE)>1 then
		set LP4=LP4+MA4
		set LU4=LU4+MB4
		set MI4=MI4+MC4
		set MO4=MO4+MD4
		set M34=M34+ME4
		if W41!=null then
			call AddHeroXP(W51,MA4,false)
			if GetHeroXP(W51)!=M64 then
				set M04=M04+MA4
			endif
			call AddHeroXP(W61,MA4,false)
			if GetHeroXP(W61)!=M74 then
				set M14=M14+MA4
			endif
			call AddHeroXP(W71,MA4,false)
			if GetHeroXP(W71)!=M84 then
				set M24=M24+MA4
			endif
			call AddHeroXP(W81,MA4,false)
			if GetHeroXP(W81)!=M94 then
				set M44=M44+MA4
			endif
		endif
		if W51!=null then
			call AddHeroXP(W41,MB4,false)
			if GetHeroXP(W41)!=M54 then
				set LQ4=LQ4+MB4
			endif
			call AddHeroXP(W61,MB4,false)
			if GetHeroXP(W61)!=M74 then
				set M14=M14+MB4
			endif
			call AddHeroXP(W71,MB4,false)
			if GetHeroXP(W71)!=M84 then
				set M24=M24+MB4
			endif
			call AddHeroXP(W81,MB4,false)
			if GetHeroXP(W81)!=M94 then
				set M44=M44+MB4
			endif
		endif
		if W61!=null then
			call AddHeroXP(W51,MC4,false)
			if GetHeroXP(W51)!=M64 then
				set M04=M04+MC4
			endif
			call AddHeroXP(W41,MC4,false)
			if GetHeroXP(W41)!=M54 then
				set LQ4=LQ4+MC4
			endif
			call AddHeroXP(W71,MC4,false)
			if GetHeroXP(W71)!=M84 then
				set M24=M24+MC4
			endif
			call AddHeroXP(W81,MC4,false)
			if GetHeroXP(W81)!=M94 then
				set M44=M44+MC4
			endif
		endif
		if W71!=null then
			call AddHeroXP(W51,MD4,false)
			if GetHeroXP(W51)!=M64 then
				set M04=M04+MD4
			endif
			call AddHeroXP(W61,MD4,false)
			if GetHeroXP(W61)!=M74 then
				set M14=M14+MD4
			endif
			call AddHeroXP(W41,MD4,false)
			if GetHeroXP(W41)!=M54 then
				set LQ4=LQ4+MD4
			endif
			call AddHeroXP(W81,MD4,false)
			if GetHeroXP(W81)!=M94 then
				set M44=M44+MD4
			endif
		endif
		if W81!=null then
			call AddHeroXP(W51,ME4,false)
			if GetHeroXP(W51)!=M64 then
				set M04=M04+ME4
			endif
			call AddHeroXP(W61,ME4,false)
			if GetHeroXP(W61)!=M74 then
				set M14=M14+ME4
			endif
			call AddHeroXP(W41,ME4,false)
			if GetHeroXP(W41)!=M54 then
				set LQ4=LQ4+ME4
			endif
			call AddHeroXP(W71,ME4,false)
			if GetHeroXP(W71)!=M84 then
				set M24=M24+ME4
			endif
		endif
		call SaveInteger(HY,(LM4),(367),(LP4))
		call SaveInteger(HY,(LM4),(368),(LQ4))
		call SaveInteger(HY,(LN4),(367),(LU4))
		call SaveInteger(HY,(LN4),(368),(M04))
		call SaveInteger(HY,(LS4),(367),(MI4))
		call SaveInteger(HY,(LS4),(368),(M14))
		call SaveInteger(HY,(LT4),(367),(MO4))
		call SaveInteger(HY,(LT4),(368),(M24))
		call SaveInteger(HY,(LR4),(367),(M34))
		call SaveInteger(HY,(LR4),(368),(M44))
	endif
endfunction

function Func3026 takes nothing returns boolean
	return Func3023(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false
endfunction

function Func3027 takes nothing returns nothing
	local unit AD1=GetTriggerUnit()
	local integer h=GetHandleId(GetOwningPlayer(AD1))
	local unit W41=(LoadUnitHandle(HY,(h),(699)))
	local unit W51=(LoadUnitHandle(HY,(h),(700)))
	local unit W61=(LoadUnitHandle(HY,(h),(701)))
	local unit W71=(LoadUnitHandle(HY,(h),(702)))
	local unit W81=(LoadUnitHandle(HY,(h),(703)))
	local boolean I4O=false
	call DisableTrigger(trigger003)
	if W41!=null and W41!=AD1 then
		call KillUnit(W41)
	endif
	if W51!=null and W51!=AD1 then
		call KillUnit(W51)
	endif
	if W61!=null and W61!=AD1 then
		call KillUnit(W61)
	endif
	if W71!=null and W71!=AD1 then
		call KillUnit(W71)
	endif
	if W81!=null and W81!=AD1 then
		call KillUnit(W81)
	endif
	call EnableTrigger(trigger003)
endfunction

function Func3028 takes nothing returns boolean
	return Func3023(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false
endfunction

function Func3029 takes unit MV4,unit Hero returns nothing
	local trigger t=(LoadTriggerHandle(HY,(GetHandleId(GetOwningPlayer(Hero))),(369)))
	local integer i=0
	local boolean MW4=false
	local boolean MX4=false
	local boolean MY4=false
	local boolean MJ4=false
	local boolean MK4=false
	local boolean ML4=false
	local boolean MM4=false
	local boolean MN4=false
	local boolean MS4=false
	call DisableTrigger(t)
	call DisableTrigger(trigger057)
	loop
		exitwhen i>5
		if GetItemTypeId(UnitItemInSlot(Hero,i))==(integers089[integer069])then
			set MW4=true
		endif
		if GetItemTypeId(UnitItemInSlot(Hero,i))==(integers089[integer161])then
			set MX4=true
		endif
		if GetItemTypeId(UnitItemInSlot(Hero,i))==(integers089[integer164])then
			set MY4=true
		endif
		if GetItemTypeId(UnitItemInSlot(Hero,i))==(integers089[integer163])then
			set MJ4=true
		endif
		if GetItemTypeId(UnitItemInSlot(Hero,i))==(integers089[integer162])then
			set MK4=true
		endif
		if GetItemTypeId(UnitItemInSlot(Hero,i))==(integers089[integer244])then
			set ML4=true
		endif
		if GetItemTypeId(UnitItemInSlot(Hero,i))==(integers089[integer254])then
			set MM4=true
		endif
		if GetItemTypeId(UnitItemInSlot(Hero,i))==(integers089[integer135])then
			set MN4=true
		endif
		if GetItemTypeId(UnitItemInSlot(Hero,i))==(integers089[integer136])then
			set MS4=true
		endif
		set i=i+1
	endloop
	if MS4 then
		call UnitAddItem(MV4,CreateItem((integers089[integer136]),0,0))
	elseif MN4 then
		call UnitAddItem(MV4,CreateItem((integers089[integer135]),0,0))
	elseif MM4 then
		call UnitAddItem(MV4,CreateItem((integers089[integer254]),0,0))
	elseif ML4 then
		call UnitAddItem(MV4,CreateItem((integers089[integer244]),0,0))
	elseif MK4 then
		call UnitAddItem(MV4,CreateItem((integers089[integer162]),0,0))
	elseif MJ4 then
		call UnitAddItem(MV4,CreateItem((integers089[integer163]),0,0))
	elseif MY4 then
		call UnitAddItem(MV4,CreateItem((integers089[integer164]),0,0))
	elseif MX4 then
		call UnitAddItem(MV4,CreateItem((integers089[integer161]),0,0))
	elseif MW4 then
		call UnitAddItem(MV4,CreateItem((integers089[integer069]),0,0))
	endif
	call EnableTrigger(t)
	call EnableTrigger(trigger057)
endfunction

function Func3030 takes nothing returns nothing
	local unit W91=GetTriggerUnit()
	local integer i=0
	local boolean MW4=false
	local boolean MX4=false
	local boolean MY4=false
	local boolean MJ4=false
	local boolean MK4=false
	local boolean ML4=false
	local boolean MM4=false
	local boolean MN4=false
	local boolean MS4=false
	local integer LF4=GetHandleId(GetOwningPlayer(W91))
	local unit W41=(LoadUnitHandle(HY,(LF4),(699)))
	local unit W51=(LoadUnitHandle(HY,(LF4),(700)))
	local unit W61=(LoadUnitHandle(HY,(LF4),(701)))
	local unit W71=(LoadUnitHandle(HY,(LF4),(702)))
	local unit W81=(LoadUnitHandle(HY,(LF4),(703)))
	local integer FH1
	local boolean MR4=false
	local integer MP4=0
	local integer MQ4=0
	local integer MU4=0
	local integer N04=0
	local integer NI4=0
	local integer N14=0
	local integer NO4=0
	local integer N24=0
	local integer N34=0
	call DisableTrigger(GetTriggeringTrigger())
	if GetUnitTypeId(W91)==('H00J')then
		call UnitRemoveItemFromSlot(W91,0)
		call EnableTrigger(GetTriggeringTrigger())
		return
	endif
	if not(GetItemTypeId(GetManipulatedItem())==(integers089[integer069])or GetItemTypeId(GetManipulatedItem())==(integers089[integer161])or GetItemTypeId(GetManipulatedItem())==(integers089[integer164])or GetItemTypeId(GetManipulatedItem())==(integers089[integer163])or GetItemTypeId(GetManipulatedItem())==(integers089[integer162])or GetItemTypeId(GetManipulatedItem())==(integers089[integer244])or GetItemTypeId(GetManipulatedItem())==(integers089[integer254])or GetItemTypeId(GetManipulatedItem())==(integers089[integer135])or GetItemTypeId(GetManipulatedItem())==(integers089[integer136]))then
		call EnableTrigger(GetTriggeringTrigger())
		return
	endif
	call DisableTrigger(trigger057)
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM then
		set MR4=true
	endif
	loop
		exitwhen i>5
		set FH1=GetItemTypeId(UnitItemInSlot(W91,i))
		if FH1==(integers089[integer069])then
			set MP4=MP4+1
			if(not(MR4 and FH1==GetItemTypeId(GetManipulatedItem())))or(MP4>1 and FH1==GetItemTypeId(GetManipulatedItem()))then
				set MW4=true
			endif
		endif
		if FH1==(integers089[integer161])then
			set MQ4=MQ4+1
			if(not(MR4 and FH1==GetItemTypeId(GetManipulatedItem())))or(MQ4>1 and FH1==GetItemTypeId(GetManipulatedItem()))then
				set MX4=true
			endif
		endif
		if FH1==(integers089[integer164])then
			set MU4=MU4+1
			if(not(MR4 and FH1==GetItemTypeId(GetManipulatedItem())))or(MU4>1 and FH1==GetItemTypeId(GetManipulatedItem()))then
				set MY4=true
			endif
		endif
		if FH1==(integers089[integer163])then
			set N04=N04+1
			if(not(MR4 and FH1==GetItemTypeId(GetManipulatedItem())))or(N04>1 and FH1==GetItemTypeId(GetManipulatedItem()))then
				set MJ4=true
			endif
		endif
		if FH1==(integers089[integer162])then
			set NI4=NI4+1
			if(not(MR4 and FH1==GetItemTypeId(GetManipulatedItem())))or(NI4>1 and FH1==GetItemTypeId(GetManipulatedItem()))then
				set MK4=true
			endif
		endif
		if FH1==(integers089[integer244])then
			set N14=N14+1
			if(not(MR4 and FH1==GetItemTypeId(GetManipulatedItem())))or(N14>1 and FH1==GetItemTypeId(GetManipulatedItem()))then
				set ML4=true
			endif
		endif
		if FH1==(integers089[integer254])then
			set NO4=NO4+1
			if(not(MR4 and FH1==GetItemTypeId(GetManipulatedItem())))or(NO4>1 and FH1==GetItemTypeId(GetManipulatedItem()))then
				set MM4=true
			endif
		endif
		if FH1==(integers089[integer135])then
			set N24=N24+1
			if(not(MR4 and FH1==GetItemTypeId(GetManipulatedItem())))or(N24>1 and FH1==GetItemTypeId(GetManipulatedItem()))then
				set MN4=true
			endif
		endif
		if FH1==(integers089[integer136])then
			set N34=N34+1
			if(not(MR4 and FH1==GetItemTypeId(GetManipulatedItem())))or(N24>1 and FH1==GetItemTypeId(GetManipulatedItem()))then
				set MS4=true
			endif
		endif
		set i=i+1
	endloop
	call RemoveItem(UnitRemoveItemFromSlot(W51,0))
	if W61!=null then
		call RemoveItem(UnitRemoveItemFromSlot(W61,0))
	endif
	if W71!=null then
		call RemoveItem(UnitRemoveItemFromSlot(W71,0))
	endif
	if W81!=null then
		call RemoveItem(UnitRemoveItemFromSlot(W81,0))
	endif
	if MS4 then
		call UnitAddItem(W51,CreateItem((integers089[integer136]),0,0))
		if W61!=null then
			call UnitAddItem(W61,CreateItem((integers089[integer136]),0,0))
		endif
		if W71!=null then
			call UnitAddItem(W71,CreateItem((integers089[integer136]),0,0))
		endif
		if W81!=null then
			call UnitAddItem(W81,CreateItem((integers089[integer136]),0,0))
		endif
	elseif MN4 then
		call UnitAddItem(W51,CreateItem((integers089[integer135]),0,0))
		if W61!=null then
			call UnitAddItem(W61,CreateItem((integers089[integer135]),0,0))
		endif
		if W71!=null then
			call UnitAddItem(W71,CreateItem((integers089[integer135]),0,0))
		endif
		if W81!=null then
			call UnitAddItem(W81,CreateItem((integers089[integer135]),0,0))
		endif
	elseif MM4 then
		call UnitAddItem(W51,CreateItem((integers089[integer254]),0,0))
		if W61!=null then
			call UnitAddItem(W61,CreateItem((integers089[integer254]),0,0))
		endif
		if W71!=null then
			call UnitAddItem(W71,CreateItem((integers089[integer254]),0,0))
		endif
		if W81!=null then
			call UnitAddItem(W81,CreateItem((integers089[integer254]),0,0))
		endif
	elseif ML4 then
		call UnitAddItem(W51,CreateItem((integers089[integer244]),0,0))
		if W61!=null then
			call UnitAddItem(W61,CreateItem((integers089[integer244]),0,0))
		endif
		if W71!=null then
			call UnitAddItem(W71,CreateItem((integers089[integer244]),0,0))
		endif
		if W81!=null then
			call UnitAddItem(W81,CreateItem((integers089[integer244]),0,0))
		endif
	elseif MK4 then
		call UnitAddItem(W51,CreateItem((integers089[integer162]),0,0))
		if W61!=null then
			call UnitAddItem(W61,CreateItem((integers089[integer162]),0,0))
		endif
		if W71!=null then
			call UnitAddItem(W71,CreateItem((integers089[integer162]),0,0))
		endif
		if W81!=null then
			call UnitAddItem(W81,CreateItem((integers089[integer162]),0,0))
		endif
	elseif MJ4 then
		call UnitAddItem(W51,CreateItem((integers089[integer163]),0,0))
		if W61!=null then
			call UnitAddItem(W61,CreateItem((integers089[integer163]),0,0))
		endif
		if W71!=null then
			call UnitAddItem(W71,CreateItem((integers089[integer163]),0,0))
		endif
		if W81!=null then
			call UnitAddItem(W81,CreateItem((integers089[integer163]),0,0))
		endif
	elseif MY4 then
		call UnitAddItem(W51,CreateItem((integers089[integer164]),0,0))
		if W61!=null then
			call UnitAddItem(W61,CreateItem((integers089[integer164]),0,0))
		endif
		if W71!=null then
			call UnitAddItem(W71,CreateItem((integers089[integer164]),0,0))
		endif
		if W81!=null then
			call UnitAddItem(W81,CreateItem((integers089[integer164]),0,0))
		endif
	elseif MX4 then
		call UnitAddItem(W51,CreateItem((integers089[integer161]),0,0))
		if W61!=null then
			call UnitAddItem(W61,CreateItem((integers089[integer161]),0,0))
		endif
		if W71!=null then
			call UnitAddItem(W71,CreateItem((integers089[integer161]),0,0))
		endif
		if W81!=null then
			call UnitAddItem(W81,CreateItem((integers089[integer161]),0,0))
		endif
	elseif MW4 then
		call UnitAddItem(W51,CreateItem((integers089[integer069]),0,0))
		if W61!=null then
			call UnitAddItem(W61,CreateItem((integers089[integer069]),0,0))
		endif
		if W71!=null then
			call UnitAddItem(W71,CreateItem((integers089[integer069]),0,0))
		endif
		if W81!=null then
			call UnitAddItem(W81,CreateItem((integers089[integer069]),0,0))
		endif
	endif
	call EnableTrigger(GetTriggeringTrigger())
	call EnableTrigger(trigger057)
endfunction

function Func3031 takes unit N54,integer N64 returns nothing
	local integer LF4=GetHandleId(GetOwningPlayer(N54))
	local unit W41=(LoadUnitHandle(HY,(LF4),(699)))
	local unit W51=(LoadUnitHandle(HY,(LF4),(700)))
	local unit W61=(LoadUnitHandle(HY,(LF4),(701)))
	local unit W71=(LoadUnitHandle(HY,(LF4),(702)))
	local unit W81=(LoadUnitHandle(HY,(LF4),(703)))
	if W41!=null and W41!=N54 then
		call SelectHeroSkill(W41,N64)
	endif
	if W51!=null and W51!=N54 then
		call SelectHeroSkill(W51,N64)
	endif
	if W61!=null and W61!=N54 then
		call SelectHeroSkill(W61,N64)
	endif
	if W71!=null and W71!=N54 then
		call SelectHeroSkill(W71,N64)
	endif
	if W81!=null and W81!=N54 then
		call SelectHeroSkill(W81,N64)
	endif
endfunction

function Func3032 takes integer aid,unit H02,unit HI2 returns nothing
	local integer TGI=1
	local integer THI=GetUnitAbilityLevel(H02,aid)
	loop
		exitwhen TGI>THI
		call SelectHeroSkill(HI2,aid)
		set TGI=TGI+1
	endloop
endfunction

function Func3033 takes unit MV4,unit N94 returns nothing
	call AddHeroXP(MV4,GetHeroXP(N94),false)
	call SaveInteger(HY,(GetHandleId(MV4)),(368),(GetHeroXP(N94)))
	call SaveInteger(HY,(GetHandleId(MV4)),(367),(0))
	call Func3032(('A0N8'),N94,MV4)
	call Func3032(('A0NB'),N94,MV4)
	call Func3032(('A0N7'),N94,MV4)
	call Func3032('Aamk',N94,MV4)
	call Func3032(('A0MW'),N94,MV4)
	call Func3032('A27C',N94,MV4)
endfunction

function Func3034 takes unit W51,unit W61,integer N64,integer MP4,integer MQ4 returns nothing
	if MP4>MQ4 then
		call SelectHeroSkill(W61,N64)
	elseif MQ4>MP4 then
		call SelectHeroSkill(W51,N64)
	endif
endfunction

function Func3035 takes unit W51,unit W61 returns nothing
	local integer M64=GetHeroXP(W51)
	local integer M74=GetHeroXP(W61)
	local integer LN4=GetHandleId(W51)
	local integer LS4=GetHandleId(W61)
	local integer M04=(LoadInteger(HY,(LN4),(368)))
	local integer M14=(LoadInteger(HY,(LS4),(368)))
	local integer GV2
	if M64>M74 then
		set GV2=M64-M74
		call AddHeroXP(W61,GV2,true)
		if M74!=GetHeroXP(W61)then
			call SaveInteger(HY,(LS4),(368),(M14+GV2))
		endif
	elseif M64<M74 then
		set GV2=M74-M64
		call AddHeroXP(W51,GV2,true)
		if M64!=GetHeroXP(W51)then
			call SaveInteger(HY,(LN4),(368),(M04+GV2))
		endif
	endif
endfunction

function Func3036 takes unit W51,unit W61 returns nothing
	local integer ND4=GetUnitAbilityLevel(W51,('A0N8'))
	local integer NE4=GetUnitAbilityLevel(W51,('A0NB'))
	local integer NF4=GetUnitAbilityLevel(W51,('A0N7'))
	local integer NG4=GetUnitAbilityLevel(W51,('A0MW'))
	local integer NH4=GetUnitAbilityLevel(W51,'Aamk')
	local integer NZ4=GetUnitAbilityLevel(W51,'A27C')
	local integer NV4=GetUnitAbilityLevel(W61,('A0N8'))
	local integer NW4=GetUnitAbilityLevel(W61,('A0NB'))
	local integer NX4=GetUnitAbilityLevel(W61,('A0N7'))
	local integer NY4=GetUnitAbilityLevel(W61,('A0MW'))
	local integer NJ4=GetUnitAbilityLevel(W61,'Aamk')
	local integer NK4=GetUnitAbilityLevel(W61,'A27C')
	call Func3035(W51,W61)
	call Func3034(W51,W61,('A0N8'),ND4,NV4)
	call Func3034(W51,W61,('A0NB'),NE4,NW4)
	call Func3034(W51,W61,('A0N7'),NF4,NX4)
	call Func3034(W51,W61,('A0MW'),NG4,NY4)
	call Func3034(W51,W61,'A27C',NZ4,NK4)
	call Func3034(W51,W61,'Aamk',NH4,NJ4)
endfunction

function Func3037 takes unit W51,unit W61 returns nothing
	if W51!=null and W61!=null then
		call Func3036(W51,W61)
	endif
endfunction

function Func3038 takes nothing returns nothing
	local integer LF4=GetHandleId((LoadPlayerHandle(HY,(GetHandleId(GetTriggeringTrigger())),(370))))
	local unit W41=(LoadUnitHandle(HY,(LF4),(699)))
	local unit W51=(LoadUnitHandle(HY,(LF4),(700)))
	local unit W61=(LoadUnitHandle(HY,(LF4),(701)))
	local unit W71=(LoadUnitHandle(HY,(LF4),(702)))
	local unit W81=(LoadUnitHandle(HY,(LF4),(703)))
	call DisableTrigger(trigger070)
	call Func3037(W41,W51)
	call Func3037(W41,W61)
	call Func3037(W41,W71)
	call Func3037(W41,W81)
	call Func3037(W51,W61)
	call Func3037(W51,W71)
	call Func3037(W51,W81)
	call Func3037(W61,W71)
	call Func3037(W61,W81)
	call Func3037(W71,W81)
	call EnableTrigger(trigger070)
endfunction

function Func3039 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.2,true)
	call TriggerAddAction(t,function Func3038)
	call SavePlayerHandle(HY,(GetHandleId(t)),(370),(GetOwningPlayer(GetTriggerUnit())))
endfunction

function Func3040 takes unit source returns nothing
	local trigger t
	call SaveUnitHandle(HY,(GetHandleId(GetOwningPlayer(source))),(699),(source))
	call SaveInteger(HY,(GetHandleId(source)),(367),(GetHeroXP(source)))
	call SaveInteger(HY,(GetHandleId(source)),(368),(0))
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddAction(t,function Func3025)
	call SavePlayerHandle(HY,(GetHandleId(t)),(370),(GetOwningPlayer(source)))
	call SaveTriggerHandle(HY,(GetHandleId(GetOwningPlayer(source))),(371),(t))
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.3,true)
	call TriggerAddAction(t,function Func3024)
	call SavePlayerHandle(HY,(GetHandleId(t)),(370),(GetOwningPlayer(source)))
	call SaveTriggerHandle(HY,(GetHandleId(GetOwningPlayer(source))),(372),(t))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddAction(t,function Func3027)
	call TriggerAddCondition(t,Condition(function Func3026))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DROP_ITEM)
	call TriggerAddAction(t,function Func3030)
	call TriggerAddCondition(t,Condition(function Func3028))
	call SaveTriggerHandle(HY,(GetHandleId(GetOwningPlayer(source))),(369),(t))
	call ExecuteFunc("Func3039")
endfunction

function Func3041 takes unit source,boolean G4O returns nothing
	local player T4I=GetOwningPlayer(source)
	local integer h=GetHandleId(T4I)
	local unit MV4
	set integer514=integer514+1
	if integer514==1 then
		call Func3040(source)
	endif
	call TriggerExecute((LoadTriggerHandle(HY,(GetHandleId(GetOwningPlayer(source))),(371))))
	call TriggerExecute((LoadTriggerHandle(HY,(GetHandleId(GetOwningPlayer(source))),(372))))
	if G4O==false then
		call Func3031(source,'A0MW')
		call Func3031(source,'A27C')
	endif
	set MV4=CreateUnit(GetOwningPlayer(source),'H00J',GetUnitX(source),GetUnitY(source),0)
	call Func3033(MV4,source)
	call Func3029(MV4,source)
	call SaveUnitHandle(HY,(h),(699+integer514),(MV4))
endfunction

function Func3042 takes nothing returns nothing
	if boolean149==false then
		set boolean149=true
		call DisableTrigger(trigger070)
		call Func3041(tt_unit1,true)
		call EnableTrigger(trigger070)
	endif
endfunction

function Func3043 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if IsUnitIllusion(GetTriggerUnit())==false and GetOwningPlayer(GetTriggerUnit())==GetOwningPlayer(source)and Func3022(GetTriggerUnit())then
		if GetLearnedSkill()=='A0MW' or GetLearnedSkill()=='A27C' then
			call DisableTrigger(GetTriggeringTrigger())
			call Func3041(GetTriggerUnit(),false)
			call EnableTrigger(GetTriggeringTrigger())
		elseif GetLearnedSkill()=='Aamk' or GetLearnedSkill()=='A0N8' or GetLearnedSkill()=='A0NB' or GetLearnedSkill()=='A0N7' then
			call TriggerExecute((LoadTriggerHandle(HY,(GetHandleId(GetOwningPlayer(GetTriggerUnit()))),(371))))
			call TriggerExecute((LoadTriggerHandle(HY,(GetHandleId(GetOwningPlayer(GetTriggerUnit()))),(372))))
			call DisableTrigger(GetTriggeringTrigger())
			call Func3031(GetTriggerUnit(),GetLearnedSkill())
			call EnableTrigger(GetTriggeringTrigger())
		endif
	endif
	return false
endfunction

function Func3044 takes nothing returns nothing
	local unit source=tt_unit1
	local integer h
	set trigger069=CreateTrigger()
	set trigger070=trigger069
	set h=GetHandleId(trigger069)
	call TriggerRegisterAnyUnitEvent(trigger069,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(trigger069,Condition(function Func3043))
	call SaveUnitHandle(HY,(h),(2),(source))
	set source=null
endfunction

function Func3045 takes nothing returns nothing
	local location l=GetSpellTargetLoc()
	call Func0154("Abilities\\Spells\\Orc\\EarthQuake\\EarthQuakeTarget.mdl",GetLocationX(l),GetLocationY(l),2)
	call TerrainDeformationRippleBJ(0.3,false,l,0,300,100,0.4,20)
	call RemoveLocation(l)
	set l=null
endfunction

function Func3046 takes nothing returns boolean
	if GetSpellAbilityId()=='A06W' then
		call Func3045()
	endif
	return false
endfunction

function Func3047 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3046))
endfunction

function GenericCondition_BasicsAndStructureNoInvul takes nothing returns boolean
	return GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit())==false and Func0257(GetFilterUnit())==false
endfunction

function Func3048 takes nothing returns boolean
	return IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit())==false and Func0257(GetFilterUnit())==false)
endfunction

function Func3049 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local group g
	local unit u
	local real d
	local real a
	local real UJ2
	local real UK2
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local real dmg
	if GetTriggerEvalCount(t)>40 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set g=GetAvailableGroup()
		set tt_unit1=Hero
		call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),500,Condition(function Func3048))
		set u=GroupPickRandomUnit(g)
		if u==null then
			set d=GetRandomReal(175,400)
			set a=GetRandomReal(0,6)
			set UJ2=GetUnitX(Hero)+d*Cos(a)
			set UK2=GetUnitY(Hero)+d*Sin(a)
			call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",UJ2,UK2))
		else
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",u,"origin"))
			set dmg=9*lvl
			if IsUnitType(u,UNIT_TYPE_STRUCTURE) then
				set dmg=dmg*1.4
			endif
			call DamageTarget(caster,u,2,dmg)
		endif
		call KillGroup(g)
	endif
	set u=null
	set g=null
	set t=null
	set Hero=null
	return false
endfunction

function Func3050 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e00E',GetUnitX(Hero),GetUnitY(Hero),0)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\RocketMissile\\RocketMissile.mdl",Hero,"hand right"))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveInteger(HY,(h),(5),(GetUnitAbilityLevel(Hero,'A20T')))
	call TriggerRegisterTimerEvent(t,0.25,true)
	call TriggerAddCondition(t,Condition(function Func3049))
	set t=null
	set Hero=null
endfunction

function Func3051 takes nothing returns boolean
	if GetSpellAbilityId()=='A20T' then
		call Func3050()
	endif
	return false
endfunction

function Func3052 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3051))
endfunction

function Func3053 takes unit source,unit target returns nothing
	call Func0228(target,'A2WZ',1,0.75,'B0H6')
endfunction

function Func3054 takes nothing returns nothing
	local real d
	if IsUnitInGroup(GetEnumUnit(),group023)==false then
		set d=Func0139(GetEnumUnit(),unit343)
		if d<real345 then
			set real345=d
			set unit342=GetEnumUnit()
		endif
	endif
endfunction

function Func3055 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	local real x=GetUnitX(target)
	local real y=GetUnitY(target)
	local group g=GetAvailableGroup()
	local integer lvl=GetUnitAbilityLevel(source,'A06V')
	call GroupAddUnit(PR2,target)
	call Func3053(source,target)
	set tt_unit1=source
	set unit342=null
	set unit343=target
	set group023=PR2
	set real345=999999
	call GroupEnumUnitsInRange(g,x,y,650+25,Condition(function Func0281))
	call ForGroup(g,function Func3054)
	call KillGroup(g)
	if unit342==null or GetTriggerEvalCount(t)>3+lvl then
		call KillGroup(PR2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set target=unit342
		call SaveUnitHandle(HY,(h),(17),(target))
	endif
	set g=null
	set t=null
	set source=null
	set target=null
	set PR2=null
	return false
endfunction

function Func3056 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local group PR2=GetAvailableGroup()
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveGroupHandle(HY,(h),(187),(PR2))
	call TriggerRegisterTimerEvent(t,0.25,true)
	call TriggerAddCondition(t,Condition(function Func3055))
	set source=null
	set target=null
	set t=null
endfunction

function Func3057 takes nothing returns boolean
	if GetSpellAbilityId()=='A06V' and IsBlocked(GetSpellTargetUnit())==false then
		call Func3056()
	endif
	return false
endfunction

function Func3058 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3057))
	set t=null
endfunction

function Func3059 takes nothing returns nothing
	local unit source=unit344
	local unit target=GetEnumUnit()
	call DamageTarget(source,target,1,real346)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",target,"origin"))
	set source=null
	set target=null
endfunction

function Func3060 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A21F')
	local group g
	if lvl!=0 then
		if lvl==1 then
			set real346=100
		elseif lvl==2 then
			set real346=130
		else
			set real346=160
		endif
	else
		set lvl=GetUnitAbilityLevel(source,'A21G')
		if lvl==1 then
			set real346=160
		elseif lvl==2 then
			set real346=190
		else
			set real346=220
		endif
	endif
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetUnitState(source,UNIT_STATE_MANA)<20*lvl or(LoadInteger(HY,(GetHandleId(source)),(704)))==-1 or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()=='A21H' or GetSpellAbilityId()=='A27H'))then
		if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A21F' then
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A21F',true)
		endif
		if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A21G' then
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A21G',true)
		endif
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A21H',false)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT then
		call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MANA)-20*lvl)
		set tt_unit1=source
		set unit344=source
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),475,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func3059)
		call KillGroup(g)
		set g=null
	endif
	set t=null
	return false
endfunction

function Func3061 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",source,"origin"))
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A21F',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A21G',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A21H',true)
	call UnitAddAbility(source,'A21H')
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3060))
	call SaveUnitHandle(HY,(h),(2),(source))
	call TriggerEvaluate(t)
	set source=null
	set t=null
endfunction

function Func3062 takes nothing returns boolean
	if GetSpellAbilityId()=='A21F' or GetSpellAbilityId()=='A21G' then
		call Func3061()
	endif
	return false
endfunction

function Func3063 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3062))
	set t=null
endfunction

function Func3064 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real LVO=(LoadReal(HY,(GetHandleId(target)),(813)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or LVO<GetTime()then
		call UnitRemoveAbility(target,'A2U1')
		call UnitRemoveAbility(target,'B0GV')
		call UnitRemoveAbility(target,'A2U2')
		call UnitRemoveAbility(target,'B0GW')
		call UnitRemoveAbility(target,'A2U4')
	endif
	set t=null
	set target=null
	return false
endfunction

function Func3065 takes unit target returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real DC1=3.0
	local integer SC4='A2U2'
	local integer SD4='B0GW'
	if IsUnitType(target,UNIT_TYPE_HERO)then
		set DC1=2.0
	endif
	set SC4='A2U1'
	set SD4='B0GV'
	call UnitAddAbilityPermanent(target,SC4)
	call UnitAddAbilityPermanent(target,SD4)
	call UnitAddAbilityPermanent(target,'A2U4')
	call TriggerRegisterDeathEvent(t,target)
	call TriggerRegisterTimerEvent(t,DC1,false)
	call TriggerAddCondition(t,Condition(function Func3064))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(GetHandleId(target)),(813),((GetTime()+DC1-0.1)*1.0))
	set t=null
endfunction

function Func3066 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real LVO=(LoadReal(HY,(GetHandleId(target)),(812)))
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
		if GetTriggerUnit()==target then
			call Func3065(GetAttacker())
		endif
	elseif GetTime()>LVO then
		call UnitRemoveAbility(target,'A2U0')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3067 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t
	local integer h
	local integer DC1=40
	local integer lvl=GetUnitAbilityLevel(source,'A08R')
	local real LVO=(LoadReal(HY,(GetHandleId(target)),(812)))
	call SaveReal(HY,(GetHandleId(target)),(812),((GetTime()+DC1)*1.0))
	call UnitAddAbilityPermanent(target,'A2U0')
	call SetUnitAbilityLevel(target,'A2U0',lvl)
	if LVO<GetTime()then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
		call TriggerAddCondition(t,Condition(function Func3066))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
	endif
	set source=null
	set target=null
	set t=null
endfunction

function Func3068 takes nothing returns boolean
	if GetSpellAbilityId()=='A08R' then
		call Func3067()
	endif
	return false
endfunction

function Func3069 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3068))
	set t=null
endfunction

function Func3070 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit WF3=(LoadUnitHandle(HY,(h),(374)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer SZ4=(LoadInteger(HY,(h),(233)))
	local integer MKO=(LoadInteger(HY,(h),(12)))
	local unit caster
	local group g
	local real a
	local real x
	local real y
	local integer DT1=(LoadInteger(HY,(h),(720)))
	if DT1>0 then
		set DT1=DT1-1
		call SaveInteger(HY,(h),(720),(DT1))
		return false
	endif
	if Func0141(GetUnitX(WF3),GetUnitY(WF3),GetUnitX(target),GetUnitY(target))>20 then
		set a=Func0159(GetUnitX(WF3),GetUnitY(WF3),GetUnitX(target),GetUnitY(target))
		call SetUnitFacing(WF3,a)
		set x=GetUnitX(WF3)+13.5*Cos(a*bj_DEGTORAD)
		set y=GetUnitY(WF3)+13.5*Sin(a*bj_DEGTORAD)
		call SetUnitX(WF3,x)
		call SetUnitY(WF3,y)
	else
		if IsDead(target)==false then
			set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
			call UnitAddAbilityPermanent(caster,'A091')
			call SetUnitAbilityLevel(caster,'A091',lvl)
			call IssueTargetOrder(caster,"frostnova",target)
		endif
		if SZ4>MKO then
			call RemoveUnit(WF3)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		else
			set g=GetAvailableGroup()
			set tt_unit1=source
			call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),600,Condition(function Func0274))
			call GroupRemoveUnit(g,target)
			set target=GroupPickRandomUnit(g)
			call KillGroup(g)
			if target==null then
				call RemoveUnit(WF3)
				call FlushChildHashtable(HY,(h))
				call CleanTrigger(t)
			else
				call SaveInteger(HY,(h),(720),(10))
				call SaveInteger(HY,(h),(233),(SZ4+1))
				call SaveUnitHandle(HY,(h),(17),(target))
			endif
		endif
	endif
	set t=null
	set source=null
	set target=null
	set WF3=null
	set caster=null
	set g=null
	return false
endfunction

function Func3071 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A05T')
	local integer MKO=10
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit WF3
	if GetSpellAbilityId()=='A08H' then
		set lvl=GetUnitAbilityLevel(source,'A08H')+1
		set MKO=100000
	endif
	set WF3=CreateUnit(GetOwningPlayer(source),'e009',GetUnitX(source),GetUnitY(source),0)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(374),(WF3))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(233),(1))
	call SaveInteger(HY,(h),(12),(MKO))
	call SaveInteger(HY,(h),(720),(0))
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func3070))
	set source=null
	set target=null
	set WF3=null
	set t=null
endfunction

function Func3072 takes nothing returns boolean
	if GetSpellAbilityId()=='A05T' or GetSpellAbilityId()=='A08H' then
		call Func3071()
	endif
	return false
endfunction

function Func3073 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3072))
	set t=null
endfunction

function Func3074 takes nothing returns nothing
	if Func0243(GetUnitTypeId(GetEnumUnit()))==false then
		set integer515=integer515+1
	endif
endfunction

function Func3075 takes nothing returns nothing
	if Func0243(GetUnitTypeId(GetFilterUnit()))==false then
		call AddHeroXP(GetEnumUnit(),integer516,true)
	endif
endfunction

function Func3076 takes unit target returns nothing
	local group g=GetAvailableGroup()
	local integer SK4=Func0505(target)
	set integer515=0
	set tt_unit1=target
	call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),1300+25,Condition(function Func0303))
	call ForGroup(g,function Func3074)
	if integer515>0 then
		set integer516=SK4/integer515
		call ForGroup(g,function Func3075)
	endif
	call KillGroup(g)
	set integer515=0
	set tt_unit1=target
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),1300+25,Condition(function Func0299))
	call ForGroup(g,function Func3074)
	if integer515>0 then
		set integer516=SK4/integer515
		call ForGroup(g,function Func3075)
	endif
	call KillGroup(g)
	set g=null
endfunction

function Func3077 takes unit u,integer d returns nothing
	local texttag t=CreateTextTag()
	call SetTextTagText(t,"+"+I2S(d)+" "+GetObjectName('n0LQ'),0.03)
	call SetTextTagPosUnit(t,u,0)
	call SetTextTagColorBJ(t,50,75,255,15)
	call SetTextTagVelocity(t,0,0.035)
	call SetTextTagFadepoint(t,3)
	call SetTextTagLifespan(t,2.5)
	call SetTextTagPermanent(t,false)
	call SetTextTagVisibility(t,false)
	call SetTextTagVisibility(t,true)
	if IsUnitVisible(u,LocalPlayer)or Func0100(LocalPlayer)then
		call SetTextTagVisibility(t,true)
	else
		call SetTextTagVisibility(t,false)
	endif
	set t=null
endfunction

function Func3078 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A053')
	local real OA2=GetUnitState(target,UNIT_STATE_LIFE)*(lvl*0.15+0.1)
	call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MANA)+OA2)
	call Func3077(target,R2I(OA2))
	call Func3076(target)
	call KillUnit(target)
	set source=null
	set target=null
endfunction

function Func3079 takes nothing returns boolean
	if GetSpellAbilityId()=='A053' and Func0089(GetSpellTargetUnit())==false then
		call Func3078()
	endif
	return false
endfunction

function Func3080 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3079))
	set t=null
endfunction

function Func3081 takes nothing returns nothing
	local location l
	local unit Hero=GetTriggerUnit()
	local real x1=GetUnitX(Hero)
	local real y1=GetUnitY(Hero)
	local real a
	local real x2
	local real y2
	local integer lvl=GetUnitAbilityLevel(Hero,'A0X5')
	local real dmg
	local real DC1
	local unit DT1=null
	if GetSpellTargetUnit()!=null then
		set l=GetUnitLoc(GetSpellTargetUnit())
	else
		set l=GetSpellTargetLoc()
	endif
	set x2=GetLocationX(l)
	set y2=GetLocationY(l)
	set a=Atan2(y2-y1,x2-x1)
	set x2=x1+700*Cos(a)
	set y2=y1+700*Sin(a)
	if lvl==1 then
		set dmg=80
		set DC1=0.5
	elseif lvl==2 then
		set dmg=140
		set DC1=1
	elseif lvl==3 then
		set dmg=200
		set DC1=1.5
	elseif lvl==4 then
		set dmg=260
		set DC1=2
	endif
	if GetSpellTargetUnit()!=null and IsBlocked(GetSpellTargetUnit())then
		set DT1=GetSpellTargetUnit()
	endif
	call Func0319(Hero,DT1,dmg,DC1,0.52,x1,y1,x2,y2,150,null,true,1600)
	call RemoveLocation(l)
	set l=null
	set Hero=null
endfunction

function Func3082 takes nothing returns boolean
	if GetSpellAbilityId()=='A0X5' then
		call Func3081()
	endif
	return false
endfunction

function Func3083 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3082))
	call Func0125('A0X6')
	set t=null
endfunction

function Func3084 takes nothing returns boolean
	if(GetSpellAbilityId()=='A095' or GetSpellAbilityId()=='A09W')and Func0091(GetSpellTargetUnit())then
		call InterruptUnit(GetTriggerUnit())
		call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0LR'))
	endif
	return false
endfunction

function Func3085 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func3084))
	set t=null
endfunction

function Func3086 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl",Hero,"origin"))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl",Hero,"origin"))
	set t=null
	set Hero=null
	return false
endfunction

function Func3087 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call KillUnit(caster)
	endif
	call UnitRemoveAbility(Hero,'A0ZC')
	call UnitRemoveAbility(Hero,'B00V')
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1.5,false)
	call TriggerRegisterDeathEvent(t,Hero)
	call TriggerAddCondition(t,Condition(function Func3086))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	set t=null
	set Hero=null
	set caster=null
	return false
endfunction

function Func3088 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real H71=(LoadReal(HY,(h),(6)))
	local real H81=(LoadReal(HY,(h),(7)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call Func0390(Hero,H71,H81,650)
		call SaveReal(HY,(h),(6),((GetUnitX(Hero))*1.0))
		call SaveReal(HY,(h),(7),((GetUnitY(Hero))*1.0))
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func3089 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl",Hero,"origin"))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl",Hero,"origin"))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,18-0.1,false)
	call TriggerRegisterDeathEvent(t,Hero)
	call TriggerAddCondition(t,Condition(function Func3087))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(19),(caster))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.005,true)
	call TriggerRegisterDeathEvent(t,caster)
	call TriggerAddCondition(t,Condition(function Func3088))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveReal(HY,(h),(6),((GetUnitX(Hero))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(Hero))*1.0))
	set t=null
	set Hero=null
	set caster=null
	return false
endfunction

function Func3090 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e01V',0,0,0)
	local real DC1=18
	call UnitAddAbilityPermanent(caster,'A0ZC')
	call UnitApplyTimedLife(caster,'BTLF',DC1)
	call Func0221(Hero,DC1,175)
	call TriggerRegisterTimerEvent(t,0.1,false)
	call TriggerAddCondition(t,Condition(function Func3089))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(19),(caster))
	set t=null
	set Hero=null
endfunction

function Func3091 takes nothing returns boolean
	if GetSpellAbilityId()=='A093' and GetUnitTypeId(GetTriggerUnit())=='U008' then
		call Func3090()
	endif
	return false
endfunction

function Func3092 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3091))
	set t=null
endfunction

function Func3093 takes nothing returns nothing
	local unit source=unit128
	local unit target=unit129
	local unit caster=(LoadUnitHandle(HY,(GetHandleId(source)),(219)))
	call SaveUnitHandle(HY,(GetHandleId(source)),(219),(caster))
	call SetUnitOwner(caster,GetOwningPlayer(target),true)
	set source=null
	set target=null
	set caster=null
endfunction

function Func3094 takes nothing returns nothing
	local unit Hero=unit127
	local unit caster=(LoadUnitHandle(HY,(GetHandleId(Hero)),(219)))
	if caster!=null and GetUnitTypeId(caster)=='e01V' then
		call RemoveUnit(caster)
	endif
endfunction

function Func3095 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if caster!=null and GetUnitTypeId(caster)=='e01V' then
		if IsDead(source)==false then
			call SetUnitX(caster,GetUnitX(source))
			call SetUnitY(caster,GetUnitY(source))
		endif
	endif
	set t=null
	set caster=null
	set source=null
	return false
endfunction

function Func3096 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(Hero,'A03E')
	local unit caster
	local trigger t
	local integer h
	if lvl==1 then
		set caster=CreateUnit(GetOwningPlayer(Hero),'e01V',0,0,0)
		call UnitAddAbilityPermanent(caster,'A0ZJ')
		call SaveUnitHandle(HY,(GetHandleId(Hero)),(219),(caster))
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerAddCondition(t,Condition(function Func3095))
		call TriggerRegisterTimerEvent(t,0.2,true)
		call SaveUnitHandle(HY,(h),(2),(Hero))
		call SaveUnitHandle(HY,(h),(19),(caster))
	else
		set caster=(LoadUnitHandle(HY,(GetHandleId(Hero)),(219)))
	endif
	if lvl==2 then
		call UnitRemoveAbility(caster,'A0ZJ')
		call UnitAddAbilityPermanent(caster,'A0ZI')
	elseif lvl==3 then
		call UnitRemoveAbility(caster,'A0ZJ')
		call UnitRemoveAbility(caster,'A0ZI')
		call UnitAddAbilityPermanent(caster,'A0ZH')
	elseif lvl==4 then
		call UnitRemoveAbility(caster,'A0ZJ')
		call UnitRemoveAbility(caster,'A0ZI')
		call UnitRemoveAbility(caster,'A0ZH')
		call UnitAddAbilityPermanent(caster,'A0ZG')
	endif
	set Hero=null
	set caster=null
endfunction

function Func3097 takes nothing returns boolean
	if GetLearnedSkill()=='A03E' and IsUnitIllusion(GetTriggerUnit())==false then
		call Func3096()
	endif
	return false
endfunction

function Func3098 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3097))
	set t=null
endfunction

function Func3099 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit caster
	local integer i=1
	local boolean RZI=IsSentinel(GetOwningPlayer(Hero))
	local player p
	local integer T54
	local integer T64
	local integer lvl=GetUnitAbilityLevel(Hero,'A0ZF')
	if lvl==1 then
		set T54='A104'
		set T64='A107'
	elseif lvl==2 then
		set T54='A101'
		set T64='A106'
	elseif lvl==3 then
		set T54='A102'
		set T64='A105'
	elseif lvl==4 then
		set T54='A103'
		set T64='A108'
	endif
	loop
		exitwhen i>5
		if RZI then
			set p=Sentinels[i]
		else
			set p=Scourges[i]
		endif
		set caster=CreateUnit(p,'e01V',0,0,0)
		call UnitAddAbilityPermanent(caster,T54)
		call UnitAddAbilityPermanent(caster,T64)
		call UnitApplyTimedLife(caster,'BTLF',10)
		set i=i+1
	endloop
	set Hero=null
	set caster=null
	set p=null
endfunction

function Func3100 takes nothing returns boolean
	if GetSpellAbilityId()=='A0ZF' then
		call Func3099()
	endif
	return false
endfunction

function Func3101 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3100))
	set t=null
endfunction

function Func3102 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A094')
	local integer T94=GetHeroLevel(target)
	local real dmg=GetUnitState(target,UNIT_STATE_MAX_LIFE)*0.2
	if ModuloInteger(T94,7-lvl)==0 or T94==25 then
		call DamageTarget(source,target,1,dmg)
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Demon\\DemonBoltImpact\\DemonBoltImpact.mdl",target,"chest"))
	endif
	set source=null
	set target=null
endfunction

function Func3103 takes nothing returns boolean
	if GetSpellAbilityId()=='A094' then
		call Func3102()
	endif
	return false
endfunction

function Func3104 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3103))
	set t=null
endfunction

function Func3105 takes unit source returns nothing
	call UnitRemoveAbility(source,'A1OQ')
	call UnitRemoveAbility(source,'A1OR')
	call UnitRemoveAbility(source,'A1OS')
	call UnitRemoveAbility(source,'A1OT')
	call UnitRemoveAbility(source,'A1OU')
	call UnitRemoveAbility(source,'A1OV')
	call UnitRemoveAbility(source,'A1OW')
	call UnitRemoveAbility(source,'A1OX')
	call UnitRemoveAbility(source,'A1OY')
	call UnitRemoveAbility(source,'S00M')
	call UnitRemoveAbility(source,'A1OZ')
	call UnitRemoveAbility(source,'S00N')
	call UnitRemoveAbility(source,'A1P0')
	call UnitRemoveAbility(source,'A1P1')
	call UnitRemoveAbility(source,'A1P7')
	call UnitRemoveAbility(source,'A1PA')
	call UnitRemoveAbility(source,'A1P3')
	call UnitRemoveAbility(source,'A1P4')
	call UnitRemoveAbility(source,'A1P5')
	call UnitRemoveAbility(source,'A1P6')
	call UnitRemoveAbility(source,'A2AG')
endfunction

function Func3106 takes unit source,unit target returns nothing
	local integer TD4=GetUnitTypeId(target)
	local integer TE4=0
	local integer TF4=0
	if TD4=='n0HX' then
		set TE4='A1OQ'
	elseif TD4=='nomg' then
		set TE4='A1OR'
	elseif TD4=='nfpu' then
		set TE4='A1OS'
		set TF4='S00N'
	elseif TD4=='nstl' then
		set TE4='A1OT'
	elseif TD4=='nsat' then
		set TE4='A1OU'
	elseif TD4=='nsth' then
		set TE4='A1OV'
		set TF4='A1OW'
	elseif TD4=='n00S' then
		set TE4='A1OX'
		set TF4='A1OY'
	elseif TD4=='nkol' then
		set TE4='S00M'
	elseif TD4=='nfsh' then
		set TE4='A1OZ'
		set TF4='A2AG'
	elseif TD4=='ncnk' then
		set TE4='A1P0'
	elseif TD4=='ngns' then
		set TE4='A1P1'
	elseif TD4=='ngh1' then
		set TE4='A1P7'
		set TF4='A1PA'
	elseif TD4=='nowe' then
		set TE4='A1P3'
		set TF4='A1P4'
	elseif TD4=='ndtw' then
		set TE4='A1P5'
		set TF4='A1P6'
	elseif TD4=='nwlg' then
		set TE4='A1OY'
	endif
	if TE4!=0 then
		call Func3105(source)
		call UnitAddAbilityPermanent(source,TE4)
	endif
	if TF4!=0 then
		call UnitAddAbilityPermanent(source,TF4)
	endif
endfunction

function Func3107 takes real TH4 returns string
	local string c1="|c00ff0303"
	local string c="||"
	local string p=" "
	local string s=c1+c+"|r"
	local string FB1
	if TH4>85 then
		set FB1=s+p+s+p+s+p+s+p+s+p+s+p+s
	elseif TH4>70 then
		set FB1=s+p+s+p+s+p+s+p+s+p+s+p+c
	elseif TH4>55 then
		set FB1=s+p+s+p+s+p+s+p+s+p+c+p+c
	elseif TH4>40 then
		set FB1=s+p+s+p+s+p+s+p+c+p+c+p+c
	elseif TH4>25 then
		set FB1=s+p+s+p+s+p+c+p+c+p+c+p+c
	elseif TH4>10 then
		set FB1=s+p+s+p+c+p+c+p+c+p+c+p+c
	elseif TH4>0 then
		set FB1=s+p+c+p+c+p+c+p+c+p+c+p+c
	else
		set FB1=c+p+c+p+c+p+c+p+c+p+c+p+c
	endif
	return FB1
endfunction

function Func3108 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer TV4=(LoadInteger(HY,(h),(230)))
	local real HP=(LoadReal(HY,(h),(232)))
	local texttag tt=(LoadTextTagHandle(HY,(h),(231)))
	local integer Count=GetTriggerEvalCount(t)
	local real TW4=Func0134(HP-Count,0)
	local boolean TX4=true
	call SetTextTagText(tt,Func3107(100*TW4/HP),0.018)
	call SetTextTagPosUnit(tt,Hero,0)
	if IsUnitVisible(Hero,LocalPlayer)==false and Func0100(LocalPlayer)==false then
		set TX4=false
	endif
	call SetTextTagVisibility(tt,TX4)
	if TW4==0 then
		call ImitateBountyGain(GetOwningPlayer(Hero),Hero,25*lvl,false)
	endif
	if TW4==0 or GetTriggerEventId()==EVENT_UNIT_DEATH then
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A10R',true)
		call UnitRemoveAbility(Hero,'A10S')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call DestroyTextTag(tt)
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func3109 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(Hero,'A10R')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real HP=GetUnitState(target,UNIT_STATE_LIFE)
	local integer G33=GetUnitLevel(target)
	local integer TV4=GetUnitTypeId(target)
	local texttag tt=CreateTextTag()
	local boolean TX4=true
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e00E',0,0,0)
	call Func0161("SPLK",GetUnitX(Hero),GetUnitY(Hero),GetUnitX(target),GetUnitY(target),0.1,0.1,0.2,.9,0.5)
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\Devour\\DevourEffectArt.mdl",GetUnitX(target),GetUnitY(target)))
	if IsUnitVisible(Hero,LocalPlayer)==false then
		set TX4=false
	endif
	call Func3106(Hero,target)
	call SetTextTagText(tt,Func3107(100),0.018)
	call SetTextTagPosUnit(tt,Hero,0)
	call SetTextTagVisibility(tt,TX4)
	call SetTextTagPermanent(tt,true)
	call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A10R',false)
	call UnitAddAbilityPermanent(Hero,'A10S')
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveTextTagHandle(HY,(h),(231),(tt))
	call SaveInteger(HY,(h),(230),(TV4))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveReal(HY,(h),(232),((HP)*1.0))
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3108))
	call ShowUnit(target,false)
	call UnitRemoveBuffs(target,true,true)
	call UnitRemoveAbility(target,'Aetl')
	call UnitDamageTarget(caster,target,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
	set t=null
	set Hero=null
	set target=null
endfunction

function Func3110 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(Hero,'A10R')
	local integer G33=GetUnitLevel(target)
	if(GetOwningPlayer(target)!=Sentinels[0]and GetOwningPlayer(target)!=Scourges[0])and((lvl==1 and G33>2)or(lvl==2 and G33>4)or(lvl==3 and G33>5)or(lvl==4 and G33>6))then
	endif
	set Hero=null
	set target=null
endfunction

function Func3111 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer id=(LoadInteger(HY,(h),(34)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func3112 takes nothing returns nothing
	local integer id=GetSpellAbilityId()
	local trigger t
	local integer h
	if id=='A1OQ' or id=='A1OR' or id=='A1OS' or id=='A1OT' or id=='A1OU' or id=='A1OV' or id=='A1OW' or id=='A1OX' or id=='A1OY' or id=='S00M' or id=='A1OZ' or id=='S00N' or id=='A1P0' or id=='A1P1' or id=='A1P2' or id=='A1P3' or id=='A1P4' or id=='A1P5' or id=='A1P6' then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)
		call TriggerRegisterTimerEvent(t,1,false)
		call TriggerAddCondition(t,Condition(function Func3111))
		call SaveUnitHandle(HY,(h),(2),(GetTriggerUnit()))
		call SaveInteger(HY,(h),(34),(id))
		set t=null
	endif
endfunction

function Func3113 takes nothing returns boolean
	if GetSpellAbilityId()=='A10R' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
			call Func3110()
		else
			call Func3109()
		endif
	elseif GetUnitTypeId(GetTriggerUnit())=='UC42' then
		call Func3112()
	endif
	return false
endfunction

function Func3114 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func3113))
	set t=null
endfunction

function Func3115 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call UnitRemoveAbility(source,'A1OL')
	call UnitRemoveAbility(source,'A1ON')
	call UnitRemoveAbility(source,'A1OO')
	call UnitRemoveAbility(source,'A1OM')
	call UnitRemoveAbility(source,'B04J')
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func3116 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A1OP')
	if lvl==1 then
		call UnitAddAbilityPermanent(source,'A1OL')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1OL',false)
	elseif lvl==2 then
		call UnitAddAbilityPermanent(source,'A1ON')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1ON',false)
	elseif lvl==3 then
		call UnitAddAbilityPermanent(source,'A1OO')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1OO',false)
	elseif lvl==4 then
		call UnitAddAbilityPermanent(source,'A1OM')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1OM',false)
	endif
	call TriggerRegisterTimerEvent(t,8+2*lvl,false)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3115))
	call SaveUnitHandle(HY,(h),(2),(source))
	set source=null
	set t=null
endfunction

function Func3117 takes nothing returns boolean
	if GetSpellAbilityId()=='A1OP' then
		call Func3116()
	endif
	return false
endfunction

function Func3118 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3117))
	set t=null
endfunction

function Func3119 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	if Func0139(source,target)>900 or IsDead(source) then
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
	endif
	if Count>16*10 then
		call UnitRemoveAbility(target,'BNdo')
		call UnitRemoveAbility(target,'B0HM')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetUnitAbilityLevel(target,'BNdo')==0 and GetUnitAbilityLevel(target,'B0HM')==0 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3120 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A0MU')
	local real dmg=5+15*lvl
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A0A2')
		set dmg=20+20*lvl
	endif
	if GetUnitAbilityLevel(target,'BNdo')==0 and GetUnitAbilityLevel(target,'B0HM')==0 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call DamageTarget(source,target,7,dmg)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3121 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func3120))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	if GetSpellAbilityId()=='A0A2' then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call UnitRemoveBuffs(target,true,false)
		call TriggerRegisterTimerEvent(t,0.1,true)
		call TriggerAddCondition(t,Condition(function Func3119))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveInteger(HY,(h),(34),(0))
	endif
	set source=null
	set target=null
	set t=null
endfunction

function Func3122 takes nothing returns boolean
	if GetSpellAbilityId()=='A0MU' or GetSpellAbilityId()=='A0A2' then
		if IsBlocked(GetSpellTargetUnit())==false then
			call Func3121()
		endif
	endif
	return false
endfunction

function Func3123 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3122))
	set t=null
endfunction

function Func3124 takes nothing returns boolean
	local real x
	local real y
	if(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))then
		set x=real347+GetRandomReal(20,70)*Cos(GetUnitFacing(GetTriggerUnit())*bj_DEGTORAD)
		set y=real348+GetRandomReal(20,70)*Sin(GetUnitFacing(GetTriggerUnit())*bj_DEGTORAD)
		call SetUnitPosition(GetFilterUnit(),x,y)
	endif
	return false
endfunction

function Func3125 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local real x=GetUnitX(Hero)
	local real y=GetUnitY(Hero)
	local group g=GetAvailableGroup()
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e00E',x,y,0)
	local integer lvl=GetUnitAbilityLevel(Hero,'A29L')
	set real347=GetUnitX(Hero)+100*Cos(GetUnitFacing(Hero)*bj_DEGTORAD)
	set real348=GetUnitY(Hero)+100*Sin(GetUnitFacing(Hero)*bj_DEGTORAD)
	call GroupEnumUnitsInRange(g,x,y,410+24,Condition(function Func3124))
	call KillGroup(g)
	call UnitAddAbilityPermanent(caster,'A06F')
	call SetUnitAbilityLevel(caster,'A06F',lvl)
	call IssueImmediateOrder(caster,"stomp")
	set Hero=null
	set g=null
endfunction

function Func3126 takes nothing returns boolean
	if GetSpellAbilityId()=='A29L' then
		call Func3125()
	endif
	return false
endfunction

function Func3127 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3126))
	set t=null
endfunction

function Func3128 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetUnitAbilityLevel(target,'B00U')==0 or GetTriggerEventId()==EVENT_UNIT_DEATH then
		call UnitRemoveAbility(target,'A1Q0')
		call UnitRemoveAbility(target,'A1Q1')
		call UnitRemoveAbility(target,'A1Q2')
		call UnitRemoveAbility(target,'A1Q3')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	return false
endfunction

function Func3129 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A037')
	local integer OO1
	if lvl==1 then
		set OO1='A1Q0'
	elseif lvl==2 then
		set OO1='A1Q1'
	elseif lvl==3 then
		set OO1='A1Q2'
	elseif lvl==4 then
		set OO1='A1Q3'
	endif
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),OO1,false)
	call UnitAddAbilityPermanent(target,OO1)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3128))
	call SaveUnitHandle(HY,(h),(17),(target))
	set t=null
	set source=null
	set target=null
endfunction

function Func3130 takes nothing returns boolean
	if GetSpellAbilityId()=='A037' then
		call Func3129()
	endif
	return false
endfunction

function Func3131 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3130))
	set t=null
endfunction

function Func3132 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call UnitRemoveAbility(target,'A1Q6')
	call UnitRemoveAbility(target,'B0CX')
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set target=null
	return false
endfunction

function Func3133 takes unit source,unit target,integer lvl returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SetUnitPathing(target,true)
	call TriggerRegisterTimerEvent(t,2.5,false)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3132))
	call SaveUnitHandle(HY,(h),(17),(target))
	call UnitAddAbilityPermanent(target,'A1Q6')
	call UnitMakeAbilityPermanent(target,true,'A1Q6')
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A1Q6',false)
	call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl",target,"chest"))
	call DamageTarget(source,target,1,70*lvl)
	set t=null
endfunction

function Func3134 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit R74=(LoadUnitHandle(HY,(h),(393)))
	local unit R84=(LoadUnitHandle(HY,(h),(394)))
	local unit R94=(LoadUnitHandle(HY,(h),(395)))
	local unit RA4=(LoadUnitHandle(HY,(h),(396)))
	local unit RB4=(LoadUnitHandle(HY,(h),(397)))
	local unit RC4=(LoadUnitHandle(HY,(h),(398)))
	local unit RD4=(LoadUnitHandle(HY,(h),(399)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local real IO3=(LoadReal(HY,(h),(6)))
	local real I23=(LoadReal(HY,(h),(7)))
	local real IV1=SafeX75(IO3+19*Cos(RM2))
	local real IW1=SafeY75(I23+19*Sin(RM2))
	local group g
	local integer RE4=(LoadInteger(HY,(h),(12)))
	local location l
	call SetUnitPosition(source,IV1,IW1)
	call SetUnitFacing(source,RM2*bj_RADTODEG)
	call SaveReal(HY,(h),(6),((IV1)*1.0))
	call SaveReal(HY,(h),(7),((IW1)*1.0))
	if ModuloInteger(GetTriggerEvalCount(t),4)==0 then
		call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",IV1,IW1))
	endif
	if GetTriggerEvalCount(t)==2 then
		call SetUnitAnimationByIndex(source,3)
	endif
	if R74==null or R84==null or R94==null or RA4==null or RB4==null or RC4==null or RD4==null then
		set tt_unit1=source
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,IV1,IW1,125+25,Condition(function Func0304))
		if FirstOfGroup(g)!=null then
			if R74!=null then
				call GroupRemoveUnit(g,R74)
			endif
			if R84!=null then
				call GroupRemoveUnit(g,R84)
			endif
			if R94!=null then
				call GroupRemoveUnit(g,R94)
			endif
			if RA4!=null then
				call GroupRemoveUnit(g,RA4)
			endif
			if RB4!=null then
				call GroupRemoveUnit(g,RB4)
			endif
			if RC4!=null then
				call GroupRemoveUnit(g,RC4)
			endif
			if RD4!=null then
				call GroupRemoveUnit(g,RD4)
			endif
			if FirstOfGroup(g)!=null then
				if R74==null then
					set R74=FirstOfGroup(g)
					call SetUnitPathing(R74,false)
					call AddTimedKeyToUnit(R74,4404,5)
				elseif R84==null then
					set R84=FirstOfGroup(g)
					call SetUnitPathing(R84,false)
					call AddTimedKeyToUnit(R84,4404,5)
				elseif R94==null then
					set R94=FirstOfGroup(g)
					call SetUnitPathing(R94,false)
					call AddTimedKeyToUnit(R94,4404,5)
				elseif RA4==null then
					set RA4=FirstOfGroup(g)
					call SetUnitPathing(RA4,false)
					call AddTimedKeyToUnit(RA4,4404,5)
				elseif RB4==null then
					set RB4=FirstOfGroup(g)
					call SetUnitPathing(RB4,false)
					call AddTimedKeyToUnit(RB4,4404,5)
				elseif RC4==null then
					set RC4=FirstOfGroup(g)
					call SetUnitPathing(RC4,false)
					call AddTimedKeyToUnit(RC4,4404,5)
				elseif RD4==null then
					set RD4=FirstOfGroup(g)
					call SetUnitPathing(RD4,false)
					call AddTimedKeyToUnit(RD4,4404,5)
				endif
			endif
		endif
		call KillGroup(g)
		set g=null
	endif
	call SaveUnitHandle(HY,(h),(393),(R74))
	call SaveUnitHandle(HY,(h),(394),(R84))
	call SaveUnitHandle(HY,(h),(395),(R94))
	call SaveUnitHandle(HY,(h),(396),(RA4))
	call SaveUnitHandle(HY,(h),(397),(RB4))
	call SaveUnitHandle(HY,(h),(398),(RC4))
	call SaveUnitHandle(HY,(h),(399),(RD4))
	if R74!=null then
		call SetUnitPosition(R74,IV1,IW1)
	endif
	if R84!=null then
		call SetUnitPosition(R84,IV1,IW1)
	endif
	if R94!=null then
		call SetUnitPosition(R94,IV1,IW1)
	endif
	if RA4!=null then
		call SetUnitPosition(RA4,IV1,IW1)
	endif
	if RB4!=null then
		call SetUnitPosition(RB4,IV1,IW1)
	endif
	if RC4!=null then
		call SetUnitPosition(RC4,IV1,IW1)
	endif
	if RD4!=null then
		call SetUnitPosition(RD4,IV1,IW1)
	endif
	if ModuloInteger(GetTriggerEvalCount(t),3)==0 then
		call KillTrees(IV1,IW1,200)
	endif
	if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>RE4 then
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call SetUnitAnimationByIndex(source,0)
		call SetUnitTimeScale(source,1.0)
		call SetUnitPathing(source,true)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if R74!=null then
			if IsPointInRegion(region006,GetUnitX(R74),GetUnitY(R74)) then
				set l=Func0259(GetUnitX(R74),GetUnitY(R74))
				call SetUnitX(R74,SafeX75(GetLocationX(l)))
				call SetUnitY(R74,SafeY75(GetLocationY(l)))
				call RemoveLocation(l)
				set l=null
			endif
			call Func3133(source,R74,lvl)
			call KillTrees(GetUnitX(R74),GetUnitY(R74),300)
		endif
		if R84!=null then
			if IsPointInRegion(region006,GetUnitX(R84),GetUnitY(R84)) then
				set l=Func0259(GetUnitX(R84),GetUnitY(R84))
				call SetUnitX(R84,SafeX75(GetLocationX(l)))
				call SetUnitY(R84,SafeY75(GetLocationY(l)))
				call RemoveLocation(l)
				set l=null
			endif
			call Func3133(source,R84,lvl)
			call KillTrees(GetUnitX(R84),GetUnitY(R84),300)
		endif
		if R94!=null then
			if IsPointInRegion(region006,GetUnitX(R94),GetUnitY(R94)) then
				set l=Func0259(GetUnitX(R94),GetUnitY(R94))
				call SetUnitX(R94,SafeX75(GetLocationX(l)))
				call SetUnitY(R94,SafeY75(GetLocationY(l)))
				call RemoveLocation(l)
				set l=null
			endif
			call Func3133(source,R94,lvl)
			call KillTrees(GetUnitX(R94),GetUnitY(R94),300)
		endif
		if RA4!=null then
			if IsPointInRegion(region006,GetUnitX(RA4),GetUnitY(RA4)) then
				set l=Func0259(GetUnitX(RA4),GetUnitY(RA4))
				call SetUnitX(RA4,SafeX75(GetLocationX(l)))
				call SetUnitY(RA4,SafeY75(GetLocationY(l)))
				call RemoveLocation(l)
				set l=null
			endif
			call Func3133(source,RA4,lvl)
			call KillTrees(GetUnitX(RA4),GetUnitY(RA4),300)
		endif
		if RB4!=null then
			if IsPointInRegion(region006,GetUnitX(RB4),GetUnitY(RB4)) then
				set l=Func0259(GetUnitX(RB4),GetUnitY(RB4))
				call SetUnitX(RB4,SafeX75(GetLocationX(l)))
				call SetUnitY(RB4,SafeY75(GetLocationY(l)))
				call RemoveLocation(l)
				set l=null
			endif
			call Func3133(source,RB4,lvl)
			call KillTrees(GetUnitX(RB4),GetUnitY(RB4),300)
		endif
		if RC4!=null then
			if IsPointInRegion(region006,GetUnitX(RC4),GetUnitY(RC4)) then
				set l=Func0259(GetUnitX(RC4),GetUnitY(RC4))
				call SetUnitX(RC4,SafeX75(GetLocationX(l)))
				call SetUnitY(RC4,SafeY75(GetLocationY(l)))
				call RemoveLocation(l)
				set l=null
			endif
			call Func3133(source,RC4,lvl)
			call KillTrees(GetUnitX(RC4),GetUnitY(RC4),300)
		endif
		if RD4!=null then
			if IsPointInRegion(region006,GetUnitX(RD4),GetUnitY(RD4)) then
				set l=Func0259(GetUnitX(RD4),GetUnitY(RD4))
				call SetUnitX(RD4,SafeX75(GetLocationX(l)))
				call SetUnitY(RD4,SafeY75(GetLocationY(l)))
				call RemoveLocation(l)
				set l=null
			endif
			call Func3133(source,RD4,lvl)
			call KillTrees(GetUnitX(RD4),GetUnitY(RD4),300)
		endif
		if R74!=null and IsDead(R74)==false then
			call IssueTargetOrder(source,"attack",R74)
		elseif R84!=null and IsDead(R84)==false then
			call IssueTargetOrder(source,"attack",R84)
		elseif R94!=null and IsDead(R94)==false then
			call IssueTargetOrder(source,"attack",R94)
		elseif RA4!=null and IsDead(RA4)==false then
			call IssueTargetOrder(source,"attack",RA4)
		elseif RB4!=null and IsDead(RB4)==false then
			call IssueTargetOrder(source,"attack",RB4)
		elseif RC4!=null and IsDead(RC4)==false then
			call IssueTargetOrder(source,"attack",RC4)
		elseif RD4!=null and IsDead(RD4)==false then
			call IssueTargetOrder(source,"attack",RD4)
		endif
		call KillTrees(IV1,IW1,375)
		if IsPointInRegion(region006,GetUnitX(source),GetUnitY(source)) then
			set l=Func0259(GetUnitX(source),GetUnitY(source))
			call SetUnitX(source,SafeX75(GetLocationX(l)))
			call SetUnitY(source,SafeY75(GetLocationY(l)))
			call RemoveLocation(l)
			set l=null
		endif
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3135 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real QJI=SafeX75(GetSpellTargetX())
	local real QKI=SafeY75(GetSpellTargetY())
	local unit source=GetTriggerUnit()
	local real SourceX=GetUnitX(source)
	local real SourceY=GetUnitY(source)
	local integer lvl=GetUnitAbilityLevel(source,'A1RD')
	local real a=Func0159(SourceX,SourceY,QJI,QKI)*bj_DEGTORAD
	local real QWI=600+150*lvl+25
	if Func0141(SourceX,SourceY,QJI,QKI)>QWI then
		set QJI=SafeX75(SourceX+QWI*Cos(a))
		set QKI=SafeY75(SourceY+QWI*Sin(a))
	endif
	call SetUnitPathing(source,false)
	call SetUnitAnimationByIndex(source,3)
	call SetUnitTimeScale(source,1.5)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3134))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveUnitHandle(HY,(h),(393),(null))
	call SaveUnitHandle(HY,(h),(394),(null))
	call SaveUnitHandle(HY,(h),(395),(null))
	call SaveUnitHandle(HY,(h),(396),(null))
	call SaveUnitHandle(HY,(h),(397),(null))
	call SaveUnitHandle(HY,(h),(398),(null))
	call SaveUnitHandle(HY,(h),(399),(null))
	call SaveReal(HY,(h),(47),((QJI)*1.0))
	call SaveReal(HY,(h),(48),((QKI)*1.0))
	call SaveReal(HY,(h),(6),((SourceX)*1.0))
	call SaveReal(HY,(h),(7),((SourceY)*1.0))
	call SaveReal(HY,(h),(13),((Atan2(QKI-SourceY,QJI-SourceX))*1.0))
	call SaveInteger(HY,(h),(12),(R2I(Func0141(SourceX,SourceY,QJI,QKI)/19.0)))
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("war3mapImported\\SkewerTuskGlow_1.mdx",source,"head")))
	set t=null
	set source=null
endfunction

function Func3136 takes nothing returns boolean
	if GetSpellAbilityId()=='A1RD' then
		call Func3135()
	endif
	return false
endfunction

function Func3137 takes nothing returns boolean
	if GetSpellAbilityId()=='A1RD' then
		call SetUnitAnimationByIndex(GetTriggerUnit(),7)
	endif
	return false
endfunction

function Func3138 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3136))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func3137))
	set t=null
endfunction

function MysticSnake_DoNothing takes nothing returns nothing
endfunction

function Func3139 takes nothing returns boolean
	local real d
	if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(unit346)) and IsUnitInGroup(GetFilterUnit(),group024)==false and Func0265(GetFilterUnit(),GetOwningPlayer(unit347)) then
		set d=Func0141(GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()),GetUnitX(unit346),GetUnitY(unit346))
		if d<real349 then
			set unit345=GetFilterUnit()
			set real349=d
		endif
	endif
	return false
endfunction

function Func3140 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	local real RW4=(LoadReal(HY,(h),(222)))
	local real RX4=(LoadReal(HY,(h),(223)))
	local real RY4=(LoadReal(HY,(h),(224)))
	local real OA2
	local group g
	local real a
	local real x
	local real y
	local integer RJ4=GetUnitAbilityLevel(source,'A1AT')
	set a=Atan2(GetUnitY(target)-GetUnitY(caster),GetUnitX(target)-GetUnitX(caster))
	if source==target then
		set x=GetUnitX(caster)+24*Cos(a)
		set y=GetUnitY(caster)+24*Sin(a)
	else
		set x=GetUnitX(caster)+24*Cos(a)
		set y=GetUnitY(caster)+24*Sin(a)
	endif
	call SetUnitX(caster,x)
	call SetUnitY(caster,y)
	if Func0141(x,y,GetUnitX(target),GetUnitY(target))<60 then
		call SetUnitX(caster,GetUnitX(target))
		call SetUnitY(caster,GetUnitY(target))
		if source==target then
			call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MANA)+RW4)
			call KillUnit(caster)
			call KillGroup(PR2)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		else
			if Func0264(target)==false or IsUnitVisible(target,GetOwningPlayer(caster)) then
				if(GetUnitAbilityLevel(target,'A2TL')>0)then
					call DamageTarget(source,target,3,((40+40*lvl)+0.25*RY4*(40+40*lvl))/(1.2+0.1*RJ4))
				else
					call DamageTarget(source,target,1,(40+40*lvl)+0.25*RY4*(40+40*lvl))
				endif
				set RY4=RY4+1
				if GetUnitState(target,UNIT_STATE_MANA)>0 then
					set OA2=RMinBJ(GetUnitState(target,UNIT_STATE_MANA),(5+15*lvl)+0.25*RX4*(10+10*lvl))
					call SetUnitState(target,UNIT_STATE_MANA,GetUnitState(target,UNIT_STATE_MANA)-OA2)
					call Func0174(sound050,GetUnitX(target),GetUnitY(target))
					set RW4=RW4+OA2
					set RX4=RX4+1
				endif
			endif
			call SaveReal(HY,(h),(222),((RW4)*1.0))
			call SaveReal(HY,(h),(224),((RY4)*1.0))
			call SaveReal(HY,(h),(223),((RX4)*1.0))
			set g=GetAvailableGroup()
			set unit345=null
			set unit346=target
			set group024=PR2
			set real349=99999
			set unit347=source
			call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),500,Condition(function Func3139))
			call KillGroup(g)
			if unit345==null or RY4==(2+lvl)then
				call SaveInteger(HY,(h),(30),(Func0021(source)))
			else
				call SaveInteger(HY,(h),(30),(Func0021(unit345)))
				call GroupAddUnit(PR2,unit345)
			endif
		endif
		call UnitAsInteger_Clear(PCI)
	endif
	set t=null
	set source=null
	set target=null
	set g=null
	return false
endfunction

function Func3141 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A0G2')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local group g=GetAvailableGroup()
	local real RY4=0
	local real RX4=0
	local real OA2=0
	local real RW4=0
	local unit caster=CreateUnit(GetOwningPlayer(source),'h090',GetUnitX(source),GetUnitY(source),GetUnitFacing(source))
	call Func0174(sound049,GetUnitX(source),GetUnitY(source))
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerAddCondition(t,Condition(function Func3140))
	call SaveGroupHandle(HY,(h),(187),(g))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveInteger(HY,(h),(34),(0))
	call SaveReal(HY,(h),(222),((RW4)*1.0))
	call SaveReal(HY,(h),(224),((RY4)*1.0))
	call SaveReal(HY,(h),(223),((RX4)*1.0))
	call GroupAddUnit(g,target)
	set source=null
	set target=null
	set t=null
	set g=null
endfunction

function Func3142 takes nothing returns boolean
	if GetSpellAbilityId()=='A0G2' then
		call Func3141()
	endif
	return false
endfunction

function Func3143 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3142))
	set t=null
endfunction

function Func3144 takes nothing returns nothing
	local unit target=GetEnumUnit()
	call SaveReal(HY,(GetHandleId(target)),(799),((0)*1.0))
	set target=null
endfunction

function Func3145 takes nothing returns nothing
	local unit target=GetEnumUnit()
	call UnitRemoveAbility(target,'A2S3')
	call UnitRemoveAbility(target,'A2TM')
	call UnitRemoveAbility(target,'B0BQ')
	call SetUnitTurnSpeed(target,GetUnitDefaultTurnSpeed(target))
	set target=null
endfunction

function Func3146 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A1AT')
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		call DisableTrigger(t)
		call DamageTarget(GetEventDamageSource(),target,7,GetEventDamage()*(0.2+0.1*lvl))
		call EnableTrigger(t)
		if IsDead(target) then
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call UnitRemoveAbility(target,'A2S1')
			call UnitRemoveAbility(target,'A2TL')
		endif
	else
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitRemoveAbility(target,'A2S1')
		call UnitRemoveAbility(target,'A2TL')
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3147 takes unit source,unit target returns nothing
	local trigger t
	local integer h
	local unit caster
	if IsUnitIllusion(target) then
		call KillUnit(target)
		return
	endif
	set t=CreateTrigger()
	set h=GetHandleId(t)
	set caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbility(caster,'A2S4')
	call IssueTargetOrder(caster,"thunderbolt",target)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,3,false)
	call TriggerAddCondition(t,Condition(function Func3146))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\EtherealForm\\SpiritWalkerChange.mdl",target,"chest")))
	call UnitAddAbilityPermanent(target,'A2S1')
	call UnitAddAbilityPermanent(target,'A2TL')
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2S1',false)
	set t=null
endfunction

function Func3148 takes nothing returns nothing
	local unit target=GetEnumUnit()
	call SaveReal(HY,(GetHandleId(target)),(799),(((LoadReal(HY,(GetHandleId(target)),(799)))+0.02)*1.0))
	if GetUnitAbilityLevel(target,'A2S3')==0 then
		call UnitAddAbilityPermanent(target,'A2S3')
		call UnitAddAbilityPermanent(target,'A2TM')
		call SetUnitTurnSpeed(target,GetUnitDefaultTurnSpeed(target)*0.5)
	endif
	if(LoadReal(HY,(GetHandleId(target)),(799)))==2.0 then
		call Func3147(unit348,target)
	endif
	set target=null
endfunction

function Func3149 takes unit source,unit target returns boolean
	local real a=Func0158(target,source)
	local real V53=GetUnitFacing(target)
	local real c1
	local real c2
	local real d1=-1.0
	local real d2=-1.0
	local real e1
	local real e2
	local real f1=-1.0
	local real f2=-1.0
	set c1=RMaxBJ(V53-85,0)
	set c2=V53
	if V53-85<=0 then
		set d1=360-(85-(c2-c1))
		set d2=360
	endif
	set e1=V53
	set e2=RMinBJ(V53+85,360)
	if V53+85>=360 then
		set f1=0
		set f2=0+(85-(e2-e1))
	endif
	if a<0 then
		set a=a+360
	elseif a>360 then
		set a=a-360
	endif
	if(a>c1 and a<c2)or(d1!=-1 and a>d1 and a<d2)or(a>e1 and a<e2)or(f1!=-1 and a>f1 and a<f2)then
		return true
	endif
	return false
endfunction

function Func3150 takes nothing returns boolean
	return(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and Func3149(tt_unit1,GetFilterUnit())
endfunction

function Func3151 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A1AT')
	local group g1=GetAvailableGroup()
	local group g2=GetAvailableGroup()
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	set group025=PR2
	set unit348=source
	set tt_unit1=source
	call GroupEnumUnitsInRange(g1,GetUnitX(source),GetUnitY(source),1025,Condition(function Func3150))
	call ForGroup(g1,function Func3148)
	call GroupAddGroup(g1,PR2)
	call GroupAddGroup(PR2,g2)
	call GroupRemoveGroup(g1,g2)
	call KillGroup(g1)
	call KillGroup(g2)
	call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
	if GetTriggerEvalCount(t)>R2I(real350/0.02)then
		call CleanTrigger(t)
		call FlushChildHashtable(HY,(h))
		call ForGroup(PR2,function Func3145)
		call ForGroup(PR2,function Func3144)
		call KillGroup(PR2)
	else
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\EtherealForm\\SpiritWalkerChange.mdl",source,"chest")))
	endif
	set source=null
	set g1=null
	set g2=null
	set PR2=null
	set t=null
	return false
endfunction

function Func3152 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func3151))
	call SaveUnitHandle(HY,(h),(2),(GetTriggerUnit()))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\EtherealForm\\SpiritWalkerChange.mdl",GetTriggerUnit(),"chest")))
	call SaveGroupHandle(HY,(h),(187),(GetAvailableGroup()))
	call TriggerEvaluate(t)
	set t=null
endfunction

function Func3153 takes nothing returns boolean
	if GetSpellAbilityId()=='A1AT' then
		call Func3152()
	endif
	return false
endfunction

function Func3154 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3153))
	set t=null
endfunction

function Func3155 takes nothing returns boolean
	if GetSpellAbilityId()=='A1C0' then
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A1ET',false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A1ES',false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A1EQ',false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A1ER',false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A2WL',false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A23F',false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A2WK',false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A2WJ',false)
	endif
	return false
endfunction

function Func3156 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3155))
	set t=null
endfunction

function Func3157 takes integer Count,unit source,unit target returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	if Count==0 then
		call IssueTargetOrder(source,"attack",target)
	elseif Count==1 then
		call UnitAddAbilityPermanent(caster,'A0TH')
		call SetUnitAbilityLevel(caster,'A0TH',1)
		call IssueTargetOrder(caster,"slow",target)
	elseif Count==2 then
		call UnitAddAbilityPermanent(caster,'A0TH')
		call SetUnitAbilityLevel(caster,'A0TH',1)
		call IssueTargetOrder(caster,"slow",target)
	elseif Count==3 then
		call UnitAddAbilityPermanent(caster,'A0TH')
		call SetUnitAbilityLevel(caster,'A0TH',2)
		call IssueTargetOrder(caster,"slow",target)
	elseif Count==4 then
		call UnitAddAbilityPermanent(caster,'A0TH')
		call SetUnitAbilityLevel(caster,'A0TH',3)
		call IssueTargetOrder(caster,"slow",target)
	elseif Count==5 then
		call UnitAddAbilityPermanent(caster,'A0TH')
		call SetUnitAbilityLevel(caster,'A0TH',4)
		call IssueTargetOrder(caster,"slow",target)
	elseif Count==6 then
		call UnitAddAbilityPermanent(caster,'A0TH')
		call SetUnitAbilityLevel(caster,'A0TH',5)
		call IssueTargetOrder(caster,"slow",target)
	endif
	set caster=null
endfunction

function Func3158 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local real AB3=(10.0+lvl*5.0)/100.0
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		set Count=Count+1
		call Func3157(Count,source,target)
		if Count==9 then
			call UnitAsInteger_Clear(PCI)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		else
			call SaveInteger(HY,(h),(34),(Count))
		endif
	elseif Func0094(GetEventDamage())and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))and IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false then
		if IsUnitType(GetEventDamageSource(),UNIT_TYPE_HERO)or GetUnitAbilityLevel(GetEventDamageSource(),'A04R')==0 then
			call SetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE,GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)+GetEventDamage()*AB3)
		else
			call SetUnitState(Players_Hero[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))],UNIT_STATE_LIFE,GetUnitState(Players_Hero[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))],UNIT_STATE_LIFE)+GetEventDamage()*AB3)
		endif
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",GetEventDamageSource(),"origin"))
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3159 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call Func3157(0,source,target)
	call SaveInteger(HY,(h),(375),(0))
	call SaveInteger(HY,(h),(5),(GetUnitAbilityLevel(source,'A194')))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterTimerEvent(t,0.01,false)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func3158))
	set t=null
	set source=null
	set target=null
endfunction

function Func3160 takes nothing returns boolean
	if GetSpellAbilityId()=='A194' and IsBlocked(GetSpellTargetUnit())==false then
		call Func3159()
	endif
	return false
endfunction

function Func3161 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3160))
	set t=null
	call Func0125('A0TH')
endfunction

function Snatch_Damage takes nothing returns nothing
	call DamageTarget(unit349,GetEnumUnit(),1,integer517*125+25)
	call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl",GetEnumUnit(),"overhead"))
endfunction

function Snatch_Process takes nothing returns nothing
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit source=tt_unit1
	local unit target=tt_unit2
	local real dmg=(LoadReal(HY,(h),(20)))
	call DamageTarget(source,target,1,dmg)
	call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl",target,"overhead"))
	set source=null
	set target=null
endfunction

function Func3162 takes nothing returns nothing
	local unit source=unit349
	local unit target=GetEnumUnit()
	local integer lvl=integer517
	local trigger t=AddProjectile(source,target,'h0DF',"Func3191",600,false)
	local integer h=GetHandleId(t)
	call SaveReal(HY,(h),(20),((lvl*125+25)*1.0))
	set source=null
	set target=null
endfunction

function Func3163 takes unit source,unit target,integer lvl returns nothing
	local group g=GetAvailableGroup()
	set tt_unit1=source
	set unit349=source
	set integer517=lvl
	call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),700+25,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func3162)
	call KillGroup(g)
	set g=null
endfunction

function Func3164 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call UnitShareVision(target,GetOwningPlayer(Hero),false)
		call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetUnitX(target),GetUnitY(target)))
		call SetUnitPosition(Hero,GetUnitX(target),GetUnitY(target))
		call PauseUnit(Hero,false)
		call ShowUnit(Hero,true)
		call SetUnitPathing(Hero,true)
		call ClearSelectionForPlayer(GetOwningPlayer(Hero))
		call SelectUnitForPlayerSingle(Hero,GetOwningPlayer(Hero))
		call SetUnitInvulnerable(Hero,false)
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(177))))
		call RemoveUnit(caster)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call Func3163(Hero,target,lvl)
		call SaveInteger(HY,(GetHandleId((Hero))),((4310)),(2))
	elseif IsUnitType(target,UNIT_TYPE_HERO) and IsUnitEnemy(target,GetOwningPlayer(Hero)) then
		call UnitShareVision(target,GetOwningPlayer(Hero),false)
		call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetUnitX(target),GetUnitY(target)))
		call SetUnitPosition(Hero,GetUnitX(target),GetUnitY(target))
		call PauseUnit(Hero,false)
		call ShowUnit(Hero,true)
		call SetUnitPathing(Hero,true)
		call ClearSelectionForPlayer(GetOwningPlayer(Hero))
		call SelectUnitForPlayerSingle(Hero,GetOwningPlayer(Hero))
		call SetUnitInvulnerable(Hero,false)
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(177))))
		call RemoveUnit(caster)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call Func3163(Hero,target,lvl)
		call SaveInteger(HY,(GetHandleId((Hero))),((4310)),(2))
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A0SX' then
		call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetUnitX(target),GetUnitY(target)))
		if IsUnitType(target,UNIT_TYPE_HERO)==false then
			call SetUnitState(Hero,UNIT_STATE_LIFE,GetUnitState(Hero,UNIT_STATE_LIFE)+GetUnitState(target,UNIT_STATE_LIFE))
		endif
		call UnitShareVision(target,GetOwningPlayer(Hero),false)
		call SetUnitPosition(Hero,GetUnitX(target),GetUnitY(target))
		call PauseUnit(Hero,false)
		call ShowUnit(Hero,true)
		call SetUnitPathing(Hero,true)
		call SetUnitAnimation(Hero,"Stand Victory")
		call Func0202(Hero,1.5)
		call ClearSelectionForPlayer(GetOwningPlayer(Hero))
		call SelectUnitForPlayerSingle(Hero,GetOwningPlayer(Hero))
		call SetUnitInvulnerable(Hero,false)
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(177))))
		call RemoveUnit(caster)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call Func3163(Hero,target,lvl)
		if IsUnitType(target,UNIT_TYPE_HERO)==false then
			if IsSentinel(GetOwningPlayer(Hero))then
				set caster=CreateUnit(Scourges[0],'e00E',GetUnitX(target),GetUnitY(target),0)
				call SetUnitOwner(target,Scourges[0],false)
			else
				set caster=CreateUnit(Sentinels[0],'e00E',GetUnitX(target),GetUnitY(target),0)
				call SetUnitOwner(target,Sentinels[0],false)
			endif
			call UnitAddAbility(caster,'A313')
			call IssueTargetOrder(caster,"charm",target)
			call UnitRemoveBuffs(target,true,true)
			call SetNapalmFactory(target,0,0)
			call DamageTarget(Hero,target,1,100000)
			call DamageTarget(Hero,target,2,100000)
			call DamageTarget(Hero,target,3,100000)
		endif
		call SaveInteger(HY,(GetHandleId((Hero))),((4310)),(2))
	elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELECTED then
		if IsUnitType(target,UNIT_TYPE_HERO) or IsUnitIllusion(target) then
			call ClearSelectionForPlayer(GetOwningPlayer(Hero))
			call SelectUnitAddForPlayer(caster,GetOwningPlayer(Hero))
		endif
	else
		call SetUnitPosition(Hero,GetUnitX(target),GetUnitY(target))
	endif
	set t=null
	set target=null
	set Hero=null
	return false
endfunction

function Func3165 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e010',7260,-7732,0)
	local string PA4="Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl"
	local string PB4="Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBase.mdl"
	local string PC4="Abilities\\Spells\\Other\\Aneu\\AneuTarget.mdl"
	if IsPlayerEnemy(LocalPlayer,GetOwningPlayer(Hero))and Func0100(LocalPlayer)==false then
		set PA4=""
		set PB4=""
		set PC4=""
	endif
	call UnitRemoveBuffs(Hero,true,true)
	call SetNapalmFactory(Hero,0,0)
	call SetUnitInvulnerable(caster,true)
	call UnitAddAbilityPermanent(caster,'A0SX')
	call ClearSelectionForPlayer(GetOwningPlayer(Hero))
	call SelectUnitForPlayerSingle(caster,GetOwningPlayer(Hero))
	call UnitShareVision(target,GetOwningPlayer(Hero),true)
	call SetUnitInvulnerable(Hero,true)
	call ShowUnit(Hero,false)
	call PauseUnit(Hero,true)
	call SetUnitPathing(Hero,false)
	call DestroyEffect(AddSpecialEffectTarget(PA4,target,"overhead"))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget(PB4,target,"overhead")))
	call SaveEffectHandle(HY,(h),(177),(AddSpecialEffectTarget(PC4,target,"overhead")))
	call SaveInteger(HY,(h),(5),(GetUnitAbilityLevel(Hero,'A0SW')))
	call TriggerRegisterDeathEvent(t,target)
	call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(Hero),EVENT_PLAYER_UNIT_SELECTED,Condition(function ReturnTrue))
	call TriggerRegisterUnitEvent(t,caster,EVENT_UNIT_SPELL_EFFECT)
	call TriggerRegisterTimerEvent(t,0.2,true)
	call TriggerAddCondition(t,Condition(function Func3164))
	call SaveInteger(HY,(GetHandleId((Hero))),((4310)),(1))
	if IsUnitType(target,UNIT_TYPE_HERO)==false and IsUnitIllusion(target)==false then
		call UnitAddAbilityPermanent(target,'A0SX')
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_SPELL_EFFECT)
		set caster=CreateUnit(GetOwningPlayer(Hero),'e00E',GetUnitX(target),GetUnitY(target),0)
		call UnitAddAbility(caster,'A313')
		call IssueTargetOrder(caster,"charm",target)
		call ClearSelectionForPlayer(GetOwningPlayer(Hero))
		call SelectUnitForPlayerSingle(target,GetOwningPlayer(Hero))
		call SetUnitState(target,UNIT_STATE_MANA,GetUnitState(target,UNIT_STATE_MAX_MANA))
	endif
	set t=null
	set Hero=null
	set target=null
endfunction

function Func3166 takes nothing returns boolean
	if GetSpellAbilityId()=='A0SW' then
		call Func3165()
	endif
	return false
endfunction

function Func3167 takes nothing returns boolean
	if GetSpellAbilityId()=='A0SW' and IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO) or IsUnitIllusion(GetSpellTargetUnit()))then
		call InterruptUnit(GetTriggerUnit())
		call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0LV'))
	endif
	return false
endfunction

function Func3168 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3166))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func3167))
	set t=null
endfunction

function Func3169 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	if GetUnitTypeId(Hero)=='E02X' then
		call SetUnitVertexColor(Hero,255,255,255,255)
	else
		call SetUnitVertexColor(Hero,100,100,100,255)
	endif
	call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
	call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
	call UnitRemoveAbility(Hero,'A0SR')
	call UnitRemoveAbility(Hero,'A0ST')
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	return false
endfunction

function Func3170 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(Hero,'A2TT')
	call SetUnitVertexColor(Hero,0,0,0,255)
	call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A0ST',false)
	call UnitAddAbilityPermanent(Hero,'A0ST')
	call UnitAddAbilityPermanent(Hero,'A0SR')
	call SetUnitAbilityLevel(Hero,'A0SR',lvl)
	call SetNapalmFactory(Hero,0,0)
	call UnitRemoveAbility(Hero,'BHtc')
	call UnitRemoveAbility(Hero,'B02U')
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl",Hero,"right hand")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl",Hero,"left hand")))
	call TriggerRegisterTimerEvent(t,2+lvl,false)
	call TriggerAddCondition(t,Condition(function Func3169))
	set Hero=null
	set t=null
endfunction

function Func3171 takes nothing returns boolean
	if GetSpellAbilityId()=='A2TT' then
		call Func3170()
	endif
	return false
endfunction

function Func3172 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3171))
	set t=null
endfunction

function Func3173 takes unit source,unit target returns nothing
	local integer lvl=GetUnitAbilityLevel(source,'A0SS')
	local real dmg=(0.03+0.01*lvl)*GetUnitState(target,UNIT_STATE_LIFE)
	if GetUnitAbilityLevel(target,'A04R')==0 and GetUnitAbilityLevel(source,'BNdo')==0 then
		call DamageTarget(source,target,2,dmg)
		call SetUnitState(source,UNIT_STATE_LIFE,dmg+GetUnitState(source,UNIT_STATE_LIFE))
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",source,"origin"))
	endif
endfunction

function Func3174 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source then
			call DisableTrigger(t)
			call Func3173(source,target)
			call UnitAsInteger_Clear(PCI)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3175 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local unit target=GetTriggerUnit()
	local unit source=GetAttacker()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,1,false)
	call TriggerAddCondition(t,Condition(function Func3174))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveUnitHandle(HY,(h),(2),(source))
	set target=null
	set source=null
	set t=null
endfunction

function Func3176 takes nothing returns nothing
	local unit source=GetAttacker()
	if((LoadInteger(HY,(GetHandleId((source))),((4274))))==1)==false then
		call AddTimedKeyToUnit(source,4274,0.4)
		call Func3175()
	endif
endfunction

function Func3177 takes nothing returns boolean
	if GetUnitAbilityLevel(GetAttacker(),'A0SS')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(14)))and GetUnitTypeId(GetTriggerUnit())!='n00L' and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
		call Func3176()
	endif
	return false
endfunction

function Func3178 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func3177))
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(GetTriggerUnit()))
	set t=null
endfunction

function Func3179 takes nothing returns boolean
	if GetLearnedSkill()=='A0SS' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0SS')==1 then
		call Func3178()
	endif
	return false
endfunction

function Func3180 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3179))
	set t=null
endfunction

function Func3181 takes nothing returns nothing
	local unit target=GetEnumUnit()
	local unit source=unit350
	local real KMO=GetUnitState(target,UNIT_STATE_LIFE)
	local real PM4=GetUnitState(target,UNIT_STATE_MAX_LIFE)
	local real PN4=((0.003+0.003*integer518)*PM4)/2
	if KMO<PN4 then
		call SetUnitState(target,UNIT_STATE_LIFE,1)
		call DamageTarget(source,target,3,100)
		call DamageTarget(source,target,1,100)
		call DamageTarget(source,target,2,100)
	else
		call SetUnitState(target,UNIT_STATE_LIFE,Func0134(GetUnitState(target,UNIT_STATE_LIFE)-PN4,1))
	endif
	set target=null
	set source=null
endfunction

function Func3182 takes nothing returns boolean
	return(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),'B084')>0
endfunction

function Func3183 takes nothing returns boolean
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group g
	if IsDead(source)==false then
		set g=GetAvailableGroup()
		set tt_unit1=source
		set unit350=source
		set integer518=GetUnitAbilityLevel(source,'A01N')
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),1225,Condition(function Func3182))
		call ForGroup(g,function Func3181)
		call KillGroup(g)
	endif
	set g=null
	set source=null
	return false
endfunction

function Func3184 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerAddCondition(t,Condition(function Func3183))
	call SaveUnitHandle(HY,(GetHandleId(t)),(2),(GetTriggerUnit()))
	set t=null
endfunction

function Func3185 takes nothing returns boolean
	if GetLearnedSkill()=='A01N' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A01N')==1 then
		call Func3184()
	endif
	return false
endfunction

function Func3186 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3185))
	set t=null
endfunction

function Func3187 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A060')
	local real PU4=2*lvl
	local real Q04=lvl
	local integer AB3=(LoadInteger(HY,(h),(34)))
	if lvl==4 then
		set PU4=10
	endif
	set Q04=Q04*AB3
	set PU4=PU4*AB3
	call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MANA)+PU4)
	call SetUnitState(source,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_LIFE)+Q04)
	if GetTriggerEvalCount(t)>5 or GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3188 takes unit source returns nothing
	local integer lvl=GetUnitAbilityLevel(source,'A060')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",source,"origin"))
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerAddCondition(t,Condition(function Func3187))
	call SaveUnitHandle(HY,(h),(2),(source))
	if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
		call SaveInteger(HY,(h),(34),(10))
	else
		call SaveInteger(HY,(h),(34),(1))
	endif
	set t=null
endfunction

function Func3189 takes nothing returns boolean
	if GetUnitAbilityLevel(GetKillingUnit(),'B02R')>0 then
		call Func3188(GetKillingUnit())
	elseif((LoadInteger(HY,(GetHandleId((GetTriggerUnit()))),((4333))))==1)then
		call Func3188(unit351)
	endif
	return false
endfunction

function Func3190 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3189))
	set t=null
endfunction

function Func3191 takes nothing returns nothing
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit source=tt_unit1
	local unit target=tt_unit2
	local real dmg=(LoadReal(HY,(h),(20)))
	local real MR3=(LoadReal(HY,(h),(21)))
	if IsUnitAlly(target,GetOwningPlayer(source))then
		call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)+MR3)
	else
		call DamageTarget(source,target,1,dmg)
	endif
	set source=null
	set target=null
endfunction

function Func3192 takes nothing returns nothing
	local trigger t=AddProjectile(tt_unit1,GetEnumUnit(),'h00W',"Func3191",400,false)
	local integer h=GetHandleId(t)
	call SaveReal(HY,(h),(20),((real009)*1.0))
	call SaveReal(HY,(h),(21),((real010)*1.0))
	set t=null
endfunction

function Func3193 takes nothing returns nothing
	call Func3192()
endfunction

function Func3194 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local group g=GetAvailableGroup()
	local integer lvl=GetUnitAbilityLevel(Hero,integer519)
	local real r
	local real dmg
	local real MR3
	if lvl==1 then
		set dmg=75
		set MR3=70
		set r=500
	elseif lvl==2 then
		set dmg=125
		set MR3=90
		set r=500
	elseif lvl==3 then
		set dmg=200
		set MR3=110
		set r=500
	elseif lvl==4 then
		set dmg=275
		set MR3=130
		set r=500
	endif
	set tt_unit1=Hero
	set real009=dmg
	set real010=MR3
	call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),r,Condition(function Func0306))
	call GroupRemoveUnit(g,Hero)
	call ForGroup(g,function Func3193)
	call KillGroup(g)
	call SetUnitState(Hero,UNIT_STATE_LIFE,GetUnitState(Hero,UNIT_STATE_LIFE)+MR3)
	set Hero=null
	set g=null
endfunction

function Func3195 takes nothing returns boolean
	if GetSpellAbilityId()==integer519 then
		call Func3194()
	endif
	return false
endfunction

function Func3196 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3195))
	set t=null
endfunction

function Func3197 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real AB3=(LoadReal(HY,(h),(680)))
	local integer Q64=GetUnitAbilityLevel(source,'A08P')
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",target,"origin"))
	if Q64>0 then
		set boolean150=true
		call DamageTarget(source,target,1,AB3*(GetUnitState(target,UNIT_STATE_MAX_LIFE)-GetUnitState(target,UNIT_STATE_LIFE)))
		set boolean150=false
	else
		call DamageTarget(source,target,1,AB3*(GetUnitState(target,UNIT_STATE_MAX_LIFE)-GetUnitState(target,UNIT_STATE_LIFE)))
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3198 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer Q84=GetUnitAbilityLevel(source,'A067')
	local integer Q94=GetUnitAbilityLevel(source,'A08P')
	local real AB3
	if Q84==1 then
		set AB3=0.4
	elseif Q84==2 or Q94==1 then
		set AB3=0.6
	elseif Q84==3 or Q94==2 then
		set AB3=0.9
	elseif Q94==3 then
		set AB3=1.2
	endif
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(680),((AB3)*1.0))
	call TriggerRegisterTimerEvent(t,1.5,false)
	call TriggerAddCondition(t,Condition(function Func3197))
	call AddTimedKeyToUnit(target,4333,1.5)
	if Q94>0 then
		call AddTimedKeyToUnit(target,4418,1.51)
	endif
	set unit351=source
	set t=null
	set source=null
	set target=null
endfunction

function Func3199 takes nothing returns boolean
	if(GetSpellAbilityId()=='A067' or GetSpellAbilityId()=='A08P')and IsBlocked(GetSpellTargetUnit())==false then
		call Func3198()
	endif
	return false
endfunction

function Func3200 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3199))
	set t=null
endfunction

function Func3201 takes nothing returns nothing
	local location l
	local unit Hero=GetTriggerUnit()
	local real x1=GetUnitX(Hero)
	local real y1=GetUnitY(Hero)
	local real a
	local real x2
	local real y2
	local integer lvl=GetUnitAbilityLevel(Hero,'A0X7')
	local real dmg
	local real DC1
	local unit DT1=null
	if GetSpellTargetUnit()!=null then
		set l=GetUnitLoc(GetSpellTargetUnit())
	else
		set l=GetSpellTargetLoc()
	endif
	set x2=GetLocationX(l)
	set y2=GetLocationY(l)
	set a=Atan2(y2-y1,x2-x1)
	set x2=x1+700*Cos(a)
	set y2=y1+700*Sin(a)
	if lvl==1 then
		set dmg=80
		set DC1=0.75
	elseif lvl==2 then
		set dmg=140
		set DC1=1.25
	elseif lvl==3 then
		set dmg=200
		set DC1=1.75
	elseif lvl==4 then
		set dmg=260
		set DC1=2.25
	endif
	if GetSpellTargetUnit()!=null and IsBlocked(GetSpellTargetUnit())then
		set DT1=GetSpellTargetUnit()
	endif
	call Func0319(Hero,DT1,dmg,DC1,0.52,x1,y1,x2,y2,150,null,true,1600)
	call RemoveLocation(l)
	set l=null
	set Hero=null
endfunction

function Func3202 takes nothing returns boolean
	if GetSpellAbilityId()=='A0X7' then
		call Func3201()
	endif
	return false
endfunction

function Func3203 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3202))
	call Func0125('A0X6')
	set t=null
endfunction

function Func3204 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A1H5')
	local real r=GetHeroInt(target,true)*(3+0.5*lvl)
	local integer ZCO=IMinBJ(R2I(r),R2I(GetUnitState(target,UNIT_STATE_MANA)))
	call SetUnitState(target,UNIT_STATE_MANA,GetUnitState(target,UNIT_STATE_MANA)-ZCO)
	call DamageTarget(source,target,1,ZCO)
	call Func0230("MBUR",source,target,1,1,1,1,0.5)
	call Func0163("-"+I2S(ZCO),3,target,0.023,82,82,255,255)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\ManaBurn\\ManaBurnTarget.mdl",target,"chest"))
	set source=null
	set target=null
endfunction

function Func3205 takes nothing returns boolean
	if GetSpellAbilityId()=='A1H5' and IsBlocked(GetSpellTargetUnit())==false then
		call Func3204()
	endif
	return false
endfunction

function Func3206 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3205))
	set t=null
endfunction

function Func3207 takes nothing returns nothing
	call IssueTargetOrder(unit352,"soulburn",GetEnumUnit())
endfunction

function Func3208 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
	local group g=GetAvailableGroup()
	set unit352=caster
	call UnitAddAbilityPermanent(caster,'A1GG')
	call GroupEnumUnitsInRange(g,x,y,325,Condition(function Func0271))
	call ForGroup(g,function Func3207)
	call KillGroup(g)
	call KillUnit(source)
	call SetUnitAnimation(source,"death")
	call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadLargeDeathExplode\\UndeadLargeDeathExplode.mdl",x,y))
	set source=null
	set caster=null
	set g=null
endfunction

function Func3209 takes nothing returns boolean
	if GetSpellAbilityId()=='A1HH' then
		call Func3208()
	endif
	return false
endfunction

function Func3210 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3209))
	call Func0125('A1GG')
	set t=null
endfunction

function Func3211 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target
	local integer lvl=GetUnitAbilityLevel(source,'A2KO')
	local group PR2=(LoadGroupHandle(HY,(h),(22)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamage()>0 and IsPlayerEnemy(GetOwningPlayer(GetEventDamageSource()),GetOwningPlayer(source)) then
			if Func0053(GetOwningPlayer(GetEventDamageSource()))and Func0094(GetEventDamage())then
				set target=GetEventDamageSource()
				if GetUnitAbilityLevel(target,'A04R')>0 then
					set target=Players_Hero[GetPlayerId(GetOwningPlayer(target))]
				endif
				if IsUnitInGroup(target,PR2)==false then
					call GroupAddUnit(PR2,target)
					call Func0137(source,GetEventDamage())
					if IsDead(target)==false then
						call StunTargetIF(source,target,0.6*lvl)
						call DamageTarget(source,target,3,GetEventDamage())
					endif
				endif
			endif
		endif
	else
		call UnitRemoveAbility(source,'A2KP')
		call KillGroup(PR2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3212 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,2.25,false)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func3211))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveGroupHandle(HY,(h),(22),(GetAvailableGroup()))
	call UnitAddAbilityPermanent(source,'A2KP')
	set source=null
	set t=null
endfunction

function Func3213 takes nothing returns boolean
	if GetSpellAbilityId()=='A2KO' then
		call Func3212()
	endif
	return false
endfunction

function Func3214 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3213))
	set t=null
endfunction

constant function Shadowraze_RawCode1 takes nothing returns integer
	return 'A0EY'
endfunction

constant function Shadowraze_RawCode2 takes nothing returns integer
	return 'A0FH'
endfunction

constant function Shadowraze_RawCode3 takes nothing returns integer
	return 'A0F0'
endfunction

constant function Shadowraze_Area takes nothing returns integer
	return 275
endfunction

function Func3215 takes nothing returns boolean
	return GetSpellAbilityId()==('A0EY')or GetSpellAbilityId()==('A0FH')or GetSpellAbilityId()==('A0F0')
endfunction

function Func3216 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(),'A04R')!=1
endfunction

function Func3217 takes nothing returns nothing
	call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),25+75*GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId()),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEATH,WEAPON_TYPE_WHOKNOWS)
endfunction

function Func3218 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit caster
	local group Z51=GetAvailableGroup()
	local boolexpr QL1=Condition(function Func3216)
	local real a=GetUnitFacing(Hero)
	local real x
	local real y
	if GetSpellAbilityId()==('A0EY')then
		set x=GetUnitX(Hero)+200*Cos(a*bj_DEGTORAD)
		set y=GetUnitY(Hero)+200*Sin(a*bj_DEGTORAD)
		set caster=CreateUnit(GetOwningPlayer(Hero),'e006',x,y,0)
		call UnitApplyTimedLife(caster,'BTLF',2)
		call GroupEnumUnitsInRange(Z51,x,y,(275),QL1)
		call ForGroup(Z51,function Func3217)
		call GroupClear(Z51)
	endif
	if GetSpellAbilityId()==('A0FH')then
		set x=GetUnitX(Hero)+450*Cos(a*bj_DEGTORAD)
		set y=GetUnitY(Hero)+450*Sin(a*bj_DEGTORAD)
		set caster=CreateUnit(GetOwningPlayer(Hero),'e006',x,y,0)
		call UnitApplyTimedLife(caster,'BTLF',2)
		call GroupEnumUnitsInRange(Z51,x,y,(275),QL1)
		call ForGroup(Z51,function Func3217)
		call GroupClear(Z51)
	endif
	if GetSpellAbilityId()==('A0F0')then
		set x=GetUnitX(Hero)+700*Cos(a*bj_DEGTORAD)
		set y=GetUnitY(Hero)+700*Sin(a*bj_DEGTORAD)
		set caster=CreateUnit(GetOwningPlayer(Hero),'e006',x,y,0)
		call UnitApplyTimedLife(caster,'BTLF',2)
		call GroupEnumUnitsInRange(Z51,x,y,(275),QL1)
		call ForGroup(Z51,function Func3217)
		call GroupClear(Z51)
	endif
	call KillGroup(Z51)
endfunction

function Func3219 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddAction(t,function Func3218)
	call TriggerAddCondition(t,Condition(function Func3215))
endfunction

function Func3220 takes nothing returns nothing
	if(GetLearnedSkill()=='A0EY')then
		if(GetUnitAbilityLevelSwapped('A0EY',GetTriggerUnit())==1)then
			call UnitAddAbility(GetTriggerUnit(),'A0F0')
			call UnitAddAbility(GetTriggerUnit(),'A0FH')
		else
			call SetUnitAbilityLevelSwapped('A0F0',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0EY',GetTriggerUnit()))
			call SetUnitAbilityLevelSwapped('A0FH',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0EY',GetTriggerUnit()))
		endif
	endif
	if(GetLearnedSkill()=='A0BR')then
		if(GetUnitAbilityLevelSwapped('A0BR',GetTriggerUnit())==1)then
			call UnitAddAbility(GetTriggerUnit(),'A0CQ')
		endif
	endif
endfunction

function Func3221 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddAction(t,function Func3220)
endfunction

function Func3222 takes nothing returns boolean
	return GetSpellAbilityId()=='A29J'
endfunction

function Requiem_Act takes unit u,integer souls returns nothing
	local integer souls2=souls
	local integer i
	local integer k
	local integer lvl=GetUnitAbilityLevel(u,'A29J')
	local unit d
	local real a
	local real x
	local real y
	local real r
	local player p=GetOwningPlayer(u)
	if lvl==0 then
		return
	endif
	set x=GetUnitX(u)
	set y=GetUnitY(u)
	set souls2=souls2/2
	if souls2==0 then
		return
	endif
	set a=360./(souls2*1.)
	set i=1
	set k=souls2
	loop
		exitwhen i>k
		set d=CreateUnit(p,'e00C',x,y,0)
		call UnitAddAbility(d,'Aloc')
		call SetUnitX(d,x)
		call SetUnitY(d,y)
		call UnitApplyTimedLife(d,'BTLF',15.00)
		call UnitAddAbility(d,'A0HG')
		call SetUnitAbilityLevel(d,'A0HG',lvl)
		set r=i*a*bj_DEGTORAD
		call IssuePointOrderByIdEx(d,852218,x+50*Cos(r),y+50*Sin(r))
		set i=i+1
		set d=null
	endloop
	set d=null
endfunction

function Requiem_Effect takes nothing returns nothing
	local integer souls=(LoadInteger(HY,(GetHandleId(GetTriggerUnit())),(710)))
	local unit PKI=GetTriggerUnit()
	call Requiem_Act(PKI,souls)
	set PKI=null
endfunction

function Func3225 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3222))
	call TriggerAddAction(t,function Requiem_Effect)
endfunction

function Func3227 takes nothing returns boolean
	if(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))then
		return false
	endif
	if(GetUnitAbilityLevelSwapped('A04R',GetFilterUnit())==1)then
		return false
	endif
	if(IsUnitAliveBJ(GetFilterUnit())==false)then
		return false
	endif
	if(GetUnitTypeId(GetFilterUnit())=='o003')then
		return false
	endif
	if(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())==false)then
		return false
	endif
	if(GetTriggerUnit()==GetFilterUnit())then
		return false
	endif
	if(IsUnitVisible(GetFilterUnit(),GetTriggerPlayer())==false)then
		return false
	endif
	return true
endfunction

function Func3228 takes nothing returns nothing
	local unit u=GetTriggerUnit()
	local location l=GetUnitLoc(u)
	local integer lvl=GetUnitAbilityLevelSwapped('A29J',GetTriggerUnit())
	if lvl==0 then
		set lvl=GetUnitAbilityLevelSwapped('A1MP',GetTriggerUnit())
	endif
	call CreateNUnitsAtLoc(1,'e00C',GetOwningPlayer(GetEnumUnit()),l,270)
	call UnitAddAbility(bj_lastCreatedUnit,'A0HH')
	call SetUnitAbilityLevelSwapped('A0HH',bj_lastCreatedUnit,lvl)
	call UnitApplyTimedLifeBJ(2.00,'BTLF',bj_lastCreatedUnit)
	call IssueTargetOrder(bj_lastCreatedUnit,"cripple",GetEnumUnit())
	call SetUnitPathing(bj_lastCreatedUnit,false)
	call SetUnitInvulnerable(bj_lastCreatedUnit,true)
	call UnitAddAbility(bj_lastCreatedUnit,'Aloc')
	call RemoveLocation(l)
endfunction

function Func3229 takes nothing returns nothing
	local unit u=GetTriggerUnit()
	local location l=GetUnitLoc(u)
	local integer lvl=GetUnitAbilityLevelSwapped('A29J',GetTriggerUnit())
	if lvl==0 then
		set lvl=GetUnitAbilityLevelSwapped('A1MP',GetTriggerUnit())
	endif
	call CreateNUnitsAtLoc(1,'e00C',GetOwningPlayer(GetEnumUnit()),l,270)
	call UnitAddAbility(bj_lastCreatedUnit,'A0HH')
	call SetUnitAbilityLevelSwapped('A0HH',bj_lastCreatedUnit,lvl)
	call UnitApplyTimedLifeBJ(2.00,'BTLF',bj_lastCreatedUnit)
	call IssueTargetOrder(bj_lastCreatedUnit,"cripple",GetEnumUnit())
	call SetUnitPathing(bj_lastCreatedUnit,false)
	call SetUnitInvulnerable(bj_lastCreatedUnit,true)
	call UnitAddAbility(bj_lastCreatedUnit,'Aloc')
	call RemoveLocation(l)
endfunction

function Func3230 takes nothing returns nothing//here
	local unit u=GetTriggerUnit()
	local location l=GetUnitLoc(u)
	local integer lvl=GetUnitAbilityLevelSwapped('A29J',u)
	if lvl==0 then
		set lvl=GetUnitAbilityLevelSwapped('A1MP',u)
	endif
	call CreateNUnitsAtLoc(1,'e00C',GetOwningPlayer(GetEnumUnit()),l,270)
	call UnitAddAbility(bj_lastCreatedUnit,'A0HH')
	call SetUnitAbilityLevelSwapped('A0HH',bj_lastCreatedUnit,lvl)
	call UnitApplyTimedLifeBJ(2.00,'BTLF',bj_lastCreatedUnit)
	call IssueTargetOrder(bj_lastCreatedUnit,"cripple",GetEnumUnit())
	call SetUnitPathing(bj_lastCreatedUnit,false)
	call SetUnitInvulnerable(bj_lastCreatedUnit,true)
	call UnitAddAbility(bj_lastCreatedUnit,'Aloc')
	call RemoveLocation(l)
endfunction

function Func3231 takes nothing returns nothing
	local location l=GetUnitLoc(GetTriggerUnit())
	local group g
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRangeOfLoc(g,l,700,Condition(function Func3227))
	call ForGroup(g,function Func3228)
	call KillGroup(g)
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRangeOfLoc(g,l,400,Condition(function Func3227))
	call ForGroup(g,function Func3229)
	call KillGroup(g)
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRangeOfLoc(g,l,200,Condition(function Func3227))
	call ForGroup(g,function Func3230)
	call KillGroup(g)
	call RemoveLocation(l)
	set g=null
	set l=null
endfunction

function Func3232 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3222))
	call TriggerAddAction(t,function Func3231)
endfunction

function Necromastery_AddSouls takes nothing returns nothing
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit source=tt_unit2
	local unit target=tt_unit1
	local integer i=GetUnitAbilityLevel(source,'A0CQ')
	local integer souls
	local integer lvl=GetUnitAbilityLevel(source,'A0BR')
	if lvl==1 then
		set souls=15
	elseif lvl==2 then
		set souls=22
	elseif lvl==3 then
		set souls=29
	else
		set souls=36
	endif
	set souls=souls+1
	if not IsUnitType(target,UNIT_TYPE_HERO) then
		set i=i+1
	else
		set i=i+12
	endif
	set i=IMinBJ(souls,i)
	call SetUnitAbilityLevel(source,'A0CQ',i)
	call SaveInteger(HY,GetHandleId(source),710,i)
	set source=null
	set target=null
endfunction

function SF_Necromastery_Effect takes nothing returns nothing
	local integer souls
	local integer lvl
	local integer max
	local trigger t
	local integer h
	local unit source=GetKillingUnit()
	local unit target=GetTriggerUnit()
	if GetUnitTypeId(source)=='e00C' then
		set source=Players_Hero[GetPlayerId(GetOwningPlayer(source))]
	endif
	set souls=GetUnitAbilityLevel(source,'A0CQ')
	set lvl=GetUnitAbilityLevel(source,'A0BR')
	if lvl==1 then
		set max=15
	elseif lvl==2 then
		set max=22
	elseif lvl==3 then
		set max=29
	else
		set max=36
	endif
	if souls<=max then
		set t=AddProjectile(target,source,'h0CR',"Necromastery_AddSouls",500,false)
		set h=GetHandleId(t)
		set t=null
		call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\ZigguratMissile\\ZigguratMissile.mdl",GetUnitX(target),GetUnitY(target)))
	endif
	set source=null
	set target=null
endfunction

function SF_Necromastery_OnDeath takes nothing returns nothing
	local unit u=GetTriggerUnit()
	local integer hu=GetHandleId(u)
	local integer souls=LoadInteger(HY,hu,710)
	local integer lvl=R2I(GetUnitAbilityLevel(u,'A0CQ')*0.5)+1
	call SaveInteger(HY,hu,710,lvl)
	call SetUnitAbilityLevel(u,'A0CQ',lvl)
	call Requiem_Act(u,souls-LoadInteger(HY,hu,710))
	set u=null
endfunction

function SF_Necromastery_Init takes nothing returns nothing
	local unit killer=GetKillingUnit()
	local unit victim=GetTriggerUnit()
	local integer i=GetPlayerId(GetOwningPlayer(killer))
	if GetUnitAbilityLevel(killer,'A0BR')>0 and not IsUnitIllusion(victim) then
		call SF_Necromastery_Effect()
	elseif GetUnitAbilityLevel(Players_Hero[i],'A0BR')>0 and GetUnitTypeId(killer)=='e00C' then
		call SF_Necromastery_Effect()
	endif
	if GetUnitAbilityLevel(victim,'A0BR')>0 and not IsUnitIllusion(victim) then
		call SF_Necromastery_OnDeath()
	endif
	set killer=null
	set victim=null
endfunction

function SF_Necromastery_Stats takes nothing returns boolean
	local unit Hero=Players_Hero[GetPlayerId(GetTriggerPlayer())]
	local integer souls=GetUnitAbilityLevel(Hero,'A0CQ')-1
	local integer max=0
	local integer lvl=GetUnitAbilityLevel(Hero,'A0BR')
	if lvl==1 then
		set max=12
	elseif lvl==2 then
		set max=20
	elseif lvl==3 then
		set max=28
	elseif lvl==4 then
		set max=36
	endif
	set souls=IMaxBJ(IMinBJ(souls,max),0)
	if GetUnitTypeId(Hero)=='Nfir' then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,GetObjectName('n0KE')+" "+I2S(souls)+"/"+I2S(max))
	endif
	return false
endfunction

function SF_Necromastery_Reg takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddAction(t,function SF_Necromastery_Init)
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-st",true)
	call TriggerAddCondition(t,Condition(function SF_Necromastery_Stats))
	set t=null
endfunction

function Func3239 takes nothing returns boolean
	return GetSpellAbilityId()=='A02H'
endfunction

function Func3240 takes nothing returns nothing
	local unit caster
	if(IsDayTime()==false)then
		set caster=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'e00E',GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),270)
		call UnitAddAbilityPermanent(caster,'A02R')
		call IssueTargetOrder(caster,"slow",GetSpellTargetUnit())
	else
		set caster=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'e00E',GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),270)
		call UnitAddAbilityPermanent(caster,'A1H1')
		call IssueTargetOrder(caster,"slow",GetSpellTargetUnit())
	endif
endfunction

function Func3241 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3239))
	call TriggerAddAction(t,function Func3240)
endfunction

function Func3242 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	call ResetUnitAnimation(source)
	call RemoveUnit(caster)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set source=null
	set caster=null
	set t=null
	return false
endfunction

function Func3243 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit caster=CreateUnit(GetOwningPlayer(source),'u01I',GetUnitX(source),GetUnitY(source),GetUnitFacing(source))
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_ENDCAST)
	call TriggerAddCondition(t,Condition(function Func3242))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SetUnitVertexColorBJ(caster,0,0,0,75)
	call SetUnitAnimation(caster,"spell third")
	set source=null
	set caster=null
	set t=null
endfunction

function Func3244 takes nothing returns boolean
	if GetSpellAbilityId()=='A08C' and GetUnitAbilityLevel(GetTriggerUnit(),'A08C')<5 then
		call Func3243()
	endif
	return false
endfunction

function Func3245 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func3244))
	set t=null
endfunction

function Func3246 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	return false
endfunction

function Func3247 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer DC1
	local integer lvl=GetUnitAbilityLevel(source,'A03K')
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A1B0')
	endif
	if lvl==1 then
		set DC1=25
	elseif lvl==2 then
		set DC1=50
	elseif lvl==3 then
		set DC1=80
	endif
	call TriggerRegisterTimerEvent(t,DC1,false)
	call TriggerAddCondition(t,Condition(function Func3246))
	set source=null
	set t=null
endfunction

function Func3248 takes nothing returns boolean
	if GetSpellAbilityId()=='A03K' or GetSpellAbilityId()=='A1B0' then
		call Func3247()
	endif
	return false
endfunction

function Func3249 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func3248))
	set t=null
endfunction

function Func3250 takes nothing returns boolean
	return(GetLearnedSkill()=='A086' or GetLearnedSkill()=='A08E')and IsUnitIllusion(GetTriggerUnit())==false
endfunction

function Func3251 takes nothing returns boolean
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit UY4=(LoadUnitHandle(HY,(h),(304)))
	local unit XO3=(LoadUnitHandle(HY,(h),(305)))
	if UY4==null or IsDead(UY4)or IsDayTime()or Func0341(UY4,integers089[integer347])==null then
		call ShowUnit(XO3,false)
	else
		call ShowUnit(XO3,true)
		call SetUnitX(XO3,GetUnitX(UY4))
		call SetUnitY(XO3,GetUnitY(UY4))
	endif
	if GetOwningPlayer(XO3)!=GetOwningPlayer(UY4)then
		call SetUnitOwner(XO3,GetOwningPlayer(UY4),true)
	endif
	return false
endfunction

function Func3252 takes nothing returns nothing
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit UY4=(LoadUnitHandle(HY,(h),(304)))
	if UY4!=null and IsDayTime()and IsDead(UY4)==false then
		call UnitRemoveAbility(UY4,'A116')
		call UnitRemoveAbility(UY4,'A117')
		call SetUnitAbilityLevel(UY4,'S00A',5)
		call SetUnitAbilityLevel(UY4,'A08C',5)
	elseif UY4!=null and IsDayTime()==false and IsDead(UY4)==false then
		call UnitAddAbilityPermanent(UY4,'A116')
		call UnitAddAbilityPermanent(UY4,'A117')
		call SetUnitAbilityLevel(UY4,'S00A',GetUnitAbilityLevel(UY4,'A086'))
		call SetUnitAbilityLevel(UY4,'A08C',GetUnitAbilityLevel(UY4,'A08E'))
	endif
endfunction

function Func3253 takes nothing returns nothing
	local integer h=GetHandleId(GetTriggerUnit())
	local trigger t
	if((LoadBoolean(HY,(h),(306)))==false)then
		call SaveBoolean(HY,(h),(306),(true))
		set t=CreateTrigger()
		call TriggerRegisterTimerEventPeriodic(t,2.00)
		call TriggerRegisterGameStateEventTimeOfDay(t,LESS_THAN,6.00)
		call TriggerRegisterGameStateEventTimeOfDay(t,GREATER_THAN,18.00)
		call TriggerAddAction(t,function Func3252)
		call SaveUnitHandle(HY,(GetHandleId(t)),(304),(GetTriggerUnit()))
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,0.5,true)
		call TriggerAddCondition(t,Condition(function Func3251))
		call SaveUnitHandle(HY,(h),(304),(GetTriggerUnit()))
		call SaveUnitHandle(HY,(h),(305),(CreateUnit(GetOwningPlayer(GetTriggerUnit()),'o01A',GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)))
	endif
	if(GetLearnedSkill()=='A086')then
		call UnitAddAbilityPermanent(GetTriggerUnit(),'S00A')
		if(IsDayTime())then
			call SetUnitAbilityLevel(GetTriggerUnit(),'S00A',5)
		else
			call SetUnitAbilityLevel(GetTriggerUnit(),'S00A',GetUnitAbilityLevel(GetTriggerUnit(),'A086'))
		endif
	endif
	if(GetLearnedSkill()=='A08E')then
		call UnitAddAbility(GetTriggerUnit(),'A08C')
		if(IsDayTime())then
			call SetUnitAbilityLevel(GetTriggerUnit(),'A08C',5)
		else
			call SetUnitAbilityLevel(GetTriggerUnit(),'A08C',GetUnitAbilityLevel(GetTriggerUnit(),'A08E'))
		endif
	endif
endfunction

function Func3254 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3250))
	call TriggerAddAction(t,function Func3253)
endfunction

function Func3255 takes nothing returns nothing
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit source=tt_unit1
	local unit target=tt_unit2
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real dmg=20+lvl*40
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	local integer UM4=GetUnitAbilityLevel(source,'A03Q')
	if IsUnitType(target,UNIT_TYPE_HERO) then
		set dmg=dmg/2
	endif
	if UM4>0 and GetRandomReal(0,100)<15 then
		set dmg=dmg*(1.2+1.1*UM4)
		call Func0163(I2S(R2I(dmg))+"!",3,target,0.02,255,0,0,255)
	endif
	call UnitAddAbilityPermanent(caster,'A0YL')
	call SetUnitAbilityLevel(caster,'A0YL',lvl)
	call IssueTargetOrder(caster,"slow",target)
	call DamageTarget(source,target,3,dmg)
	set source=null
	set target=null
	set caster=null
endfunction

function Func3256 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=AddProjectile(Hero,target,'h010',"Func3255",1200,true)
	local integer h=GetHandleId(t)
	call SaveInteger(HY,(h),(5),(GetUnitAbilityLevel(Hero,'A0YM')))
	set Hero=null
	set target=null
	set t=null
endfunction

function Func3257 takes nothing returns boolean
	if GetSpellAbilityId()=='A0YM' and IsBlocked(GetSpellTargetUnit())==false then
		call Func3256()
	endif
	return false
endfunction

function Func3258 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3257))
	set t=null
endfunction

function Func3259 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local integer Count=(LoadInteger(HY,(h),(34)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call UnitRemoveAbility(source,'A1CO')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
		if GetTriggerUnit()!=target and GetAttacker()==source then
			call UnitRemoveAbility(source,'A1CO')
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		elseif GetTriggerUnit()==target and GetAttacker()==source then
			set Count=Count+1
			call SaveInteger(HY,(h),(34),(Count))
			if Count==4 then
				call UnitRemoveAbility(source,'A1CO')
				call FlushChildHashtable(HY,(h))
				call CleanTrigger(t)
			endif
		endif
	else
		call UnitRemoveAbility(source,'A1CO')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3260 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A0PL')
	local trigger t
	local integer h
	call DestroyEffect(AddSpecialEffect("war3mapImported\\PhantomStrike.mdx",GetUnitX(source),GetUnitY(source)))
	call SetUnitX(source,GetUnitX(target))
	call SetUnitY(source,GetUnitY(target))
	if IsUnitAlly(source,GetOwningPlayer(target))==false then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call UnitAddAbilityPermanent(source,'A1CO')
		call IssueTargetOrder(source,"attack",target)
		call TriggerRegisterTimerEvent(t,3,false)
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
		call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
		call TriggerAddCondition(t,Condition(function Func3259))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveInteger(HY,(h),(30),(Func0021(target)))
	endif
	set source=null
	set target=null
	set t=null
endfunction

function Func3261 takes nothing returns boolean
	if GetSpellAbilityId()=='A0PL' then
		call Func3260()
	endif
	return false
endfunction

function Func3262 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3261))
	set t=null
endfunction

function Func3263 takes unit source,boolean SG2 returns nothing
	local integer lvl=GetUnitAbilityLevel(source,'A03P')
	if SG2==false then
		call UnitRemoveAbility(source,'A13F')
		call UnitRemoveAbility(source,'B0A2')
	else
		call UnitAddAbilityPermanent(source,'A13F')
	endif
endfunction

function Func3264 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group g
	local integer Count=(LoadInteger(HY,(h),(34)))
	local boolean I05=(LoadBoolean(HY,(h),(674)))
	set Count=Count+1
	call SaveInteger(HY,(h),(34),(Count))
	if source!=null and IsDead(source)==false and GetUnitAbilityLevel(source,'A03P')>0 then
		set tt_unit1=source
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),1625,Condition(function Func0277))
		if FirstOfGroup(g)!=null then
			if I05 and Count>7 then
				set I05=false
				call SaveBoolean(HY,(h),(674),(I05))
				set Count=0
				call SaveInteger(HY,(h),(34),(Count))
			endif
			if I05==false then
				set Count=0
				call SaveInteger(HY,(h),(34),(Count))
				call SaveInteger(HY,(GetHandleId((source))),((4302)),(2))
				call Func3263(source,false)
				call SetUnitVertexColorBJ(source,100,100,100,0)
				if GetUnitAbilityLevel(source,'A20S')==0 then
					call UnitSetUsesAltIcon(source,false)
				endif
			endif
		else
			if I05==false and Count>7 then
				set I05=true
				set Count=0
				call SaveBoolean(HY,(h),(674),(I05))
				call SaveInteger(HY,(h),(34),(Count))
			endif
			if I05 then
				set Count=0
				call SaveInteger(HY,(h),(34),(Count))
				call SaveInteger(HY,(GetHandleId((source))),((4302)),(1))
				call Func3263(source,true)
				call SetUnitVertexColorBJ(source,100,100,100,75)
				if IsPlayerEnemy(GetOwningPlayer(source),LocalPlayer) and Func0100(LocalPlayer)==false then
					call UnitSetUsesAltIcon(source,true)
				else
					call UnitSetUsesAltIcon(source,false)
				endif
			endif
		endif
		call KillGroup(g)
		set g=null
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3265 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func3264))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(34),(0))
	call SaveBoolean(HY,(h),(674),(false))
	set t=null
	set source=null
endfunction

function Func3266 takes nothing returns boolean
	if GetLearnedSkill()=='A03P' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A03P')==1 then
		call Func3265()
	endif
	return false
endfunction

function Func3267 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3266))
	set t=null
endfunction

function Func3268 takes nothing returns nothing
	local unit caster
	if IsUnitInGroup(GetEnumUnit(),group002)==false then
		call GroupAddUnit(group002,GetEnumUnit())
		set caster=CreateUnit(GetOwningPlayer(GetEnumUnit()),'e00E',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
		call UnitAddAbilityPermanent(caster,'A0RI')
		call SetUnitAbilityLevel(caster,'A0RI',GetUnitAbilityLevel(unit353,'A0RA'))
		call IssueTargetOrder(caster,"ensnare",GetEnumUnit())
		call DamageTarget(unit353,GetEnumUnit(),1,100)
	endif
	set caster=null
endfunction

function Func3269 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer i
	local group g=(LoadGroupHandle(HY,(h),(22)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local group DY1=GetAvailableGroup()
	local unit PKI=(LoadUnitHandle(HY,(h),(221)))
	set tt_unit1=PKI
	set unit353=PKI
	call GroupEnumUnitsInRange(DY1,x,y,300,Condition(function DefaultEnemyFilterWithAncients))
	set group002=g
	call ForGroup(DY1,function Func3268)
	call KillGroup(DY1)
	if GetTriggerEvalCount(t)>real351*10 then
		set i=1
		loop
			exitwhen i>16
			call DestroyEffect((LoadEffectHandle(HY,(h),(2700+i))))
			set i=i+1
		endloop
		call KillGroup(g)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set g=null
	set DY1=null
	set PKI=null
	return false
endfunction

function Func3270 takes nothing returns nothing
	local integer i=1
	local location l=GetSpellTargetLoc()
	local real I45=GetLocationX(l)
	local real I55=GetLocationY(l)
	local real x
	local real y
	local integer JF2=16
	local string fx="Abilities\\Spells\\Undead\\Graveyard\\GraveMarker.mdl"
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local group g=GetAvailableGroup()
	call Func0174(sound004,I45,I55)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func3269))
	call SaveGroupHandle(HY,(h),(22),(g))
	call SaveUnitHandle(HY,(h),(221),(GetTriggerUnit()))
	call SaveReal(HY,(h),(6),((I45)*1.0))
	call SaveReal(HY,(h),(7),((I55)*1.0))
	loop
		exitwhen i>JF2
		set x=I45+real352*Cos(i*360/JF2*bj_DEGTORAD)
		set y=I55+real352*Sin(i*360/JF2*bj_DEGTORAD)
		call SaveEffectHandle(HY,(h),(2700+i),(AddSpecialEffect(fx,x,y)))
		if i==1 or i==5 or i==9 or i==13 then
			set x=I45+275*Cos(i*360/JF2*bj_DEGTORAD)
			set y=I55+275*Sin(i*360/JF2*bj_DEGTORAD)
		endif
		set i=i+1
	endloop
	set t=null
	set g=null
endfunction

function Func3271 takes nothing returns boolean
	if GetSpellAbilityId()=='A0RA' then
		call Func3270()
	endif
	return false
endfunction

function Func3272 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3271))
	set t=null
endfunction

function Func3273 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(393)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer R2O=90
	local integer Count=(LoadInteger(HY,(h),(34)))
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A2MB' then
		call KillUnit(caster)
		call CleanTrigger(t)
		call FlushChildHashtable(HY,(h))
	else
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
	endif
	if lvl==1 then
		set R2O=160
	elseif lvl==2 then
		set R2O=120
	endif
	call SetUnitX(caster,GetUnitX(source))
	call SetUnitY(caster,GetUnitY(source))
	if Count>R2O then
		call KillUnit(caster)
		call CleanTrigger(t)
		call FlushChildHashtable(HY,(h))
	elseif Count>30 then
		call UnitRemoveAbility(caster,'Aloc')
		call ShowUnit(caster,true)
		call UnitAddAbilityPermanent(caster,'Aloc')
	endif
	set t=null
	set caster=null
	set source=null
	return false
endfunction

function Func3274 takes nothing returns nothing
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
	call AddTimedKeyToUnit(GetEnumUnit(),4406,1)
	call SetUnitPosition(GetEnumUnit(),real009,real010)
	call PanCameraToTimedForPlayer(GetOwningPlayer(GetEnumUnit()),real009,real010,0)
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
endfunction

function Func3275 takes unit source,unit target returns nothing
	local group g=GetAvailableGroup()
	call DestroyEffect(AddSpecialEffect("Doodads\\Cinematic\\ShimmeringPortal\\ShimmeringPortal.mdl",GetUnitX(source),GetUnitY(source)))
	call DestroyEffect(AddSpecialEffect("Doodads\\Cinematic\\ShimmeringPortal\\ShimmeringPortal.mdl",GetUnitX(target),GetUnitY(target)))
	set real009=GetUnitX(target)
	set real010=GetUnitY(target)
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),475,Condition(function Func0299))
	call ForGroup(g,function Func3274)
	call KillGroup(g)
	set g=null
endfunction

function Func3276 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
	if GetTriggerEventId()==EVENT_UNIT_DEATH or target==null or IsDead(target)then
		call CleanTrigger(t)
		call FlushChildHashtable(HY,(h))
		call UnitRemoveType(target,UNIT_TYPE_PEON)
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A0R0',true)
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2MB',false)
		call Error(GetOwningPlayer(source),GetObjectName('n03F'))
	elseif source==null or IsDead(source)then
		call CleanTrigger(t)
		call FlushChildHashtable(HY,(h))
		call UnitRemoveType(target,UNIT_TYPE_PEON)
		call Error(GetOwningPlayer(source),GetObjectName('n03G'))
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A0R0',true)
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2MB',false)
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A2MB' then
			call CleanTrigger(t)
			call FlushChildHashtable(HY,(h))
			call UnitRemoveType(target,UNIT_TYPE_PEON)
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A0R0',true)
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2MB',false)
		endif
	else
		call CleanTrigger(t)
		call FlushChildHashtable(HY,(h))
		call UnitRemoveType(target,UNIT_TYPE_PEON)
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A0R0',true)
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2MB',false)
		call Func3275(source,target)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3277 takes nothing returns boolean
	local real d
	if IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==false or GetUnitAbilityLevel(GetFilterUnit(),'A04R')>0 or GetOwningPlayer(GetFilterUnit())==Player(15)then
		return false
	endif
	if(IsDead(GetFilterUnit()))then
		return false
	endif
	if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)or(integer022>0 and Func1147(GetFilterUnit()))then
		set d=Func0141(real010,real011,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
		if d<real009 then
			set real009=d
			set tt_unit1=GetFilterUnit()
		endif
	endif
	return false
endfunction

function Func3278 takes unit source returns unit
	local location l
	local group g
	local real x
	local real y
	set l=GetSpellTargetLoc()
	set x=GetLocationX(l)
	set y=GetLocationY(l)
	set g=GetAvailableGroup()
	set integer022=GetUnitAbilityLevel(source,'A0R0')
	set tt_unit1=null
	set real009=9999
	set real010=x
	set real011=y
	call GroupEnumUnitsInRange(g,x,y,4000,Condition(function Func3277))
	call KillGroup(g)
	call RemoveLocation(l)
	set l=null
	set g=null
	return tt_unit1
endfunction

function Func3279 takes unit source returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit target=GetSpellTargetUnit()
	local real x
	local real y
	local unit u
	if target==null then
		set target=Func3278(source)
	endif
	if target==null then
		call Error(GetOwningPlayer(source),GetObjectName('n03H'))
		return
	endif
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A0R0',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2MB',true)
	call UnitAddAbilityPermanent(source,'A2MB')
	call TriggerRegisterTimerEvent(t,6-GetUnitAbilityLevel(source,'A0R0'),false)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3276))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\DarkHands.mdl",target,"overhead")))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call UnitAddType(target,UNIT_TYPE_PEON)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,.03,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3273))
	call SaveInteger(HY,(h),(5),(GetUnitAbilityLevel(source,'A0R0')))
	call SaveUnitHandle(HY,(h),(2),(source))
	set u=CreateUnit(GetOwningPlayer(source),'h098',GetUnitX(source),GetUnitY(source),0)
	call SaveUnitHandle(HY,(h),(393),(u))
	call ShowUnit(u,false)
	set t=null
	set target=null
endfunction

function Func3280 takes nothing returns nothing
	local unit target=GetSpellTargetUnit()
	local unit Hero=GetTriggerUnit()
	if target!=null then
		if IsUnitAlly(target,GetOwningPlayer(Hero))==false then
			call InterruptUnit(Hero)
			call Error(GetOwningPlayer(Hero),GetObjectName('n041'))
		elseif GetUnitAbilityLevel(Hero,'A0R0')>0 and Func1147(target)==false then
			call InterruptUnit(Hero)
			call Error(GetOwningPlayer(Hero),GetObjectName('n041'))
		endif
	endif
	if target==null then
		set target=Func3278(Hero)
	endif
	if target==null then
		call InterruptUnit(Hero)
		call Error(GetOwningPlayer(Hero),GetObjectName('n040'))
	endif
	set target=null
	set Hero=null
endfunction

function Func3281 takes nothing returns boolean
	if GetSpellAbilityId()=='A0R0' then
		call Func3280()
	endif
	return false
endfunction

function Func3282 takes nothing returns boolean
	if GetSpellAbilityId()=='A0R0' then
		call Func3279(GetTriggerUnit())
	endif
	return false
endfunction

function Func3283 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func3281))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3282))
	set t=null
	call Func0219('h094')
	call Func0219('h095')
	call Func0219('h096')
endfunction

function Func3284 takes nothing returns nothing
	call DamageTarget(unit354,GetEnumUnit(),1,real353)
endfunction

function Func3285 takes nothing returns nothing
	call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+real353*0.5)
endfunction

function Func3286 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local group g=GetAvailableGroup()
	local real r1=600
	local real r2=600
	local unit IW5
	set x=GetUnitX(Hero)
	set y=GetUnitY(Hero)
	call GroupEnumUnitsInRange(g,x,y,r1,Condition(function Func0311))
	set IW5=FirstOfGroup(g)
	call KillGroup(g)
	if IW5==null then
		if(LoadBoolean(HY,(h),(307))) and(LoadBoolean(HY,(h),(308))) then
			call UnitRemoveAbility(Hero,'A283')
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		else
			if(LoadBoolean(HY,(h),(307)))==false then
				call SaveBoolean(HY,(h),(307),(true))
			else
				call SaveBoolean(HY,(h),(308),(true))
			endif
		endif
	else
		set x=GetUnitX(IW5)
		set y=GetUnitY(IW5)
		call SaveBoolean(HY,(h),(307),(false))
		call SaveBoolean(HY,(h),(308),(false))
		call FlushChildHashtable(HY,(GetHandleId(IW5)))
		call DestroyEffect(AddSpecialEffect("war3mapImported\\CorpseExplosion.mdx",x,y))
		call RemoveUnit(IW5)
		set g=GetAvailableGroup()
		set tt_unit1=Hero
		set unit354=Hero
		set real353=20*GetUnitAbilityLevel(Hero,'A288')
		call GroupEnumUnitsInRange(g,x,y,r2,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func3284)
		set tt_unit1=Hero
		call GroupEnumUnitsInRange(g,x,y,r2,Condition(function Func0295))
		call ForGroup(g,function Func3285)
		call KillGroup(g)
	endif
	set g=null
	set Hero=null
	set IW5=null
	set t=null
	return false
endfunction

function Func3287 takes nothing returns nothing
	local real x=GetUnitX(GetTriggerUnit())
	local real y=GetUnitY(GetTriggerUnit())
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call Func0174(sound074,x,y)
	call TriggerRegisterTimerEvent(t,1.5,true)
	call TriggerAddCondition(t,Condition(function Func3286))
	call UnitAddAbilityPermanent(GetTriggerUnit(),'A283')
	call SaveUnitHandle(HY,(h),(14),(GetTriggerUnit()))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveBoolean(HY,(h),(307),(false))
	call SaveBoolean(HY,(h),(308),(false))
	set t=null
endfunction

function Func3288 takes nothing returns boolean
	if GetSpellAbilityId()=='A288' then
		call Func3287()
	endif
	return false
endfunction

function Func3289 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3288))
	set t=null
endfunction

function Func3290 takes nothing returns nothing
endfunction

function Func3291 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local group g=GetAvailableGroup()
	set tt_unit1=source
	set real354=GetUnitAbilityLevel(source,'A01I')*10+10
	call GroupEnumUnitsInRange(g,GetUnitX(caster),GetUnitY(caster),475,Condition(function Func0295))
	call ForGroup(g,function Func3290)
	call KillGroup(g)
	if GetTriggerEvalCount(t)==5 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set caster=null
	return false
endfunction

function Func3292 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local integer lvl=GetUnitAbilityLevel(source,'A01I')
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
	call TriggerAddCondition(t,Condition(function Func3291))
	call TriggerRegisterTimerEvent(t,1,true)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call UnitAddAbilityPermanent(caster,'A262')
	call SetUnitAbilityLevel(caster,'A262',lvl)
	call IssuePointOrder(caster,"rainoffire",x,y)
	set source=null
	set caster=null
endfunction

function Func3293 takes nothing returns boolean
	if GetSpellAbilityId()=='A01I' then
		call Func3292()
	endif
	return false
endfunction

function Func3294 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3293))
	set t=null
endfunction

function Func3295 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A24Q')
	local integer JV3
	local real IS5
	local real IT5=3+lvl
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)>4*IT5 then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitRemoveAbility(target,'A24Z')
		call UnitRemoveAbility(target,'A250')
		call UnitRemoveAbility(target,'A24X')
		call UnitRemoveAbility(target,'A251')
		call UnitRemoveAbility(target,'A24Y')
		call UnitRemoveAbility(target,'B0EH')
	else
		set IS5=100*GetUnitState(target,UNIT_STATE_LIFE)/GetUnitState(target,UNIT_STATE_MAX_LIFE)
		if IS5<20 then
			set JV3=5
		elseif IS5<40 then
			set JV3=4
		elseif IS5<60 then
			set JV3=3
		elseif IS5<80 then
			set JV3=2
		else
			set JV3=1
		endif
		if JV3==1 then
			if GetUnitAbilityLevel(target,'A24Z')==0 then
				call UnitRemoveAbility(target,'A250')
				call UnitRemoveAbility(target,'A24X')
				call UnitRemoveAbility(target,'A251')
				call UnitRemoveAbility(target,'A24Y')
				call UnitRemoveAbility(target,'B0EH')
				call UnitAddAbility(target,'A24Z')
			endif
		elseif JV3==2 then
			if GetUnitAbilityLevel(target,'A250')==0 then
				call UnitRemoveAbility(target,'A24Z')
				call UnitRemoveAbility(target,'A24X')
				call UnitRemoveAbility(target,'A251')
				call UnitRemoveAbility(target,'A24Y')
				call UnitRemoveAbility(target,'B0EH')
				call UnitAddAbility(target,'A250')
			endif
		elseif JV3==3 then
			if GetUnitAbilityLevel(target,'A24X')==0 then
				call UnitRemoveAbility(target,'A24Z')
				call UnitRemoveAbility(target,'A250')
				call UnitRemoveAbility(target,'A251')
				call UnitRemoveAbility(target,'A24Y')
				call UnitRemoveAbility(target,'B0EH')
				call UnitAddAbility(target,'A24X')
			endif
		elseif JV3==4 then
			if GetUnitAbilityLevel(target,'A251')==0 then
				call UnitRemoveAbility(target,'A24Z')
				call UnitRemoveAbility(target,'A250')
				call UnitRemoveAbility(target,'A24X')
				call UnitRemoveAbility(target,'A24Y')
				call UnitRemoveAbility(target,'B0EH')
				call UnitAddAbility(target,'A251')
			endif
		elseif JV3==5 then
			if GetUnitAbilityLevel(target,'A24Y')==0 then
				call UnitRemoveAbility(target,'A24Z')
				call UnitRemoveAbility(target,'A250')
				call UnitRemoveAbility(target,'A24X')
				call UnitRemoveAbility(target,'A251')
				call UnitRemoveAbility(target,'B0EH')
				call UnitAddAbility(target,'A24Y')
			endif
		endif
		call DamageTarget(source,target,1,0.01*4*0.25*GetUnitState(target,UNIT_STATE_MAX_LIFE))
		if ModuloInteger(GetTriggerEvalCount(t),4)==0 then
			call CreateCorpse(GetOwningPlayer(source),'ugho',GetUnitX(target),GetUnitY(target),0)
		endif
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3296 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A24Q')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("effects\\EntanglingBonesTarget.mdx",target,"chest")))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call TriggerRegisterTimerEvent(t,0.25,true)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerAddCondition(t,Condition(function Func3295))
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A24Z',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A250',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A24X',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A251',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A24Y',false)
	set source=null
	set target=null
	set t=null
endfunction

function Func3297 takes nothing returns boolean
	if GetSpellAbilityId()=='A24Q' and IsBlocked(GetSpellTargetUnit())==false then
		call Func3296()
	endif
	return false
endfunction

function Func3298 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3297))
	set t=null
endfunction

function Func3299 takes unit source,integer IU5 returns nothing
	call SaveInteger(HY,(GetHandleId(source)),(687),(IU5))
	call UnitRemoveAbility(source,'A25X')
	call UnitRemoveAbility(source,'A25Y')
	call UnitRemoveAbility(source,'A25Z')
	call UnitRemoveAbility(source,'A25T')
	call UnitRemoveAbility(source,'A25V')
	call UnitRemoveAbility(source,'A25U')
	call UnitRemoveAbility(source,'A25S')
	call UnitRemoveAbility(source,'A25R')
	call UnitRemoveAbility(source,'A25W')
	call UnitRemoveAbility(source,'A260')
	call UnitRemoveAbility(source,'A26M')
	call UnitRemoveAbility(source,'A26L')
	call UnitRemoveAbility(source,'A26G')
	call UnitRemoveAbility(source,'A26H')
	call UnitRemoveAbility(source,'A26F')
	call UnitRemoveAbility(source,'A26E')
	call UnitRemoveAbility(source,'A256')
	call UnitRemoveAbility(source,'A26I')
	call UnitRemoveAbility(source,'A26J')
	call UnitRemoveAbility(source,'A26K')
	call UnitRemoveAbility(source,'A26D')
	if IU5==0 then
		call UnitAddAbility(source,'A26M')
	endif
	if IU5==1 then
		call UnitAddAbilityPermanent(source,'A25X')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A25X',false)
		call UnitAddAbility(source,'A26L')
	elseif IU5==2 then
		call UnitAddAbilityPermanent(source,'A25Y')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A25Y',false)
		call UnitAddAbility(source,'A26G')
	elseif IU5==3 then
		call UnitAddAbilityPermanent(source,'A25Z')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A25Z',false)
		call UnitAddAbility(source,'A26H')
	elseif IU5==4 then
		call UnitAddAbilityPermanent(source,'A25T')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A25T',false)
		call UnitAddAbility(source,'A26F')
	elseif IU5==5 then
		call UnitAddAbilityPermanent(source,'A25V')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A25V',false)
		call UnitAddAbility(source,'A26E')
	elseif IU5==6 then
		call UnitAddAbilityPermanent(source,'A25U')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A25U',false)
		call UnitAddAbility(source,'A256')
	elseif IU5==7 then
		call UnitAddAbilityPermanent(source,'A25S')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A25S',false)
		call UnitAddAbility(source,'A26I')
	elseif IU5==8 then
		call UnitAddAbilityPermanent(source,'A25R')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A25R',false)
		call UnitAddAbility(source,'A26J')
	elseif IU5==9 then
		call UnitAddAbilityPermanent(source,'A25W')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A25W',false)
		call UnitAddAbility(source,'A26K')
	elseif IU5==10 then
		call UnitAddAbilityPermanent(source,'A260')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A260',false)
		call UnitAddAbility(source,'A26D')
	endif
endfunction

function Func3300 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer IU5=(LoadInteger(HY,(GetHandleId(source)),(687)))
	local group g
	local unit IW5
	local integer lvl=GetUnitAbilityLevel(source,'A261')
	local integer OI5=2+2*lvl
	if IU5<OI5 and IsDead(source)==false then
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),925,Condition(function Func0311))
		set IW5=FirstOfGroup(g)
		call KillGroup(g)
		if IW5!=null then
			set IU5=IU5+1
			call Func3299(source,IU5)
			call AddProjectile((IW5),(source),'h0D6',"CorpseCollector_FX_Nothing",400,false)
			call RemoveUnit(IW5)
		endif
	endif
	set t=null
	set source=null
	set IW5=null
	return false
endfunction

function Func3301 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	call TriggerRegisterTimerEvent(t,4,true)
	call TriggerAddCondition(t,Condition(function Func3300))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
endfunction

function Func3302 takes nothing returns nothing
	call DamageTarget(unit355,GetEnumUnit(),1,real355)
endfunction

function Func3303 takes unit source,integer lvl,real QJI,real QKI,integer IU5,boolean EB2 returns nothing
	local group g=GetAvailableGroup()
	set unit355=source
	set real355=30*IU5
	if EB2 then
		set real355=real355+10*IU5
	endif
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,QJI,QKI,350,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func3302)
	call KillGroup(g)
endfunction

function Func3304 takes unit source,real IO3,real I23 returns boolean
	local real QJI=(LoadReal(HY,(GetHandleId(source)),(690)))
	local real QKI=(LoadReal(HY,(GetHandleId(source)),(691)))
	if QJI==0 and QKI==0 then
		return false
	endif
	if Func0141(IO3,I23,QJI,QKI)<425 then
		return true
	endif
	return false
endfunction

function Func3305 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer IU5=(LoadInteger(HY,(h),(34)))
	local integer lvl=GetUnitAbilityLevel(source,'A261')
	local integer i=1
	local unit caster
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local real x
	local real y
	local real a=(LoadReal(HY,(h),(137)))
	local boolean EB2=(LoadBoolean(HY,(h),(688)))
	local boolean O55=(LoadBoolean(HY,(h),(689)))
	local real O65=(LoadReal(HY,(h),(549)))
	local real O75=(LoadReal(HY,(h),(567)))
	set O65=SafeX50(O65+10*Cos(a))
	set O75=SafeY50(O75+10*Sin(a))
	call SaveReal(HY,(h),(549),((O65)*1.0))
	call SaveReal(HY,(h),(567),((O75)*1.0))
	if EB2==false then
		set EB2=Func3304(source,O65,O75)
		if EB2 then
			call SaveBoolean(HY,(h),(688),(EB2))
		endif
	endif
	if EB2 and O55==false then
		set O55=true
		call SaveBoolean(HY,(h),(689),(O55))
		loop
			exitwhen i>IU5
			set caster=(LoadUnitHandle(HY,(h),(393+i)))
			call SaveEffectHandle(HY,(h),(609+i),(AddSpecialEffectTarget("war3mapImported\\CorpseFire.mdx",caster,"origin")))
			set i=i+1
		endloop
	endif
	set i=1
	if Func0141(O65,O75,QJI,QKI)<15 then
		loop
			exitwhen i>IU5
			if EB2 then
				call DestroyEffect((LoadEffectHandle(HY,(h),(609+i))))
			endif
			call KillUnit((LoadUnitHandle(HY,(h),(393+i))))
			set i=i+1
		endloop
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call Func3303(source,lvl,QJI,QKI,IU5,EB2)
	else
		loop
			exitwhen i>IU5
			set caster=(LoadUnitHandle(HY,(h),(393+i)))
			set x=(LoadReal(HY,(h),(549+i)))
			set y=(LoadReal(HY,(h),(567+i)))
			set x=SafeX50(x+10*Cos(a))
			set y=SafeY50(y+10*Sin(a))
			call SaveReal(HY,(h),(549+i),((x)*1.0))
			call SaveReal(HY,(h),(567+i),((y)*1.0))
			call SetUnitX(caster,x)
			call SetUnitY(caster,y)
			set i=i+1
		endloop
	endif
	set t=null
	set caster=null
	set source=null
	return false
endfunction

function Func3306 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real QJI=GetSpellTargetX()
	local real QKI=GetSpellTargetY()
	local integer lvl=GetUnitAbilityLevel(source,'A261')
	local integer IU5=(LoadInteger(HY,(GetHandleId(source)),(687)))
	local integer i=1
	local unit caster
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local real a=Func0159(GetUnitX(source),GetUnitY(source),QJI,QKI)*bj_DEGTORAD
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(34),(IU5))
	call SaveReal(HY,(h),(47),((QJI)*1.0))
	call SaveReal(HY,(h),(48),((QKI)*1.0))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveReal(HY,(h),(549),((x)*1.0))
	call SaveReal(HY,(h),(567),((y)*1.0))
	call SaveBoolean(HY,(h),(688),(false))
	call SaveBoolean(HY,(h),(689),(false))
	loop
		exitwhen i>IU5
		set caster=CreateUnit(GetOwningPlayer(source),'h0D7',x+GetRandomInt(-200,200),y+GetRandomInt(-200,200),0)
		call SaveUnitHandle(HY,(h),(393+i),(caster))
		call SaveReal(HY,(h),(549+i),((GetUnitX(caster))*1.0))
		call SaveReal(HY,(h),(567+i),((GetUnitY(caster))*1.0))
		set i=i+1
	endloop
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func3305))
	call Func3299(source,0)
	set source=null
	set t=null
	set caster=null
endfunction

function Func3307 takes nothing returns boolean
	if GetSpellAbilityId()=='A261' then
		call Func3306()
	endif
	return false
endfunction

function Func3308 takes nothing returns boolean
	if GetLearnedSkill()=='A261' and GetUnitAbilityLevel(GetTriggerUnit(),'A261')==1 and IsUnitIllusion(GetTriggerUnit())==false then
		call Func3301()
	endif
	return false
endfunction

function Func3309 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3307))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3308))
	set t=null
endfunction

function Func3310 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local unit X44
	if GetTriggerEventId()==EVENT_UNIT_SPELL_FINISH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillUnit(caster)
		call UnitApplyTimedLife(caster,'BTLF',0.1)
	elseif IsDead(caster)then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call SaveReal(HY,(h),(6),((GetUnitX(caster))*1.0))
		call SaveReal(HY,(h),(7),((GetUnitY(caster))*1.0))
		if x!=GetUnitX(caster)or y!=GetUnitY(caster)then
			call UnitRemoveAbility(caster,'A2L4')
		else
			call UnitAddAbility(caster,'A2L4')
		endif
	endif
	return false
endfunction

function Func3311 takes nothing returns boolean
	return GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(unit356)and GetUnitTypeId(GetFilterUnit())=='u01Y'
endfunction

function Func3312 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit caster=CreateUnit(GetOwningPlayer(source),'u01Y',GetUnitX(source)+100,GetUnitY(source)+100,0)
	local group g
	local integer lvl=GetUnitAbilityLevel(source,'A2L6')
	local real time
	local unit OE5
	local unit OF5
	call TriggerRegisterUnitEvent(t,caster,EVENT_UNIT_SPELL_FINISH)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func3310))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveReal(HY,(h),(6),((GetUnitX(caster))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(caster))*1.0))
	call UnitAddAbility(caster,'A2L4')
	call SetUnitAbilityLevel(caster,'A2L5',GetUnitAbilityLevel(source,'A2L6'))
	call SaveReal(HY,(GetHandleId(caster)),(34),((GetTime())*1.0))
	set unit356=source
	set g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,0,0,99999,Condition(function Func3311))
	if CountUnitsInGroup(g)>lvl+1 then
		set OF5=FirstOfGroup(g)
		set time=(LoadReal(HY,(GetHandleId(OF5)),(34)))
		set OE5=OF5
		call GroupRemoveUnit(g,OF5)
		loop
			exitwhen OF5==null
			if time>(LoadReal(HY,(GetHandleId(OF5)),(34)))then
				set time=(LoadReal(HY,(GetHandleId(OF5)),(34)))
				set OE5=OF5
			endif
			set OF5=FirstOfGroup(g)
			call GroupRemoveUnit(g,OF5)
		endloop
		call KillUnit(OE5)
	endif
	call KillGroup(g)
	set g=null
	set caster=null
	set source=null
	set t=null
endfunction

function Func3313 takes nothing returns boolean
	if GetSpellAbilityId()=='A2L6' then
		call Func3312()
	endif
	return false
endfunction

function Func3314 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3313))
endfunction

function Func3315 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer EB2=(LoadInteger(HY,(h),(34)))
	call SaveInteger(HY,(GetHandleId(source)),(783),((LoadInteger(HY,(GetHandleId(source)),(783)))-EB2))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set source=null
	set t=null
	return false
endfunction

function Func3316 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit IFO=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'AIcd')
	local integer EB2
	local integer E01
	if IsUnitInRange(source,IFO,900+25)and IsDead(source)==false and IsUnitAlly(source,GetOwningPlayer(IFO))==false and GetUnitTypeId(IFO)!='n0F5' and IsUnitIllusion(IFO)==false and Func0406(GetUnitTypeId(IFO))==false and GetUnitAbilityLevel(IFO,'A04R')==0 then
		set E01=(LoadInteger(HY,(GetHandleId(source)),(783)))
		if IsUnitType(IFO,UNIT_TYPE_HERO) then
			set EB2=30
		else
			set EB2=5
		endif
		set E01=E01+EB2
		call SaveInteger(HY,(GetHandleId(source)),(783),(E01))
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,25+lvl*5,false)
		call TriggerRegisterDeathEvent(t,source)
		call TriggerAddCondition(t,Condition(function Func3315))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveInteger(HY,(h),(34),(EB2))
	endif
	set t=null
	set source=null
	set IFO=null
	return false
endfunction

function Func3317 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer E01=(LoadInteger(HY,(GetHandleId(source)),(783)))
	local integer O64=(LoadInteger(HY,(h),(238)))
	if O64!=E01 then
		call Func0366(source,E01)
		call SaveInteger(HY,(h),(238),(E01))
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3318 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3316))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.25,true)
	call TriggerAddCondition(t,Condition(function Func3317))
	call SaveUnitHandle(HY,(h),(2),(source))
	set source=null
	set t=null
endfunction

function Func3319 takes nothing returns boolean
	if GetLearnedSkill()=='AIcd' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'AIcd')==1 then
		call Func3318()
	endif
	return false
endfunction

function Func3320 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3319))
	set t=null
endfunction

function Func3321 takes nothing returns boolean
	return GetUnitAbilityLevel(GetTriggerUnit(),'A06K')>0
endfunction

function Func3322 takes nothing returns nothing
	if(GetIssuedOrderId()==String2OrderIdBJ("immolation"))then
		call UnitAddAbilityPermanent(GetTriggerUnit(),'A0AZ')
	endif
	if(GetIssuedOrderId()==String2OrderIdBJ("unimmolation"))then
		call UnitRemoveAbility(GetTriggerUnit(),'A0AZ')
	endif
endfunction

function Func3323 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call Func0167(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
	call TriggerAddCondition(t,Condition(function Func3321))
	call TriggerAddAction(t,function Func3322)
endfunction

function Func3324 takes nothing returns nothing
	local integer h=GetHandleId(GetEnumUnit())
	if GetTriggerUnit()!=GetEnumUnit()then
		call SaveInteger(HY,(h),(672),((LoadInteger(HY,(h),(672)))+1))
	endif
endfunction

function Func3325 takes nothing returns boolean
	return GetUnitTypeId(GetFilterUnit())=='U00F' and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction

function Func3326 takes nothing returns boolean
	local group g
	if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and Func0406(GetUnitTypeId(GetTriggerUnit()))==false and IsUnitIllusion(GetTriggerUnit())==false then
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),475,Condition(function Func3325))
		if GetUnitTypeId(GetKillingUnit())=='U00F' then
			call GroupAddUnit(g,GetKillingUnit())
		endif
		call ForGroup(g,function Func3324)
		call KillGroup(g)
		set g=null
	endif
	return false
endfunction

function Func3327 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEvalCount(t)==1 then
		call ShowUnit(source,false)
	elseif GetTriggerEvalCount(t)>80 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3328 takes nothing returns boolean
	local unit caster
	local unit source
	local unit IFO
	local trigger t
	local integer h
	if GetUnitTypeId(GetTriggerUnit())=='U00F' then
		set source=GetTriggerUnit()
		set IFO=GetKillingUnit()
		if source==IFO then
			set caster=CreateUnit(GetOwningPlayer(source),'h0BB',GetUnitX(source),GetUnitY(source),GetUnitFacing(source))
			call SetUnitTimeScale(caster,0.75)
			call UnitApplyTimedLife(caster,'BTLF',1.0)
			call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodAbomination.mdl",caster,"origin"))
			set caster=null
			call SetSoundPosition(sound051,GetUnitX(source),GetUnitY(source),50)
			call SetSoundVolumeBJ(sound051,100)
			call PlaySoundBJ(sound051)
			call SetSoundPosition(sound053,GetUnitX(source),GetUnitY(source),50)
			call SetSoundVolumeBJ(sound053,100)
			call PlaySoundBJ(sound053)
			set t=CreateTrigger()
			set h=GetHandleId(t)
			call TriggerRegisterTimerEvent(t,.1,true)
			call TriggerAddCondition(t,Condition(function Func3327))
			call SaveUnitHandle(HY,(h),(2),(source))
			set t=null
		endif
		set source=null
		set IFO=null
	endif
	return false
endfunction

function Func3329 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local unit source=(LoadUnitHandle(HY,(GetHandleId(t)),(2)))
	local integer h=GetHandleId(source)
	local integer OR5=(LoadInteger(HY,(h),(672)))
	local integer OP5=(LoadInteger(HY,(h),(673)))
	local integer lvl=GetUnitAbilityLevel(source,'A06D')
	local integer OQ5=R2I(I2R(OR5)*(0.5+0.5*lvl))
	if OQ5>OP5 then
		call ModifyHeroStat(0,source,0,OQ5-OP5)
		call SaveInteger(HY,(h),(673),(OQ5))
		call Func0163("+"+I2S(OQ5-OP5)+" "+GetObjectName('n0MJ'),3,source,0.023,0,255,0,230)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3330 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerAddCondition(t,Condition(function Func3329))
	call SaveUnitHandle(HY,(h),(2),(source))
	set source=null
	set t=null
endfunction

function Func3331 takes nothing returns boolean
	if GetLearnedSkill()=='A06D' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A06D')==1 then
		call Func3330()
	endif
	return false
endfunction

function Func3332 takes nothing returns boolean
	if GetUnitTypeId(Players_Hero[GetPlayerId(GetTriggerPlayer())])=='U00F' then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,GetObjectName('n09R')+" "+I2S((LoadInteger(HY,(GetHandleId(Players_Hero[GetPlayerId(GetTriggerPlayer())])),(673))))+" "+GetObjectName('n09S'))
	endif
	return false
endfunction

function Func3333 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3331))
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-st",true)
	call TriggerAddCondition(t,Condition(function Func3332))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3328))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3326))
	set t=null
endfunction

function Func3334 takes unit source,unit target returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	local unit X44=CreateUnit(GetOwningPlayer(source),'e02A',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbilityPermanent(caster,'A0PZ')
	call IssueTargetOrder(caster,"thunderbolt",target)
	call UnitApplyTimedLife(caster,'BTLF',1)
	call UnitApplyTimedLife(X44,'BTLF',1)
	set caster=null
	set X44=null
endfunction

function Func3335 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer A25=(LoadInteger(HY,(h),(376)))
	local boolean A35=(LoadBoolean(HY,(h),(377)))
	local unit target
	local unit A45=(LoadUnitHandle(HY,(h),(2100+A25)))
	if A35 then
		set target=(LoadUnitHandle(HY,(h),(17)))
		call SetUnitX(target,GetUnitX(A45))
		call SetUnitY(target,GetUnitY(A45))
	endif
	call RemoveUnit(A45)
	set A25=A25-1
	call SaveInteger(HY,(h),(376),(A25))
	if A25==0 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if IsUnitInRegion(region007,target)then
			call Func0240(target)
		endif
	endif
	set t=null
	set target=null
	return false
endfunction

function Func3336 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer A25=(LoadInteger(HY,(h),(376)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local trigger CR3=(LoadTriggerHandle(HY,(h),(11)))
	local integer CN3=GetHandleId(CR3)
	local group g
	local unit u
	local real x
	local real y
	local real z
	if A25<16+2*lvl then
		set A25=A25+1
		call SaveInteger(HY,(h),(376),(A25))
		set x=GetUnitX(Hero)+A25*50*Cos(RM2*bj_DEGTORAD)
		set y=GetUnitY(Hero)+A25*50*Sin(RM2*bj_DEGTORAD)
		call SaveUnitHandle(HY,(CN3),(2100+A25),(CreateUnit(GetOwningPlayer(Hero),'u00H',x,y,RM2)))
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,x,y,125,Condition(function Func0305))
		call GroupRemoveUnit(g,Hero)
		set u=GroupPickRandomUnit(g)
		call KillGroup(g)
		if u!=null then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call TriggerRegisterTimerEvent(CR3,0.03,true)
			call TriggerAddCondition(CR3,Condition(function Func3335))
			call SaveInteger(HY,(CN3),(376),(A25))
			call SaveBoolean(HY,(CN3),(377),(true))
			call SaveUnitHandle(HY,(CN3),(17),(u))
			if IsUnitEnemy(u,GetOwningPlayer(Hero))then
				if IsUnitType(u,UNIT_TYPE_HERO) then
					call Traffic_RegisterData("HA_Hits"+I2S(GetPlayerId(GetOwningPlayer(Hero))),integers167[GetPlayerId(GetOwningPlayer(Hero))])
					set integers167[GetPlayerId(GetOwningPlayer(Hero))]=integers167[GetPlayerId(GetOwningPlayer(Hero))]+1
					call AddTimedKeyToUnit(Hero,4400,1.5)
				endif
				set integers168[GetPlayerId(GetOwningPlayer(Hero))]=integers168[GetPlayerId(GetOwningPlayer(Hero))]+1
				call Traffic_RegisterData("HA_Total"+I2S(GetPlayerId(GetOwningPlayer(Hero))),integers168[GetPlayerId(GetOwningPlayer(Hero))])
				call Func3334(Hero,u)
				call DamageTarget(Hero,u,3,90*lvl)
				call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",u,"origin"))
			endif
		endif
	else
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		set integers168[GetPlayerId(GetOwningPlayer(Hero))]=integers168[GetPlayerId(GetOwningPlayer(Hero))]+1
		call TriggerRegisterTimerEvent(CR3,0.03,true)
		call TriggerAddCondition(CR3,Condition(function Func3335))
		call SaveInteger(HY,(CN3),(376),(A25))
		call SaveBoolean(HY,(CN3),(377),(false))
	endif
	set t=null
	set Hero=null
	set CR3=null
	set g=null
	set u=null
	return false
endfunction

function Func3337 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real RM2=Func0159(GetUnitX(Hero),GetUnitY(Hero),GetLocationX(l),GetLocationY(l))
	local integer lvl=GetUnitAbilityLevel(Hero,'A06I')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveInteger(HY,(h),(376),(0))
	call SaveTriggerHandle(HY,(h),(11),(CreateTrigger()))
	call TriggerRegisterTimerEvent(t,0.0375,true)
	call TriggerAddCondition(t,Condition(function Func3336))
	call RemoveLocation(l)
	set Hero=null
	set l=null
	set t=null
endfunction

function Func3338 takes nothing returns boolean
	if GetSpellAbilityId()=='A06I' then
		call Func3337()
	endif
	return false
endfunction

function Func3339 takes nothing returns boolean
	local integer YT3=integers167[GetPlayerId(GetTriggerPlayer())]
	local integer QHI=integers168[GetPlayerId(GetTriggerPlayer())]
	if GetUnitTypeId(Players_Hero[GetPlayerId(GetTriggerPlayer())])=='U00F' and QHI>0 then
		call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.00,GetObjectName('n0EL')+" "+R2S(I2R(YT3)/I2R(QHI)*100)+"% ("+I2S(YT3)+"/"+I2S(QHI)+")")
	endif
	return false
endfunction

function Func3340 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3338))
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-stats",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-st",true)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-st",true)
	call TriggerAddCondition(t,Condition(function Func3339))
	set t=null
endfunction

function Func3341 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real dmg=(25+50*lvl)+(1.0)*GetHeroStr(source,true)
	local integer Count=(LoadInteger(HY,(h),(34)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
		if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId()=='A1CX')then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	elseif GetTriggerEvalCount(t)>4 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call InterruptUnit(source)
	else
		if lvl>0 then
			set Count=Count+1
			if(Count<4 and IsUnitType(target,UNIT_TYPE_HERO))or(Count<8 and IsUnitType(target,UNIT_TYPE_HERO)==false)then
				call SetUnitState(source,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_LIFE)+dmg)
				call DamageTarget(source,target,1,dmg)
			endif
			call SaveInteger(HY,(h),(34),(Count))
		endif
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3342 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A1CX')
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_ENDCAST)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func3341))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(34),(0))
	call TriggerEvaluate(t)
	set t=null
	set source=null
	set target=null
endfunction

function Func3343 takes nothing returns boolean
	if GetSpellAbilityId()=='A1CX' and IsBlocked(GetSpellTargetUnit())==false then
		call Func3342()
	endif
	return false
endfunction

function Func3344 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3343))
	set t=null
endfunction

function Func3345 takes nothing returns boolean
	if(GetUnitTypeId(GetSummonedUnit())=='o00L')then
		return true
	endif
	if(GetUnitTypeId(GetSummonedUnit())=='o00M')then
		return true
	endif
	if(GetUnitTypeId(GetSummonedUnit())=='o00N')then
		return true
	endif
	if(GetUnitTypeId(GetSummonedUnit())=='o00O')then
		return true
	endif
	return false
endfunction

function Func3346 takes unit SWI,real dmg returns nothing
	local real QHI=GetUnitState(SWI,UNIT_STATE_MAX_LIFE)
	local real QZI=GetUnitState(SWI,UNIT_STATE_LIFE)
	if dmg>0 then
		if dmg>(QHI-QZI)then
			if dmg>=QZI then
				call SetUnitState(SWI,UNIT_STATE_LIFE,QHI)
				call Func0136(SWI,dmg-(QHI-QZI))
			else
				call Func0136(SWI,dmg)
			endif
		else
			call SetUnitState(SWI,UNIT_STATE_LIFE,GetUnitState(SWI,UNIT_STATE_LIFE)+dmg)
		endif
	endif
endfunction

function Func3347 takes nothing returns nothing
endfunction

function Func3348 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local group g
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if IsUnitType(GetEventDamageSource(),UNIT_TYPE_HERO) then
			call Func3346(caster,GetEventDamage()-1)
		else
			call Func3346(caster,GetEventDamage()-0.25)
		endif
	else
		set g=GetAvailableGroup()
		set tt_unit1=caster
		call GroupEnumUnitsInRange(g,GetUnitX(caster),GetUnitY(caster),400+300*4+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func3347)
		call KillGroup(g)
		set g=null
	endif
	set t=null
	set caster=null
	return false
endfunction

function Func3349 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit caster=GetSummonedUnit()
	call TriggerRegisterDeathEvent(t,caster)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterUnitEvent(t,caster,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func3348))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveInteger(HY,(h),(5),(GetUnitAbilityLevel(GetSummoningUnit(),'A09D')))
	call SetUnitAbilityLevelSwapped('A08T',GetSummonedUnit(),GetUnitAbilityLevelSwapped('A09D',GetSummoningUnit()))
	call SetUnitAbilityLevelSwapped('A0CF',GetSummonedUnit(),GetUnitAbilityLevelSwapped('A09D',GetSummoningUnit()))
	call IssueImmediateOrder(GetSummonedUnit(),"manaflareon")
endfunction

function Func3350 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func3345))
	call TriggerAddAction(t,function Func3349)
endfunction

function Func3351 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call DisableTrigger(t)
		if IsUnitAlly(source,GetOwningPlayer(target)) then
			call Func0137(target,GetEventDamage()*0.107)
		else
			call DamageTarget(GetEventDamageSource(),target,1,GetEventDamage()*0.071/1.4)
		endif
		call EnableTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3352 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call SetUnitVertexColor(target,255,255,255,255)
	call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set target=null
	return false
endfunction

function Func3353 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	local integer lvl=GetUnitAbilityLevel(source,'A2TD')
	local trigger t
	local integer h
	if IsUnitAlly(target,GetOwningPlayer(target)) then
		call UnitAddAbility(caster,'A2ZK')
		call SetUnitAbilityLevel(caster,'A2ZK',lvl)
	else
		call UnitAddAbility(caster,'A0CE')
		call SetUnitAbilityLevel(caster,'A0CE',lvl)
	endif
	call IssueTargetOrder(caster,"banish",target)
	if GetUnitTypeId(target)=='n0FJ' or GetUnitTypeId(target)=='n0FI' or GetUnitTypeId(target)=='n0F6' or GetUnitTypeId(target)=='n0FH' then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,1.5+0.5*lvl,false)
		call TriggerRegisterDeathEvent(t,target)
		call TriggerAddCondition(t,Condition(function Func3352))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SetUnitVertexColor(target,50,255,50,150)
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffect("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl",GetUnitX(target),GetUnitY(target))))
		set t=null
	endif
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,1.5+0.5*lvl,false)
	call TriggerAddCondition(t,Condition(function Func3351))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	set source=null
	set target=null
	set caster=null
endfunction

function Func3354 takes nothing returns boolean
	if GetSpellAbilityId()=='A2TD' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
			if(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_STRUCTURE)==false and Func0091(GetSpellTargetUnit())==false)or GetUnitTypeId(GetSpellTargetUnit())=='n0FJ' or GetUnitTypeId(GetSpellTargetUnit())=='n0FI' or GetUnitTypeId(GetSpellTargetUnit())=='n0F6' or GetUnitTypeId(GetSpellTargetUnit())=='n0FH' then
			else
				call InterruptUnit(GetTriggerUnit())
				call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0K9'))
			endif
		else
			call Func3353()
		endif
	endif
	return false
endfunction

function Func3355 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3354))
	set t=null
endfunction

function Func3356 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A0CC')
	local real ZO3=80+40*lvl
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A02Z')
		set ZO3=120+60*lvl
	endif
	set ZO3=ZO3*0.25
	if GetUnitAbilityLevel(source,'Bdcl')==0 or(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and(GetSpellAbilityId()=='A0CC' or GetSpellAbilityId()=='A02Z'))then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()!=EVENT_UNIT_SPELL_ENDCAST then
		if GetUnitState(source,UNIT_STATE_LIFE)+ZO3>=GetUnitState(source,UNIT_STATE_MAX_LIFE)then
			call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MANA)+ZO3+GetUnitState(source,UNIT_STATE_LIFE)-GetUnitState(source,UNIT_STATE_MAX_LIFE))
		endif
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3357 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.25,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_ENDCAST)
	call TriggerAddCondition(t,Condition(function Func3356))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	set source=null
	set target=null
	set t=null
endfunction

function Func3358 takes nothing returns boolean
	if(GetSpellAbilityId()=='A0CC' or GetSpellAbilityId()=='A02Z')and IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)then
		call Func3357()
	endif
	return false
endfunction

function Func3359 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3358))
	set t=null
endfunction

function Func3360 takes unit source,unit target returns nothing
	local real AL5=10+20*integer520
	local real AM5=80+50*integer520
	local real DH1=(AL5+AM5*real356/700)*0.5
	call DamageTarget(source,target,1,DH1)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl",target,"chest"))
endfunction

function Func3361 takes nothing returns nothing
	local unit target=GetEnumUnit()
	local group JAO=group026
	local unit source=unit357
	if IsUnitInGroup(target,JAO)==false then
		call GroupAddUnit(JAO,target)
		call Func3360(source,target)
	endif
	set target=null
	set JAO=null
	set source=null
endfunction

function Func3362 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local group JAO=(LoadGroupHandle(HY,(h),(133)))
	local effect fx
	local integer Count=GetTriggerEvalCount(t)
	local real x
	local real x0=GetUnitX(source)
	local real y
	local real y0=GetUnitY(source)
	local integer i
	local integer d
	local group g=GetAvailableGroup()
	call SetUnitX(caster,GetUnitX(source))
	call SetUnitY(caster,GetUnitY(source))
	set group026=JAO
	set unit357=source
	set integer520=GetUnitAbilityLevel(source,'A1E7')
	if Count>20 then
		set d=21*36+(20-Count)*36
		set real356=d
		set i=0
		loop
			exitwhen i>36
			set x=x0+d*Cos(360*i/36*bj_DEGTORAD)
			set y=y0+d*Sin(360*i/36*bj_DEGTORAD)
			set tt_unit1=source
			call GroupEnumUnitsInRange(g,x,y,100,Condition(function Func0283))
			call ForGroup(g,function Func3361)
			set i=i+1
		endloop
	else
		set d=Count*36
		set real356=d
		set i=0
		loop
			exitwhen i>36
			set x=x0+d*Cos(360*i/36*bj_DEGTORAD)
			set y=y0+d*Sin(360*i/36*bj_DEGTORAD)
			set tt_unit1=source
			call GroupEnumUnitsInRange(g,x,y,100,Condition(function Func0283))
			call ForGroup(g,function Func3361)
			set i=i+1
		endloop
	endif
	call KillGroup(g)
	if Count==40 then
		call KillUnit(caster)
		call KillGroup(JAO)
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif Count==20 then
		call GroupClear(JAO)
		set fx=null
	endif
	set t=null
	set caster=null
	set JAO=null
	set source=null
	set g=null
	return false
endfunction

function Func3363 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local real x=GetUnitX(Hero)
	local real y=GetUnitY(Hero)
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'h092',x,y,0)
	local integer i=0
	local integer VB2=36
	local group JAO=GetAvailableGroup()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx",Hero,"origin")))
	call SaveGroupHandle(HY,(h),(133),(JAO))
	call SaveUnitHandle(HY,(h),(2),(Hero))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call TriggerRegisterTimerEvent(t,0.06,true)
	call TriggerAddCondition(t,Condition(function Func3362))
	set t=null
	set caster=null
	set Hero=null
endfunction

function Func3364 takes nothing returns boolean
	if GetSpellAbilityId()=='A1E7' then
		call Func3363()
	endif
	return false
endfunction

function Func3365 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3364))
	set t=null
endfunction

function Func3366 takes integer AQ5 returns boolean
	return AQ5!='A09V' and AQ5!='A026' and AQ5!='A0LZ' and AQ5!='A0QN' and AQ5!='A0OI' and AQ5!='A0DY' and AQ5!='A1WB' and AQ5!='AHfa'
endfunction

function Func3367 takes unit R5I,unit source,unit target,integer lvl returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(R5I),'e00E',GetUnitX(source),GetUnitY(source),0)
	call UnitAddAbilityPermanent(caster,'A1AK')
	call SetUnitAbilityLevel(caster,'A1AK',lvl)
	call IssueTargetOrder(caster,"chainlightning",target)
	call UnitAddAbilityPermanent(caster,'A18D')
	call SetUnitAbilityLevel(caster,'A18D',lvl)
	call IssueTargetOrder(caster,"purge",target)
	set caster=null
endfunction

function Func3368 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl
	if GetSpellTargetUnit()==source and Func3366(GetSpellAbilityId()) and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(source))==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
		set lvl=GetUnitAbilityLevel(source,'A1E6')
		call Func3367(source,source,GetTriggerUnit(),lvl)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3369 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3368))
	call SaveUnitHandle(HY,(h),(2),(source))
	set source=null
	set t=null
endfunction

function Func3370 takes nothing returns boolean
	if GetLearnedSkill()=='A1E6' and GetUnitAbilityLevel(GetTriggerUnit(),'A1E6')==1 and IsUnitIllusion(GetTriggerUnit())==false then
		call Func3369()
	endif
	return false
endfunction

function Func3371 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3370))
	set t=null
endfunction

function Func3372 takes unit u,integer d returns nothing
	local integer array b
	local integer a=d
	local integer c=1
	local integer i=0
	local integer EU1
	if d<1 then
		call UnitRemoveAbility(u,integers169[0])
		call UnitRemoveAbility(u,integers169[1])
		call UnitRemoveAbility(u,integers169[2])
		call UnitRemoveAbility(u,integers169[3])
		call UnitRemoveAbility(u,integers169[4])
		call UnitRemoveAbility(u,integers169[5])
		call UnitRemoveAbility(u,integers169[6])
		call UnitRemoveAbility(u,integers169[7])
		return
	endif
	loop
		exitwhen c==0
		set c=a/2
		set b[i]=a-c*2
		set a=c
		set i=i+1
	endloop
	set EU1=i
	set i=0
	loop
		exitwhen i>EU1
		if b[i]==1 then
			call UnitAddAbilityPermanent(u,integers169[i])
		else
			call UnitRemoveAbility(u,integers169[i])
		endif
		set i=i+1
	endloop
endfunction

function Func3373 takes unit u,integer d returns nothing
	local integer array b
	local integer a=d
	local integer c=1
	local integer i=0
	local integer EU1
	if d<1 then
		call UnitRemoveAbility(u,integers170[0])
		call UnitRemoveAbility(u,integers170[1])
		call UnitRemoveAbility(u,integers170[2])
		call UnitRemoveAbility(u,integers170[3])
		call UnitRemoveAbility(u,integers170[4])
		call UnitRemoveAbility(u,integers170[5])
		call UnitRemoveAbility(u,integers170[6])
		call UnitRemoveAbility(u,integers170[7])
		return
	endif
	loop
		exitwhen c==0
		set c=a/2
		set b[i]=a-c*2
		set a=c
		set i=i+1
	endloop
	set EU1=i
	set i=0
	loop
		exitwhen i>EU1
		if b[i]==1 then
			call UnitAddAbilityPermanent(u,integers170[i])
		else
			call UnitRemoveAbility(u,integers170[i])
		endif
		set i=i+1
	endloop
endfunction

function Func3374 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		if GetTriggerUnit()==source then
			call Func3372(source,0)
			call SaveUnitHandle(HY,(h),(2),(null))
		else
			call Func3373(target,0)
			call SaveUnitHandle(HY,(h),(17),(null))
		endif
	else
		if source!=null then
			call Func3372(source,0)
		endif
		if target!=null then
			call Func3373(target,0)
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3375 takes unit source,unit target,unit QB2 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	if QB2==null then
		call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
	elseif QB2==target then
		call Func3373(target,0)
		call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(null))
	else
		call Func3372(source,0)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
		call SaveUnitHandle(HY,(h),(2),(null))
		call SaveUnitHandle(HY,(h),(17),(target))
	endif
	call TriggerRegisterTimerEvent(t,18,false)
	call TriggerAddCondition(t,Condition(function Func3374))
endfunction

function Func3376 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local lightning UZI=(LoadLightningHandle(HY,(h),(196)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer Count=GetTriggerEvalCount(t)
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	call MoveLightning(UZI,true,GetUnitX(source),GetUnitY(source),GetUnitX(target),GetUnitY(target))
	call SetUnitX(caster,GetUnitX(target))
	call SetUnitY(caster,GetUnitY(target))
	if Func0141(GetUnitX(source),GetUnitY(source),GetUnitX(target),GetUnitY(target))>700 or GetTriggerEventId()==EVENT_UNIT_DEATH then
		call DestroyLightning(UZI)
		call KillUnit(caster)
		if GetTriggerEventId()==EVENT_UNIT_DEATH then
			call Func3375(source,target,GetTriggerUnit())
		else
			call Func3375(source,target,null)
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif Count>160 then
		call DestroyLightning(UZI)
		call KillUnit(caster)
		call Func3375(source,target,null)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif ModuloInteger(Count,20)==0 or Count==1 then
		call Func3372(source,(lvl*7)*R2I(Count/20))
		call Func3373(target,(lvl*7)*R2I(Count/20))
	endif
	set t=null
	set source=null
	set target=null
	set UZI=null
	set caster=null
	return false
endfunction

function Func3377 takes unit source,unit target,lightning UZI,unit caster returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A1DP')
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3376))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveLightningHandle(HY,(h),(196),(UZI))
	call SaveUnitHandle(HY,(h),(19),(caster))
	set t=null
endfunction

function Func3378 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local lightning UZI=(LoadLightningHandle(HY,(h),(196)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local real x0=GetUnitX(source)
	local real y0=GetUnitY(source)
	local real x1=(LoadReal(HY,(h),(64)))
	local real y1=(LoadReal(HY,(h),(65)))
	local real a=(LoadReal(HY,(h),(137)))
	local unit target=null
	local group g=GetAvailableGroup()
	set x1=SafeX50(x1+25*Cos(a))
	set y1=SafeY50(y1+25*Sin(a))
	call SaveReal(HY,(h),(64),((x1)*1.0))
	call SaveReal(HY,(h),(65),((y1)*1.0))
	call MoveLightning(UZI,true,x0,y0,x1,y1)
	call SetUnitX(caster,x1)
	call SetUnitY(caster,y1)
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,x1,y1,225,Condition(function Func0303))
	set target=FirstOfGroup(g)
	call KillGroup(g)
	if target!=null then
		call Func3377(source,target,UZI,caster)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEvalCount(t)>25 or GetTriggerEventId()==EVENT_UNIT_DEATH then
		call DestroyLightning(UZI)
		call KillUnit(caster)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set UZI=null
	set target=null
	set g=null
	set caster=null
	return false
endfunction

function Func3379 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t
	local integer h
	local location l
	local lightning UZI=AddLightning("CLSB",true,GetUnitX(source),GetUnitY(source),GetUnitX(source),GetUnitY(source))
	local unit caster=CreateUnit(GetOwningPlayer(source),'h088',GetUnitX(source),GetUnitY(source),0)
	call SetLightningColor(UZI,0.3,0.5,1,1)
	if target==null then
		set l=GetSpellTargetLoc()
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,0.02,true)
		call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
		call TriggerAddCondition(t,Condition(function Func3378))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveLightningHandle(HY,(h),(196),(UZI))
		call SaveUnitHandle(HY,(h),(19),(caster))
		call SaveReal(HY,(h),(137),((Atan2(GetLocationY(l)-GetUnitY(source),GetLocationX(l)-GetUnitX(source)))*1.0))
		call SaveReal(HY,(h),(64),((GetUnitX(source))*1.0))
		call SaveReal(HY,(h),(65),((GetUnitY(source))*1.0))
		call RemoveLocation(l)
		set l=null
		set t=null
	else
		call Func3377(source,target,UZI,caster)
	endif
	set target=null
endfunction

function Func3380 takes nothing returns boolean
	if GetSpellAbilityId()=='A1DP' and IsBlocked(GetSpellTargetUnit())==false then
		call Func3379()
	endif
	return false
endfunction

function Func3381 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3380))
	set t=null
	set integers169[0]='A1DV'
	set integers169[1]='A1DQ'
	set integers169[2]='A1DR'
	set integers169[3]='A1DS'
	set integers169[4]='A1DT'
	set integers169[5]='A1DU'
	set integers169[6]='A1DW'
	set integers169[7]='A1DX'
	set integers170[0]='A1E4'
	set integers170[1]='A1E3'
	set integers170[2]='A1E2'
	set integers170[3]='A1E1'
	set integers170[4]='A1E0'
	set integers170[5]='A1E5'
	set integers170[6]='A1DZ'
	set integers170[7]='A1DY'
endfunction

function Func3382 takes integer h returns nothing
	local integer i=1
	local integer PY2=(LoadInteger(HY,(h),(136)))
	local unit target
	local integer PCI
	if PY2==0 then
		return
	endif
	loop
		exitwhen i>PY2
		set PCI=(LoadInteger(HY,(h),(2200+i)))
		set target=UnitAsInteger_Load(PCI)
		call UnitAsInteger_Clear(PCI)
		call UnitRemoveAbility(target,integers052[0])
		call UnitRemoveAbility(target,integers052[1])
		call UnitRemoveAbility(target,integers052[2])
		call UnitRemoveAbility(target,integers052[3])
		call UnitRemoveAbility(target,integers052[4])
		call UnitRemoveAbility(target,integers052[5])
		set i=i+1
	endloop
	set target=null
endfunction

function Func3383 takes unit target,integer h returns nothing
	local integer PCI=Func0021(target)
	local integer PY2=(LoadInteger(HY,(h),(136)))
	set PY2=PY2+1
	call SaveInteger(HY,(h),(136),(PY2))
	call SaveInteger(HY,(h),(2200+PY2),(PCI))
endfunction

function Func3384 takes unit u returns integer
	return GetUnitAbilityLevel(u,integers052[0])*1+GetUnitAbilityLevel(u,integers052[1])*2+GetUnitAbilityLevel(u,integers052[2])*4+GetUnitAbilityLevel(u,integers052[3])*8+GetUnitAbilityLevel(u,integers052[4])*16
endfunction

function Func3385 takes unit u,integer d returns nothing
	local integer array b
	local integer a=d
	local integer c=1
	local integer i=0
	local integer EU1
	if d<1 then
		call UnitRemoveAbility(u,integers052[0])
		call UnitRemoveAbility(u,integers052[1])
		call UnitRemoveAbility(u,integers052[2])
		call UnitRemoveAbility(u,integers052[3])
		call UnitRemoveAbility(u,integers052[4])
		call UnitRemoveAbility(u,integers052[5])
		return
	endif
	loop
		exitwhen c==0
		set c=a/2
		set b[i]=a-c*2
		set a=c
		set i=i+1
	endloop
	set EU1=i
	set i=0
	loop
		exitwhen i>EU1
		if b[i]==1 then
			call UnitAddAbilityPermanent(u,integers052[i])
		else
			call UnitRemoveAbility(u,integers052[i])
		endif
		set i=i+1
	endloop
endfunction

function Func3386 takes unit u,integer d returns nothing
	if IsUnitType(u,UNIT_TYPE_STRUCTURE)==false then
		call Func3385(u,d+Func3384(u))
		call Func3383(u,integer521)
	endif
endfunction

function Func3387 takes unit source,unit caster,unit target,integer lvl returns nothing
	call IssueTargetOrder(caster,"chainlightning",target)
	call DamageTarget_Delayed(source,target,2,(50+25*lvl)/2.0,0.3)
	call Func3386(target,1)
endfunction

function Func3388 takes nothing returns boolean
	if(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1))and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false))and GetUnitTypeId(GetFilterUnit())!='n00L' then
		if GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<real358 then
			set real358=GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)
			set unit359=GetFilterUnit()
		endif
	endif
	return false
endfunction

function Func3389 takes nothing returns boolean
	if(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1))and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit())==false))and GetUnitTypeId(GetFilterUnit())!='emow' and GetUnitTypeId(GetFilterUnit())!='uzig' and GetUnitTypeId(GetFilterUnit())!='n00L' then
		if GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<real358 then
			set real358=GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)
			set unit359=GetFilterUnit()
		endif
	endif
	return false
endfunction

function Func3390 takes unit source,unit caster,integer lvl returns nothing
	local group g=GetAvailableGroup()
	set unit359=null
	set real358=999999
	set real357=30+30*lvl
	set unit358=source
	set tt_unit1=source
	if GetUnitAbilityLevel(source,'A1UV')>0 then
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),525,Condition(function Func3389))
	else
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),525,Condition(function Func3388))
	endif
	call KillGroup(g)
	if unit359!=null then
		call Func3387(source,caster,unit359,lvl)
	endif
	set g=null
endfunction

function Func3391 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer Count=GetTriggerEvalCount(t)
	local real JV3
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call Func3382(h)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if GetTriggerUnit()==source then
			call KillUnit(caster)
		endif
	else
		if GetUnitAbilityLevel(source,'A1UV')>0 then
			if lvl==1 then
				set JV3=0.55
			elseif lvl==2 then
				set JV3=0.45
			else
				set JV3=0.35
			endif
		else
			if lvl==1 then
				set JV3=0.7
			elseif lvl==2 then
				set JV3=0.6
			else
				set JV3=0.5
			endif
		endif
		set JV3=JV3/0.05
		if ModuloInteger(Count,R2I(JV3))==0 or Count==1 then
			set integer521=h
			call Func3390(source,caster,lvl)
		endif
		call SetUnitX(caster,GetUnitX(source))
		call SetUnitY(caster,GetUnitY(source))
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3392 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A1AO')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit caster=CreateUnit(GetOwningPlayer(source),'h081',GetUnitX(source),GetUnitY(source),0)
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A1UV')
	endif
	call UnitApplyTimedLife(caster,'BTLF',30)
	call SetUnitAbilityLevel(caster,'A1DJ',lvl)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerRegisterDeathEvent(t,caster)
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerAddCondition(t,Condition(function Func3391))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(5),(lvl))
	set source=null
	set t=null
endfunction

function Func3393 takes nothing returns boolean
	if GetSpellAbilityId()=='A1AO' or GetSpellAbilityId()=='A1UV' then
		call Func3392()
	endif
	return false
endfunction

function Func3394 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3393))
	set t=null
	set integers052[0]='A1DK'
	set integers052[1]='A1DL'
	set integers052[2]='A1DN'
	set integers052[3]='A1DM'
	set integers052[4]='A1DO'
endfunction

function Func3395 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	call SetUnitPosition(Hero,x,y)
	call SetUnitAnimation(Hero,"morph ALTERNATE")
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	return false
endfunction

function Func3396 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(Hero,'A06O')
	local location l
	local real RM2
	local real x=GetUnitX(Hero)
	local real y=GetUnitY(Hero)
	local real QJI
	local real QKI
	local real EN4
	local real ES4
	local real CasterX
	local real CasterY
	local integer CasterAbility
	local unit caster
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real dmg
	local real DC1=1.65
	local unit DT1=null
	if lvl==1 then
		set dmg=100
	elseif lvl==2 then
		set dmg=160
	elseif lvl==3 then
		set dmg=220
	elseif lvl==4 then
		set dmg=280
	endif
	if GetSpellTargetUnit()!=null then
		set l=GetUnitLoc(GetSpellTargetUnit())
	else
		set l=GetSpellTargetLoc()
	endif
	set QJI=GetLocationX(l)
	set QKI=GetLocationY(l)
	call RemoveLocation(l)
	set RM2=Func0159(x,y,QJI,QKI)
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveReal(HY,(h),(6),((QJI)*1.0))
	call SaveReal(HY,(h),(7),((QKI)*1.0))
	call TriggerRegisterTimerEvent(t,Func0141(x,y,QJI,QKI)/2000,false)
	call TriggerAddCondition(t,Condition(function Func3395))
	if Func0141(x,y,QJI,QKI)<150 then
		set QJI=x+150*Cos(RM2*bj_DEGTORAD)
		set QKI=y+150*Sin(RM2*bj_DEGTORAD)
	endif
	if GetSpellTargetUnit()!=null and IsBlocked(GetSpellTargetUnit())then
		set DT1=GetSpellTargetUnit()
	endif
	call Func0319(Hero,DT1,dmg,DC1,0.52,x,y,QJI,QKI,175,null,true,1600)
	set caster=null
	set l=null
	set Hero=null
	set t=null
endfunction

function Func3397 takes nothing returns boolean
	if GetSpellAbilityId()=='A06O' then
		call Func3396()
	endif
	return false
endfunction

function Func3398 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3397))
	call Func0125('A0X6')
	set t=null
endfunction

function Func3399 takes nothing returns nothing
	call DamageTarget(unit360,GetEnumUnit(),1,110)
	call IssueTargetOrder(unit361,"slow",GetEnumUnit())
endfunction

function Func3400 takes unit source,real x,real y,integer lvl,integer BN5 returns nothing
	local group g=GetAvailableGroup()
	local real r
	local string fx
	if BN5==8 then
		set r=675
	elseif BN5==9 then
		set r=700
	elseif BN5==10 then
		set r=725
	else
		set r=250+50*BN5
	endif
	if BN5<4 then
		set fx="war3mapImported\\EpiPulse_1_4.mdx"
	elseif BN5<8 then
		set fx="war3mapImported\\EpiPulse_5_8.mdx"
	else
		set fx="war3mapImported\\EpiPulse_9_12.mdx"
	endif
	call DestroyEffect(AddSpecialEffect(fx,x,y))
	set tt_unit1=source
	set unit360=source
	set unit361=units029[GetPlayerId(GetOwningPlayer(source))]
	call GroupEnumUnitsInRange(g,x,y,r,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func3399)
	call KillGroup(g)
	call Func0203(0.03,false,x,y,150+100*BN5,150+100*BN5,72,0.03,512)
	set g=null
endfunction

function Func3401 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real II3=(LoadReal(HY,(h),(23)))
	local real I13=(LoadReal(HY,(h),(24)))
	local boolean CK3=(LoadBoolean(HY,(h),(15)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer KO2=(LoadInteger(HY,(h),(25)))
	local integer BT5=4+lvl*2
	local real x=II3
	local real y=I13
	if CK3 then
		set BT5=BT5+2
	endif
	if KO2>BT5 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		if Hero!=null and IsDead(Hero)==false then
			set x=GetUnitX(Hero)
			set y=GetUnitY(Hero)
		endif
		call Func3400(Hero,x,y,lvl,KO2)
		call SaveInteger(HY,(h),(25),(KO2+1))
		call SaveReal(HY,(h),(23),((x)*1.0))
		call SaveReal(HY,(h),(24),((y)*1.0))
	endif
	set t=null
	set p=null
	set Hero=null
	return false
endfunction

function Func3402 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local player p=GetOwningPlayer(Hero)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(Hero,'A06R')
	local boolean CK3=false
	if lvl==0 then
		set CK3=true
		set lvl=GetUnitAbilityLevel(Hero,'A1B4')
	endif
	if IsSentinel(p)then
		set units029[GetPlayerId(p)]=CreateUnit(Scourges[0],'e00E',GetUnitX(Hero),GetUnitY(Hero),0)
	else
		set units029[GetPlayerId(p)]=CreateUnit(Sentinels[0],'e00E',GetUnitX(Hero),GetUnitY(Hero),0)
	endif
	call UnitAddAbilityPermanent(units029[GetPlayerId(p)],'A17B')
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SavePlayerHandle(HY,(h),(54),(GetOwningPlayer(Hero)))
	call SaveReal(HY,(h),(23),((GetUnitX(Hero))*1.0))
	call SaveReal(HY,(h),(24),((GetUnitY(Hero))*1.0))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(25),(2))
	call SaveBoolean(HY,(h),(15),(CK3))
	call TriggerRegisterTimerEvent(t,0.35,true)
	call TriggerAddCondition(t,Condition(function Func3401))
	call Func3400(Hero,GetUnitX(Hero),GetUnitY(Hero),lvl,1)
	set Hero=null
	set t=null
endfunction

function Func3403 takes nothing returns boolean
	if GetSpellAbilityId()=='A06R' or GetSpellAbilityId()=='A1B4' then
		call Func3402()
	endif
	return false
endfunction

function Func3404 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_FINISH)
	call TriggerAddCondition(t,Condition(function Func3403))
	call Func0125('A17B')
	set t=null
endfunction

function Func3405 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	if((LoadInteger(HY,(GetHandleId((Hero))),((4299))))==1)==false then
		call UnitRemoveAbility(Hero,'B04R')
	endif
	call RemoveUnit((LoadUnitHandle(HY,(h),(379))))
	call RemoveUnit((LoadUnitHandle(HY,(h),(380))))
	call RemoveUnit((LoadUnitHandle(HY,(h),(381))))
	call RemoveUnit((LoadUnitHandle(HY,(h),(382))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	return false
endfunction

function Func3406 takes unit Hero,integer lvl,unit C05,unit CI5,unit C15,unit CO5 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real DC1
	set DC1=1.5
	call SaveInteger(HY,(GetHandleId((Hero))),((4299)),(2))
	call TriggerRegisterTimerEvent(t,DC1,false)
	call TriggerAddCondition(t,Condition(function Func3405))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(379),(C05))
	call SaveUnitHandle(HY,(h),(380),(CI5))
	call SaveUnitHandle(HY,(h),(381),(C15))
	call SaveUnitHandle(HY,(h),(382),(CO5))
	set t=null
endfunction

function Func3407 takes nothing returns boolean
	if(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))then
		call DamageTarget(unit362,GetFilterUnit(),1,real359)
	endif
	return false
endfunction

function Func3408 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit C05=(LoadUnitHandle(HY,(h),(379)))
	local unit CI5=(LoadUnitHandle(HY,(h),(380)))
	local unit C15=(LoadUnitHandle(HY,(h),(381)))
	local unit CO5=(LoadUnitHandle(HY,(h),(382)))
	local integer lvl=GetUnitAbilityLevel(Hero,'A0H0')
	local integer Count=GetTriggerEvalCount(t)
	local group g
	local integer C45=550
	if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST or Count>lvl*20/0.5 then
		call Func3406(Hero,lvl,C05,CI5,C15,CO5)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set g=GetAvailableGroup()
		set tt_unit1=Hero
		set unit362=Hero
		set real359=lvl*25*0.5
		call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),C45,Condition(function Func3407))
		call KillGroup(g)
	endif
	set t=null
	set Hero=null
	set C05=null
	set CI5=null
	set C15=null
	set CO5=null
	set g=null
	return false
endfunction

function Func3409 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit C05=CreateUnit(GetOwningPlayer(Hero),'e00Q',GetUnitX(Hero)+150,GetUnitY(Hero)+150,0)
	local unit CI5=CreateUnit(GetOwningPlayer(Hero),'e00Q',GetUnitX(Hero)+150,GetUnitY(Hero)-150,0)
	local unit C15=CreateUnit(GetOwningPlayer(Hero),'e00Q',GetUnitX(Hero)-150,GetUnitY(Hero)+150,0)
	local unit CO5=CreateUnit(GetOwningPlayer(Hero),'e00Q',GetUnitX(Hero)-150,GetUnitY(Hero)-150,0)
	local integer lvl=GetUnitAbilityLevel(Hero,'A0H0')
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e00E',GetUnitX(Hero),GetUnitY(Hero),0)
	call SaveInteger(HY,(GetHandleId((Hero))),((4299)),(1))
	call UnitAddAbilityPermanent(caster,'A0HO')
	call SetUnitAbilityLevel(caster,'A0HO',lvl)
	call IssueTargetOrder(caster,"invisibility",Hero)
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_SPELL_ENDCAST)
	call TriggerAddCondition(t,Condition(function Func3408))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(379),(C05))
	call SaveUnitHandle(HY,(h),(380),(CI5))
	call SaveUnitHandle(HY,(h),(381),(C15))
	call SaveUnitHandle(HY,(h),(382),(CO5))
	call SetUnitTimeScale(C05,0)
	call SetUnitTimeScale(CI5,0)
	call SetUnitTimeScale(C15,0)
	call SetUnitTimeScale(CO5,0)
	set t=null
	set Hero=null
	set caster=null
	set C05=null
	set CI5=null
	set C15=null
	set CO5=null
endfunction

function Func3410 takes nothing returns boolean
	if GetSpellAbilityId()=='A0H0' then
		call Func3409()
	endif
	return false
endfunction

function Func3411 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3410))
	set t=null
endfunction

function Func3412 takes nothing returns nothing
	call DamageTarget(unit363,GetEnumUnit(),2,50*integer522)
endfunction

function Func3413 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
	local group g=GetAvailableGroup()
	local integer lvl=GetUnitAbilityLevel(source,'A29K')
	call UnitAddAbilityPermanent(caster,'A0M9')
	call SetUnitAbilityLevel(caster,'A0M9',lvl)
	call IssueImmediateOrder(caster,"thunderclap")
	call UnitAddAbilityPermanent(caster,'A01W')
	call SetUnitAbilityLevel(caster,'A01W',lvl)
	call IssueImmediateOrder(caster,"stomp")
	set unit363=source
	set integer522=lvl
	call GroupEnumUnitsInRange(g,x,y,350+25,Condition(function Func0271))
	call ForGroup(g,function Func3412)
	call KillGroup(g)
	set source=null
	set caster=null
	set g=null
endfunction

function Func3414 takes nothing returns boolean
	if GetSpellAbilityId()=='A29K' then
		call Func3413()
	endif
	return false
endfunction

function Func3415 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3414))
	set t=null
endfunction

function Func3416 takes unit source,unit target returns nothing
	local integer lvl=GetUnitAbilityLevel(source,'A0JJ')
	local real dmg=40+20*lvl
	if GetUnitAbilityLevel(target,'A04R')==0 then
		call DamageTarget(source,target,2,dmg)
	endif
endfunction

function Func3417 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source and GetEventDamage()>0 and GetEventDamage()<=0.02 and GetUnitAbilityLevel(target,'B0GG')>0 then
			call DisableTrigger(t)
			call Func3416(source,target)
			call UnitAsInteger_Clear(PCI)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3418 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local unit target=GetTriggerUnit()
	local unit source=GetAttacker()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,1,false)
	call TriggerAddCondition(t,Condition(function Func3417))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveUnitHandle(HY,(h),(2),(source))
	set target=null
	set source=null
	set t=null
endfunction

function Func3419 takes nothing returns nothing
	local unit source=GetAttacker()
	if((LoadInteger(HY,(GetHandleId((source))),((4274))))==1)==false then
		call AddTimedKeyToUnit(source,4274,0.1)
		call Func3418()
	endif
endfunction

function Func3420 takes nothing returns boolean
	if GetUnitAbilityLevel(GetAttacker(),'A0JJ')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(14)))and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
		call Func3419()
	endif
	return false
endfunction

function Func3421 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func3420))
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(GetTriggerUnit()))
	set t=null
endfunction

function Func3422 takes nothing returns boolean
	if GetLearnedSkill()=='A0JJ' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0JJ')==1 then
		call Func3421()
	endif
	return false
endfunction

function Func3423 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3422))
	set t=null
endfunction

function SpectralDagger_CastCode takes nothing returns integer
	return 'A0HW'
endfunction

function SpectralDagger_PositiveEffect takes nothing returns integer
	return 'A0I2'
endfunction

function SpectralDagger_NegativeEffect takes nothing returns integer
	return 'A0HY'
endfunction

function SpectralDagger_PositiveBuff takes nothing returns integer
	return 'B047'
endfunction

function SpectralDagger_ShadowPathUnit takes nothing returns integer
	return 'h002'
endfunction

function SpectralDagger_DaggerUnit takes nothing returns integer
	return 'h003'
endfunction

function Func3424 takes nothing returns nothing
	local timer t=GetExpiredTimer()
	local integer h=GetHandleId(t)
	local unit PKI=(LoadUnitHandle(HY,(h),(221)))
	local unit CZ5=(LoadUnitHandle(HY,(h),(383)))
	local unit caster
	local real DC1=(LoadReal(HY,(h),(57)))
	local integer lvl=GetUnitAbilityLevel(CZ5,('A0HW'))
	local real CV5=(LoadReal(HY,(h),(6)))
	local real CW5=(LoadReal(HY,(h),(7)))
	local real IV1=GetUnitX(PKI)
	local real IW1=GetUnitY(PKI)
	if(IV1-CV5)*(IV1-CV5)+(IW1-CW5)*(IW1-CW5)>900 then
		set caster=CreateUnit(GetOwningPlayer(CZ5),('h002'),GetUnitX(PKI),GetUnitY(PKI),0)
		call SetUnitAbilityLevel(caster,('A0I2'),lvl)
		call SetUnitAbilityLevel(caster,('A0HY'),lvl)
		call UnitApplyTimedLife(caster,'BTLF',7)
		call SaveReal(HY,(h),(6),((IV1)*1.0))
		call SaveReal(HY,(h),(7),((IW1)*1.0))
	endif
	set DC1=DC1+0.2
	call SaveReal(HY,(h),(57),((DC1)*1.0))
	if DC1>7 or GetUnitState(PKI,UNIT_STATE_LIFE)<1 then
		call PauseTimer(t)
		call FlushChildHashtable(HY,(h))
	endif
endfunction

function Func3425 takes nothing returns nothing
	local unit target=GetEnumUnit()
	local sound PGI
	local timer t
	local integer h
	call UnitDamageTarget(unit002,target,real002,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
	call GroupAddUnit(group001,target)
	if IsUnitType(target,UNIT_TYPE_HERO) then
		set t=CreateTimer()
		set h=GetHandleId(t)
		set PGI=CreateSound("Sounds\\Spectral Dagger.mp3",false,true,true,10,10,"DefaultEAXON")
		call SetSoundPosition(PGI,GetUnitX(target),GetUnitY(target),0)
		call SetSoundDistanceCutoff(PGI,700)
		call StartSound(PGI)
		call KillSoundWhenDone(PGI)
		call SaveUnitHandle(HY,(h),(221),(target))
		call SaveUnitHandle(HY,(h),(383),(unit002))
		call SaveReal(HY,(h),(6),((GetUnitX(target))*1.0))
		call SaveReal(HY,(h),(7),((GetUnitY(target))*1.0))
		call TimerStart(t,0.2,true,function Func3424)
	endif
endfunction

function Func3426 takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(unit002))and IsUnitInGroup(GetFilterUnit(),group001)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false
endfunction

function Func3427 takes nothing returns nothing
	local timer t=GetExpiredTimer()
	local integer h=GetHandleId(t)
	local group JAO=(LoadGroupHandle(HY,(h),(133)))
	local group Z51=GetAvailableGroup()
	local boolexpr QL1=Condition(function Func3426)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local real QJI=GetUnitX(target)
	local real QKI=GetUnitY(target)
	local real SourceX=GetUnitX(IG1)
	local real SourceY=GetUnitY(IG1)
	local real RM2=Atan2(QKI-SourceY,QJI-SourceX)
	local real IV1=SafeX50(GetUnitX(IG1)+30*Cos(RM2))
	local real IW1=SafeY50(GetUnitY(IG1)+30*Sin(RM2))
	local unit caster
	local integer lvl=GetUnitAbilityLevel(Hero,('A0HW'))
	if(LoadBoolean(HY,(h),(384)))then
		call SaveBoolean(HY,(h),(384),(false))
		set caster=CreateUnit(GetOwningPlayer(Hero),('h002'),SourceX,SourceY,0)
		call SetUnitAbilityLevel(caster,('A0I2'),lvl)
		call SetUnitAbilityLevel(caster,('A0HY'),lvl)
		call UnitApplyTimedLife(caster,'BTLF',12)
	else
		call SaveBoolean(HY,(h),(384),(true))
	endif
	call SetUnitX(IG1,IV1)
	call SetUnitY(IG1,IW1)
	call SetUnitFacing(IG1,RM2*bj_RADTODEG)
	set group001=JAO
	set unit002=Hero
	set real002=50*GetUnitAbilityLevel(Hero,('A0HW'))
	call GroupEnumUnitsInRange(Z51,IV1,IW1,150,QL1)
	call ForGroup(Z51,function Func3425)
	call KillGroup(Z51)
	if(IV1-QJI)*(IV1-QJI)+(IW1-QKI)*(IW1-QKI)<1600 then
		call PauseTimer(t)
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call KillUnit(IG1)
		call KillGroup(JAO)
	endif
endfunction

function Func3428 takes nothing returns nothing
	local timer t=GetExpiredTimer()
	local integer h=GetHandleId(t)
	local group JAO=(LoadGroupHandle(HY,(h),(133)))
	local group Z51=GetAvailableGroup()
	local boolexpr QL1=Condition(function Func3426)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local real SourceX=GetUnitX(IG1)
	local real SourceY=GetUnitY(IG1)
	local real RM2=(LoadReal(HY,(h),(13)))
	local real IV1=SafeX50(GetUnitX(IG1)+30*Cos(RM2))
	local real IW1=SafeY50(GetUnitY(IG1)+30*Sin(RM2))
	local unit caster
	local integer lvl=GetUnitAbilityLevel(Hero,('A0HW'))
	if(LoadBoolean(HY,(h),(384)))then
		call SaveBoolean(HY,(h),(384),(false))
		set caster=CreateUnit(GetOwningPlayer(Hero),('h002'),SourceX,SourceY,0)
		call SetUnitAbilityLevel(caster,('A0I2'),lvl)
		call SetUnitAbilityLevel(caster,('A0HY'),lvl)
		call UnitApplyTimedLife(caster,'BTLF',12)
	else
		call SaveBoolean(HY,(h),(384),(true))
	endif
	call SetUnitX(IG1,IV1)
	call SetUnitY(IG1,IW1)
	set group001=JAO
	set unit002=Hero
	set real002=50*GetUnitAbilityLevel(Hero,('A0HW'))
	call GroupEnumUnitsInRange(Z51,IV1,IW1,150,QL1)
	call ForGroup(Z51,function Func3425)
	call KillGroup(Z51)
	if(IV1-QJI)*(IV1-QJI)+(IW1-QKI)*(IW1-QKI)<1600 then
		call PauseTimer(t)
		call FlushChildHashtable(HY,(h))
		call KillUnit(IG1)
		call KillGroup(JAO)
	endif
endfunction

function Func3429 takes unit PKI,integer MLI returns boolean
	if(GetItemTypeId(UnitItemInSlot(PKI,MLI))=='pspd')then
		return true
	endif
	if(GetItemTypeId(UnitItemInSlot(PKI,MLI))=='oflg')then
		return true
	endif
	return false
endfunction

function Func3430 takes nothing returns nothing
	local timer t=GetExpiredTimer()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real DC1=(LoadReal(HY,(h),(57)))
	local integer TGI=0
	loop
		exitwhen TGI>5
		if Func3429(Hero,TGI)then
			if GetUnitAbilityLevel(Hero,('B047'))==0 then
				call SetItemDropOnDeath(UnitItemInSlot(Hero,TGI),true)
				if GetItemTypeId(UnitItemInSlot(Hero,TGI))=='oflg' then
					call SetItemDroppable(UnitItemInSlot(Hero,TGI),true)
				endif
			else
				call SetItemDropOnDeath(UnitItemInSlot(Hero,TGI),false)
				if GetItemTypeId(UnitItemInSlot(Hero,TGI))=='oflg' then
					call SetItemDroppable(UnitItemInSlot(Hero,TGI),false)
				endif
			endif
		endif
		set TGI=TGI+1
	endloop
	set DC1=DC1+0.2
	call SaveReal(HY,(h),(57),((DC1)*1.0))
	if GetUnitAbilityLevel(Hero,('B047'))==0 then
		call SetUnitPathing(Hero,true)
	else
		call SetUnitPathing(Hero,false)
	endif
	if DC1>30 then
		call PauseTimer(t)
		call FlushChildHashtable(HY,(h))
		call SetUnitPathing(Hero,true)
		set TGI=0
		loop
			exitwhen TGI>5
			if Func3429(Hero,TGI)then
				call SetItemDropOnDeath(UnitItemInSlot(Hero,TGI),true)
				if GetItemTypeId(UnitItemInSlot(Hero,TGI))=='oflg' then
					call SetItemDroppable(UnitItemInSlot(Hero,TGI),true)
				endif
			endif
			set TGI=TGI+1
		endloop
	endif
endfunction

function Func3431 takes nothing returns boolean
	return GetSpellAbilityId()==('A0HW')
endfunction

function Func3432 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local real SourceX=SafeX50(GetUnitX(Hero))
	local real SourceY=SafeY50(GetUnitY(Hero))
	local unit IG1=CreateUnit(GetOwningPlayer(Hero),('h003'),SourceX,SourceY,0)
	local timer t=CreateTimer()
	local integer h=GetHandleId(t)
	local group JAO=GetAvailableGroup()
	local location AM3
	local real RM2
	local real QJI
	local real QKI
	call SetUnitPathing(IG1,false)
	call SaveGroupHandle(HY,(h),(133),(JAO))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	if target!=null then
		call SaveInteger(HY,(h),(30),(Func0021(target)))
		call TimerStart(t,0.0375,true,function Func3427)
	else
		set AM3=GetSpellTargetLoc()
		set QJI=GetLocationX(AM3)
		set QKI=GetLocationY(AM3)
		set RM2=Atan2(QKI-SourceY,QJI-SourceX)
		call SetUnitFacing(IG1,RM2*bj_RADTODEG)
		set QJI=SafeX50(SourceX+2100*Cos(RM2))
		set QKI=SafeY50(SourceY+2100*Sin(RM2))
		call SaveReal(HY,(h),(47),((QJI)*1.0))
		call SaveReal(HY,(h),(48),((QKI)*1.0))
		call SaveReal(HY,(h),(13),((RM2)*1.0))
		call TimerStart(t,0.035,true,function Func3428)
	endif
	set t=CreateTimer()
	set h=GetHandleId(t)
	call SetUnitPathing(Hero,false)
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call TimerStart(t,0.2,true,function Func3430)
endfunction

function Func3433 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3431))
	call TriggerAddAction(t,function Func3432)
	call CreateSound("Sounds\\Spectral Dagger.mp3",false,false,false,10,10,"DefaultEAXON")
	call Func0125(('A0I2'))
	call Func0125(('A0HY'))
endfunction

constant function Desolate_AbilityId takes nothing returns integer
	return 'A0FX'
endfunction

function Func3434 takes nothing returns boolean
	return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and GetUnitAbilityLevel(GetAttacker(),('A0FX'))>0
endfunction

function Func3435 takes nothing returns boolean
	return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false
endfunction

function Func3436 takes nothing returns nothing
	local unit Z4O=GetAttacker()
	local unit OU3=GetTriggerUnit()
	local group Z51=GetAvailableGroup()
	local boolexpr QL1=Condition(function Func3435)
	local integer h
	call GroupEnumUnitsInRange(Z51,GetUnitX(OU3),GetUnitY(OU3),325+25,QL1)
	call GroupRemoveUnit(Z51,OU3)
	if FirstOfGroup(Z51)==null then
		set h=GetHandleId(Z4O)
		if((LoadInteger(HY,(GetHandleId((Z4O))),((4275))))==1)==false then
			call UnitDamageTarget(Z4O,OU3,5+15*GetUnitAbilityLevel(Z4O,('A0FX')),true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl",OU3,"overhead"))
			call AddTimedKeyToUnit(Z4O,4275,0.3)
		endif
	endif
	call KillGroup(Z51)
endfunction

function Func3437 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func3434))
	call TriggerAddAction(t,function Func3436)
endfunction

function Func3438 takes nothing returns nothing
	local real d=Func0139(GetTriggerUnit(),GetEnumUnit())-25
	local real VM2=0
	if d<300 then
		set VM2=1
	elseif d<1000 then
		set VM2=(1000-d)/700
	endif
	if VM2>0 then
		set booleans022[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=true
		call DamageTarget(GetTriggerUnit(),GetEnumUnit(),3,real360*VM2)
		set booleans022[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=false
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayDamage.mdl",GetEnumUnit(),"chest"))
	endif
endfunction

function Func3439 takes nothing returns boolean
	local unit Hero=GetTriggerUnit()
	local real dmg=GetEventDamage()
	local integer lvl=GetUnitAbilityLevel(Hero,'A0NA')
	local group g
	if Func0094(dmg)and GetUnitAbilityLevel(Hero,'BNdo')==0 then
		set g=GetAvailableGroup()
		set real360=dmg*(0.06+0.04*lvl)
		call Func0137(Hero,real360)
		call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),1025,Condition(function Func0271))
		call ForGroup(g,function Func3438)
		call KillGroup(g)
	endif
	set Hero=null
	set g=null
	return false
endfunction

function Func3440 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local unit Hero=GetTriggerUnit()
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func3439))
	set t=null
	set Hero=null
endfunction

function Func3441 takes nothing returns boolean
	if GetLearnedSkill()=='A0NA' and GetUnitAbilityLevel(GetTriggerUnit(),'A0NA')==1 and IsUnitIllusion(GetTriggerUnit())==false then
		call Func3440()
	endif
	return false
endfunction

function Func3442 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3441))
	set t=null
endfunction

constant function Haunt_AbilityCode takes nothing returns integer
	return 'A0H9'
endfunction

constant function Haunt_ImageCode takes nothing returns integer
	return 'A0N9'
endfunction

constant function Haunt_ImageBuffCode takes nothing returns integer
	return 'B06L'
endfunction

constant function Haunt_RealityCode takes nothing returns integer
	return 'A0HA'
endfunction

function Func3443 takes nothing returns boolean
	return GetSpellAbilityId()==('A0H9')
endfunction

function Func3444 takes nothing returns nothing
	local unit target=GetEnumUnit()
	local unit Hero=GetTriggerUnit()
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e00E',GetUnitX(target),GetUnitY(target),0)
	call SaveUnitHandle(HY,(GetHandleId(caster)),(387),(target))
	call UnitAddAbilityPermanent(caster,('A0N9'))
	call SetUnitAbilityLevel(caster,('A0N9'),GetUnitAbilityLevel(Hero,('A0H9')))
	call IssueTargetOrderById(caster,ORDER_wandillusion,Hero)
endfunction

function Func3445 takes nothing returns boolean
	return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction

function Func3446 takes nothing returns nothing
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit IYO=(LoadUnitHandle(HY,(h),(386)))
	local unit target=(LoadUnitHandle(HY,(h),(387)))
	local integer D45=(LoadInteger(HY,(h),(385)))
	if GetTriggerEventId()!=EVENT_UNIT_DEATH and GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_POINT_ORDER then
		set D45=D45+1
		call SaveInteger(HY,(h),(385),(D45))
	endif
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call DisableTrigger(GetTriggeringTrigger())
		call FlushChildHashtable(HY,(GetHandleId(GetTriggeringTrigger())))
		call SaveInteger(HY,(h),(385),(D45))
		if target==GetTriggerUnit()then
			call KillUnit(IYO)
		endif
	elseif IsUnitPaused(IYO)==false then
		if D45==2 then
			call SetUnitVertexColor(IYO,255,255,255,255)
		endif
		if D45>1 then
			call DisableTrigger(GetTriggeringTrigger())
			call IssueTargetOrder(IYO,"attack",target)
			call EnableTrigger(GetTriggeringTrigger())
		else
			call DisableTrigger(GetTriggeringTrigger())
			call IssueTargetOrderById(IYO,851986,target)
			call EnableTrigger(GetTriggeringTrigger())
		endif
	endif
endfunction

function Func3447 takes nothing returns boolean
	return GetUnitAbilityLevel(GetSummonedUnit(),('B06L'))>0
endfunction

function Func3448 takes nothing returns nothing
	local unit caster=GetSummoningUnit()
	local unit IYO=GetSummonedUnit()
	local unit target=(LoadUnitHandle(HY,(GetHandleId(caster)),(387)))
	local trigger t=CreateTrigger()
	call SaveUnitHandle(HY,(GetHandleId(Players_Hero[GetPlayerId(GetOwningPlayer(caster))])),(7100+GetHandleId(IYO)),(target))
	call SetUnitPathing(IYO,false)
	call SetUnitMoveSpeed(IYO,400)
	call SetUnitX(IYO,GetUnitX(target))
	call SetUnitY(IYO,GetUnitY(target))
	call IssueTargetOrderById(IYO,851986,target)
	call SetUnitVertexColor(IYO,255,255,255,50)
	call TriggerRegisterUnitEvent(t,IYO,EVENT_UNIT_ISSUED_TARGET_ORDER)
	call TriggerRegisterUnitEvent(t,IYO,EVENT_UNIT_ISSUED_POINT_ORDER)
	call TriggerRegisterUnitEvent(t,IYO,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerAddAction(t,function Func3446)
	call DestroyEffect(AddSpecialEffect("units\\nightelf\\SpiritOfVengeance\\SpiritOfVengeance.mdl",GetUnitX(IYO),GetUnitY(IYO)))
	call SaveUnitHandle(HY,(GetHandleId(t)),(387),(target))
	call SaveUnitHandle(HY,(GetHandleId(t)),(386),(IYO))
	call SaveInteger(HY,(GetHandleId(t)),(385),(0))
	call FlushChildHashtable(HY,(GetHandleId(caster)))
endfunction

function Func3449 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local group Z51=GetAvailableGroup()
	local boolexpr QL1=Condition(function Func3445)
	local sound PGI
	call UnitAddAbilityPermanent(GetTriggerUnit(),('A0HA'))
	call SetUnitPathing(Hero,false)
	call GroupEnumUnitsInRect(Z51,bj_mapInitialPlayableArea,QL1)
	call ForGroup(Z51,function Func3444)
	call SetUnitPathing(Hero,true)
	if FirstOfGroup(Z51)!=null then
		set PGI=CreateSound("Abilities\\Spells\\Other\\ANsa\\SacrificeUnit.wav",false,false,false,10,10,"DefaultEAXON")
		call StartSound(PGI)
		call KillSoundWhenDone(PGI)
	endif
	call KillGroup(Z51)
endfunction

function Func3450 takes nothing returns boolean
	return GetLearnedSkill()==('A0H9')and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),('A0H9'))==1
endfunction

function Func3451 takes nothing returns nothing
	call UnitAddAbilityPermanent(GetTriggerUnit(),('A0HA'))
endfunction

function Func3452 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3443))
	call TriggerAddAction(t,function Func3449)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func3447))
	call TriggerAddAction(t,function Func3448)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3450))
	call TriggerAddAction(t,function Func3451)
	call CreateSound("Abilities\\Spells\\Other\\ANsa\\SacrificeUnit.wav",false,false,false,10,10,"DefaultEAXON")
	call Func0125(('A0N9'))
endfunction

function Func3453 takes nothing returns boolean
	return GetUnitAbilityLevel(GetFilterUnit(),'B06L')>0
endfunction

function Func3454 takes nothing returns nothing
	local real QWI=Func0140(GetEnumUnit(),GetSpellTargetLoc())
	if QWI<real002 then
		set unit002=GetEnumUnit()
		set real002=QWI
	endif
endfunction

function Func3455 takes nothing returns unit
	local group Z51=GetAvailableGroup()
	set unit002=null
	set real002=9999999
	call GroupEnumUnitsOfPlayer(Z51,GetOwningPlayer(GetTriggerUnit()),Condition(function Func3453))
	call ForGroup(Z51,function Func3454)
	set group027=Z51
	set Z51=null
	return unit002
endfunction

function Reality_KillOtherImages takes nothing returns nothing
	call KillUnit(GetEnumUnit())
endfunction

function Func3456 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=Func3455()
	local unit JXO=(LoadUnitHandle(HY,(GetHandleId(Hero)),(7100+GetHandleId(target))))
	local real QJI
	local real QKI
	if target==null then
		call Error(GetOwningPlayer(Hero),GetObjectName('n03Z'))
	else
		set QJI=GetUnitX(target)
		set QKI=GetUnitY(target)
		call KillUnit(target)
		call KillGroup(group027)
		set group027=null
		call SetUnitX(Hero,QJI)
		call SetUnitY(Hero,QKI)
		if Func0141(GetCameraEyePositionX(),GetCameraEyePositionY(),GetUnitX(target),GetUnitY(target))>1400 then
			call PanCameraToTimedForPlayer(GetOwningPlayer(Hero),QJI,QKI,0)
		endif
		call IssueTargetOrder(Hero,"attack",JXO)
	endif
	set Hero=null
	set target=null
endfunction

function Func3457 takes nothing returns boolean
	if GetSpellAbilityId()=='A0HA' then
		call Func3456()
	endif
	return false
endfunction

function Func3458 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func3457))
	set t=null
endfunction

function Func3459 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A30F')
	call UnitRemoveAbility(source,'A30W')
	call UnitRemoveAbility(source,'A30P')
	call UnitAddAbilityPermanent(source,'A30W')
	call SetUnitAbilityLevel(source,'A30W',lvl)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func3460 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A30F')
	call UnitRemoveAbility(source,'A30W')
	call UnitRemoveAbility(source,'A30H')
	call UnitAddAbilityPermanent(source,'A30P')
	call SetUnitAbilityLevel(source,'A30P',lvl)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,10,false)
	call TriggerAddCondition(t,Condition(function Func3459))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
	return false
endfunction

function Func3461 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A30F')
	call TriggerRegisterTimerEvent(t,6,false)
	call TriggerAddCondition(t,Condition(function Func3460))
	call SaveUnitHandle(HY,(h),(2),(source))
	call UnitRemoveAbility(source,'A30W')
	call UnitRemoveAbility(source,'A30P')
	call UnitAddAbilityPermanent(source,'A30H')
	call SetUnitAbilityLevel(source,'A30H',lvl)
	set t=null
	set source=null
endfunction

function Func3462 takes nothing returns boolean
	if GetSpellAbilityId()=='A30F' then
		call Func3461()
	endif
	return false
endfunction

function Func3463 takes nothing returns nothing
	local integer lvl=GetUnitAbilityLevel(GetTriggerUnit(),'A30F')
	call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A30H',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A30W',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A30P',false)
	call UnitAddAbilityPermanent(GetTriggerUnit(),'A30W')
	call SetUnitAbilityLevel(GetTriggerUnit(),'A30W',lvl)
endfunction

function Func3464 takes nothing returns boolean
	if GetLearnedSkill()=='A30F' and IsUnitIllusion(GetTriggerUnit())==false then
		call Func3463()
	endif
	return false
endfunction

function Func3465 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3464))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3462))
	set t=null
endfunction

function Func3466 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real LVO=(LoadReal(HY,(GetHandleId(source)),(685)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if LVO<GetTime()or GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call SaveReal(HY,(GetHandleId(source)),(685),((0)*1.0))
		call UnitRemoveAbility(source,'A24H')
		call UnitRemoveAbility(source,'B0EC')
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3467 takes unit source returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call UnitAddAbilityPermanent(source,'A24H')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A24H',false)
	call SaveReal(HY,(GetHandleId(source)),(685),((GetTime()+real361-0.01)*1.0))
	call TriggerRegisterTimerEvent(t,real361,false)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerAddCondition(t,Condition(function Func3466))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
endfunction

function Func3468 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local real x=GetUnitX(target)
	local real y=GetUnitY(target)
	local integer Count=GetTriggerEvalCount(t)
	local real RS2=(LoadReal(HY,(h),(193)))
	local integer MKO=(LoadInteger(HY,(h),(12)))
	if Count>35 then
		call SaveReal(HY,(h),(193),((RS2*0.98)*1.0))
	endif
	if GetTriggerEventId()==EVENT_UNIT_DEATH or Count>MKO then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",x,y))
		call KillTrees(x,y,150)
		set x=SafeX50(x+RS2*Cos(RM2))
		set y=SafeY50(y+RS2*Sin(RM2))
		if(IsPointInRegion(region006,((x)*1.0),((y)*1.0)))==false then
			call SetUnitX(target,x)
			call SetUnitY(target,y)
		endif
		if Count==1 and(LoadBoolean(HY,(h),(698)))==false then
			call IssueTargetOrder(source,"attack",target)
		endif
	endif
	set t=null
	set target=null
	return false
endfunction

function Func3469 takes unit source,unit target,boolean DL5,boolean DM5 returns nothing
	local trigger t
	local integer h
	local real RM2=Atan2(GetUnitY(target)-GetUnitY(source),GetUnitX(target)-GetUnitX(source))
	local integer lvl=GetUnitAbilityLevel(source,'A0G5')
	local unit caster
	if DL5 then
	endif
	if lvl>0 and GetUnitAbilityLevel(source,'BNdo')==0 then
		set caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
		call UnitAddAbilityPermanent(caster,'A1WQ')
		call SetUnitAbilityLevel(caster,'A1WQ',lvl)
		if IssueTargetOrder(caster,"thunderbolt",target)then
			set t=CreateTrigger()
			set h=GetHandleId(t)
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl",source,"weapon"))
			call SaveUnitHandle(HY,(h),(2),(source))
			call SaveUnitHandle(HY,(h),(17),(target))
			call SaveReal(HY,(h),(13),((RM2)*1.0))
			call SaveReal(HY,(h),(193),((2)*1.0))
			call SaveBoolean(HY,(h),(698),(DM5))
			call SaveInteger(HY,(h),(12),(80+20*lvl))
			call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
			call TriggerRegisterTimerEvent(t,0.01,true)
			call TriggerAddCondition(t,Condition(function Func3468))
			call DamageTarget(source,target,1,GetUnitMoveSpeed(source)*(0.16+0.06*lvl))
			call Func3467(source)
		endif
		if DM5==false then
			call AddTimedKeyToUnit(source,4276,1.5)
		endif
	endif
	set t=null
	set source=null
	set target=null
	set caster=null
endfunction

function Func3470 takes nothing returns boolean
	if GetUnitAbilityLevel(GetAttacker(),'A0G5')>0 and IsUnitIllusion(GetAttacker())==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(GetTriggerUnit())!='n00L' and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))and GetRandomInt(1,100)<=17 and((LoadInteger(HY,(GetHandleId((GetAttacker()))),((4276))))==1)==false then
		call Func3469(GetAttacker(),GetTriggerUnit(),false,false)
	endif
	return false
endfunction

function Func3471 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func3470))
	set t=null
endfunction

function Func3472 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call UnitRemoveAbility(source,'A312')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1P8',true)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func3473 takes unit source returns nothing
	local trigger t
	local integer h
	if IsDead(source) then
		call UnitRemoveAbility(source,'A312')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1P8',true)
	else
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterDeathEvent(t,source)
		call TriggerRegisterTimerEvent(t,12,false)
		call TriggerAddCondition(t,Condition(function Func3472))
		call SaveUnitHandle(HY,(h),(2),(source))
	endif
	set t=null
endfunction

function Func3474 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group028)==false then
		call GroupAddUnit(group028,GetEnumUnit())
		call Func3469(unit365,GetEnumUnit(),false,true)
	endif
endfunction

function Func3475 takes integer id returns boolean
	if id=='A1P8' or id=='A30F' or id=='A0G4' or id=='A1D8' or id=='A0G5' or id=='Aamk' then
		return true
	endif
	if id==852002 or id==852003 or id==852004 or id==852005 or id==852006 or id==852007 then
		return true
	endif
	if id>1000000 then
		return true
	endif
	return false
endfunction

function Func3476 takes nothing returns boolean
	if(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(unit365)) then
		if Func0139(unit366,GetFilterUnit())<real362 then
			set real362=Func0139(unit366,GetFilterUnit())
			set unit364=GetFilterUnit()
		endif
	endif
	return false
endfunction

function Func3477 takes unit source,unit target returns unit
	local group g=GetAvailableGroup()
	set tt_unit1=source
	set unit365=source
	set unit364=null
	set real362=999999
	set unit366=target
	call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),4000,Condition(function Func3476))
	call KillGroup(g)
	set g=null
	return unit364
endfunction

function Func3478 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real JC3=(550+50*lvl)*0.02
	local real II3=(LoadReal(HY,(h),(23)))
	local real I13=(LoadReal(HY,(h),(24)))
	local real x
	local real y
	local real a
	local real d
	local string fx
	local group g
	if(GetTriggerEventId()==EVENT_WIDGET_DEATH and GetTriggerUnit()==source)or GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER or Func0251(source)or(LoadReal(HY,(h),(442)))<GetTime()then
		if(GetTriggerEventId()!=EVENT_UNIT_ISSUED_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER)or((GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER)and Func3475(GetIssuedOrderId())==false)then
			call Func3473(source)
			call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
			call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
			call DestroyEffect((LoadEffectHandle(HY,(h),(177))))
			call UnitRemoveAbility(target,'A24L')
			call UnitRemoveAbility(target,'B0ED')
			call KillGroup((LoadGroupHandle(HY,(h),(187))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call SetUnitTimeScale(source,1)
			call KillUnit(caster)
			call SetUnitPathing(source,true)
			call SetUnitVertexColor(source,255,255,255,255)
			call UnitRemoveAbility(source,'A179')
			call KillTrees(GetUnitX(source),GetUnitY(source),200)
			if GetTriggerEventId()!=EVENT_WIDGET_DEATH then
				call ResetUnitAnimation(source)
			endif
		endif
	elseif GetTriggerEventId()==EVENT_WIDGET_DEATH and GetTriggerUnit()==target then
		set fx=""
		if IsPlayerAlly(LocalPlayer,GetOwningPlayer(source))or Func0100(LocalPlayer)then
			set fx="Abilities\\Spells\\Other\\HowlOfTerror\\HowlTarget.mdl"
		endif
		call UnitRemoveAbility(target,'A24L')
		call UnitRemoveAbility(target,'B0ED')
		set target=Func3477(source,target)
		if target!=null then
			call SaveUnitHandle(HY,(h),(17),(target))
			call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
			call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
			call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget(fx,target,"overhead")))
			call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget(fx,target,"overhead")))
			call SaveReal(HY,(h),(442),((GetTime()+50)*1.0))
			call TriggerRegisterDeathEvent(t,target)
		else
			call Func3473(source)
			call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
			call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
			call DestroyEffect((LoadEffectHandle(HY,(h),(177))))
			call UnitRemoveAbility(target,'A24L')
			call UnitRemoveAbility(target,'B0ED')
			call KillGroup((LoadGroupHandle(HY,(h),(187))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call SetUnitTimeScale(source,1)
			call KillUnit(caster)
			call SetUnitPathing(source,true)
			call ResetUnitAnimation(source)
			call SetUnitVertexColor(source,255,255,255,255)
			call UnitRemoveAbility(source,'A179')
			call SetUnitPosition(source,GetUnitX(source),GetUnitY(source))
			call KillTrees(GetUnitX(source),GetUnitY(source),500)
		endif
	else
		set d=Func0141(GetUnitX(source),GetUnitY(source),GetUnitX(target),GetUnitY(target))
		if d<100 then
			call Func3473(source)
			call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
			call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
			call DestroyEffect((LoadEffectHandle(HY,(h),(177))))
			call UnitRemoveAbility(target,'A24L')
			call UnitRemoveAbility(target,'B0ED')
			call KillGroup((LoadGroupHandle(HY,(h),(187))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call SetUnitTimeScale(source,1)
			call KillUnit(caster)
			set caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
			call UnitAddAbility(caster,'A0GS')
			call SetUnitAbilityLevel(caster,'A0GS',lvl)
			call IssueTargetOrder(caster,"thunderbolt",target)
			call SetUnitPathing(source,true)
			call SetUnitVertexColor(source,255,255,255,255)
			call UnitRemoveAbility(source,'A179')
			call SetUnitPosition(source,GetUnitX(source),GetUnitY(source))
			call KillTrees(GetUnitX(source),GetUnitY(source),200)
			set integer523=lvl
			call IssueTargetOrder(source,"attack",target)
		else
			if GetTriggerEvalCount(t)==1 then
				call DisableTrigger(t)
				call IssueImmediateOrder(source,"holdposition")
				call EnableTrigger(t)
			endif
			if ModuloInteger(GetTriggerEvalCount(t),65)==0 then
				if GetUnitTypeId(source)=='E02X' then
					call SetUnitAnimationByIndex(source,1)
				else
					call SetUnitAnimationByIndex(source,2)
				endif
			endif
			set a=Func0158(source,target)*bj_DEGTORAD
			call SetUnitFacing(source,a*bj_RADTODEG)
			set x=II3+JC3*Cos(a)
			set y=I13+JC3*Sin(a)
			call SetUnitX(source,x)
			call SetUnitY(source,y)
			call SetUnitX(caster,GetUnitX(target))
			call SetUnitY(caster,GetUnitY(target))
			call SaveReal(HY,(h),(23),((x)*1.0))
			call SaveReal(HY,(h),(24),((y)*1.0))
			set group028=(LoadGroupHandle(HY,(h),(187)))
			set g=GetAvailableGroup()
			set tt_unit1=source
			set unit365=source
			call GroupEnumUnitsInRange(g,x,y,325,Condition(function DefaultEnemyFilterWithAncients))
			set integer523=lvl
			call ForGroup(g,function Func3474)
			call KillGroup(g)
			set g=null
			if d<3000 and GetUnitAbilityLevel(target,'A24L')==0 then
			endif
		endif
	endif
	set t=null
	set source=null
	set target=null
	set caster=null
	return false
endfunction

function Func3479 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster=CreateUnit(GetOwningPlayer(source),'o00Q',GetUnitX(target),GetUnitY(target),0)
	local integer lvl=GetUnitAbilityLevel(source,'A1P8')
	local string fx=""
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1P8',false)
	call UnitAddAbilityPermanent(source,'A312')
	if IsPlayerAlly(LocalPlayer,GetOwningPlayer(source))or Func0100(LocalPlayer)then
		set fx="Abilities\\Spells\\Other\\HowlOfTerror\\HowlTarget.mdl"
		call PingMinimapEx(GetUnitX(target),GetUnitY(target),2,255,255,255,false)
	endif
	call IssueTargetOrder(source,"move",target)
	call SetUnitPathing(source,false)
	if GetUnitTypeId(source)=='E02X' then
		call SetUnitAnimationByIndex(source,1)
	else
		call SetUnitAnimationByIndex(source,2)
	endif
	call SetUnitTimeScale(source,2.5)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A179',false)
	call SetUnitVertexColor(source,255,255,255,100)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveReal(HY,(h),(442),((GetTime()+50)*1.0))
	call SaveReal(HY,(h),(23),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(24),((GetUnitY(source))*1.0))
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget(fx,target,"overhead")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget(fx,target,"overhead")))
	call SaveEffectHandle(HY,(h),(177),(AddSpecialEffectTarget("war3mapImported\\ShockwaveMissilePurple.mdx",source,"origin")))
	call SaveGroupHandle(HY,(h),(187),(GetAvailableGroup()))
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_ISSUED_ORDER)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_ISSUED_POINT_ORDER)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_ISSUED_TARGET_ORDER)
	call TriggerAddCondition(t,Condition(function Func3478))
	set t=null
	set source=null
	set target=null
	set caster=null
endfunction

function Func3480 takes nothing returns boolean
	if GetSpellAbilityId()=='A1P8' and IsBlocked(GetSpellTargetUnit())==false then
		call Func3479()
	endif
	return false
endfunction

function Func3481 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3480))
	set t=null
	call Func0125('A0X6')
endfunction

function Func3482 takes unit source,unit target returns nothing
	local trigger t
	local integer h
	local real RM2=Atan2(GetUnitY(target)-GetUnitY(source),GetUnitX(target)-GetUnitX(source))
	local integer lvl=4
	call Func3469(source,target,true,true)
	set t=null
endfunction

function Func3483 takes nothing returns nothing
	call Func3482(unit367,GetEnumUnit())
endfunction

function Func3484 takes unit source,unit Targer returns nothing
	local group g=GetAvailableGroup()
	set tt_unit1=source
	set unit367=source
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),275,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func3483)
	call KillGroup(g)
	set g=null
endfunction

function Func3485 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer Count=GetTriggerEvalCount(t)
	local integer E55
	local integer lvl
	local real RM2
	local real II3=(LoadReal(HY,(h),(23)))
	local real I13=(LoadReal(HY,(h),(24)))
	local real x=GetUnitX(target)
	local real y=GetUnitY(target)
	local real d=Func0141(x,y,II3,I13)
	call SaveReal(HY,(h),(23),((x)*1.0))
	call SaveReal(HY,(h),(24),((y)*1.0))
	if GetTriggerEventId()==EVENT_UNIT_DEATH or Count==200 or d>1800 then
		call SetUnitVertexColor(source,255,255,255,255)
		call UnitShareVision(target,GetOwningPlayer(source),false)
		call UnitRemoveAbility(source,'A179')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		if Count<100 then
			set E55=Count
		else
			set E55=200-Count
		endif
		call SetUnitVertexColor(source,255,255,255,255*(100-E55)/100)
		if Count==100 then
			set lvl=(LoadInteger(HY,(h),(5)))
			set RM2=Atan2(GetUnitY(target)-GetUnitY(source),GetUnitX(target)-GetUnitX(source))
			call SetUnitPosition(source,GetUnitX(target)+80*Cos(RM2),GetUnitY(target)+80*Sin(RM2))
			call SetUnitAnimation(source,"attack")
			call IssueTargetOrder(source,"attack",target)
			if GetUnitAbilityLevel(source,'A0G4')>0 then
				call Func3482(source,target)
			else
				call Func3484(source,target)
			endif
			call DamageTarget(source,target,1,50+100*lvl)
		endif
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3486 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A0G4')
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A1D8')
	endif
	call UnitShareVision(target,GetOwningPlayer(source),true)
	call IssueImmediateOrder(source,"halt")
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveReal(HY,(h),(23),((GetUnitX(target))*1.0))
	call SaveReal(HY,(h),(24),((GetUnitY(target))*1.0))
	call TriggerRegisterTimerEvent(t,0.001,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3485))
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A179',false)
	set t=null
	set source=null
	set target=null
endfunction

function Func3487 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call SetUnitAnimation(source,"spell morph")
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func3488 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call UnitShareVision(target,GetOwningPlayer(source),false)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3489 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	call SaveUnitHandle(HY,(h),(2),(source))
	call TriggerRegisterTimerEvent(t,0.,true)
	call TriggerAddCondition(t,Condition(function Func3487))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(GetSpellTargetUnit()))
	call TriggerRegisterTimerEvent(t,1.,true)
	call TriggerAddCondition(t,Condition(function Func3488))
	call UnitShareVision(GetSpellTargetUnit(),GetOwningPlayer(source),true)
	set t=null
	set source=null
endfunction

function Func3490 takes nothing returns boolean
	if GetSpellAbilityId()=='A0G4' or GetSpellAbilityId()=='A1D8' then
		if IsBlocked(GetSpellTargetUnit())==false then
			if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
				call Func3486()
			else
				call Func3489()
			endif
		endif
	endif
	return false
endfunction

function Func3491 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
	call TriggerAddCondition(t,Condition(function Func3490))
	set t=null
endfunction

function Func3492 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A275')
	if lvl==1 then
		call UnitAddAbilityPermanent(source,'A276')
	elseif lvl==2 then
		call UnitRemoveAbility(source,'A276')
		call UnitAddAbilityPermanent(source,'A279')
	elseif lvl==3 then
		call UnitRemoveAbility(source,'A276')
		call UnitRemoveAbility(source,'A279')
		call UnitAddAbilityPermanent(source,'A277')
	elseif lvl==4 then
		call UnitRemoveAbility(source,'A276')
		call UnitRemoveAbility(source,'A279')
		call UnitRemoveAbility(source,'A277')
		call UnitAddAbilityPermanent(source,'A278')
	endif
	set source=null
endfunction

function Func3493 takes nothing returns boolean
	if GetLearnedSkill()=='A275' and IsUnitIllusion(GetTriggerUnit())==false then
		call Func3492()
	endif
	return false
endfunction

function Func3494 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3493))
	set t=null
endfunction

function Sunder_SwitchConditions takes nothing returns boolean
	return GetSpellAbilityId()=='A07R'
endfunction

function Func3495 takes nothing returns nothing
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real EE5=(LoadReal(HY,(h),(295)))
	local real EF5=(LoadReal(HY,(h),(296)))
	local integer lvl=GetUnitAbilityLevel(source,'A07Q')
	local real EG5=0.2
	if GetSpellTargetUnit()==source then
		call SetUnitState(source,UNIT_STATE_LIFE,RMaxBJ(GetUnitState(source,UNIT_STATE_MAX_LIFE)*EF5*0.01,GetUnitState(source,UNIT_STATE_MAX_LIFE)*EG5))
	endif
	if GetSpellTargetUnit()==target then
		call SetUnitLifePercentBJ(target,EE5)
		if GetUnitLifePercent(target)<25.00 and lvl==1 and GetUnitState(target,UNIT_STATE_LIFE)>1 then
			call SetUnitLifePercentBJ(target,20.00)
		endif
		if GetUnitLifePercent(target)<20.00 and lvl==2 and GetUnitState(target,UNIT_STATE_LIFE)>1 then
			call SetUnitLifePercentBJ(target,20.00)
		endif
		if GetUnitLifePercent(target)<15.00 and lvl==3 and GetUnitState(target,UNIT_STATE_LIFE)>1 then
			call SetUnitLifePercentBJ(target,20.00)
		endif
	endif
	if GetTriggerEvalCount(t)==2 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set source=null
	set target=null
	set t=null
endfunction

function Func3496 takes nothing returns boolean
	if GetSpellAbilityId()=='A07R' then
		call Func3495()
	endif
	return false
endfunction

function Func3497 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(295),((GetUnitLifePercent(source))*1.0))
	call SaveReal(HY,(h),(296),((GetUnitLifePercent(target))*1.0))
	call TriggerAddCondition(t,Condition(function Func3496))
	set caster=CreateUnit(GetOwningPlayer(target),'e00Y',GetUnitX(target),GetUnitY(target),0)
	call TriggerRegisterUnitEvent(t,caster,EVENT_UNIT_SPELL_EFFECT)
	call UnitAddAbilityPermanent(caster,'A07R')
	call IssueTargetOrder(caster,"thunderbolt",source)
	call ShowUnit(caster,false)
	call SetUnitPathing(caster,false)
	call SetUnitInvulnerable(caster,true)
	call UnitApplyTimedLife(caster,'BTLF',0.2)
	set caster=CreateUnit(GetOwningPlayer(source),'e00Y',GetUnitX(source),GetUnitY(source),0)
	call TriggerRegisterUnitEvent(t,caster,EVENT_UNIT_SPELL_EFFECT)
	call UnitAddAbilityPermanent(caster,'A07R')
	call IssueTargetOrder(caster,"thunderbolt",target)
	call ShowUnit(caster,false)
	call SetUnitPathing(caster,false)
	call SetUnitInvulnerable(caster,true)
	call UnitApplyTimedLife(caster,'BTLF',0.2)
	set t=null
	set source=null
	set target=null
	set caster=null
endfunction

function Func3498 takes nothing returns boolean
	if GetSpellAbilityId()=='A07Q' then
		call Func3497()
	endif
	return false
endfunction

function Func3499 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3498))
endfunction

function Func3500 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit IYO=(LoadUnitHandle(HY,(h),(335)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call UnitRemoveAbility(target,'A26W')
		call UnitRemoveAbility(target,'B0EJ')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if GetTriggerUnit()!=IYO then
			call KillUnit(IYO)
		endif
	else
		call IssueTargetOrder(IYO,"attack",target)
		if Func0091(target)then
			call UnitRemoveAbility(target,'A26W')
			call UnitRemoveAbility(target,'B0EJ')
		endif
	endif
	set t=null
	set IYO=null
	set target=null
	return false
endfunction

function Func3501 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local unit IYO
	if GetSummoningUnit()==caster then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		set IYO=GetSummonedUnit()
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterDeathEvent(t,IYO)
		call TriggerRegisterDeathEvent(t,target)
		call TriggerRegisterTimerEvent(t,0.2,true)
		call TriggerAddCondition(t,Condition(function Func3500))
		call SaveUnitHandle(HY,(h),(335),(IYO))
		call SaveUnitHandle(HY,(h),(17),(target))
		call UnitAddAbility(IYO,'Aloc')
		call SetUnitPosition(IYO,GetUnitX(target)+100,GetUnitY(target)+100)
		call IssueTargetOrder(IYO,"attack",target)
		call SetUnitMoveSpeed(IYO,522)
		call SetUnitVertexColorBJ(IYO,100,100,100,60)
	endif
	set t=null
	set target=null
	set source=null
	set caster=null
	return false
endfunction

function Func3502 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2KZ')
	local integer id
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
	local trigger t
	local integer h
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A26W',false)
	if Func0255(target)==false then
		call Func0228(target,'A26W',1,1.5+lvl,'B0EJ')
	endif
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func3501))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call UnitAddAbilityPermanent(caster,'A24K')
	call SetUnitAbilityLevel(caster,'A24K',lvl)
	call IssueTargetOrderById(caster,ORDER_wandillusion,target)
	set source=null
	set target=null
	set caster=null
	set t=null
	call Func0174(sound068,GetUnitX(target),GetUnitY(target))
	set source=null
endfunction

function Func3503 takes nothing returns boolean
	if GetSpellAbilityId()=='A2KZ' then
		call Func3502()
	endif
	return false
endfunction

function Func3504 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3503))
	set t=null
endfunction

function Func3505 takes nothing returns nothing
	local unit source=GetSummoningUnit()
	local unit IYO=GetSummonedUnit()
	call SelectUnitAddForPlayer(IYO,GetOwningPlayer(source))
	call UnitAddAbility(IYO,'A2KY')
	call UnitRemoveAbility(IYO,'A2KY')
	call SetUnitState(IYO,UNIT_STATE_LIFE,GetUnitState(IYO,UNIT_STATE_MAX_LIFE))
	call SetUnitPosition(IYO,GetUnitX(IYO),GetUnitY(IYO))
	set source=null
	set IYO=null
endfunction

function Func3506 takes nothing returns boolean
	if GetUnitAbilityLevel(GetSummonedUnit(),'B0EI')>0 then
		call Func3505()
	endif
	return false
endfunction

function Func3507 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit caster
	local integer lvl=GetUnitAbilityLevel(source,'A2KX')
	set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
	call UnitAddAbilityPermanent(caster,'A08Q')
	call SetUnitAbilityLevel(caster,'A08Q',lvl)
	call IssueTargetOrderById(caster,ORDER_wandillusion,source)
	set source=null
	set caster=null
endfunction

function Func3508 takes nothing returns boolean
	if GetSpellAbilityId()=='A2KX' and GetUnitTypeId(GetTriggerUnit())=='Eevi' then
		call Func3507()
	endif
	return false
endfunction

function Func3509 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3508))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func3506))
	set t=null
endfunction

function Func3510 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>(4*(4+lvl))or Func0091(target)or Func0139(source,target)>700 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillUnit(caster)
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetTriggerEvalCount(t)>1 and GetSpellAbilityId()=='A1RA' then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call UnitRemoveAbility(source,'A1RA')
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1PH',true)
			call KillUnit(caster)
		endif
	elseif IsUnitVisible(target,GetOwningPlayer(source))==false then
		if(LoadInteger(HY,(h),(34)))==1 then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call KillUnit(caster)
		else
			call SaveInteger(HY,(h),(34),(1))
		endif
	else
		call SaveInteger(HY,(h),(34),(0))
		if IsUnitAlly(source,GetOwningPlayer(target))==false then
			call SetUnitState(source,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_LIFE)+lvl*25.0/4.0)
		else
			call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)+lvl*50.0/4.0)
		endif
	endif
	set t=null
	set source=null
	set target=null
	set caster=null
	return false
endfunction

function Func3511 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call UnitRemoveAbility(source,'A1RA')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1PH',true)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		if GetTriggerEvalCount(t)==1 then
			call IssueImmediateOrderById(source,851993)
		endif
		if IsUnitAlly(source,GetOwningPlayer(target))==false then
			call SetUnitX(caster,GetUnitX(source))
			call SetUnitY(caster,GetUnitY(source))
		else
			call SetUnitX(caster,GetUnitX(target))
			call SetUnitY(caster,GetUnitY(target))
		endif
	endif
	set t=null
	set source=null
	set target=null
	set caster=null
	return false
endfunction

function Func3512 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A1PH')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit caster
	if IsUnitAlly(source,GetOwningPlayer(target))==false then
		set caster=CreateUnit(GetOwningPlayer(source),'u01G',0,0,0)
		call UnitAddAbilityPermanent(caster,'A04L')
		call SetUnitAbilityLevel(caster,'A04L',lvl)
		call SetUnitX(caster,GetUnitX(source))
		call SetUnitY(caster,GetUnitY(source))
		call IssueTargetOrderById(caster,852487,target)
	else
		call UnitAddAbilityPermanent(source,'A1RA')
		call UnitMakeAbilityPermanent(source,true,'A1RA')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1PH',false)
		set caster=CreateUnit(Neutrals,'u01G',0,0,0)
		call UnitAddAbilityPermanent(caster,'A04L')
		call SetUnitAbilityLevel(caster,'A04L',lvl)
		call SetUnitX(caster,GetUnitX(target))
		call SetUnitY(caster,GetUnitY(target))
		call IssueTargetOrderById(caster,852487,source)
	endif
	call TriggerRegisterTimerEvent(t,0.25,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3510))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(34),(0))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.01,true)
	call TriggerRegisterUnitEvent(t,caster,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3511))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(19),(caster))
	set source=null
	set target=null
	set t=null
endfunction

function Func3513 takes nothing returns boolean
	if GetSpellAbilityId()=='A1PH' and GetUnitTypeId(GetSpellTargetUnit())!='n00L' and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or IsBlocked(GetSpellTargetUnit())==false)then
		call Func3512()
	endif
	return false
endfunction

function Func3514 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3513))
endfunction

function Func3515 takes nothing returns boolean
	return GetSpellAbilityId()=='A0H4'
endfunction

function Func3516 takes nothing returns nothing
	local unit PKI=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(PKI,'A0H4')
	local unit caster=CreateUnit(GetOwningPlayer(PKI),'e00E',GetUnitX(PKI),GetUnitY(PKI),0)
	call UnitAddAbility(caster,'A2JN')
	call SetUnitAbilityLevel(caster,'A2JN',lvl)
	call IssueTargetOrderById(caster,ORDER_wandillusion,PKI)
endfunction

function Func3517 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3515))
	call TriggerAddAction(t,function Func3516)
endfunction

function Func3518 takes nothing returns boolean
	return GetSpellAbilityId()=='A046' and IsBlocked(GetSpellTargetUnit())==false
endfunction

function Func3519 takes nothing returns nothing
	local unit t=GetSpellTargetUnit()
	local real F15=(60.00+(50.00*I2R(GetUnitAbilityLevelSwapped('A046',GetTriggerUnit()))))
	call UnitDamageTargetBJ(GetTriggerUnit(),t,F15,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_COLD)
	call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",t,"chest"))
endfunction

function Func3520 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3518))
	call TriggerAddAction(t,function Func3519)
endfunction

function Func3521 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=GetEventDamageSource()
	local integer lvl=GetUnitAbilityLevel(source,'A04E')
	local real d=GetEventDamage()
	local real QHI=(LoadReal(HY,(h),(412)))
	local real time=(LoadReal(HY,(h),(411)))
	local real F25=650-50*lvl
	if Func0053(GetOwningPlayer(target))then
		if(time+real363)<GetTime()then
			set QHI=0
		endif
		set time=GetTime()
		set QHI=QHI+d
		if QHI>F25 and GetUnitAbilityLevel(source,'BNdo')==0 then
			set QHI=0
			call RemoveDispellableBuffs(source)
			call SetNapalmFactory(source,0,0)
			call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",source,"origin"))
		endif
		call SaveReal(HY,(h),(412),((QHI)*1.0))
		call SaveReal(HY,(h),(411),((time)*1.0))
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3522 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func3521))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(412),((0)*1.0))
	call SaveReal(HY,(h),(411),((GetTime())*1.0))
	set t=null
	set source=null
endfunction

function Func3523 takes nothing returns boolean
	if GetLearnedSkill()=='A04E' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A04E')==1 then
		call Func3522()
	endif
	return false
endfunction

function Func3524 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3523))
	set t=null
endfunction

function Func3525 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local group g=(LoadGroupHandle(HY,(h),(22)))
	call KillGroup(g)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set g=null
	return false
endfunction

function Func3526 takes group g returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveGroupHandle(HY,(h),(22),(g))
	call TriggerRegisterTimerEvent(t,10,false)
	call TriggerAddCondition(t,Condition(function Func3525))
	set t=null
endfunction

function Func3527 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit caster
	local integer i=1
	local real x1=GetUnitX(Hero)
	local real y1=GetUnitY(Hero)
	local real x2
	local real y2
	local real dmg
	local real DC1
	local integer lvl=GetUnitAbilityLevel(Hero,'A29I')
	local group g=GetAvailableGroup()
	local real d=500
	if lvl==1 then
		set DC1=1.5
		set dmg=200
	elseif lvl==2 then
		set DC1=1.8
		set dmg=290
	elseif lvl==3 then
		set DC1=2.25
		set dmg=380
	endif
	loop
		exitwhen i>16
		set x2=x1+(800)*Cos(22.5*i*bj_DEGTORAD)
		set y2=y1+(800)*Sin(22.5*i*bj_DEGTORAD)
		call Func0319(Hero,null,dmg,DC1,0.52,x1,y1,x2,y2,250,g,false,775)
		set i=i+1
	endloop
	call Func3526(g)
	set Hero=null
	set caster=null
	set g=null
endfunction

function Func3528 takes nothing returns boolean
	if GetSpellAbilityId()=='A29I' then
		call Func3527()
	endif
	return false
endfunction

function Func3529 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3528))
	call Func0125('A0X6')
	set t=null
endfunction

function Func3530 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real LVO=(LoadReal(HY,(GetHandleId(target)),(715)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or LVO<GetTime()then
		call UnitRemoveAbility(target,'A228')
		call UnitRemoveAbility(target,'A2Y7')
		call UnitRemoveAbility(target,'A2Y6')
		call UnitRemoveAbility(target,'A2Y5')
		call UnitRemoveAbility(target,'B0HA')
		call UnitRemoveAbility(target,'B0E8')
		call UnitRemoveAbility(target,'B0HB')
		call UnitRemoveAbility(target,'B0H9')
	endif
	set t=null
	set target=null
	return false
endfunction

function Func3531 takes unit target returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(unit368,'A226')
	if lvl==1 then
		call UnitAddAbilityPermanent(target,'A228')
	elseif lvl==2 then
		call UnitAddAbilityPermanent(target,'A2Y7')
	elseif lvl==3 then
		call UnitAddAbilityPermanent(target,'A2Y6')
	elseif lvl==4 then
		call UnitAddAbilityPermanent(target,'A2Y5')
	endif
	call TriggerRegisterDeathEvent(t,target)
	call TriggerRegisterTimerEvent(t,6,false)
	call TriggerAddCondition(t,Condition(function Func3530))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(GetHandleId(target)),(715),((5.9+GetTime())*1.0))
	set t=null
endfunction

function Func3532 takes nothing returns nothing
	if GetUnitTypeId(GetEnumUnit())=='n00L' then
		return
	endif
	if Func0255(GetEnumUnit())==false then
		call Func3531(GetEnumUnit())
	endif
	call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A228',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A2Y7',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A2Y6',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A2Y5',false)
	call DamageTarget(unit368,GetEnumUnit(),2,25+50*integer524)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl",GetEnumUnit(),"chest"))
endfunction

function Func3533 takes nothing returns nothing
	local group g=GetAvailableGroup()
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A226')
	set tt_unit1=source
	set integer524=lvl
	set unit368=source
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),375+25,Condition(function Func0283))
	call ForGroup(g,function Func3532)
	call KillGroup(g)
	set g=null
	set source=null
endfunction

function Func3534 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call SetUnitTimeScale(source,1)
	set t=null
	set source=null
	return false
endfunction

function Func3535 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	call TriggerRegisterTimerEvent(t,0.3,false)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerAddCondition(t,Condition(function Func3534))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SetUnitTimeScale(source,2)
	set t=null
	set source=null
endfunction

function Func3536 takes nothing returns boolean
	if GetSpellAbilityId()=='A226' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
			call Func3533()
		else
			call Func3535()
		endif
	endif
	return false
endfunction

function Func3537 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func3536))
	set t=null
endfunction

constant function Healing_RawCode takes nothing returns integer
	return 'A0OR'
endfunction

function Func3538 takes nothing returns boolean
	return GetSpellAbilityId()==('A0OR')
endfunction

function Func3539 takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(unit002))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0
endfunction

function Func3540 takes nothing returns nothing
	call DamageTarget(unit002,GetEnumUnit(),2,real002)
endfunction

function Func3541 takes unit source,unit target,real dmg returns nothing
	local group Z51=GetAvailableGroup()
	local boolexpr QL1=Condition(function Func3539)
	set unit002=source
	set real002=dmg
	call GroupEnumUnitsInRange(Z51,GetUnitX(target),GetUnitY(target),185+25,QL1)
	call ForGroup(Z51,function Func3540)
	call KillGroup(Z51)
endfunction

function Func3542 takes nothing returns boolean
	return IsUnitInGroup(GetFilterUnit(),group001)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsDead(GetFilterUnit())==false and GetFilterUnit()!=unit369
endfunction

function Func3543 takes group FY5,unit FJ5,unit source,unit OriginalTargetreturns returns unit
	local group Z51=GetAvailableGroup()
	local boolexpr QL1=Condition(function Func3542)
	local unit FK5=null
	local unit FL5
	set group001=FY5
	set unit002=source
	call GroupEnumUnitsInRange(Z51,GetUnitX(FJ5),GetUnitY(FJ5),500,QL1)
	set FL5=FirstOfGroup(Z51)
	set FK5=FL5
	loop
		exitwhen FL5==null
		if GetUnitState(FL5,UNIT_STATE_LIFE)!=GetUnitState(FL5,UNIT_STATE_MAX_LIFE)then
			if FL5!=source and IsUnitType(FL5,UNIT_TYPE_HERO) and IsUnitType(FK5,UNIT_TYPE_HERO)==false then
				set FK5=FL5
			elseif FL5!=source and GetUnitState(FL5,UNIT_STATE_LIFE)<GetUnitState(FK5,UNIT_STATE_LIFE)and IsUnitType(FL5,UNIT_TYPE_HERO) and IsUnitType(FK5,UNIT_TYPE_HERO) then
				set FK5=FL5
			elseif FL5!=source and IsUnitType(FK5,UNIT_TYPE_HERO)==false and GetUnitState(FL5,UNIT_STATE_LIFE)<GetUnitState(FK5,UNIT_STATE_LIFE)then
				set FK5=FL5
			elseif FL5==source then
				set FK5=FL5
			endif
		endif
		call GroupRemoveUnit(Z51,FL5)
		set FL5=FirstOfGroup(Z51)
	endloop
	call KillGroup(Z51)
	return FK5
endfunction

function Func3544 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local string FN5="Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCaster.mdl"
	local string FS5="origin"
	local unit array FT5
	local integer x
	local integer i=1
	local integer lvl=GetUnitAbilityLevel(Hero,('A0OR'))
	local real dmg=60+lvl*20
	local group FY5=GetAvailableGroup()
	local integer FR5
	local boolean FP5=false
	set unit369=Hero
	if lvl==1 then
		set FR5=3
	elseif lvl==2 then
		set FR5=4
	elseif lvl==3 then
		set FR5=5
	elseif lvl==4 then
		set FR5=6
	endif
	call SetUnitState(Hero,UNIT_STATE_LIFE,GetUnitState(Hero,UNIT_STATE_LIFE)+dmg)
	call Func3541(Hero,Hero,dmg)
	call GroupAddUnit(FY5,Hero)
	call Func0152(FN5,Hero,FS5,2)
	if target==Hero then
		set FT5[i]=Func3543(FY5,Hero,Hero,target)
	else
		set FT5[i]=target
	endif
	if FT5[i]==null then
		call KillGroup(FY5)
		return
	endif
	call SetUnitState(FT5[i],UNIT_STATE_LIFE,GetUnitState(FT5[i],UNIT_STATE_LIFE)+dmg)
	call Func3541(Hero,FT5[i],dmg)
	call GroupAddUnit(FY5,FT5[i])
	call Func0152(FN5,FT5[i],FS5,2)
	call Func0161("SPLK",GetUnitX(Hero),GetUnitY(Hero),GetUnitX(FT5[i]),GetUnitY(FT5[i]),0.3,0.5,0.9,1,0.7)
	set i=2
	loop
		exitwhen i>FR5 or FP5
		set FT5[i]=Func3543(FY5,FT5[i-1],Hero,target)
		if FT5[i]==null then
			set FP5=true
		else
			call GroupAddUnit(FY5,FT5[i])
			call Func0152(FN5,FT5[i],FS5,2)
			call SetUnitState(FT5[i],UNIT_STATE_LIFE,GetUnitState(FT5[i],UNIT_STATE_LIFE)+dmg)
			call Func3541(Hero,FT5[i],dmg)
			call Func0161("SPLK",GetUnitX(FT5[i-1]),GetUnitY(FT5[i-1]),GetUnitX(FT5[i]),GetUnitY(FT5[i]),0.3,0.5,0.9,1,0.7)
			set i=i+1
		endif
	endloop
	call KillGroup(FY5)
endfunction

function Func3545 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3538))
	call TriggerAddAction(t,function Func3544)
endfunction

constant function BlowDart_RawCode takes nothing returns integer
	return 'A2X6'
endfunction

constant function BlowDart_SlowCode takes nothing returns integer
	return 'A0NJ'
endfunction

constant function BlowDart_StunCode takes nothing returns integer
	return 'A0NK'
endfunction

constant function BlowDart_IconCode takes nothing returns integer
	return 'A0OW'
endfunction

function Func3546 takes nothing returns boolean
	return GetSpellAbilityId()==('A2X6')and IsBlocked(GetSpellTargetUnit())==false
endfunction

function Func3547 takes unit source,unit target,integer lvl returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbilityPermanent(caster,('A0NJ'))
	call SetUnitAbilityLevel(caster,('A0NJ'),lvl)
	call IssueTargetOrder(caster,"slow",target)
endfunction

function Func3548 takes nothing returns nothing
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,('A2X6'))
	local integer KO2=GetTriggerExecCount(t)
	local real dmg=8+6*lvl
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	if lvl==1 then
		call UnitAddAbilityPermanent(target,('A0OW'))
		if KO2==1 then
			call Func3547(source,target,1)
		endif
		if KO2==2 then
			call Func3547(source,target,1)
		endif
		if KO2>2 then
			call DamageTarget(caster,target,2,dmg)
		endif
		if KO2==8 then
			call UnitRemoveAbility(target,('A0OW'))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	endif
	if lvl==2 then
		call UnitAddAbilityPermanent(target,('A0OW'))
		if KO2==1 then
			call Func3547(source,target,1)
		endif
		if KO2==2 then
			call Func3547(source,target,2)
		endif
		if KO2>2 then
			call DamageTarget(caster,target,2,dmg)
		endif
		if KO2==8 then
			call UnitRemoveAbility(target,('A0OW'))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	endif
	if lvl==3 then
		call UnitAddAbilityPermanent(target,('A0OW'))
		if KO2==1 then
			call Func3547(source,target,2)
		endif
		if KO2==2 then
			call Func3547(source,target,3)
		endif
		if KO2>2 then
			call DamageTarget(caster,target,2,dmg)
		endif
		if KO2==8 then
			call UnitRemoveAbility(target,('A0OW'))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	endif
	if lvl==4 then
		call UnitAddAbilityPermanent(target,('A0OW'))
		if KO2==1 then
			call Func3547(source,target,2)
		endif
		if KO2==2 then
			call StunTargetIF(source,target,1.0)
		endif
		if KO2>2 then
			call DamageTarget(caster,target,2,dmg)
		endif
		if KO2==8 then
			call UnitRemoveAbility(target,('A0OW'))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	endif
	set caster=null
endfunction

function Func3549 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=tt_unit1
	local unit target=tt_unit2
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddAction(t,function Func3548)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call Func3547(source,target,1)
	set caster=null
endfunction

function Func3550 takes nothing returns nothing
	local trigger t=AddProjectile(GetTriggerUnit(),GetSpellTargetUnit(),'h0EQ',"Func3549",1300,true)
	local integer h=GetHandleId(t)
	set t=null
endfunction

function Func3551 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3546))
	call TriggerAddAction(t,function Func3550)
	call Func0125(('A0NJ'))
	call Func0125(('A0NK'))
endfunction

function Func3552 takes nothing returns nothing
	local unit target=GetEnumUnit()
	if IsDead(target)==false then
		call UnitRemoveAbility(target,'A0NU')
		call UnitRemoveAbility(target,'A0NW')
	elseif IsUnitType(target,UNIT_TYPE_HERO) then
		call Func0200(target,'A0NU',5.1)
		call Func0200(target,'A0NW',5.1)
	endif
	set target=null
endfunction

function Func3553 takes nothing returns nothing
	local unit target=GetEnumUnit()
	if IsDead(target)==false then
		if IsUnitAlly(target,player005)==false then
			if integer022==0 then
				call UnitAddAbilityPermanent(target,'A0NU')
			else
				call SetUnitAbilityLevel(target,'A0NU',R2I(real364*(integer022+1)))
			endif
		else
			if integer022==0 then
				call UnitAddAbilityPermanent(target,'A0NW')
			else
				call SetUnitAbilityLevel(target,'A0NW',R2I(real364*(integer022+1)))
			endif
		endif
	endif
	set target=null
endfunction

function Func3554 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local group g=(LoadGroupHandle(HY,(h),(22)))
	local player p=(LoadPlayerHandle(HY,(h),(54)))
	local integer Count=GetTriggerEvalCount(t)
	local integer DC1=(LoadInteger(HY,(h),(188)))
	local real G45=(LoadReal(HY,(h),(68)))
	set real364=G45
	set player005=p
	set integer022=Count
	if Count>=DC1/1.0 then
		call ForGroup(g,function Func3552)
		call KillGroup(g)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call ForGroup(g,function Func3553)
	endif
	set t=null
	set g=null
	set p=null
	return false
endfunction

function Func3555 takes nothing returns nothing
	call Func0152(string027,GetEnumUnit(),"chest",3)
	call Func0152(string027,GetEnumUnit(),"chest",3)
	call Func0152(string027,GetEnumUnit(),"right hand",3)
	call Func0152(string027,GetEnumUnit(),"left hand",3)
endfunction

function Func3556 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local group g=GetAvailableGroup()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(Hero,'A10Q')
	local integer DC1=24
	local real G45=0.5+0.25*lvl
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'h007',x,y,0)
	local integer a=0
	local boolean CK3=false
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(Hero,'A1DB')
		set DC1=24
		set G45=1.0+0.25*lvl
		set CK3=true
	endif
	call RemoveLocation(l)
	set string027=""
	set integer022=DC1
	set a=255
	set string027="Abilities\\Weapons\\AvengerMissile\\AvengerMissile.mdl"
	call SetUnitVertexColor(caster,255,255,255,a)
	call UnitApplyTimedLife(caster,'BTLF',5)
	if CK3 then
		call GroupEnumUnitsInRange(g,x,y,800,Condition(function Func0307))
	else
		call GroupEnumUnitsInRange(g,x,y,600,Condition(function Func0307))
	endif
	call ForGroup(g,function Func3555)
	call SaveGroupHandle(HY,(h),(22),(g))
	call SavePlayerHandle(HY,(h),(54),(GetOwningPlayer(Hero)))
	call SaveInteger(HY,(h),(188),(DC1))
	call SaveReal(HY,(h),(68),((G45)*1.0))
	call TriggerRegisterTimerEvent(t,1.0,true)
	call TriggerAddCondition(t,Condition(function Func3554))
	call TriggerEvaluate(t)
	set Hero=null
	set l=null
	set g=null
	set t=null
endfunction

function Func3557 takes nothing returns boolean
	if GetSpellAbilityId()=='A10Q' or GetSpellAbilityId()=='A1DB' then
		call Func3556()
	endif
	return false
endfunction

function Func3558 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3557))
	call Func0125('A0NU')
	call Func0125('A0NW')
	set t=null
endfunction

function Func3559 takes string UWI,unit target,unit Hero returns nothing
	local texttag tt=CreateTextTag()
	call SetTextTagText(tt,UWI,0.033)
	call SetTextTagPosUnit(tt,target,64)
	call SetTextTagColor(tt,160,0,255,255)
	call SetTextTagVelocity(tt,0,0.0355)
	call SetTextTagFadepoint(tt,0.15)
	call SetTextTagPermanent(tt,false)
	call SetTextTagLifespan(tt,0.65)
	if IsUnitAlly(Hero,LocalPlayer)or Func0100(LocalPlayer)then
		call SetTextTagVisibility(tt,true)
	else
		call SetTextTagVisibility(tt,false)
	endif
	set tt=null
endfunction

function Func3560 takes real DC1 returns string
	if DC1>4.5 then
		return"5.0"
	elseif DC1>4.0 then
		return"4.5"
	elseif DC1>3.5 then
		return"4.0"
	elseif DC1>3.0 then
		return"3.5"
	elseif DC1>2.5 then
		return"3.0"
	elseif DC1>2.0 then
		return"2.5"
	elseif DC1>1.5 then
		return"2.0"
	elseif DC1>1.0 then
		return"1.5"
	elseif DC1>0.5 then
		return"1.0"
	elseif DC1>0.0 then
		return"0.5"
	else
		return"0.0"
	endif
	return" "
endfunction

function Func3561 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer Count=GetTriggerEvalCount(t)
	if Count>11 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call Func3559(Func3560(5.5-0.5*Count),target,target)
	endif
	set t=null
	set target=null
	return false
endfunction

function Func3562 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real dmg=(LoadReal(HY,(h),(20)))
	local real GC5=Func0134(GetUnitState(target,UNIT_STATE_LIFE)-dmg,1)
	local real GD5=(LoadReal(HY,(GetHandleId(target)),(243)))
	call SetUnitState(target,UNIT_STATE_LIFE,GC5)
	call SaveReal(HY,(GetHandleId(target)),(243),((GD5-dmg)*1.0))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set target=null
	return false
endfunction

function Func3563 takes unit target,real dmg returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real GD5=(LoadReal(HY,(GetHandleId(target)),(243)))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(20),((dmg)*1.0))
	call SaveReal(HY,(GetHandleId(target)),(243),((GD5+dmg)*1.0))
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func3562))
	set t=null
endfunction

function Func3564 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target
	local real D14
	local real dmg
	local integer Count=GetTriggerEvalCount(t)
	local real GD5
	local real GG5=(LoadReal(HY,(h),(389)))
	local real GH5=(LoadReal(HY,(h),(390)))
	if GG5!=GetTime()then
		set GG5=GetTime()
		set GH5=0
		call SaveReal(HY,(h),(389),((GG5)*1.0))
		call SaveReal(HY,(h),(390),((GH5)*1.0))
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		set target=GetTriggerUnit()
		set GD5=(LoadReal(HY,(GetHandleId(target)),(243)))
		set D14=GetUnitState(target,UNIT_STATE_LIFE)
		set dmg=GetEventDamage()
		if((D14-GD5-GH5)-dmg)<1 then
			call SetUnitState(target,UNIT_STATE_LIFE,D14+dmg+GH5)
			call Func3563(target,dmg)
		else
			set GH5=GH5+dmg
			call SaveReal(HY,(h),(390),((GH5)*1.0))
		endif
	else
		call SaveInteger(HY,(GetHandleId(((LoadUnitHandle(HY,(h),(17)))))),((2485)),(2))
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call UnitRemoveAbility((LoadUnitHandle(HY,(h),(17))),'A21I')
		call UnitRemoveAbility((LoadUnitHandle(HY,(h),(17))),'B07D')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set target=null
	set t=null
	return false
endfunction

function Func3565 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	call UnitAddAbilityPermanent(target,'A21I')
	call TriggerRegisterTimerEvent(t,5,false)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func3564))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\DarkHands.mdx",target,"overhead")))
	call SaveReal(HY,(GetHandleId(target)),(243),((0)*1.0))
	call SaveReal(HY,(h),(389),((GetTime())*1.0))
	call SaveReal(HY,(h),(390),((0)*1.0))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(GetHandleId((target))),((2485)),(1))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func3561))
	call SaveUnitHandle(HY,(h),(17),(target))
	set t=null
	set source=null
	set target=null
endfunction

function Func3566 takes nothing returns boolean
	if GetSpellAbilityId()=='A10L' then
		call Func3565()
	endif
	return false
endfunction

function Func3567 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3566))
	set t=null
endfunction

function Func3568 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	if GetTriggerEvalCount(t)>5 or GetUnitAbilityLevel(target,'B0AQ')==0 or GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call CleanTrigger(t)
		call FlushChildHashtable(HY,(h))
	else
		call DamageTarget(source,target,1,30*lvl-30)
		call Func0163(I2S(30*lvl-30),3,target,0.025,160,255,0,230)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3569 takes unit source,unit target,integer lvl returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	local trigger t
	local integer h
	call UnitAddAbilityPermanent(caster,'A17N')
	call SetUnitAbilityLevel(caster,'A17N',lvl)
	if IssueTargetOrder(caster,"shadowstrike",target)then
		call DamageTarget(source,target,1,25*lvl)
		call Func0163(I2S(25*lvl)+"!",3,target,0.025,160,255,0,230)
		if lvl>1 then
			set t=CreateTrigger()
			set h=GetHandleId(t)
			call TriggerRegisterTimerEvent(t,3,true)
			call TriggerRegisterDeathEvent(t,target)
			call TriggerAddCondition(t,Condition(function Func3568))
			call SaveUnitHandle(HY,(h),(2),(source))
			call SaveUnitHandle(HY,(h),(17),(target))
			call SaveInteger(HY,(h),(5),(lvl))
			set t=null
		endif
	endif
	set caster=null
endfunction

function Func3570 takes nothing returns nothing
	local unit target=GetEnumUnit()
	if IsUnitInGroup(target,group002)==false then
		call Func3569(unit370,target,integer525)
		call GroupAddUnit(group002,target)
	endif
	set target=null
endfunction

function Func3571 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local group g=(LoadGroupHandle(HY,(h),(22)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local group H03
	local real x
	local real y
	local real GK5
	local real GL5
	local real RS2=30
	local unit GM5
	set integer525=lvl
	if GetTriggerEvalCount(t)>28 then
		call KillGroup(g)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call ShowUnit(caster,false)
		call KillUnit(caster)
	else
		set x=GetUnitX(caster)
		set y=GetUnitY(caster)
		set H03=GetAvailableGroup()
		set group002=g
		set tt_unit1=Hero
		set unit370=Hero
		call GroupEnumUnitsInRange(H03,x,y,150,Condition(function Func0283))
		call ForGroup(H03,function Func3570)
		call KillGroup(H03)
		set GK5=SafeX50(x+RS2*Cos(RM2*bj_DEGTORAD))
		set GL5=SafeY50(y+RS2*Sin(RM2*bj_DEGTORAD))
		call SetUnitX(caster,GK5)
		call SetUnitY(caster,GL5)
		if ModuloInteger(GetTriggerEvalCount(t),3)==0 then
			set GM5=CreateUnit(GetOwningPlayer(caster),'o01W',GK5,GL5,0)
			call KillUnit(GM5)
			set GM5=null
		endif
	endif
	set t=null
	set g=null
	set H03=null
	set caster=null
	set Hero=null
	return false
endfunction

function Func3572 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local group g=GetAvailableGroup()
	local unit Hero=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x1=GetUnitX(Hero)
	local real y1=GetUnitY(Hero)
	local real x2=GetLocationX(l)
	local real y2=GetLocationY(l)
	local real RM2=Func0159(x1,y1,x2,y2)
	local integer lvl=GetUnitAbilityLevel(Hero,'A173')
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'h07K',x1,y1,RM2)
	call Func0174(sound039,x1,y1)
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveGroupHandle(HY,(h),(22),(g))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call TriggerRegisterTimerEvent(t,0.025,true)
	call TriggerAddCondition(t,Condition(function Func3571))
	call RemoveLocation(l)
	set t=null
	set caster=null
	set g=null
	set Hero=null
	set l=null
endfunction

function Func3573 takes nothing returns boolean
	if GetSpellAbilityId()=='A173' then
		call Func3572()
	endif
	return false
endfunction

function Func3574 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3573))
	set t=null
endfunction

function Func3575 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real dmg=(LoadReal(HY,(h),(20)))
	local real DC1=(LoadReal(HY,(h),(57)))
	local real IS5=0.75
	if IsUnitType(target,UNIT_TYPE_HERO)==false and IsUnitIllusion(target)==false then
		set IS5=1.0
	endif
	if GetUnitState(target,UNIT_STATE_LIFE)<=dmg*IS5 then
		set dmg=Func0134(GetUnitState(target,UNIT_STATE_LIFE)/IS5-2,0)
	endif
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call UnitRemoveAbility(target,'A1W5')
		call UnitRemoveAbility(target,'B028')
		call CleanTrigger(t)
		call FlushChildHashtable(HY,(h))
	else
		set DC1=DC1-1
		call SaveReal(HY,(h),(57),((DC1)*1.0))
		call DamageTarget(source,target,1,dmg)
		if DC1<=0 then
			call UnitRemoveAbility(target,'A1W5')
			call UnitRemoveAbility(target,'B028')
			call CleanTrigger(t)
			call FlushChildHashtable(HY,(h))
		endif
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3576 takes unit target,unit source,real DC1,real dmg returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call UnitAddAbilityPermanent(target,'A1W5')
	call TriggerRegisterDeathEvent(t,target)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func3575))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(20),((dmg)*1.0))
	call SaveReal(HY,(h),(57),((DC1)*1.0))
	call TriggerEvaluate(t)
	set t=null
endfunction

function Func3577 takes nothing returns nothing
	if GetUnitAbilityLevel(GetEnumUnit(),'A1W5')==0 then
		call Func3576(GetEnumUnit(),unit371,real365,real366)
	endif
endfunction

function Func3578 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real DC1=(LoadReal(HY,(h),(57)))
	local real dmg=(LoadReal(HY,(h),(20)))
	local group g
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set g=GetAvailableGroup()
		set tt_unit1=source
		set unit371=source
		set real365=DC1
		set real366=dmg
		call GroupEnumUnitsInRange(g,GetUnitX(IG1),GetUnitY(IG1),256+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func3577)
		call KillGroup(g)
		set g=null
	endif
	set t=null
	set source=null
	set IG1=null
	return false
endfunction

function Func3579 takes unit IG1,unit source,integer lvl returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real DC1=12
	local real dmg=36
	if lvl==2 then
		set DC1=14
		set dmg=58
	elseif lvl==3 then
		set DC1=15
		set dmg=81
	elseif lvl==4 then
		set DC1=16
		set dmg=108
	endif
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerRegisterDeathEvent(t,IG1)
	call TriggerAddCondition(t,Condition(function Func3578))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveReal(HY,(h),(20),((dmg)*1.0))
	call SaveReal(HY,(h),(57),((DC1)*1.0))
	set t=null
endfunction

function Func3580 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local integer HI5
	local integer i=1
	local real x=GetUnitX(Hero)
	local real y=GetUnitY(Hero)
	local unit caster
	if GetSpellAbilityId()=='A013' then
		set HI5=GetUnitAbilityLevel(Hero,'A013')
	else
		set HI5=GetUnitAbilityLevel(Hero,'A0A6')+1
	endif
	loop
		exitwhen i>18
		set caster=CreateUnit(GetOwningPlayer(Hero),'e017',x,y,0)
		call IssuePointOrder(caster,"move",x+675*Cos(i*20*bj_DEGTORAD),y+675*Sin(i*20*bj_DEGTORAD))
		call UnitApplyTimedLife(caster,'BTLF',1.15)
		call Func3579(caster,Hero,HI5)
		set i=i+1
	endloop
	set Hero=null
	set caster=null
endfunction

function Func3581 takes nothing returns boolean
	if GetSpellAbilityId()=='A013' or GetSpellAbilityId()=='A0A6' then
		call Func3580()
	endif
	return false
endfunction

function Func3582 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3581))
	set t=null
endfunction

function Func3583 takes nothing returns nothing
	local unit source=GetSummoningUnit()
	local unit target=GetSummonedUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A0MY')
	if lvl>0 then
		call UnitAddAbilityPermanent(target,'A0MY')
		call SetUnitAbilityLevel(target,'A0MY',lvl)
	endif
	set source=null
	set target=null
endfunction

function Func3584 takes nothing returns boolean
	local integer RII=GetUnitTypeId(GetSummonedUnit())
	if RII=='o00T' or RII=='o00U' or RII=='o00V' or RII=='o00W' then
		call Func3583()
	endif
	return false
endfunction

function Func3585 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func3584))
	set t=null
endfunction

function Func3586 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call Func0366(source,0)
	call SaveInteger(HY,(GetHandleId((source))),((4277)),(2))
	set t=null
	set source=null
	return false
endfunction

function Func3587 takes unit Z4O,unit target returns nothing
	local real TH4=100*GetUnitState(target,UNIT_STATE_LIFE)/GetUnitState(target,UNIT_STATE_MAX_LIFE)
	local real EB2=2.5*GetUnitAbilityLevel(Z4O,'A1A3')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer FinalBonus
	call SaveInteger(HY,(GetHandleId((Z4O))),((4277)),(1))
	call TriggerRegisterTimerEvent(t,0.35,false)
	call TriggerAddCondition(t,Condition(function Func3586))
	call SaveUnitHandle(HY,(h),(2),(Z4O))
	if IsUnitType(target,UNIT_TYPE_HERO)==false then
		set EB2=EB2/2
	endif
	if TH4>80 then
		call Func0366(Z4O,R2I(EB2))
	elseif TH4>60 then
		call Func0366(Z4O,R2I(EB2*2))
	elseif TH4>40 then
		call Func0366(Z4O,R2I(EB2*2*2))
	elseif TH4>20 then
		call Func0366(Z4O,R2I(EB2*2*2*2))
	else
		call Func0366(Z4O,R2I(EB2*2*2*2*2))
	endif
	set t=null
endfunction

function Func3588 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
		if GetSpellAbilityId()=='A09V' and GetUnitAbilityLevel(GetTriggerUnit(),'A1A3')>0 then
			call Func3587(GetTriggerUnit(),GetSpellTargetUnit())
		endif
	else
		if GetUnitAbilityLevel(GetAttacker(),'A1A3')>0 and IsUnitIllusion(GetAttacker())==false and IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit())) and((LoadInteger(HY,(GetHandleId((GetAttacker()))),((4277))))==1)==false then
			call Func3587(GetAttacker(),GetTriggerUnit())
		endif
	endif
	return false
endfunction

function Func3589 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func3588))
	set t=null
endfunction

function Func3590 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real LVO=(LoadReal(HY,(GetHandleId(target)),(684)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or LVO<GetTime()or Func0091(target)then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SaveReal(HY,(GetHandleId(target)),(684),((0)*1.0))
		call UnitRemoveAbility(target,'A23W')
		call UnitRemoveAbility(target,'A23U')
		call UnitRemoveAbility(target,'A23V')
		call UnitRemoveAbility(target,'A23X')
		call UnitRemoveAbility(target,'B0EA')
	else
		set boolean151=false
		call DamageTarget(source,target,1,5+5*lvl)
		set boolean151=true
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3591 takes unit source,unit target returns nothing
	local trigger t
	local integer h
	local real LVO=(LoadReal(HY,(GetHandleId(target)),(684)))
	local integer lvl=GetUnitAbilityLevel(source,'A0MM')
	if LVO>GetTime()then
		call SaveReal(HY,(GetHandleId(target)),(684),((GetTime()+real367)*1.0))
	else
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveReal(HY,(GetHandleId(target)),(684),((GetTime()+real367)*1.0))
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerRegisterDeathEvent(t,target)
		call TriggerAddCondition(t,Condition(function Func3590))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveInteger(HY,(h),(5),(lvl))
		if Func0255(target)==false then
			if lvl==1 then
				call UnitAddAbilityPermanent(target,'A23W')
				call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A23W',false)
			elseif lvl==2 then
				call UnitAddAbilityPermanent(target,'A23U')
				call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A23U',false)
			elseif lvl==3 then
				call UnitAddAbilityPermanent(target,'A23V')
				call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A23V',false)
			elseif lvl==4 then
				call UnitAddAbilityPermanent(target,'A23X')
				call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A23X',false)
			endif
		endif
	endif
	set t=null
	set source=null
	set target=null
endfunction

function Func3592 takes nothing returns boolean
	local unit source=GetTriggerUnit()
	local unit target=GetEventDamageSource()
	if Func0092(target)then
		set target=(Players_Hero[GetPlayerId(GetOwningPlayer((target)))])
	endif
	if boolean151 and IsUnitType(target,UNIT_TYPE_STRUCTURE)==false and Func0139(source,target)<1400 and IsUnitEnemy(source,GetOwningPlayer(target))and Func0091(target)==false and GetUnitAbilityLevel(source,'BNdo')==0 then
		call Func3591(source,target)
	endif
	return false
endfunction

function Func3593 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func3592))
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(GetTriggerUnit()))
	set t=null
endfunction

function Func3594 takes nothing returns boolean
	if GetLearnedSkill()=='A0MM' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0MM')==1 then
		call Func3593()
	endif
	return false
endfunction

function Func3595 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3594))
	set t=null
endfunction

function Func3596 takes nothing returns nothing
	local unit target=GetSpellTargetUnit()
	call UnitRemoveAbility(target,'BEsh')
	call UnitRemoveAbility(target,'B0AQ')
	set target=null
endfunction

function Func3597 takes nothing returns boolean
	if GetSpellAbilityId()=='A080' or GetSpellAbilityId()=='A1UZ' then
		call Func3596()
	endif
	return false
endfunction

function Func3598 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3597))
	set t=null
endfunction

function Func3599 takes nothing returns boolean
	return GetSpellAbilityId()=='A08X'
endfunction

function Func3600 takes nothing returns nothing
	local location BFO=GetUnitLoc(GetSpellAbilityUnit())
	call CreateNUnitsAtLocFacingLocBJ(1,'e00E',GetOwningPlayer(GetSpellAbilityUnit()),BFO,BFO)
	call RemoveLocation(BFO)
	call UnitAddAbility(bj_lastCreatedUnit,'A09C')
	call SetUnitAbilityLevelSwapped('A09C',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A08X',GetSpellAbilityUnit()))
	call IssueTargetOrder(bj_lastCreatedUnit,"bloodlust",GetSpellAbilityUnit())
endfunction

function Func3601 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3599))
	call TriggerAddAction(t,function Func3600)
endfunction

function Func3602 takes unit target,integer HG5 returns nothing
	call UnitRemoveAbility(target,'A1M3')
	call UnitRemoveAbility(target,'A1M4')
	call UnitRemoveAbility(target,'A1MC')
	call UnitRemoveAbility(target,'A1M7')
	call UnitRemoveAbility(target,'A1M8')
	call UnitRemoveAbility(target,'A1M9')
	call UnitRemoveAbility(target,'A1MA')
	call UnitRemoveAbility(target,'A1M5')
	call UnitRemoveAbility(target,'A1MB')
	call UnitRemoveAbility(target,'A1M6')
	if HG5==1 then
		call UnitAddAbilityPermanent(target,'A1M3')
	elseif HG5==2 then
		call UnitAddAbilityPermanent(target,'A1M4')
	elseif HG5==3 then
		call UnitAddAbilityPermanent(target,'A1MC')
	elseif HG5==4 then
		call UnitAddAbilityPermanent(target,'A1M7')
	elseif HG5==5 then
		call UnitAddAbilityPermanent(target,'A1M8')
	elseif HG5==6 then
		call UnitAddAbilityPermanent(target,'A1M9')
	elseif HG5==7 then
		call UnitAddAbilityPermanent(target,'A1MA')
	elseif HG5==8 then
		call UnitAddAbilityPermanent(target,'A1M5')
	elseif HG5==9 then
		call UnitAddAbilityPermanent(target,'A1MB')
	elseif HG5==10 then
		call UnitAddAbilityPermanent(target,'A1M6')
	endif
endfunction

function GravekeepersCloakEnemy_Decay takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer HG5
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set h=GetHandleId(target)
	set HG5=(LoadInteger(HY,(h),(427)))
	set HG5=Func0131(HG5-1,0)
	call SaveInteger(HY,(h),(427),(HG5))
	call Func3602(target,HG5)
	set t=null
	set target=null
	return false
endfunction

function Func3603 takes unit source,integer lvl,integer HZ5 returns nothing
	call UnitRemoveAbility(source,'A1KR')
	call UnitRemoveAbility(source,'A1KS')
	call UnitRemoveAbility(source,'A1KQ')
	call UnitRemoveAbility(source,'A1KP')
	call UnitRemoveAbility(source,'A1K1')
	call UnitRemoveAbility(source,'A1KW')
	call UnitRemoveAbility(source,'A1KX')
	call UnitRemoveAbility(source,'A1KY')
	call UnitRemoveAbility(source,'A1L4')
	call UnitRemoveAbility(source,'A1L3')
	call UnitRemoveAbility(source,'A1L2')
	call UnitRemoveAbility(source,'A1L1')
	call UnitRemoveAbility(source,'A1L8')
	call UnitRemoveAbility(source,'A1L7')
	call UnitRemoveAbility(source,'A1L9')
	call UnitRemoveAbility(source,'A1LB')
	if lvl==1 then
		if HZ5==1 then
			call UnitAddAbilityPermanent(source,'A1KR')
		elseif HZ5==2 then
			call UnitAddAbilityPermanent(source,'A1KS')
		elseif HZ5==3 then
			call UnitAddAbilityPermanent(source,'A1KQ')
		elseif HZ5==4 then
			call UnitAddAbilityPermanent(source,'A1KP')
		endif
	elseif lvl==2 then
		if HZ5==1 then
			call UnitAddAbilityPermanent(source,'A1K1')
		elseif HZ5==2 then
			call UnitAddAbilityPermanent(source,'A1KW')
		elseif HZ5==3 then
			call UnitAddAbilityPermanent(source,'A1KX')
		elseif HZ5==4 then
			call UnitAddAbilityPermanent(source,'A1KY')
		endif
	elseif lvl==3 then
		if HZ5==1 then
			call UnitAddAbilityPermanent(source,'A1L4')
		elseif HZ5==2 then
			call UnitAddAbilityPermanent(source,'A1L3')
		elseif HZ5==3 then
			call UnitAddAbilityPermanent(source,'A1L2')
		elseif HZ5==4 then
			call UnitAddAbilityPermanent(source,'A1L1')
		endif
	elseif lvl==4 then
		if HZ5==1 then
			call UnitAddAbilityPermanent(source,'A1L8')
		elseif HZ5==2 then
			call UnitAddAbilityPermanent(source,'A1L7')
		elseif HZ5==3 then
			call UnitAddAbilityPermanent(source,'A1L9')
		elseif HZ5==4 then
			call UnitAddAbilityPermanent(source,'A1LB')
		endif
	endif
endfunction

function Func3604 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer HW5=(LoadInteger(HY,(h),(426)))
	local unit source=(LoadUnitHandle(HY,(HW5),(2)))
	local integer HZ5=(LoadInteger(HY,(HW5),(425)))
	local integer lvl=GetUnitAbilityLevel(source,'A0VX')
	set HZ5=Func0130(HZ5+1,4)
	call SaveInteger(HY,(HW5),(425),(HZ5))
	call Func3603(source,lvl,HZ5)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func3605 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer HZ5=(LoadInteger(HY,(h),(425)))
	local integer lvl=GetUnitAbilityLevel(GetTriggerUnit(),'A0VX')
	if GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and Func0053(GetOwningPlayer(GetEventDamageSource()))then
		if HZ5>0 then
		endif
		set HZ5=Func0131(HZ5-1,0)
		call SaveInteger(HY,(h),(425),(HZ5))
		call Func3603(source,lvl,HZ5)
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,6,false)
		call TriggerAddCondition(t,Condition(function Func3604))
		call SaveInteger(HY,(h),(426),(GetHandleId(GetTriggeringTrigger())))
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3606 takes nothing returns nothing
	local trigger t
	local integer h
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(GetTriggerUnit(),'A0VX')
	if lvl==1 then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DAMAGED)
		call TriggerAddCondition(t,Condition(function Func3605))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveInteger(HY,(h),(425),(4))
	endif
	call Func3603(source,lvl,4)
	set t=null
	set source=null
endfunction

function Func3607 takes nothing returns boolean
	if GetLearnedSkill()=='A0VX' and IsUnitIllusion(GetTriggerUnit())==false then
		call Func3606()
	endif
	return false
endfunction

function Func3608 takes player p returns nothing
	call SetPlayerAbilityAvailable(p,'A1KR',false)
	call SetPlayerAbilityAvailable(p,'A1KS',false)
	call SetPlayerAbilityAvailable(p,'A1KQ',false)
	call SetPlayerAbilityAvailable(p,'A1KP',false)
	call SetPlayerAbilityAvailable(p,'A1KU',false)
	call SetPlayerAbilityAvailable(p,'A1KV',false)
	call SetPlayerAbilityAvailable(p,'A1K1',false)
	call SetPlayerAbilityAvailable(p,'A1KW',false)
	call SetPlayerAbilityAvailable(p,'A1KX',false)
	call SetPlayerAbilityAvailable(p,'A1KY',false)
	call SetPlayerAbilityAvailable(p,'A1KZ',false)
	call SetPlayerAbilityAvailable(p,'A1KT',false)
	call SetPlayerAbilityAvailable(p,'A1L4',false)
	call SetPlayerAbilityAvailable(p,'A1L3',false)
	call SetPlayerAbilityAvailable(p,'A1L2',false)
	call SetPlayerAbilityAvailable(p,'A1L1',false)
	call SetPlayerAbilityAvailable(p,'A1L0',false)
	call SetPlayerAbilityAvailable(p,'A1L5',false)
	call SetPlayerAbilityAvailable(p,'A1L8',false)
	call SetPlayerAbilityAvailable(p,'A1L7',false)
	call SetPlayerAbilityAvailable(p,'A1L9',false)
	call SetPlayerAbilityAvailable(p,'A1LB',false)
	call SetPlayerAbilityAvailable(p,'A1LA',false)
	call SetPlayerAbilityAvailable(p,'A1L6',false)
	call SetPlayerAbilityAvailable(p,'A1LH',false)
	call SetPlayerAbilityAvailable(p,'A1M3',false)
	call SetPlayerAbilityAvailable(p,'A1M4',false)
	call SetPlayerAbilityAvailable(p,'A1MC',false)
	call SetPlayerAbilityAvailable(p,'A1M7',false)
	call SetPlayerAbilityAvailable(p,'A1M8',false)
	call SetPlayerAbilityAvailable(p,'A1M9',false)
	call SetPlayerAbilityAvailable(p,'A1MA',false)
	call SetPlayerAbilityAvailable(p,'A1M5',false)
	call SetPlayerAbilityAvailable(p,'A1MB',false)
	call SetPlayerAbilityAvailable(p,'A1M6',false)
endfunction

function Func3609 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer i=0
	local player p
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3607))
	loop
		exitwhen i>5
		set p=Sentinels[i]
		call Func3608(p)
		set p=Scourges[i]
		call Func3608(p)
		set i=i+1
	endloop
	set t=null
endfunction

function Func3610 takes nothing returns nothing
	local integer lvl
	local unit source=GetTriggerUnit()
	local unit caster
	if GetUnitTypeId(source)=='u017' or GetUnitTypeId(source)=='u019' or GetUnitTypeId(source)=='u018' or GetUnitTypeId(source)=='u01A' or GetUnitTypeId(source)=='u01B' or GetUnitTypeId(source)=='u01C' or GetUnitTypeId(source)=='u01U' or GetUnitTypeId(source)=='u01V' or GetUnitTypeId(source)=='u01W' then
		return
	endif
	set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
	if GetUnitTypeId(source)=='u014' or GetUnitTypeId(source)=='u01D' or GetUnitTypeId(source)=='u01R' then
		set lvl=1
	elseif GetUnitTypeId(source)=='u015' or GetUnitTypeId(source)=='u01E' or GetUnitTypeId(source)=='u01S' then
		set lvl=2
	else
		set lvl=3
	endif
	call UnitAddAbilityPermanent(caster,'A1NF')
	call SetUnitAbilityLevel(caster,'A1NF',lvl)
	call IssueImmediateOrder(caster,"stomp")
	set source=null
	set caster=null
endfunction

function Func3611 takes unit HN5,integer BQO,integer lvl returns nothing
	local integer HS5
	if lvl==1 then
		set HS5=8
	elseif lvl==2 then
		set HS5=14
	elseif lvl==3 then
		set HS5=22
	endif
	call Func0366(HN5,BQO*HS5)
endfunction

function Func3612 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit HN5=(LoadUnitHandle(HY,(h),(2)))
	local unit source=HN5
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer QX2=(LoadInteger(HY,(h),(28)))
	local integer BQO=(LoadInteger(HY,(h),(194)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
		if GetAttacker()==HN5 then
			set BQO=IMaxBJ(BQO-1,0)
			call SaveInteger(HY,(h),(194),(BQO))
			call Func3611(HN5,BQO,lvl)
		endif
	else
		set QX2=QX2+1
		call SaveInteger(HY,(h),(28),(QX2))
		if ModuloInteger(QX2,15)==0 then
			set BQO=IMinBJ(BQO+1,7)
			call SaveInteger(HY,(h),(194),(BQO))
		endif
		if GetUnitTypeId(source)=='u017' or GetUnitTypeId(source)=='u019' or GetUnitTypeId(source)=='u018' or GetUnitTypeId(source)=='u01A' or GetUnitTypeId(source)=='u01B' or GetUnitTypeId(source)=='u01C' or GetUnitTypeId(source)=='u01U' or GetUnitTypeId(source)=='u01V' or GetUnitTypeId(source)=='u01W' then
			set BQO=7
			call SaveInteger(HY,(h),(194),(BQO))
		endif
		call Func3611(HN5,BQO,lvl)
		if GetUnitTypeId(HN5)=='u017' or GetUnitTypeId(HN5)=='u019' or GetUnitTypeId(HN5)=='u018' or GetUnitTypeId(HN5)=='u01A' or GetUnitTypeId(HN5)=='u01B' or GetUnitTypeId(HN5)=='u01C' or GetUnitTypeId(HN5)=='u01U' or GetUnitTypeId(HN5)=='u01V' or GetUnitTypeId(HN5)=='u01W' then
			call SetUnitState(HN5,UNIT_STATE_LIFE,GetUnitState(HN5,UNIT_STATE_LIFE)+31.25+18.75*lvl)
		endif
	endif
	set t=null
	set HN5=null
	return false
endfunction

function Func3613 takes nothing returns boolean
	if GetUnitTypeId(GetFilterUnit())=='u014' or GetUnitTypeId(GetFilterUnit())=='u015' or GetUnitTypeId(GetFilterUnit())=='u016' or GetUnitTypeId(GetFilterUnit())=='u01D' or GetUnitTypeId(GetFilterUnit())=='u01E' or GetUnitTypeId(GetFilterUnit())=='u01F' or GetUnitTypeId(GetFilterUnit())=='u01R' or GetUnitTypeId(GetFilterUnit())=='u01S' or GetUnitTypeId(GetFilterUnit())=='u01T' or GetUnitTypeId(GetFilterUnit())=='u017' or GetUnitTypeId(GetFilterUnit())=='u019' or GetUnitTypeId(GetFilterUnit())=='u018' or GetUnitTypeId(GetFilterUnit())=='u01A' or GetUnitTypeId(GetFilterUnit())=='u01B' or GetUnitTypeId(GetFilterUnit())=='u01C' or GetUnitTypeId(GetFilterUnit())=='u01U' or GetUnitTypeId(GetFilterUnit())=='u01V' or GetUnitTypeId(GetFilterUnit())=='u01W' then
		call KillUnit(GetFilterUnit())
	endif
	return false
endfunction

function Func3614 takes nothing returns nothing
	local group g=GetAvailableGroup()
	local unit source=GetTriggerUnit()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local integer lvl=GetUnitAbilityLevel(source,'A1NE')
	local unit HQ5
	local unit HU5
	local unit Z05
	local trigger t
	local integer h
	local boolean E14=false
	call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(source),Condition(function Func3613))
	call KillGroup(g)
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A2IG')
		set E14=true
	endif
	if lvl==1 then
		set HQ5=CreateUnit(GetOwningPlayer(source),'u014',x+75,y+75,GetUnitFacing(source))
		set HU5=CreateUnit(GetOwningPlayer(source),'u01D',x-75,y-75,GetUnitFacing(source))
	elseif lvl==2 then
		set HQ5=CreateUnit(GetOwningPlayer(source),'u015',x+75,y+75,GetUnitFacing(source))
		set HU5=CreateUnit(GetOwningPlayer(source),'u01E',x-75,y-75,GetUnitFacing(source))
	elseif lvl==3 then
		set HQ5=CreateUnit(GetOwningPlayer(source),'u016',x+75,y+75,GetUnitFacing(source))
		set HU5=CreateUnit(GetOwningPlayer(source),'u01F',x-75,y-75,GetUnitFacing(source))
	endif
	call SelectUnitAddForPlayer(HQ5,GetOwningPlayer(source))
	call SelectUnitAddForPlayer(HU5,GetOwningPlayer(source))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",HQ5,"origin"))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",HU5,"origin"))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterUnitEvent(t,HQ5,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3612))
	call SaveUnitHandle(HY,(h),(2),(HQ5))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(28),(0))
	call SaveInteger(HY,(h),(194),(7))
	call Func3611(HQ5,7,lvl)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterUnitEvent(t,HU5,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3612))
	call SaveUnitHandle(HY,(h),(2),(HU5))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(28),(0))
	call SaveInteger(HY,(h),(194),(7))
	call Func3611(HU5,7,lvl)
	if E14 then
		if lvl==1 then
			set Z05=CreateUnit(GetOwningPlayer(source),'u01R',x+75,y,GetUnitFacing(source))
		elseif lvl==2 then
			set Z05=CreateUnit(GetOwningPlayer(source),'u01S',x+75,y,GetUnitFacing(source))
		elseif lvl==3 then
			set Z05=CreateUnit(GetOwningPlayer(source),'u01T',x+75,y,GetUnitFacing(source))
		endif
		call SelectUnitAddForPlayer(Z05,GetOwningPlayer(source))
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",Z05,"origin"))
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerRegisterUnitEvent(t,Z05,EVENT_UNIT_DEATH)
		call TriggerAddCondition(t,Condition(function Func3612))
		call SaveUnitHandle(HY,(h),(2),(Z05))
		call SaveInteger(HY,(h),(5),(lvl))
		call SaveInteger(HY,(h),(28),(0))
		call SaveInteger(HY,(h),(194),(7))
		call Func3611(Z05,7,lvl)
	endif
	set g=null
	set source=null
	set HQ5=null
	set HU5=null
endfunction

function Func3615 takes nothing returns boolean
	if GetSpellAbilityId()=='A1NE' or GetSpellAbilityId()=='A2IG' then
		call Func3614()
	elseif GetSpellAbilityId()=='A1NB' or GetSpellAbilityId()=='A1NC' or GetSpellAbilityId()=='A1ND' or GetSpellAbilityId()=='A1NL' or GetSpellAbilityId()=='A1NM' or GetSpellAbilityId()=='A1NN' or GetSpellAbilityId()=='A2IZ' or GetSpellAbilityId()=='A2J0' or GetSpellAbilityId()=='A2J1' then
		call Func3610()
	endif
	return false
endfunction

function Func3616 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3615))
	set t=null
endfunction

function Func3617 takes unit source,integer JGO,integer ZO5 returns nothing
	local string c1="|c0000cc00"
	local string c="||"
	local string p=" "
	local string s=c1+"|||r"
	local string FB1
	local boolean TX4=false
	local texttag tt=(LoadTextTagHandle(HY,(GetHandleId(source)),(451)))
	if JGO==0 then
		set FB1=" "
	elseif ZO5==1 then
		if JGO==0 then
			set FB1=c+p+c+p+c
		elseif JGO==1 then
			set FB1=s+p+c+p+c
		elseif JGO==2 then
			set FB1=s+p+s+p+c
		elseif JGO==3 then
			set FB1=s+p+s+p+s
		endif
	elseif ZO5==2 then
		if JGO==0 then
			set FB1=c+p+c+p+c+p+c
		elseif JGO==1 then
			set FB1=s+p+c+p+c+p+c
		elseif JGO==2 then
			set FB1=s+p+s+p+c+p+c
		elseif JGO==3 then
			set FB1=s+p+s+p+s+p+c
		elseif JGO==4 then
			set FB1=s+p+s+p+s+p+s
		endif
	elseif ZO5==3 then
		if JGO==0 then
			set FB1=c+p+c+p+c+p+c+p+c
		elseif JGO==1 then
			set FB1=s+p+c+p+c+p+c+p+c
		elseif JGO==2 then
			set FB1=s+p+s+p+c+p+c+p+c
		elseif JGO==3 then
			set FB1=s+p+s+p+s+p+c+p+c
		elseif JGO==4 then
			set FB1=s+p+s+p+s+p+s+p+c
		elseif JGO==5 then
			set FB1=s+p+s+p+s+p+s+p+s
		endif
	elseif ZO5==4 then
		if JGO==0 then
			set FB1=c+p+c+p+c+p+c+p+c+p+c
		elseif JGO==1 then
			set FB1=s+p+c+p+c+p+c+p+c+p+c
		elseif JGO==2 then
			set FB1=s+p+s+p+c+p+c+p+c+p+c
		elseif JGO==3 then
			set FB1=s+p+s+p+s+p+c+p+c+p+c
		elseif JGO==4 then
			set FB1=s+p+s+p+s+p+s+p+c+p+c
		elseif JGO==5 then
			set FB1=s+p+s+p+s+p+s+p+s+p+c
		elseif JGO==6 then
			set FB1=s+p+s+p+s+p+s+p+s+p+s
		endif
	endif
	call SetTextTagText(tt,FB1,0.023)
	if GetOwningPlayer(source)==GetLocalPlayer()then
		set TX4=true
	endif
	if IsDead(source)then
		set TX4=false
	endif
	call SetTextTagPosUnit(tt,source,0)
	call SetTextTagVisibility(tt,TX4)
	call SetTextTagPermanent(tt,true)
endfunction

function Func3618 takes unit Hero,integer lvl returns nothing
	local integer ZO5=GetUnitAbilityLevel(Hero,'A1NA')
	call Func3617(Hero,lvl,ZO5)
	if lvl==0 or((LoadInteger(HY,(GetHandleId((Hero))),((2484))))==1) then
		call UnitRemoveAbility(Hero,'A1O7')
		call UnitRemoveAbility(Hero,'A1O8')
		call UnitRemoveAbility(Hero,'A1O9')
		call UnitAddAbilityPermanent(Hero,'A1O1')
		call UnitRemoveAbility(Hero,'A1O2')
		call UnitRemoveAbility(Hero,'A1NZ')
		call UnitRemoveAbility(Hero,'A1N9')
		call UnitRemoveAbility(Hero,'A1NY')
		call UnitRemoveAbility(Hero,'A1O0')
		call UnitRemoveAbility(Hero,'A1O3')
		call UnitRemoveAbility(Hero,'A0LR')
		call UnitRemoveAbility(Hero,'A0YP')
		call UnitRemoveAbility(Hero,'A0OG')
		call UnitRemoveAbility(Hero,'A0YO')
		call UnitRemoveAbility(Hero,'A0NF')
		call UnitRemoveAbility(Hero,'A0MD')
	elseif lvl==1 then
		call UnitRemoveAbility(Hero,'A1O7')
		call UnitRemoveAbility(Hero,'A1O8')
		call UnitRemoveAbility(Hero,'A1O9')
		call UnitRemoveAbility(Hero,'A1O1')
		call UnitAddAbilityPermanent(Hero,'A1O2')
		call UnitRemoveAbility(Hero,'A1NZ')
		call UnitRemoveAbility(Hero,'A1N9')
		call UnitRemoveAbility(Hero,'A1NY')
		call UnitRemoveAbility(Hero,'A1O0')
		call UnitRemoveAbility(Hero,'A1O3')
		call UnitAddAbilityPermanent(Hero,'A0LR')
		call UnitRemoveAbility(Hero,'A0YP')
		call UnitRemoveAbility(Hero,'A0OG')
		call UnitRemoveAbility(Hero,'A0YO')
		call UnitRemoveAbility(Hero,'A0NF')
		call UnitRemoveAbility(Hero,'A0MD')
	elseif lvl==2 then
		call UnitRemoveAbility(Hero,'A1O7')
		call UnitRemoveAbility(Hero,'A1O8')
		call UnitRemoveAbility(Hero,'A1O9')
		call UnitRemoveAbility(Hero,'A1O1')
		call UnitRemoveAbility(Hero,'A1O2')
		call UnitAddAbilityPermanent(Hero,'A1NZ')
		call UnitRemoveAbility(Hero,'A1N9')
		call UnitRemoveAbility(Hero,'A1NY')
		call UnitRemoveAbility(Hero,'A1O0')
		call UnitRemoveAbility(Hero,'A1O3')
		call UnitRemoveAbility(Hero,'A0LR')
		call UnitAddAbilityPermanent(Hero,'A0YP')
		call UnitRemoveAbility(Hero,'A0OG')
		call UnitRemoveAbility(Hero,'A0YO')
		call UnitRemoveAbility(Hero,'A0NF')
		call UnitRemoveAbility(Hero,'A0MD')
	elseif lvl==3 then
		call UnitRemoveAbility(Hero,'A1O7')
		call UnitRemoveAbility(Hero,'A1O8')
		call UnitRemoveAbility(Hero,'A1O9')
		call UnitRemoveAbility(Hero,'A0LR')
		call UnitRemoveAbility(Hero,'A0YP')
		call UnitAddAbilityPermanent(Hero,'A0OG')
		call UnitRemoveAbility(Hero,'A0YO')
		call UnitRemoveAbility(Hero,'A0NF')
		call UnitRemoveAbility(Hero,'A0MD')
		call UnitRemoveAbility(Hero,'A1O1')
		call UnitRemoveAbility(Hero,'A1O2')
		call UnitRemoveAbility(Hero,'A1NZ')
		call UnitRemoveAbility(Hero,'A1N9')
		call UnitRemoveAbility(Hero,'A1NY')
		call UnitRemoveAbility(Hero,'A1O0')
		call UnitRemoveAbility(Hero,'A1O3')
		if ZO5==1 then
			call UnitAddAbilityPermanent(Hero,'A1O7')
		else
			call UnitAddAbilityPermanent(Hero,'A1N9')
		endif
	elseif lvl==4 then
		call UnitRemoveAbility(Hero,'A1O7')
		call UnitRemoveAbility(Hero,'A1O8')
		call UnitRemoveAbility(Hero,'A1O9')
		call UnitRemoveAbility(Hero,'A0LR')
		call UnitRemoveAbility(Hero,'A0YP')
		call UnitRemoveAbility(Hero,'A0OG')
		call UnitAddAbilityPermanent(Hero,'A0YO')
		call UnitRemoveAbility(Hero,'A0NF')
		call UnitRemoveAbility(Hero,'A0MD')
		call UnitRemoveAbility(Hero,'A1O1')
		call UnitRemoveAbility(Hero,'A1O2')
		call UnitRemoveAbility(Hero,'A1NZ')
		call UnitRemoveAbility(Hero,'A1N9')
		call UnitRemoveAbility(Hero,'A1NY')
		call UnitRemoveAbility(Hero,'A1O0')
		call UnitRemoveAbility(Hero,'A1O3')
		if ZO5==2 then
			call UnitAddAbilityPermanent(Hero,'A1O8')
		else
			call UnitAddAbilityPermanent(Hero,'A1NY')
		endif
	elseif lvl==5 then
		call UnitRemoveAbility(Hero,'A1O7')
		call UnitRemoveAbility(Hero,'A1O8')
		call UnitRemoveAbility(Hero,'A1O9')
		call UnitRemoveAbility(Hero,'A1O1')
		call UnitRemoveAbility(Hero,'A1O2')
		call UnitRemoveAbility(Hero,'A1NZ')
		call UnitRemoveAbility(Hero,'A1N9')
		call UnitRemoveAbility(Hero,'A1NY')
		call UnitAddAbilityPermanent(Hero,'A1O0')
		call UnitRemoveAbility(Hero,'A1O3')
		call UnitRemoveAbility(Hero,'A0LR')
		call UnitRemoveAbility(Hero,'A0YP')
		call UnitRemoveAbility(Hero,'A0OG')
		call UnitRemoveAbility(Hero,'A0YO')
		call UnitAddAbilityPermanent(Hero,'A0NF')
		call UnitRemoveAbility(Hero,'A0MD')
		call UnitRemoveAbility(Hero,'A1O1')
		call UnitRemoveAbility(Hero,'A1O2')
		call UnitRemoveAbility(Hero,'A1NZ')
		call UnitRemoveAbility(Hero,'A1N9')
		call UnitRemoveAbility(Hero,'A1NY')
		call UnitRemoveAbility(Hero,'A1O0')
		call UnitRemoveAbility(Hero,'A1O3')
		if ZO5==3 then
			call UnitAddAbilityPermanent(Hero,'A1O9')
		else
			call UnitAddAbilityPermanent(Hero,'A1O0')
		endif
	elseif lvl==6 then
		call UnitRemoveAbility(Hero,'A1O7')
		call UnitRemoveAbility(Hero,'A1O8')
		call UnitRemoveAbility(Hero,'A1O9')
		call UnitRemoveAbility(Hero,'A1O1')
		call UnitRemoveAbility(Hero,'A1O2')
		call UnitRemoveAbility(Hero,'A1NZ')
		call UnitRemoveAbility(Hero,'A1N9')
		call UnitRemoveAbility(Hero,'A1NY')
		call UnitRemoveAbility(Hero,'A1O0')
		call UnitAddAbilityPermanent(Hero,'A1O3')
		call UnitRemoveAbility(Hero,'A0LR')
		call UnitRemoveAbility(Hero,'A0YP')
		call UnitRemoveAbility(Hero,'A0OG')
		call UnitRemoveAbility(Hero,'A0YO')
		call UnitRemoveAbility(Hero,'A0NF')
		call UnitAddAbilityPermanent(Hero,'A0MD')
	endif
	if(GetUnitAbilityLevel(Hero,'A1NA')+2)==lvl then
		call UnitAddAbilityPermanent(Hero,'A1NJ')
	else
		call UnitRemoveAbility(Hero,'A1NJ')
	endif
endfunction

function Func3619 takes unit source,real dmg returns nothing
	local integer lvl=0
	local real Z45=110
	if dmg>Z45*6 then
		set lvl=6
	elseif dmg>Z45*5 then
		set lvl=5
	elseif dmg>Z45*4 then
		set lvl=4
	elseif dmg>Z45*3 then
		set lvl=3
	elseif dmg>Z45*2 then
		set lvl=2
	elseif dmg>Z45*1 then
		set lvl=1
	endif
	set lvl=Func0130(lvl,2+GetUnitAbilityLevel(source,'A1NA'))
	call SaveInteger(HY,(GetHandleId(source)),(450),(lvl))
	call Func3618(source,lvl)
endfunction

function Func3620 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer ZO5=GetUnitAbilityLevel(source,'A1NA')
	call Func3617(source,(LoadInteger(HY,(GetHandleId((source))),(450))),ZO5)
	call Func3619(source,(LoadReal(HY,(GetHandleId(source)),(443))))
	set t=null
	set source=null
	return false
endfunction

function Func3621 takes nothing returns nothing
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit source=tt_unit1
	local unit target=tt_unit2
	local real dmg=(LoadReal(HY,(h),(20)))
	if IsUnitAlly(target,GetOwningPlayer(source))==false then
		set boolean152=true
		call DamageTarget(source,target,1,dmg)
		set boolean152=false
	else
		call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)+dmg)
	endif
	set source=null
	set target=null
endfunction

function Func3622 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call Func3619(source,(LoadReal(HY,(GetHandleId(source)),(443))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func3623 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=(LoadInteger(HY,(GetHandleId((source))),(450)))
	local trigger t=AddProjectile(source,target,'h0BE',"Func3621",1000,false)
	local integer h=GetHandleId(t)
	call SaveReal(HY,(h),(20),((20+lvl*65)*1.0))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AntiMagicShell\\AntiMagicShell.mdl",source,"chest"))
	call SaveReal(HY,(GetHandleId(source)),(443),((0)*1.0))
	call Func3619(source,0)
	call AddTimedKeyToUnit(source,2484,4)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerAddCondition(t,Condition(function Func3622))
	call TriggerRegisterTimerEvent(t,4,false)
	call SaveUnitHandle(HY,(h),(2),(source))
	set source=null
	set target=null
	set t=null
endfunction

function Func3624 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real dmg=(LoadReal(HY,(h),(20)))
	if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A1NA')then
		if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT then
			call SaveReal(HY,(GetHandleId(source)),(443),(((LoadReal(HY,(GetHandleId(source)),(443)))-dmg)*1.0))
		endif
		call Func3619(source,(LoadReal(HY,(GetHandleId(source)),(443))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3625 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer h=GetHandleId(source)
	local texttag tt=CreateTextTag()
	local boolean TX4=false
	local trigger t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerAddCondition(t,Condition(function Func3620))
	call SaveUnitHandle(HY,(GetHandleId(t)),(2),(source))
	if GetOwningPlayer(source)==GetLocalPlayer()then
		set TX4=true
	endif
	call SetTextTagText(tt," ",0.023)
	call SetTextTagPosUnit(tt,source,0)
	call SetTextTagVisibility(tt,TX4)
	call SetTextTagPermanent(tt,true)
	set units030[GetPlayerId(GetOwningPlayer(source))]=source
	call SaveReal(HY,(h),(443),((0)*1.0))
	call Func3619(source,0)
	call SaveTextTagHandle(HY,(h),(451),(tt))
	set source=null
	set t=null
	set tt=null
endfunction

function Func3626 takes unit ZC5,unit ZD5 returns nothing
	local real dmg=GetEventDamage()
	local integer lvl=GetUnitAbilityLevel(ZC5,'A1NA')
	local real ZE5=(LoadReal(HY,(GetHandleId(ZC5)),(443)))
	local trigger t
	local integer h
	if Func0139(ZC5,ZD5)<1400 and boolean152==false then
		if Func0094(dmg)and GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and(Func0053(GetOwningPlayer(GetEventDamageSource()))or GetUnitTypeId(GetEventDamageSource())=='n00L')then
			set ZE5=ZE5+dmg
			call SaveReal(HY,(GetHandleId(ZC5)),(443),((ZE5)*1.0))
			set t=CreateTrigger()
			set h=GetHandleId(t)
			call SaveUnitHandle(HY,(h),(2),(ZC5))
			call SaveReal(HY,(h),(20),((dmg)*1.0))
			call TriggerRegisterTimerEvent(t,6,false)
			call TriggerRegisterUnitEvent(t,ZC5,EVENT_UNIT_DEATH)
			call TriggerRegisterUnitEvent(t,ZC5,EVENT_UNIT_SPELL_EFFECT)
			call TriggerAddCondition(t,Condition(function Func3624))
			call Func3619(ZC5,ZE5)
		endif
	endif
	set t=null
endfunction

function Func3627 takes nothing returns nothing
	local integer i=0
	loop
		exitwhen i>12
		if units030[i]!=null then
			call Func3626(units030[i],GetTriggerUnit())
		endif
		set i=i+1
	endloop
endfunction

function Func3628 takes nothing returns boolean
	if GetLearnedSkill()=='A1NA' and GetUnitAbilityLevel(GetTriggerUnit(),'A1NA')==1 and IsUnitIllusion(GetTriggerUnit())==false then
		call Func3625()
	endif
	return false
endfunction

function Func3629 takes nothing returns boolean
	if GetSpellAbilityId()=='A1NA' then
		call Func3623()
	endif
	return false
endfunction

function Func3630 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3628))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3629))
	set t=null
	call Func1063("Func3627")
endfunction

constant function Upheaval_RawCode takes nothing returns integer
	return 'A06P'
endfunction

constant function Upheaval_EffectCode takes nothing returns integer
	return 'A0JE'
endfunction

constant function Upheaval_EffectModel takes nothing returns integer
	return 'e01G'
endfunction

function Func3631 takes nothing returns boolean
	return GetSpellAbilityId()==('A06P')
endfunction

function Func3632 takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(unit002))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1
endfunction

function Func3633 takes nothing returns nothing
	local unit target=GetEnumUnit()
	local unit caster=CreateUnit(GetOwningPlayer(unit002),'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbilityPermanent(caster,('A0JE'))
	call SetUnitAbilityLevel(caster,('A0JE'),integer011)
	call IssueTargetOrder(caster,"slow",target)
endfunction

function Func3634 takes unit caster,unit Hero returns nothing
	local group Z51=GetAvailableGroup()
	local boolexpr QL1=Condition(function Func3632)
	set unit002=Hero
	call GroupEnumUnitsInRange(Z51,GetUnitX(caster),GetUnitY(caster),675,QL1)
	call ForGroup(Z51,function Func3633)
	call KillGroup(Z51)
endfunction

function Func3635 takes nothing returns nothing
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
		call KillUnit(caster)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger((t))
	elseif GetTriggerEvalCount(t)>32 then
		call KillUnit(caster)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger((t))
		call InterruptUnit((LoadUnitHandle(HY,(h),(14))))
	else
		call SetUnitAnimation(caster,"birth")
		set Hero=(LoadUnitHandle(HY,(h),(14)))
		set integer011=GetTriggerExecCount(t)*GetUnitAbilityLevel(Hero,('A06P'))/2
		call Func3634(caster,Hero)
	endif
	set t=null
	set caster=null
	set Hero=null
endfunction

function Func3636 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local location BFO=GetSpellTargetLoc()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real x=GetLocationX(BFO)
	local real y=GetLocationY(BFO)
	local unit caster=CreateUnit(GetOwningPlayer(Hero),('e01G'),x,y,0)
	call RemoveLocation(BFO)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_SPELL_ENDCAST)
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerAddAction(t,function Func3635)
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(19),(caster))
endfunction

function Func3637 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddAction(t,function Func3636)
	call TriggerAddCondition(t,Condition(function Func3631))
	call Func0125(('A0JE'))
endfunction

constant function FatalBonds_RawCode takes nothing returns integer
	return 'A0J5'
endfunction

constant function FatalBonds_IconAbility takes nothing returns integer
	return 'A0J9'
endfunction

constant function FatalBonds_Icon takes nothing returns integer
	return 'A0P2'
endfunction

function Func3638 takes nothing returns boolean
	return GetSpellAbilityId()==('A0J5')
endfunction

function Func3639 takes nothing returns nothing
	call UnitAddAbilityPermanent(GetEnumUnit(),('A0P2'))
endfunction

function Func3640 takes nothing returns nothing
	call UnitRemoveAbility(GetEnumUnit(),('A0P2'))
endfunction

function Func3641 takes unit ZS5,unit ZT5 returns nothing
	if ZS5!=null and ZT5!=null then
		call Func0161("CLPB",GetUnitX(ZS5),GetUnitY(ZS5),GetUnitX(ZT5),GetUnitY(ZT5),0.7,0.1,0.9,1,0.3)
	endif
endfunction

function Func3642 takes nothing returns nothing
	local unit Hero=(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(14)))
	local real dmg=0.25*GetEventDamage()
	set dmg=Func0133(dmg,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE))
	if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>1 and GetEnumUnit()!=GetTriggerUnit()then
		if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<dmg then
			call DamageTarget(Hero,GetEnumUnit(),3,dmg)
		else
			call Func0218(GetEnumUnit(),dmg)
		endif
	endif
endfunction

function Func3643 takes nothing returns nothing
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local group Z51=(LoadGroupHandle(HY,(h),(220)))
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		call ForGroup(Z51,function Func3640)
		call FlushChildHashtable(HY,(h))
		call KillGroup(Z51)
		call CleanTrigger((t))
	elseif GetEventDamage()>10 and GetEventDamage()<6000 then
		call DisableTrigger(t)
		call ForGroup(Z51,function Func3642)
		call EnableTrigger(t)
	endif
endfunction

function Func3644 takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1
endfunction

function Func3645 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local group Z51=GetAvailableGroup()
	local integer lvl=GetUnitAbilityLevel(Hero,('A0J5'))
	local boolexpr QL1=Condition(function Func3644)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer i=2
	local group XG4=GetAvailableGroup()
	local unit array V05
	local string VI5="Abilities\\Spells\\Undead\\Curse\\CurseTarget.mdl"
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call Func3641(Hero,target)
	call Func0152(VI5,target,"overhead",25)
	set V05[1]=target
	call SaveUnitHandle(HY,(h),(246),(V05[1]))
	call TriggerRegisterUnitEvent(t,V05[1],EVENT_UNIT_DAMAGED)
	call GroupEnumUnitsInRange(Z51,GetUnitX(target),GetUnitY(target),700+25,QL1)
	call GroupRemoveUnit(Z51,target)
	call GroupAddUnit(XG4,target)
	call SaveGroupHandle(HY,(h),(220),(XG4))
	loop
		exitwhen i>(2+lvl)or FirstOfGroup(Z51)==null
		set V05[i]=Func0235(Z51,GetUnitX(target),GetUnitY(target))
		call Func3641(V05[i-1],V05[i])
		call TriggerRegisterUnitEvent(t,V05[i],EVENT_UNIT_DAMAGED)
		call GroupAddUnit(XG4,V05[i])
		call GroupRemoveUnit(Z51,V05[i])
		call Func0152(VI5,V05[i],"overhead",25)
		set i=i+1
	endloop
	call SaveInteger(HY,(h),(245),(i-1))
	set integer011=GetUnitAbilityLevel(Hero,('A0J5'))
	call ForGroup(XG4,function Func3639)
	call TriggerRegisterTimerEvent(t,25,false)
	call TriggerAddAction(t,function Func3643)
	call KillGroup(Z51)
endfunction

function Func3646 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3638))
	call TriggerAddAction(t,function Func3645)
	call Func0125(('A0J9'))
endfunction

function Func3647 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A0AS')
	if GetTriggerEvalCount(t)>11 or GetTriggerEventId()==EVENT_UNIT_DEATH then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call UnitRemoveAbility(target,'A17K')
		call UnitRemoveAbility(target,'B0AP')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call DamageTarget(source,target,1,lvl*10+5)
	endif
	set source=null
	set target=null
	set t=null
	return false
endfunction

function Func3648 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A0AS')
	if GetTriggerEvalCount(t)>11 or GetTriggerEventId()==EVENT_UNIT_DEATH then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call UnitRemoveAbility(target,'A0P0')
		call UnitRemoveAbility(target,'B073')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call Func0147(target,lvl*10+5)
	endif
	set source=null
	set target=null
	set t=null
	return false
endfunction

function Func3649 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(2),(source))
	if IsUnitAlly(target,GetOwningPlayer(source))then
		call TriggerAddCondition(t,Condition(function Func3648))
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfSanctuary\\Staff_Sanctuary_Target.mdl",target,"chest")))
		call UnitAddAbilityPermanent(target,'A0P0')
	elseif IsBlocked(GetSpellTargetUnit())==false then
		call TriggerAddCondition(t,Condition(function Func3647))
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Voodoo\\VoodooAuraTarget.mdl",target,"overhead")))
		call UnitAddAbilityPermanent(target,'A17K')
	endif
	set source=null
	set target=null
	set t=null
endfunction

function Func3650 takes nothing returns boolean
	if GetSpellAbilityId()=='A0AS' then
		call Func3649()
	endif
	return false
endfunction

function Func3651 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3650))
	call Func0125('A0P0')
	call Func0125('A17K')
	set t=null
endfunction

function Func3652 takes nothing returns nothing
	call DamageTarget(unit372,GetEnumUnit(),1,20+10*integer526)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Immolation\\ImmolationDamage.mdl",GetEnumUnit(),"head"))
endfunction

function Func3653 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl
	local integer RII=GetUnitTypeId(source)
	local group g
	if RII=='n00U' or RII=='n0KU' then
		set lvl=1
	elseif RII=='n00Y' or RII=='n0KV' then
		set lvl=2
	elseif RII=='n00Z' or RII=='n0KW' then
		set lvl=3
	endif
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set tt_unit1=source
		set unit372=source
		set integer526=lvl
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),325,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func3652)
		call KillGroup(g)
		set g=null
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3654 takes unit u returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3653))
	call SaveUnitHandle(HY,(h),(2),(u))
	set t=null
endfunction

function Func3655 takes nothing returns boolean
	local integer RII=GetUnitTypeId(GetTriggerUnit())
	if RII=='n00U' or RII=='n0KU' or RII=='n00Y' or RII=='n0KV' or RII=='n00Z' or RII=='n0KW' then
		call Func3654(GetTriggerUnit())
	endif
	return false
endfunction

function Func3656 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local real BA3=(LoadReal(HY,(h),(191)))
	local real BB3=(LoadReal(HY,(h),(192)))
	local integer lvl=GetUnitAbilityLevel(source,'S00U')
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',BA3,BB3,0)
	call UnitAddAbilityPermanent(caster,'S00U')
	call SetUnitAbilityLevel(caster,'S00U',lvl)
	call IssuePointOrderById(caster,852224,x,y)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set source=null
	set caster=null
	set t=null
	return false
endfunction

function Func3657 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.3,false)
	call TriggerAddCondition(t,Condition(function Func3656))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((GetSpellTargetX())*1.0))
	call SaveReal(HY,(h),(7),((GetSpellTargetY())*1.0))
	call SaveReal(HY,(h),(191),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(192),((GetUnitY(source))*1.0))
	set source=null
	set t=null
endfunction

function Func3658 takes nothing returns boolean
	if GetSpellAbilityId()=='S00U' and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
		call Func3657()
	endif
	return false
endfunction

function Func3659 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3658))
	set t=CreateTrigger()
	call TriggerRegisterEnterRectSimple(t,GetWorldBounds())
	call TriggerAddCondition(t,Condition(function Func3655))
	set t=null
endfunction

function Func3660 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	if GetUnitAbilityLevel(Hero,'BHfs')==0 then
		call UnitRemoveAbility(Hero,'A0C9')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func3661 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	call UnitAddAbilityPermanent(Hero,'A0C9')
	call SetUnitAbilityLevel(Hero,'A0C9',GetUnitAbilityLevel(Hero,'A0CA'))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call TriggerRegisterTimerEvent(t,0.2,true)
	call TriggerAddCondition(t,Condition(function Func3660))
	set Hero=null
	set t=null
endfunction

function Func3662 takes nothing returns boolean
	if GetSpellAbilityId()=='A0CA' then
		call Func3661()
	endif
	return false
endfunction

function Func3663 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3662))
endfunction

function Func3664 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	call SetUnitState((LoadUnitHandle(HY,(h),(26))),UNIT_STATE_MANA,(LoadReal(HY,(h),(242))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	return false
endfunction

function Func3665 takes unit u,real VG5 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func3664))
	call SaveUnitHandle(HY,(h),(26),(u))
	call SaveReal(HY,(h),(242),((VG5)*1.0))
	set t=null
endfunction

function Func3666 takes nothing returns boolean
	return GetSpellAbilityId()=='A0CT'
endfunction

function Func3667 takes nothing returns nothing
	local integer h=GetHandleId(GetTriggerUnit())
	local real D14=Func0134((LoadReal(HY,(h),(7200+1))),1)
	local real OA2=Func0134((LoadReal(HY,(h),(7250+1))),1)
	local real x=(LoadReal(HY,(h),(7300+1)))
	local real y=(LoadReal(HY,(h),(7350+1)))
	local unit PKI=GetTriggerUnit()
	if(LoadReal(HY,(h),(7200+1)))>1 and GetUnitState(PKI,UNIT_STATE_LIFE)>1 then
		call AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl",GetUnitX(PKI),GetUnitY(PKI))
		call SetUnitX(PKI,x)
		call SetUnitY(PKI,y)
		call SetUnitState(PKI,UNIT_STATE_LIFE,D14)
		call SetUnitState(PKI,UNIT_STATE_MANA,OA2)
		call UnitRemoveBuffs(PKI,false,true)
		call RemoveDispellableBuffs(PKI)
		call Func3665(PKI,OA2)
	endif
endfunction

function Func3668 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3666))
	call TriggerAddAction(t,function Func3667)
endfunction

function Func3669 takes nothing returns nothing
	local trigger t=GetTriggeringTrigger()
	local unit PKI=(LoadUnitHandle(HY,(GetHandleId(t)),(221)))
	local integer h=GetHandleId(PKI)
	local integer TGI=1
	local integer THI=10
	loop
		exitwhen TGI>THI
		call SaveReal(HY,(h),(7300+(TGI-1)),(((LoadReal(HY,(h),(7300+(TGI)))))*1.0))
		call SaveReal(HY,(h),(7350+(TGI-1)),(((LoadReal(HY,(h),(7350+(TGI)))))*1.0))
		call SaveReal(HY,(h),(7200+(TGI-1)),(((LoadReal(HY,(h),(7200+(TGI)))))*1.0))
		call SaveReal(HY,(h),(7250+(TGI-1)),(((LoadReal(HY,(h),(7250+(TGI)))))*1.0))
		set TGI=TGI+1
	endloop
	call SaveReal(HY,(h),(7300+10),((GetUnitX(PKI))*1.0))
	call SaveReal(HY,(h),(7350+10),((GetUnitY(PKI))*1.0))
	call SaveReal(HY,(h),(7200+10),((GetUnitState(PKI,UNIT_STATE_LIFE))*1.0))
	call SaveReal(HY,(h),(7250+10),((GetUnitState(PKI,UNIT_STATE_MANA))*1.0))
endfunction

function TimeLapseLearn_Conditions takes nothing returns boolean
	return GetLearnedSkill()=='A0CT' and IsUnitIllusion(GetTriggerUnit())==false
endfunction

function Func3670 takes nothing returns nothing
	local unit PKI=tt_unit1
	local integer lvl=GetUnitAbilityLevel(PKI,'A0CT')
	local trigger t
	set t=CreateTrigger()
	call TriggerRegisterTimerEventPeriodic(t,0.50)
	call TriggerAddAction(t,function Func3669)
	call SaveUnitHandle(HY,(GetHandleId(t)),(221),(PKI))
endfunction

function Func3671 takes nothing returns nothing
endfunction

function Func3672 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real d=(LoadReal(HY,(h),(138)))
	local real VX5=(LoadReal(HY,(GetHandleId(source)),(508)))-d
	local fogmodifier fm=(LoadFogModifierHandle(HY,(h),(42)))
	call FogModifierStop(fm)
	call DestroyFogModifier(fm)
	call SaveReal(HY,(GetHandleId(source)),(508),((VX5)*1.0))
	call Func0366(source,R2I(VX5/100.0*(0.3*GetUnitAbilityLevel(source,'A1Q7'))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func3673 takes unit source,real d returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real VX5=(LoadReal(HY,(GetHandleId(source)),(508)))+d
	local fogmodifier fm=CreateFogModifierRadius(GetOwningPlayer(source),FOG_OF_WAR_VISIBLE,GetUnitX(source),GetUnitY(source),400,true,true)
	call FogModifierStart(fm)
	call SaveReal(HY,(GetHandleId(source)),(508),((VX5)*1.0))
	call Func0366(source,R2I(VX5/100.0*(0.6*GetUnitAbilityLevel(source,'A1Q7'))))
	call TriggerRegisterTimerEvent(t,10,false)
	call TriggerAddCondition(t,Condition(function Func3672))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(138),((d)*1.0))
	call SaveFogModifierHandle(HY,(h),(42),(fm))
	set t=null
endfunction

function Func3674 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real II3=(LoadReal(HY,(h),(23)))
	local real I13=(LoadReal(HY,(h),(24)))
	local real IO3=GetUnitX(source)
	local real I23=GetUnitY(source)
	local real d=Func0141(II3,I13,IO3,I23)
	if d<1500 then
		call Func3673(source,d)
	else
		call Func3673(source,1500)
	endif
	call SaveReal(HY,(h),(23),((IO3)*1.0))
	call SaveReal(HY,(h),(24),((I23)*1.0))
	set t=null
	set source=null
	return false
endfunction

function Func3675 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func3674))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(23),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(24),((GetUnitY(source))*1.0))
	call SaveReal(HY,(GetHandleId(source)),(508),((0)*1.0))
	set t=null
	set source=null
endfunction

function Func3676 takes nothing returns boolean
	if GetLearnedSkill()=='A1Q7' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A1Q7')==1 then
		call Func3675()
	endif
	return false
endfunction

function Register_EchoStep takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3676))
	set t=null
endfunction

function Func3677 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call UnitRemoveAbility(target,'A1QZ')
		call SaveInteger(HY,(GetHandleId((target))),((4290)),(2))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if GetTriggerUnit()==target then
			call KillUnit(source)
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source then
			call SetUnitAbilityLevel(target,'A1QZ',GetUnitAbilityLevel(target,'A1QZ')+1)
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SkeletalMageMissile\\SkeletalMageMissile.mdl",target,"chest"))
		endif
	else
		call SetUnitX(source,GetUnitX(target)-40)
		call SetUnitY(source,GetUnitY(target)-40)
		if Func0264(target)and IsUnitVisible(target,GetOwningPlayer(source))==false then
			call KillUnit(source)
		elseif ModuloInteger(GetTriggerEvalCount(t),5)==0 then
			call IssueTargetOrder(source,"attack",target)
		endif
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3678 takes unit VS5,unit target,integer lvl returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call UnitRemoveAbility(VS5,'Avul')
	call SaveUnitHandle(HY,(h),(2),(VS5))
	call SaveUnitHandle(HY,(h),(17),(target))
	call UnitAddAbilityPermanent(target,'A1QZ')
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerRegisterUnitEvent(t,VS5,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func3677))
	call TriggerEvaluate(t)
	call UnitApplyTimedLife(VS5,'BTLF',12+2*lvl)
	set t=null
endfunction

function Func3679 takes nothing returns boolean
	return(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and((LoadInteger(HY,(GetHandleId((GetFilterUnit()))),((4290))))==1)==false and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1)) or Func0264(GetFilterUnit())==false)
endfunction

function Func3680 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local group g
	local integer i=1
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local real a=(LoadReal(HY,(h),(137)))
	local unit VS5
	local unit target
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	set x=SafeX50(x+18*Cos(a))
	set y=SafeY50(y+18*Sin(a))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	if GetTriggerEvalCount(t)>166 then
		loop
			exitwhen i>12
			if(LoadBoolean(HY,(h),(511+i-1)))==false then
				call KillUnit((LoadUnitHandle(HY,(h),(393+i-1))))
			endif
			set i=i+1
		endloop
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set g=GetAvailableGroup()
		set tt_unit1=source
		call GroupEnumUnitsInRange(g,x,y,400,Condition(function Func3679))
		loop
			exitwhen i>12
			if(LoadBoolean(HY,(h),(511+i-1)))==false then
				set VS5=(LoadUnitHandle(HY,(h),(393+i-1)))
				set x=(LoadReal(HY,(h),(549+i-1)))
				set y=(LoadReal(HY,(h),(567+i-1)))
				set x=SafeX50(x+18*Cos(a))
				set y=SafeY50(y+18*Sin(a))
				call SaveReal(HY,(h),(549+i-1),((x)*1.0))
				call SaveReal(HY,(h),(567+i-1),((y)*1.0))
				call SetUnitX(VS5,x)
				call SetUnitY(VS5,y)
				set target=FirstOfGroup(g)
				if target!=null then
					call GroupRemoveUnit(g,target)
					call SaveInteger(HY,(GetHandleId((target))),((4290)),(1))
					call SaveBoolean(HY,(h),(511+i-1),(true))
					call Func3678(VS5,target,GetUnitAbilityLevel(source,'A1QW'))
				endif
			endif
			set i=i+1
		endloop
		call KillGroup(g)
		set g=null
		set VS5=null
		set target=null
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3681 takes nothing returns nothing
	local location l=GetSpellTargetLoc()
	local real QJI=GetLocationX(l)
	local real QKI=GetLocationY(l)
	local unit source=GetTriggerUnit()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local real a=Func0159(x,y,QJI,QKI)*bj_DEGTORAD
	local unit caster
	local real IV1=SafeX50(x+3000*Cos(a))
	local real IW1=SafeY50(y+3000*Sin(a))
	local integer i=1
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real CM_Column
	local integer lvl=GetUnitAbilityLevel(source,'A1QW')
	local integer RII
	call RemoveLocation(l)
	if lvl==1 then
		set RII='u01K'
	elseif lvl==2 then
		set RII='u01H'
	elseif lvl==3 then
		set RII='u01J'
	elseif lvl==4 then
		set RII='u01L'
	endif
	loop
		exitwhen i>12
		set caster=CreateUnit(GetOwningPlayer(source),RII,x+GetRandomInt(-300,300),y+GetRandomInt(-300,300),a*bj_RADTODEG)
		call SaveUnitHandle(HY,(h),(393+i-1),(caster))
		call SaveBoolean(HY,(h),(511+i-1),(false))
		call SaveReal(HY,(h),(549+i-1),((GetUnitX(caster))*1.0))
		call SaveReal(HY,(h),(567+i-1),((GetUnitY(caster))*1.0))
		set i=i+1
	endloop
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerAddCondition(t,Condition(function Func3680))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveReal(HY,(h),(47),((IV1)*1.0))
	call SaveReal(HY,(h),(48),((IW1)*1.0))
	set source=null
	set caster=null
	set l=null
	set t=null
endfunction

function Func3682 takes nothing returns boolean
	if GetSpellAbilityId()=='A1QW' then
		call Func3681()
	endif
	return false
endfunction

function Func3683 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3682))
	call Func0219('u01K')
	call Func0219('u01H')
	call Func0219('u01J')
	call Func0219('u01L')
	call Func0125('A1QZ')
	set t=null
endfunction

function Func3684 takes unit source,unit WNO,unit IN3,integer lvl,boolean IS3 returns real
	local unit caster=CreateUnit(GetOwningPlayer(IN3),'e00E',GetUnitX(WNO),GetUnitY(WNO),0)
	if IS3 then
		call UnitAddAbilityPermanent(caster,'A0WY')
	else
		call UnitAddAbilityPermanent(caster,'A0NL')
	endif
	call IssueTargetOrder(caster,"thunderbolt",IN3)
	if IsUnitType(IN3,UNIT_TYPE_HERO)==false then
		call DamageTarget_Delayed(source,IN3,1,50+25*lvl,0.4)
	else
		call DamageTarget_Delayed(source,IN3,1,50,0.4)
	endif
	if IS3 then
		return((GetUnitX(IN3)-GetUnitX(WNO))*(GetUnitX(IN3)-GetUnitX(WNO))+(GetUnitY(IN3)-GetUnitY(WNO))*(GetUnitY(IN3)-GetUnitY(WNO)))/1000000
	endif
	set caster=null
	return((GetUnitX(IN3)-GetUnitX(WNO))*(GetUnitX(IN3)-GetUnitX(WNO))+(GetUnitY(IN3)-GetUnitY(WNO))*(GetUnitY(IN3)-GetUnitY(WNO)))/360000
endfunction

function Func3685 takes unit source,unit WNO returns unit
	local group g=GetAvailableGroup()
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,GetUnitX(WNO),GetUnitY(WNO),600,Condition(function Func0275))
	call GroupRemoveUnit(g,WNO)
	set tt_unit1=GroupPickRandomUnit(g)
	call KillGroup(g)
	set g=null
	return tt_unit1
endfunction

function Func3686 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer W15=(LoadInteger(HY,(h),(391)))
	local unit WNO=UnitAsInteger_Load(W15)
	local integer Count=(LoadInteger(HY,(h),(34)))
	local unit IN3
	local real dur
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if Count<(lvl*2+1)then
		set IN3=Func3685(source,WNO)
		if IN3!=null then
			set dur=Func3684(source,WNO,IN3,lvl,false)
			set t=CreateTrigger()
			set h=GetHandleId(t)
			call SaveUnitHandle(HY,(h),(2),(source))
			call SaveInteger(HY,(h),(5),(lvl))
			call SaveInteger(HY,(h),(391),(Func0021(IN3)))
			call SaveInteger(HY,(h),(34),(Count+1))
			call TriggerRegisterTimerEvent(t,dur+0.4,false)
			call TriggerAddCondition(t,Condition(function Func3686))
		endif
	endif
	call UnitAsInteger_Clear(W15)
	set t=null
	set source=null
	set WNO=null
	set IN3=null
	return false
endfunction

function Func3687 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local unit IU3=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(Hero,'A0NM')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real dur=Func3684(Hero,Hero,IU3,lvl,true)
	call SaveUnitHandle(HY,(h),(2),(Hero))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(391),(Func0021(IU3)))
	call SaveInteger(HY,(h),(34),(1))
	call TriggerRegisterTimerEvent(t,dur,false)
	call TriggerAddCondition(t,Condition(function Func3686))
	set Hero=null
	set IU3=null
	set t=null
endfunction

function Func3688 takes nothing returns boolean
	if GetSpellAbilityId()=='A0NM' and IsBlocked(GetSpellTargetUnit())==false then
		call Func3687()
	endif
	return false
endfunction

function Func3689 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3688))
	set t=null
endfunction

function Func3690 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local integer lvl=GetUnitAbilityLevel(Hero,'A0NE')
	call UnitRemoveAbility(Hero,'A0NE')
	call UnitAddAbilityPermanent(Hero,'A0NE')
	call SetUnitAbilityLevel(Hero,'A0NE',lvl)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	return false
endfunction

function Func3691 takes unit target,integer lvl returns nothing
	local real HJ3=(8+lvl*8)/3
	call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)+HJ3)
endfunction

function Func3692 takes nothing returns boolean
	if(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))then
		call Func3691(GetFilterUnit(),integer022)
	endif
	return false
endfunction

function Func3693 takes unit Hero returns nothing
	local integer lvl=GetUnitAbilityLevel(Hero,'A0NE')
	local group g=GetAvailableGroup()
	set tt_unit1=Hero
	set integer022=lvl
	call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),525,Condition(function Func3692))
	call KillGroup(g)
	set g=null
endfunction

function Func3694 takes unit Hero returns nothing
	local integer lvl=GetUnitAbilityLevel(Hero,'A0NE')
	local real W85=4+4*lvl
	call SetUnitState(Hero,UNIT_STATE_MANA,GetUnitState(Hero,UNIT_STATE_MANA)-(W85/3))
	if GetUnitState(Hero,UNIT_STATE_MANA)<W85 then
		if((LoadInteger(HY,(GetHandleId((Hero))),((4265))))==1)==false then
			call IssueImmediateOrder(Hero,"unimmolation")
		endif
	endif
endfunction

function Func3695 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	if GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
		if GetIssuedOrderId()==852178 then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			set t=CreateTrigger()
			set h=GetHandleId(t)
			call SaveUnitHandle(HY,(h),(14),(Hero))
			call TriggerRegisterTimerEvent(t,0,false)
			call TriggerAddCondition(t,Condition(function Func3690))
		endif
	else
		call Func3693(Hero)
		call Func3694(Hero)
	endif
	set t=null
	return false
endfunction

function Func3696 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call TriggerRegisterTimerEvent(t,0.33,true)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_ISSUED_ORDER)
	call TriggerAddCondition(t,Condition(function Func3695))
	set Hero=null
	set t=null
endfunction

function Func3697 takes nothing returns boolean
	if GetSpellAbilityId()=='A0NE' then
		call Func3696()
	endif
	return false
endfunction

function Func3698 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3697))
	set t=null
endfunction

function Func3699 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A0NO')
	local integer Count=GetTriggerEvalCount(t)
	local real WD5=(LoadReal(HY,(h),(392)))
	local real H84=0
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		if Count==4 or Count==8 or Count==12 then
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			if Count==12 then
				call FlushChildHashtable(HY,(h))
				call CleanTrigger(t)
			elseif Count==4 or Count==8 then
				call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("effects\\NetherInferno.mdx",target,"origin")))
			endif
			set H84=(0.08+lvl*0.08)*Func0134(WD5-GetUnitState(target,UNIT_STATE_LIFE),0)
			if H84>0 then
				call Func0163("+"+I2S(R2I(H84)),2,target,0.023,68,0,187,216)
			endif
		endif
		call DamageTarget(source,target,1,5*lvl+H84)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3700 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetEnumUnit()
	call DestroyEffect(AddSpecialEffectTarget("effects\\NetherInferno.mdx",target,"origin"))
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3699))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(392),((GetUnitState(target,UNIT_STATE_LIFE))*1.0))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("effects\\NetherInferno.mdx",target,"origin")))
	set t=null
	set source=null
	set target=null
endfunction

function Func3701 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local group g=GetAvailableGroup()
	local integer lvl=GetUnitAbilityLevel(source,'A0NO')
	call GroupEnumUnitsInRange(g,x,y,180+25,Condition(function Func0300))
	call ForGroup(g,function Func3700)
	call KillGroup(g)
	call RemoveLocation(l)
	set l=null
	set g=null
endfunction

function Func3702 takes nothing returns boolean
	if GetSpellAbilityId()=='A0NO' then
		call Func3701()
	endif
	return false
endfunction

function Func3703 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3702))
	set t=null
endfunction

function Func3704 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if GetTriggerEventId()!=EVENT_UNIT_SPELL_ENDCAST then
		call InterruptUnit(source)
	endif
	set source=null
	set t=null
	return false
endfunction

function Func3705 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(2),(source))
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_ENDCAST)
	call TriggerRegisterTimerEvent(t,10,false)
	call TriggerAddCondition(t,Condition(function Func3704))
	set t=null
	set source=null
endfunction

function Func3706 takes nothing returns boolean
	if GetSpellAbilityId()=='A0NT' or GetSpellAbilityId()=='A0NX' then
		call Func3705()
	endif
	return false
endfunction

function Func3707 takes nothing returns boolean
	if GetUnitTypeId(GetSummonedUnit())=='o000' or GetUnitTypeId(GetSummonedUnit())=='o001' or GetUnitTypeId(GetSummonedUnit())=='o00A' or GetUnitTypeId(GetSummonedUnit())=='o00X' then
		call AddTimedKeyToUnit(GetSummoningUnit(),4265,8)
	endif
	return false
endfunction

function Func3708 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func3707))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3706))
	set t=null
endfunction

function Func3709 takes nothing returns boolean
	local integer id=0
	local unit target
	local real time=GetTime()
	local real mp
	local real hp
	loop
		exitwhen id>12
		set target=Players_Hero[id]
		if target!=null and GetUnitAbilityLevel(target,'B0CD')==0 and reals029[id]>time then
			set reals029[id]=0
		endif
		if target!=null and GetUnitAbilityLevel(target,'B0CD')>0 then
			if reals029[id]>time and IsDead(target)==false then
				set hp=GetUnitState(target,UNIT_STATE_LIFE)
				set mp=GetUnitState(target,UNIT_STATE_MANA)
				if hp<reals030[id]then
					set reals030[id]=hp
				else
				endif
				if mp<reals031[id]then
					set reals031[id]=mp
				else
				endif
				call SetUnitState(target,UNIT_STATE_LIFE,reals030[id])
				set integers171[id]=integers171[id]+1
				if integers171[id]==10 then
					set integers171[id]=0
					if integers172[id]==1 then
						call DamageTarget(units031[id],target,1,12.5)
					elseif integers172[id]==2 then
						call DamageTarget(units031[id],target,1,20)
					elseif integers172[id]==3 then
						call DamageTarget(units031[id],target,1,32)
					endif
				endif
			elseif reals029[id]>time and IsDead(target) then
				set reals029[id]=0
				set reals030[id]=9999
				set reals031[id]=9999
			endif
			if(GetUnitAbilityLevel(target,'B0CD')>0 and reals029[id]<time)then
				call UnitRemoveAbility(target,'A1JA')
				call UnitRemoveAbility(target,'B0CD')
				call UnitRemoveAbility(target,'A1LD')
			endif
		endif
		set id=id+1
	endloop
	set target=null
	return false
endfunction

function Func3710 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local unit caster
	if GetUnitAbilityLevel(target,'B0CD')==0 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetOwningPlayer(target)!=GetOwningPlayer(GetEventDamageSource())and GetUnitState(target,UNIT_STATE_MAX_LIFE)*(0.09+0.01*lvl)>GetUnitState(target,UNIT_STATE_LIFE)and((LoadInteger(HY,(GetHandleId((target))),((2485))))==1)==false then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitRemoveAbility(target,'A1JA')
		call UnitRemoveAbility(target,'B0CD')
		call UnitRemoveAbility(target,'A1LD')
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",target,"overhead"))
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",target,"chest"))
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",target,"origin"))
		set caster=CreateUnit(GetOwningPlayer(GetEventDamageSource()),'e00E',0,0,0)
		call UnitRemoveBuffs(target,true,true)
		call UnitRemoveAbility(target,'Aetl')
		call UnitDamageTarget(caster,target,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
		set caster=null
	endif
	set t=null
	set target=null
	return false
endfunction

function Func3711 takes unit source,unit target returns nothing
	local integer lvl=GetUnitAbilityLevel(source,'A1MI')
	local integer id=GetPlayerId(GetOwningPlayer(target))
	local trigger t
	local integer h
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A2QE')
	endif
	if lvl>0 and IsUnitType(target,UNIT_TYPE_HERO) and IsUnitIllusion(target)==false and Func0406(GetUnitTypeId(target))==false then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
		call TriggerAddCondition(t,Condition(function Func3710))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveInteger(HY,(h),(5),(lvl))
		call UnitAddAbilityPermanent(target,'A1JA')
		call UnitAddAbilityPermanent(target,'A1LD')
		if GetUnitAbilityLevel(source,'A2QE')>0 then
			set reals029[id]=GetTime()+real368
		else
			set reals029[id]=GetTime()+7+lvl
		endif
		set reals030[id]=GetUnitState(target,UNIT_STATE_LIFE)
		set reals031[id]=GetUnitState(target,UNIT_STATE_MANA)
		set units031[id]=source
		set integers172[id]=lvl
	endif
	set t=null
endfunction

function Func3712 takes nothing returns nothing
	local unit source=tt_unit1
	local unit target=GetEnumUnit()
	local integer id=GetPlayerId(GetOwningPlayer(target))
	local integer lvl=GetUnitAbilityLevel(source,'A1MI')
	local trigger t
	local integer h
	if IsUnitType(target,UNIT_TYPE_HERO) and IsUnitIllusion(target)==false and GetUnitAbilityLevel(target,'B0CD')==0 and Func0406(GetUnitTypeId(target))==false then
		if GetUnitAbilityLevel(source,'A2QE')>0 then
			set reals029[id]=real368
		else
			set reals029[id]=GetTime()+7+lvl
		endif
		call UnitAddAbilityPermanent(target,'A1JA')
		call UnitAddAbilityPermanent(target,'A1LD')
		set reals030[id]=GetUnitState(target,UNIT_STATE_LIFE)
		set reals031[id]=GetUnitState(target,UNIT_STATE_MANA)
		set units031[id]=source
		set integers172[id]=lvl
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
		call TriggerAddCondition(t,Condition(function Func3710))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveInteger(HY,(h),(5),(lvl))
		set t=null
	endif
	set source=null
	set target=null
endfunction

function Func3713 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x0=(LoadReal(HY,(h),(282)))
	local real y0=(LoadReal(HY,(h),(283)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local group g=GetAvailableGroup()
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,x0,y0,825,Condition(function Func0303))
	call ForGroup(g,function Func3712)
	call KillGroup(g)
	if GetTriggerEvalCount(t)>120 then
		call KillUnit((LoadUnitHandle(HY,(h),(434))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set g=null
	return false
endfunction

function Func3714 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local real RM2=GetUnitFacing(source)
	local real x2
	local real y2
	local unit WM5
	local unit X44
	local unit WN5
	local unit WS5
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A1MI')
	call RemoveLocation(l)
	set x2=x+350*Cos(RM2*bj_DEGTORAD)
	set y2=y+350*Sin(RM2*bj_DEGTORAD)
	set WM5=CreateUnit(GetOwningPlayer(source),'h0B3',x,y,RM2)
	set x2=x+350*Cos(RM2*bj_DEGTORAD)
	set y2=y-350*Sin(RM2*bj_DEGTORAD)
	set x2=x-350*Cos(RM2*bj_DEGTORAD)
	set y2=y+350*Sin(RM2*bj_DEGTORAD)
	set x2=x-350*Cos(RM2*bj_DEGTORAD)
	set y2=y-350*Sin(RM2*bj_DEGTORAD)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func3713))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(282),((x)*1.0))
	call SaveReal(HY,(h),(283),((y)*1.0))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveUnitHandle(HY,(h),(434),(WM5))
	set l=null
	set source=null
	set WM5=null
	set X44=null
	set WN5=null
	set WS5=null
	set t=null
endfunction

function Gust_Main takes nothing returns boolean
	if GetSpellAbilityId()=='A1N8' then
	endif
	return false
endfunction

function Func3715 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer id=0
	local integer i=0
	local player p
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func3709))
	loop
		exitwhen id>12
		set reals030[id]=9999
		set reals031[id]=9999
		set id=id+1
	endloop
	loop
		exitwhen i>5
		set p=Sentinels[i]
		call SetPlayerAbilityAvailable(p,'A1LD',false)
		set p=Scourges[i]
		call SetPlayerAbilityAvailable(p,'A1LD',false)
		set i=i+1
	endloop
	set t=null
endfunction

function Func3716 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real LVO=(LoadReal(HY,(GetHandleId(source)),(822)))
	if LVO+0.5<GetTime()or GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if Func0255(GetEnumUnit())then
			return false
		endif
		if GetUnitAbilityLevel(source,'A1HZ')>0 then
			call UnitRemoveAbility(source,'A1HZ')
			call UnitRemoveAbility(source,'B0C5')
		endif
		if GetUnitAbilityLevel(source,'A1I4')>0 then
			call UnitRemoveAbility(source,'A1I4')
			call UnitRemoveAbility(source,'B0C5')
		endif
		if GetUnitAbilityLevel(source,'A1I3')>0 then
			call UnitRemoveAbility(source,'A1I3')
			call UnitRemoveAbility(source,'B0C5')
		endif
		if GetUnitAbilityLevel(source,'A1I6')>0 then
			call UnitRemoveAbility(source,'A1I6')
			call UnitRemoveAbility(source,'B0C5')
		endif
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3717 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerRegisterDeathEvent(t,GetEnumUnit())
	call TriggerAddCondition(t,Condition(function Func3716))
	call SaveUnitHandle(HY,(h),(2),(GetEnumUnit()))
	set t=null
endfunction

function Func3718 takes nothing returns nothing
	if Func0255(GetEnumUnit())then
		return
	endif
	if Func0091(GetEnumUnit())==false then
		if integer527==1 then
			if GetUnitAbilityLevel(GetEnumUnit(),'A1HZ')==0 then
				call UnitRemoveAbility(GetEnumUnit(),'B0C5')
				call UnitAddAbilityPermanent(GetEnumUnit(),'A1HZ')
				call SaveReal(HY,(GetHandleId(GetEnumUnit())),(822),((GetTime())*1.0))
			endif
		elseif integer527==2 then
			if GetUnitAbilityLevel(GetEnumUnit(),'A1I4')==0 then
				call UnitRemoveAbility(GetEnumUnit(),'B0C5')
				call UnitAddAbilityPermanent(GetEnumUnit(),'A1I4')
				call SaveReal(HY,(GetHandleId(GetEnumUnit())),(822),((GetTime())*1.0))
			endif
		elseif integer527==3 then
			if GetUnitAbilityLevel(GetEnumUnit(),'A1I3')==0 then
				call UnitRemoveAbility(GetEnumUnit(),'B0C5')
				call UnitAddAbilityPermanent(GetEnumUnit(),'A1I3')
				call SaveReal(HY,(GetHandleId(GetEnumUnit())),(822),((GetTime())*1.0))
			endif
		elseif integer527==4 then
			if GetUnitAbilityLevel(GetEnumUnit(),'A1I6')==0 then
				call UnitRemoveAbility(GetEnumUnit(),'B0C5')
				call UnitAddAbilityPermanent(GetEnumUnit(),'A1I6')
				call SaveReal(HY,(GetHandleId(GetEnumUnit())),(822),((GetTime())*1.0))
			endif
		endif
	endif
endfunction

function Func3719 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local group RG3=(LoadGroupHandle(HY,(h),(340)))
	local real x=GetUnitX(caster)
	local real y=GetUnitY(caster)
	local group g=GetAvailableGroup()
	local group g2
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call ForGroup(RG3,function Func3717)
		call KillGroup(g)
		call KillGroup(RG3)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call ShowUnit(caster,false)
		set t=null
		set source=null
		set caster=null
		set RG3=null
		return false
	endif
	set unit373=source
	set integer527=GetUnitAbilityLevel(source,'A1HS')
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,x,y,300,Condition(function DefaultEnemyFilterWithAncients))
	call GroupRemoveGroup(g,RG3)
	call ForGroup(RG3,function Func3717)
	call ForGroup(g,function Func3718)
	call SaveGroupHandle(HY,(h),(340),(g))
	call KillGroup(RG3)
	set t=null
	set source=null
	set caster=null
	set RG3=null
	return false
endfunction

function Func3720 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local integer lvl=GetUnitAbilityLevel(source,'A1HS')
	local unit caster=CreateUnit(GetOwningPlayer(source),'n0HQ',x,y,0)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call UnitApplyTimedLife(caster,'BTLF',16)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerRegisterUnitEvent(t,caster,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3719))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveGroupHandle(HY,(h),(340),(GetAvailableGroup()))
	call RemoveLocation(l)
	set source=null
	set l=null
endfunction

function Func3721 takes nothing returns boolean
	if GetSpellAbilityId()=='A1HS' then
		call Func3720()
	endif
	return false
endfunction

function Func3722 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer i=0
	local player p
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3721))
	set t=null
	loop
		exitwhen i>5
		set p=Sentinels[i]
		call SetPlayerAbilityAvailable(p,'A1HZ',false)
		call SetPlayerAbilityAvailable(p,'A1I4',false)
		call SetPlayerAbilityAvailable(p,'A1I3',false)
		call SetPlayerAbilityAvailable(p,'A1I6',false)
		set p=Scourges[i]
		call SetPlayerAbilityAvailable(p,'A1HZ',false)
		call SetPlayerAbilityAvailable(p,'A1I4',false)
		call SetPlayerAbilityAvailable(p,'A1I3',false)
		call SetPlayerAbilityAvailable(p,'A1I6',false)
		set i=i+1
	endloop
endfunction

function Func3723 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local unit caster
	local real dmg=(100+50*lvl)/4
	if GetTriggerEventId()==EVENT_UNIT_DEATH or Func0141(x,y,GetUnitX(target),GetUnitY(target))>765 or GetUnitAbilityLevel(target,'B0CC')==0 then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call UnitRemoveAbility(target,'A1J9')
		call UnitRemoveAbility(target,'B0CC')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEvalCount(t)==(10*0.8)then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",target,"overhead")))
		call DamageTarget(source,target,1,dmg)
	elseif GetTriggerEvalCount(t)==(10*1.6)then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",target,"overhead")))
		call DamageTarget(source,target,1,dmg)
	elseif GetTriggerEvalCount(t)==(10*2.5)then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",target,"overhead")))
		call DamageTarget(source,target,1,dmg)
	elseif GetTriggerEvalCount(t)==(10*3.4)then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call DamageTarget(source,target,1,dmg)
	elseif GetTriggerEvalCount(t)>(10*3.9)then
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call UnitRemoveAbility(target,'A1J9')
		call UnitRemoveAbility(target,'B0CC')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		set caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
		call UnitAddAbilityPermanent(caster,'A1MJ')
		call SetUnitAbilityLevel(caster,'A1MJ',lvl)
		call IssueTargetOrder(caster,"thunderbolt",target)
		set caster=null
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3724 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A1MG')
	local string s="Doodads\\Cinematic\\GlowingRunes\\GlowingRunes4.mdl"
	if LocalPlayer==GetOwningPlayer(target)then
	endif
	call UnitAddAbilityPermanent(target,'A1J9')
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(6),((GetUnitX(target))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(target))*1.0))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",target,"overhead")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffect(s,GetUnitX(target),GetUnitY(target))))
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3723))
	set source=null
	set target=null
	set t=null
endfunction

function Func3725 takes nothing returns boolean
	if GetSpellAbilityId()=='A1MG' and IsBlocked(GetSpellTargetUnit())==false then
		call Func3724()
	endif
	return false
endfunction

function Func3726 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3725))
	set t=null
endfunction

function Func3727 takes nothing returns nothing
	local unit source=unit374
	local unit target=GetEnumUnit()
	local integer lvl=integer528
	call Func3711(source,target)
	call DamageTarget(source,target,1,150+100*lvl)
	call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\PlasmaShot.mdl",target,"chest"))
	set source=null
	set target=null
endfunction

function Func3728 takes nothing returns nothing
	local unit source=unit374
	local unit target=GetEnumUnit()
	local integer lvl=integer528
	call Func3711(source,target)
	set source=null
	set target=null
endfunction

function Func3729 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local real CY3=(LoadReal(HY,(h),(432)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real x=GetUnitX(IG1)+30*Cos(RM2)
	local real y=GetUnitY(IG1)+30*Sin(RM2)
	local group g
	local fogmodifier fm
	if Func0141(x,y,QJI,QKI)<35 or x!=SafeX50(x)or y!=SafeY50(y)then
		set x=QJI
		set y=QKI
		call SetUnitX(IG1,x)
		call SetUnitY(IG1,y)
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		set fm=(LoadFogModifierHandle(HY,(h),(440)))
		call FogModifierStop(fm)
		call DestroyFogModifier(fm)
		set fm=null
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillUnit(IG1)
		set tt_unit1=source
		set unit374=source
		set integer528=lvl
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,x,y,CY3+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func3727)
		call KillGroup(g)
		set g=null
	else
		call SetUnitX(IG1,x)
		call SetUnitY(IG1,y)
		set tt_unit1=source
		set unit374=source
		set integer528=lvl
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,x,y,300,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func3728)
		call KillGroup(g)
		set g=null
	endif
	set t=null
	set IG1=null
	set source=null
	return false
endfunction

function Func3730 takes unit source,real x,real y,real C54,effect FX,fogmodifier fm returns nothing
	local real RM2=Atan2(y-GetUnitY(source),x-GetUnitX(source))
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit IG1=CreateUnit(GetOwningPlayer(source),'h0B6',GetUnitX(source),GetUnitY(source),RM2*bj_RADTODEG)
	local integer lvl=GetUnitAbilityLevel(source,'A1MI')
	local real CY3=Func0133(25+250+25*C54*2,1000)
	local real QWI=Func0141(GetUnitX(source),GetUnitY(source),x,y)
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A2QE')
	endif
	if IsUnitEnemy(IG1,LocalPlayer)and Func0100(LocalPlayer)==false then
		call UnitSetUsesAltIcon(IG1,true)
	endif
	call TriggerRegisterTimerEvent(t,Func0133(2.0/(QWI/30),0.04),true)
	call TriggerAddCondition(t,Condition(function Func3729))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveReal(HY,(h),(47),((x)*1.0))
	call SaveReal(HY,(h),(48),((y)*1.0))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveReal(HY,(h),(432),((CY3)*1.0))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveFogModifierHandle(HY,(h),(440),(fm))
	call SaveEffectHandle(HY,(h),(32),(FX))
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1MI',true)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2QE',true)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1MN',false)
	set t=null
	set IG1=null
endfunction

function Func3731 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local real x
	local real y
	local real C54=GetTime()-(LoadReal(HY,(h),(431)))
	local string s
	local fogmodifier fm
	local effect FX
	local real X75=GetUnitX(IG1)+30*Cos(RM2)
	local real X85=GetUnitY(IG1)+30*Sin(RM2)
	set x=SafeX50(X75)
	set y=SafeY50(X85)
	call SetUnitX(IG1,x)
	call SetUnitY(IG1,y)
	if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A1MN')or x!=X75 or y!=X85 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call RemoveUnit(IG1)
		set s=""
		if IsPlayerAlly(GetOwningPlayer(source),LocalPlayer)or Func0100(LocalPlayer)then
			set s="war3mapImported\\IceWindGroundFX.mdl"
		endif
		set fm=CreateFogModifierRadius(GetOwningPlayer(source),FOG_OF_WAR_VISIBLE,x,y,500,true,true)
		call FogModifierStart(fm)
		set FX=AddSpecialEffect(s,x,y)
		call Func3730(source,x,y,C54,FX,fm)
		set fm=null
		set FX=null
	endif
	set t=null
	set IG1=null
	set source=null
	return false
endfunction

function Func3732 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local real a=Atan2(y-GetUnitY(source),x-GetUnitX(source))
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit IG1=CreateUnit(GetOwningPlayer(source),'H0B8',GetUnitX(source),GetUnitY(source),a*bj_RADTODEG)
	if IsUnitEnemy(IG1,LocalPlayer)and Func0100(LocalPlayer)==false then
		call UnitSetUsesAltIcon(IG1,true)
	endif
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(13),((a)*1.0))
	call SaveReal(HY,(h),(431),((GetTime())*1.0))
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3731))
	call SetUnitColor(IG1,GetPlayerColor(Player(14)))
	call RemoveLocation(l)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1MI',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2QE',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1MN',true)
	call UnitAddAbilityPermanent(source,'A1MN')
	set source=null
	set l=null
	set t=null
	set IG1=null
endfunction

function Func3733 takes nothing returns boolean
	if GetSpellAbilityId()=='A1MI' or GetSpellAbilityId()=='A2QE' then
		call Func3732()
	endif
	return false
endfunction

function Func3734 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3733))
	set t=null
endfunction

function ChillingTouch_DPS takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A1HQ')
	if GetTriggerEvalCount(t)==6 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	call DamageTarget(source,target,1,8+2*lvl)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3735 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer XC5=(LoadInteger(HY,(GetHandleId(source)),(449)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source and GetEventDamage()>1 then
			call DisableTrigger(t)
			if XC5>0 then
				call SaveInteger(HY,(GetHandleId(source)),(449),(XC5-1))
				call Func0163("+"+I2S(40+10*lvl),1,source,0.024,100,200,255,255)
				call DamageTarget(source,target,1,40+10*lvl)
			endif
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3736 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED or(LoadInteger(HY,(GetHandleId(source)),(449)))==0 then
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call SaveInteger(HY,(GetHandleId(source)),(449),(0))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitRemoveAbility(source,'A1HN')
		call UnitRemoveAbility(source,'B0CJ')
		call UnitRemoveAbility(source,'A1IP')
	elseif GetAttacker()==source and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and((LoadInteger(HY,(GetHandleId((source))),((4289))))==1)==false then
		call AddTimedKeyToUnit(source,4289,0.4)
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
		call TriggerRegisterTimerEvent(t,2.0,false)
		call TriggerAddCondition(t,Condition(function Func3735))
		call SaveUnitHandle(HY,(h),(17),(GetTriggerUnit()))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(19),(caster))
		call SaveInteger(HY,(h),(5),(lvl))
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3737 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetEnumUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A1HQ')
	call UnitAddAbilityPermanent(target,'A1HN')
	call UnitAddAbilityPermanent(target,'A1IP')
	call SaveInteger(HY,(GetHandleId(target)),(449),(2+lvl))
	call SaveUnitHandle(HY,(h),(2),(target))
	call SaveUnitHandle(HY,(h),(19),(source))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("war3mapImported\\FrostHands.mdx",target,"right,hand")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("war3mapImported\\FrostHands.mdx",target,"left,hand")))
	call TriggerRegisterTimerEvent(t,30,false)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func3736))
	set source=null
	set target=null
	set t=null
endfunction

function Func3738 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local group g=GetAvailableGroup()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	call RemoveLocation(l)
	call DestroyEffect(AddSpecialEffect("war3mapImported\\IcyWind.mdl",x,y))
	call GroupEnumUnitsInRange(g,x,y,525+25,Condition(function Func0296))
	call GroupAddUnit(g,source)
	call ForGroup(g,function Func3737)
	call KillGroup(g)
	set source=null
	set g=null
	set l=null
endfunction

function Func3739 takes nothing returns boolean
	if GetSpellAbilityId()=='A1HQ' then
		call Func3738()
	endif
	return false
endfunction

function Func3740 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3739))
	set t=null
endfunction

function Func3741 takes nothing returns nothing
	call DamageTarget(unit375,GetEnumUnit(),1,(GetUnitAbilityLevel(unit375,'A1IM')*75)/10)
endfunction

function Func3742 takes unit source returns nothing
	local real DH1=(GetUnitAbilityLevel(source,'A1IM')*75)/2
	set DH1=DH1/10.0
	if GetUnitState(source,UNIT_STATE_LIFE)<=DH1*0.75 then
		set DH1=GetUnitState(source,UNIT_STATE_LIFE)/0.75-10
	endif
	call DamageTarget(source,source,1,DH1)
endfunction

function Func3743 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local group g
	local real DH1
	local unit caster
	local integer lvl=0
	local integer Count=GetTriggerEvalCount(t)
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		return false
	else
		if GetTriggerEvalCount(t)==1 then
			set caster=CreateUnit(GetOwningPlayer(source),'h0B2',x,y,0)
			call UnitApplyTimedLife(caster,'BTLF',1)
			set caster=null
			call TriggerRegisterTimerEvent(t,0.1,true)
			set g=GetAvailableGroup()
			set unit375=source
			set tt_unit1=source
			call GroupEnumUnitsInRange(g,x,y,350,Condition(function DefaultEnemyFilterWithAncients))
			call ForGroup(g,function Func3741)
			call Func3742(source)
			call KillGroup(g)
		else
			if Count==10 then
				call FlushChildHashtable(HY,(h))
				call CleanTrigger(t)
			endif
			set g=GetAvailableGroup()
			set unit375=source
			set tt_unit1=source
			call GroupEnumUnitsInRange(g,x,y,350,Condition(function DefaultEnemyFilterWithAncients))
			call ForGroup(g,function Func3741)
			call Func3742(source)
			call KillGroup(g)
			call RemoveDispellableBuffs(source)
			call SetNapalmFactory(source,0,0)
		endif
	endif
	set t=null
	set g=null
	set source=null
	return false
endfunction

function Func3744 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local real DH1=(GetUnitAbilityLevel(source,'A1IM')*75)/2
	call TriggerRegisterTimerEvent(t,1.5,false)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3743))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
endfunction

function Func3745 takes nothing returns boolean
	if GetSpellAbilityId()=='A1IM' then
		call Func3744()
	endif
	return false
endfunction

function Func3746 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3745))
	set t=null
endfunction

function Func3747 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local player VE2
	local integer lvl=GetUnitAbilityLevel(source,'A1IN')
	local integer MainLevel=GetUnitAbilityLevel(source,'A1IN')
	local real time=GetTime()
	local real XJ5=(LoadReal(HY,(h),(415)))
	local real XK5=(LoadReal(HY,(h),(416)))
	if IsDead(source)then
		set t=null
		set source=null
		return false
	endif
	if IsSentinel(GetOwningPlayer(source))then
		set VE2=Scourges[1]
	else
		set VE2=Sentinels[1]
	endif
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetOwningPlayer(GetEventDamageSource())==Neutrals then
		if GetUnitAbilityLevel(source,'A1IE')>0 then
			call UnitRemoveAbility(source,'A1IE')
			call UnitRemoveAbility(source,'B0C9')
		endif
		if GetUnitAbilityLevel(source,'A1IF')>0 then
			call UnitRemoveAbility(source,'A1IF')
			call UnitRemoveAbility(source,'B0C9')
		endif
		if GetUnitAbilityLevel(source,'A1IG')>0 then
			call UnitRemoveAbility(source,'A1IG')
			call UnitRemoveAbility(source,'B0C9')
		endif
		call SaveReal(HY,(h),(414),((time+2)*1.0))
		set t=null
		set source=null
		return false
	endif
	if(LoadReal(HY,(h),(414)))>time then
		set t=null
		set source=null
		return false
	endif
	if(IsUnitVisible(source,VE2)and Func0258(source)==false)or GetUnitAbilityLevel(source,'BNdo')>0 then
		set XK5=0
		if GetUnitAbilityLevel(source,'A1IE')>0 or GetUnitAbilityLevel(source,'A1IF')>0 or GetUnitAbilityLevel(source,'A1IG')>0 then
			set XJ5=XJ5+0.1
			if XJ5>0.4 then
				set XJ5=0
				if GetUnitAbilityLevel(source,'A1IE')>0 then
					call UnitRemoveAbility(source,'A1IE')
					call UnitRemoveAbility(source,'B0C9')
				endif
				if GetUnitAbilityLevel(source,'A1IF')>0 then
					call UnitRemoveAbility(source,'A1IF')
					call UnitRemoveAbility(source,'B0C9')
				endif
				if GetUnitAbilityLevel(source,'A1IG')>0 then
					call UnitRemoveAbility(source,'A1IG')
					call UnitRemoveAbility(source,'B0C9')
				endif
			endif
		endif
		call SaveReal(HY,(h),(415),((XJ5)*1.0))
		call SaveReal(HY,(h),(416),((XK5)*1.0))
	elseif IsUnitVisible(source,VE2)==false or Func0258(source)then
		set XJ5=0
		if(lvl==1 and GetUnitAbilityLevel(source,'A1IE')==0)or(lvl==2 and GetUnitAbilityLevel(source,'A1IF')==0)or(lvl==3 and GetUnitAbilityLevel(source,'A1IG')==0)then
			set XK5=XK5+0.1
			if XK5>0.4 then
				set XK5=0
				if lvl==1 then
					if GetUnitAbilityLevel(source,'A1IE')==0 then
						call UnitAddAbilityPermanent(source,'A1IE')
						call UnitMakeAbilityPermanent(source,true,'A1I7')
						call UnitMakeAbilityPermanent(source,true,'A1I8')
						call UnitMakeAbilityPermanent(source,true,'A1IC')
					endif
				endif
				if lvl==2 then
					if GetUnitAbilityLevel(source,'A1IE')>0 then
						call UnitRemoveAbility(source,'A1IE')
						call UnitRemoveAbility(source,'B0C9')
					endif
					if GetUnitAbilityLevel(source,'A1IF')==0 then
						call UnitAddAbilityPermanent(source,'A1IF')
						call UnitMakeAbilityPermanent(source,true,'A1I7')
						call UnitMakeAbilityPermanent(source,true,'A1I9')
						call UnitMakeAbilityPermanent(source,true,'A1ID')
					endif
				endif
				if lvl==3 then
					if GetUnitAbilityLevel(source,'A1IE')>0 then
						call UnitRemoveAbility(source,'A1IE')
						call UnitRemoveAbility(source,'B0C9')
					endif
					if GetUnitAbilityLevel(source,'A1IF')>0 then
						call UnitRemoveAbility(source,'A1IF')
						call UnitRemoveAbility(source,'B0C9')
					endif
					if GetUnitAbilityLevel(source,'A1IG')==0 then
						call UnitAddAbilityPermanent(source,'A1IG')
						call UnitMakeAbilityPermanent(source,true,'A1I7')
						call UnitMakeAbilityPermanent(source,true,'A1IA')
						call UnitMakeAbilityPermanent(source,true,'A1IB')
					endif
				endif
			endif
		endif
		call SaveReal(HY,(h),(415),((XJ5)*1.0))
		call SaveReal(HY,(h),(416),((XK5)*1.0))
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3748 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveReal(HY,(h),(415),((0)*1.0))
	call SaveReal(HY,(h),(416),((0)*1.0))
	call SaveReal(HY,(h),(414),((GetTime())*1.0))
	call SaveUnitHandle(HY,(h),(2),(GetTriggerUnit()))
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func3747))
	call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A1IE',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A1IF',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A1IG',false)
	set t=null
endfunction

function Func3749 takes nothing returns boolean
	if GetLearnedSkill()=='A1IN' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A1IN')==1 then
		call Func3748()
	endif
	return false
endfunction

function Func3750 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3749))
	set t=null
endfunction

function Func3751 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=GetDyingUnit()
	if GetOwningPlayer(GetKillingUnit())==GetOwningPlayer(source)and IsUnitType(target,UNIT_TYPE_HERO) and IsUnitIllusion(target)==false then
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3752 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer XT5=(LoadInteger(HY,(h),(422)))
	local integer XR5=(LoadInteger(HY,(h),(423)))
	local integer HJ4=(LoadInteger(HY,(h),(424)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		if(LoadBoolean(HY,(h),(276)))==false and GetTriggerUnit()==source then
			call SaveBoolean(HY,(h),(276),(true))
			call SetHeroAgi(source,GetHeroAgi(source,false)-XT5-XR5-HJ4,true)
		elseif(LoadBoolean(HY,(h),(277)))==false and GetTriggerUnit()==target then
			call SaveBoolean(HY,(h),(277),(true))
			call SetHeroAgi(target,GetHeroAgi(target,false)+XT5,true)
			call SetHeroStr(target,GetHeroStr(target,false)+XR5,true)
			call SetHeroInt(target,GetHeroInt(target,false)+HJ4,true)
		endif
	else
		if(LoadBoolean(HY,(h),(276)))==false then
			call SaveBoolean(HY,(h),(276),(true))
			call SetHeroAgi(source,GetHeroAgi(source,false)-XT5-XR5-HJ4,true)
		endif
		if(LoadBoolean(HY,(h),(277)))==false then
			call SaveBoolean(HY,(h),(277),(true))
			call SetHeroAgi(target,GetHeroAgi(target,false)+XT5,true)
			call SetHeroStr(target,GetHeroStr(target,false)+XR5,true)
			call SetHeroInt(target,GetHeroInt(target,false)+HJ4,true)
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3753 takes unit source,unit target returns nothing
	local integer lvl=GetUnitAbilityLevel(source,'A1HR')
	local integer KBO=GetUnitPrimaryAttribute(target)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer XT5
	local integer XR5
	local integer HJ4
	local real DC1
	if KBO==2 then
		set XT5=IMinBJ(GetHeroAgi(target,false)-1,1)
		set XR5=IMinBJ(GetHeroStr(target,false)-1,1)
		set HJ4=IMinBJ(GetHeroInt(target,false)-1,1)
	elseif KBO==3 then
		set XT5=IMinBJ(GetHeroAgi(target,false)-1,1)
		set XR5=IMinBJ(GetHeroStr(target,false)-1,1)
		set HJ4=IMinBJ(GetHeroInt(target,false)-1,1)
	elseif KBO==1 then
		set XT5=IMinBJ(GetHeroAgi(target,false)-1,1)
		set XR5=IMinBJ(GetHeroStr(target,false)-1,1)
		set HJ4=IMinBJ(GetHeroInt(target,false)-1,1)
	endif
	call SetHeroAgi(source,GetHeroAgi(source,false)+XT5+HJ4+XR5,true)
	call SetHeroAgi(target,GetHeroAgi(target,false)-XT5,true)
	call SetHeroStr(target,GetHeroStr(target,false)-XR5,true)
	call SetHeroInt(target,GetHeroInt(target,false)-HJ4,true)
	call SaveInteger(HY,(h),(422),(XT5))
	call SaveInteger(HY,(h),(424),(HJ4))
	call SaveInteger(HY,(h),(423),(XR5))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveBoolean(HY,(h),(276),(false))
	call SaveBoolean(HY,(h),(277),(false))
	if lvl==1 then
		set DC1=15
	elseif lvl==2 then
		set DC1=30
	elseif lvl==3 then
		set DC1=60
	elseif lvl==4 then
		set DC1=120
	endif
	call TriggerRegisterTimerEvent(t,DC1,false)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3752))
	set t=null
endfunction

function Func3754 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()!=EVENT_UNIT_DEATH then
		call Func3753(source,target)
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3755 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source then
			call DisableTrigger(t)
			call UnitAsInteger_Clear(PCI)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			set t=CreateTrigger()
			set h=GetHandleId(t)
			call TriggerRegisterTimerEvent(t,0.01,false)
			call TriggerAddCondition(t,Condition(function Func3754))
			call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
			call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
			call SaveUnitHandle(HY,(h),(2),(source))
			call SaveUnitHandle(HY,(h),(17),(target))
		endif
	else
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3756 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local unit target=GetTriggerUnit()
	local unit source=GetAttacker()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,1,false)
	call TriggerAddCondition(t,Condition(function Func3755))
	call SaveInteger(HY,(h),(30),(Func0021(target)))
	call SaveUnitHandle(HY,(h),(2),(source))
	set target=null
	set source=null
	set t=null
endfunction

function Func3757 takes nothing returns nothing
	local unit source=GetAttacker()
	if((LoadInteger(HY,(GetHandleId((source))),((4274))))==1)==false then
		call AddTimedKeyToUnit(source,4274,0.45-GetUnitAbilityLevel(GetAttacker(),'A1HR')*0.05)
		call Func3756()
	endif
endfunction

function Func3758 takes nothing returns boolean
	if GetUnitAbilityLevel(GetAttacker(),'A1HR')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(14)))and GetUnitTypeId(GetTriggerUnit())!='n00L' and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
		call Func3757()
	endif
	return false
endfunction

function Func3759 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func3758))
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(GetTriggerUnit()))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3751))
	call SaveUnitHandle(HY,(h),(2),(GetTriggerUnit()))
	set t=null
endfunction

function Func3760 takes nothing returns boolean
	if GetLearnedSkill()=='A1HR' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A1HR')==1 then
		call Func3759()
	endif
	return false
endfunction

function Func3761 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3760))
	set t=null
endfunction

function Func3762 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	if Count>(4.0)/0.03 or GetTriggerEventId()==EVENT_WIDGET_DEATH then
		if((LoadInteger(HY,(GetHandleId((source))),((4420))))==1)==false then
			call UnitSetUsesAltIcon(source,false)
		endif
		call SaveInteger(HY,(GetHandleId((source))),((4421)),(2))
		call UnitAddAbility(source,'A2VV')
		call UnitRemoveAbility(source,'A2VV')
		call KillUnit(caster)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
		if GetTriggerUnit()==source then
			call IssueImmediateOrder(GetAttacker(),"stop")
		endif
	else
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
		call SetUnitX(caster,GetUnitX(source))
		call SetUnitY(caster,GetUnitY(source))
	endif
	set t=null
	set source=null
	set caster=null
	return false
endfunction

function Func3763 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A1IN')
	local real d=4.0
	local unit caster=CreateUnit(GetOwningPlayer(source),'h0B1',GetUnitX(source),GetUnitY(source),0)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	if IsPlayerAlly(LocalPlayer,GetOwningPlayer(source))==false and Func0100(LocalPlayer)==false then
		call UnitSetUsesAltIcon(source,true)
	endif
	call Func0225(source,'A1HW',1,d)
	call Func0225(source,'A1HX',1,d)
	call SaveInteger(HY,(GetHandleId((source))),((4421)),(1))
	call UnitAddAbility(source,'A2VU')
	call UnitRemoveAbility(source,'A2VU')
	if GetUnitTypeId(source)!='E02X' then
		call UnitAddAbility(source,'Aloc')
		call UnitRemoveAbility(source,'Aloc')
	endif
	call ShowUnit(source,false)
	call ShowUnit(source,true)
	call SelectUnitAddForPlayer(source,GetOwningPlayer(source))
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func3762))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(34),(0))
	set source=null
endfunction

function Func3764 takes nothing returns boolean
	if GetSpellAbilityId()=='A1IN' then
		call Func3763()
	endif
	return false
endfunction

function Func3765 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3764))
	set t=null
endfunction

function Func3766 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer Count=GetTriggerEvalCount(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local lightning UZI=(LoadLightningHandle(HY,(h),(196)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real SourceX=(LoadReal(HY,(h),(189)))
	local real SourceY=(LoadReal(HY,(h),(190)))
	local real QJI=GetUnitX(target)
	local real QKI=GetUnitY(target)
	local real IV1
	local real IW1
	local real II3=(LoadReal(HY,(h),(23)))
	local real I13=(LoadReal(HY,(h),(24)))
	local real RM2
	local real QWI=Func0141(II3,I13,QJI,QKI)
	call SaveReal(HY,(h),(23),((QJI)*1.0))
	call SaveReal(HY,(h),(24),((QKI)*1.0))
	if QWI>100 or Count>(3.5/.03)or Func0091(target) then
		call DestroyLightning(UZI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call MoveLightning(UZI,true,SourceX,SourceY,QJI,QKI)
		if Func0141(SourceX,SourceY,QJI,QKI)>325 then
			set RM2=Atan2(QKI-SourceY,QJI-SourceX)
			set IV1=SourceX+(325)*Cos(RM2)
			set IW1=SourceY+(325)*Sin(RM2)
			call SetUnitX(target,IV1)
			call SetUnitY(target,IW1)
		endif
	endif
	set t=null
	set source=null
	set target=null
	set UZI=null
	return false
endfunction

function Func3767 takes unit source,unit target,integer lvl returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local lightning UZI=AddLightning("PONC",true,GetUnitX(source),GetUnitY(source),GetUnitX(target),GetUnitY(target))
	call SetLightningColor(UZI,1,1,1,1)
	call SaveLightningHandle(HY,(h),(196),(UZI))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveReal(HY,(h),(189),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(190),((GetUnitY(source))*1.0))
	call SaveReal(HY,(h),(23),((GetUnitX(target))*1.0))
	call SaveReal(HY,(h),(24),((GetUnitY(target))*1.0))
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3766))
	call DamageTarget(source,target,1,50*lvl)
	call IssueTargetOrder(source,"attack",target)
	set t=null
	set UZI=null
endfunction

function Func3768 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer Count=GetTriggerEvalCount(t)
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local real BA3=(LoadReal(HY,(h),(189)))
	local real BB3=(LoadReal(HY,(h),(190)))
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local real IV1=BA3+(30*(20+4*2)/30)*Count*Cos(RM2*bj_DEGTORAD)
	local real IW1=BB3+(30*(20+4*2)/30)*Count*Sin(RM2*bj_DEGTORAD)
	local real YB3=SquareRoot((IV1-QJI)*(IV1-QJI)+(IW1-QKI)*(IW1-QKI))
	local real YC3=700
	local real YD3=175
	local real YE3=(1-YB3/YC3)*YD3*2
	local group g=GetAvailableGroup()
	local unit target
	if Count==1 then
		call SetUnitAnimationByIndex(source,5)
		call SetUnitTimeScale(source,1.5)
	endif
	if YE3>YD3 then
		call SetUnitAnimationByIndex(source,5)
		set YE3=YD3*2-YE3
	endif
	call SetUnitFlyHeight(source,Func0134(YE3,0),0)
	call SetUnitX(source,SafeX50(IV1))
	call SetUnitY(source,SafeY50(IW1))
	call SetUnitFacing(source,RM2)
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,IV1,IW1,120,Condition(function Func0304))
	set target=FirstOfGroup(g)
	call KillGroup(g)
	if YB3<30 or target!=null or GetTriggerEvalCount(t)>75 then
		call SetUnitFlyHeight(source,0,0)
		call SetUnitFacing(source,RM2)
		call SetUnitTimeScale(source,1)
		call SetUnitAnimation(source,"stand")
		call SetUnitPathing(source,true)
		call UnitRemoveAbility(source,'A1J6')
		call KillTrees(GetUnitX(source),GetUnitY(source),100)
		if target!=null and Func0091(target)==false then
			call AddTimedKeyToUnit(target,4408,5)
			call Func3767(source,target,lvl)
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3769 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A1J7')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real QWI=700
	local real RM2=GetUnitFacing(source)
	local real SourceX=GetUnitX(source)
	local real SourceY=GetUnitY(source)
	local real QJI=SafeX50(SourceX+QWI*Cos(RM2*bj_DEGTORAD))
	local real QKI=SafeY50(SourceY+QWI*Sin(RM2*bj_DEGTORAD))
	call UnitAddAbilityPermanent(source,'Amrf')
	call UnitRemoveAbility(source,'Amrf')
	call SetUnitPathing(source,false)
	call UnitAddAbilityPermanent(source,'A1J6')
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerAddCondition(t,Condition(function Func3768))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveReal(HY,(h),(189),((SourceX)*1.0))
	call SaveReal(HY,(h),(190),((SourceY)*1.0))
	call SaveReal(HY,(h),(47),((QJI)*1.0))
	call SaveReal(HY,(h),(48),((QKI)*1.0))
	set source=null
	set t=null
endfunction

function Func3770 takes nothing returns boolean
	if GetSpellAbilityId()=='A1J7' then
		call Func3769()
	endif
	return false
endfunction

function Func3771 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3770))
	set t=null
endfunction

function Func3772 takes nothing returns nothing
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit source=tt_unit1
	local unit target=tt_unit2
	local real dmg=(LoadReal(HY,(h),(20)))
	call DamageTarget(source,target,1,dmg)
	set source=null
	set target=null
endfunction

function Func3773 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetEnumUnit()
	local trigger t=AddProjectile(source,target,'h0BP',"Func3772",700,false)
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A04A')
	local real dmg
	if lvl==1 then
		set dmg=85
	elseif lvl==2 then
		set dmg=165
	elseif lvl==3 then
		set dmg=225
	elseif lvl==4 then
		set dmg=300
	endif
	call SaveReal(HY,(h),(20),((dmg)*1.0))
	set source=null
	set target=null
	set t=null
endfunction

function Func3774 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local group g=GetAvailableGroup()
	local integer lvl=GetUnitAbilityLevel(source,'A04A')
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),500,Condition(function Func0271))
	call ForGroup(g,function Func3773)
	call KillGroup(g)
	call PlaySoundOnUnitBJ(sound055,100,source)
	set source=null
endfunction

function Func3775 takes nothing returns boolean
	if GetSpellAbilityId()=='A04A' then
		call Func3774()
	endif
	return false
endfunction

function Func3776 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3775))
	set t=null
endfunction

function Func3777 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group029)==false then
		call GroupAddUnit(group029,GetEnumUnit())
		call DamageTarget(unit376,GetEnumUnit(),7,real370)
	endif
endfunction

function Func3778 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local group PR2=(LoadGroupHandle(HY,(h),(22)))
	local real a=(LoadReal(HY,(h),(137)))
	local real IT3=Func0139(source,IG1)
	local real IV1=GetUnitX(IG1)+real369*0.02*Cos(a*bj_DEGTORAD)
	local real IW1=GetUnitY(IG1)+real369*0.02*Sin(a*bj_DEGTORAD)
	local group g
	local real r=100+350*IT3/900
	local integer lvl=GetUnitAbilityLevel(source,'A306')
	local real dmg
	if lvl>0 then
		set dmg=190+100*lvl
	else
		set lvl=GetUnitAbilityLevel(source,'A307')
		set dmg=200+125*lvl
	endif
	if IT3>900 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillGroup(PR2)
		call KillUnit(IG1)
	else
		call SetUnitX(IG1,IV1)
		call SetUnitY(IG1,IW1)
		set tt_unit1=source
		set unit376=source
		set group029=PR2
		set real370=dmg
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,IV1,IW1,r,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func3777)
		call KillGroup(g)
		set g=null
	endif
	set PR2=null
	set t=null
	set source=null
	set IG1=null
	return false
endfunction

function Func3779 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit IG1=CreateUnit(GetOwningPlayer(source),'h0EW',GetUnitX(source),GetUnitY(source),GetUnitFacing(source))
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local real a=Func0159(GetUnitX(source),GetUnitY(source),x,y)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func3778))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveGroupHandle(HY,(h),(22),(GetAvailableGroup()))
	call SaveReal(HY,(h),(137),((a)*1.0))
	set source=null
	set t=null
	set IG1=null
endfunction

function Func3780 takes nothing returns boolean
	if GetSpellAbilityId()=='A306' or GetSpellAbilityId()=='A307' then
		call Func3779()
	endif
	return false
endfunction

function Func3781 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3780))
	set t=null
endfunction

function Func3782 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call InterruptUnit(source)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3783 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A00P')
	call TriggerRegisterTimerEvent(t,1+1.75+0.75*lvl,false)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_ENDCAST)
	call TriggerAddCondition(t,Condition(function Func3782))
	call SaveUnitHandle(HY,(h),(2),(source))
	set source=null
	set t=null
endfunction

function Func3784 takes nothing returns boolean
	if GetSpellAbilityId()=='A00P' then
		call Func3783()
	endif
	return false
endfunction

function Func3785 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3784))
	set t=null
endfunction

function Func3786 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A00H')
	local integer RII
	local real QJI=GetSpellTargetX()
	local real QKI=GetSpellTargetY()
	local real x
	local real y
	local real d
	local real h
	local real dur=40
	local unit u
	if lvl==0 then
		set dur=45
		set lvl=GetUnitAbilityLevel(source,'A0A1')
		if lvl==1 then
			set RII='o01C'
		elseif lvl==2 then
			set RII='o01D'
		elseif lvl==3 then
			set RII='o01E'
		endif
	else
		if lvl==1 then
			set RII='osp4'
		elseif lvl==2 then
			set RII='o008'
		elseif lvl==3 then
			set RII='o009'
		endif
	endif
	set d=65
	set h=65
	set x=QJI+0*d
	set y=QKI+1*h
	set u=CreateUnit(GetOwningPlayer(source),RII,x,y,0)
	call UnitApplyTimedLife(u,'BTLF',dur)
	set x=QJI+1*d
	set y=QKI+1*h
	set u=CreateUnit(GetOwningPlayer(source),RII,x,y,0)
	call UnitApplyTimedLife(u,'BTLF',dur)
	set x=QJI+2*d
	set y=QKI+1*h
	set u=CreateUnit(GetOwningPlayer(source),RII,x,y,0)
	call UnitApplyTimedLife(u,'BTLF',dur)
	set x=QJI-1*d
	set y=QKI+1*h
	set u=CreateUnit(GetOwningPlayer(source),RII,x,y,0)
	call UnitApplyTimedLife(u,'BTLF',dur)
	set x=QJI-2*d
	set y=QKI+1*h
	set u=CreateUnit(GetOwningPlayer(source),RII,x,y,0)
	call UnitApplyTimedLife(u,'BTLF',dur)
	set x=QJI-1*d
	set y=QKI+0*h
	set u=CreateUnit(GetOwningPlayer(source),RII,x,y,0)
	call UnitApplyTimedLife(u,'BTLF',dur)
	set x=QJI+1*d
	set y=QKI+0*h
	set u=CreateUnit(GetOwningPlayer(source),RII,x,y,0)
	call UnitApplyTimedLife(u,'BTLF',dur)
	set x=QJI-1*d
	set y=QKI-1*h
	set u=CreateUnit(GetOwningPlayer(source),RII,x,y,0)
	call UnitApplyTimedLife(u,'BTLF',dur)
	set x=QJI+0*d
	set y=QKI-1*h
	set u=CreateUnit(GetOwningPlayer(source),RII,x,y,0)
	call UnitApplyTimedLife(u,'BTLF',dur)
	set x=QJI+1*d
	set y=QKI-1*h
	set u=CreateUnit(GetOwningPlayer(source),RII,x,y,0)
	call UnitApplyTimedLife(u,'BTLF',dur)
	set source=null
endfunction

function Func3787 takes nothing returns boolean
	if GetSpellAbilityId()=='A00H' or GetSpellAbilityId()=='A0A1' then
		call Func3786()
	endif
	return false
endfunction

function Func3788 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3787))
	set t=null
endfunction

function Func3789 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)==4 or Func0091(target)then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call UnitRemoveAbility(target,'A2O7')
		call UnitRemoveAbility(target,'B0GC')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	if GetTriggerEventId()!=EVENT_WIDGET_DEATH then
		call DamageTarget(source,target,1,20*lvl-10)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3790 takes unit source,unit target,integer lvl returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call UnitAddAbilityPermanent(target,'A2O7')
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerAddCondition(t,Condition(function Func3789))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",target,"chest")))
	set t=null
endfunction

function Func3791 takes nothing returns boolean
	if IsUnitInGroup(GetEnumUnit(),group030)==false and Func0091(GetEnumUnit())==false then
		call GroupAddUnit(group030,GetEnumUnit())
		call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FireBlast.mdx",GetEnumUnit(),"chest"))
		call Func3790(unit377,GetEnumUnit(),integer529)
	endif
	return false
endfunction

function Func3792 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer Count=(LoadInteger(HY,(h),(34)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real SourceX=(LoadReal(HY,(h),(189)))
	local real SourceY=(LoadReal(HY,(h),(190)))
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local real a=(LoadReal(HY,(h),(13)))
	local real YS5=(1-I2R(Count)/50)*bj_PI
	local real YT5=1400/2*Cos(YS5)
	local real YR5=500/2*Sin(YS5)
	local real x=SafeX50(QJI+YT5*Cos(a)-YR5*Sin(a))
	local real y=SafeY50(QKI+YT5*Sin(a)+YR5*Cos(a))
	local group JAO=(LoadGroupHandle(HY,(h),(133)))
	local group g
	local integer lvl=GetUnitAbilityLevel(source,'A1RJ')
	if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and Count>0 and(GetSpellAbilityId()=='A20N' or GetSpellAbilityId()=='A1RK'))or Count>100 or Func0251(source)then
		call KillTrees(x,y,300)
		call SetUnitVertexColor(source,255,255,255,255)
		if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A1RJ' then
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1RJ',true)
		endif
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A20N',false)
		call SetUnitPathing(source,true)
		call KillGroup(JAO)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		if ModuloInteger(Count,10)==0 then
			call KillTrees(x,y,200)
		endif
		call SaveInteger(HY,(h),(34),(Count+1))
		call SetUnitX(source,x)
		call SetUnitY(source,y)
		call SetUnitFacing(source,(a+YS5-bj_PI/2)*bj_RADTODEG)
		set g=GetAvailableGroup()
		set group030=JAO
		set tt_unit1=source
		set unit377=source
		set integer529=GetUnitAbilityLevel(source,'A1RJ')
		call GroupEnumUnitsInRange(g,x,y,200+25,Condition(function Func0280))
		call ForGroup(g,function Func3791)
		call KillGroup(g)
	endif
	set t=null
	set source=null
	set g=null
	set JAO=null
	return false
endfunction

function Func3793 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local real SourceX=GetUnitX(source)
	local real SourceY=GetUnitY(source)
	local real a=Func0159(SourceX,SourceY,GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORAD
	local real QJI=SourceX+1400/2*Cos(a)
	local real QKI=SourceY+1400/2*Sin(a)
	call SetUnitState(source,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_LIFE)-GetUnitState(source,UNIT_STATE_LIFE)*0.15)
	call AddTimedKeyToUnit(source,4301,2)
	call AddTimedKeyToUnit(source,4415,2)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3792))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(189),((SourceX)*1.0))
	call SaveReal(HY,(h),(190),((SourceY)*1.0))
	call SaveReal(HY,(h),(47),((QJI)*1.0))
	call SaveReal(HY,(h),(48),((QKI)*1.0))
	call SaveReal(HY,(h),(13),((a)*1.0))
	call SaveGroupHandle(HY,(h),(133),(GetAvailableGroup()))
	call SetUnitPathing(source,false)
	call SetUnitVertexColor(source,255,255,255,50)
	call UnitAddAbilityPermanent(source,'A20N')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1RJ',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A20N',true)
	set t=null
	set source=null
endfunction

function Func3794 takes nothing returns boolean
	if GetSpellAbilityId()=='A1RJ' then
		call Func3793()
	endif
	return false
endfunction

function Func3795 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3794))
	set t=null
endfunction

function Func3796 takes nothing returns nothing
	local unit source=unit378
	local unit target=GetEnumUnit()
	call DamageTarget(source,target,1,40+20*integer530)
	call Func0152("Doodads\\Cinematic\\FireTrapUp\\FireTrapUp.mdl",target,"origin",1)
	set source=null
	set target=null
endfunction

function Func3797 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A1RK')
	local group g
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set tt_unit1=source
		set unit378=source
		set integer530=lvl
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),1000+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func3796)
		call KillGroup(g)
		set g=null
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3798 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit J15=(LoadUnitHandle(HY,(h),(589)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if IsUnitIllusion(GetEventDamageSource()) then
			call Func0137(J15,GetEventDamage())
		endif
	else
		if GetUnitX(J15)!=x or GetUnitY(J15)!=y then
			call SetUnitPosition(J15,x,y)
		endif
		if GetUnitY(source)!=x or GetUnitY(source)!=y then
			call SetUnitPosition(source,x,y)
		endif
		call SetUnitX(caster,GetUnitX(source))
		call SetUnitY(caster,GetUnitY(source))
	endif
	if GetTriggerEvalCount(t)==1 then
		call PauseUnit(source,true)
	endif
	set t=null
	set J15=null
	set source=null
	set caster=null
	return false
endfunction

function Func3799 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit J25=(LoadUnitHandle(HY,(h),(588)))
	local unit J15=(LoadUnitHandle(HY,(h),(589)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local unit ZK3=(LoadUnitHandle(HY,(h),(239)))
	local integer lvl=GetUnitAbilityLevel(source,'A1RK')
	local group g
	local unit caster
	local integer J35
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call StopSound(sound057,false,false)
		call ShowUnit(J25,false)
		call ShowUnit(ZK3,false)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call ShowUnit(source,true)
		call SaveInteger(HY,(GetHandleId((source))),((4326)),(2))
		call UnitRemoveAbility(source,'A04R')
		call SetUnitInvulnerable(source,false)
		call PauseUnit(source,false)
		if LocalPlayer==GetOwningPlayer(source)then
			call ClearSelection()
			call SelectUnit(source,true)
		endif
		call SetUnitState(source,UNIT_STATE_LIFE,1)
		set caster=CreateUnit(GetOwningPlayer(GetKillingUnit()),'e00E',0,0,0)
		call UnitRemoveBuffs(source,true,true)
		call UnitRemoveAbility(source,'Aetl')
		call UnitDamageTarget(caster,source,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
		set caster=null
	else
		if GetTriggerEvalCount(t)==1 then
			call SetUnitFlyHeight(J15,0,200)
		elseif GetTriggerEvalCount(t)==2 then
			call PauseUnit(J15,false)
			call UnitApplyTimedLife(J15,'BTLF',0.1)
			call StopSound(sound057,false,false)
			call StartSound(sound058)
			call DestroyEffect(AddSpecialEffect("war3mapImported\\FireNova2.mdx",GetUnitX(J25),GetUnitY(J25)))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call ShowUnit(source,true)
			call SaveInteger(HY,(GetHandleId((source))),((4326)),(2))
			call UnitRemoveAbility(source,'A04R')
			call SetUnitInvulnerable(source,false)
			call SetUnitAnimationByIndex(source,8)
			call QueueUnitAnimation(source,"idle")
			call PauseUnit(source,false)
			if LocalPlayer==GetOwningPlayer(source)then
				call ClearSelection()
				call SelectUnit(source,true)
			endif
			call ShowUnit(J25,false)
			call ShowUnit(ZK3,false)
			call SetUnitState(source,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_MAX_LIFE))
			call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MAX_MANA))
			set J35=GetUnitAbilityLevel(source,'A1RJ')
			if J35>0 then
				call UnitRemoveAbility(source,'A1RJ')
				call UnitAddAbility(source,'A1RJ')
				call SetUnitAbilityLevel(source,'A1RJ',J35)
			endif
			set J35=GetUnitAbilityLevel(source,'A1YX')
			if J35>0 then
				call UnitRemoveAbility(source,'A1YX')
				call UnitAddAbility(source,'A1YX')
				call SetUnitAbilityLevel(source,'A1YX',J35)
			endif
			set J35=GetUnitAbilityLevel(source,'A1YY')
			if J35>0 then
				call UnitRemoveAbility(source,'A1YY')
				call UnitAddAbility(source,'A1YY')
				call SetUnitAbilityLevel(source,'A1YY',J35)
			endif
			set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
			call UnitAddAbilityPermanent(caster,'A1ZT')
			call SetUnitAbilityLevel(caster,'A1ZT',lvl)
			call IssueImmediateOrder(caster,"stomp")
			set caster=null
		endif
	endif
	set t=null
	set source=null
	set J25=null
	set ZK3=null
	set J15=null
	return false
endfunction

function Func3800 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local unit J25
	local unit J15
	local unit ZK3=CreateUnit(GetOwningPlayer(source),'h0CL',GetUnitX(source),GetUnitY(source),0)
	local integer lvl=GetUnitAbilityLevel(source,'A1RK')
	local unit caster
	local unit J55=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
	set J25=CreateUnit(GetOwningPlayer(source),'h0BX',x,y,0)
	if lvl==1 then
		set J15=CreateUnit(GetOwningPlayer(source),'h0CV',x,y,0)
	elseif lvl==2 then
		set J15=CreateUnit(GetOwningPlayer(source),'h0CX',x,y,0)
	elseif lvl==3 then
		set J15=CreateUnit(GetOwningPlayer(source),'h0CW',x,y,0)
	endif
	call AddSpecialEffectTarget("war3mapImported\\PhoenixDown_2.mdl",J25,"origin")
	if LocalPlayer==GetOwningPlayer(source)then
		call ClearSelection()
		call SelectUnit(J15,true)
	endif
	call KillTrees(x,y,400)
	call ShowUnit(source,false)
	call SaveInteger(HY,(GetHandleId((source))),((4326)),(1))
	call UnitAddAbilityPermanent(source,'A04R')
	call SetNapalmFactory(source,0,0)
	call SetUnitInvulnerable(source,true)
	call UnitRemoveBuffs(source,true,true)
	call StartSound(sound057)
	call UnitRemoveAbility(J15,'Arav')
	call UnitApplyTimedLife(J25,'BTLF',6.1)
	call UnitApplyTimedLife(ZK3,'BTLF',6.1)
	call UnitApplyTimedLife(J15,'BTLF',6.1)
	call TriggerRegisterTimerEvent(t,5.2,false)
	call TriggerRegisterTimerEvent(t,6,false)
	call TriggerAddCondition(t,Condition(function Func3799))
	call TriggerRegisterUnitEvent(t,J15,EVENT_UNIT_DEATH)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(588),(J25))
	call SaveUnitHandle(HY,(h),(589),(J15))
	call SaveUnitHandle(HY,(h),(239),(ZK3))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterUnitEvent(t,J15,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3797))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,.02,true)
	call TriggerRegisterUnitEvent(t,J15,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,J15,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func3798))
	call SaveUnitHandle(HY,(h),(589),(J15))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	call SaveUnitHandle(HY,(h),(19),(J55))
	if Func0328(source,'I0A8')then
		call UnitAddAbility(J55,'A04I')
	endif
	set t=null
	set source=null
	set J25=null
	set J15=null
endfunction

function Func3801 takes nothing returns boolean
	if GetSpellAbilityId()=='A1RK' then
		call Func3800()
	endif
	return false
endfunction

function Func3802 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3801))
	call Func0125('A0X6')
	call Func0125('A1ZT')
	set t=null
endfunction

function Func3803 takes nothing returns nothing
	local unit source=unit379
	local unit target=GetEnumUnit()
	call DamageTarget(source,target,1,40+20*integer531)
	call Func0152("Doodads\\Cinematic\\FireTrapUp\\FireTrapUp.mdl",target,"origin",1)
	set source=null
	set target=null
endfunction

function Func3804 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A2YR')
	local group g
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set tt_unit1=source
		set unit379=source
		set integer531=lvl
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),1000+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func3803)
		call KillGroup(g)
		set g=null
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3805 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit J15=(LoadUnitHandle(HY,(h),(589)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if IsUnitIllusion(GetEventDamageSource()) then
			call Func0137(J15,GetEventDamage())
		endif
	else
		if GetUnitX(J15)!=x or GetUnitY(J15)!=y then
			call SetUnitPosition(J15,x,y)
		endif
		if GetUnitY(source)!=x or GetUnitY(source)!=y then
			call SetUnitPosition(source,x,y)
		endif
		call SetUnitX(caster,GetUnitX(source))
		call SetUnitY(caster,GetUnitY(source))
		if target!=null and(GetUnitY(target)!=x or GetUnitY(target)!=y)then
			call SetUnitPosition(target,x,y)
		endif
	endif
	if GetTriggerEvalCount(t)==1 then
		call PauseUnit(source,true)
	endif
	set t=null
	set J15=null
	set source=null
	set target=null
	set caster=null
	return false
endfunction

function Func3806 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit J25=(LoadUnitHandle(HY,(h),(588)))
	local unit J15=(LoadUnitHandle(HY,(h),(589)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local unit ZK3=(LoadUnitHandle(HY,(h),(239)))
	local integer lvl=GetUnitAbilityLevel(source,'A2YR')
	local group g
	local unit caster
	local integer J35
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call StopSound(sound057,false,false)
		call ShowUnit(J25,false)
		call ShowUnit(ZK3,false)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call ShowUnit(source,true)
		call SaveInteger(HY,(GetHandleId((source))),((4326)),(2))
		call UnitRemoveAbility(source,'A04R')
		call SetUnitInvulnerable(source,false)
		call PauseUnit(source,false)
		if LocalPlayer==GetOwningPlayer(source)then
			call ClearSelection()
			call SelectUnit(source,true)
		endif
		call SetUnitState(source,UNIT_STATE_LIFE,1)
		set caster=CreateUnit(GetOwningPlayer(GetKillingUnit()),'e00E',0,0,0)
		call UnitRemoveBuffs(source,true,true)
		call UnitRemoveAbility(source,'Aetl')
		call UnitDamageTarget(caster,source,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
		if target!=null then
			call ShowUnit(target,true)
			call SaveInteger(HY,(GetHandleId((target))),((4326)),(2))
			call UnitRemoveAbility(target,'A04R')
			call SetUnitInvulnerable(target,false)
			call PauseUnit(target,false)
			if LocalPlayer==GetOwningPlayer(target)then
				call ClearSelection()
				call SelectUnit(target,true)
			endif
			call SetUnitState(target,UNIT_STATE_LIFE,1)
			set caster=CreateUnit(GetOwningPlayer(GetKillingUnit()),'e00E',0,0,0)
			call UnitRemoveBuffs(target,true,true)
			call UnitRemoveAbility(target,'Aetl')
			call UnitDamageTarget(caster,target,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
		endif
		set caster=null
	else
		if GetTriggerEvalCount(t)==1 then
			call SetUnitFlyHeight(J15,0,200)
		elseif GetTriggerEvalCount(t)==2 then
			call PauseUnit(J15,false)
			call UnitApplyTimedLife(J15,'BTLF',0.1)
			call StopSound(sound057,false,false)
			call StartSound(sound058)
			call DestroyEffect(AddSpecialEffect("war3mapImported\\FireNova2.mdx",GetUnitX(J25),GetUnitY(J25)))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call ShowUnit(source,true)
			call SaveInteger(HY,(GetHandleId((source))),((4326)),(2))
			call UnitRemoveAbility(source,'A04R')
			call SetUnitInvulnerable(source,false)
			call SetUnitAnimationByIndex(source,8)
			call QueueUnitAnimation(source,"idle")
			call PauseUnit(source,false)
			if LocalPlayer==GetOwningPlayer(source)then
				call ClearSelection()
				call SelectUnit(source,true)
			endif
			call ShowUnit(J25,false)
			call ShowUnit(ZK3,false)
			call SetUnitState(source,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_MAX_LIFE))
			call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MAX_MANA))
			if target!=null then
				call ShowUnit(target,true)
				call SaveInteger(HY,(GetHandleId((target))),((4326)),(2))
				call UnitRemoveAbility(target,'A04R')
				call SetUnitInvulnerable(target,false)
				call PauseUnit(target,false)
				if LocalPlayer==GetOwningPlayer(target)then
					call ClearSelection()
					call SelectUnit(target,true)
				endif
				call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_MAX_LIFE))
				call SetUnitState(target,UNIT_STATE_MANA,GetUnitState(target,UNIT_STATE_MAX_MANA))
			endif
			set J35=GetUnitAbilityLevel(source,'A1RJ')
			if J35>0 then
				call UnitRemoveAbility(source,'A1RJ')
				call UnitAddAbility(source,'A1RJ')
				call SetUnitAbilityLevel(source,'A1RJ',J35)
			endif
			set J35=GetUnitAbilityLevel(source,'A1YX')
			if J35>0 then
				call UnitRemoveAbility(source,'A1YX')
				call UnitAddAbility(source,'A1YX')
				call SetUnitAbilityLevel(source,'A1YX',J35)
			endif
			set J35=GetUnitAbilityLevel(source,'A1YY')
			if J35>0 then
				call UnitRemoveAbility(source,'A1YY')
				call UnitAddAbility(source,'A1YY')
				call SetUnitAbilityLevel(source,'A1YY',J35)
			endif
			set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
			call UnitAddAbilityPermanent(caster,'A1ZT')
			call SetUnitAbilityLevel(caster,'A1ZT',lvl)
			call IssueImmediateOrder(caster,"stomp")
			set caster=null
		endif
	endif
	set t=null
	set source=null
	set target=null
	set J25=null
	set ZK3=null
	set J15=null
	return false
endfunction

function Func3807 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local unit J25
	local unit J15
	local unit ZK3=CreateUnit(GetOwningPlayer(source),'h0CL',GetUnitX(source),GetUnitY(source),0)
	local integer lvl=GetUnitAbilityLevel(source,'A2YR')
	local unit caster
	local unit J55=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
	if target==source then
		set target=null
	endif
	set J25=CreateUnit(GetOwningPlayer(source),'h0BX',x,y,0)
	if lvl==1 then
		set J15=CreateUnit(GetOwningPlayer(source),'h0CV',x,y,0)
	elseif lvl==2 then
		set J15=CreateUnit(GetOwningPlayer(source),'h0CX',x,y,0)
	elseif lvl==3 then
		set J15=CreateUnit(GetOwningPlayer(source),'h0CW',x,y,0)
	endif
	call AddSpecialEffectTarget("war3mapImported\\PhoenixDown_2.mdl",J25,"origin")
	if LocalPlayer==GetOwningPlayer(source)then
		call ClearSelection()
		call SelectUnit(J15,true)
	endif
	call KillTrees(x,y,400)
	call ShowUnit(source,false)
	call SaveInteger(HY,(GetHandleId((source))),((4326)),(1))
	call UnitAddAbilityPermanent(source,'A04R')
	call SetNapalmFactory(source,0,0)
	call SetUnitInvulnerable(source,true)
	call UnitRemoveBuffs(source,true,true)
	if target!=null then
		call ShowUnit(target,false)
		call SaveInteger(HY,(GetHandleId((target))),((4326)),(1))
		call UnitAddAbilityPermanent(target,'A04R')
		call SetNapalmFactory(target,0,0)
		call SetUnitInvulnerable(target,true)
		call UnitRemoveBuffs(target,true,true)
	endif
	call StartSound(sound057)
	call UnitRemoveAbility(J15,'Arav')
	call UnitApplyTimedLife(J25,'BTLF',6.1)
	call UnitApplyTimedLife(ZK3,'BTLF',6.1)
	call UnitApplyTimedLife(J15,'BTLF',6.1)
	call TriggerRegisterTimerEvent(t,5.2,false)
	call TriggerRegisterTimerEvent(t,6,false)
	call TriggerAddCondition(t,Condition(function Func3806))
	call TriggerRegisterUnitEvent(t,J15,EVENT_UNIT_DEATH)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(588),(J25))
	call SaveUnitHandle(HY,(h),(589),(J15))
	call SaveUnitHandle(HY,(h),(239),(ZK3))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterUnitEvent(t,J15,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3804))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,.02,true)
	call TriggerRegisterUnitEvent(t,J15,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,J15,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func3805))
	call SaveUnitHandle(HY,(h),(589),(J15))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	call SaveUnitHandle(HY,(h),(19),(J55))
	if Func0328(source,'I0A8')then
		call UnitAddAbility(J55,'A04I')
	endif
	set t=null
	set source=null
	set target=null
	set J25=null
	set J15=null
endfunction

function Func3808 takes nothing returns boolean
	if GetSpellAbilityId()=='A2YR' then
		call Func3807()
	endif
	return false
endfunction

function Func3809 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3808))
	call Func0125('A0X6')
	call Func0125('A1ZT')
	set t=null
endfunction

function Func3810 takes nothing returns nothing
	call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+real371)
	call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BirdShitTarget_1.mdx",GetEnumUnit(),"origin"))
endfunction

function Func3811 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local group g
	local integer lvl=GetUnitAbilityLevel(source,'A27B')
	call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
	call DestroyEffect(AddSpecialEffect("war3mapImported\\Firaga_2.mdx",x,y))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set g=GetAvailableGroup()
	set real371=50+75*lvl
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,x,y,425,Condition(function Func0295))
	call ForGroup(g,function Func3810)
	call KillGroup(g)
	set t=null
	set source=null
	set g=null
	return false
endfunction

function Func3812 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	call TriggerRegisterTimerEvent(t,3,false)
	call TriggerAddCondition(t,Condition(function Func3811))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	if IsPlayerAlly(GetOwningPlayer(source),LocalPlayer)or Func0100(LocalPlayer)then
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffect("war3mapImported\\BirdShit_1.mdx",x,y)))
	else
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffect("",x,y)))
	endif
	if IsPlayerAlly(LocalPlayer,GetOwningPlayer(source))or Func0100(LocalPlayer)then
		call PingMinimapEx(x,y,3,255,0,0,false)
		call Func0174(sound066,x,y)
	endif
	call TimedReveal(GetOwningPlayer(source),4,x,y,500)
	call SetUnitState(source,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_LIFE)*0.9)
	set t=null
	set source=null
endfunction

function Func3813 takes nothing returns boolean
	if GetSpellAbilityId()=='A27B' then
		call Func3812()
	endif
	return false
endfunction

function Func3814 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3813))
	set t=null
endfunction

function Func3815 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call UnitRemoveAbility(target,'A270')
		call UnitRemoveAbility(target,'B0EK')
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEvalCount(t)>4 then
		call UnitRemoveAbility(target,'A270')
		call UnitRemoveAbility(target,'B0EK')
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call DamageTarget(source,target,1,16+12*lvl)
	else
		call DamageTarget(source,target,1,16+12*lvl)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3816 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real II3=(LoadReal(HY,(h),(23)))
	local real I13=(LoadReal(HY,(h),(24)))
	local real a=(LoadReal(HY,(h),(137)))
	local real x=II3+12*Cos(a)
	local real y=I13+12*Sin(a)
	call SetUnitX(target,x)
	call SetUnitY(target,y)
	call SaveReal(HY,(h),(23),((x)*1.0))
	call SaveReal(HY,(h),(24),((y)*1.0))
	if GetTriggerEvalCount(t)>25 then
		call KillTrees(x,y,100)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3817 takes unit source,unit target,real x,real y,real a returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A271')
	call SetUnitPosition(target,GetUnitX(target),GetUnitY(target))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(137),((a*bj_DEGTORAD)*1.0))
	call SaveReal(HY,(h),(23),((GetUnitX(target))*1.0))
	call SaveReal(HY,(h),(24),((GetUnitY(target))*1.0))
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerAddCondition(t,Condition(function Func3816))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",target,"chest")))
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerAddCondition(t,Condition(function Func3815))
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A270',false)
	call UnitAddAbilityPermanent(target,'A270')
	set t=null
endfunction

function Func3818 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group031)==false then
		if Func0139(unit381,GetEnumUnit())<24 or RAbsBJ(Cos(Func0158(unit381,GetEnumUnit())-real374))<0.26 then
			call GroupAddUnit(group031,GetEnumUnit())
			if Sin((Func0158(unit381,GetEnumUnit())-real374)*bj_DEGTORAD)<0 then
				call Func3817(unit380,GetEnumUnit(),real372,real373,real374-90)
			else
				call Func3817(unit380,GetEnumUnit(),real372,real373,real374+90)
			endif
		endif
	endif
endfunction

function Func3819 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real a=(LoadReal(HY,(h),(137)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	local group g
	if GetTriggerEvalCount(t)>125 then
		call KillUnit(IG1)
		call KillGroup(PR2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set x=x+8*Cos(a)
		set y=y+8*Sin(a)
		call SetUnitX(IG1,x)
		call SetUnitY(IG1,y)
		call SaveReal(HY,(h),(6),((x)*1.0))
		call SaveReal(HY,(h),(7),((y)*1.0))
		set tt_unit1=source
		set real372=x
		set real373=y
		set real374=a*bj_RADTODEG
		set group031=PR2
		set unit380=source
		set unit381=IG1
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,x,y,225,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func3818)
		call KillGroup(g)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3820 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local real QJI=GetSpellTargetX()
	local real QKI=GetSpellTargetY()
	local real RM2=Atan2(QKI-GetUnitY(source),QJI-GetUnitX(source))
	local integer lvl=GetUnitAbilityLevel(source,'A271')
	local unit IG1=CreateUnit(GetOwningPlayer(source),'h0DA',GetUnitX(source),GetUnitY(source),RM2*bj_RADTODEG)
	call TriggerRegisterTimerEvent(t,0.01,true)
	call TriggerAddCondition(t,Condition(function Func3819))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveReal(HY,(h),(137),((RM2)*1.0))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveGroupHandle(HY,(h),(187),(GetAvailableGroup()))
	set t=null
	set source=null
endfunction

function Func3821 takes nothing returns boolean
	if GetSpellAbilityId()=='A271' then
		call Func3820()
	endif
	return false
endfunction

function Func3822 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3821))
	set t=null
endfunction

function Func3823 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real time=(LoadReal(HY,(GetHandleId(source)),(681)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if(GetTime()-time<0.49)==false or GetTriggerEventId()==EVENT_UNIT_DEATH then
		call UnitRemoveAbility(source,'A1Z4')
		call UnitRemoveAbility(source,'A1ZA')
		call UnitRemoveAbility(source,'A1ZB')
		call UnitRemoveAbility(source,'A1Z9')
		call UnitRemoveAbility(source,'B0DV')
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3824 takes unit source returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer JM5
	call TriggerRegisterTimerEvent(t,0.5,false)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3823))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(GetHandleId(source)),(681),((GetTime())*1.0))
	if integer532==1 then
		set JM5='A1Z4'
		call UnitRemoveAbility(source,'A1ZA')
		call UnitRemoveAbility(source,'A1ZB')
		call UnitRemoveAbility(source,'A1Z9')
	elseif integer532==2 then
		set JM5='A1ZA'
		call UnitRemoveAbility(source,'A1Z4')
		call UnitRemoveAbility(source,'A1ZB')
		call UnitRemoveAbility(source,'A1Z9')
	elseif integer532==3 then
		set JM5='A1ZB'
		call UnitRemoveAbility(source,'A1Z4')
		call UnitRemoveAbility(source,'A1ZA')
		call UnitRemoveAbility(source,'A1Z9')
	elseif integer532==4 then
		set JM5='A1Z9'
		call UnitRemoveAbility(source,'A1Z4')
		call UnitRemoveAbility(source,'A1ZA')
		call UnitRemoveAbility(source,'A1ZB')
	endif
	call UnitAddAbilityPermanent(source,JM5)
	call UnitMakeAbilityPermanent(source,true,JM5)
	set t=null
endfunction

function Func3825 takes nothing returns nothing
	local unit target=GetEnumUnit()
	local real JS5=real379
	local real JT5=real380
	local real dmg=JS5+JT5*GetUnitState(target,UNIT_STATE_MAX_LIFE)
	set dmg=dmg/5
	if IsUnitEnemy(target,GetOwningPlayer(unit382)) then
		call DamageTarget(unit382,target,3,dmg)
		if Func0091(target)==false then
			call Func3824(target)
		endif
	else
		call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)+dmg*0.5)
	endif
	call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FireRayTarget.mdx",target,"origin"))
	call TimedReveal(GetOwningPlayer(target),2,GetUnitX(unit382),GetUnitY(unit382),500)
	set target=null
endfunction

function Func3826 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer Count=(LoadInteger(HY,(h),(34)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real JP5=GetUnitFacing(source)
	local real a=JP5*bj_DEGTORAD
	local location l1=GetUnitLoc(source)
	local real JQ5=GetLocationZ(l1)
	local location l2=Location(GetUnitX(source)+real375*Cos(a),GetUnitY(source)+real375*Sin(a))
	local real JU5=GetLocationZ(l2)
	local lightning K05=(LoadLightningHandle(HY,(h),(676)))
	local lightning KI5=(LoadLightningHandle(HY,(h),(677)))
	local lightning K15=(LoadLightningHandle(HY,(h),(678)))
	local lightning KO5=(LoadLightningHandle(HY,(h),(679)))
	local lightning K25=(LoadLightningHandle(HY,(h),(680)))
	local real K35=1
	local real SourceX
	local real SourceY
	local real K45
	local real K55
	local real K65
	local real K75
	local real K85
	local real K95
	local real KA5
	local real KB5
	local real KC5
	local real KD5
	local real KE5
	local real KF5
	local real KG5
	local real KH5
	local real KZ5
	local real KV5
	local real KW5
	local real KX5
	local real KY5
	local real KJ5
	local real KK5
	local real KL5
	local real KM5
	local real KN5
	local real KS5
	local real KT5
	local real KR5
	local real KP5
	local real KQ5
	local real KU5
	local real L05
	local group g
	local real x
	local real y
	local integer i
	local real LI5
	local real L15
	local real LO5
	local boolean L25=FALSE
	local boolean L35=false
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit NewTarget=null
	local unit DriftTarget=null
	local real L45
	local real L55
	local real L65
	local real L75=(LoadReal(HY,(h),(688)))
	local boolean L85=(LoadBoolean(HY,(h),(689)))
	local boolean L95=(LoadBoolean(HY,(h),(672)))
	local real LA5
	local ubersplat AR1
	local real II3=(LoadReal(HY,(h),(23)))
	local real I13=(LoadReal(HY,(h),(24)))
	local real JS5
	local real JT5
	local real LB5
	local real LC5=5
	if GetUnitCurrentOrder(source)==852001 then
		call DisableTrigger(t)
		call InterruptUnit(source)
		call EnableTrigger(t)
	endif
	call RemoveLocation(l1)
	call RemoveLocation(l2)
	if IsUnitPaused(source)==false and(GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER)then
		set SourceX=GetUnitX(source)
		set SourceY=GetUnitY(source)
		if GetIssuedOrderId()!=852490 and GetIssuedOrderId()!=852185 and GetIssuedOrderId()!=852600 then
			call DisableTrigger(t)
			call InterruptUnit(source)
			call EnableTrigger(t)
		endif
		if GetIssuedOrderId()==851971 then
			if GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER then
				set x=GetUnitX(GetOrderTargetUnit())
				set y=GetUnitY(GetOrderTargetUnit())
			else
				set x=GetOrderPointX()
				set y=GetOrderPointY()
			endif
			set LI5=Func0159(x,y,SourceX,SourceY)
			if LI5<0 then
				set LI5=LI5+360
			endif
			set LO5=JP5-LI5
			if LO5<0 then
				set LO5=LO5+360
			endif
			if LO5<180 then
				set L25=true
				set L15=JP5+6
			else
				set L35=true
				set L15=JP5-6
			endif
			set L75=Func0159(x,y,SourceX,SourceY)+180
			call SaveReal(HY,(h),(688),((L75)*1.0))
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT or GetTriggerEventId()==EVENT_WIDGET_DEATH or(LoadInteger(HY,(GetHandleId(source)),(704)))==-1 or Count>=6.0/.02 or Func0250(source)or Func0070(source)then
		if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()=='A1Z3' or GetSpellAbilityId()=='A1RK' or GetSpellAbilityId()=='A27H'))then
			call SaveInteger(HY,(GetHandleId((source))),((4312)),(2))
			call Func0262(source)
			call SetUnitPathing(source,true)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call UnitRemoveAbility(source,'A205')
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1Z3',false)
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A205',false)
			if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A1YY' then
				call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1YY',true)
			endif
			call DestroyLightning(K05)
			call DestroyLightning(KI5)
			call DestroyLightning(K15)
			call DestroyLightning(KO5)
			call DestroyLightning(K25)
			call StopSound(sound065,false,true)
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
		if GetIssuedOrderId()==String2OrderIdBJ("immolation")then
			set L85=true
		endif
		if GetIssuedOrderId()==String2OrderIdBJ("unimmolation")then
			set L85=false
		endif
		call SaveBoolean(HY,(h),(689),(L85))
	else
		set LI5=JP5-L75
		if LI5<-180 then
			set LI5=LI5+360
		elseif LI5>180 then
			set LI5=LI5-360
		endif
		set LA5=1
		if Count<35 and L95 then
			set LA5=7
		endif
		if LI5<(-1*LA5)then
			set JP5=JP5+LA5
		elseif LI5>LA5 then
			set JP5=JP5-LA5
		else
			set L95=false
			call SaveBoolean(HY,(h),(672),(L95))
			set JP5=L75
		endif
		if((LoadInteger(HY,(GetHandleId((source))),((4301))))==1)==false then
			call SetUnitFacing(source,JP5)
		endif
		set a=JP5*bj_DEGTORAD
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
		set K45=real375
		set SourceX=GetUnitX(source)+50*Cos(a)
		set SourceY=GetUnitY(source)+50*Sin(a)
		if L85 and Func0248(source)==false and Func0250(source)==false then
			if((LoadInteger(HY,(GetHandleId((source))),((4331))))==1) then
				set LC5=LC5*2
			endif
			set L65=a
			set L45=SafeX50(GetUnitX(source)+LC5*Cos(L65))
			set L55=SafeY50(GetUnitY(source)+LC5*Sin(L65))
			call KillTrees(L45,L55,200)
			call SetUnitX(source,L45)
			call SetUnitY(source,L55)
		endif
		call SetUnitState(source,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_LIFE)-GetUnitState(source,UNIT_STATE_LIFE)*0.06*0.02)
		call KillTrees(SourceX,SourceY,200)
		if ModuloInteger(Count,10)==0 then
			set group032=GetAvailableGroup()
			set tt_unit1=source
			set i=0
			loop
				exitwhen i*50>real375
				set x=SourceX+i*50*Cos(a)
				set y=SourceY+i*50*Sin(a)
				set g=GetAvailableGroup()
				call GroupEnumUnitsInRange(g,x,y,130+25,Condition(function DefaultEnemyFilterWithAncients))
				call GroupAddGroup(g,group032)
				call GroupEnumUnitsInRange(g,x,y,130+25,Condition(function Func0295))
				call GroupAddGroup(g,group032)
				call KillGroup(g)
				if ModuloInteger(i,3)==0 then
					call TimedReveal(GetOwningPlayer(source),2,x,y,225)
				endif
				set i=i+1
			endloop
			set unit382=source
			set integer532=GetUnitAbilityLevel(source,'A1YY')
			set LB5=(I2R(Count)/50.0)/6
			set real379=(5*integer532+10)+(5*integer532+10)*LB5
			set real380=(integer532+LB5*(integer532))/100
			call GroupRemoveUnit(group032,source)
			call ForGroup(group032,function Func3825)
			call KillGroup(group032)
			set g=null
			set group032=null
		endif
		if IsDead(source)==false then
			if target!=null then
				set K45=Func0139(source,target)
			endif
			set K55=SourceX
			set K65=SourceY
			set K75=JQ5+200
			set K85=K55+K45*Cos(a)
			set K95=K65+K45*Sin(a)
			set KA5=JU5
			set KB5=SourceX+real376*Cos((JP5-90)*bj_DEGTORAD)
			set KC5=SourceY+real377*Cos((JP5-90)*bj_DEGTORAD)
			set KD5=JQ5+200
			set KE5=KB5+K45*Cos(a)
			set KF5=KC5+K45*Sin(a)
			set KG5=JU5
			set KH5=SourceX+real376*Cos((JP5+90)*bj_DEGTORAD)
			set KZ5=SourceY+real377*Cos((JP5+90)*bj_DEGTORAD)
			set KV5=JQ5+200
			set KW5=KH5+K45*Cos(a)
			set KX5=KZ5+K45*Sin(a)
			set KY5=JU5
			set KJ5=SourceX
			set KK5=SourceY
			set KL5=JQ5+200+real378
			set KM5=KJ5+K45*Cos(a)
			set KN5=KK5+K45*Sin(a)
			set KS5=JU5
			set KT5=SourceX
			set KR5=SourceY
			set KP5=JQ5+200-real378
			set KQ5=KT5+K45*Cos(a)
			set KU5=KR5+K45*Sin(a)
			set L05=JU5
			if ModuloInteger(Count,10)==0 and K45==real375 then
				set x=GetUnitX(source)+(real375)*Cos(a)
				set y=GetUnitY(source)+(real375)*Sin(a)
				call DestroyEffect(AddSpecialEffect("war3mapImported\\FireRayTarget.mdx",x,y))
			endif
			if ModuloInteger(Count,10)==0 then
				call SetSoundPosition(sound065,GetUnitX(source),GetUnitY(source),100)
				set x=GetUnitX(source)+(K45)*Cos(a)
				set y=GetUnitY(source)+(K45)*Sin(a)
				set AR1=CreateUbersplat(x,y,"SRAY",255,255,255,255,false,false)
				call SetUbersplatRenderAlways(AR1,true)
				call Func0233(AR1,10)
				set AR1=null
			endif
			call MoveLightningEx(K05,false,K55,K65,K75,K85,K95,KA5)
			call MoveLightningEx(KI5,false,KB5,KC5,KD5,KE5,KF5,KG5)
			call MoveLightningEx(K15,false,KH5,KZ5,KV5,KW5,KX5,KY5)
			call MoveLightningEx(KO5,false,KJ5,KK5,KL5,KM5,KN5,KS5)
			call MoveLightningEx(K25,false,KT5,KR5,KP5,KQ5,KU5,L05)
			if Func0100(LocalPlayer)then
				set K35=1
			endif
			call SetLightningColor(K05,1.00,1.00,1.00,K35)
			call SetLightningColor(KI5,1.00,1.00,1.00,K35)
			call SetLightningColor(K15,1.00,1.00,1.00,K35)
			call SetLightningColor(KO5,1.00,1.00,1.00,K35)
			call SetLightningColor(K25,1.00,1.00,1.00,K35)
		endif
	endif
	set t=null
	set source=null
	set K05=null
	set KI5=null
	set K15=null
	set KO5=null
	set K25=null
	set l1=null
	set l2=null
	return false
endfunction

function Func3827 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local real a=Func0159(GetUnitX(source),GetUnitY(source),GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORAD
	local real QJI=SafeX50(GetUnitX(source)+real375*Cos(a))
	local real QKI=SafeY50(GetUnitY(source)+real375*Sin(a))
	local lightning K05=AddLightning("SRAY",false,GetUnitX(source),GetUnitY(source),QJI,QKI)
	local lightning KI5=AddLightning("SRAY",false,GetUnitX(source),GetUnitY(source),QJI,QKI)
	local lightning K15=AddLightning("SRAY",false,GetUnitX(source),GetUnitY(source),QJI,QKI)
	local lightning KO5=AddLightning("SRAY",false,GetUnitX(source),GetUnitY(source),QJI,QKI)
	local lightning K25=AddLightning("SRAY",false,GetUnitX(source),GetUnitY(source),QJI,QKI)
	call SetUnitFacing(source,a*bj_RADTODEG)
	call StartSound(sound065)
	call SetSoundPosition(sound065,GetUnitX(source),GetUnitY(source),100)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_ISSUED_TARGET_ORDER)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_ISSUED_POINT_ORDER)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_ISSUED_ORDER)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3826))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(13),((a)*1.0))
	call SaveReal(HY,(h),(688),((a*bj_RADTODEG)*1.0))
	call SaveLightningHandle(HY,(h),(676),(K05))
	call SaveLightningHandle(HY,(h),(677),(KI5))
	call SaveLightningHandle(HY,(h),(678),(K15))
	call SaveLightningHandle(HY,(h),(679),(KO5))
	call SaveLightningHandle(HY,(h),(680),(K25))
	call SaveBoolean(HY,(h),(689),(false))
	call SaveBoolean(HY,(h),(672),(true))
	call SaveReal(HY,(h),(688),((a*bj_RADTODEG)*1.0))
	call SaveReal(HY,(h),(23),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(24),((GetUnitY(source))*1.0))
	call Func0261(source)
	call SaveInteger(HY,(GetHandleId((source))),((4312)),(1))
	call SetUnitPathing(source,false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1Z3',true)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A205',true)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1YY',false)
	call UnitAddAbilityPermanent(source,'A1Z3')
	call UnitMakeAbilityPermanent(source,true,'A1Z3')
	call UnitAddAbilityPermanent(source,'A205')
	call UnitMakeAbilityPermanent(source,true,'A205')
	call TriggerEvaluate(t)
	set t=null
	set source=null
	set source=null
	set K05=null
	set KI5=null
	set K15=null
	set KO5=null
	set K25=null
endfunction

function Func3828 takes nothing returns boolean
	if GetSpellAbilityId()=='A1YY' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
		else
			call Func3827()
		endif
	endif
	return false
endfunction

function Func3829 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func3828))
	call Func0236('A1Z4')
	call Func0236('A1ZA')
	call Func0236('A1ZB')
	call Func0236('A1Z9')
	set t=null
endfunction

function Func3830 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A1YX')
	if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTime()>=(LoadReal(HY,(GetHandleId(target)),(757)))or Func0091(target) then
		call UnitRemoveAbility(target,'A2W7')
		call UnitRemoveAbility(target,'A2W9')
		call UnitRemoveAbility(target,'A2L8')
		call UnitRemoveAbility(target,'A2W8')
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	if ModuloInteger(GetTriggerEvalCount(t),4)==0 then
		call DamageTarget(source,target,1,20*lvl-10)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3831 takes nothing returns nothing
	local unit source=unit383
	local unit target=GetEnumUnit()
	local trigger t
	local integer h
	local integer lvl=GetUnitAbilityLevel(source,'A1YX')
	local integer LH5
	call SaveReal(HY,(GetHandleId(target)),(757),((GetTime()+4)*1.0))
	if GetUnitAbilityLevel(target,'A2W7')==0 and GetUnitAbilityLevel(target,'A2W9')==0 and GetUnitAbilityLevel(target,'A2L8')==0 and GetUnitAbilityLevel(target,'A2W8')==0 then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,0.25,true)
		call TriggerAddCondition(t,Condition(function Func3830))
		call TriggerRegisterDeathEvent(t,target)
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",target,"chest")))
		if Func0255(target)==false then
			if lvl==1 then
				set LH5='A2W7'
			elseif lvl==2 then
				set LH5='A2W9'
			elseif lvl==3 then
				set LH5='A2L8'
			elseif lvl==4 then
				set LH5='A2W8'
			endif
			call UnitAddAbility(target,LH5)
			call UnitMakeAbilityPermanent(target,true,LH5)
		endif
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),LH5,false)
	endif
	set source=null
	set target=null
	set t=null
endfunction

function Func3832 takes unit source,unit IG1,real IS5,unit caster,unit target returns nothing
	local real x=GetUnitX(IG1)
	local real y=GetUnitY(IG1)
	local group g=GetAvailableGroup()
	set tt_unit1=source
	set unit383=source
	call GroupEnumUnitsInRange(g,x,y,175+25,Condition(function Func0280))
	call ForGroup(g,function Func3831)
	call KillGroup(g)
	call DestroyEffect(AddSpecialEffect("war3mapImported\\Firaga_2.mdx",x,y))
	call KillUnit(IG1)
	call ShowUnit(IG1,false)
	set g=null
endfunction

function Func3833 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer Count=(LoadInteger(HY,(h),(34)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local unit LW5=(LoadUnitHandle(HY,(h),(393)))
	local real IS5=(LoadReal(HY,(h),(685)))
	local real QJI
	local real QKI
	local real x
	local real y
	local real a
	local real r=18
	local integer lvl=GetUnitAbilityLevel(source,'A1YX')
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		set QJI=GetUnitX(target)
		set QKI=GetUnitY(target)
		call SaveReal(HY,(h),(47),((QJI)*1.0))
		call SaveReal(HY,(h),(48),((QKI)*1.0))
		call RemoveSavedHandle(HY,(h),(17))
		call SaveUnitHandle(HY,(h),(17),(null))
	elseif target==null then
		set QJI=(LoadReal(HY,(h),(47)))
		set QKI=(LoadReal(HY,(h),(48)))
	else
		set QJI=GetUnitX(target)
		set QKI=GetUnitY(target)
	endif
	set a=Func0159(GetUnitX(LW5),GetUnitY(LW5),QJI,QKI)
	call SetUnitFacing(LW5,a)
	set x=GetUnitX(LW5)+r*Cos(a*bj_DEGTORAD)
	set y=GetUnitY(LW5)+r*Sin(a*bj_DEGTORAD)
	call SetUnitX(LW5,x)
	call SetUnitY(LW5,y)
	if Func0141(x,y,QJI,QKI)<r*2 then
		call Func3832(source,LW5,IS5,caster,target)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	set LW5=null
	set caster=null
	return false
endfunction

function Func3834 takes unit source,unit LW5,unit target,real IS5,unit caster returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local group g
	local unit NewTarget
	if source==target then
		call KillUnit(LW5)
		call ShowUnit(LW5,false)
	else
		call SetUnitVertexColor(LW5,255,255,255,255)
		call TriggerRegisterTimerEvent(t,0.02,true)
		call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
		call TriggerAddCondition(t,Condition(function Func3833))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveUnitHandle(HY,(h),(393),(LW5))
		call SaveReal(HY,(h),(47),((GetSpellTargetX())*1.0))
		call SaveReal(HY,(h),(48),((GetSpellTargetY())*1.0))
		call SaveReal(HY,(h),(685),((IS5)*1.0))
		call SaveUnitHandle(HY,(h),(19),(caster))
	endif
	set t=null
endfunction

function Func3835 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer Count=(LoadInteger(HY,(h),(34)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real SourceX=GetUnitX(source)
	local real SourceY=GetUnitY(source)
	local unit spirit1=(LoadUnitHandle(HY,(h),(393)))
	local unit spirit2=(LoadUnitHandle(HY,(h),(394)))
	local unit spirit3=(LoadUnitHandle(HY,(h),(395)))
	local unit spirit4=(LoadUnitHandle(HY,(h),(396)))
	local integer lvl=GetUnitAbilityLevel(source,'A1YX')
	local real a=GetUnitFacing(source)
	local real x
	local real y
	local group g
	local group g2
	local real JC3=-1*360*0.02/4
	local real a2
	local real CM_Column
	local real IS5=(LoadReal(HY,(h),(685)))
	local real S83
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local integer LN5=800
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A1Z2' then
			if IsDead(spirit1)==false then
				call Func3834(source,spirit1,GetSpellTargetUnit(),IS5,caster)
				call RemoveSavedHandle(HY,(h),(393))
			elseif IsDead(spirit2)==false then
				call Func3834(source,spirit2,GetSpellTargetUnit(),IS5,caster)
				call RemoveSavedHandle(HY,(h),(394))
			elseif IsDead(spirit3)==false then
				call Func3834(source,spirit3,GetSpellTargetUnit(),IS5,caster)
				call RemoveSavedHandle(HY,(h),(395))
			elseif IsDead(spirit4)==false then
				call Func3834(source,spirit4,GetSpellTargetUnit(),IS5,caster)
				call RemoveSavedHandle(HY,(h),(396))
				call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1Z2',false)
				if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A1YX' then
					call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1YX',true)
				endif
				call FlushChildHashtable(HY,(h))
				call CleanTrigger(t)
			endif
		elseif GetSpellAbilityId()=='A1RK' then
			if spirit1!=null and IsDead(spirit1)==false then
				call Func3834(source,spirit1,source,IS5,caster)
			endif
			if spirit2!=null and IsDead(spirit2)==false then
				call Func3834(source,spirit2,source,IS5,caster)
			endif
			if spirit3!=null and IsDead(spirit3)==false then
				call Func3834(source,spirit3,source,IS5,caster)
			endif
			if spirit4!=null and IsDead(spirit4)==false then
				call Func3834(source,spirit4,source,IS5,caster)
			endif
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1Z2',false)
			if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A1YX' then
				call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1YX',true)
			endif
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
		if spirit1!=null and IsDead(spirit1)==false then
			set CM_Column=360*4/4.0
			set a2=CM_Column+JC3*Count
			set x=SafeX50(SourceX+200*Cos(a2*bj_DEGTORAD))
			set y=SafeY50(SourceY+200*Sin(a2*bj_DEGTORAD))
			call SetUnitFacing(spirit1,a2-90)
			call SetUnitX(spirit1,x)
			call SetUnitY(spirit1,y)
		endif
		if spirit2!=null and IsDead(spirit2)==false then
			set CM_Column=360*3/4.0
			set a2=CM_Column+JC3*Count
			set x=SafeX50(SourceX+200*Cos(a2*bj_DEGTORAD))
			set y=SafeY50(SourceY+200*Sin(a2*bj_DEGTORAD))
			call SetUnitFacing(spirit2,a2-90)
			call SetUnitX(spirit2,x)
			call SetUnitY(spirit2,y)
		endif
		if spirit3!=null and IsDead(spirit3)==false then
			set CM_Column=360*2/4.0
			set a2=CM_Column+JC3*Count
			set x=SafeX50(SourceX+200*Cos(a2*bj_DEGTORAD))
			set y=SafeY50(SourceY+200*Sin(a2*bj_DEGTORAD))
			call SetUnitFacing(spirit3,a2-90)
			call SetUnitX(spirit3,x)
			call SetUnitY(spirit3,y)
		endif
		if spirit4!=null and IsDead(spirit4)==false then
			set CM_Column=360*1/4.0
			set a2=CM_Column+JC3*Count
			set x=SafeX50(SourceX+200*Cos(a2*bj_DEGTORAD))
			set y=SafeY50(SourceY+200*Sin(a2*bj_DEGTORAD))
			call SetUnitFacing(spirit4,a2-90)
			call SetUnitX(spirit4,x)
			call SetUnitY(spirit4,y)
		endif
		if Count>LN5 or GetTriggerEventId()==EVENT_UNIT_DEATH then
			if spirit1!=null and IsDead(spirit1)==false then
				call Func3834(source,spirit1,source,IS5,caster)
			endif
			if spirit2!=null and IsDead(spirit2)==false then
				call Func3834(source,spirit2,source,IS5,caster)
			endif
			if spirit3!=null and IsDead(spirit3)==false then
				call Func3834(source,spirit3,source,IS5,caster)
			endif
			if spirit4!=null and IsDead(spirit4)==false then
				call Func3834(source,spirit4,source,IS5,caster)
			endif
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1Z2',false)
			if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A1YX' then
				call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1YX',true)
			endif
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		else
			set IS5=RMinBJ(0.25+0.75*(I2R(Count)/500.0),1)
			call SaveReal(HY,(h),(685),((IS5)*1.0))
			set S83=0.25+(1-0.2)*2.5
			call SetUnitScale(spirit1,S83,S83,S83)
			call SetUnitScale(spirit2,S83,S83,S83)
			call SetUnitScale(spirit3,S83,S83,S83)
			call SetUnitScale(spirit4,S83,S83,S83)
			if Count==(LN5-175)then
				call Func0211(sound066,GetOwningPlayer(source))
			endif
			if Count>(LN5-200)then
				if ModuloInteger(Count,10)==0 or ModuloInteger(Count,10)==1 or ModuloInteger(Count,10)==2 or ModuloInteger(Count,10)==3 or ModuloInteger(Count,10)==4 then
					call SetUnitVertexColor(spirit1,255,0,0,255)
					call SetUnitVertexColor(spirit2,255,0,0,255)
					call SetUnitVertexColor(spirit3,255,0,0,255)
					call SetUnitVertexColor(spirit4,255,0,0,255)
				else
					call SetUnitVertexColor(spirit1,255,255,255,255)
					call SetUnitVertexColor(spirit2,255,255,255,255)
					call SetUnitVertexColor(spirit3,255,255,255,255)
					call SetUnitVertexColor(spirit4,255,255,255,255)
				endif
			endif
		endif
	endif
	set t=null
	set source=null
	set spirit1=null
	set spirit2=null
	set spirit3=null
	set spirit4=null
	set caster=null
	return false
endfunction

function Phoenix_FireSpirit_Effect takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local real SourceX=GetUnitX(source)
	local real SourceY=GetUnitY(source)
	local real x
	local real y
	local unit spirit1
	local unit spirit2
	local unit spirit3
	local unit spirit4
	local real a=GetUnitFacing(source)
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',SourceX,SourceY,0)
	call UnitAddAbility(caster,'A21U')
	call SetUnitState(source,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_LIFE)-GetUnitState(source,UNIT_STATE_LIFE)*0.20)
	call UnitAddAbilityPermanent(source,'A1Z2')
	call UnitMakeAbilityPermanent(source,true,'A1Z2')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1Z2',true)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1YX',false)
	set x=SourceX+200*Cos(bj_DEGTORAD*360*4/4.0*-1.0)
	set y=SourceY+200*Sin(bj_DEGTORAD*360*4/4.0*-1.0)
	set spirit1=CreateUnit(GetOwningPlayer(source),'h0CU',x,y,360*4/4.0*-1.0)
	set x=SourceX+200*Cos(bj_DEGTORAD*360*3/4.0*-1.0)
	set y=SourceY+200*Sin(bj_DEGTORAD*360*3/4.0*-1.0)
	set spirit2=CreateUnit(GetOwningPlayer(source),'h0CU',x,y,360*3/4.0*-1.0)
	set x=SourceX+200*Cos(bj_DEGTORAD*360*2/4.0*-1.0)
	set y=SourceY+200*Sin(bj_DEGTORAD*360*2/4.0*-1.0)
	set spirit3=CreateUnit(GetOwningPlayer(source),'h0CU',x,y,360*2/4.0*-1.0)
	set x=SourceX+200*Cos(bj_DEGTORAD*360*1/4.0*-1.0)
	set y=SourceY+200*Sin(bj_DEGTORAD*360*1/4.0*-1.0)
	set spirit4=CreateUnit(GetOwningPlayer(source),'h0CU',x,y,360*1/4.0*-1.0)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3835))
	call SaveUnitHandle(HY,h,2,source)
	call SaveUnitHandle(HY,h,393,spirit1)
	call SaveUnitHandle(HY,h,394,spirit2)
	call SaveUnitHandle(HY,h,395,spirit3)
	call SaveUnitHandle(HY,h,396,spirit4)
	call SaveUnitHandle(HY,h,19,caster)
	set source=null
	set spirit1=null
	set spirit2=null
	set spirit3=null
	set spirit4=null
	set caster=null
endfunction

function Phoenix_FireSpirit_Init takes nothing returns boolean
	if GetSpellAbilityId()=='A1YX' then
		call Phoenix_FireSpirit_Effect()
	endif
	return false
endfunction

function Phoenix_FireSpirit_Reg takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Phoenix_FireSpirit_Init))
	set t=null
endfunction

function Func3839 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A2L1')
	if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>4 then
		call UnitRemoveAbility(target,'A2L8')
		call SaveInteger(HY,(GetHandleId((target))),((4311)),(2))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	call DamageTarget(source,target,1,20*lvl)
	set t=null
	set source=null
	return false
endfunction

function Func3840 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetEnumUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func3839))
	call TriggerRegisterDeathEvent(t,target)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",target,"chest")))
	call UnitAddAbility(target,'A2L8')
	call UnitMakeAbilityPermanent(target,true,'A2L8')
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2L8',false)
	call SaveInteger(HY,(GetHandleId((target))),((4311)),(1))
	set source=null
	set target=null
	set t=null
endfunction

function Func3841 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local group g=GetAvailableGroup()
	call DestroyEffect(AddSpecialEffect("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",x,y))
	call GroupEnumUnitsInRange(g,x,y,275+25,Condition(function Func0271))
	call ForGroup(g,function Func3840)
	call KillGroup(g)
	set g=null
	set source=null
endfunction

function Func3842 takes nothing returns boolean
	if GetSpellAbilityId()=='A2L1' then
		call Func3841()
	endif
	return false
endfunction

function Func3843 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3842))
	set t=null
endfunction

function Func3844 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer Count=(LoadInteger(HY,(GetHandleId(target)),(627)))
	local real MI5=(LoadReal(HY,(GetHandleId(target)),(628)))
	local integer lvl=GetUnitAbilityLevel(source,'A1S4')
	local real dmg=(5+lvl*15)*Pow(2,IMinBJ(Count,5)-1)
	set dmg=dmg+IMaxBJ(Count-5,0)*50
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		if IsUnitType(target,UNIT_TYPE_HERO) then
		endif
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SaveInteger(HY,(GetHandleId(target)),(627),(0))
		call SaveReal(HY,(GetHandleId(target)),(628),((0)*1.0))
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A1S9' then
			if IsUnitType(target,UNIT_TYPE_HERO) then
			endif
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call SaveInteger(HY,(GetHandleId(target)),(627),(0))
			call SaveReal(HY,(GetHandleId(target)),(628),((0)*1.0))
			if((LoadInteger(HY,(GetHandleId((target))),((4293))))==1)then
				call SetUnitInvulnerable(target,false)
			endif
			call DamageTarget(source,target,1,dmg)
			if((LoadInteger(HY,(GetHandleId((target))),((4293))))==1)then
				call SetUnitInvulnerable(target,true)
			endif
			call Func0163(I2S(R2I(dmg))+"!",2,target,0.025,100,0,200,216)
		endif
	elseif GetTime()>MI5 then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		if IsUnitType(target,UNIT_TYPE_HERO) then
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SaveInteger(HY,(GetHandleId(target)),(627),(0))
		call SaveReal(HY,(GetHandleId(target)),(628),((0)*1.0))
		if((LoadInteger(HY,(GetHandleId((target))),((4293))))==1)then
			call SetUnitInvulnerable(target,false)
		endif
		call DamageTarget(source,target,1,dmg)
		if((LoadInteger(HY,(GetHandleId((target))),((4293))))==1)then
			call SetUnitInvulnerable(target,true)
		endif
		call Func0163(I2S(R2I(dmg))+"!",2,target,0.025,100,0,200,216)
	else
		if IsUnitType(target,UNIT_TYPE_HERO) then
		endif
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3845 takes unit source,unit target returns nothing
	local trigger t
	local integer h
	local integer lvl=GetUnitAbilityLevel(source,'A1S4')
	local unit IG1
	if(LoadInteger(HY,(GetHandleId(target)),(627)))>0 then
		call SaveInteger(HY,(GetHandleId(target)),(627),((LoadInteger(HY,(GetHandleId(target)),(627)))+1))
		call SaveReal(HY,(GetHandleId(target)),(628),((GetTime()+10)*1.0))
	else
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		if IsUnitType(target,UNIT_TYPE_HERO) then
		endif
		call SaveInteger(HY,(GetHandleId(target)),(627),(1))
		if IsUnitType(target,UNIT_TYPE_HERO) then
			call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\shamanyouranus-ShadowyMissile.mdl",target,"chest")))
		else
			call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\shamanyouranus-ShadowyMissile.mdl",target,"origin")))
		endif
		call SaveReal(HY,(GetHandleId(target)),(628),((GetTime()+10)*1.0))
		call TriggerRegisterTimerEvent(t,0.05,true)
		call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
		call TriggerAddCondition(t,Condition(function Func3844))
		set IG1=null
	endif
	call Func0163("+"+I2S((LoadInteger(HY,(GetHandleId(target)),(627)))),3,target,0.025,100,0,200,216)
	call DamageTarget(source,target,1,50)
	set t=null
endfunction

function Func3846 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group033)==false then
		call GroupAddUnit(group033,GetEnumUnit())
		call Func3845(unit384,GetEnumUnit())
	endif
endfunction

function Func3847 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local integer Count=GetTriggerEvalCount(t)
	local real a=(LoadReal(HY,(h),(137)))
	local real x=SafeX50(GetUnitX(IG1)+(20)*Cos(a))
	local real y=SafeY50(GetUnitY(IG1)+(20)*Sin(a))
	local group g
	local group JAO=(LoadGroupHandle(HY,(h),(133)))
	local unit target
	if Count==75 then
		call KillGroup(JAO)
		call KillUnit(IG1)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set tt_unit1=source
		set unit384=source
		set group033=JAO
		call SetUnitX(IG1,x)
		call SetUnitY(IG1,y)
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,x,y,190+25,Condition(function Func0280))
		call ForGroup(g,function Func3846)
		set target=FirstOfGroup(g)
		call KillGroup(g)
	endif
	set t=null
	set source=null
	set IG1=null
	set g=null
	set target=null
	set JAO=null
	return false
endfunction

function Func3848 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local real a=Func0159(GetUnitX(source),GetUnitY(source),x,y)*bj_DEGTORAD
	local unit IG1=CreateUnit(GetOwningPlayer(source),'h0C2',GetUnitX(source),GetUnitY(source),a*bj_RADTODEG)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func3847))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveGroupHandle(HY,(h),(133),(GetAvailableGroup()))
	call UnitAddAbilityPermanent(source,'A1S9')
	set t=null
	set source=null
	set IG1=null
endfunction

function Func3849 takes nothing returns boolean
	if GetSpellAbilityId()=='A1S4' then
		call Func3848()
	endif
	return false
endfunction

function Func3850 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3849))
	set t=null
endfunction

function Func3851 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit M65=GetSummonedUnit()
	if GetTriggerEventId()!=EVENT_PLAYER_UNIT_SUMMON then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetUnitAbilityLevel(M65,'B0DA')>0 and GetOwningPlayer(GetSummoningUnit())==GetOwningPlayer(source)then
		if IsUnitAlly(target,GetOwningPlayer(source)) then
			call SelectUnitAddForPlayer(M65,GetOwningPlayer(source))
		else
			call IssueTargetOrder(M65,"attack",target)
		endif
	endif
	set t=null
	set source=null
	set target=null
	set M65=null
	return false
endfunction

function Func3852 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
	call SaveInteger(HY,(GetHandleId((target))),((4293)),(2))
	call SetUnitInvulnerable(target,false)
	call PauseUnit(target,false)
	call ShowUnit(target,true)
	call RemoveSavedHandle(HY,(GetHandleId(target)),(673))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if GetTriggerEventId()!=EVENT_UNIT_DEATH then
		call ClearSelectionForPlayer(GetOwningPlayer(target))
		call SelectUnitAddForPlayer(target,GetOwningPlayer(target))
		call Func0174(sound059,GetUnitX(target),GetUnitY(target))
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,3,false)
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
		call TriggerAddCondition(t,Condition(function Func3851))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call UnitAddAbilityPermanent(caster,'A1S5')
		call SetUnitAbilityLevel(caster,'A1S5',GetUnitAbilityLevel(source,'A1S8'))
		call IssueTargetOrderById(caster,ORDER_wandillusion,target)
		call IssueTargetOrderById(caster,ORDER_wandillusion,target)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3853 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A1S8')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit caster=CreateUnit(GetOwningPlayer(target),'o019',GetUnitX(target),GetUnitY(target),0)
	call UnitApplyTimedLife(caster,'BTLF',2.6)
	if IsUnitAlly(target,GetOwningPlayer(source))==false then
		set caster=CreateUnit(GetOwningPlayer(source),'o019',GetUnitX(target),GetUnitY(target),0)
		call UnitApplyTimedLife(caster,'BTLF',2.6)
	endif
	call SetUnitInvulnerable(target,true)
	call PauseUnit(target,true)
	call ShowUnit(target,false)
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffect("war3mapImported\\WILLTHEALMIGHTY-Void5.mdx",GetUnitX(target),GetUnitY(target))))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call TriggerRegisterTimerEvent(t,2.5,false)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3852))
	call SaveUnitHandle(HY,(GetHandleId(source)),(673),(target))
	call SaveInteger(HY,(GetHandleId((target))),((4293)),(1))
	set source=null
	set target=null
	set t=null
	set caster=null
endfunction

function Func3854 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A1S8' and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())) or IsBlocked(GetSpellTargetUnit())==false)then
			call Func3853()
		endif
	else
		if GetSpellAbilityId()=='A1S8' and GetSpellTargetUnit()!=GetTriggerUnit()and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())) and(LoadBoolean(HY,(GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))),(139)))then
			call InterruptUnit(GetTriggerUnit())
			call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n038'))
		endif
	endif
	return false
endfunction

function Func3855 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func3854))
	set t=null
endfunction

function Func3856 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A1SB')
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetEventDamage()>5 then
		call DisableTrigger(t)
		call DamageTarget(GetEventDamageSource(),GetTriggerUnit(),3,(0.1+0.1*lvl)*GetEventDamage())
		call EnableTrigger(t)
	endif
	set source=null
	set t=null
	return false
endfunction

function Func3857 takes nothing returns nothing
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local group g=GetAvailableGroup()
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A1SB')
	local unit target
	local trigger t
	local integer h
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,x,y,475,Condition(function Func0280))
	set target=(LoadUnitHandle(HY,(GetHandleId(source)),(673)))
	if target!=null then
		if Func0141(GetUnitX(target),GetUnitY(target),x,y)<475 and IsUnitEnemy(target,GetOwningPlayer(source)) then
			call GroupAddUnit(g,target)
		endif
	endif
	set target=GroupPickRandomUnit(g)
	call KillGroup(g)
	call DestroyEffect(AddSpecialEffect("war3mapImported\\Desecrate.mdx",x,y))
	if target!=null then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
		call TriggerRegisterTimerEvent(t,12,false)
		call TriggerAddCondition(t,Condition(function Func3856))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\void.mdx",target,"chest")))
	endif
	set g=null
	set source=null
	set target=null
	set t=null
endfunction

function Func3858 takes nothing returns boolean
	if GetSpellAbilityId()=='A1SB' then
		call Func3857()
	endif
	return false
endfunction

function Func3859 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3858))
	set t=null
endfunction

function Func3860 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer Count=GetTriggerEvalCount(t)
	local integer lvl=GetUnitAbilityLevel(source,'A2XI')
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A1SA')
	endif
	if Count==5 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if((LoadInteger(HY,(GetHandleId((target))),((4293))))==1)then
			call SetUnitInvulnerable(target,false)
		endif
		call DamageTarget(source,target,1,4*(25+25*lvl))
		if((LoadInteger(HY,(GetHandleId((target))),((4293))))==1)then
			call SetUnitInvulnerable(target,true)
		endif
	else
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3861 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func3860))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call TriggerEvaluate(t)
	set t=null
	set source=null
	set target=null
endfunction

function Func3862 takes nothing returns boolean
	if(GetSpellAbilityId()=='A2XI' or GetSpellAbilityId()=='A1SA')and IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())) and IsBlocked(GetSpellTargetUnit())==false then
		call Func3861()
	endif
	return false
endfunction

function Func3863 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer JGO=(LoadInteger(HY,(GetHandleId(source)),(826)))
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	local integer lvl=GetUnitAbilityLevel(source,'A2XE')
	if JGO>0 then
		call UnitAddAbility(caster,'A1SA')
		call SetUnitAbilityLevel(caster,'A1SA',lvl)
		call IssueTargetOrder(caster,"purge",target)
		call UnitRemoveAbility(source,integers173[JGO])
		set JGO=JGO-1
		call SaveInteger(HY,(GetHandleId(source)),(826),(JGO))
		call UnitAddAbilityPermanent(source,integers173[JGO])
	endif
	set source=null
	set target=null
endfunction

function Func3864 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer JGO=(LoadInteger(HY,(GetHandleId(source)),(826)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	if JGO<3 then
		set Count=Count-1
		call SaveInteger(HY,(h),(34),(Count))
		if Count==0 then
			call UnitRemoveAbility(source,integers173[JGO])
			set Count=40
			call SaveInteger(HY,(h),(34),(Count))
			set JGO=JGO+1
			call SaveInteger(HY,(GetHandleId(source)),(826),(JGO))
			call UnitAddAbilityPermanent(source,integers173[JGO])
		endif
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3865 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2XE')
	local trigger t
	local integer h
	local integer MV5=GetUnitAbilityLevel(source,integers173[0])
	local integer MW5=GetUnitAbilityLevel(source,integers173[1])
	local integer MX5=GetUnitAbilityLevel(source,integers173[2])
	local integer MY5=GetUnitAbilityLevel(source,integers173[3])
	if lvl>0 and(MV5+MW5+MX5+MY5)==0 then
		call UnitRemoveAbility(source,'A1SA')
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveInteger(HY,(GetHandleId(source)),(826),(3))
		call UnitAddAbilityPermanent(source,integers173[3])
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func3864))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveInteger(HY,(h),(34),(40))
		set t=null
	endif
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A2XI')
		if lvl>0 then
			call UnitAddAbilityPermanent(source,'A1SA')
			call SetUnitAbilityLevel(source,'A1SA',lvl)
		endif
	endif
	set source=null
endfunction

function Func3866 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_PLAYER_HERO_SKILL then
		if(GetLearnedSkill()=='A2XI' or GetLearnedSkill()=='A2XE')and IsUnitIllusion(GetTriggerUnit())==false then
			call Func3865()
		endif
	elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
		if GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and Func0346(GetManipulatedItem())==integer383 then
			call Func3865()
		endif
	elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
		if(GetSpellAbilityId()==integers173[0]or GetSpellAbilityId()==integers173[1]or GetSpellAbilityId()==integers173[2]or GetSpellAbilityId()==integers173[3])and IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())) and IsBlocked(GetSpellTargetUnit())==false then
			call Func3863()
		endif
	endif
	return false
endfunction

function Func3867 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3862))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3866))
	set integers173[0]='A2XH'
	set integers173[1]='A2XC'
	set integers173[2]='A2XB'
	set integers173[3]='A2Y4'
	set t=null
endfunction

function Func3868 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer Count=GetTriggerEvalCount(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call UnitRemoveAbility(source,'A1SP')
	set t=null
	set source=null
	return false
endfunction

function Func3869 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	call UnitAddAbilityPermanent(source,'A1SP')
	call UnitMakeAbilityPermanent(source,true,'A1SP')
	call SetUnitAbilityLevel(source,'A1SP',GetUnitAbilityLevel(source,'A1SO'))
	call TriggerRegisterTimerEvent(t,3,false)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3868))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
endfunction

function Func3870 takes nothing returns boolean
	if GetSpellAbilityId()=='A1SO' then
		call Func3869()
	endif
	return false
endfunction

function Func3871 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3870))
	set t=null
endfunction

function Func3872 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer Count=GetTriggerEvalCount(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real x
	local real y
	local real d
	local real DH1
	local real II3=(LoadReal(HY,(h),(23)))
	local real I13=(LoadReal(HY,(h),(24)))
	local real a=Func0159(II3,I13,GetUnitX(target),GetUnitY(target))*bj_DEGTORAD
	local integer lvl=GetUnitAbilityLevel(source,'A1SQ')
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call UnitShareVision(IG1,GetOwningPlayer(target),false)
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if GetTriggerUnit()!=IG1 then
			call KillUnit(IG1)
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		call UnitRemoveBuffs(IG1,true,true)
	elseif Count<3/0.02 then
		call SetUnitFacing(IG1,a*bj_RADTODEG)
	else
		if Count==4/0.02 then
			call UnitShareVision(IG1,GetOwningPlayer(target),true)
		endif
		call SetUnitFacing(IG1,a*bj_RADTODEG)
		set x=II3+(280+real381*Count*0.02)*0.02*Cos(a)
		set y=I13+(280+real381*Count*0.02)*0.02*Sin(a)
		call SetUnitPosition(IG1,x,y)
		call SaveReal(HY,(h),(23),((x)*1.0))
		call SaveReal(HY,(h),(24),((y)*1.0))
		if Func0141(x,y,GetUnitX(target),GetUnitY(target))<20 then
			set d=RMinBJ(Func0141(x,y,(LoadReal(HY,(h),(6))),(LoadReal(HY,(h),(7)))),1500)
			set DH1=d/1500*(125*GetUnitAbilityLevel(source,'A1SQ'))
			set DH1=RMaxBJ(DH1,50)
			call KillUnit(IG1)
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call DamageTarget(source,target,1,DH1)
			call StunTargetIF(source,target,2+0.2*lvl)
		endif
	endif
	set t=null
	set source=null
	set target=null
	set IG1=null
	return false
endfunction

function Func3873 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local real a=Func0159(GetUnitX(source),GetUnitY(source),GetUnitX(target),GetUnitY(target))*bj_DEGTORAD
	local real x=SafeX50(GetUnitX(source)+150*Cos(a))
	local real y=SafeY50(GetUnitY(source)+150*Sin(a))
	local integer lvl=GetUnitAbilityLevel(source,'A1SQ')
	local unit IG1
	local integer RII
	local string s="effects\\Snipe Target.mdx"
	if IsPlayerAlly(LocalPlayer,GetOwningPlayer(source))==false and Func0100(LocalPlayer)==false then
		set s=""
	endif
	if lvl==1 then
		set RII='h0CG'
	elseif lvl==2 then
		set RII='h0C1'
	elseif lvl==3 then
		set RII='h0CF'
	elseif lvl==4 then
		set RII='h0CH'
	endif
	set IG1=CreateUnit(GetOwningPlayer(source),RII,x,y,a*bj_RADTODEG)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,IG1,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,IG1,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func3872))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	call SaveReal(HY,(h),(23),((GetUnitX(IG1))*1.0))
	call SaveReal(HY,(h),(24),((GetUnitY(IG1))*1.0))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget(s,target,"overhead")))
	set t=null
	set source=null
	set IG1=null
endfunction

function Func3874 takes nothing returns boolean
	if GetSpellAbilityId()=='A1SQ' and IsBlocked(GetSpellTargetUnit())==false then
		call Func3873()
	endif
	return false
endfunction

function Func3875 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3874))
	call Func0125('A0X6')
	set t=null
endfunction

function Func3876 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call UnitRemoveAbility(target,'A1SS')
	call UnitRemoveAbility(target,'B0DE')
	set t=null
	set target=null
	return false
endfunction

function Func3877 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call UnitRemoveAbility(target,'A1T4')
	call UnitRemoveAbility(target,'B0DG')
	set t=null
	set target=null
	return false
endfunction

function Func3878 takes nothing returns nothing
	local trigger t
	local integer h
	local integer lvl=GetUnitAbilityLevel(unit385,'A1T5')
	local boolean CK3=false
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(unit385,'A235')
		set CK3=true
	endif
	if Func0255(GetEnumUnit())==false then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,2,false)
		call TriggerRegisterUnitEvent(t,GetEnumUnit(),EVENT_UNIT_DEATH)
		call TriggerAddCondition(t,Condition(function Func3876))
		call SaveUnitHandle(HY,(h),(17),(GetEnumUnit()))
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A1SS',false)
		call UnitAddAbilityPermanent(GetEnumUnit(),'A1SS')
	endif
	call DamageTarget(unit385,GetEnumUnit(),1,lvl*50+200)
	set t=null
endfunction

function Func3879 takes nothing returns nothing
	local trigger t
	local integer h
	local integer lvl=GetUnitAbilityLevel(unit385,'A1T5')
	local boolean CK3=false
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(unit385,'A235')
		set CK3=true
	endif
	if Func0255(GetEnumUnit())==false then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,3,false)
		call TriggerRegisterUnitEvent(t,GetEnumUnit(),EVENT_UNIT_DEATH)
		call TriggerAddCondition(t,Condition(function Func3877))
		call SaveUnitHandle(HY,(h),(17),(GetEnumUnit()))
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A1T4',false)
		call UnitAddAbilityPermanent(GetEnumUnit(),'A1T4')
	endif
	if CK3 then
		call DamageTarget(unit385,GetEnumUnit(),1,lvl*50+50+75)
	else
		call DamageTarget(unit385,GetEnumUnit(),1,lvl*50+50)
	endif
	set t=null
endfunction

function Func3880 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local group g
	local integer Count=GetTriggerEvalCount(t)
	local fogmodifier fm=(LoadFogModifierHandle(HY,(h),(42)))
	if Count==1 then
		call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Calldown_FlyUp.mdx",source,"chest"))
	elseif Count==2 then
		call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Calldown_FlyUp.mdx",source,"chest"))
	elseif Count==3 then
		call DestroyEffect(AddSpecialEffect("war3mapImported\\Calldown_FlyDown.mdx",x,y))
	elseif Count==4 then
		set g=GetAvailableGroup()
		set tt_unit1=source
		set unit385=source
		call GroupEnumUnitsInRange(g,x,y,600+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func3878)
		call KillGroup(g)
		call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",x,y))
	elseif Count==5 then
		call DestroyEffect(AddSpecialEffect("war3mapImported\\Calldown_FlyDown.mdx",x,y))
	elseif Count==6 then
		set g=GetAvailableGroup()
		set tt_unit1=source
		set unit385=source
		call GroupEnumUnitsInRange(g,x,y,600+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func3879)
		call KillGroup(g)
		call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",x,y))
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FogModifierStop(fm)
		call DestroyFogModifier(fm)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set g=null
	return false
endfunction

function Func3881 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local string s=""
	local fogmodifier fm=CreateFogModifierRadius(GetOwningPlayer(source),FOG_OF_WAR_VISIBLE,x,y,350,true,true)
	call FogModifierStart(fm)
	if IsPlayerAlly(LocalPlayer,GetOwningPlayer(source)) or Func0100(LocalPlayer)then
		set s="war3mapImported\\CallDown_4.mdx"
	endif
	call TriggerRegisterTimerEvent(t,0.1,false)
	call TriggerRegisterTimerEvent(t,0.8,false)
	call TriggerRegisterTimerEvent(t,1.6,false)
	call TriggerRegisterTimerEvent(t,2,false)
	call TriggerRegisterTimerEvent(t,3.6,false)
	call TriggerRegisterTimerEvent(t,4,false)
	call TriggerAddCondition(t,Condition(function Func3880))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffect(s,x,y)))
	call SaveFogModifierHandle(HY,(h),(42),(fm))
	set t=null
	set source=null
endfunction

function Func3882 takes nothing returns boolean
	if GetSpellAbilityId()=='A1T5' or GetSpellAbilityId()=='A235' then
		call Func3881()
	endif
	return false
endfunction

function Func3883 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3882))
	set t=null
endfunction

function Func3884 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer UT3=(LoadInteger(HY,(h),(375)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer Count
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source and(GetEventDamage()>20 or IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))then
			set Count=(LoadInteger(HY,(UT3),(34)))
			if Count>0 then
				call SaveInteger(HY,(UT3),(34),(Count+1))
			endif
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3885 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if Func0104(source)==false then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitRemoveAbility(source,'A237')
		call UnitAddAbility(source,'A22B')
		call UnitRemoveAbility(source,'A22B')
		if(Func0341((source),integers089[integer371])!=null)then
			call UnitAddAbility(source,'A237')
		endif
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3886 takes unit source returns nothing
	local trigger t
	local integer h
	if Func0104(source)==false then
		call UnitRemoveAbility(source,'A237')
		call UnitAddAbility(source,'A22B')
		call UnitRemoveAbility(source,'A22B')
		if(Func0341((source),integers089[integer371])!=null)then
			call UnitAddAbility(source,'A237')
		endif
	else
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveUnitHandle(HY,(h),(2),(source))
		call TriggerRegisterTimerEvent(t,0.1,true)
		call TriggerAddCondition(t,Condition(function Func3885))
		set t=null
	endif
endfunction

function Func3887 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local integer lvl=GetUnitAbilityLevel(source,'A229')
	local integer UT3=h
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
		if IsUnitIllusion(GetAttacker()) and GetUnitAbilityLevel(GetAttacker(),'A1TW')>0 then
			call Func3886(GetAttacker())
			call UnitRemoveAbility(GetAttacker(),'A1TW')
		endif
		if GetAttacker()==source then
			set Count=Count+1
			if Count>3+lvl then
				call UnitRemoveAbility(source,'A1TW')
				call UnitRemoveAbility(source,'B0DJ')
				call Func3886(source)
				call FlushChildHashtable(HY,(h))
				call CleanTrigger(t)
			else
				set t=CreateTrigger()
				set h=GetHandleId(t)
				call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
				call TriggerRegisterTimerEvent(t,2,false)
				call TriggerAddCondition(t,Condition(function Func3884))
				call SaveUnitHandle(HY,(h),(2),(source))
				call SaveInteger(HY,(h),(375),(UT3))
			endif
		endif
	else
		call UnitRemoveAbility(source,'A1TW')
		call UnitRemoveAbility(source,'B0DJ')
		call Func3886(source)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3888 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	call TriggerRegisterTimerEvent(t,15,false)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func3887))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(34),(1))
	call UnitRemoveAbility(source,'A237')
	call UnitAddAbility(source,'A22A')
	call UnitRemoveAbility(source,'A22A')
	if(Func0341((source),integers089[integer371])!=null)then
		call UnitAddAbility(source,'A237')
	endif
	set t=null
	set source=null
endfunction

function Func3889 takes nothing returns boolean
	if IsUnitIllusion(GetTriggerUnit()) and GetUnitTypeId(GetTriggerUnit())=='E02O' then
		call Func3886(GetTriggerUnit())
	endif
	return false
endfunction

function Func3890 takes nothing returns boolean
	if GetSpellAbilityId()=='A229' and GetUnitTypeId(GetTriggerUnit())=='E02N' then
		call Func3888()
	endif
	return false
endfunction

function Func3891 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3890))
	set t=CreateTrigger()
	call TriggerRegisterEnterRectSimple(t,GetWorldBounds())
	call TriggerAddCondition(t,Condition(function Func3889))
	set t=null
endfunction

function Func3892 takes nothing returns boolean
	local unit target=GetFilterUnit()
	local unit source=unit386
	local real SourceX=real382
	local real SourceY=real383
	local real IO3=real384
	local real I23=real385
	local real x
	local real y
	local real a
	local real d
	if(Func0091(GetFilterUnit())==false and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))then
		if((LoadInteger(HY,(GetHandleId((target))),((4324))))==1)==false then
			call AddTimedKeyToUnit(target,4324,0.3)
		endif
		set d=Func0141(SourceX,SourceY,GetUnitX(target),GetUnitY(target))
		set a=Func0159(SourceX,SourceY,GetUnitX(target),GetUnitY(target))*bj_DEGTORAD
		if d>real386 then
			set x=GetUnitX(target)+11*Cos(a)
			set y=GetUnitY(target)+11*Sin(a)
		else
			set x=GetUnitX(target)-11*Cos(a)
			set y=GetUnitY(target)-11*Sin(a)
		endif
		call SetUnitX(target,x)
		call SetUnitY(target,y)
	endif
	set target=null
	set source=null
	return false
endfunction

function Func3893 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real SourceX=(LoadReal(HY,(h),(6)))
	local real SourceY=(LoadReal(HY,(h),(7)))
	local real x
	local real y
	local integer i=0
	local group g
	if GetTriggerEvalCount(t)>(50*(2+0.5*GetUnitAbilityLevel(source,'A1SU')))then
		loop
			exitwhen i>16
			set i=i+1
		endloop
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set g=GetAvailableGroup()
		set real382=SourceX
		set real383=SourceY
		set unit386=source
		set tt_unit1=source
		loop
			exitwhen i>16
			set x=SourceX+real386*Cos(bj_DEGTORAD*360.0*i/16.0)
			set y=SourceY+real386*Sin(bj_DEGTORAD*360.0*i/16.0)
			set real384=x
			set real385=y
			call GroupEnumUnitsInRange(g,x,y,75,Condition(function Func3892))
			set i=i+1
		endloop
		call KillGroup(g)
		set g=null
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3894 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real SourceX=(LoadReal(HY,(h),(6)))
	local real SourceY=(LoadReal(HY,(h),(7)))
	local real x
	local real y
	local integer i=0
	call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	loop
		exitwhen i>16
		set x=SourceX+real386*Cos(bj_DEGTORAD*360.0*i/16.0)
		set y=SourceY+real386*Sin(bj_DEGTORAD*360.0*i/16.0)
		set i=i+1
	endloop
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffect("war3mapImported\\KineticField_FX_Stand.mdx",SourceX,SourceY)))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((SourceX)*1.0))
	call SaveReal(HY,(h),(7),((SourceY)*1.0))
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func3893))
	set t=null
	set source=null
	return false
endfunction

function Func3895 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local real SourceX=GetSpellTargetX()
	local real SourceY=GetSpellTargetY()
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffect("war3mapImported\\KineticField_FX_Start.mdx",SourceX,SourceY)))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((SourceX)*1.0))
	call SaveReal(HY,(h),(7),((SourceY)*1.0))
	call TriggerRegisterTimerEvent(t,1.2,false)
	call TriggerAddCondition(t,Condition(function Func3894))
	call TimedReveal(GetOwningPlayer(source),5.5,SourceX,SourceY,300)
	set t=null
	set source=null
endfunction

function Func3896 takes nothing returns boolean
	if GetSpellAbilityId()=='A1SU' then
		call Func3895()
	endif
	return false
endfunction

function Func3897 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3896))
	set t=null
endfunction

function Func3898 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real QJI=(LoadReal(HY,(h),(6)))
	local real QKI=(LoadReal(HY,(h),(7)))
	local real x=GetUnitX(IG1)
	local real y=GetUnitY(IG1)
	local real a=Func0159(x,y,QJI,QKI)
	local real d=Func0141(x,y,QJI,QKI)
	local real r=(LoadReal(HY,(h),(671)))
	call SetUnitFacing(IG1,a)
	set x=x+r*Cos(a*bj_DEGTORAD)
	set y=y+r*Sin(a*bj_DEGTORAD)
	call SetUnitX(IG1,x)
	call SetUnitY(IG1,y)
	if d<40 then
		call KillUnit(IG1)
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call AddTimedKeyToUnit(target,4411,1)
		call SetUnitPosition(target,QJI,QKI)
		call PanCameraToTimedForPlayer(GetOwningPlayer(target),QJI,QKI,0)
	elseif Func0091(target)then
		call KillUnit(IG1)
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	set IG1=null
	return false
endfunction

function Func3899 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local real x=(LoadReal(HY,(GetHandleId(target)),(7400)))
	local real y=(LoadReal(HY,(GetHandleId(target)),(7500)))
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit IG1=CreateUnit(GetOwningPlayer(source),'h0C6',GetUnitX(target),GetUnitY(target),0)
	local real d=Func0141(x,y,GetUnitX(target),GetUnitY(target))
	local real r=0.02*(RMaxBJ(d/1.8,600))
	call TriggerAddCondition(t,Condition(function Func3898))
	call TriggerRegisterTimerEvent(t,0.02,true)
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveReal(HY,(h),(671),((r)*1.0))
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx",target,"overhead")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffect("effects\\Lightning_Ball_Tail_FX.mdx",x,y)))
	call TriggerEvaluate(t)
	set source=null
	set target=null
endfunction

function Func3900 takes nothing returns boolean
	if GetSpellAbilityId()=='A1SW' and IsBlocked(GetSpellTargetUnit())==false then
		if IsUnitIllusion(GetSpellTargetUnit())then
			call KillUnit(GetSpellTargetUnit())
		else
			call Func3899()
		endif
	endif
	return false
endfunction

function Func3901 takes nothing returns nothing
	local unit target=tt_unit1
	local integer h=GetHandleId(target)
	local integer i=0
	loop
		exitwhen i>15
		set i=i+1
	endloop
	set target=null
endfunction

function Func3902 takes nothing returns nothing
	local unit target=GetEnumUnit()
	local integer h=GetHandleId(target)
	local integer i=1
	loop
		exitwhen i>15
		call SaveReal(HY,(h),(7400+i-1),(((LoadReal(HY,(h),(7400+i))))*1.0))
		call SaveReal(HY,(h),(7500+i-1),(((LoadReal(HY,(h),(7500+i))))*1.0))
		set i=i+1
	endloop
	call SaveReal(HY,(h),(7400+15),((GetUnitX(target))*1.0))
	call SaveReal(HY,(h),(7500+15),((GetUnitY(target))*1.0))
	set target=null
endfunction

function Func3903 takes nothing returns boolean
	local group g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,0,0,99999,Condition(function Func0307))
	call ForGroup(g,function Func3902)
	call KillGroup(g)
	set g=null
	return false
endfunction

function Func3904 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3900))
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.25,true)
	call TriggerAddCondition(t,Condition(function Func3903))
	set t=null
endfunction

function Func3905 takes nothing returns nothing
	if unit387!=GetEnumUnit()then
		call DamageTarget(unit388,GetEnumUnit(),1,integer533*20+20)
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetEnumUnit(),"chest"))
	endif
endfunction

function Func3906 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local group g
	local integer Count=GetTriggerEvalCount(t)
	local unit ZK3=null
	call SetUnitX(caster,GetUnitX(target))
	call SetUnitY(caster,GetUnitY(target))
	call SetUnitX(IG1,GetUnitX(target))
	call SetUnitY(IG1,GetUnitY(target))
	if Count==1 or Count==100 or Count==200 or Count==300 then
		set g=GetAvailableGroup()
		if IsDead(target)then
			set ZK3=CreateUnit(GetOwningPlayer(target),'e00C',GetUnitX(target),GetUnitY(target),0)
			call UnitApplyTimedLife(ZK3,'BTLF',0.2)
			call IssueTargetOrder(caster,"chainlightning",ZK3)
		else
			call IssueTargetOrder(caster,"chainlightning",target)
			call DamageTarget(source,target,1,lvl*20+20)
		endif
		call Func0152("war3mapImported\\ThunderStorm_Groundeffect.mdx",target,"origin",0.6)
		set tt_unit1=source
		set unit388=source
		set unit387=target
		set integer533=lvl
		call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),240+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func3905)
		call KillGroup(g)
		if GetTriggerEvalCount(t)==300 then
			call KillUnit(caster)
			call KillUnit(IG1)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	endif
	set t=null
	set source=null
	set target=null
	set caster=null
	set IG1=null
	return false
endfunction

function Func3907 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A1TV')
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	local unit IG1=CreateUnit(GetOwningPlayer(source),'e02P',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbilityPermanent(IG1,'Aloc')
	call UnitAddAbilityPermanent(caster,'A1U7')
	call SetUnitAbilityLevel(caster,'A1U7',lvl)
	call UnitAddAbilityPermanent(caster,'Aloc')
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func3906))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveInteger(HY,(h),(5),(lvl))
	set source=null
	set target=null
	set IG1=null
	set t=null
endfunction

function Func3908 takes nothing returns boolean
	if GetSpellAbilityId()=='A1TV' and IsBlocked(GetSpellTargetUnit())==false then
		call Func3907()
	endif
	return false
endfunction

function Func3909 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3908))
	set t=null
endfunction

function Func3910 takes nothing returns nothing
	local unit caster
	if boolean154 then
		set caster=CreateUnit(GetOwningPlayer(GetEnumUnit()),'e00E',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
		call UnitRemoveAbility(GetEnumUnit(),'B0H3')
		call UnitAddAbilityPermanent(caster,'A2VF')
		call IssueTargetOrder(caster,"doom",GetEnumUnit())
		set caster=null
	endif
	call DamageTarget(unit389,GetEnumUnit(),1,real387)
	call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Purge_NoBirth.mdx",GetEnumUnit(),"origin"))
endfunction

function Func3911 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local boolean CK3=(LoadBoolean(HY,(h),(15)))
	local group g
	local integer Count=GetTriggerEvalCount(t)
	local integer MKO=20
	if CK3 then
		set MKO=28
	endif
	if Count>MKO then
		call StopSound(sound060,false,true)
		call KillUnit(IG1)
		call ShowUnit(IG1,false)
		call KillUnit(caster)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set g=GetAvailableGroup()
		set tt_unit1=source
		set unit389=source
		set real387=0.25*(150+50*lvl)*(Count/I2R(MKO))
		set boolean153=false
		set boolean154=CK3
		if ModuloInteger(Count,4)==0 then
			set boolean153=true
		endif
		call GroupEnumUnitsInRange(g,GetUnitX(IG1),GetUnitY(IG1),475,Condition(function Func0283))
		call ForGroup(g,function Func3910)
		call KillGroup(g)
		set g=null
	endif
	set t=null
	set source=null
	set IG1=null
	set caster=null
	return false
endfunction

function Func3912 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local real QJI=GetSpellTargetX()
	local real QKI=GetSpellTargetY()
	local unit IG1=CreateUnit(GetOwningPlayer(source),'h0CK',QJI,QKI,0)
	local integer lvl=GetUnitAbilityLevel(source,'A1U6')
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',QJI,QKI,0)
	local boolean CK3=false
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A2V8')
		set CK3=true
	endif
	call SetSoundVolume(sound060,200)
	call StartSound(sound060)
	call SetSoundPosition(sound060,QJI,QKI,100)
	if Func0052(GetOwningPlayer(source))then
		call UnitAddAbilityPermanent(caster,'A1U5')
		if CK3 then
			call SetUnitAbilityLevel(caster,'A1U5',2)
		endif
	else
		call UnitAddAbilityPermanent(caster,'A1U4')
		if CK3 then
			call SetUnitAbilityLevel(caster,'A1U4',2)
		endif
	endif
	call IssuePointOrder(caster,"cloudoffog",QJI,QKI)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveBoolean(HY,(h),(15),(CK3))
	call TriggerRegisterTimerEvent(t,0.25,true)
	call TriggerAddCondition(t,Condition(function Func3911))
	set t=null
	set source=null
endfunction

function Func3913 takes nothing returns boolean
	if GetSpellAbilityId()=='A1U6' or GetSpellAbilityId()=='A2V8' then
		call Func3912()
	endif
	return false
endfunction

function Func3914 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3913))
	set t=null
endfunction

function Func3915 takes nothing returns nothing
	local integer NN5=integer535
	local unit target=GetEnumUnit()
	local integer NS5=662-1+NN5
	local real NT5=(LoadReal(HY,(GetHandleId(target)),(NS5)))
	local real SOI=GetTime()
	if NT5<SOI then
		call SaveReal(HY,(GetHandleId(target)),(NS5),((SOI+2)*1.0))
		if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false then
			call DamageTarget(unit390,target,1,2+6*integer534)
		else
		endif
	endif
	set target=null
endfunction

function Spirits_DamageHeroes takes nothing returns nothing
	local integer NN5=integer535
	local unit target=GetEnumUnit()
	local integer NS5=662-1+NN5
	local real NT5=(LoadReal(HY,(GetHandleId(target)),(NS5)))
	local real SOI=GetTime()
	if NT5<SOI then
		call SaveReal(HY,(GetHandleId(target)),(NS5),((SOI+2)*1.0))
		if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false then
			call DamageTarget(unit390,target,1,15+10*integer534)
		else
		endif
	endif
	set target=null
endfunction

function Func3916 takes nothing returns nothing
	if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false then
		call DamageTarget(unit390,GetEnumUnit(),1,real388)
	else
	endif
endfunction

function Func3917 takes unit source,unit NQ5 returns nothing
	local group g=GetAvailableGroup()
	set tt_unit1=source
	set real388=25*integer534
	set unit390=source
	set unit391=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(NQ5),GetUnitY(NQ5),0)
	call GroupEnumUnitsInRange(g,GetUnitX(NQ5),GetUnitY(NQ5),325,Condition(function Func0289))
	call UnitAddAbilityPermanent(unit391,'A1TO')
	call ForGroup(g,function Func3916)
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",GetUnitX(NQ5),GetUnitY(NQ5)))
	call KillUnit(NQ5)
	call KillGroup(g)
	call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(source),'o00Q',GetUnitX(NQ5),GetUnitY(NQ5),0),'BTLF',2)
	set g=null
endfunction

function Func3918 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit R74=(LoadUnitHandle(HY,(h),(393)))
	local unit R84=(LoadUnitHandle(HY,(h),(394)))
	local unit R94=(LoadUnitHandle(HY,(h),(395)))
	local unit RA4=(LoadUnitHandle(HY,(h),(396)))
	local unit RB4=(LoadUnitHandle(HY,(h),(397)))
	local real x
	local real y
	local real a
	local real d=(LoadReal(HY,(h),(138)))
	local real SourceX=GetUnitX(source)
	local real SourceY=GetUnitY(source)
	local real JC3
	local integer Count=GetTriggerEvalCount(t)
	local real CM_Column
	local group g
	local integer S05=0
	local real Q4I=2.25
	local real SI5
	if IsDead(R74)==false then
		set S05=S05+1
	endif
	if IsDead(R84)==false then
		set S05=S05+1
	endif
	if IsDead(R94)==false then
		set S05=S05+1
	endif
	if IsDead(RA4)==false then
		set S05=S05+1
	endif
	if IsDead(RB4)==false then
		set S05=S05+1
	endif
	if S05==5 then
		set Q4I=2.25
	elseif S05==4 then
		set Q4I=2.1
	elseif S05==3 then
		set Q4I=1.95
	elseif S05==2 then
		set Q4I=1.8
	elseif S05==1 then
		set Q4I=1.65
	endif
	set JC3=-1*360*0.02/Q4I
	set SI5=(LoadReal(HY,(h),(137)))+JC3
	call SaveReal(HY,(h),(137),((SI5)*1.0))
	set integer534=GetUnitAbilityLevel(source,'A1T8')
	set unit390=source
	if Count==50 then
		call ShowUnit(R84,true)
		call SaveBoolean(HY,(h),(512),(true))
		call UnitAddAbilityPermanent(R84,'Aloc')
	endif
	if Count==100 then
		call ShowUnit(R94,true)
		call SaveBoolean(HY,(h),(513),(true))
		call UnitAddAbilityPermanent(R94,'Aloc')
	endif
	if Count==150 then
		call ShowUnit(RA4,true)
		call SaveBoolean(HY,(h),(514),(true))
		call UnitAddAbilityPermanent(RA4,'Aloc')
	endif
	if Count==200 then
		call ShowUnit(RB4,true)
		call SaveBoolean(HY,(h),(515),(true))
		call UnitAddAbilityPermanent(RB4,'Aloc')
	endif
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A24A' then
			if(LoadBoolean(HY,(h),(655))) then
				call SaveBoolean(HY,(h),(655),(false))
				call SaveBoolean(HY,(h),(656),(false))
			else
				call SaveBoolean(HY,(h),(655),(true))
				call SaveBoolean(HY,(h),(656),(false))
			endif
		elseif GetSpellAbilityId()=='A24B' then
			if(LoadBoolean(HY,(h),(656))) then
				call SaveBoolean(HY,(h),(655),(false))
				call SaveBoolean(HY,(h),(656),(false))
			else
				call SaveBoolean(HY,(h),(655),(false))
				call SaveBoolean(HY,(h),(656),(true))
			endif
		endif
	endif
	if(LoadBoolean(HY,(h),(655)))then
		set d=RMaxBJ(d-5,100)
		call SaveReal(HY,(h),(138),((d)*1.0))
	elseif(LoadBoolean(HY,(h),(656)))then
		set d=RMinBJ(d+5,875)
		call SaveReal(HY,(h),(138),((d)*1.0))
	endif
	if GetTriggerEventId()==EVENT_UNIT_DEATH or Count==950 or(IsDead(R74)and IsDead(R84)and IsDead(R94)and IsDead(RA4)and IsDead(RB4))or(Count>1 and GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A1T8')then
		if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT then
			call UnitRemoveAbility(source,'A24A')
			call UnitRemoveAbility(source,'A24B')
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if IsDead(R74)==false then
			call Func3917(source,R74)
		endif
		if IsDead(R84)==false then
			call Func3917(source,R84)
		endif
		if IsDead(R94)==false then
			call Func3917(source,R94)
		endif
		if IsDead(RA4)==false then
			call Func3917(source,RA4)
		endif
		if IsDead(RB4)==false then
			call Func3917(source,RB4)
		endif
	else
		set g=GetAvailableGroup()
		if IsDead(R74)==false and(LoadBoolean(HY,(h),(511)))then
			set CM_Column=360*5/5.0
			set a=CM_Column+SI5
			set x=SafeX50(SourceX+d*Cos(a*bj_DEGTORAD))
			set y=SafeY50(SourceY+d*Sin(a*bj_DEGTORAD))
			call SetUnitX(R74,x)
			call SetUnitY(R74,y)
			set tt_unit1=source
			call GroupEnumUnitsInRange(g,x,y,95,Condition(function Func0304))
			if FirstOfGroup(g)!=null then
				call Func3917(source,R74)
			endif
			call GroupClear(g)
			set unit392=R74
			set integer535=1
			set unit390=source
			call GroupEnumUnitsInRange(g,x,y,175,Condition(function Func0288))
			call ForGroup(g,function Func3915)
			call GroupClear(g)
		endif
		if IsDead(R84)==false and(LoadBoolean(HY,(h),(512)))then
			set CM_Column=360*4/5.0
			set a=CM_Column+SI5
			set x=SafeX50(SourceX+d*Cos(a*bj_DEGTORAD))
			set y=SafeY50(SourceY+d*Sin(a*bj_DEGTORAD))
			call SetUnitX(R84,x)
			call SetUnitY(R84,y)
			set tt_unit1=source
			call GroupEnumUnitsInRange(g,x,y,95,Condition(function Func0304))
			if FirstOfGroup(g)!=null then
				call Func3917(source,R84)
			endif
			call GroupClear(g)
			set unit392=R84
			set integer535=2
			set unit390=source
			call GroupEnumUnitsInRange(g,x,y,175,Condition(function Func0288))
			call ForGroup(g,function Func3915)
			call GroupClear(g)
		endif
		if IsDead(R94)==false and(LoadBoolean(HY,(h),(513)))then
			set CM_Column=360*3/5.0
			set a=CM_Column+SI5
			set x=SafeX50(SourceX+d*Cos(a*bj_DEGTORAD))
			set y=SafeY50(SourceY+d*Sin(a*bj_DEGTORAD))
			call SetUnitX(R94,x)
			call SetUnitY(R94,y)
			set tt_unit1=source
			call GroupEnumUnitsInRange(g,x,y,95,Condition(function Func0304))
			if FirstOfGroup(g)!=null then
				call Func3917(source,R94)
			endif
			call GroupClear(g)
			set unit392=R94
			set integer535=3
			set unit390=source
			call GroupEnumUnitsInRange(g,x,y,175,Condition(function Func0288))
			call ForGroup(g,function Func3915)
			call GroupClear(g)
		endif
		if IsDead(RA4)==false and(LoadBoolean(HY,(h),(514)))then
			set CM_Column=360*2/5.0
			set a=CM_Column+SI5
			set x=SafeX50(SourceX+d*Cos(a*bj_DEGTORAD))
			set y=SafeY50(SourceY+d*Sin(a*bj_DEGTORAD))
			call SetUnitX(RA4,x)
			call SetUnitY(RA4,y)
			set tt_unit1=source
			call GroupEnumUnitsInRange(g,x,y,95,Condition(function Func0304))
			if FirstOfGroup(g)!=null then
				call Func3917(source,RA4)
			endif
			call GroupClear(g)
			set unit392=RA4
			set integer535=4
			set unit390=source
			call GroupEnumUnitsInRange(g,x,y,175,Condition(function Func0288))
			call ForGroup(g,function Func3915)
			call GroupClear(g)
		endif
		if IsDead(RB4)==false and(LoadBoolean(HY,(h),(515)))then
			set CM_Column=360*1/5.0
			set a=CM_Column+SI5
			set x=SafeX50(SourceX+d*Cos(a*bj_DEGTORAD))
			set y=SafeY50(SourceY+d*Sin(a*bj_DEGTORAD))
			call SetUnitX(RB4,x)
			call SetUnitY(RB4,y)
			set tt_unit1=source
			call GroupEnumUnitsInRange(g,x,y,95,Condition(function Func0304))
			if FirstOfGroup(g)!=null then
				call Func3917(source,RB4)
			endif
			call GroupClear(g)
			set unit392=RB4
			set integer535=5
			set unit390=source
			call GroupEnumUnitsInRange(g,x,y,175,Condition(function Func0288))
			call ForGroup(g,function Func3915)
			call GroupClear(g)
		endif
		call KillGroup(g)
	endif
	set t=null
	set source=null
	set R74=null
	set R84=null
	set R94=null
	set RA4=null
	set RB4=null
	return false
endfunction

function Func3919 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit R74
	local unit R84
	local unit R94
	local unit RA4
	local unit RB4
	local real x
	local real y
	set x=GetUnitX(source)+250*Cos(bj_DEGTORAD*360*5/5.0*-1.0)
	set y=GetUnitY(source)+250*Sin(bj_DEGTORAD*360*5/5.0*-1.0)
	set R74=CreateUnit(GetOwningPlayer(source),'h0CJ',x,y,360*5/5.0*-1.0)
	call UnitAddAbilityPermanent(R74,'Aloc')
	set x=GetUnitX(source)+250*Cos(bj_DEGTORAD*360*4/5.0*-1.0)
	set y=GetUnitY(source)+250*Sin(bj_DEGTORAD*360*4/5.0*-1.0)
	set R84=CreateUnit(GetOwningPlayer(source),'h0CJ',x,y,360*4/5.0*-1.0)
	call ShowUnit(R84,false)
	call SetUnitInvulnerable(R84,true)
	set x=GetUnitX(source)+250*Cos(bj_DEGTORAD*360*3/5.0*-1.0)
	set y=GetUnitY(source)+250*Sin(bj_DEGTORAD*360*3/5.0*-1.0)
	set R94=CreateUnit(GetOwningPlayer(source),'h0CJ',x,y,360*3/5.0*-1.0)
	call ShowUnit(R94,false)
	call SetUnitInvulnerable(R84,true)
	set x=GetUnitX(source)+250*Cos(bj_DEGTORAD*360*2/5.0*-1.0)
	set y=GetUnitY(source)+250*Sin(bj_DEGTORAD*360*2/5.0*-1.0)
	set RA4=CreateUnit(GetOwningPlayer(source),'h0CJ',x,y,360*2/5.0*-1.0)
	call ShowUnit(RA4,false)
	call SetUnitInvulnerable(RA4,true)
	set x=GetUnitX(source)+250*Cos(bj_DEGTORAD*360*1/5.0*-1.0)
	set y=GetUnitY(source)+250*Sin(bj_DEGTORAD*360*1/5.0*-1.0)
	set RB4=CreateUnit(GetOwningPlayer(source),'h0CJ',x,y,360*1/5.0*-1.0)
	call ShowUnit(RB4,false)
	call SetUnitInvulnerable(RB4,true)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(393),(R74))
	call SaveUnitHandle(HY,(h),(394),(R84))
	call SaveUnitHandle(HY,(h),(395),(R94))
	call SaveUnitHandle(HY,(h),(396),(RA4))
	call SaveUnitHandle(HY,(h),(397),(RB4))
	call SaveBoolean(HY,(h),(511),(true))
	call SaveBoolean(HY,(h),(512),(false))
	call SaveBoolean(HY,(h),(513),(false))
	call SaveBoolean(HY,(h),(514),(false))
	call SaveBoolean(HY,(h),(515),(false))
	call SaveBoolean(HY,(h),(655),(false))
	call SaveBoolean(HY,(h),(656),(false))
	call SaveReal(HY,(h),(138),((150)*1.0))
	call UnitAddAbilityPermanent(source,'A24B')
	call UnitAddAbilityPermanent(source,'A24A')
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3918))
	set source=null
	set t=null
	set R74=null
	set R84=null
	set R94=null
	set RA4=null
	set RB4=null
endfunction

function Func3920 takes nothing returns boolean
	if GetSpellAbilityId()=='A1T8' then
		call Func3919()
	endif
	return false
endfunction

function Func3921 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3920))
	set t=null
endfunction

function Func3922 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	call Func0137(source,GetEventDamage()*0.05*lvl)
	set t=null
	set source=null
	return false
endfunction

function Func3923 takes unit u returns nothing
	local trigger t
	call UnitRemoveAbility(u,'A1TS')
	call UnitRemoveAbility(u,'A1TR')
	call UnitRemoveAbility(u,'A1TT')
	call UnitRemoveAbility(u,'A1TP')
	if(LoadBoolean(HY,(GetHandleId(u)),(708)))then
		call SaveBoolean(HY,(GetHandleId(u)),(708),(false))
		set t=(LoadTriggerHandle(HY,(GetHandleId(u)),(709)))
		call FlushChildHashtable(HY,(GetHandleId(t)))
		call CleanTrigger(t)
		call RemoveSavedHandle(HY,(GetHandleId(u)),(709))
		set t=null
	endif
endfunction

function Func3924 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call Func3923(source)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	return false
endfunction

function Func3925 takes unit u,integer i returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(2),(u))
	call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func3924))
	if i==1 then
		call UnitAddAbilityPermanent(u,'A1TS')
		call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A1TS',false)
	elseif i==2 then
		call UnitAddAbilityPermanent(u,'A1TR')
		call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A1TR',false)
	elseif i==3 then
		call UnitAddAbilityPermanent(u,'A1TT')
		call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A1TT',false)
	elseif i==4 then
		call UnitAddAbilityPermanent(u,'A1TP')
		call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A1TP',false)
	endif
	if(LoadBoolean(HY,(GetHandleId(u)),(708)))==false then
		call SaveBoolean(HY,(GetHandleId(u)),(708),(true))
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DAMAGED)
		call TriggerAddCondition(t,Condition(function Func3922))
		call SaveTriggerHandle(HY,(GetHandleId(u)),(709),(t))
		call SaveUnitHandle(HY,(GetHandleId(t)),(2),(u))
		call SaveInteger(HY,(GetHandleId(t)),(5),(i))
	endif
	set t=null
endfunction

function Func3926 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local integer lvl=GetUnitAbilityLevel(source,'A28Q')
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit S75=(LoadUnitHandle(HY,(GetHandleId(source)),(652)))
	local boolean ZXO=false
	local real S85=0.2*(GetUnitState(source,UNIT_STATE_LIFE)*0.045)
	local real S95=0.2*(GetUnitState(source,UNIT_STATE_MANA)*0.045)
	if GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
		if GetIssuedOrderId()==String2OrderIdBJ("manashieldon")then
			call Func3925(source,lvl)
		elseif GetIssuedOrderId()==String2OrderIdBJ("manashieldoff")then
			call Func3923(source)
		endif
	endif
	if GetUnitAbilityLevel(source,'A1TS')>0 or GetUnitAbilityLevel(source,'A1TR')>0 or GetUnitAbilityLevel(source,'A1TT')>0 or GetUnitAbilityLevel(source,'A1TP')>0 then
		set ZXO=true
		call SetUnitState(source,UNIT_STATE_LIFE,RMaxBJ(GetUnitState(source,UNIT_STATE_LIFE)-S85,1))
		call SetUnitState(source,UNIT_STATE_MANA,RMaxBJ(GetUnitState(source,UNIT_STATE_MANA)-S95,1))
	endif
	if S75==null then
		if target!=null then
			call Func3923(target)
			set target=null
			call SaveUnitHandle(HY,(h),(17),(target))
		endif
	else
		if target==null then
			set target=S75
			if ZXO then
				call SaveUnitHandle(HY,(h),(17),(target))
				call Func3925(target,lvl)
			else
				call Func3923(target)
			endif
		elseif target!=S75 then
			call Func3923(target)
			if ZXO then
				set target=S75
				call SaveUnitHandle(HY,(h),(17),(target))
				call Func3925(target,lvl)
			endif
		elseif ZXO==false then
			call Func3923(target)
		elseif target==S75 then
			if ZXO then
				set target=S75
				call SaveUnitHandle(HY,(h),(17),(target))
				call Func3925(target,lvl)
			endif
		endif
	endif
	set t=null
	set source=null
	set target=null
	set S75=null
	return false
endfunction

function Func3927 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A28Q')
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(null))
	call TriggerRegisterTimerEvent(t,0.2,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_ISSUED_ORDER)
	call TriggerAddCondition(t,Condition(function Func3926))
	set source=null
	set t=null
endfunction

function Func3928 takes nothing returns boolean
	if GetLearnedSkill()=='A28Q' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A28Q')==1 then
		call Func3927()
	endif
	return false
endfunction

function Func3929 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3928))
	set t=null
endfunction

function Func3930 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group034)==false then
		call GroupAddUnit(group034,GetEnumUnit())
		call UnitAddAbilityPermanent(GetEnumUnit(),'A2TP')
		call Func0228(GetEnumUnit(),'A2TP',1,0.25+0.5*integer536,'B0GU')
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",GetEnumUnit(),"chest"))
	endif
endfunction

function Func3931 takes unit source,unit target,group JAO returns nothing
	local real x1=GetUnitX(source)
	local real y1=GetUnitY(source)
	local real x2=GetUnitX(target)
	local real y2=GetUnitY(target)
	local real a=Func0159(x1,y1,x2,y2)*bj_DEGTORAD
	local real x
	local real y
	local real d=Func0141(x1,y1,x2,y2)
	local group g=GetAvailableGroup()
	local integer i=1
	set group034=JAO
	set unit393=source
	set integer536=GetUnitAbilityLevel(source,'A1TA')
	set real389=integer536*50+50
	loop
		exitwhen i>8
		set tt_unit1=source
		set x=x1+d*i/8*Cos(a)
		set y=y1+d*i/8*Sin(a)
		call GroupEnumUnitsInRange(g,x,y,100,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func3930)
		call GroupClear(g)
		set i=i+1
	endloop
	call KillGroup(g)
	set g=null
endfunction

function Func3932 takes unit source,unit target returns boolean
	return((LoadInteger(HY,(GetHandleId((source))),((4294))))==1)
endfunction

function Func3933 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real d=Func0139(source,target)
	local real a=Func0158(source,target)*bj_DEGTORAD
	local real x=GetUnitX(source)+20*Cos(a)
	local real y=GetUnitY(source)+20*Sin(a)
	local location l
	if d<300 or d>2150 then
		set l=Func0259(x,y)
		set x=GetLocationX(l)
		set y=GetLocationY(l)
		call SetUnitX(source,SafeX50(x))
		call SetUnitY(source,SafeY50(y))
		call KillTrees(x,y,350)
		call RemoveLocation(l)
		set l=null
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SaveInteger(HY,(GetHandleId((source))),((4295)),(2))
	else
		call SetUnitX(source,x)
		call SetUnitY(source,y)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3934 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local group JAO=(LoadGroupHandle(HY,(h),(133)))
	local lightning UZI=(LoadLightningHandle(HY,(h),(196)))
	local integer Count=GetTriggerEvalCount(t)
	local real d=Func0139(source,target)
	local real a=1
	local real Z33=GetUnitState(source,UNIT_STATE_LIFE)
	local real KWO=GetUnitState(source,UNIT_STATE_MANA)
	local real SH5=(LoadReal(HY,(h),(670)))
	local real SZ5=(LoadReal(HY,(h),(667)))
	local real SV5
	local real SW5
	local real SX5=1.5
	if target==null or source==null or IsDead(source) or(Count>600 and Func3932(source,target)==false and((LoadInteger(HY,(GetHandleId((source))),((4295))))==1)==false)or(d>925 and((LoadInteger(HY,(GetHandleId((source))),((4295))))==1)==false)or GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A1TU')then
		call KillGroup(JAO)
		call DestroyLightning(UZI)
		call UnitRemoveAbility(target,'A1TH')
		call UnitRemoveAbility(target,'A1TI')
		call UnitRemoveAbility(target,'A1TG')
		call UnitRemoveAbility(target,'A1TJ')
		call UnitRemoveAbility(target,'B0DH')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitRemoveAbility(source,'A1TH')
		call UnitRemoveAbility(source,'A1TI')
		call UnitRemoveAbility(source,'A1TG')
		call UnitRemoveAbility(source,'A1TJ')
		call UnitRemoveAbility(source,'B0DH')
		call UnitRemoveAbility(source,'A1TU')
		if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A1TA' then
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1TA',true)
		endif
		call RemoveSavedHandle(HY,GetHandleId(source),652)
	else
		set SV5=Z33/GetUnitState(source,UNIT_STATE_MAX_LIFE)
		set SW5=KWO/GetUnitState(source,UNIT_STATE_MAX_MANA)
		if SV5-SH5>0 and(SV5-SH5)<0.5 then
			if((LoadInteger(HY,(GetHandleId((source))),((4298))))==1)==false then
				call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)+SX5*(SV5-SH5)*GetUnitState(source,UNIT_STATE_MAX_LIFE))
			endif
		endif
		if SW5-SZ5>0 and(SW5-SZ5)<0.5 then
			call SetUnitState(target,UNIT_STATE_MANA,GetUnitState(target,UNIT_STATE_MANA)+SX5*(SW5-SZ5)*GetUnitState(source,UNIT_STATE_MAX_MANA))
		endif
		call SaveReal(HY,(h),(670),((GetUnitState(source,UNIT_STATE_LIFE)/GetUnitState(source,UNIT_STATE_MAX_LIFE))*1.0))
		call SaveReal(HY,(h),(667),((GetUnitState(source,UNIT_STATE_MANA)/GetUnitState(source,UNIT_STATE_MAX_MANA))*1.0))
		call MoveLightning(UZI,true,GetUnitX(source),GetUnitY(source),GetUnitX(target),GetUnitY(target))
		call Func3931(source,target,JAO)
		if IsUnitVisible(source,LocalPlayer)==false and IsUnitVisible(target,LocalPlayer)==false then
			set a=0
		endif
		if Func0100(LocalPlayer)then
			set a=1
		endif
		if d<700 or((LoadInteger(HY,(GetHandleId((source))),((4295))))==1) then
			call SetLightningColor(UZI,0.00,1.00,1.00,a)
		else
			call SetLightningColor(UZI,0.80,0.70,0.40,a)
		endif
	endif
	set t=null
	set source=null
	set target=null
	set JAO=null
	set UZI=null
	return false
endfunction

function Func3935 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local lightning UZI=AddLightning("CHIM",true,GetUnitX(source),GetUnitY(source),GetUnitX(target),GetUnitY(target))
	local integer lvl=GetUnitAbilityLevel(source,'A1TA')
	local integer X63
	local real d=Func0139(source,target)
	local real a=Func0158(source,target)*bj_DEGTORAD
	local location l
	local real x
	local real y
	call SetLightningColor(UZI,0.00,1.00,1.00,1)
	call UnitAddAbilityPermanent(source,'A1TU')
	if lvl==1 then
		set X63='A1TH'
	elseif lvl==2 then
		set X63='A1TI'
	elseif lvl==3 then
		set X63='A1TG'
	elseif lvl==4 then
		set X63='A1TJ'
	endif
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1TA',false)
	call UnitAddAbilityPermanent(source,X63)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),X63,false)
	call UnitAddAbilityPermanent(target,X63)
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),X63,false)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveGroupHandle(HY,(h),(133),(GetAvailableGroup()))
	call SaveLightningHandle(HY,(h),(196),(UZI))
	call SaveReal(HY,(h),(670),((GetUnitState(source,UNIT_STATE_LIFE)/GetUnitState(source,UNIT_STATE_MAX_LIFE))*1.0))
	call SaveReal(HY,(h),(667),((GetUnitState(source,UNIT_STATE_MANA)/GetUnitState(source,UNIT_STATE_MAX_MANA))*1.0))
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3934))
	call SaveUnitHandle(HY,(GetHandleId(source)),(652),(target))
	if d>700 then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",source,"chest")))
		call TriggerRegisterTimerEvent(t,0.02,true)
		call TriggerAddCondition(t,Condition(function Func3933))
		call SaveInteger(HY,(GetHandleId((source))),((4295)),(1))
	endif
	set source=null
	set t=null
endfunction

function Func3936 takes nothing returns boolean
	if GetSpellAbilityId()=='A1TA' then
		call Func3935()
	endif
	return false
endfunction

function Func3937 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3936))
	set t=null
endfunction

function Func3938 takes unit source,real x,real y returns boolean
	local boolean FB1=false
	local player p=GetOwningPlayer(source)
	local unit caster=CreateUnit(p,'e02Q',GetUnitX(source),GetUnitY(source),0)
	call UnitAddAbilityPermanent(caster,'A1V4')
	if IssuePointOrder(caster,"blink",x,y) then
		call KillUnit(caster)
		set caster=null
		return true
	else
		call KillUnit(caster)
		set caster=null
		return false
	endif
endfunction

function Func3939 takes string UWI,unit target returns nothing
	local texttag tt=CreateTextTag()
	call SetTextTagText(tt,UWI,0.033)
	call SetTextTagPosUnit(tt,target,64)
	call SetTextTagColor(tt,0,50,255,255)
	call SetTextTagVelocity(tt,0,0.0355)
	call SetTextTagFadepoint(tt,0.15)
	call SetTextTagPermanent(tt,false)
	call SetTextTagLifespan(tt,0.85)
	call SetTextTagVisibility(tt,true)
	set tt=null
endfunction

function Func3940 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer Count=GetTriggerEvalCount(t)
	if IsDead(source)==false and Count<12 then
		call Func3939(I2S(12-Count),source)
	endif
	if Count==12 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func3941 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(GetHandleId(source)),(652)))
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local real SourceX=(LoadReal(HY,(h),(189)))
	local real SourceY=(LoadReal(HY,(h),(190)))
	local fogmodifier fm=(LoadFogModifierHandle(HY,(h),(42)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call SaveInteger(HY,(GetHandleId((source))),((4294)),(2))
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FogModifierStop(fm)
		call DestroyFogModifier(fm)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call KillTrees(QJI,QKI,250)
		call KillTrees(SourceX,SourceY,250)
		if GetTriggerEvalCount(t)==1 then
			if IsDead(source)==false then
				call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(source),GetUnitY(source)))
				call SetUnitPosition(source,QJI,QKI)
				call PanCameraToTimedForPlayer(GetOwningPlayer(source),QJI,QKI,0)
				call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(source),GetUnitY(source)))
			endif
			if target!=null and IsDead(target)==false and GetOwningPlayer(target)!=Sentinels[0]and GetOwningPlayer(target)!=Scourges[0]and((LoadBoolean(HY,(GetHandleId(GetOwningPlayer((target)))),(139)))==false)then
				call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(target),GetUnitY(target)))
				call AddTimedKeyToUnit(target,4402,1)
				call SetUnitPosition(target,QJI,QKI)
				if IsUnitType(target,UNIT_TYPE_HERO) and IsDead(target)==false then
					call PanCameraToTimedForPlayer(GetOwningPlayer(target),QJI,QKI,0)
				endif
				call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(target),GetUnitY(target)))
			endif
		else
			if IsDead(source)==false then
				call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(source),GetUnitY(source)))
				call SetUnitPosition(source,SourceX,SourceY)
				call PanCameraToTimedForPlayer(GetOwningPlayer(source),SourceX,SourceY,0)
				call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(source),GetUnitY(source)))
			endif
			if target!=null and IsDead(target)==false and GetOwningPlayer(target)!=Sentinels[0]and GetOwningPlayer(target)!=Scourges[0]and((LoadBoolean(HY,(GetHandleId(GetOwningPlayer((target)))),(139)))==false)then
				call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(target),GetUnitY(target)))
				call AddTimedKeyToUnit(target,4402,1)
				call SetUnitPosition(target,SourceX,SourceY)
				if IsUnitType(target,UNIT_TYPE_HERO) and IsDead(target)==false then
					call PanCameraToTimedForPlayer(GetOwningPlayer(target),SourceX,SourceY,0)
				endif
				call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(target),GetUnitY(target)))
			endif
			call SaveInteger(HY,(GetHandleId((source))),((4294)),(2))
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call FogModifierStop(fm)
			call DestroyFogModifier(fm)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	endif
	set t=null
	set source=null
	set target=null
	set fm=null
	return false
endfunction

function Func3942 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local fogmodifier fm
	local integer lvl=GetUnitAbilityLevel(source,'A1TB')
	if Func0250(source)or Func0248(source)or IsDead(source)then
		call SaveInteger(HY,(GetHandleId((source))),((4294)),(2))
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEvalCount(t)==(2.75-0.25*lvl)/.05 then
		set fm=CreateFogModifierRadius(GetOwningPlayer(source),FOG_OF_WAR_VISIBLE,GetUnitX(source),GetUnitY(source),400,true,true)
		call FogModifierStart(fm)
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveUnitHandle(HY,(h),(2),(source))
		call TriggerRegisterTimerEvent(t,0.01,false)
		call TriggerRegisterTimerEvent(t,12,false)
		call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
		call TriggerAddCondition(t,Condition(function Func3941))
		call SaveReal(HY,(h),(189),((GetUnitX(source))*1.0))
		call SaveReal(HY,(h),(190),((GetUnitY(source))*1.0))
		call SaveReal(HY,(h),(47),((QJI)*1.0))
		call SaveReal(HY,(h),(48),((QKI)*1.0))
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffect("war3mapImported\\EarthlyEminence.mdl",GetUnitX(source),GetUnitY(source))))
		call SaveFogModifierHandle(HY,(h),(42),(fm))
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveUnitHandle(HY,(h),(2),(source))
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func3940))
	endif
	set source=null
	set t=null
	set fm=null
	return false
endfunction

function Func3943 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local unit target=(LoadUnitHandle(HY,(GetHandleId(source)),(652)))
	local integer id=GetPlayerId(GetOwningPlayer(source))
	local integer lvl=GetUnitAbilityLevel(source,'A1TB')
	call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",source,"chest"))
	if target!=null then
	endif
	call PingMinimapEx(x,y,4.0,255,0,0,false)
	call TimedReveal(Sentinels[1],2.5,x,y,300)
	call TimedReveal(Scourges[1],2.5,x,y,300)
	call SaveUnitHandle(HY,(h),(2),(source))
	call TriggerRegisterTimerEvent(t,.05,true)
	call TriggerAddCondition(t,Condition(function Func3942))
	call SaveReal(HY,(h),(47),((x)*1.0))
	call SaveReal(HY,(h),(48),((y)*1.0))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffect("war3mapImported\\EarthlyEminence.mdl",x,y)))
	call SaveInteger(HY,(GetHandleId((source))),((4294)),(1))
	set source=null
	set t=null
endfunction

function Func3944 takes nothing returns boolean
	if GetSpellAbilityId()=='A1TB' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
			call Func3943()
		else
			if Func3938(GetTriggerUnit(),GetSpellTargetX(),GetSpellTargetY())==false then
				call InterruptUnit(GetTriggerUnit())
				call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0KX'))
			else
				if IsSentinel(GetOwningPlayer(GetTriggerUnit()))then
					if IsPointInRegion(region011,GetSpellTargetX(),GetSpellTargetY()) then
						call InterruptUnit(GetTriggerUnit())
						call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n03Y'))
					endif
				else
					if IsPointInRegion(region010,GetSpellTargetX(),GetSpellTargetY()) then
						call InterruptUnit(GetTriggerUnit())
						call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n03Y'))
					endif
				endif
			endif
		endif
	endif
	return false
endfunction

function Func3945 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func3944))
	set region010=CreateRegion()
	call RegionAddRect(region010,rect017)
	call RegionAddRect(region010,rect044)
	set region011=CreateRegion()
	call RegionAddRect(region011,rect016)
	call RegionAddRect(region011,rect045)
	set t=null
endfunction

function Func3946 takes unit source,unit target,real SourceX,real SourceY,real a2 returns nothing
	local integer i=0
	local real QJI
	local real QKI=GetUnitY(target)
	local real a
	local real x
	local real y
	local real SQ5
	if target!=null then
		set QJI=GetUnitX(target)
		set QKI=GetUnitY(target)
		set a=Func0159(SourceX,SourceY,QJI,QKI)
	else
		set a=a2
		set QJI=SourceX+50*Cos(a*bj_DEGTORAD)
		set QKI=SourceY+50*Sin(a*bj_DEGTORAD)
	endif
	set SQ5=a
	set x=QJI+200*Cos(SQ5*bj_DEGTORAD)
	set y=QKI+200*Sin(SQ5*bj_DEGTORAD)
	call Func0198(CreateDestructable('B006',x,y,-1*SQ5,0.6,1),7)
	set SQ5=a-40
	set x=QJI+200*Cos(SQ5*bj_DEGTORAD)
	set y=QKI+200*Sin(SQ5*bj_DEGTORAD)
	call Func0198(CreateDestructable('B006',x,y,-1*SQ5,0.6,1),7)
	set SQ5=a-80
	set x=QJI+200*Cos(SQ5*bj_DEGTORAD)
	set y=QKI+200*Sin(SQ5*bj_DEGTORAD)
	call Func0198(CreateDestructable('B006',x,y,-1*SQ5,0.6,1),7)
	set SQ5=a+40
	set x=QJI+200*Cos(SQ5*bj_DEGTORAD)
	set y=QKI+200*Sin(SQ5*bj_DEGTORAD)
	call Func0198(CreateDestructable('B006',x,y,-1*SQ5,0.6,1),7)
	set SQ5=a+80
	set x=QJI+200*Cos(SQ5*bj_DEGTORAD)
	set y=QKI+200*Sin(SQ5*bj_DEGTORAD)
	call Func0198(CreateDestructable('B006',x,y,-1*SQ5,0.6,1),7)
	if target!=null then
		call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ChainFreeze_F6.mdx",target,"chest"))
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",target,"chest"))
		call DamageTarget(unit394,target,1,integer537*70)
	endif
endfunction

function Func3947 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group035)==false then
		call GroupAddUnit(group035,GetEnumUnit())
		call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ChainFreeze_F6.mdx",GetEnumUnit(),"chest"))
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",GetEnumUnit(),"chest"))
		call DamageTarget(unit394,GetEnumUnit(),1,integer537*70)
	endif
endfunction

function Func3948 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit TI5=(LoadUnitHandle(HY,(h),(45)))
	local real EN4=(LoadReal(HY,(h),(683)))
	local real ES4=(LoadReal(HY,(h),(684)))
	local real SourceX=GetUnitX(TI5)
	local real SourceY=GetUnitY(TI5)
	local real RM2=Atan2(ES4-SourceY,EN4-SourceX)
	local real IV1=SourceX+22*Cos(RM2)
	local real IW1=SourceY+22*Sin(RM2)
	local group JAO=(LoadGroupHandle(HY,(h),(133)))
	local integer lvl=GetUnitAbilityLevel(source,'A1YO')
	local group g=GetAvailableGroup()
	set tt_unit1=source
	set unit394=source
	set group035=JAO
	set integer537=lvl
	set unit395=null
	call GroupEnumUnitsInRange(g,IV1,IW1,225,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func3947)
	call KillGroup(g)
	call SetUnitPosition(TI5,IV1,IW1)
	if Func0141(IV1,IW1,EN4,ES4)<40 then
		call KillUnit(TI5)
		call ShowUnit(TI5,false)
		call SetUnitPathing(TI5,true)
		call Func3946(source,null,IV1,IW1,RM2*bj_RADTODEG)
		call KillGroup(JAO)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set TI5=null
	set JAO=null
	set g=null
	return false
endfunction

function Func3949 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit TI5=CreateUnit(GetOwningPlayer(source),'h0CS',GetUnitX(source),GetUnitY(source),0)
	local real SourceX=GetUnitX(source)
	local real SourceY=GetUnitY(source)
	local real QJI=GetSpellTargetX()
	local real QKI=GetSpellTargetY()
	local real RM2=Atan2(QKI-SourceY,QJI-SourceX)
	local real EN4=SafeX50(QJI)
	local real ES4=SafeY50(QKI)
	call SetUnitFacing(TI5,RM2*bj_RADTODEG)
	call SetUnitPathing(TI5,false)
	call TriggerRegisterTimerEvent(t,.02,true)
	call TriggerAddCondition(t,Condition(function Func3948))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(683),((EN4)*1.0))
	call SaveReal(HY,(h),(684),((ES4)*1.0))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveUnitHandle(HY,(h),(45),(TI5))
	call SaveGroupHandle(HY,(h),(133),(GetAvailableGroup()))
	set source=null
	set TI5=null
	set t=null
endfunction

function Func3950 takes nothing returns boolean
	if GetSpellAbilityId()=='A1YO' then
		call Func3949()
	endif
	return false
endfunction

function Func3951 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3950))
	set t=null
endfunction

function Func3952 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A1YQ')
	local integer Count=GetTriggerEvalCount(t)
	local real y=(Count-50)*(Count-50)/4.3
	local real dmg
	if lvl==1 then
		set dmg=75
	elseif lvl==2 then
		set dmg=150
	else
		set dmg=225
	endif
	if Count==1 then
		call IssueTargetOrder(source,"attack",target)
	endif
	if Count<50 then
		if Func0093(target)==false then
			call SetUnitFlyHeight(target,700*Count/50,0)
		endif
	elseif Count<100 then
		if Func0093(target)==false then
			call SetUnitFlyHeight(target,700-700*(Count-50)/50,0)
		endif
	else
		if Func0093(target)==false then
			call SetUnitFlyHeight(target,GetUnitDefaultFlyHeight(target),0)
		endif
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call Func0228(target,'A204',1,1+lvl,'B0DY')
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A204',false)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3953 takes unit source,unit target returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A1YQ')
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	call Func0163("WALRUS PUNCH !!",3.5,source,0.03,255,0,0,255)
	call Func0174(sound064,GetUnitX(target),GetUnitY(target))
	call UnitAddAbilityPermanent(caster,'A1UP')
	call IssueTargetOrder(caster,"thunderbolt",target)
	if Func0093(target)==false then
		call UnitAddAbilityPermanent(target,'Amrf')
		call UnitRemoveAbility(target,'Amrf')
	endif
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",target,"overhead"))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",target,"head"))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",target,"left,hand"))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",target,"right,hand"))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",target,"chest"))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",target,"origin"))
	call TriggerRegisterTimerEvent(t,.01,true)
	call TriggerAddCondition(t,Condition(function Func3952))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",target,"chest")))
	set t=null
endfunction

function Func3954 takes nothing returns boolean
	local trigger t2=GetTriggeringTrigger()
	local integer KAO=GetHandleId(t2)
	local unit source=(LoadUnitHandle(HY,(KAO),(2)))
	local unit target=(LoadUnitHandle(HY,(KAO),(17)))
	local effect T55=(LoadEffectHandle(HY,(KAO),(32)))
	local trigger t=(LoadTriggerHandle(HY,(KAO),(35)))
	local integer h=(LoadInteger(HY,(KAO),(375)))
	if GetTriggerEvalCount(t2)==1 then
		call IssueTargetOrder(source,"attack",target)
	else
		if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
			if GetEventDamageSource()==source and GetEventDamage()>30 then
				call Func0225(source,'A1UH',1,0.1)
				call Func0225(source,'A1UI',1,0.1)
				call DestroyEffect(T55)
				call CleanTrigger(t2)
				call FlushChildHashtable(HY,(KAO))
				call CleanTrigger(t)
				call FlushChildHashtable(HY,(h))
				call Func3953(source,target)
			endif
		elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
			if GetAttacker()==source and GetTriggerUnit()!=target then
				call FlushChildHashtable(HY,(KAO))
				call CleanTrigger(t2)
			endif
		else
			call UnitRemoveAbility(source,'A1UH')
			call UnitRemoveAbility(source,'A1UI')
			call RemoveSavedHandle(HY,(h),(17))
			call FlushChildHashtable(HY,(KAO))
			call CleanTrigger(t2)
		endif
	endif
	set t2=null
	set t=null
	set source=null
	set target=null
	set T55=null
	return false
endfunction

function Func3955 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target
	local effect T55=(LoadEffectHandle(HY,(h),(32)))
	local trigger t2
	local integer KAO
	if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED then
		call DestroyEffect(T55)
		call UnitRemoveAbility(source,'A1UH')
		call UnitRemoveAbility(source,'A1UI')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetAttacker()==source and GetTriggerUnit()!=(LoadUnitHandle(HY,(h),(17)))and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(source))==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false then
		set target=GetTriggerUnit()
		call SaveUnitHandle(HY,(h),(17),(target))
		call UnitRemoveAbility(source,'A1UH')
		call UnitRemoveAbility(source,'A1UI')
		if GetUnitState(target,UNIT_STATE_LIFE)/GetUnitState(target,UNIT_STATE_MAX_LIFE)>0.5 then
			call UnitAddAbilityPermanent(source,'A1UH')
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1UH',false)
		else
			call UnitAddAbilityPermanent(source,'A1UI')
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1UI',false)
		endif
		call IssueImmediateOrder(source,"stop")
		set t2=CreateTrigger()
		set KAO=GetHandleId(t2)
		call TriggerRegisterTimerEvent(t2,0,false)
		call TriggerRegisterTimerEvent(t2,2,false)
		call TriggerRegisterUnitEvent(t2,target,EVENT_UNIT_DAMAGED)
		call TriggerRegisterAnyUnitEvent(t2,EVENT_PLAYER_UNIT_ATTACKED)
		call TriggerAddCondition(t2,Condition(function Func3954))
		call SaveUnitHandle(HY,(KAO),(2),(source))
		call SaveUnitHandle(HY,(KAO),(17),(target))
		call SaveEffectHandle(HY,(KAO),(32),(T55))
		call SaveInteger(HY,(KAO),(375),(h))
		call SaveTriggerHandle(HY,(KAO),(35),(t))
	endif
	set t=null
	set source=null
	set target=null
	set T55=null
	return false
endfunction

function Func3956 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerRegisterTimerEvent(t,10,false)
	call TriggerAddCondition(t,Condition(function Func3955))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(null))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\WalrusPunchWeaponFX.mdx",source,"weapon")))
	set t=null
	set source=null
endfunction

function Func3957 takes nothing returns boolean
	if GetSpellAbilityId()=='A1YQ' then
		call Func3956()
	endif
	return false
endfunction

function Func3958 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3957))
	set t=null
endfunction

function Func3959 takes nothing returns nothing
	call ShowUnit(GetEnumUnit(),true)
	call UnitRemoveAbility(GetEnumUnit(),'A04R')
	call SetUnitInvulnerable(GetEnumUnit(),false)
	call PauseUnit(GetEnumUnit(),false)
	if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) then
		call SetUnitPosition(GetEnumUnit(),real390,real391)
		call SelectUnitForPlayerSingle(GetEnumUnit(),GetOwningPlayer(GetEnumUnit()))
	else
		call SetUnitX(GetEnumUnit(),real390)
		call SetUnitY(GetEnumUnit(),real391)
	endif
	if GetEnumUnit()==unit396 and unit397!=null then
		call IssueTargetOrder(unit396,"attack",unit397)
	endif
	if GetUnitTypeId(GetEnumUnit())=='E02I' then
		call SetUnitVertexColor(GetEnumUnit(),255,255,255,255)
	endif
	call DestroyEffect(AddSpecialEffect("war3mapImported\\ChainFreeze_F6.mdx",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
	call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
endfunction

function Snowball_Slow takes nothing returns nothing
	local integer OO1
	if integer538==1 then
		set OO1='A20F'
	elseif integer538==2 then
		set OO1='A20E'
	elseif integer538==3 then
		set OO1='A1SL'
	elseif integer538==4 then
		set OO1='A20D'
	endif
	if IsUnitInGroup(GetEnumUnit(),group036)==false then
		call GroupAddUnit(group036,GetEnumUnit())
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),OO1,false)
		call Func0228(GetEnumUnit(),OO1,1,5,'B0DC')
	endif
endfunction

function Func3960 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group036)==false then
		call GroupAddUnit(group036,GetEnumUnit())
		call DamageTarget(unit396,GetEnumUnit(),1,40*integer538+40+integer539*(10+10*integer538))
		call SetUnitAbilityLevel(unit398,'A0X6',Func0313(0.25*integer538+0.25))
		call SetUnitX(unit398,GetUnitX(GetEnumUnit()))
		call SetUnitY(unit398,GetUnitY(GetEnumUnit()))
		call IssueTargetOrder(unit398,"thunderbolt",GetEnumUnit())
	endif
endfunction

function Func3961 takes nothing returns nothing
	call SetUnitX(GetEnumUnit(),real390)
	call SetUnitY(GetEnumUnit(),real391)
endfunction

function Func3962 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real QJI=GetUnitX(target)
	local real QKI=GetUnitY(target)
	local real r=(LoadReal(HY,(h),(671)))
	local real a=Func0159(GetUnitX(IG1),GetUnitY(IG1),QJI,QKI)*bj_DEGTORAD
	local real x=GetUnitX(IG1)+r*Cos(a)
	local real y=GetUnitY(IG1)+r*Sin(a)
	local group JAO=(LoadGroupHandle(HY,(h),(133)))
	local group g
	local integer Count=GetTriggerEvalCount(t)
	local real S83=RMinBJ(2.5+(Count*0.02),10)
	local real CY3=225+40*(Count*0.02)
	local integer TD5=(LoadInteger(HY,(h),(34)))
	set integer539=TD5
	set integer538=GetUnitAbilityLevel(source,'A1S7')
	set tt_unit1=source
	set group036=JAO
	set unit396=source
	set unit397=target
	set unit398=(LoadUnitHandle(HY,(h),(19)))
	call SetUnitX(IG1,x)
	call SetUnitY(IG1,y)
	call SetUnitX(source,x)
	call SetUnitY(source,y)
	call SetUnitFacing(IG1,a*bj_RADTODEG-180)
	call SetUnitScale(IG1,S83,S83,S83)
	set real390=x
	set real391=y
	call ForGroup((LoadGroupHandle(HY,(h),(22))),function Func3961)
	if Func0141(x,y,QJI,QKI)<r*2 or Count==150 then
		call KillTrees(x,y,300)
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,x,y,CY3,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func3960)
		call KillGroup(g)
		set g=null
		set real390=x
		set real391=y
		call ForGroup((LoadGroupHandle(HY,(h),(22))),function Func3959)
		call KillGroup((LoadGroupHandle(HY,(h),(22))))
		call KillGroup(JAO)
		call KillUnit(IG1)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SetUnitInvulnerable(source,false)
		call UnitRemoveAbility(source,'Abun')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1YO',true)
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1YQ',true)
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1YR',true)
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1S7',true)
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2XK',false)
	else
		if ModuloInteger(GetTriggerEvalCount(t),5)==0 then
			call KillTrees(x,y,300)
			set g=GetAvailableGroup()
			call GroupEnumUnitsInRange(g,x,y,CY3,Condition(function DefaultEnemyFilterWithAncients))
			call ForGroup(g,function Func3960)
			call KillGroup(g)
			set g=null
		endif
	endif
	set t=null
	set source=null
	set IG1=null
	set JAO=null
	return false
endfunction

function Func3963 takes unit source,group g,unit TF5 returns nothing
	if IsUnitInGroup(TF5,g)==false then
		call GroupAddUnit(g,TF5)
		call DestroyEffect(AddSpecialEffect("war3mapImported\\ChainFreeze_F6.mdx",GetUnitX(TF5),GetUnitY(TF5)))
		call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",GetUnitX(TF5),GetUnitY(TF5)))
		if source!=TF5 then
			call ShowUnit(TF5,false)
			call UnitAddAbilityPermanent(TF5,'A04R')
			call SetUnitInvulnerable(TF5,true)
			call PauseUnit(TF5,true)
		endif
		if source!=TF5 then
			set integer539=integer539+1
		endif
	endif
endfunction

function Func3964 takes nothing returns nothing
	call Func3963(unit396,group037,GetEnumUnit())
endfunction

function Func3965 takes nothing returns boolean
	return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))or(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(tt_unit1)and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit()))))and((LoadBoolean(HY,(GetHandleId(GetOwningPlayer(GetFilterUnit()))),(139)))==false or unit396==GetFilterUnit())
endfunction

function Func3966 takes unit source,unit target,integer TD5 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real SourceX=GetUnitX(source)
	local real SourceY=GetUnitY(source)
	local real QJI=GetUnitX(target)
	local real QKI=GetUnitY(target)
	local real a=Func0159(SourceX,SourceY,QJI,QKI)*bj_DEGTORAD
	local group g=GetAvailableGroup()
	set real392=0
	set integer539=TD5
	set unit396=source
	call SetUnitVertexColor(source,255,255,255,0)
	set real392=1.5*RMaxBJ(133,GetUnitMoveSpeed(source))+integer539*100
	call SetUnitTimeScale(unit399,2)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func3962))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(19),(unit398))
	call SaveUnitHandle(HY,(h),(45),(unit399))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveReal(HY,(h),(671),((real392*0.02)*1.0))
	call SaveReal(HY,(h),(47),((QJI)*1.0))
	call SaveReal(HY,(h),(48),((QKI)*1.0))
	call SaveInteger(HY,(h),(34),(TD5))
	call SaveGroupHandle(HY,(h),(22),(group037))
	call SaveGroupHandle(HY,(h),(133),(GetAvailableGroup()))
	set t=null
	set g=null
endfunction

function Func3967 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local group g
	local integer Count=(LoadInteger(HY,(h),(34)))
	local real S83=RMinBJ(2.5+(Count*0.02),10)
	local real CY3=225+40*(Count*0.02)
	local unit TF5
	call SetUnitX(source,x)
	call SetUnitY(source,y)
	set integer538=GetUnitAbilityLevel(source,'A1S7')
	set tt_unit1=source
	set unit396=source
	set unit397=target
	set unit398=(LoadUnitHandle(HY,(h),(19)))
	set unit399=IG1
	call SetUnitScale(IG1,S83,S83,S83)
	if GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER then
		if GetIssuedOrderId()==851971 then
			set TF5=GetOrderTargetUnit()
			if Func0139(source,TF5)<425 and IsUnitAlly(TF5,GetOwningPlayer(source)) and(IsUnitType(TF5,UNIT_TYPE_HERO) or GetOwningPlayer(TF5)==GetOwningPlayer(source))then
				call Func3963(source,(LoadGroupHandle(HY,(h),(22))),TF5)
			endif
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A2XK' then
			call Func3966(source,target,integer539)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		set group037=(LoadGroupHandle(HY,(h),(22)))
		set g=GetAvailableGroup()
		set tt_unit1=source
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),100+25,Condition(function Func3965))
		call ForGroup(g,function Func3964)
		call KillGroup(g)
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
		if Count==200 then
			call Func3966(source,target,integer539)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	endif
	set t=null
	set source=null
	set IG1=null
	return false
endfunction

function Func3968 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit IG1=CreateUnit(GetOwningPlayer(source),'h0C3',GetUnitX(source),GetUnitY(source),GetUnitFacing(source))
	local group g=GetAvailableGroup()
	set real392=0
	set integer539=0
	set unit396=source
	set group037=GetAvailableGroup()
	set real392=1.5*RMaxBJ(133,GetUnitMoveSpeed(source))
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),100+25,Condition(function Func3965))
	call ForGroup(g,function Func3964)
	call KillGroup(g)
	set unit398=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
	call UnitAddAbilityPermanent(unit398,'A0X6')
	call SetUnitInvulnerable(source,true)
	call UnitAddAbilityPermanent(source,'Abun')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1YO',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1YQ',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1YR',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A1S7',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2XK',true)
	call UnitAddAbilityPermanent(source,'A2XK')
	call SetUnitTimeScale(IG1,2)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_ISSUED_TARGET_ORDER)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3967))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(19),(unit398))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	call SaveGroupHandle(HY,(h),(22),(group037))
	set t=null
	set g=null
endfunction

function Func3969 takes nothing returns boolean
	if GetSpellAbilityId()=='A1S7' then
		call Func3968()
	endif
	return false
endfunction

function Func3970 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3969))
	call Func0125('A0X6')
	set t=null
endfunction

function Func3971 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call IssueTargetOrder(source,"move",target)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3972 takes nothing returns nothing
	local unit source=GetSummonedUnit()
	local unit target=GetSummoningUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerAddCondition(t,Condition(function Func3971))
	call TriggerRegisterTimerEvent(t,0.2,false)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	set t=null
	set source=null
	set target=null
endfunction

function Func3973 takes nothing returns boolean
	local integer id=GetUnitTypeId(GetSummonedUnit())
	if id=='o01J' or id=='o01K' or id=='o01L' or id=='o01M' then
		call Func3972()
	endif
	return false
endfunction

function Func3974 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func3973))
endfunction

function Func3975 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call SetUnitX(source,GetUnitX(target))
		call SetUnitY(source,GetUnitY(target))
		call SetUnitX(caster,GetUnitX(target))
		call SetUnitY(caster,GetUnitY(target))
	endif
	set t=null
	set source=null
	set target=null
	set caster=null
	return false
endfunction

function Func3976 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		set unit400=GetEventDamageSource()
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3977 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetSummoningUnit()
	local unit target=GetSummonedUnit()
	local unit caster
	local integer TS5
	local integer TT5
	local integer TR5
	if GetUnitTypeId(target)=='npn3' or GetUnitTypeId(target)=='npn6' or GetUnitTypeId(target)=='n010' then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
		call TriggerRegisterTimerEvent(t,0.05,true)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
		call TriggerAddCondition(t,Condition(function Func3975))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveUnitHandle(HY,(h),(19),(caster))
		if Func0328(source,'I0A8')then
			call UnitAddAbility(caster,'A04I')
		endif
	endif
	if GetUnitAbilityLevel(source,'A1B6')>0 then
		if GetUnitTypeId(target)=='npn1' or GetUnitTypeId(target)=='npn4' or GetUnitTypeId(target)=='n011' then
			set TS5=GetUnitAbilityLevel(source,'A0MX')
			if TS5>0 then
				call UnitAddAbilityPermanent(target,'A0MX')
				call SetUnitAbilityLevel(target,'A0MX',TS5)
			endif
		endif
		if GetUnitTypeId(target)=='npn2' or GetUnitTypeId(target)=='npn5' or GetUnitTypeId(target)=='n012' then
			set TR5=GetUnitAbilityLevel(source,'Acdh')
			if TR5>0 then
				call UnitAddAbilityPermanent(target,'Acdh')
				call SetUnitAbilityLevel(target,'Acdh',TR5)
			endif
		endif
		if GetUnitTypeId(target)=='npn3' or GetUnitTypeId(target)=='npn6' or GetUnitTypeId(target)=='n010' then
			set TT5=GetUnitAbilityLevel(source,'A06M')
			if TT5>0 then
				call UnitAddAbilityPermanent(target,'A06M')
				call SetUnitAbilityLevel(target,'A06M',TT5)
			endif
		endif
	endif
	set t=null
	set source=null
	set target=null
	set caster=null
endfunction

function Func3978 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetSummoningUnit()
	local unit target=GetSummonedUnit()
	local integer TS5
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func3976))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	set t=null
	set source=null
	set target=null
endfunction

function Func3979 takes nothing returns boolean
	local integer RII=GetUnitTypeId(GetSummonedUnit())
	call Func3977()
	if Func0105(RII)then
		call Func3978()
	endif
	return false
endfunction

function Func3980 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func3979))
	set t=null
endfunction

function Func3981 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer PCI=(LoadInteger(HY,(h),(30)))
	local unit target=UnitAsInteger_Load(PCI)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source and(GetEventDamage()>40 or IsUnitType(target,UNIT_TYPE_STRUCTURE) or GetUnitTypeId(target)=='umtw' or GetUnitTypeId(target)=='ebal')and(LoadBoolean(HY,(GetHandleId(source)),(183))) then
			call SaveBoolean(HY,(GetHandleId(source)),(183),(false))
			call SaveReal(HY,(GetHandleId(source)),(184),((GetTime())*1.0))
			call UnitRemoveAbility(source,'A2XS')
			call UnitRemoveAbility(source,'A2XU')
			call FlushChildHashtable(HY,(GetHandleId((LoadTriggerHandle(HY,(h),(35))))))
			call CleanTrigger((LoadTriggerHandle(HY,(h),(35))))
			call UnitAsInteger_Clear(PCI)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call UnitAsInteger_Clear(PCI)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3982 takes nothing returns boolean
	local trigger t
	local integer h
	local unit target
	local unit source
	if GetTriggerEventId()==EVENT_UNIT_DEATH then
		call SaveBoolean(HY,(GetHandleId(GetTriggerUnit())),(183),(false))
		call SaveReal(HY,(GetHandleId(GetTriggerUnit())),(184),((GetTime())*1.0))
		call UnitRemoveAbility(GetTriggerUnit(),'A2XS')
		call UnitRemoveAbility(GetTriggerUnit(),'A2XU')
		call FlushChildHashtable(HY,(GetHandleId(GetTriggeringTrigger())))
		call CleanTrigger(GetTriggeringTrigger())
	elseif GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(182)))then
		if IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false then
			set t=CreateTrigger()
			set h=GetHandleId(t)
			set target=GetTriggerUnit()
			set source=GetAttacker()
			call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
			call TriggerRegisterTimerEvent(t,2.5,false)
			call TriggerAddCondition(t,Condition(function Func3981))
			call SaveInteger(HY,(h),(30),(Func0021(target)))
			call SaveUnitHandle(HY,(h),(2),(source))
			call SaveTriggerHandle(HY,(h),(35),(GetTriggeringTrigger()))
			set target=null
			set source=null
			set t=null
		endif
	endif
	return false
endfunction

function Func3983 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real QZI=GetTime()
	local integer lvl=GetUnitAbilityLevel(Hero,'A0MX')
	local real PD2=(LoadReal(HY,(GetHandleId(Hero)),(184)))
	local boolean R15=(LoadBoolean(HY,(GetHandleId(Hero)),(183)))
	local real time=(LoadReal(HY,(h),(411)))
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED and GetAttacker()==Hero then
		set time=GetTime()
		call SaveReal(HY,(h),(411),((time)*1.0))
	endif
	if(GetTime()>(time+18-2*lvl))and R15==false and GetUnitTypeId(Hero)=='Npbm' and IsDead(Hero)==false then
		call SaveBoolean(HY,(GetHandleId(Hero)),(183),(true))
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
		call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DEATH)
		call TriggerAddCondition(t,Condition(function Func3982))
		call SaveUnitHandle(HY,(h),(182),(Hero))
		call UnitAddAbilityPermanent(Hero,'A2XS')
		call UnitAddAbilityPermanent(Hero,'A2XU')
		call SetPlayerAbilityAvailable(GetOwningPlayer(Hero),'A2XS',false)
	elseif R15==false and(GetUnitAbilityLevel(Hero,'A2XS')>0 or GetUnitAbilityLevel(Hero,'A2XU')>0)then
		call UnitRemoveAbility(Hero,'A2XS')
		call UnitRemoveAbility(Hero,'A2XU')
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func3984 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func3983))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveInteger(HY,(h),(181),(0))
	call SaveReal(HY,(h),(411),((GetTime())*1.0))
	set Hero=null
	set t=null
endfunction

function Func3985 takes nothing returns boolean
	if GetLearnedSkill()=='A0MX' and GetUnitAbilityLevel(GetTriggerUnit(),'A0MX')==1 and IsUnitIllusion(GetTriggerUnit())==false then
		call Func3984()
	endif
	return false
endfunction

function Func3986 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func3985))
	set t=null
endfunction

function Func3987 takes nothing returns nothing
	call StunTargetIF(unit401,GetEnumUnit(),0.75+0.25*GetUnitAbilityLevel(unit401,'A27F'))
endfunction

function Func3988 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real a=(LoadReal(HY,(h),(137)))
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local real SourceX=(LoadReal(HY,(h),(189)))
	local real SourceY=(LoadReal(HY,(h),(190)))
	local group g
	local real d=Func0141(SourceX,SourceY,QJI,QKI)/25
	local location l
	local integer Count=GetTriggerEvalCount(t)
	local real x=SourceX+d*Count*Cos(a)
	local real y=SourceY+d*Count*Sin(a)
	call SetUnitX(target,SafeX50(x))
	call SetUnitY(target,SafeY50(y))
	if Func0093(target)==false then
		call SetUnitFlyHeight(target,325-13*Count,0)
	endif
	if Count==25 then
		call SetUnitX(target,SafeX50(QJI))
		call SetUnitY(target,SafeY50(QKI))
		if IsPointInRegion(region006,GetUnitX(target),GetUnitY(target)) then
			set l=Func0259(GetUnitX(target),GetUnitY(target))
			call SetUnitX(target,SafeX75(GetLocationX(l)))
			call SetUnitY(target,SafeY75(GetLocationY(l)))
			call RemoveLocation(l)
			set l=null
		endif
		set tt_unit1=source
		set unit401=source
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),350,Condition(function DefaultEnemyFilterWithAncients))
		call GroupRemoveUnit(g,target)
		call ForGroup(g,function Func3987)
		call KillGroup(g)
		call KillTrees(GetUnitX(target),GetUnitY(target),150)
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetUnitX(target),GetUnitY(target)))
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if Func0093(target)==false then
			call SetUnitFlyHeight(target,GetUnitDefaultFlyHeight(target),0)
		endif
		call SetUnitPathing(target,true)
	endif
	set t=null
	set source=null
	set target=null
	set g=null
	return false
endfunction

function Func3989 takes unit source,unit target,unit Target2,real R65,real R75,effect FX,effect RU2 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real QJI=R65
	local real QKI=R75
	local real a=Func0159(GetUnitX(target),GetUnitY(target),R65,R75)*bj_DEGTORAD
	if Func0141(GetUnitX(target),GetUnitY(target),R65,R75)>375 then
		set QJI=GetUnitX(target)+375*Cos(a)
		set QKI=GetUnitY(target)+375*Sin(a)
	endif
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveReal(HY,(h),(47),((QJI)*1.0))
	call SaveReal(HY,(h),(48),((QKI)*1.0))
	call SaveReal(HY,(h),(189),((GetUnitX(target))*1.0))
	call SaveReal(HY,(h),(190),((GetUnitY(target))*1.0))
	call SaveEffectHandle(HY,(h),(32),(FX))
	call SaveEffectHandle(HY,(h),(176),(RU2))
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func3988))
	set t=null
endfunction

function Func3990 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local integer MKO=(LoadInteger(HY,(h),(12)))
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local integer R95=(LoadInteger(HY,(h),(706)))
	local real a
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or(GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT and Func0250(target)==false)then
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A27F',true)
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A27X',false)
		call Func3989(source,target,(LoadUnitHandle(HY,(h),(711))),QJI,QKI,(LoadEffectHandle(HY,(h),(32))),(LoadEffectHandle(HY,(h),(176))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A27X' then
			call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
			set a=Func0159(GetUnitX(target),GetUnitY(target),GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORAD
			if Func0141(GetUnitX(target),GetUnitY(target),GetSpellTargetX(),GetSpellTargetY())>375 then
				set QJI=GetUnitX(target)+375*Cos(a)
				set QKI=GetUnitY(target)+375*Sin(a)
			else
				set QJI=GetSpellTargetX()
				set QKI=GetSpellTargetY()
			endif
			call SaveEffectHandle(HY,(h),(176),(AddSpecialEffect("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl",QJI,QKI)))
			call SaveReal(HY,(h),(47),((QJI)*1.0))
			call SaveReal(HY,(h),(48),((QKI)*1.0))
			call SaveUnitHandle(HY,(h),(711),(GetSpellTargetUnit()))
			call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl",GetSpellTargetUnit(),"origin")))
		endif
	else
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
		call SetUnitPathing(target,false)
		if(LoadInteger(HY,(h),(707)))==1 then
			set R95=R95+3
		else
			set R95=R95-3
		endif
		call SaveInteger(HY,(h),(706),(R95))
		if R95==30 then
			call SaveInteger(HY,(h),(707),(-1))
		elseif R95==-30 then
			call SaveInteger(HY,(h),(707),(1))
		endif
		if Func0093(target)==false then
			if Count<15 then
				call SetUnitFlyHeight(target,Count*20,0)
			else
				call SetUnitFlyHeight(target,300+R95,0)
			endif
		endif
		if Count>(MKO-25)then
			if Func0093(target)==false then
				call SetUnitFlyHeight(target,300,0)
			endif
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A27F',true)
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A27X',false)
			call Func3989(source,target,(LoadUnitHandle(HY,(h),(711))),QJI,QKI,(LoadEffectHandle(HY,(h),(32))),(LoadEffectHandle(HY,(h),(176))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func3991 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A27F')
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbility(caster,'A282')
	call SetUnitAbilityLevel(caster,'A282',lvl)
	call IssueTargetOrder(caster,"thunderbolt",target)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A27F',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A27X',true)
	call UnitAddAbility(source,'A27X')
	call SetUnitPathing(target,false)
	if Func0093(target)==false then
		call UnitAddAbilityPermanent(target,'Amrf')
		call UnitRemoveAbility(target,'Amrf')
	endif
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(711),(target))
	call SaveInteger(HY,(h),(12),(R2I((1.25+0.25*lvl)/.02)))
	call SaveInteger(HY,(h),(34),(0))
	call SaveInteger(HY,(h),(706),(0))
	call SaveInteger(HY,(h),(707),(1))
	call SaveReal(HY,(h),(47),((GetUnitX(target))*1.0))
	call SaveReal(HY,(h),(48),((GetUnitY(target))*1.0))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\AntiGravityTarget.mdx",target,"origin")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffect("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl",GetUnitX(target),GetUnitY(target))))
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3990))
	set source=null
	set target=null
endfunction

function Func3992 takes nothing returns boolean
	if GetSpellAbilityId()=='A27F' and IsBlocked(GetSpellTargetUnit())==false then
		call Func3991()
	endif
	return false
endfunction

function Func3993 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3992))
	call Func0125('A0X6')
	call Func0125('A282')
	set t=null
endfunction

function Func3994 takes unit source,unit target returns nothing
	local integer lvl=GetUnitAbilityLevel(source,'A27G')
	if IsUnitType(target,UNIT_TYPE_HERO) then
		if lvl==1 then
			call Func0225(target,'A27W',1,10)
		elseif lvl==2 then
			call Func0225(target,'A286',1,10)
		elseif lvl==3 then
			call Func0225(target,'A285',1,10)
		elseif lvl==4 then
			call Func0225(target,'A287',1,10)
		endif
	else
		if lvl==1 then
			call Func0225(target,'A291',1,10)
		elseif lvl==2 then
			call Func0225(target,'A28Z',1,10)
		elseif lvl==3 then
			call Func0225(target,'A292',1,10)
		elseif lvl==4 then
			call Func0225(target,'A290',1,10)
		endif
	endif
	call Func0174(sound073,GetUnitX(target),GetUnitY(target))
endfunction

function Func3995 takes nothing returns nothing
	local real d
	if IsUnitInGroup(GetEnumUnit(),group038)==false then
		set d=Func0139(GetEnumUnit(),unit403)
		if d<real393 then
			set real393=d
			set unit402=GetEnumUnit()
		endif
	endif
endfunction

function Func3996 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	local real x=GetUnitX(target)
	local real y=GetUnitY(target)
	local group g=GetAvailableGroup()
	call GroupAddUnit(PR2,target)
	call Func3994(source,target)
	set tt_unit1=source
	set unit402=null
	set unit403=target
	set group038=PR2
	set real393=999999
	call GroupEnumUnitsInRange(g,x,y,440+25,Condition(function Func0281))
	call ForGroup(g,function Func3995)
	call KillGroup(g)
	if unit402==null or GetTriggerEvalCount(t)>26 then
		call KillGroup(PR2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set target=unit402
		call SaveUnitHandle(HY,(h),(17),(target))
	endif
	set g=null
	set t=null
	set source=null
	set target=null
	set PR2=null
	return false
endfunction

function Func3997 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local group PR2=GetAvailableGroup()
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),GetUnitFacing(source))
	call Func0174(sound073,GetUnitX(source),GetUnitY(source))
	call UnitAddAbilityPermanent(caster,'A284')
	call SetUnitAbilityLevel(caster,'A284',GetUnitAbilityLevel(source,'A27G'))
	call IssueTargetOrder(caster,"chainlightning",target)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveGroupHandle(HY,(h),(187),(PR2))
	call TriggerRegisterTimerEvent(t,0.25,true)
	call TriggerAddCondition(t,Condition(function Func3996))
	set source=null
	set target=null
	set t=null
	set caster=null
endfunction

function Func3998 takes nothing returns boolean
	if GetSpellAbilityId()=='A27G' and IsBlocked(GetSpellTargetUnit())==false then
		call Func3997()
	endif
	return false
endfunction

function Func3999 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func3998))
	set t=null
endfunction

function Func4000 takes nothing returns boolean
	if IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),GetLearnedSkill())==1 then
		if GetLearnedSkill()=='A27F' then
			call UnitRemoveAbility(GetTriggerUnit(),'A27I')
		elseif GetLearnedSkill()=='A27G' then
			call UnitRemoveAbility(GetTriggerUnit(),'A27K')
		elseif GetLearnedSkill()=='A27V' then
			call UnitRemoveAbility(GetTriggerUnit(),'A27J')
		endif
	endif
	return false
endfunction

function Func4001 takes integer RV5,integer RW5 returns nothing
	set integers175[integer541]=RV5
	set integers176[integer541]=RW5
	set integer541=integer541+1
endfunction

function Func4002 takes integer id returns integer
	local integer i=0
	loop
		exitwhen i==integer541
		if id==integers175[i]or id==integers176[i]then
			return i
		endif
		set i=i+1
	endloop
	return-1
endfunction

function Func4003 takes integer id returns nothing
	set integers174[integer540]=id
	set integer540=integer540+1
endfunction

function Func4004 takes integer id returns boolean
	local integer i=0
	loop
		exitwhen i==integer540
		if id==integers174[i]then
			return true
		endif
		set i=i+1
	endloop
	return false
endfunction

function Func4005 takes nothing returns boolean
	if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and Func4004(GetSpellAbilityId())==false then
		call SaveInteger(HY,(GetHandleId(GetTriggerUnit())),(705),(GetSpellAbilityId()))
		call SaveInteger(HY,(GetHandleId(GetTriggerUnit())),(712),(GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId())))
	endif
	return false
endfunction

function Func4006 takes unit u returns nothing
	call UnitRemoveAbility(u,'A13D')
	call UnitRemoveAbility(u,'A2NI')
	call UnitRemoveAbility(u,'A1QV')
	call UnitRemoveAbility(u,'A1TU')
	call UnitRemoveAbility(u,'A24A')
	call UnitRemoveAbility(u,'A24B')
	call UnitRemoveAbility(u,'A1NH')
	call UnitRemoveAbility(u,'A20N')
	call UnitRemoveAbility(u,'A1Z2')
	call UnitRemoveAbility(u,'A1Z3')
	call UnitRemoveAbility(u,'A205')
	call UnitRemoveAbility(u,'A1VU')
	call UnitRemoveAbility(u,'A0GC')
	call UnitRemoveAbility(u,'A24E')
	call UnitRemoveAbility(u,'A0RT')
	call UnitRemoveAbility(u,'A1RA')
	call UnitRemoveAbility(u,'A0HA')
	call UnitRemoveAbility(u,'A0SA')
	call UnitRemoveAbility(u,'A121')
	call UnitRemoveAbility(u,'A1WF')
	call UnitRemoveAbility(u,'A02T')
	call UnitRemoveAbility(u,'A1S9')
	call UnitRemoveAbility(u,'A21H')
	call UnitRemoveAbility(u,'A1MN')
	call UnitRemoveAbility(u,'A06K')
	call UnitRemoveAbility(u,'A0NE')
	call UnitRemoveAbility(u,'A0MP')
	call UnitRemoveAbility(u,'A2MB')
endfunction

function Func4007 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer RN5=(LoadInteger(HY,(h),(704)))
	local integer XD4=(LoadInteger(HY,(h),(713)))
	if RN5==(LoadInteger(HY,(GetHandleId(source)),(704)))then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEvalCount(t)>(15-XD4)and IsDead(source)==false then
		call UnitRemoveAbility(source,RN5)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func4008 takes unit source,integer RN5,real time returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func4007))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(704),(RN5))
	call SaveInteger(HY,(GetHandleId(source)),(704),(-1))
	call SaveInteger(HY,(h),(713),(R2I(GetTime()-time)))
	set t=null
endfunction

function Func4009 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer RN5=(LoadInteger(HY,(h),(704)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local integer lvl=GetUnitAbilityLevel(source,'A27H')
	local real time=(LoadReal(HY,(h),(411)))
	if lvl==0 then
		set lvl=GetUnitAbilityLevel(source,'A2V9')
	endif
	if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT and GetTriggerEventId()!=EVENT_WIDGET_DEATH then
		if Count==0 then
			call SaveInteger(HY,(h),(34),(1))
			call DisplayTimedTextToPlayer(GetOwningPlayer(source),0,0,10,"|c00ff0303"+GetObjectName('n0LW')+"|r")
		else
			call Func4006(source)
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),RN5,false)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call Func4008(source,RN5,time)
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A27H' or GetSpellAbilityId()=='A2V9' then
			call Func4006(source)
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),RN5,false)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call Func4008(source,RN5,time)
		elseif GetSpellAbilityId()==RN5 then
			call SaveReal(HY,(h),(411),((GetTime())*1.0))
		endif
	elseif GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call Func4006(source)
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),RN5,false)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call Func4008(source,RN5,time)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func4010 takes nothing returns nothing
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer RN5=(LoadInteger(HY,(h),(704)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real RP5=60*(2+GetUnitAbilityLevel(source,'A27H'))
	if GetUnitAbilityLevel(source,'A27H')==0 then
		set RP5=60*(2+GetUnitAbilityLevel(source,'A2V9'))
	endif
	if(LoadInteger(HY,(GetHandleId(target)),(3000)))>0 then
		call SaveInteger(HY,(GetHandleId(source)),(3000),((LoadInteger(HY,(GetHandleId(target)),(3000)))))
	endif
	if(LoadInteger(HY,(GetHandleId(target)),(3001)))>0 then
		call SaveInteger(HY,(GetHandleId(source)),(3001),((LoadInteger(HY,(GetHandleId(target)),(3001)))))
	endif
	if(LoadInteger(HY,(GetHandleId(target)),(3002)))>0 then
		call SaveInteger(HY,(GetHandleId(source)),(3002),((LoadInteger(HY,(GetHandleId(target)),(3002)))))
	endif
	if(LoadInteger(HY,(GetHandleId(target)),(710)))>0 then
		call SaveInteger(HY,(GetHandleId(source)),(710),((LoadInteger(HY,(GetHandleId(target)),(710)))))
	endif
	call Func0174(sound070,GetUnitX(source),GetUnitY(source))
	call Func0163(GetObjectName(RN5),3.5,source,0.024,170,0,255,216)
	call SaveInteger(HY,(GetHandleId(source)),(704),(RN5))
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),RN5,true)
	call UnitAddAbilityPermanent(source,RN5)
	call SetUnitAbilityLevel(source,RN5,lvl)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(34),(0))
	call SaveInteger(HY,(h),(704),(RN5))
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerRegisterTimerEvent(t,RP5,false)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerRegisterTimerEvent(t,RP5-20,false)
	call TriggerAddCondition(t,Condition(function Func4009))
	set t=null
	set source=null
	set target=null
endfunction

function Func4011 takes unit source,unit target,integer RN5,integer lvl returns nothing
	local trigger t=AddProjectile(target,source,'h0DB',"Func4010",900,false)
	local integer h=GetHandleId(t)
	call Func0174(sound069,GetUnitX(target),GetUnitY(target))
	call Func0163(GetObjectName(RN5),3.75,target,0.024,170,0,255,216)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(704),(RN5))
	call SaveInteger(HY,(h),(5),(lvl))
	set t=null
endfunction

function Func4012 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if Func4004(GetSpellAbilityId()) then
		else
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4013 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer PI5
	local integer P15=(LoadInteger(HY,(GetHandleId(target)),(705)))
	if P15!=0 then
		call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Nebula.mdx",target,"origin"))
		set PI5=Func4002(P15)
		if PI5!=-1 then
			if GetSpellAbilityId()=='A27H' then
				set P15=integers175[PI5]
			else
				set P15=integers176[PI5]
			endif
		endif
		call Func4011(source,target,P15,(LoadInteger(HY,(GetHandleId(target)),(712))))
	endif
	set source=null
	set target=null
endfunction

function SpellSteal takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local string fx=""
	if IsPlayerAlly(GetOwningPlayer(source),LocalPlayer)or Func0100(LocalPlayer)then
		set fx="war3mapImported\\Nebula.mdx"
	endif
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget(fx,target,"origin")))
	call TriggerRegisterTimerEvent(t,20,false)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4012))
	set source=null
	set target=null
endfunction

function Func4014 takes nothing returns boolean
	if(GetSpellAbilityId()=='A27H' or GetSpellAbilityId()=='A2V9')and IsBlocked(GetSpellTargetUnit())==false then
		call Func4013()
	endif
	return false
endfunction

function Func4015 takes nothing returns nothing
	call Func4003('A1WH')
	call Func4003('ANcr')
	call Func4003('A03G')
	call Func4003('A093')
	call Func4003('A15J')
	call Func4003('A0AG')
	call Func4003('A0BE')
	call Func4003('A1TX')
	call Func4003('A229')
	call Func4003('A1RI')
	call Func4003('A1C0')
	call Func4003('A11T')
	call Func4003('A19Z')
	call Func4003('A2NE')
	call Func4003('A13D')
	call Func4003('A2NI')
	call Func4003('A1QV')
	call Func4003('A1TU')
	call Func4003('A24A')
	call Func4003('A24B')
	call Func4003('A1NH')
	call Func4003('A20N')
	call Func4003('A1Z2')
	call Func4003('A1Z3')
	call Func4003('A205')
	call Func4003('A1VU')
	call Func4003('A0GC')
	call Func4003('A24E')
	call Func4003('A0RT')
	call Func4003('A1RA')
	call Func4003('A0HA')
	call Func4003('A0SA')
	call Func4003('A121')
	call Func4003('A1WF')
	call Func4003('A02T')
	call Func4003('A1S9')
	call Func4003('A21H')
	call Func4003('A1MN')
	call Func4003('A0KX')
	call Func4003('A0KW')
	call Func4003('A0A5')
	call Func4003('A0BG')
	call Func4003('A21W')
	call Func4003('A21X')
	call Func4003('A21V')
	call Func4003('A21Y')
	call Func4003('A1GU')
	call Func4003('A1VH')
	call Func4003('A1VG')
	call Func4003('A2M0')
	call Func4003('A2MB')
	call Func4003('A2O2')
	call Func4003('A2O9')
	call Func4003('A1S7')
	call Func4003('A2XK')
	call Func4003('A0QN')
	call Func4003('A026')
	call Func4003('AHfa')
	call Func4003('A09V')
	call Func4003('A0DY')
	call Func4003('A1WB')
	call Func4003('A0LZ')
	call Func4003('A0OI')
	call Func4003('A2UM')
	call Func4003('A1NA')
	call Func4003('A1EA')
	call Func4003('A0NS')
	call Func4003('A1DA')
	call Func4003('A28Q')
	call Func4003('A0WQ')
	call Func4003('A1T8')
	call Func4003('A10R')
	call Func4003('A11N')
	call Func4003('A0EY')
	call Func4003('A0FH')
	call Func4003('A0VK')
	call Func4003('A0VQ')
	call Func4003('A073')
	call Func4003('A03J')
	call Func4003('A04J')
	call Func4003('A04M')
	call Func4003('A04N')
	call Func4003('A27F')
	call Func4003('A27X')
	call Func4003('A27G')
	call Func4003('A27H')
	call Func4003('A0Q5')
	call Func4003('A0TK')
	call Func4003('AIbk')
	call Func4003('A0JY')
	call Func4003('A1AC')
	call Func4003('AIpl')
	call Func4003('AIpr')
	call Func4003('Aeat')
	call Func4003('A0K0')
	call Func4003('A0H7')
	call Func4003('A0H6')
	call Func4003('A0FO')
	call Func4003('A02X')
	call Func4003('AIsw')
	call Func4003('AItb')
	call Func4003('A0B6')
	call Func4003('A1R5')
	call Func4003('A206')
	call Func4003('A1FD')
	call Func4003('A1FO')
	call Func4003('A1FQ')
	call Func4003('A1IO')
	call Func4003('A0B8')
	call Func4003('A1WE')
	call Func4003('A0T8')
	call Func4003('A0T7')
	call Func4003('A017')
	call Func4003('A1QD')
	call Func4003('A1FP')
	call Func4003('A0JL')
	call Func4003('ACch')
	call Func4003('AIxk')
	call Func4003('AIpg')
	call Func4003('A11F')
	call Func4003('A11E')
	call Func4003('A0S3')
	call Func4003('A11D')
	call Func4003('A11G')
	call Func4003('A11H')
	call Func4003('A0T9')
	call Func4003('A15W')
	call Func4003('AChx')
	call Func4003('A0FD')
	call Func4003('A0TE')
	call Func4003('A1T7')
	call Func4003('A19M')
	call Func4003('A02O')
	call Func4003('A08Y')
	call Func4003('A08Z')
	call Func4003('A090')
	call Func4003('A092')
	call Func4003('A0HB')
	call Func4003('A0D3')
	call Func4003('A0DF')
	call Func4003('A02W')
	call Func4003('A0CK')
	call Func4003('A0K7')
	call Func4003('A0JT')
	call Func4003('AIda')
	call Func4003('A269')
	call Func4003('A1WO')
	call Func4003('A1EW')
	call Func4003('A1MO')
	call Func4003('A1ZI')
	call Func4003('A1ZH')
	call Func4003('A1ZW')
	call Func4003('A231')
	call Func4003('A12W')
	call Func4003('A14A')
	call Func4003('A1Q8')
	call Func4003('A28Y')
	call Func4003('A28D')
	call Func4003('A28F')
	call Func4003('A2N1')
	call Func4003('A2VE')
	call Func4003('A2WH')
	call Func4003('A2WI')
	call Func4003('A2JO')
	call Func4003('A2JQ')
	call Func4003('A2JP')
	call Func4003('A2JR')
	call Func4003('A2JL')
	call Func4003('A2FX')
	call Func4003('A2K1')
	call Func4003('A2K4')
	call Func4003('A2K7')
	call Func4003('A2KG')
	call Func4003('A2KE')
	call Func4003('A2KH')
	call Func4003('A2K9')
	call Func4003('A2EA')
	call Func4003('A2TH')
	call Func4003('A2TJ')
	call Func4003('A2TK')
	call Func4003('A2LI')
	call Func4001('A1W8','A1W9')
	call Func4001('A21F','A21G')
	call Func4001('A05T','A08H')
	call Func4001('A01P','A09Z')
	call Func4001('A095','A09W')
	call Func4001('A0MU','A0A2')
	call Func4001('A054','A00U')
	call Func4001('A067','A08P')
	call Func4001('A0CC','A02Z')
	call Func4001('A28R','A28S')
	call Func4001('A00H','A0A1')
	call Func4001('A03R','A0AV')
	call Func4001('A013','A0A6')
	call Func4001('A0NT','A0NX')
	call Func4001('A29G','A29H')
	call Func4001('A04P','A1AU')
	call Func4001('A0Z8','A1CV')
	call Func4001('A0IN','A1AW')
	call Func4001('A0M1','A1AX')
	call Func4001('A03O','A1AY')
	call Func4001('A0LT','A1CS')
	call Func4001('A03K','A1B0')
	call Func4001('A0O5','A1B1')
	call Func4001('A06R','A1B4')
	call Func4001('A0QR','A1B3')
	call Func4001('A21Y','A1GU')
	call Func4001('A01Y','A1AZ')
	call Func4001('A0MQ','A1B6')
	call Func4001('A0FL','A1CX')
	call Func4001('A12P','A1D6')
	call Func4001('A0J1','A1D7')
	call Func4001('A0G4','A1D8')
	call Func4001('A02Q','A1D9')
	call Func4001('A0NS','A1DA')
	call Func4001('A10Q','A1DB')
	call Func4001('A0AK','A1FY')
	call Func4001('A0E2','A1MR')
	call Func4001('A19O','A1MV')
	call Func4001('A0DH','A1OB')
	call Func4001('A0S8','A1QP')
	call Func4001('S008','S00U')
	call Func4001('A1AO','A1UV')
	call Func4001('A080','A1UZ')
	call Func4001('A0OK','A1VW')
	call Func4001('A0DY','A1WB')
	call Func4001('A0QK','A21Q')
	call Func4001('A1T5','A235')
	call Func4001('A0MW','A27C')
	call Func4001('A0O2','A289')
	call Func4001('A1NE','A2IG')
	call Func4001('A0L3','A2QC')
	call Func4001('A1MI','A2QE')
	call Func4001('A0ER','A2S8')
	call Func4001('A2BG','A2TU')
	call Func4001('A1BX','A2TX')
	call Func4001('A27H','A2V9')
	call Func4001('A1U6','A2V8')
	call Func4001('A049','A2WB')
	call Func4001('A05E','A2WA')
endfunction

function Func4016 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4014))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4005))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func4000))
	set t=null
	call Func4015()
endfunction

function Func4017 takes nothing returns nothing
	if Func0255(GetEnumUnit())then
		return
	endif
	if GetUnitAbilityLevel(GetEnumUnit(),'A27S')>0 then
		call UnitRemoveAbility(GetEnumUnit(),'A27S')
	endif
	if GetUnitAbilityLevel(GetEnumUnit(),'A27Q')>0 then
		call UnitRemoveAbility(GetEnumUnit(),'A27Q')
	endif
	if GetUnitAbilityLevel(GetEnumUnit(),'A27R')>0 then
		call UnitRemoveAbility(GetEnumUnit(),'A27R')
	endif
	if GetUnitAbilityLevel(GetEnumUnit(),'A27T')>0 then
		call UnitRemoveAbility(GetEnumUnit(),'A27T')
	endif
endfunction

function Func4018 takes nothing returns nothing
	if Func0255(GetEnumUnit())then
		return
	endif
	if integer542==1 then
		if GetUnitAbilityLevel(GetEnumUnit(),'A27S')==0 then
			call UnitAddAbilityPermanent(GetEnumUnit(),'A27S')
			call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A27S',false)
		endif
	elseif integer542==2 then
		if GetUnitAbilityLevel(GetEnumUnit(),'A27Q')==0 then
			call UnitRemoveAbility(GetEnumUnit(),'A27S')
			call UnitAddAbilityPermanent(GetEnumUnit(),'A27Q')
			call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A27Q',false)
		endif
	elseif integer542==3 then
		if GetUnitAbilityLevel(GetEnumUnit(),'A27R')==0 then
			call UnitRemoveAbility(GetEnumUnit(),'A27S')
			call UnitRemoveAbility(GetEnumUnit(),'A27Q')
			call UnitAddAbilityPermanent(GetEnumUnit(),'A27R')
			call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A27R',false)
		endif
	elseif integer542==4 then
		if GetUnitAbilityLevel(GetEnumUnit(),'A27T')==0 then
			call UnitRemoveAbility(GetEnumUnit(),'A27S')
			call UnitRemoveAbility(GetEnumUnit(),'A27Q')
			call UnitRemoveAbility(GetEnumUnit(),'A27R')
			call UnitAddAbilityPermanent(GetEnumUnit(),'A27T')
			call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A27T',false)
		endif
	endif
endfunction

function Func4019 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group RG3=(LoadGroupHandle(HY,(h),(340)))
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local group g=GetAvailableGroup()
	if source==null or GetUnitTypeId(source)!='E02X' then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call ForGroup(RG3,function Func4017)
		call KillGroup(RG3)
		call KillGroup(g)
		return false
	endif
	set tt_unit1=source
	set integer542=GetUnitAbilityLevel(source,'A27V')
	if IsDead(source)==false then
		call GroupEnumUnitsInRange(g,x,y,925,Condition(function Func0299))
	endif
	call GroupRemoveGroup(g,RG3)
	call ForGroup(RG3,function Func4017)
	if IsDead(source)==false then
		call ForGroup(g,function Func4018)
	endif
	call SaveGroupHandle(HY,(h),(340),(g))
	call KillGroup(RG3)
	set t=null
	set source=null
	set RG3=null
	set g=null
	return false
endfunction

function Func4020 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local integer i
	local player p
	call TriggerRegisterTimerEvent(t,0.3,true)
	call TriggerAddCondition(t,Condition(function Func4019))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveGroupHandle(HY,(h),(340),(GetAvailableGroup()))
	set i=0
	loop
		exitwhen i>5
		set p=Sentinels[i]
		call SetPlayerAbilityAvailable(p,'A27S',false)
		call SetPlayerAbilityAvailable(p,'A27Q',false)
		call SetPlayerAbilityAvailable(p,'A27R',false)
		call SetPlayerAbilityAvailable(p,'A27T',false)
		set p=Scourges[i]
		call SetPlayerAbilityAvailable(p,'A27S',false)
		call SetPlayerAbilityAvailable(p,'A27Q',false)
		call SetPlayerAbilityAvailable(p,'A27R',false)
		call SetPlayerAbilityAvailable(p,'A27T',false)
		set i=i+1
	endloop
	set t=null
	set source=null
endfunction

function Func4021 takes nothing returns boolean
	if GetLearnedSkill()=='A27V' and GetUnitAbilityLevel(GetTriggerUnit(),'A27V')==1 and IsUnitIllusion(GetTriggerUnit())==false then
		call Func4020()
	endif
	return false
endfunction

function Func4022 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func4021))
	set t=null
endfunction

function Func4023 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call AddUnitAnimationProperties(source,"alternate",false)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func4024 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func4023))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
endfunction

function Func4025 takes nothing returns boolean
	if(GetSpellAbilityId()=='A073' or GetSpellAbilityId()=='A03J' or GetSpellAbilityId()=='A04J' or GetSpellAbilityId()=='A04M' or GetSpellAbilityId()=='A04N')and GetUnitTypeId(GetTriggerUnit())=='E02X' then
		call Func4024()
	endif
	return false
endfunction

function Func4026 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4025))
	set t=null
endfunction

function Func4027 takes nothing returns nothing
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"origin"))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"origin"))
endfunction

function Func4028 takes nothing returns boolean
	if GetUnitTypeId(GetTriggerUnit())=='H00S' then
		call Func4027()
	endif
	return false
endfunction

function Func4029 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func4028))
	set t=null
endfunction

function Func4030 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A29V')
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A29W' then
			call UnitRemoveAbility(source,'A29W')
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A29W',false)
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A29V',true)
			call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
			call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call StunTargetIF(source,target,0.5+0.5*lvl)
			call SetUnitX(source,GetUnitX(target))
			call SetUnitY(source,GetUnitY(target))
			call IssueTargetOrder(source,"attack",target)
			call UnitShareVision(target,GetOwningPlayer(source),false)
		endif
	else
		call UnitRemoveAbility(source,'A29W')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A29W',false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A29V',true)
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call UnitShareVision(target,GetOwningPlayer(source),false)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func4031 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEvalCount(GetTriggeringTrigger())>30 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call RemoveDispellableBuffs(source)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func4032 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target
	local integer Count=(LoadInteger(HY,(h),(34)))
	local integer lvl=GetUnitAbilityLevel(source,'A29V')
	if Count>60 then
		call UnitRemoveAbility(source,'B0EV')
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamage()>100 and IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false then
			call Func0137(source,GetEventDamage())
			set target=Players_Hero[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call RemoveDispellableBuffs(source)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			if IsDead(target)==false then
				call UnitShareVision(target,GetOwningPlayer(source),true)
				call UnitAddAbilityPermanent(source,'A29W')
				call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A29W',true)
				call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A29V',false)
				set t=CreateTrigger()
				set h=GetHandleId(t)
				call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
				call TriggerRegisterTimerEvent(t,4,false)
				call TriggerAddCondition(t,Condition(function Func4030))
				call SaveUnitHandle(HY,(h),(2),(source))
				call SaveUnitHandle(HY,(h),(17),(target))
				call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("war3mapImported\\RetaliationTarget.mdx",source,"origin")))
				call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("war3mapImported\\RetaliationTarget.mdx",target,"origin")))
				set t=CreateTrigger()
				set h=GetHandleId(t)
				call TriggerRegisterTimerEvent(t,0.1,true)
				call TriggerAddCondition(t,Condition(function Func4031))
				call SaveUnitHandle(HY,(h),(2),(source))
			endif
		endif
	else
		call SaveInteger(HY,(h),(34),(Count+1))
	endif
	set t=null
	set source=null
	return false
endfunction

function Func4033 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func4032))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(34),(0))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\RetaliationShield.mdx",source,"chest")))
	set source=null
	set t=null
endfunction

function Func4034 takes nothing returns boolean
	if GetSpellAbilityId()=='A29V' then
		call Func4033()
	endif
	return false
endfunction

function Register_Retaliation takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4034))
	set t=null
endfunction

function Func4035 takes nothing returns nothing
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\ImmolationRed\\ImmolationRedDamage.mdl",GetEnumUnit(),"chest"))
	call DamageTarget(unit404,GetEnumUnit(),1,(20+10*integer543)/5)
endfunction

function Func4036 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer lvl=GetUnitAbilityLevel(source,'A2HS')
	local group g
	if GetUnitAbilityLevel(source,'B0FP')==0 and GetUnitAbilityLevel(source,'B0FQ')==0 then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitRemoveAbility(source,'A2H7')
		call UnitRemoveAbility(source,'B0FO')
		call UnitRemoveAbility(source,'A2IX')
		call UnitRemoveAbility(source,'A2IW')
		call UnitRemoveAbility(source,'A2IV')
		call UnitRemoveAbility(source,'A2IY')
	else
		set tt_unit1=source
		set unit404=source
		set integer543=lvl
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),400+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func4035)
		call KillGroup(g)
	endif
	set g=null
	set t=null
	set source=null
	return false
endfunction

function Func4037 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
	local integer lvl=GetUnitAbilityLevel(source,'A2HS')
	call UnitAddAbility(caster,'A2H5')
	call SetUnitAbilityLevel(caster,'A2H5',lvl)
	call IssueTargetOrder(caster,"antimagicshell",source)
	call TriggerRegisterTimerEvent(t,0.2,true)
	call TriggerAddCondition(t,Condition(function Func4036))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\FlameGuard.mdx",source,"origin")))
	if lvl==1 then
	elseif lvl==2 then
	elseif lvl==3 then
	elseif lvl==4 then
	endif
	set source=null
	set caster=null
	set t=null
endfunction

function Func4038 takes nothing returns boolean
	if GetSpellAbilityId()=='A2HS' then
		call Func4037()
	endif
	return false
endfunction

function Func4039 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4038))
	set t=null
endfunction

function Func4040 takes unit source returns nothing
	call UnitRemoveAbility(source,'BOhx')
	call UnitRemoveAbility(source,'B00H')
endfunction

function Func4041 takes unit source returns nothing
	call UnitRemoveAbility(source,'A2H9')
	call UnitRemoveAbility(source,'B0FM')
endfunction

function Func4042 takes unit source returns nothing
	call UnitRemoveAbility(source,'A2JH')
	call UnitRemoveAbility(source,'A2JG')
	call UnitRemoveAbility(source,'A2JJ')
	call UnitRemoveAbility(source,'A2JI')
	call UnitRemoveAbility(source,'B0FL')
endfunction

function Func4043 takes unit source returns nothing
	call UnitAddAbilityPermanent(source,'A2H9')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2H9',false)
endfunction

function Func4044 takes unit source returns nothing
	local integer lvl=GetUnitAbilityLevel(source,'A2H0')
	if lvl==1 then
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2JH',false)
		call UnitAddAbilityPermanent(source,'A2JH')
	elseif lvl==2 then
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2JG',false)
		call UnitAddAbilityPermanent(source,'A2JG')
	elseif lvl==3 then
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2JJ',false)
		call UnitAddAbilityPermanent(source,'A2JJ')
	elseif lvl==4 then
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2JI',false)
		call UnitAddAbilityPermanent(source,'A2JI')
	endif
endfunction

function Func4045 takes unit source,unit target returns nothing
	local real a=GetRandomReal(0,360)
	local real x=GetUnitX(target)+50*Cos(a*bj_DEGTORAD)
	local real y=GetUnitY(target)+50*Sin(a*bj_DEGTORAD)
	call SetUnitPosition(source,x,y)
	call SetUnitFacing(source,bj_RADTODEG*Atan2(GetUnitY(target)-GetUnitY(source),GetUnitX(target)-GetUnitX(source)))
	call SetUnitAnimation(source,"Attack")
	call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Fire_Blink_2.mdx",source,"chest"))
	call Func4042(source)
	if IsUnitType(target,UNIT_TYPE_HERO) or IsUnitIllusion(target) then
		call Func4044(source)
		call UnitRemoveAbility(source,'A2JF')
	else
		call UnitAddAbilityPermanent(source,'A2JF')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2JF',false)
	endif
	call IssueTargetOrder(source,"attack",target)
endfunction

function Func4046 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local real SourceX=(LoadReal(HY,(h),(189)))
	local real SourceY=(LoadReal(HY,(h),(190)))
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	local group g=(LoadGroupHandle(HY,(h),(22)))
	local unit target=null
	local boolean found=false
	local fogmodifier fm=(LoadFogModifierHandle(HY,(h),(42)))
	local integer lvl=GetUnitAbilityLevel(source,'A2H0')
	loop
		exitwhen FirstOfGroup(g)==null or found
		set target=FirstOfGroup(g)
		call GroupRemoveUnit(g,target)
		if IsUnitInGroup(target,PR2)and target!=null then
			set target=null
			set found=false
		else
			set found=true
		endif
	endloop
	call SetUnitPathing(source,false)
	call SetUnitInvulnerable(source,true)
	call Func0249(source)
	if found==false or((LoadInteger(HY,(GetHandleId((source))),((4319))))==1) then
		call SaveInteger(HY,(GetHandleId((source))),((4318)),(2))
		call Func4041(source)
		call UnitRemoveAbility(source,'A2JF')
		call Func4042(source)
		call Func0249(source)
		call Func4040(source)
		call UnitAddAbility(source,'A2H2')
		call UnitRemoveAbility(source,'A2H2')
		call Func0249(source)
		if((LoadInteger(HY,(GetHandleId((source))),((4319))))==1)==false then
			call SetUnitX(source,SourceX)
			call SetUnitY(source,SourceY)
		endif
		call SetUnitVertexColor(source,255,255,255,255)
		call SetUnitPathing(source,true)
		call SetUnitInvulnerable(source,false)
		call SetUnitTimeScale(source,1)
		call KillGroup(PR2)
		call KillGroup(g)
		call RemoveUnit((LoadUnitHandle(HY,(h),(19))))
		call FogModifierStop(fm)
		call DestroyFogModifier(fm)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call GroupAddUnit(PR2,target)
		call Func4045(source,target)
	endif
	set t=null
	set source=null
	set target=null
	set g=null
	set PR2=null
	return false
endfunction

function Func4047 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local fogmodifier fm=CreateFogModifierRadius(GetOwningPlayer(source),FOG_OF_WAR_VISIBLE,x,y,600,true,true)
	local unit caster=CreateUnit(GetOwningPlayer(source),'h0E7',GetUnitX(source),GetUnitY(source),GetUnitFacing(source))
	local group g=GetAvailableGroup()
	local integer lvl=GetUnitAbilityLevel(source,'A2H0')
	call SetUnitVertexColor(caster,255,255,255,100)
	call FogModifierStart(fm)
	call SaveInteger(HY,(GetHandleId((source))),((4318)),(1))
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,x,y,150+100*lvl+25,Condition(function Func0282))
	call Func0249(source)
	call Func4040(source)
	call UnitAddAbility(source,'A2H1')
	call UnitRemoveAbility(source,'A2H1')
	call SetUnitVertexColor(source,255,255,255,125)
	call SetUnitPathing(source,false)
	call SetUnitInvulnerable(source,true)
	call SetUnitTimeScale(source,3)
	call TriggerRegisterTimerEvent(t,0.2,true)
	call TriggerAddCondition(t,Condition(function Func4046))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveReal(HY,(h),(189),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(190),((GetUnitY(source))*1.0))
	call SaveGroupHandle(HY,(h),(187),(GetAvailableGroup()))
	call SaveGroupHandle(HY,(h),(22),(g))
	call SaveFogModifierHandle(HY,(h),(42),(fm))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call Func4043(source)
	call TriggerEvaluate(t)
	set source=null
	set t=null
	set fm=null
	set caster=null
	set g=null
endfunction

function Func4048 takes nothing returns boolean
	if GetSpellAbilityId()=='A2H0' then
		call Func4047()
	endif
	return false
endfunction

function Func4049 takes nothing returns boolean
	local unit IYO=GetSummonedUnit()
	if IsUnitIllusion(IYO) and GetUnitTypeId(IYO)=='N0MH' then
		call Func4041(IYO)
		call UnitRemoveAbility(IYO,'A2JF')
		call Func4042(IYO)
		call UnitAddAbility(IYO,'A2H2')
		call UnitRemoveAbility(IYO,'A2H2')
	endif
	set IYO=null
	return false
endfunction

function Func4050 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4048))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func4049))
	set t=null
endfunction

function Func4051 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A2H3')
	local integer MKO=1
	local real dmg
	if lvl==1 then
		set MKO=1
		set dmg=80
	endif
	if lvl==2 then
		set MKO=2
		set dmg=60
	endif
	if lvl==3 then
		set MKO=2
		set dmg=120
	endif
	if lvl==4 then
		set MKO=3
		set dmg=100
	endif
	if GetTriggerEvalCount(t)==MKO then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	call DamageTarget(source,target,1,dmg)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4052 takes nothing returns nothing
	local unit source=tt_unit1
	local unit target=tt_unit2
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A2H3')
	call UnitAddAbility(caster,'A2H4')
	call SetUnitAbilityLevel(caster,'A2H4',lvl)
	call IssueTargetOrder(caster,"ensnare",target)
	call TriggerAddCondition(t,Condition(function Func4051))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerRegisterTimerEvent(t,1,true)
	set caster=null
	set source=null
	set target=null
endfunction

function Func4053 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local group g=GetAvailableGroup()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local unit u1=null
	local unit u2=null
	local unit u3=null
	local integer VB2=0
	local unit u
	local trigger t
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,x,y,425,Condition(function Func0281))
	loop
		exitwhen FirstOfGroup(g)==null or VB2==2
		set u=GroupPickRandomUnit(g)
		if u!=null then
			if VB2==0 then
				set u1=u
			elseif VB2==1 then
				set u2=u
			elseif VB2==2 then
				set u3=u
			endif
			set VB2=VB2+1
			call GroupRemoveUnit(g,u)
		endif
	endloop
	call KillGroup(g)
	if u1!=null then
		call AddProjectile(source,u1,'h0E0',"Func4052",9000,false)
	endif
	if u2!=null then
		call AddProjectile(source,u2,'h0E0',"Func4052",9000,false)
	endif
	if u3!=null then
	endif
	set g=null
	set source=null
	set u=null
	set u1=null
	set u2=null
	set u3=null
endfunction

function Func4054 takes nothing returns boolean
	if GetSpellAbilityId()=='A2H3' then
		call Func4053()
	endif
	return false
endfunction

function Func4055 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4054))
	set t=null
endfunction

function Func4056 takes nothing returns boolean
	local unit source=(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(2)))
	local integer h=GetHandleId(source)
	local integer i=0
	local real SOI=GetTime()
	local integer QO5=(LoadInteger(HY,(h),(749)))
	local real x
	local real y
	local real t
	loop
		exitwhen i>QO5
		set t=(LoadReal(HY,(h),(10000+i)))
		if t+10>SOI then
			set x=(LoadReal(HY,(h),(11000+i)))
			set y=(LoadReal(HY,(h),(12000+i)))
		endif
		set i=i+1
	endloop
	set source=null
	return false
endfunction

function Func4057 takes integer h,integer QO5,real IV1,real IW1 returns boolean
	local real x
	local real y
	local real t
	local integer i=0
	local real SOI=GetTime()
	loop
		exitwhen i>QO5
		set t=(LoadReal(HY,(h),(10000+i)))
		if t+10>SOI then
			set x=(LoadReal(HY,(h),(11000+i)))
			set y=(LoadReal(HY,(h),(12000+i)))
			if Func0141(x,y,IV1,IW1)<75 then
				return true
			endif
		endif
		set i=i+1
	endloop
	return false
endfunction

function Func4058 takes integer h,integer QO5 returns integer
	local real t
	local integer i=0
	local real SOI=GetTime()
	loop
		exitwhen i>QO5
		set t=(LoadReal(HY,(h),(10000+i)))
		if t+10<SOI then
			return i
		endif
		set i=i+1
	endloop
	return-1
endfunction

function Func4059 takes unit source,integer Q55,real x,real y returns nothing
	local integer h=GetHandleId(source)
	local integer QO5=(LoadInteger(HY,(h),(749)))
	local integer Q65
	if Func4057(h,QO5,x,y)then
		return
	endif
	set Q65=Func4058(h,QO5)
	if Q65==-1 then
		set Q65=QO5
		set QO5=QO5+1
		call SaveInteger(HY,(h),(749),(QO5))
	endif
	call SaveInteger(HY,(h),(13000),(Q55))
	call SaveReal(HY,(h),(10000),((GetTime())*1.0))
	call SaveReal(HY,(h),(11000),((x)*1.0))
	call SaveReal(HY,(h),(11000),((y)*1.0))
endfunction

function Func4060 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerAddCondition(t,Condition(function Func4056))
	call SaveUnitHandle(HY,(h),(2),(source))
	set source=null
	set t=null
endfunction

function Func4061 takes nothing returns nothing
	call DamageTarget(unit405,GetEnumUnit(),1,50+integer544*50)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",GetEnumUnit(),"origin"))
endfunction

function Func4062 takes unit source,unit DX3,real x,real y returns nothing
	local group g
	call KillUnit(DX3)
	call Func0154("war3mapImported\\Firaga_2.mdx",x,y,2)
	set g=GetAvailableGroup()
	set tt_unit1=source
	set unit405=source
	set integer544=GetUnitAbilityLevel(source,'A2JK')
	call GroupEnumUnitsInRange(g,x,y,450+25,Condition(function DefaultEnemyFilterWithAncients))
	call UnitRemoveAbility(source,'A04R')
	call ForGroup(g,function Func4061)
	call UnitAddAbilityPermanent(source,'A04R')
	call KillGroup(g)
	set g=null
endfunction

function Func4063 takes unit source,unit QB5 returns nothing
	local integer h=GetHandleId(source)
	local integer QC5=(LoadInteger(HY,(h),(746)))
	local unit QD5
	local integer i=1
	local integer x
	loop
		exitwhen i>QC5
		set QD5=(LoadUnitHandle(HY,(h),(1450+i)))
		if QD5==QB5 then
			set QC5=QC5-1
			call SaveUnitHandle(HY,(h),(1450+i),((LoadUnitHandle(HY,(h),(1450+i+1)))))
			call SaveInteger(HY,(h),(746),(QC5))
			set x=i+1
			loop
				exitwhen x>QC5
				call SaveUnitHandle(HY,(h),(1450+x),((LoadUnitHandle(HY,(h),(1450+x+1)))))
				set x=x+1
			endloop
		endif
		set i=i+1
	endloop
	set QD5=null
endfunction

function Func4064 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit DX3=(LoadUnitHandle(HY,(h),(19)))
	local real IO3=GetUnitX(DX3)
	local real I23=GetUnitY(DX3)
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local real a=Func0159(IO3,I23,QJI,QKI)*bj_DEGTORAD
	local real IV1
	local real IW1
	local real d=Func0141(IO3,I23,QJI,QKI)
	local real JC3=GetUnitMoveSpeed(source)*2.5*0.02
	local group g
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call Func4063(source,DX3)
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(177))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif d<2 then
		call SetUnitAnimationByIndex(DX3,1)
	else
		if d<JC3 then
			set IV1=QJI
			set IW1=QKI
		else
			set IV1=IO3+JC3*Cos(a)
			set IW1=I23+JC3*Sin(a)
		endif
		call SetUnitX(DX3,IV1)
		call SetUnitY(DX3,IW1)
	endif
	set t=null
	set source=null
	set DX3=null
	return false
endfunction

function Func4065 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real a=Func0159(GetUnitX(source),GetUnitY(source),GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORAD
	local integer h=GetHandleId(source)
	local integer QC5=(LoadInteger(HY,(h),(746)))
	local integer lvl=GetUnitAbilityLevel(source,'A2JK')
	local unit QD5=(LoadUnitHandle(HY,(h),(1450+1)))
	local unit QG5=CreateUnit(GetOwningPlayer(source),'h0E8',GetUnitX(source),GetUnitY(source),a*bj_RADTODEG)
	local trigger t
	local integer i=1
	set QC5=QC5+1
	call SaveUnitHandle(HY,(h),(1450+QC5),(QG5))
	call SaveInteger(HY,(h),(746),(QC5))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SetUnitVertexColor(QG5,255,255,255,75)
	call SetUnitTimeScale(QG5,2)
	call SetUnitAnimationByIndex(QG5,0)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func4064))
	call TriggerRegisterDeathEvent(t,QG5)
	call UnitApplyTimedLife(QG5,'BTLF',45)
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",QG5,"hand right alternate")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",QG5,"hand left alternate")))
	call SaveEffectHandle(HY,(h),(177),(AddSpecialEffectTarget("war3mapImported\\FlameDash_Ground.mdx",QG5,"origin")))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(19),(QG5))
	call SaveReal(HY,(h),(47),((GetSpellTargetX())*1.0))
	call SaveReal(HY,(h),(48),((GetSpellTargetY())*1.0))
	set source=null
	set t=null
	set QD5=null
	set QG5=null
endfunction

function Func4066 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local integer JGO=(LoadInteger(HY,(GetHandleId(source)),(747)))
	if JGO>0 then
		call Func4065()
		call UnitRemoveAbility(source,integers177[JGO])
		set JGO=JGO-1
		call SaveInteger(HY,(GetHandleId(source)),(747),(JGO))
		call UnitAddAbilityPermanent(source,integers177[JGO])
	else
		call Error(GetOwningPlayer(GetTriggerUnit()),"No more charges")
	endif
	set source=null
endfunction

function Func4067 takes nothing returns boolean
	return GetUnitTypeId(GetFilterUnit())=='h0E8'
endfunction

function Func4068 takes nothing returns nothing
	local real QWI=Func0141(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),real394,real395)
	if QWI>real396 and IsDead(GetEnumUnit())==false then
		set unit406=GetEnumUnit()
		set real396=QWI
	endif
endfunction

function Func4069 takes unit source,real x,real y returns unit
	local group g=GetAvailableGroup()
	set unit406=null
	set real396=-1
	set real394=x
	set real395=y
	call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(source),Condition(function Func4067))
	call ForGroup(g,function Func4068)
	call KillGroup(g)
	set g=null
	return unit406
endfunction

function FireRemnant_FindTargetClosest takes nothing returns nothing
	local real QWI=Func0141(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),real394,real395)
	if QWI<real396 and IsDead(GetEnumUnit())==false then
		set unit406=GetEnumUnit()
		set real396=QWI
	endif
endfunction

function Func4070 takes unit u1,unit u2 returns real
	local real IT3=Func0139(u1,u2)
	local real Q4I=IT3/1300.0
	if Q4I>0.4 then
		return IT3/0.4
	endif
	return 1300.0
endfunction

function Func4071 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real EN4=(LoadReal(HY,(h),(47)))
	local real ES4=(LoadReal(HY,(h),(48)))
	local unit DX3=(LoadUnitHandle(HY,(h),(19)))
	local real IO3=GetUnitX(source)
	local real I23=GetUnitY(source)
	local real QJI=(LoadReal(HY,(h),(6)))
	local real QKI=(LoadReal(HY,(h),(7)))
	local real a
	local real IV1
	local real IW1
	local real d
	local real IF1=(LoadReal(HY,(h),(44)))
	local real JC3=IF1*0.02
	local group g
	local integer Count=(LoadInteger(HY,(h),(34)))
	if DX3!=null then
		set QJI=GetUnitX(DX3)
		set QKI=GetUnitY(DX3)
		call SaveReal(HY,(h),(6),((QJI)*1.0))
		call SaveReal(HY,(h),(7),((QKI)*1.0))
	endif
	set a=Func0159(IO3,I23,QJI,QKI)*bj_DEGTORAD
	set d=Func0141(IO3,I23,QJI,QKI)
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call SaveInteger(HY,(GetHandleId((source))),((4319)),(2))
		call SetUnitVertexColor(source,255,255,255,255)
		call SetUnitTimeScale(source,1)
		call SetUnitAnimationByIndex(source,0)
		call SetUnitPathing(source,true)
		call SetUnitInvulnerable(source,false)
		call UnitRemoveAbility(source,'A04R')
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(177))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif d<JC3 then
		call SetUnitX(source,QJI)
		call SetUnitY(source,QKI)
		call Func4062(source,DX3,QJI,QKI)
		set DX3=Func4069(source,EN4,ES4)
		if DX3==null then
			call SaveInteger(HY,(GetHandleId((source))),((4319)),(2))
			call KillTrees(QJI,QKI,100)
			call SetUnitVertexColor(source,255,255,255,255)
			call SetUnitTimeScale(source,1)
			call SetUnitAnimationByIndex(source,1)
			call SetUnitPathing(source,true)
			call SetUnitInvulnerable(source,false)
			call UnitRemoveAbility(source,'A04R')
			call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
			call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
			call DestroyEffect((LoadEffectHandle(HY,(h),(177))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		else
			call SaveInteger(HY,(h),(34),(Count+1))
			call SaveUnitHandle(HY,(h),(19),(DX3))
			call SaveReal(HY,(h),(44),((Func4070(source,DX3))*1.0))
			call SaveReal(HY,(h),(6),((GetUnitX(DX3))*1.0))
			call SaveReal(HY,(h),(7),((GetUnitY(DX3))*1.0))
		endif
	else
		call SetUnitAnimationByIndex(source,0)
		call SetUnitPathing(source,false)
		set IV1=IO3+JC3*Cos(a)
		set IW1=I23+JC3*Sin(a)
		call SetUnitX(source,IV1)
		call SetUnitY(source,IW1)
		call SetUnitFacing(source,a*bj_RADTODEG)
		call KillTrees(IV1,IW1,100)
	endif
	call Func4059(source,Count,GetUnitX(source),GetUnitY(source))
	set t=null
	set source=null
	set DX3=null
	return false
endfunction

function Func4072 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MANA)+150)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func4073 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t
	local integer h=GetHandleId(source)
	local integer QC5=(LoadInteger(HY,(h),(746)))
	local unit DX3
	if QC5>0 and((LoadInteger(HY,(GetHandleId((source))),((4319))))==1)==false then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SetUnitVertexColor(source,255,0,0,75)
		call SetUnitTimeScale(source,2)
		call SetUnitAnimationByIndex(source,0)
		call SetUnitPathing(source,false)
		call SetUnitInvulnerable(source,true)
		call UnitAddAbilityPermanent(source,'A04R')
		call SaveInteger(HY,(GetHandleId((source))),((4319)),(1))
		call TriggerRegisterTimerEvent(t,0.02,true)
		call TriggerAddCondition(t,Condition(function Func4071))
		call TriggerRegisterDeathEvent(t,source)
		call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",source,"hand right alternate")))
		call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",source,"hand left alternate")))
		call SaveEffectHandle(HY,(h),(177),(AddSpecialEffectTarget("war3mapImported\\FlameDash_Ground.mdx",source,"origin")))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveReal(HY,(h),(47),((GetSpellTargetX())*1.0))
		call SaveReal(HY,(h),(48),((GetSpellTargetY())*1.0))
		set DX3=Func4069(source,GetSpellTargetX(),GetSpellTargetY())
		call SaveUnitHandle(HY,(h),(19),(DX3))
		call SaveReal(HY,(h),(44),((Func4070(source,DX3))*1.0))
		call SaveReal(HY,(h),(6),((GetUnitX(DX3))*1.0))
		call SaveReal(HY,(h),(7),((GetUnitY(DX3))*1.0))
		call SaveInteger(HY,(h),(34),(1))
	else
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,0.0,false)
		call TriggerAddCondition(t,Condition(function Func4072))
		call SaveUnitHandle(HY,(h),(2),(source))
	endif
	set t=null
	set source=null
	set DX3=null
endfunction

function Func4074 takes nothing returns boolean
	if GetSpellAbilityId()==integers177[0]or GetSpellAbilityId()==integers177[1]or GetSpellAbilityId()==integers177[2]or GetSpellAbilityId()==integers177[3]then
		call Func4066()
	elseif GetSpellAbilityId()=='A2JL' then
		call Func4073()
	endif
	return false
endfunction

function Func4075 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer JGO=(LoadInteger(HY,(GetHandleId(source)),(747)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	if JGO<3 then
		set Count=Count-1
		call SaveInteger(HY,(h),(34),(Count))
		if Count==0 then
			call UnitRemoveAbility(source,integers177[JGO])
			set Count=35
			call SaveInteger(HY,(h),(34),(Count))
			set JGO=JGO+1
			call SaveInteger(HY,(GetHandleId(source)),(747),(JGO))
			call UnitAddAbilityPermanent(source,integers177[JGO])
		endif
	endif
	set t=null
	set source=null
	return false
endfunction

function Func4076 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveInteger(HY,(GetHandleId(source)),(747),(3))
	call UnitAddAbilityPermanent(source,integers177[3])
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func4075))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveInteger(HY,(h),(34),(30))
	set source=null
	set t=null
endfunction

function Func4077 takes nothing returns boolean
	if GetLearnedSkill()=='A2JK' and IsUnitIllusion(GetTriggerUnit())==false then
		call UnitAddAbilityPermanent(GetTriggerUnit(),'A2JL')
		call SetUnitAbilityLevel(GetTriggerUnit(),'A2JL',GetUnitAbilityLevel(GetTriggerUnit(),'A2JK'))
		if GetUnitAbilityLevel(GetTriggerUnit(),'A2JK')==1 then
			call Func4076()
			call Func4060()
		endif
	endif
	return false
endfunction

function Func4078 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4074))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func4077))
	set t=null
	set integers177[0]='A2JO'
	set integers177[1]='A2JQ'
	set integers177[2]='A2JP'
	set integers177[3]='A2JR'
endfunction

function Func4079 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamage()>2 and boolean155 then
			set boolean155=false
			call DamageTarget(GetEventDamageSource(),target,3,GetEventDamage()*0.25)
			set boolean155=true
		endif
	else
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4080 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	local integer lvl=GetUnitAbilityLevel(source,'A2A8')
	set boolean155=true
	call UnitAddAbility(caster,'A2A7')
	call SetUnitAbilityLevel(caster,'A2A7',lvl)
	call IssueTargetOrder(caster,"soulburn",target)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerRegisterTimerEvent(t,2+lvl,false)
	call TriggerAddCondition(t,Condition(function Func4079))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	set source=null
	set target=null
	set t=null
endfunction

function Func4081 takes nothing returns boolean
	if GetSpellAbilityId()=='A2A8' then
		call Func4080()
	endif
	return false
endfunction

function Register_ArcaneSeal takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4081))
	set t=null
endfunction

function Func4082 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real a=(LoadReal(HY,(h),(137)))
	local real d=(LoadReal(HY,(h),(138)))
	local real x=SafeX50(GetUnitX(target)+d/10*Cos(a))
	local real y=SafeY50(GetUnitY(target)+d/10*Sin(a))
	if GetTriggerEvalCount(t)==11 or GetTriggerEventId()==EVENT_UNIT_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call DestroyEffect(AddSpecialEffect("war3mapImported\\ThrustMovement.mdx",x,y))
		call KillTrees(x,y,150)
		call SetUnitX(target,x)
		call SetUnitY(target,y)
	endif
	set target=null
	set t=null
	return false
endfunction

function Func4083 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A2A9')
	local real a
	local real x
	local real y
	local real d
	local integer i=-1
	local boolean K3O=false
	if source==target then
		set a=GetUnitFacing(source)*bj_DEGTORAD
	else
		set a=Func0158(source,target)*bj_DEGTORAD
	endif
	loop
		exitwhen K3O or i==23
		set i=i+1
		set x=SafeX50(GetUnitX(target)+(350-i*25)*Cos(a))
		set y=SafeY50(GetUnitY(target)+(350-i*25)*Sin(a))
		if(IsPointInRegion(region006,((x)*1.0),((y)*1.0)))==false then
			set K3O=true
		endif
	endloop
	set d=Func0141(x,y,GetUnitX(target),GetUnitY(target))
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func4082))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveReal(HY,(h),(138),((d)*1.0))
	if IsUnitAlly(source,GetOwningPlayer(target)) then
		call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)+50+50*lvl)
	else
		call DamageTarget(source,target,3,50+50*lvl)
	endif
	set source=null
	set target=null
	set t=null
endfunction

function Func4084 takes nothing returns boolean
	if GetSpellAbilityId()=='A2A9' then
		call Func4083()
	endif
	return false
endfunction

function Register_Thrust takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4084))
	set t=null
endfunction

function Func4085 takes nothing returns nothing
	call IssueTargetOrder(unit407,"ensnare",GetEnumUnit())
	call DamageTarget(GetTriggerUnit(),GetEnumUnit(),1,60*integer545)
endfunction

function Func4086 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local group g1=GetAvailableGroup()
	local group g2=GetAvailableGroup()
	local integer lvl=GetUnitAbilityLevel(source,'A2A6')
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	set integer545=lvl
	set unit407=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
	call UnitAddAbility(unit407,'A2AE')
	call SetUnitAbilityLevel(unit407,'A2AE',lvl)
	call GroupEnumUnitsInRange(g1,x,y,425,Condition(function Func0271))
	call GroupEnumUnitsInRange(g2,x,y,825,Condition(function Func0271))
	call GroupRemoveGroup(g1,g2)
	call ForGroup(g2,function Func4085)
	call KillGroup(g1)
	call KillGroup(g2)
	call DestroyEffect(AddSpecialEffect("war3mapImported\\ConjureForceAoE.mdx",x,y))
	set source=null
	set g1=null
	set g2=null
endfunction

function Func4087 takes nothing returns boolean
	if GetSpellAbilityId()=='A2A6' then
		call Func4086()
	endif
	return false
endfunction

function Register_ConjureForce takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4087))
	set t=null
endfunction

function Func4088 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group039)==false then
		call GroupAddUnit(group039,GetEnumUnit())
		call DamageTarget(unit408,GetEnumUnit(),3,real397)
	endif
endfunction

function Func4089 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local group g=(LoadGroupHandle(HY,(h),(22)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local real dmg=(LoadReal(HY,(h),(20)))
	local group H03
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x
	local real y
	if GetTriggerEvalCount(t)>67 then
		call KillGroup(g)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillUnit(IG1)
	else
		set x=GetUnitX(IG1)
		set y=GetUnitY(IG1)
		set H03=GetAvailableGroup()
		set group039=g
		set tt_unit1=IG1
		set unit408=source
		set real397=dmg
		call GroupEnumUnitsInRange(H03,x,y,225,Condition(function Func0283))
		call ForGroup(H03,function Func4088)
		call KillGroup(H03)
		call SetUnitX(IG1,SafeX50(x+15*Cos(RM2*bj_DEGTORAD)))
		call SetUnitY(IG1,SafeY50(y+15*Sin(RM2*bj_DEGTORAD)))
	endif
	set t=null
	set g=null
	set H03=null
	set source=null
	set IG1=null
	return false
endfunction

function Func4090 takes unit source,real dmg,real x,real y returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local group g=GetAvailableGroup()
	local real x1=GetUnitX(source)
	local real y1=GetUnitY(source)
	local real x2=x
	local real y2=y
	local real RM2=Func0159(x1,y1,x2,y2)
	local integer lvl=GetUnitAbilityLevel(source,'A2AA')
	local unit IG1=CreateUnit(GetOwningPlayer(source),'h0DI',x1,y1,RM2)
	call SetUnitScale(IG1,1.5,1.5,1.5)
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveGroupHandle(HY,(h),(22),(g))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(20),((dmg)*1.0))
	call TriggerRegisterTimerEvent(t,0.015,true)
	call TriggerAddCondition(t,Condition(function Func4089))
	set t=null
	set IG1=null
	set g=null
endfunction

function Func4091 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local boolean PK2=(LoadBoolean(HY,(h),(95)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2AB',false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2AA',true)
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if PK2==false and GetEventDamage()>2 and GetEventDamage()<3000 and IsUnitIllusion(target)==false then
			call SaveReal(HY,(h),(20),(((LoadReal(HY,(h),(20)))+GetEventDamage())*1.0))
			call Func0137(target,GetEventDamage())
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
		if GetSpellAbilityId()=='A2AA' then
			call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
			call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
			call SaveBoolean(HY,(h),(95),(true))
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A2AB' then
			call Func4090(source,(LoadReal(HY,(h),(20))),GetSpellTargetX(),GetSpellTargetY())
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2AB',false)
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2AA',true)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2AB',false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2AA',true)
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4092 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call UnitAddAbilityPermanent(source,'A2AB')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2AB',true)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2AA',false)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_ENDCAST)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerRegisterTimerEvent(t,20,false)
	call TriggerAddCondition(t,Condition(function Func4091))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveBoolean(HY,(h),(95),(false))
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("war3mapImported\\WispShellBlue_2.mdx",source,"origin")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("war3mapImported\\DivineWrathTarget.mdx",target,"origin")))
	set source=null
	set target=null
	set t=null
endfunction

function Func4093 takes nothing returns boolean
	if GetSpellAbilityId()=='A2AA' then
		call Func4092()
	endif
	return false
endfunction

function Register_DivineWrath takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4093))
	set t=null
endfunction

function Func4094 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or GetSpellAbilityId()=='A2BD' then
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2BC',true)
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2BD',false)
		call UnitRemoveAbility(source,'Aetl')
		call UnitRemoveAbility(source,'A2B3')
		call UnitRemoveAbility(source,'A2B0')
		call UnitRemoveAbility(source,'A2B1')
		call UnitRemoveAbility(source,'A2B2')
		call UnitRemoveAbility(source,'B0F2')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func4095 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2BC')
	call TriggerRegisterTimerEvent(t,5,false)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4094))
	call SaveUnitHandle(HY,(h),(2),(source))
	call UnitAddAbility(source,'A2BD')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2BC',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2BD',true)
	call UnitAddAbility(source,'Aetl')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'Aetl',false)
	if lvl==1 then
		call UnitAddAbility(source,'A2B3')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2B3',false)
	elseif lvl==2 then
		call UnitAddAbility(source,'A2B0')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2B0',false)
	elseif lvl==3 then
		call UnitAddAbility(source,'A2B1')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2B1',false)
	elseif lvl==4 then
		call UnitAddAbility(source,'A2B2')
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2B2',false)
	endif
	set t=null
	set source=null
endfunction

function Func4096 takes nothing returns boolean
	if GetSpellAbilityId()=='A2BC' then
		call Func4095()
	endif
	return false
endfunction

function Register_Wraith takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4096))
	set t=null
endfunction

function Func4097 takes unit source,unit VS5,unit target,integer lvl returns nothing
	call GroupAddUnit(group040,target)
	call StunTargetIF(source,target,1.25+0.25*lvl)
	call DamageTarget(source,target,1,40*lvl)
	call KillUnit(VS5)
endfunction

function Func4098 takes nothing returns boolean
	if(IsUnitEnemy(tt_unit1,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsDead(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or Func0266(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(tt_unit1)) or Func0264(GetFilterUnit())==false)then
		return IsUnitInGroup(GetFilterUnit(),group040)==false
	endif
	return false
endfunction

function Func4099 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local group g
	local integer i=1
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local real a=(LoadReal(HY,(h),(137)))
	local unit VS5
	local unit target
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	set group040=PR2
	set x=SafeX50(x+12*Cos(a))
	set y=SafeY50(y+12*Sin(a))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	if GetTriggerEvalCount(t)>39 then
		loop
			exitwhen i>3
			call KillUnit((LoadUnitHandle(HY,(h),(393+i-1))))
			set i=i+1
		endloop
		call KillGroup(PR2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set g=GetAvailableGroup()
		set tt_unit1=source
		call GroupEnumUnitsInRange(g,x,y,275,Condition(function Func4098))
		loop
			exitwhen i>3
			if(LoadBoolean(HY,(h),(511+i-1)))==false then
				set VS5=(LoadUnitHandle(HY,(h),(393+i-1)))
				set x=(LoadReal(HY,(h),(549+i-1)))
				set y=(LoadReal(HY,(h),(567+i-1)))
				set x=SafeX50(x+12*Cos(a))
				set y=SafeY50(y+12*Sin(a))
				call SaveReal(HY,(h),(549+i-1),((x)*1.0))
				call SaveReal(HY,(h),(567+i-1),((y)*1.0))
				call SetUnitX(VS5,x)
				call SetUnitY(VS5,y)
				set target=GroupPickRandomUnit(g)
				if target!=null then
					call GroupRemoveUnit(g,target)
					call SaveInteger(HY,(GetHandleId((target))),((4314)),(1))
					call SaveBoolean(HY,(h),(511+i-1),(true))
					call Func4097(source,VS5,target,GetUnitAbilityLevel(source,'A2B4'))
				endif
			endif
			set i=i+1
		endloop
		call KillGroup(g)
		set g=null
		set VS5=null
		set target=null
	endif
	set t=null
	set source=null
	return false
endfunction

function Func4100 takes nothing returns nothing
	local real QJI=GetSpellTargetX()
	local real QKI=GetSpellTargetY()
	local unit source=GetTriggerUnit()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local real a=Func0159(x,y,QJI,QKI)*bj_DEGTORAD
	local real b
	local unit caster
	local real IV1=SafeX50(x+500*Cos(a))
	local real IW1=SafeY50(y+500*Sin(a))
	local integer i=0
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real CM_Column
	local integer lvl=GetUnitAbilityLevel(source,'A2B4')
	local integer RII='h0DN'
	set i=i+1
	set b=a*bj_RADTODEG+90
	if b>360 then
		set b=b-360
	endif
	set b=b*bj_DEGTORAD
	set caster=CreateUnit(GetOwningPlayer(source),RII,x+100*Cos(a)+100*Cos(b),y+100*Sin(a)+100*Sin(b),a*bj_RADTODEG)
	call SaveUnitHandle(HY,(h),(393+i-1),(caster))
	call SaveBoolean(HY,(h),(511+i-1),(false))
	call SaveReal(HY,(h),(549+i-1),((GetUnitX(caster))*1.0))
	call SaveReal(HY,(h),(567+i-1),((GetUnitY(caster))*1.0))
	set i=i+1
	set b=a*bj_RADTODEG-90
	if b<0 then
		set b=360+b
	endif
	set b=b*bj_DEGTORAD
	set caster=CreateUnit(GetOwningPlayer(source),RII,x+100*Cos(a)+100*Cos(b),y+100*Sin(a)+100*Sin(b),a*bj_RADTODEG)
	call SaveUnitHandle(HY,(h),(393+i-1),(caster))
	call SaveBoolean(HY,(h),(511+i-1),(false))
	call SaveReal(HY,(h),(549+i-1),((GetUnitX(caster))*1.0))
	call SaveReal(HY,(h),(567+i-1),((GetUnitY(caster))*1.0))
	set i=i+1
	set caster=CreateUnit(GetOwningPlayer(source),RII,x+100*Cos(a),y+100*Sin(a),a*bj_RADTODEG)
	call SaveUnitHandle(HY,(h),(393+i-1),(caster))
	call SaveBoolean(HY,(h),(511+i-1),(false))
	call SaveReal(HY,(h),(549+i-1),((GetUnitX(caster))*1.0))
	call SaveReal(HY,(h),(567+i-1),((GetUnitY(caster))*1.0))
	call TriggerRegisterTimerEvent(t,0.015,true)
	call TriggerAddCondition(t,Condition(function Func4099))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveReal(HY,(h),(47),((IV1)*1.0))
	call SaveReal(HY,(h),(48),((IW1)*1.0))
	call SaveGroupHandle(HY,(h),(187),(GetAvailableGroup()))
	set source=null
	set caster=null
	set t=null
endfunction

function Func4101 takes nothing returns boolean
	if GetSpellAbilityId()=='A2B4' then
		call Func4100()
	endif
	return false
endfunction

function Func4102 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4101))
	set t=null
endfunction

function Func4103 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer Count=GetTriggerEvalCount(t)
	local integer lvl=GetUnitAbilityLevel(source,'A2B5')
	if Count==6 then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitShareVision(target,GetOwningPlayer(source),false)
	endif
	call DamageTarget(source,target,1,20+10*lvl)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4104 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func4103))
	call SaveUnitHandle(HY,(h),(2),(GetTriggerUnit()))
	call SaveUnitHandle(HY,(h),(17),(GetEnumUnit()))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Weapons\\BansheeMissile\\BansheeMissile.mdl",GetEnumUnit(),"overhead")))
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",GetEnumUnit(),"origin"))
	call UnitShareVision(GetEnumUnit(),GetOwningPlayer(GetTriggerUnit()),true)
	set t=null
endfunction

function Func4105 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local group g=GetAvailableGroup()
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
	call UnitAddAbility(caster,'A2B7')
	call IssueImmediateOrderById(caster,852625)
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",GetUnitX(source),GetUnitY(source)))
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),625,Condition(function Func0271))
	call ForGroup(g,function Func4104)
	call KillGroup(g)
	set g=null
	set source=null
	set caster=null
endfunction

function Func4106 takes nothing returns boolean
	if GetSpellAbilityId()=='A2B5' then
		call Func4105()
	endif
	return false
endfunction

function Register_Miasma takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4106))
	set t=null
endfunction

function GetTotalMinutes takes nothing returns integer
	return R2I(GetTime()/60)
endfunction

function Func4107 takes unit source,integer ZO3 returns nothing
	local integer JD3=GetHeroAgi(source,false)
	local integer JE3=GetHeroStr(source,false)
	local integer UY5=GetHeroInt(source,false)
	call SetHeroAgi(source,JD3-ZO3,true)
	call SetHeroStr(source,JE3-ZO3,true)
	call SetHeroInt(source,UY5-ZO3,true)
endfunction

function Func4108 takes unit source,integer ZO3 returns nothing
	local integer JD3=GetHeroAgi(source,false)
	local integer JE3=GetHeroStr(source,false)
	local integer UY5=GetHeroInt(source,false)
	call SetHeroAgi(source,JD3+ZO3,true)
	call SetHeroStr(source,JE3+ZO3,true)
	call SetHeroInt(source,UY5+ZO3,true)
endfunction

function Func4109 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer UL5=(LoadInteger(HY,(h),(744)))
	local integer lvl=GetUnitAbilityLevel(source,'A2G2')
	local integer Minutes=(R2I(GetTime()/60))
	local real HJ3=lvl+1+(0.1+0.1*lvl)*Minutes
	local integer UM5=3+3*lvl+R2I((0.1+0.1*lvl)*Minutes)
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A2G2' then
			if target!=null and target!=GetSpellTargetUnit()then
				call UnitRemoveAbility(target,'A2IO')
				call Func4107(target,UL5)
				call Func4107(source,UL5)
				call SaveInteger(HY,(h),(744),(0))
			endif
			set target=GetSpellTargetUnit()
			call SaveUnitHandle(HY,(h),(17),(target))
			call UnitAddAbilityPermanent(target,'A2IO')
			call Func0152("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",source,"chest",1.9)
			call Func0152("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",target,"chest",1.9)
			return false
		else
			return false
		endif
	endif
	if target==null then
	elseif IsDead(target)or IsDead(source)or Func0139(source,target)>1400 then
		call Func4107(source,UL5)
		call Func4107(target,UL5)
		call SaveInteger(HY,(h),(744),(0))
		call UnitRemoveAbility(source,'A2IO')
		call UnitRemoveAbility(target,'A2IO')
	else
		if GetUnitAbilityLevel(source,'A2IO')==0 then
			call UnitAddAbilityPermanent(source,'A2IO')
		endif
		if GetUnitAbilityLevel(target,'A2IO')==0 then
			call UnitAddAbilityPermanent(target,'A2IO')
		endif
		if UL5!=UM5 then
			call Func4108(source,UM5-UL5)
			call Func4108(target,UM5-UL5)
			call SaveInteger(HY,(h),(744),(UM5))
		endif
		call SetUnitState(source,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_LIFE)+HJ3)
		call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)+HJ3)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4110 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4109))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(null))
	call SaveInteger(HY,(h),(744),(0))
	set t=null
	set source=null
endfunction

function Func4111 takes nothing returns boolean
	if GetLearnedSkill()=='A2G2' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A2G2')==1 then
		call Func4110()
	endif
	return false
endfunction

function Register_Brotherhood takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func4111))
	set t=null
endfunction

function Func4112 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or(GetEventDamage()>30 and GetEventDamageSource()!=GetTriggerUnit()and Func0053(GetOwningPlayer(GetEventDamageSource())))then
		if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
			call Func0137(source,GetEventDamage())
		endif
		call UnitRemoveAbility(source,'A2IL')
		call UnitRemoveAbility(source,'A2IM')
		call UnitRemoveAbility(source,'A2BY')
		call UnitRemoveAbility(source,'A2IN')
		call UnitRemoveAbility(source,'B0F4')
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	return false
endfunction

function Func4113 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetEnumUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2BV')
	local real d
	local integer id
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	if lvl==1 then
		set d=4
		set id='A2IL'
	elseif lvl==2 then
		set d=5
		set id='A2IM'
	elseif lvl==3 then
		set d=6
		set id='A2BY'
	elseif lvl==4 then
		set d=7
		set id='A2IN'
	endif
	call UnitAddAbilityPermanent(target,id)
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),id,false)
	call TriggerAddCondition(t,Condition(function Func4112))
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerRegisterTimerEvent(t,d,false)
	call SaveUnitHandle(HY,(h),(2),(target))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIsp\\SpeedTarget.mdl",target,"origin")))
	set source=null
	set target=null
	set t=null
endfunction

function Func4114 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local group g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),375,Condition(function Func0296))
	call ForGroup(g,function Func4113)
	call KillGroup(g)
	set g=null
	set source=null
endfunction

function Func4115 takes nothing returns boolean
	if GetSpellAbilityId()=='A2BV' then
		call Func4114()
	endif
	return false
endfunction

function Register_Gallop takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4115))
endfunction

function Func4116 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit Z4O=(LoadUnitHandle(HY,(h),(17)))
	local integer AF1=(LoadInteger(HY,(h),(59)))
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitRemoveAbility(source,AF1)
		call UnitRemoveAbility(source,'B0FJ')
		call UnitRemoveAbility(source,'B0FK')
	elseif GetEventDamageSource()==source and GetEventDamage()>0 then
		call TriggerRegisterTimerEvent(t,0.3,false)
	endif
	set t=null
	set source=null
	set Z4O=null
	return false
endfunction

function Func4117 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit Z4O=GetAttacker()
	local integer lvl=GetUnitAbilityLevel(source,'A2EY')
	local integer id
	local integer Count=(LoadInteger(HY,(h),(34)))
	if source==GetTriggerUnit()and((LoadInteger(HY,(GetHandleId((source))),((4316))))==1)==false and IsUnitAlly(source,GetOwningPlayer(Z4O))==false then
		if GetRandomReal(0,100)<(Count+1)*reals032[lvl]then
			call SaveInteger(HY,(h),(34),(0))
			call AddTimedKeyToUnit(source,4316,0.9)
			if lvl==1 then
				set id='A2GD'
			elseif lvl==2 then
				set id='A2GE'
			elseif lvl==3 then
				set id='A2GF'
			elseif lvl==4 then
				set id='A2GC'
			endif
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),id,false)
			call UnitAddAbilityPermanent(source,id)
			set t=CreateTrigger()
			set h=GetHandleId(t)
			call TriggerRegisterDeathEvent(t,source)
			call TriggerRegisterUnitEvent(t,Z4O,EVENT_UNIT_DAMAGED)
			call TriggerRegisterTimerEvent(t,1.0,false)
			call TriggerAddCondition(t,Condition(function Func4116))
			call SaveUnitHandle(HY,(h),(2),(source))
			call SaveUnitHandle(HY,(h),(17),(Z4O))
			call SaveInteger(HY,(h),(59),(id))
		else
			call SaveInteger(HY,(h),(34),(Count+1))
		endif
	endif
	set t=null
	set source=null
	set Z4O=null
	return false
endfunction

function Func4118 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func4117))
	call SaveUnitHandle(HY,(h),(2),(source))
	set source=null
	set t=null
endfunction

function Func4119 takes nothing returns boolean
	if GetLearnedSkill()=='A2EY' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A2EY')==1 then
		call Func4118()
	endif
	return false
endfunction

function Func4120 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func4119))
	set t=null
	set reals032[1]=3.646
	set reals032[2]=4.562
	set reals032[3]=5.570
	set reals032[4]=6.668
endfunction

function Func4121 takes unit u,integer d returns nothing
	local integer array b
	local integer a=d
	local integer c=1
	local integer i=0
	local integer EU1
	if d<1 then
		call UnitRemoveAbility(u,integers178[0])
		call UnitRemoveAbility(u,integers178[1])
		call UnitRemoveAbility(u,integers178[2])
		call UnitRemoveAbility(u,integers178[3])
		call UnitRemoveAbility(u,integers178[4])
		call UnitRemoveAbility(u,integers178[5])
		call UnitRemoveAbility(u,integers178[6])
		call UnitRemoveAbility(u,integers178[7])
		call UnitRemoveAbility(u,integers178[8])
		return
	endif
	loop
		exitwhen c==0
		set c=a/2
		set b[i]=a-c*2
		set a=c
		set i=i+1
	endloop
	set EU1=8
	set i=0
	loop
		exitwhen i>EU1
		if b[i]==1 then
			call UnitAddAbilityPermanent(u,integers178[i])
		else
			call UnitRemoveAbility(u,integers178[i])
		endif
		set i=i+1
	endloop
endfunction

function Func4122 takes unit source,integer lvl,unit target returns nothing
	local integer h=GetHandleId(source)
	local integer I36=(LoadInteger(HY,(h),(739)))
	if IsUnitType(target,UNIT_TYPE_HERO) then
		set I36=I36+6+4*lvl
		call SaveInteger(HY,(h),(739),(I36))
		call Func0163(GetUnitName(source)+" Won The Duel!!",5,source,0.03,255,0,0,255)
		call Func4121(source,I36)
	endif
endfunction

function Func4123 takes unit u returns boolean
	return GetUnitAbilityLevel(u,'Bcyc')==0 or Func0101(u)==false
endfunction

function Func4124 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real time=(LoadReal(HY,(h),(442)))
	local unit caster
	call Func0262(source)
	call Func0262(target)
	if GetTriggerEvalCount(t)==1 then
		set caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
		call UnitAddAbility(caster,'A2G5')
		call IssueTargetOrder(caster,"doom",target)
		set caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
		call UnitAddAbility(caster,'A2G5')
		call IssueTargetOrder(caster,"doom",source)
		set caster=null
	endif
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or time<GetTime()or Func4123(source)==false or Func4123(target)==false then
		if GetTriggerEventId()==EVENT_WIDGET_DEATH then
			if GetTriggerUnit()==source then
				call Func4122(target,lvl,GetTriggerUnit())
			else
				call Func4122(source,lvl,GetTriggerUnit())
			endif
		endif
		call UnitRemoveAbility(source,'B0FG')
		call UnitRemoveAbility(target,'B0FG')
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call SetUnitPathing(source,true)
		call SetUnitPathing(target,true)
	elseif GetIssuedOrderId()!=851973 then
		call SetUnitPathing(source,false)
		call SetUnitPathing(target,false)
		call DisableTrigger(t)
		call IssueTargetOrder(source,"attack",target)
		call IssueTargetOrder(target,"attack",source)
		call EnableTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4125 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2CI')
	local trigger t
	local integer h
	call SetUnitPathing(source,false)
	call SetUnitPathing(target,false)
	call IssueTargetOrder(source,"attack",target)
	call IssueTargetOrder(target,"attack",source)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("war3mapImported\\DuelFX.mdx",source,"overhead")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("war3mapImported\\DuelFX.mdx",target,"overhead")))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveReal(HY,(h),(442),((GetTime()+0.75*lvl+3.25)*1.0))
	call TriggerAddCondition(t,Condition(function Func4124))
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerRegisterTimerEvent(t,0.01,false)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_ISSUED_TARGET_ORDER)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_ISSUED_POINT_ORDER)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_ISSUED_ORDER)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_ISSUED_TARGET_ORDER)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_ISSUED_POINT_ORDER)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_ISSUED_ORDER)
	set source=null
	set target=null
	set t=null
endfunction

function Func4126 takes nothing returns boolean
	if GetSpellAbilityId()=='A2CI' and IsBlocked(GetSpellTargetUnit())==false then
		call Func4125()
	endif
	return false
endfunction

function Func4127 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4126))
	set t=null
	set integers178[0]='A2GK'
	set integers178[1]='A2GJ'
	set integers178[2]='A2GI'
	set integers178[3]='A2GH'
	set integers178[4]='A2GN'
	set integers178[5]='A2GO'
	set integers178[6]='A2GM'
	set integers178[7]='A2GL'
	set integers178[8]='A2GP'
endfunction

function Func4128 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local real d
	local unit Z4O
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		set d=GetEventDamage()
		if Func0094(d)and d>50 then
			set Count=Count+1
			call SaveInteger(HY,(h),(34),(Count))
			set Z4O=GetEventDamageSource()
			if IsUnitType(Z4O,UNIT_TYPE_HERO)==false and GetUnitAbilityLevel(Z4O,'A04R')!=0 then
				set Z4O=Players_Hero[GetPlayerId(GetOwningPlayer(Z4O))]
			endif
			call Func0137(source,d)
			set d=d*(0.4+0.2*lvl)
			if IsUnitAlly(target,GetOwningPlayer(source)) then
				call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)+d)
			else
				call DamageTarget(source,target,3,d)
			endif
		endif
	endif
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or Count==3 then
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4129 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2IQ')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call Func0152("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",source,"chest",1.9)
	call Func0152("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",target,"chest",1.9)
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkTarget.mdl",source,"chest")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkTarget.mdl",target,"chest")))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(34),(0))
	call TriggerAddCondition(t,Condition(function Func4128))
	call TriggerRegisterTimerEvent(t,10,false)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DAMAGED)
	set source=null
	set target=null
	set t=null
endfunction

function Func4130 takes nothing returns boolean
	if GetSpellAbilityId()=='A2IQ' then
		call Func4129()
	endif
	return false
endfunction

function Register_Deflection takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4130))
	set t=null
endfunction

function Func4131 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local integer MKO=5
	if source==target then
		set MKO=5
	endif
	set Count=Count+1
	call SaveInteger(HY,(h),(34),(Count))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or Count>MKO then
		call UnitRemoveAbility(target,integers179[lvl])
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)+20+10*lvl)
		call Func0152("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",target,"chest",1.9)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4132 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2J2')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call RemoveDispellableBuffs(target)
	call SetNapalmFactory(target,0,0)
	call UnitAddAbilityPermanent(target,integers179[lvl])
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),integers179[lvl],false)
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\InnerFire\\InnerFireTarget.mdl",target,"overhead")))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveInteger(HY,(h),(34),(0))
	call TriggerAddCondition(t,Condition(function Func4131))
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerEvaluate(t)
	set source=null
	set target=null
	set t=null
endfunction

function Func4133 takes nothing returns boolean
	if GetSpellAbilityId()=='A2J2' then
		call Func4132()
	endif
	return false
endfunction

function Func4134 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4133))
	set integers179[1]='A2J9'
	set integers179[2]='A2JA'
	set integers179[3]='A2J8'
	set integers179[4]='A2J7'
	set t=null
endfunction

function Func4135 takes unit source,integer lvl returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),0)
	call UnitAddAbilityPermanent(caster,'A2JC')
	call SetUnitAbilityLevel(caster,'A2JC',lvl/3)
	call IssueTargetOrder(caster,"bloodlust",source)
	set caster=null
endfunction

function Func4136 takes nothing returns nothing
	if IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED) or IsUnitIllusion(GetEnumUnit()) then
		call DamageTarget(GetTriggerUnit(),GetEnumUnit(),1,GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*0.25)
	endif
	call DamageTarget(GetTriggerUnit(),GetEnumUnit(),1,40*integer548+(12+2*integer548)*integer546+(5+15*integer548)*integer547)
endfunction

function Func4137 takes nothing returns nothing
	if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) then
		set integer547=integer547+1
	else
		set integer546=integer546+1
	endif
endfunction

function Func4138 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local integer lvl=GetUnitAbilityLevel(source,'A2JB')
	local group g=GetAvailableGroup()
	call DestroyEffect(AddSpecialEffect("war3mapImported\\OverwhelmingOdds.mdx",x,y))
	call GroupEnumUnitsInRange(g,x,y,330+25,Condition(function Func0271))
	set integer546=0
	set integer547=0
	set integer548=lvl
	call ForGroup(g,function Func4137)
	call ForGroup(g,function Func4136)
	call KillGroup(g)
	call Func4135(source,9*integer547+3*integer546)
	set source=null
	set g=null
endfunction

function Func4139 takes nothing returns boolean
	if GetSpellAbilityId()=='A2JB' then
		call Func4138()
	endif
	return false
endfunction

function Func4140 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4139))
	call Func0125('A2JC')
	set t=null
endfunction

function Func4141 takes nothing returns nothing
	set boolean156=true
	call DamageTarget(unit409,GetEnumUnit(),1,((200+400*integer550)/integer549)/22)
	set boolean156=false
endfunction

function Func4142 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local group g
	if GetTriggerEvalCount(t)>22 then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set g=GetAvailableGroup()
		set tt_unit1=source
		call GroupEnumUnitsInRange(g,x,y,170+25,Condition(function Func0303))
		set integer550=GetUnitAbilityLevel(source,'A2BG')
		if integer550==0 then
			set integer550=GetUnitAbilityLevel(source,'A2TU')
		endif
		set unit409=source
		set integer549=CountUnitsInGroup(g)
		call ForGroup(g,function Func4141)
		call KillGroup(g)
		set g=null
	endif
	set t=null
	set source=null
	return false
endfunction

function Func4143 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local string s="war3mapImported\\DivineWrathTarget.mdx"
	local location l=GetSpellTargetLoc()
	call PlaySoundAtPointBJ(sound081,100,l,0)
	call RemoveLocation(l)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func4142))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call DestroyEffect(AddSpecialEffect(s,x,y))
	set t=null
	set source=null
endfunction

function Func4144 takes nothing returns boolean
	if GetSpellAbilityId()=='A2BG' or GetSpellAbilityId()=='A2TU' then
		call Func4143()
	endif
	return false
endfunction

function Func4145 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4144))
	set t=null
	set sound081=CreateSound("Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget2.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound081,"StarfallTarget")
	call SetSoundDuration(sound081,3000)
endfunction

function Func4146 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A2BT')
	local real d
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		set d=GetEventDamage()*(0.2+0.05*lvl)
	else
		call SaveInteger(HY,(GetHandleId((target))),((4317)),(2))
		call UnitRemoveAbility(target,'A2I6')
		call UnitRemoveAbility(target,'A2I5')
		call UnitRemoveAbility(target,'A2I7')
		call UnitRemoveAbility(target,'A2I8')
		call UnitRemoveAbility(target,'B0FS')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4147 takes unit source,unit target returns nothing
	local trigger t
	local integer h
	local integer lvl=GetUnitAbilityLevel(source,'A2BT')
	local unit LastTarget=(LoadUnitHandle(HY,(GetHandleId(source)),(741)))
	local integer Count=(LoadInteger(HY,(GetHandleId(target)),(742)))
	local integer id
	if((LoadInteger(HY,(GetHandleId((target))),((4317))))==1) then
		call SaveInteger(HY,(GetHandleId(target)),(742),(0))
		call SaveReal(HY,(GetHandleId(target)),(743),((GetTime())*1.0))
	else
		if(LoadReal(HY,(GetHandleId(target)),(743)))+10<GetTime()then
			set Count=1
		else
			set Count=Count+1
		endif
		if IsUnitType(target,UNIT_TYPE_HERO) or IsUnitIllusion(target) then
			call Func0164(GetOwningPlayer(source),I2S(Count)+"!",2,target,0.026,50,0,255,216)
		endif
		call SaveInteger(HY,(GetHandleId(target)),(742),(Count))
		call SaveReal(HY,(GetHandleId(target)),(743),((GetTime())*1.0))
		if Count==4 then
			call SaveInteger(HY,(GetHandleId(target)),(742),(0))
			call SaveInteger(HY,(GetHandleId((target))),((4317)),(1))
			set t=CreateTrigger()
			set h=GetHandleId(t)
			call TriggerRegisterTimerEvent(t,0.5+0.5*lvl,false)
			call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
			call TriggerRegisterDeathEvent(t,target)
			call TriggerAddCondition(t,Condition(function Func4146))
			call SaveUnitHandle(HY,(h),(2),(source))
			call SaveUnitHandle(HY,(h),(17),(target))
			if lvl==1 then
				set id='A2I6'
			elseif lvl==2 then
				set id='A2I5'
			elseif lvl==3 then
				set id='A2I7'
			elseif lvl==4 then
				set id='A2I8'
			endif
			call UnitAddAbilityPermanent(target,id)
			call SetPlayerAbilityAvailable(GetOwningPlayer(target),id,false)
			call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FarseerMissile_Purple_2.mdx",target,"chest"))
		endif
	endif
	set t=null
endfunction

function Func4148 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source then
			call DisableTrigger(t)
			call Func4147(source,target)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4149 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local unit target=GetTriggerUnit()
	local unit source=GetAttacker()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,1.2,false)
	call TriggerAddCondition(t,Condition(function Func4148))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(2),(source))
	set target=null
	set source=null
	set t=null
endfunction

function Func4150 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetAttacker()==source and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(source))then
		if((LoadInteger(HY,(GetHandleId((source))),((4315))))==1)==false then
			call AddTimedKeyToUnit(source,4315,0.3)
			call Func4149()
		endif
	endif
	set t=null
	set source=null
	return false
endfunction

function Func4151 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func4150))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
endfunction

function Func4152 takes nothing returns boolean
	if GetLearnedSkill()=='A2BT' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A2BT')==1 then
		call Func4151()
	endif
	return false
endfunction

function Register_Amp takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func4152))
	set t=null
endfunction

function Func4153 takes nothing returns nothing
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit source=tt_unit1
	local unit target=tt_unit2
	local integer lvl=GetUnitAbilityLevel(source,'A2BE')
	local real dmg=40+20*lvl+1.6*GetHeroInt(source,true)
	set boolean156=true
	call DamageTarget(source,target,1,dmg)
	set boolean156=false
	set source=null
	set target=null
endfunction

function Func4154 takes nothing returns nothing
	local trigger t=AddProjectile(GetTriggerUnit(),GetSpellTargetUnit(),'h0DQ',"Func4153",500,false)
	local integer h=GetHandleId(t)
	set t=null
endfunction

function Func4155 takes nothing returns boolean
	if GetSpellAbilityId()=='A2BE' and IsBlocked(GetSpellTargetUnit())==false then
		call Func4154()
	endif
	return false
endfunction

function Func4156 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4155))
	set t=null
endfunction

function Func4157 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real d
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
	else
		call UnitRemoveAbility(target,'A2HX')
		call UnitRemoveAbility(target,'A2I0')
		call UnitRemoveAbility(target,'A2HY')
		call UnitRemoveAbility(target,'A2HZ')
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set target=null
	set t=null
	return false
endfunction

function Func4158 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2HN')
	local real dur=2+lvl
	local integer id='A2HX'
	if lvl==1 then
		set id='A2HX'
	elseif lvl==2 then
		set id='A2I0'
	elseif lvl==3 then
		set id='A2HY'
	elseif lvl==4 then
		set id='A2HZ'
	endif
	call UnitAddAbilityPermanent(target,id)
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),id,false)
	call TriggerRegisterTimerEvent(t,dur,false)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func4157))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	set source=null
	set target=null
	set t=null
endfunction

function Func4159 takes nothing returns boolean
	if GetSpellAbilityId()=='A2HN' and IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO) and IsBlocked(GetSpellTargetUnit())==false then
		call Func4158()
	endif
	return false
endfunction

function Func4160 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4159))
	set t=null
endfunction

function Func4161 takes nothing returns nothing
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit source=tt_unit1
	local unit target=tt_unit2
	local real x=GetUnitX(target)
	local real y=GetUnitY(target)
	local integer lvl=GetUnitAbilityLevel(source,'A2IT')
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',x,y,0)
	call UnitAddAbility(caster,'A2IU')
	call SetUnitAbilityLevel(caster,'A2IU',lvl)
	call IssueImmediateOrder(caster,"thunderclap")
	set source=null
	set target=null
	set caster=null
endfunction

function Func4162 takes unit source,group g returns unit
	local unit O26=null
	local real d=99999
	local unit OF5=FirstOfGroup(g)
	call GroupRemoveUnit(g,OF5)
	loop
		exitwhen OF5==null
		if Func0139(source,OF5)<d then
			set d=Func0139(source,OF5)
			set O26=OF5
		endif
		set OF5=FirstOfGroup(g)
		call GroupRemoveUnit(g,OF5)
	endloop
	return O26
endfunction

function Func4163 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=null
	local group g=GetAvailableGroup()
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),1600+25,Condition(function Func0302))
	set target=Func4162(source,g)
	call KillGroup(g)
	if target!=null then
		call AddProjectile(source,target,'h0E6',"Func4161",800,false)
	endif
	set g=null
	set target=null
	set source=null
endfunction

function Func4164 takes nothing returns boolean
	if GetSpellAbilityId()=='A2IT' then
		call Func4163()
	endif
	return false
endfunction

function Func4165 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4164))
	set t=null
endfunction

function Func4166 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer XT5=(LoadInteger(HY,(h),(422)))
	local integer XR5=(LoadInteger(HY,(h),(423)))
	local integer HJ4=(LoadInteger(HY,(h),(424)))
	call SetHeroAgi(target,GetHeroAgi(target,false)+XT5,true)
	call SetHeroStr(target,GetHeroStr(target,false)+XR5,true)
	call SetHeroInt(target,GetHeroInt(target,false)+HJ4,true)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set target=null
	return false
endfunction

function Func4167 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetEnumUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2FK')
	local trigger t
	local integer h
	local integer KBO
	local integer XT5
	local integer XR5
	local integer HJ4
	local real JC3
	if IsUnitType(target,UNIT_TYPE_HERO) then
		set KBO=GetUnitPrimaryAttribute(target)
		set JC3=0.15
		if KBO==2 then
			set XT5=R2I(JC3*GetHeroAgi(target,false))-1
			set XR5=0
			set HJ4=0
		elseif KBO==3 then
			set XT5=0
			set XR5=R2I(JC3*GetHeroStr(target,false))-1
			set HJ4=0
		elseif KBO==1 then
			set XT5=0
			set XR5=0
			set HJ4=R2I(JC3*GetHeroInt(target,false))-1
		endif
		call SetHeroAgi(target,GetHeroAgi(target,false)-XT5,true)
		call SetHeroStr(target,GetHeroStr(target,false)-XR5,true)
		call SetHeroInt(target,GetHeroInt(target,false)-HJ4,true)
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,7,false)
		call TriggerRegisterDeathEvent(t,target)
		call TriggerAddCondition(t,Condition(function Func4166))
		call SaveInteger(HY,(h),(422),(XT5))
		call SaveInteger(HY,(h),(424),(HJ4))
		call SaveInteger(HY,(h),(423),(XR5))
		call SaveUnitHandle(HY,(h),(17),(target))
		set t=null
	endif
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",target,"chest"))
	call DamageTarget(source,target,integer551,50+50*lvl)
	set source=null
	set target=null
endfunction

function Func4168 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local group g=GetAvailableGroup()
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local real a=Func0159(GetUnitX(source),GetUnitY(source),x,y)*bj_DEGTORAD
	set x=GetUnitX(source)
	set y=GetUnitY(source)
	if KillTrees(x,y,real398)>0 then
		set integer551=3
	else
		set integer551=1
	endif
	call GroupEnumUnitsInRange(g,x,y,real398+25,Condition(function Func0271))
	call ForGroup(g,function Func4167)
	call KillGroup(g)
	call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\WhirlingDeath_01.mdx",source,"origin"))
	set source=null
	set g=null
endfunction

function Func4169 takes nothing returns boolean
	if GetSpellAbilityId()=='A2FK' then
		call Func4168()
	endif
	return false
endfunction

function Func4170 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4169))
	set t=null
endfunction

function Func4171 takes unit source,unit target returns nothing
	local integer lvl=GetUnitAbilityLevel(source,'A2E3')
	call DamageTarget(source,target,3,60+40*lvl)
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",target,"origin"))
endfunction

function Func4172 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group002)==false then
		call GroupAddUnit(group002,GetEnumUnit())
		call Func4171(tt_unit1,GetEnumUnit())
	endif
endfunction

function Func4173 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer CV3=(LoadInteger(HY,(h),(18)))
	local integer Count=GetTriggerEvalCount(t)
	local unit CW3
	local group CX3=(LoadGroupHandle(HY,(h),(16)))
	local group g
	local boolean UL1=(LoadBoolean(HY,(h),(727)))
	local boolean OC6=(LoadBoolean(HY,(h),(740)))
	if Func0250(Hero)then
		set OC6=true
		call SaveBoolean(HY,(h),(740),(OC6))
	endif
	if UL1==false then
		set CW3=(LoadUnitHandle(HY,(h),(700+CV3+1-Count)))
		call RemoveUnit(CW3)
	else
		set CW3=(LoadUnitHandle(HY,(h),(700+Count)))
		if OC6==false then
			call SetUnitX(Hero,GetUnitX(CW3))
			call SetUnitY(Hero,GetUnitY(CW3))
		endif
		call RemoveUnit(CW3)
		set g=GetAvailableGroup()
		set tt_unit1=Hero
		set group002=CX3
		call GroupEnumUnitsInRange(g,GetUnitX(Hero),GetUnitY(Hero),250,Condition(function Func0279))
		call ForGroup(g,function Func4172)
		call KillGroup(g)
	endif
	if Count==(CV3)then
		call KillTrees(GetUnitX(Hero),GetUnitY(Hero),90)
		call KillGroup(CX3)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set Hero=null
	set CW3=null
	set CX3=null
	set g=null
	return false
endfunction

function Func4174 takes nothing returns nothing
	if Func0090(GetEnumDestructable())and IsDestructableDeadBJ(GetEnumDestructable())==false then
		set integer552=integer552+1
	endif
endfunction

function Func4175 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local integer MKO=(LoadInteger(HY,(h),(12)))
	local integer Count=GetTriggerEvalCount(t)
	local real x=(LoadReal(HY,(h),(6)))+Count*50*Cos(RM2*bj_DEGTORAD)
	local real y=(LoadReal(HY,(h),(7)))+Count*50*Sin(RM2*bj_DEGTORAD)
	local boolean CK3=(LoadBoolean(HY,(h),(15)))
	local unit CL3
	local trigger CM3=(LoadTriggerHandle(HY,(h),(11)))
	local integer CN3=GetHandleId(CM3)
	local integer ID='u01Q'
	local real CY3=250
	local rect r
	local real d=90
	set r=Rect(x-d,y-d,x+d,y+d)
	set integer552=0
	call EnumDestructablesInRect(r,Condition(function ReturnTrue),function Func4174)
	if integer552>0 or Count==MKO or Count==(MKO-1)or Count==(MKO-2)then
		set ID='u01P'
	endif
	set CL3=CreateUnit(GetOwningPlayer(Hero),ID,x,y,RM2)
	call SaveUnitHandle(HY,(CN3),(700+Count),(CL3))
	if integer552>0 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call TriggerRegisterTimerEvent(CM3,0.5/MKO,true)
		call TriggerAddCondition(CM3,Condition(function Func4173))
		call SaveInteger(HY,(CN3),(18),(Count))
		call SaveBoolean(HY,(CN3),(727),(true))
		call SaveUnitHandle(HY,(CN3),(14),(Hero))
		call SaveGroupHandle(HY,(CN3),(16),(GetAvailableGroup()))
		call SaveReal(HY,(CN3),(6),((x)*1.0))
		call SaveReal(HY,(CN3),(7),((y)*1.0))
		call SaveBoolean(HY,(CN3),(740),(false))
	elseif Count>MKO then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call TriggerRegisterTimerEvent(CM3,0.5/MKO,true)
		call TriggerAddCondition(CM3,Condition(function Func4173))
		call SaveInteger(HY,(CN3),(18),(Count))
		call SaveBoolean(HY,(CN3),(727),(false))
		call SaveUnitHandle(HY,(CN3),(14),(Hero))
		call SaveGroupHandle(HY,(CN3),(16),(GetAvailableGroup()))
		call SaveBoolean(HY,(CN3),(740),(false))
	endif
	set t=null
	set Hero=null
	set CL3=null
	set CM3=null
	return false
endfunction

function Func4176 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real RM2=Func0159(GetUnitX(Hero),GetUnitY(Hero),GetLocationX(l),GetLocationY(l))
	local integer lvl=GetUnitAbilityLevel(Hero,'A2E3')
	local integer CT3
	local integer MKO
	local trigger CR3=CreateTrigger()
	set CT3=600+200*lvl
	set MKO=CT3/50
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveInteger(HY,(h),(12),(MKO))
	call SaveTriggerHandle(HY,(h),(11),(CR3))
	call SaveReal(HY,(h),(6),((GetUnitX(Hero))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(Hero))*1.0))
	call TriggerRegisterTimerEvent(t,0.5/MKO,true)
	call TriggerAddCondition(t,Condition(function Func4175))
	call RemoveLocation(l)
	set t=null
	set Hero=null
	set l=null
endfunction

function Func4177 takes nothing returns boolean
	if GetSpellAbilityId()=='A2E3' then
		call Func4176()
	endif
	return false
endfunction

function Func4178 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4177))
	set t=null
endfunction

function Func4179 takes unit source returns nothing
	local integer Count=(LoadInteger(HY,(GetHandleId(source)),(728)))
	local integer lvl=GetUnitAbilityLevel(source,'A2E4')
	local integer i=1
	set Count=IMinBJ(Count,4*lvl)
	loop
		exitwhen i>20
		if Count==i then
			call UnitAddAbilityPermanent(source,integers180[i])
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),integers180[i],false)
		else
			call UnitRemoveAbility(source,integers180[i])
		endif
		set i=i+1
	endloop
endfunction

function Func4180 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer Count=(LoadInteger(HY,(GetHandleId(source)),(728)))-1
	call SaveInteger(HY,(GetHandleId(source)),(728),(Count))
	call Func4179(source)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func4181 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local integer Count=(LoadInteger(HY,(GetHandleId(source)),(728)))+1
	if IsUnitEnemy(GetAttacker(),GetOwningPlayer(source)) then
		call SaveInteger(HY,(GetHandleId(source)),(728),(Count))
		call Func4179(source)
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,16,false)
		call TriggerRegisterDeathEvent(t,source)
		call TriggerAddCondition(t,Condition(function Func4180))
		call SaveUnitHandle(HY,(h),(2),(source))
	endif
	set t=null
	set source=null
	return false
endfunction

function Func4182 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func4181))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
endfunction

function Func4183 takes nothing returns boolean
	if GetLearnedSkill()=='A2E4' and GetUnitAbilityLevel(GetTriggerUnit(),'A2E4')==1 and IsUnitIllusion(GetTriggerUnit())==false then
		call Func4182()
	endif
	return false
endfunction

function Func4184 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func4183))
	set t=null
	set integers180[1]='A2DG'
	set integers180[2]='A2DF'
	set integers180[3]='A2DL'
	set integers180[4]='A2DM'
	set integers180[5]='A2DJ'
	set integers180[6]='A2DI'
	set integers180[7]='A2DN'
	set integers180[8]='A2DO'
	set integers180[9]='A2DH'
	set integers180[10]='A2DU'
	set integers180[11]='A2DP'
	set integers180[12]='A2DQ'
	set integers180[13]='A2DR'
	set integers180[14]='A2DS'
	set integers180[15]='A2DT'
	set integers180[16]='A2DK'
	set integers180[17]='A2OT'
	set integers180[18]='A2OS'
	set integers180[19]='A2OU'
	set integers180[20]='A2OV'
endfunction

function Func4185 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call UnitRemoveAbility(source,'Bpig')
	call UnitRemoveAbility(source,'BEia')
	call UnitRemoveAbility(source,'A2FX')
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func4186 takes unit source,unit target returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	local integer Z43=R2I(100*GetUnitState(target,UNIT_STATE_LIFE)/GetUnitState(target,UNIT_STATE_MAX_LIFE))
	local integer lvl=Func0131(Func0130(R2I(100-Z43)/5,20),1)
	call UnitAddAbility(caster,'A2DV')
	call SetUnitAbilityLevel(caster,'A2DV',lvl)
	call IssueTargetOrder(caster,"slow",target)
	set caster=null
endfunction

function Func4187 takes nothing returns nothing
	if boolean036==false and((LoadInteger(HY,(GetHandleId((GetEnumUnit()))),((4349))))==1)==false then
		call AddTimedKeyToUnit(GetEnumUnit(),4348,0.49)
		call DamageTarget(unit410,GetEnumUnit(),3,(25+25*integer553)*0.5)
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
		call Func4186(unit410,GetEnumUnit())
	endif
endfunction

function Func4188 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group041)==false then
		call GroupAddUnit(group041,GetEnumUnit())
		call DamageTarget(unit410,GetEnumUnit(),3,60+40*integer553)
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
		call Func4186(unit410,GetEnumUnit())
	endif
endfunction

function Func4189 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real QJI=(LoadReal(HY,(h),(6)))
	local real QKI=(LoadReal(HY,(h),(7)))
	local real x
	local real y
	local real a
	local integer ON6=(LoadInteger(HY,(h),(33)))
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	local group g
	local integer Count=(LoadInteger(HY,(h),(34)))
	local real OS6
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A2FX' then
			call SaveInteger(HY,(h),(33),(2))
			call GroupClear(PR2)
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2FX',false)
			set t=CreateTrigger()
			set h=GetHandleId(t)
			call TriggerRegisterTimerEvent(t,0,false)
			call TriggerAddCondition(t,Condition(function Func4185))
			call SaveUnitHandle(HY,(h),(2),(source))
		endif
	elseif GetTriggerEventId()==EVENT_WIDGET_DEATH or(LoadInteger(HY,(GetHandleId(source)),(704)))==-1 then
		call Func0262(source)
		if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A2E5' then
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2E5',true)
		endif
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2FX',false)
		call UnitRemoveAbility(source,'A2FX')
		call UnitRemoveAbility(source,'Bpig')
		call UnitRemoveAbility(source,'BEia')
		call KillUnit(IG1)
		call KillGroup(PR2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif ON6==0 then
		set a=Func0159(GetUnitX(IG1),GetUnitY(IG1),QJI,QKI)*bj_DEGTORAD
		set x=GetUnitX(IG1)+18*Cos(a)
		set y=GetUnitY(IG1)+18*Sin(a)
		call KillTrees(x,y,175)
		if Func0141(x,y,QJI,QKI)<40 then
			set x=QJI
			set y=QKI
		endif
		call SetUnitX(IG1,x)
		call SetUnitY(IG1,y)
		set tt_unit1=source
		set unit410=source
		set integer553=GetUnitAbilityLevel(source,'A2E5')
		set group041=PR2
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,x,y,real399+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func4188)
		call KillGroup(g)
		if x==QJI and y==QKI then
			call SaveInteger(HY,(h),(33),(1))
			call GroupClear(PR2)
		endif
	elseif ON6==1 then
		set Count=Count+1
		if Count==25 then
			set x=GetUnitX(IG1)
			set y=GetUnitY(IG1)
			call KillTrees(x,y,175)
			set Count=0
			set tt_unit1=source
			set unit410=source
			set integer553=GetUnitAbilityLevel(source,'A2E5')
			set g=GetAvailableGroup()
			call GroupEnumUnitsInRange(g,x,y,real400+25,Condition(function DefaultEnemyFilterWithAncients))
			call ForGroup(g,function Func4187)
			call KillGroup(g)
			set OS6=(15+5*integer553)/2
			if GetUnitState(source,UNIT_STATE_MANA)<OS6 or Func0139(source,IG1)>2000 then
				call SaveInteger(HY,(h),(33),(2))
				call GroupClear(PR2)
				call UnitRemoveAbility(source,'A2FX')
				call UnitRemoveAbility(source,'Bpig')
				call UnitRemoveAbility(source,'BEia')
			else
				call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MANA)-OS6)
			endif
		endif
		call SaveInteger(HY,(h),(34),(Count))
	elseif ON6==2 then
		set a=Func0159(GetUnitX(IG1),GetUnitY(IG1),GetUnitX(source),GetUnitY(source))*bj_DEGTORAD
		set x=GetUnitX(IG1)+16*Cos(a)
		set y=GetUnitY(IG1)+16*Sin(a)
		call KillTrees(x,y,175)
		call SetUnitX(IG1,x)
		call SetUnitY(IG1,y)
		set tt_unit1=source
		set unit410=source
		set integer553=GetUnitAbilityLevel(source,'A2E5')
		set group041=PR2
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,x,y,real399+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func4188)
		call KillGroup(g)
		if Func0141(x,y,GetUnitX(source),GetUnitY(source))<40 then
			call Func0262(source)
			call KillUnit(IG1)
			call KillGroup(PR2)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A2E5' then
				call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2E5',true)
			endif
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2FX',false)
		endif
	endif
	set t=null
	set source=null
	set IG1=null
	set PR2=null
	set g=null
	return false
endfunction

function Func4190 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local real a=Func0159(GetUnitX(source),GetUnitY(source),x,y)*bj_DEGTORAD
	local unit IG1=CreateUnit(GetOwningPlayer(source),'h0DS',GetUnitX(source),GetUnitY(source),a*bj_RADTODEG)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4189))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveInteger(HY,(h),(33),(0))
	call SaveGroupHandle(HY,(h),(187),(GetAvailableGroup()))
	call Func0261(source)
	call UnitAddAbilityPermanent(source,'A2FX')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2E5',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2FX',true)
	set source=null
	set t=null
	set IG1=null
endfunction

function Func4191 takes nothing returns boolean
	if GetSpellAbilityId()=='A2E5' then
		call Func4190()
	endif
	return false
endfunction

function Func4192 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4191))
	call Func0125('A2DV')
	set t=null
endfunction

function Func4193 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call UnitRemoveAbility(source,'Bpig')
	call UnitRemoveAbility(source,'BEia')
	call UnitRemoveAbility(source,'A2E6')
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func4194 takes unit source,unit target returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	local integer Z43=R2I(100*GetUnitState(target,UNIT_STATE_LIFE)/GetUnitState(target,UNIT_STATE_MAX_LIFE))
	local integer lvl=Func0131(Func0130(R2I(100-Z43)/5,20),1)
	call UnitAddAbility(caster,'A2DV')
	call SetUnitAbilityLevel(caster,'A2DV',lvl)
	call IssueTargetOrder(caster,"slow",target)
	set caster=null
endfunction

function Func4195 takes nothing returns nothing
	if boolean036==false and((LoadInteger(HY,(GetHandleId((GetEnumUnit()))),((4348))))==1)==false then
		call AddTimedKeyToUnit(GetEnumUnit(),4349,0.49)
		call DamageTarget(unit411,GetEnumUnit(),3,(25+25*integer554)*0.5)
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
		call Func4194(unit411,GetEnumUnit())
	endif
endfunction

function Func4196 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group042)==false then
		call GroupAddUnit(group042,GetEnumUnit())
		call DamageTarget(unit411,GetEnumUnit(),3,60+40*integer554)
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
		call Func4194(unit411,GetEnumUnit())
	endif
endfunction

function Func4197 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real QJI=(LoadReal(HY,(h),(6)))
	local real QKI=(LoadReal(HY,(h),(7)))
	local real x
	local real y
	local real a
	local integer ON6=(LoadInteger(HY,(h),(33)))
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	local group g
	local integer Count=(LoadInteger(HY,(h),(34)))
	local real OS6
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A2E6' then
			call SaveInteger(HY,(h),(33),(2))
			call GroupClear(PR2)
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2E6',false)
			set t=CreateTrigger()
			set h=GetHandleId(t)
			call TriggerRegisterTimerEvent(t,0,false)
			call TriggerAddCondition(t,Condition(function Func4193))
			call SaveUnitHandle(HY,(h),(2),(source))
		endif
	elseif GetTriggerEventId()==EVENT_WIDGET_DEATH or(LoadInteger(HY,(GetHandleId(source)),(704)))==-1 then
		call Func0262(source)
		if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A2YO' then
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2YO',true)
		endif
		call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2E6',false)
		call UnitRemoveAbility(source,'A2E6')
		call UnitRemoveAbility(source,'Bpig')
		call UnitRemoveAbility(source,'BEia')
		call KillUnit(IG1)
		call KillGroup(PR2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif ON6==0 then
		set a=Func0159(GetUnitX(IG1),GetUnitY(IG1),QJI,QKI)*bj_DEGTORAD
		set x=GetUnitX(IG1)+18*Cos(a)
		set y=GetUnitY(IG1)+18*Sin(a)
		call KillTrees(x,y,175)
		if Func0141(x,y,QJI,QKI)<40 then
			set x=QJI
			set y=QKI
		endif
		call SetUnitX(IG1,x)
		call SetUnitY(IG1,y)
		set tt_unit1=source
		set unit411=source
		set integer554=GetUnitAbilityLevel(source,'A2YO')
		set group042=PR2
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,x,y,real401+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func4196)
		call KillGroup(g)
		if x==QJI and y==QKI then
			call SaveInteger(HY,(h),(33),(1))
			call GroupClear(PR2)
		endif
	elseif ON6==1 then
		set Count=Count+1
		if Count==25 then
			set x=GetUnitX(IG1)
			set y=GetUnitY(IG1)
			call KillTrees(x,y,175)
			set Count=0
			set tt_unit1=source
			set unit411=source
			set integer554=GetUnitAbilityLevel(source,'A2YO')
			set g=GetAvailableGroup()
			call GroupEnumUnitsInRange(g,x,y,real402+25,Condition(function DefaultEnemyFilterWithAncients))
			call ForGroup(g,function Func4195)
			call KillGroup(g)
			set OS6=(15+5*integer554)/2
			if GetUnitState(source,UNIT_STATE_MANA)<OS6 or Func0139(source,IG1)>2000 then
				call SaveInteger(HY,(h),(33),(2))
				call GroupClear(PR2)
				call UnitRemoveAbility(source,'A2E6')
				call UnitRemoveAbility(source,'Bpig')
				call UnitRemoveAbility(source,'BEia')
			else
				call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MANA)-OS6)
			endif
		endif
		call SaveInteger(HY,(h),(34),(Count))
	elseif ON6==2 then
		set a=Func0159(GetUnitX(IG1),GetUnitY(IG1),GetUnitX(source),GetUnitY(source))*bj_DEGTORAD
		set x=GetUnitX(IG1)+16*Cos(a)
		set y=GetUnitY(IG1)+16*Sin(a)
		call KillTrees(x,y,175)
		call SetUnitX(IG1,x)
		call SetUnitY(IG1,y)
		set tt_unit1=source
		set unit411=source
		set integer554=GetUnitAbilityLevel(source,'A2YO')
		set group042=PR2
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,x,y,real401+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func4196)
		call KillGroup(g)
		if Func0141(x,y,GetUnitX(source),GetUnitY(source))<40 then
			call Func0262(source)
			call KillUnit(IG1)
			call KillGroup(PR2)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			if(LoadInteger(HY,(GetHandleId(source)),(704)))==0 or(LoadInteger(HY,(GetHandleId(source)),(704)))=='A2YO' then
				call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2YO',true)
			endif
			call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2E6',false)
		endif
	endif
	set t=null
	set source=null
	set IG1=null
	set PR2=null
	set g=null
	return false
endfunction

function Func4198 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local real a=Func0159(GetUnitX(source),GetUnitY(source),x,y)*bj_DEGTORAD
	local unit IG1=CreateUnit(GetOwningPlayer(source),'h0DS',GetUnitX(source),GetUnitY(source),a*bj_RADTODEG)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4197))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveInteger(HY,(h),(33),(0))
	call SaveGroupHandle(HY,(h),(187),(GetAvailableGroup()))
	call Func0261(source)
	call UnitAddAbilityPermanent(source,'A2E6')
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2YO',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(source),'A2E6',true)
	set source=null
	set t=null
	set IG1=null
endfunction

function Func4199 takes nothing returns boolean
	if GetSpellAbilityId()=='A2YO' then
		call Func4198()
	endif
	return false
endfunction

function Func4200 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4199))
	call Func0125('A2DV')
	set t=null
endfunction

function Func4201 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetTriggerUnit()==source and GetLearnedSkill()=='A2E5' then
		call SetUnitAbilityLevel(source,'A2YO',GetUnitAbilityLevel(source,'A2E5'))
	endif
	set t=null
	set source=null
	return false
endfunction

function Func4202 takes nothing returns nothing
	local unit source=tt_unit1
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call UnitAddAbilityPermanent(source,'A2YO')
	call SetUnitAbilityLevel(source,'A2YO',GetUnitAbilityLevel(source,'A2E5'))
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func4201))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
endfunction

function Trap_RemoveBonus takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if((LoadInteger(HY,(GetHandleId(source)),(754)))==(LoadInteger(HY,(h),(754))))then
		call Func0366((source),(0))
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func4203 takes nothing returns nothing
	if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) then
		set integer555=integer555+60
	else
		set integer555=integer555+20
	endif
	call UnitRemoveAbility(GetEnumUnit(),'A2LE')
	call UnitRemoveAbility(GetEnumUnit(),'B0G1')
endfunction

function Func4204 takes nothing returns nothing
	if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) then
		set integer555=integer555+60
	else
		set integer555=integer555+20
	endif
endfunction

function Func4205 takes nothing returns nothing
	call StunTargetIF(unit412,GetEnumUnit(),0.5+integer556*0.5)
	call DamageTarget(unit412,GetEnumUnit(),1,integer555)
endfunction

function Func4206 takes nothing returns boolean
	return GetUnitAbilityLevel(GetFilterUnit(),'B0G1')>0
endfunction

function Func4207 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local group g=GetAvailableGroup()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	set unit412=source
	set integer556=GetUnitAbilityLevel(source,'A2L9')
	set integer555=0
	call GroupEnumUnitsInRange(g,0,0,9999,Condition(function Func4206))
	call ForGroup(g,function Func4203)
	call ForGroup(g,function Func4205)
	call KillGroup(g)
	set g=null
	set source=null
endfunction

function Func4208 takes nothing returns boolean
	if GetSpellAbilityId()=='A2L9' then
		call Func4207()
	endif
	return false
endfunction

function Func4209 takes string UWI,unit target,unit Hero returns nothing
	local texttag tt=CreateTextTag()
	call SetTextTagText(tt,UWI,0.033)
	call SetTextTagPosUnit(tt,target,64)
	call SetTextTagColor(tt,0,75,255,255)
	call SetTextTagVelocity(tt,0,0.0355)
	call SetTextTagFadepoint(tt,0.15)
	call SetTextTagPermanent(tt,false)
	call SetTextTagLifespan(tt,1.0)
	if IsUnitAlly(Hero,LocalPlayer)or Func0100(LocalPlayer)then
		call SetTextTagVisibility(tt,true)
	else
		call SetTextTagVisibility(tt,false)
	endif
	set tt=null
endfunction

function Func4210 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real time=(LoadReal(HY,(GetHandleId(target)),(753)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or time<GetTime()then
		call UnitRemoveAbility(target,'A2LE')
		call UnitRemoveAbility(target,'B0G1')
		call SaveReal(HY,(GetHandleId(target)),(753),((0)*1.0))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	return false
endfunction

function Func4211 takes unit source,unit target returns nothing
	local trigger t
	local integer h
	local group g=GetAvailableGroup()
	call SaveReal(HY,(GetHandleId(target)),(753),((GetTime()+real403)*1.0))
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.25,true)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerAddCondition(t,Condition(function Func4210))
	call SaveUnitHandle(HY,(h),(17),(target))
	call UnitAddAbilityPermanent(target,'A2LE')
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2LE',false)
	set unit412=source
	set integer556=GetUnitAbilityLevel(source,'A2L9')
	set integer555=0
	call GroupEnumUnitsInRange(g,0,0,9999,Condition(function Func4206))
	call ForGroup(g,function Func4204)
	call KillGroup(g)
	call Func4209(I2S(integer555),target,source)
	set t=null
endfunction

function Func4212 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		if GetEventDamageSource()==source and GetEventDamage()>0 then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			if Func0255(target)==false then
				call Func4211(source,target)
			endif
		endif
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4213 takes nothing returns nothing
	local unit source=GetAttacker()
	local unit target=GetTriggerUnit()
	local trigger t
	local integer h
	if((LoadInteger(HY,(GetHandleId((source))),((4325))))==1)==false then
		call AddTimedKeyToUnit(source,4325,0.2)
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
		call TriggerRegisterTimerEvent(t,2.5,false)
		call TriggerAddCondition(t,Condition(function Func4212))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
	endif
	set source=null
	set target=null
endfunction

function Func4214 takes nothing returns boolean
	if GetUnitAbilityLevel(GetAttacker(),'A2L9')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(GetTriggerUnit())!='n00L' and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
		call Func4213()
	endif
	return false
endfunction

function Func4215 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4208))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func4214))
	set t=null
endfunction

function Func4216 takes nothing returns nothing
	local integer h=GetHandleId(GetTriggeringTrigger())
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit AG6=tt_unit1
	local unit target=tt_unit2
	local integer lvl=GetUnitAbilityLevel(source,'A2LA')
	if Func0091(target)==false then
		call DamageTarget(source,target,1,20+80*lvl)
		call Func0228(target,'A2MK',1,4,'B0G4')
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2MK',false)
		call UnitMakeAbilityPermanent(target,true,'A2MJ')
	endif
	set source=null
	set target=null
	set AG6=null
endfunction

function Func4217 takes nothing returns nothing
	local unit source=unit413
	local unit target=GetEnumUnit()
	local trigger t=AddProjectile(unit414,target,'h0EE',"Func4216",600,false)
	local integer h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(2),(source))
	set source=null
	set target=null
	set t=null
endfunction

function Func4218 takes unit source,unit target returns nothing
	local integer lvl=GetUnitAbilityLevel(source,'A2LA')
	local group g=GetAvailableGroup()
	set tt_unit1=source
	set unit413=source
	set unit414=target
	call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),500+25,Condition(function DefaultEnemyFilterWithAncients))
	call GroupRemoveUnit(g,target)
	call ForGroup(g,function Func4217)
	call KillGroup(g)
	set source=null
	set target=null
	set g=null
endfunction

function Func4219 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local real x=GetUnitX(IG1)
	local real y=GetUnitY(IG1)
	local real QJI=GetUnitX(target)
	local real QKI=GetUnitY(target)
	local real AW6=Func0168(QJI,QKI,x,y)
	local integer Count=GetTriggerEvalCount(t)
	local real IZ1=Func0159(x,y,QJI,QKI)
	local real IV1
	local real IW1
	local real IH1=AW6/((real404/.02)-Count)
	if IH1<real405*0.02 then
		set IH1=real405*0.02
	endif
	set IV1=x+IH1*Cos(IZ1*bj_DEGTORAD)
	set IW1=y+IH1*Sin(IZ1*bj_DEGTORAD)
	call SetUnitX(IG1,IV1)
	call SetUnitY(IG1,IW1)
	call SetUnitFacing(IG1,IZ1)
	if Func0168(QJI,QKI,IV1,IW1)<=IH1 then
		call KillUnit(IG1)
		call Func4218(source,target)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	set source=null
	set IG1=null
	return false
endfunction

function Func4220 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit IG1=CreateUnit(GetOwningPlayer(source),'h0EJ',GetUnitX(source),GetUnitY(source),0)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func4219))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	set source=null
	set target=null
	set IG1=null
	set t=null
endfunction

function Func4221 takes nothing returns boolean
	if GetSpellAbilityId()=='A2LA' and IsBlocked(GetSpellTargetUnit())==false then
		call Func4220()
	endif
	return false
endfunction

function Func4222 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4221))
	set t=null
endfunction

function Func4223 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A2LB')
	call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)+0.1*(20+GetUnitState(target,UNIT_STATE_MAX_LIFE)*(0.02+0.01*lvl)))
	if GetTriggerEvalCount(t)>39 or(GetTriggerEvalCount(t)==1 and IsUnitHidden(target))then
		call UnitRemoveAbility(target,'A2LD')
		call DestroyEffect((LoadEffectHandle(HY,(h),(609))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(610))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(611))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(612))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(613))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(614))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(615))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(616))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(617))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4224 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t
	local integer h
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbility(caster,'A2LG')
	if IssueTargetOrder(caster,"thunderbolt",target) then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call UnitAddAbilityPermanent(target,'A2LD')
		call TriggerRegisterTimerEvent(t,0.1,true)
		call TriggerRegisterTimerEvent(t,0,false)
		call TriggerAddCondition(t,Condition(function Func4223))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveEffectHandle(HY,(h),(609),(AddSpecialEffectTarget("war3mapImported\\Cryofreeze5.mdx",target,"hand right")))
		call SaveEffectHandle(HY,(h),(610),(AddSpecialEffectTarget("war3mapImported\\Cryofreeze5.mdx",target,"hand left")))
		call SaveEffectHandle(HY,(h),(611),(AddSpecialEffectTarget("war3mapImported\\Cryofreeze5.mdx",target,"foot right")))
		call SaveEffectHandle(HY,(h),(612),(AddSpecialEffectTarget("war3mapImported\\Cryofreeze5.mdx",target,"foot left")))
		call SaveEffectHandle(HY,(h),(613),(AddSpecialEffectTarget("war3mapImported\\Cryofreeze5.mdx",target,"foot right mount rear")))
		call SaveEffectHandle(HY,(h),(614),(AddSpecialEffectTarget("war3mapImported\\Cryofreeze5.mdx",target,"foot left mount rear")))
		call SaveEffectHandle(HY,(h),(615),(AddSpecialEffectTarget("war3mapImported\\Cryofreeze5.mdx",target,"head")))
		call SaveEffectHandle(HY,(h),(616),(AddSpecialEffectTarget("war3mapImported\\Cryofreeze5.mdx",target,"chest")))
		call SaveEffectHandle(HY,(h),(617),(AddSpecialEffectTarget("war3mapImported\\Cryofreeze5.mdx",target,"weapon")))
	endif
	set source=null
	set target=null
	set t=null
endfunction

function Func4225 takes nothing returns boolean
	if GetSpellAbilityId()=='A2LB' then
		call Func4224()
	endif
	return false
endfunction

function Func4226 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4225))
	set t=null
endfunction

function Func4227 takes nothing returns nothing
	local unit target=GetEnumUnit()
	call DisableTrigger(trigger071)
	call UnitWakeUp(target)
	call IssueTargetOrder(target,"attack",unit415)
	call EnableTrigger(trigger071)
	set target=null
endfunction

function Func4228 takes nothing returns nothing
	call AddTimedKeyToUnit(GetEnumUnit(),4328,0.75)
endfunction

function Func4229 takes nothing returns nothing
	local unit target=GetEnumUnit()
	if IsUnitInGroup(target,group043)==false then
		call GroupAddUnit(group043,target)
		call TriggerRegisterUnitEvent(trigger071,target,EVENT_UNIT_ISSUED_TARGET_ORDER)
		call TriggerRegisterUnitEvent(trigger071,target,EVENT_UNIT_ISSUED_POINT_ORDER)
		call TriggerRegisterUnitEvent(trigger071,target,EVENT_UNIT_ISSUED_TARGET_ORDER)
		call SaveInteger(HY,(GetHandleId((target))),((4328)),(1))
	endif
	set target=null
endfunction

function Func4230 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local group PR2=(LoadGroupHandle(HY,(h),(22)))
	local group g
	if GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER then
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
		set group043=PR2
		set trigger071=t
		set g=GetAvailableGroup()
		set tt_unit1=source
		call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),350+25,Condition(function DefaultEnemyFilterWithAncients))
		call GroupRemoveUnit(g,target)
		call ForGroup(g,function Func4229)
		call KillGroup(g)
		if Count==(2.25+0.25*lvl)*20 or IsDead(target)then
			call ForGroup(PR2,function Func4228)
			call KillGroup(PR2)
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		else
			set trigger071=t
			set unit415=target
			call ForGroup(PR2,function Func4227)
			if ModuloInteger(Count,20)==0 or Count==0 then
			endif
		endif
	else
		if UnitIsSleeping(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'B008')==0 and GetIssuedOrderId()!=851973 and boolean145==false then
			call DisableTrigger(t)
			call ClearSelectionForPlayer(GetOwningPlayer(GetTriggerUnit()))
			call IssueTargetOrder(GetTriggerUnit(),"attack",target)
			call EnableTrigger(t)
		endif
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4231 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A0Z0')
	local unit target=GetSpellTargetUnit()
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbility(caster,'A2NJ')
	call SetUnitAbilityLevel(caster,'A2NJ',lvl)
	call IssueTargetOrder(caster,"thunderbolt",target)
	set unit416=source
	call TriggerRegisterTimerEvent(t,0.05,true)
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveGroupHandle(HY,(h),(22),(GetAvailableGroup()))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\WintersCurse.mdx",target,"overhead")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffect("war3mapImported\\WintersCurseAoE.mdx",GetUnitX(target),GetUnitY(target))))
	call TriggerAddCondition(t,Condition(function Func4230))
	set source=null
	set target=null
	set t=null
endfunction

function Func4232 takes nothing returns boolean
	if GetSpellAbilityId()=='A0Z0' and IsBlocked(GetSpellTargetUnit())==false then
		call Func4231()
	endif
	return false
endfunction

function Func4233 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4232))
	set t=null
endfunction

function Func4234 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A2N3')
	call DamageTarget(source,target,3,(0.032+0.002*lvl)*GetUnitState(target,UNIT_STATE_MAX_LIFE))
	if GetTime()>=(LoadReal(HY,(GetHandleId(source)),(782)))then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4235 takes unit source,unit target returns nothing
	local trigger t
	local integer h
	call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MANA)*0.8)
	if(LoadReal(HY,(GetHandleId(source)),(782)))>GetTime()then
		call SaveReal(HY,(GetHandleId(source)),(782),((GetTime()+real406)*1.0))
	else
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func4234))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("effects\\BasicWaterFlash.mdx",target,"chest")))
		call SaveReal(HY,(GetHandleId(source)),(782),((GetTime()+real406)*1.0))
	endif
	set t=null
endfunction

function Func4236 takes nothing returns boolean
	local real d
	local real time
	local integer Count
	local unit source
	local unit target
	if GetUnitAbilityLevel(GetTriggerUnit(),'B0G7')>0 and GetUnitAbilityLevel(GetEventDamageSource(),'A2N3')>0 and(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(2)))==GetEventDamageSource()then
		set source=GetEventDamageSource()
		set target=GetTriggerUnit()
		set Count=(LoadInteger(HY,(GetHandleId(source)),(780)))
		set time=(LoadReal(HY,(GetHandleId(source)),(781)))
		if time+real406<GetTime()then
			set Count=1
			set time=GetTime()
			call SaveInteger(HY,(GetHandleId(source)),(780),(Count))
			call SaveReal(HY,(GetHandleId(source)),(781),((time)*1.0))
		else
			set Count=Count+1
			set time=GetTime()
			call SaveInteger(HY,(GetHandleId(source)),(780),(Count))
			call SaveReal(HY,(GetHandleId(source)),(781),((time)*1.0))
		endif
		if Count==4 then
			set Count=0
			call SaveInteger(HY,(GetHandleId(source)),(780),(Count))
			call Func4235(source,target)
		endif
		call FlushChildHashtable(HY,(GetHandleId(GetTriggeringTrigger())))
		call CleanTrigger(GetTriggeringTrigger())
	endif
	return false
endfunction

function Func4237 takes nothing returns nothing
	local trigger t
	local unit target
	local unit source
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		set target=GetSpellTargetUnit()
		set source=GetTriggerUnit()
	else
		set target=GetTriggerUnit()
		set source=GetAttacker()
	endif
	if IsUnitIllusion(source)==false then
		set t=CreateTrigger()
		if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
			call SaveBoolean(HY,(GetHandleId(t)),(264),(true))
		else
			call SaveBoolean(HY,(GetHandleId(t)),(264),(false))
		endif
		call SaveUnitHandle(HY,(GetHandleId(t)),(2),(source))
		call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
		call TriggerAddCondition(t,Condition(function Func4236))
	endif
	set t=null
	set target=null
	set source=null
endfunction

function Func4238 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
		if GetUnitAbilityLevel(GetAttacker(),'A2N3')>0 and(LoadBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(263)))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(14)))then
			call Func4237()
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
		if(GetIssuedOrderId()==OrderId("poisonarrows"))then
			call SaveBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(263),(true))
		elseif(GetIssuedOrderId()==OrderId("unpoisonarrows"))then
			call SaveBoolean(HY,(GetHandleId(GetTriggeringTrigger())),(263),(false))
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A2N3' then
		call Func4237()
	endif
	return false
endfunction

function Func4239 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_SPELL_EFFECT)
	call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_ORDER)
	call TriggerAddCondition(t,Condition(function Func4238))
	call SaveUnitHandle(HY,(GetHandleId(t)),(14),(GetTriggerUnit()))
	set t=null
endfunction

function Func4240 takes nothing returns boolean
	if GetLearnedSkill()=='A2N3' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A2N3')==1 then
		call Func4239()
	endif
	return false
endfunction

function Func4241 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func4240))
	set t=null
endfunction

function Func4242 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call KillUnit(caster)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		set t=null
		set source=null
		set caster=null
		return false
	endif
	if IsDead(source)==false then
		call SetUnitX(caster,GetUnitX(source))
		call SetUnitY(caster,GetUnitY(source))
	else
		if IsUnitAlly(caster,Sentinels[0]) then
			call SetUnitX(caster,GetUnitX(unit130))
			call SetUnitY(caster,GetUnitY(unit130))
		else
			call SetUnitX(caster,GetUnitX(unit174))
			call SetUnitY(caster,GetUnitY(unit174))
		endif
	endif
	set t=null
	set source=null
	set caster=null
	return false
endfunction

function Func4243 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if IsDead(target)==false then
		call DamageTarget(source,target,7,GetUnitState(target,UNIT_STATE_LIFE)*0.06)
	endif
	if GetTriggerEvalCount(t)==5 then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4244 takes unit source,unit target returns nothing
	local trigger t
	local integer h
	local integer lvl
	local integer B66
	local integer B76
	if((LoadInteger(HY,(GetHandleId((target))),((4329))))==1)==false and GetUnitTypeId(target)!='n00L' then
		call AddTimedKeyToUnit(target,4329,real407)
		set lvl=GetUnitAbilityLevel(source,'A2NE')
		if lvl==1 then
			set B66='A2NB'
			set B76='A2NA'
		elseif lvl==2 then
			set B66='A2N6'
			set B76='A2N8'
		elseif lvl==3 then
			set B66='A2NC'
			set B76='A2N7'
		elseif lvl==4 then
			set B66='A2ND'
			set B76='A2N9'
		endif
		call Func0228(target,B66,1,5,'B0GA')
		call SetPlayerAbilityAvailable(GetOwningPlayer(target),B66,false)
		call UnitMakeAbilityPermanent(target,true,B76)
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func4243))
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostDamage\\FrostDamage.mdl",target,"chest")))
	endif
endfunction

function Func4245 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetEventDamageSource()==source then
			call DisableTrigger(t)
			call Func4244(source,target)
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set target=null
	set source=null
	return false
endfunction

function Func4246 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local unit target=GetTriggerUnit()
	local unit source=GetAttacker()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,2.5,false)
	call TriggerAddCondition(t,Condition(function Func4245))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	set t=null
	set target=null
	set source=null
endfunction

function Func4247 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
		if GetAttacker()==(LoadUnitHandle(HY,(GetHandleId(GetTriggeringTrigger())),(2)))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false then
			if GetUnitTypeId(GetAttacker())=='N0MB' or GetUnitTypeId(GetAttacker())=='N0MC' or GetUnitTypeId(GetAttacker())=='N0MO' or GetUnitTypeId(GetAttacker())=='N0MA' then
				call Func4246()
			endif
		endif
	else
		call Func4242()
	endif
	return false
endfunction

function Func4248 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local unit caster=CreateUnit(GetOwningPlayer(source),'o01Y',GetUnitX(source),GetUnitY(source),0)
	if IsUnitIllusion(source)==false then
		call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	else
		call TriggerRegisterDeathEvent(t,source)
	endif
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func4247))
	call SaveUnitHandle(HY,(GetHandleId(t)),(2),(source))
	call SaveUnitHandle(HY,(GetHandleId(t)),(19),(caster))
	set source=null
	set caster=null
	set t=null
endfunction

function Func4249 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,false)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	return false
endfunction

function Func4250 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,true)
	call TriggerRegisterTimerEvent(t,0,false)
	call TriggerAddCondition(t,Condition(function Func4249))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	set source=null
	set t=null
endfunction

function Func4251 takes nothing returns boolean
	if GetTriggerEventId()==EVENT_PLAYER_HERO_SKILL then
		if GetLearnedSkill()=='A2NE' and GetUnitAbilityLevel(GetTriggerUnit(),'A2NE')==1 then
			call Func4248()
		endif
	else
		if GetSpellAbilityId()=='A2NE' then
			if GetUnitTypeId(GetTriggerUnit())!='N0M7' then
				call KillTrees(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),150)
				if IsTerrainPathable(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),PATHING_TYPE_WALKABILITY)then
					call Func4250()
				endif
			endif
		endif
	endif
	return false
endfunction

function Func4252 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4251))
	set t=null
endfunction

function Func4253 takes nothing returns nothing
	call StunTargetIF(unit417,GetEnumUnit(),1.5)
	call DamageTarget(unit417,GetEnumUnit(),2,50+50*integer557)
endfunction

function Func4254 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real a=(LoadReal(HY,(h),(137)))
	local real QJI=(LoadReal(HY,(h),(47)))
	local real QKI=(LoadReal(HY,(h),(48)))
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local group g=GetAvailableGroup()
	local integer lvl=GetUnitAbilityLevel(source,'A2F4')
	set x=SafeX50(x+32*Cos(a))
	set y=SafeY50(y+32*Sin(a))
	if Func0141(x,y,QJI,QKI)<40 then
		set x=QJI
		set y=QKI
	endif
	call SetUnitX(source,x)
	call SetUnitY(source,y)
	call SetUnitFacing(source,a*bj_RADTODEG)
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,x,y,125+25,Condition(function DefaultEnemyFilterWithAncients))
	if FirstOfGroup(g)!=null or(x==QJI and y==QKI)or GetTriggerEvalCount(t)>200 or GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call DestroyEffect(AddSpecialEffect("war3mapImported\\BlackDragonMissile.mdx",x,y))
		call GroupEnumUnitsInRange(g,x,y,300+25,Condition(function DefaultEnemyFilterWithAncients))
		set integer557=lvl
		set unit417=source
		if GetTriggerEventId()!=EVENT_WIDGET_DEATH then
			call ForGroup(g,function Func4253)
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	call KillGroup(g)
	set t=null
	set source=null
	set g=null
	return false
endfunction

function Func4255 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local real QJI=GetSpellTargetX()
	local real QKI=GetSpellTargetY()
	local real a=Func0159(x,y,QJI,QKI)*bj_DEGTORAD
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerAddCondition(t,Condition(function Func4254))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveReal(HY,(h),(47),((QJI)*1.0))
	call SaveReal(HY,(h),(48),((QKI)*1.0))
	set source=null
	set t=null
endfunction

function Func4256 takes nothing returns boolean
	if GetSpellAbilityId()=='A2F4' then
		call Func4255()
	endif
	return false
endfunction

function Register_SonicBoom takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4256))
	set t=null
endfunction

function Func4257 takes nothing returns nothing
	local unit source=unit418
	local unit target=GetEnumUnit()
	call Func0225(target,'A2F3',1,10)
	call DamageTarget(source,target,2,50*integer558+2*GetHeroAgi(source,true))
	set source=null
	set target=null
endfunction

function Func4258 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real C54=Func0133(GetTime()-(LoadReal(HY,(GetHandleId(source)),(358))),5.0)
	local integer lvl=GetUnitAbilityLevel(source,'A2EE')
	local real dmg=(40+80*lvl)*(C54)
	local group g=GetAvailableGroup()
	local real d=C54*600
	local real a=(LoadReal(HY,(GetHandleId(source)),(736)))
	local real x=GetUnitX(source)+d*Cos(a)
	local real y=GetUnitY(source)+d*Sin(a)
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,x,y,325,Condition(function DefaultEnemyFilterWithAncients))
	set integer558=lvl
	set unit418=source
	call ForGroup(g,function Func4257)
	call KillGroup(g)
	call Func0154("effects\\BasicWaterFlash.mdx",x,y,1)
	set source=null
	set g=null
endfunction

function Func4259 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	call SetUnitTimeScale(Hero,1)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if GetTriggerEventId()!=EVENT_UNIT_DEATH then
		call InterruptUnit(Hero)
	endif
	set t=null
	set Hero=null
	return false
endfunction

function Func4260 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	local location l=GetSpellTargetLoc()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local real a=Func0159(GetUnitX(Hero),GetUnitY(Hero),x,y)*bj_DEGTORAD
	local real Q4I=RMaxBJ(Func0141(GetUnitX(Hero),GetUnitY(Hero),x,y)/600,0.32)
	call RemoveLocation(l)
	call SaveReal(HY,(GetHandleId(Hero)),(356),((x)*1.0))
	call SaveReal(HY,(GetHandleId(Hero)),(357),((y)*1.0))
	call SaveReal(HY,(GetHandleId(Hero)),(736),((a)*1.0))
	call SaveReal(HY,(GetHandleId(Hero)),(358),((GetTime())*1.0))
	call SetUnitTimeScale(Hero,0.75)
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call TriggerRegisterTimerEvent(t,Q4I-0.01,false)
	call TriggerRegisterUnitEvent(t,Hero,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func4259))
	set t=null
	set Hero=null
endfunction

function Func4261 takes nothing returns boolean
	if GetSpellAbilityId()=='A2EE' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
			call SaveBoolean(HY,(GetHandleId(GetTriggerUnit())),(360),(false))
			call Func4260()
		elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
			call SaveBoolean(HY,(GetHandleId(GetTriggerUnit())),(360),(true))
		elseif(LoadBoolean(HY,(GetHandleId(GetTriggerUnit())),(360))) then
			call Func4258()
		endif
	endif
	return false
endfunction

function Register_WindBlast takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4261))
	set t=null
endfunction

function Func4262 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	if GetUnitAbilityLevel(source,'B086')==0 and GetUnitAbilityLevel(source,'B087')==0 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitRemoveAbility(source,'A2F2')
		call UnitRemoveAbility(source,'B0F7')
	endif
	set t=null
	set source=null
	return false
endfunction

function Func4263 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit target=GetSpellTargetUnit()
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2F2',false)
	call UnitAddAbilityPermanent(target,'A2F2')
	call TriggerRegisterTimerEvent(t,0.2,true)
	call TriggerAddCondition(t,Condition(function Func4262))
	call SaveUnitHandle(HY,(h),(2),(target))
	set source=null
	set t=null
endfunction

function Func4264 takes nothing returns boolean
	if GetSpellAbilityId()=='A2F0' then
		call Func4263()
	endif
	return false
endfunction

function Register_WindBarrier takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4264))
	set t=null
endfunction

function Func4265 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A2F5')
	local integer id
	local integer E11
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if IsUnitAlly(target,GetOwningPlayer(source)) then
		set E11='B0F8'
		if lvl==1 then
			set id='A2FG'
		elseif lvl==2 then
			set id='A2FF'
		elseif lvl==3 then
			set id='A2FH'
		endif
		call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)+100+50*lvl)
	else
		set E11='B0F9'
		if lvl==1 then
			set id='A2FD'
		elseif lvl==2 then
			set id='A2FC'
		elseif lvl==3 then
			set id='A2FE'
		endif
		call DamageTarget(source,target,1,100+50*lvl)
	endif
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),id,false)
	call Func0228(target,id,1,4,E11)
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4266 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetEnumUnit()
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call RemoveDispellableBuffs(target)
	call SetNapalmFactory(target,0,0)
	call UnitAddAbility(caster,'A2FI')
	call IssueTargetOrder(caster,"cyclone",target)
	call TriggerRegisterTimerEvent(t,4,false)
	call TriggerAddCondition(t,Condition(function Func4265))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	set t=null
	set source=null
	set target=null
	set caster=null
endfunction

function Func4267 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real QJI=GetSpellTargetX()
	local real QKI=GetSpellTargetY()
	local group g=GetAvailableGroup()
	call TimedReveal(GetOwningPlayer(source),4,QJI,QKI,300)
	call GroupEnumUnitsInRange(g,QJI,QKI,400+25,Condition(function Func0267))
	call ForGroup(g,function Func4266)
	call KillGroup(g)
	set source=null
	set g=null
endfunction

function Func4268 takes nothing returns boolean
	if GetSpellAbilityId()=='A2F5' then
		call Func4267()
	endif
	return false
endfunction

function Register_PrevailingWinds takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4268))
	set t=null
endfunction

function Func4269 takes nothing returns nothing
	call Func0150("war3mapImported\\FortunesEndTarget.mdx",GetEnumUnit(),"origin",3)
	call IssueTargetOrder(unit420,"purge",GetEnumUnit())
	if trigger072!=null and GetUnitAbilityLevel(GetEnumUnit(),'A2T4')>0 then
		call TriggerEvaluate(trigger072)
	endif
	call DamageTarget(unit419,GetEnumUnit(),1,75*integer559)
endfunction

function Func4270 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=(LoadUnitHandle(HY,(GetHandleId(source)),(796)))
	local real C54=Func0133(GetTime()-(LoadReal(HY,(GetHandleId(source)),(358))),3)
	local integer lvl=GetUnitAbilityLevel(source,'A2QT')
	local integer BU6=R2I(2.0*C54)
	local unit caster=CreateUnit(GetOwningPlayer(source),'e00E',GetUnitX(source),GetUnitY(source),GetUnitFacing(source))
	local unit C06
	local group g
	if target!=null then
		set C06=CreateUnit(GetOwningPlayer(source),'o00Z',GetUnitX(target),GetUnitY(target),0)
		call UnitApplyTimedLife(C06,'BTLF',0.5)
		call UnitAddAbility(caster,'A2T2')
		call SetUnitAbilityLevel(caster,'A2T2',BU6)
		set tt_unit1=source
		set unit419=source
		set unit420=caster
		set integer559=lvl
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),215+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func4269)
		call KillGroup(g)
	endif
	set source=null
	set target=null
	set caster=null
	set C06=null
	set g=null
endfunction

function Func4271 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call SaveReal(HY,(GetHandleId(Hero)),(356),((GetUnitX(target))*1.0))
		call SaveReal(HY,(GetHandleId(Hero)),(357),((GetUnitY(target))*1.0))
	endif
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set Hero=null
	return false
endfunction

function Func4272 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=GetTriggerUnit()
	call SaveReal(HY,(GetHandleId(Hero)),(358),((GetTime())*1.0))
	call SaveUnitHandle(HY,(GetHandleId(Hero)),(796),(GetSpellTargetUnit()))
	call DestroyEffect(AddSpecialEffect("war3mapImported\\CleanseTargetArea.mdx",GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit())))
	call SaveUnitHandle(HY,(h),(14),(Hero))
	call SaveUnitHandle(HY,(h),(17),(GetSpellTargetUnit()))
	call TriggerRegisterTimerEvent(t,10,false)
	call TriggerRegisterDeathEvent(t,GetSpellTargetUnit())
	call TriggerAddCondition(t,Condition(function Func4271))
	set t=null
	set Hero=null
endfunction

function Func4273 takes nothing returns boolean
	if GetSpellAbilityId()=='A2QT' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
			call SaveBoolean(HY,(GetHandleId(GetTriggerUnit())),(360),(false))
			call Func4272()
		elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
			if IsBlocked(GetSpellTargetUnit())==false then
				call SaveBoolean(HY,(GetHandleId(GetTriggerUnit())),(360),(true))
			endif
		elseif(LoadBoolean(HY,(GetHandleId(GetTriggerUnit())),(360))) then
			call Func4270()
		endif
	endif
	return false
endfunction

function Func4274 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4273))
	set t=null
endfunction

function Func4275 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		call DisableTrigger(t)
		call DamageTarget(GetEventDamageSource(),target,3,0.5*GetEventDamage())
		call EnableTrigger(t)
	endif
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or IsDead(target)then
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call Func0262(target)
		call UnitRemoveAbility(target,'A2T4')
		set trigger072=null
	endif
	set t=null
	set target=null
	return false
endfunction

function Func4276 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2T5')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	set trigger072=t
	call Func0261(target)
	call UnitAddAbilityPermanent(target,'A2T4')
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2T4',false)
	call TriggerRegisterTimerEvent(t,2+lvl,false)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerAddCondition(t,Condition(function Func4275))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("war3mapImported\\FatesEdict.mdx",target,"origin")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl",target,"overhead")))
	set source=null
	set target=null
	set t=null
endfunction

function Func4277 takes nothing returns boolean
	if GetSpellAbilityId()=='A2T5' then
		if IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==false or IsBlocked(GetSpellTargetUnit())==false then
			call Func4276()
		endif
	endif
	return false
endfunction

function Func4278 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4277))
	set t=null
endfunction

function Func4279 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A2SG')
	local integer Count=(LoadInteger(HY,(h),(34)))
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or Count>9 then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
		if GetSpellAbilityId()=='A2T2' and GetSpellTargetUnit()==target then
			call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
		endif
	else
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
		call SetUnitState(target,UNIT_STATE_LIFE,GetUnitState(target,UNIT_STATE_LIFE)+11*lvl)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4280 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2SG')
	local real dmg=lvl*90
	local real IS5=0.75
	call TriggerRegisterDeathEvent(t,target)
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4279))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\DarkMending.mdx",target,"origin")))
	if IsUnitType(target,UNIT_TYPE_HERO)==false then
		set IS5=1.0
	endif
	if GetUnitState(target,UNIT_STATE_LIFE)<=dmg*IS5 and IsUnitAlly(target,GetOwningPlayer(source)) then
		set dmg=GetUnitState(target,UNIT_STATE_LIFE)/0.75-10
	endif
	call DamageTarget(source,target,1,dmg)
	set t=null
	set source=null
	set target=null
endfunction

function Func4281 takes nothing returns boolean
	if GetSpellAbilityId()=='A2SG' then
		if IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==false or IsBlocked(GetSpellTargetUnit())==false then
			call Func4280()
		endif
	endif
	return false
endfunction

function Func4282 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4281))
	set t=null
endfunction

function Func4283 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local integer KO2=(LoadInteger(HY,(h),(25)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local integer i=0
	local real C96=(LoadReal(HY,(h),(697)))
	local real CA6=(LoadReal(HY,(h),(811)))
	local real KMO=GetUnitState(target,UNIT_STATE_LIFE)
	local real CB6=GetUnitState(target,UNIT_STATE_MAX_LIFE)
	local real CC6=(LoadReal(HY,(h),(808)))
	local real CD6
	local real dmg
	if KO2>(lvl+6)*50 or GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call DisableTrigger(t)
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call UnitRemoveAbility(target,'A2T0')
		call UnitRemoveAbility(target,'A2SZ')
		if GetTriggerEventId()!=EVENT_WIDGET_DEATH then
			set CC6=CC6*2
			loop
				exitwhen i>Count
				set i=i+1
				set KMO=GetUnitState(target,UNIT_STATE_LIFE)
				set CD6=RMinBJ(CB6-KMO,CC6)
				call SetUnitState(target,UNIT_STATE_LIFE,KMO+CD6)
				set CC6=CC6-CD6
				set dmg=(LoadReal(HY,(h),(20000+i)))
				if(LoadUnitHandle(HY,(h),(22000+i)))==source or((LoadInteger(HY,(GetHandleId((target))),((2485))))==1)then
					if GetUnitState(target,UNIT_STATE_LIFE)<=dmg+2 then
						set dmg=GetUnitState(target,UNIT_STATE_LIFE)-2
					endif
				endif
				call DamageTarget((LoadUnitHandle(HY,(h),(22000+i))),target,6,dmg)
			endloop
			set KMO=GetUnitState(target,UNIT_STATE_LIFE)
			set CD6=RMinBJ(CB6-KMO,CC6)
			call SetUnitState(target,UNIT_STATE_LIFE,KMO+CD6)
			set CC6=CC6-CD6
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED and Func0094(GetEventDamage())then
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
		call SaveUnitHandle(HY,(h),(22000+Count),(GetEventDamageSource()))
		call SaveReal(HY,(h),(20000+Count),((GetEventDamage())*1.0))
		call Func0137(target,GetEventDamage())
	elseif GetTriggerEventId()!=EVENT_UNIT_DAMAGED and GetTriggerEventId()!=EVENT_WIDGET_DEATH then
		set KO2=KO2+1
		call SaveInteger(HY,(h),(25),(KO2))
		if CB6!=CA6 then
			set CA6=CB6
			set C96=KMO
			call SaveReal(HY,(h),(697),((C96)*1.0))
			call SaveReal(HY,(h),(811),((CA6)*1.0))
		endif
		if KMO>C96 then
			if((LoadInteger(HY,(GetHandleId((target))),((4298))))==1)==false then
				set CC6=CC6+KMO-C96
				call SaveReal(HY,(h),(808),((CC6)*1.0))
			else
				call SetUnitState(target,UNIT_STATE_LIFE,KMO)
			endif
		endif
		call SetUnitState(target,UNIT_STATE_LIFE,C96)
	endif
	set t=null
	set target=null
	set source=null
	return false
endfunction

function Func4284 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=GetUnitAbilityLevel(source,'A2TF')
	call UnitRemoveAbility(target,'B09Y')
	call UnitAddAbilityPermanent(target,'A2T0')
	call UnitAddAbilityPermanent(target,'A2SZ')
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func4283))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(34),(0))
	call SaveInteger(HY,(h),(25),(0))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveReal(HY,(h),(808),((0)*1.0))
	call SaveReal(HY,(h),(697),((GetUnitState(target,UNIT_STATE_LIFE))*1.0))
	call SaveReal(HY,(h),(811),((GetUnitState(target,UNIT_STATE_MAX_LIFE))*1.0))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\FalsePromise.mdx",target,"chest")))
	call RemoveDispellableBuffs(target)
	call SetNapalmFactory(target,0,0)
	set source=null
	set target=null
	set t=null
endfunction

function Func4285 takes nothing returns boolean
	if GetSpellAbilityId()=='A2TF' then
		call Func4284()
	endif
	return false
endfunction

function Func4286 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4285))
	set t=null
endfunction

function Func4287 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local real x
	local real y
	local real a
	if GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillUnit(IG1)
	else
		set a=Func0159(GetUnitX(IG1),GetUnitY(IG1),GetUnitX(target),GetUnitY(target))
		set x=GetUnitX(IG1)+20*Cos(a*bj_DEGTORAD)
		set y=GetUnitY(IG1)+20*Sin(a*bj_DEGTORAD)
		call SetUnitX(IG1,x)
		call SetUnitY(IG1,y)
		call SetUnitFacing(IG1,a)
		if Func0139(IG1,target)<30 then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call DamageTarget(IG1,target,1,100+50*lvl)
			call KillUnit(IG1)
			call SetUnitAnimationByIndex(IG1,3)
		endif
	endif
	set t=null
	set target=null
	set IG1=null
	return false
endfunction

function Func4288 takes integer lvl,unit IG1,unit target returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SetUnitAnimationByIndex(IG1,2)
	call SetUnitVertexColor(IG1,255,255,255,150)
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerAddCondition(t,Condition(function Func4287))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SetUnitAnimationByIndex(IG1,2)
	set t=null
endfunction

function Func4289 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	local group g
	local unit target
	if GetTriggerEvalCount(t)>real408/0.05 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillUnit(IG1)
	else
		set tt_unit1=IG1
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(IG1),GetUnitY(IG1),375+25,Condition(function Func0280))
		set target=Func0235(g,GetUnitX(IG1),GetUnitY(IG1))
		call KillGroup(g)
		if target!=null then
			call FlushChildHashtable(HY,(h))
			call CleanTrigger(t)
			call Func4288(lvl,IG1,target)
		endif
		set g=null
		set target=null
	endif
	set t=null
	set IG1=null
	return false
endfunction

function Func4290 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local integer lvl=(LoadInteger(HY,(h),(5)))
	local unit IG1=(LoadUnitHandle(HY,(h),(45)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerAddCondition(t,Condition(function Func4289))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	call SetUnitAnimationByIndex(IG1,1)
	set t=null
	set IG1=null
	return false
endfunction

function Func4291 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local unit IG1=CreateUnit(GetOwningPlayer(source),'h0EG',x,y,270)
	local integer lvl=GetUnitAbilityLevel(source,'A2LL')
	call SetUnitAnimationByIndex(IG1,0)
	call TriggerRegisterTimerEvent(t,3,false)
	call TriggerAddCondition(t,Condition(function Func4290))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveUnitHandle(HY,(h),(45),(IG1))
	set source=null
	set IG1=null
	set t=null
endfunction

function Func4292 takes nothing returns boolean
	if GetSpellAbilityId()=='A2LL' then
		call Func4291()
	endif
	return false
endfunction

function Func4293 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4292))
	set t=null
endfunction

function Func4294 takes nothing returns nothing
	if Func0255(GetEnumUnit())then
		return
	endif
	if GetUnitAbilityLevel(GetEnumUnit(),'A2M9')>0 then
		call UnitRemoveAbility(GetEnumUnit(),'A2M9')
	endif
	if GetUnitAbilityLevel(GetEnumUnit(),'A2MA')>0 then
		call UnitRemoveAbility(GetEnumUnit(),'A2MA')
	endif
	if GetUnitAbilityLevel(GetEnumUnit(),'A2LN')>0 then
		call UnitRemoveAbility(GetEnumUnit(),'A2LN')
	endif
	if GetUnitAbilityLevel(GetEnumUnit(),'A2M8')>0 then
		call UnitRemoveAbility(GetEnumUnit(),'A2M8')
	endif
	if GetUnitAbilityLevel(GetEnumUnit(),'A2NP')>0 then
		call UnitRemoveAbility(GetEnumUnit(),'A2NP')
	endif
	if GetUnitAbilityLevel(GetEnumUnit(),'A2NS')>0 then
		call UnitRemoveAbility(GetEnumUnit(),'A2NS')
	endif
	if GetUnitAbilityLevel(GetEnumUnit(),'A2NR')>0 then
		call UnitRemoveAbility(GetEnumUnit(),'A2NR')
	endif
	if GetUnitAbilityLevel(GetEnumUnit(),'A2NQ')>0 then
		call UnitRemoveAbility(GetEnumUnit(),'A2NQ')
	endif
endfunction

function Func4295 takes nothing returns nothing
	if Func0255(GetEnumUnit())then
		return
	endif
	if integer560==1 then
		set integer561='A2M9'
	elseif integer560==2 then
		set integer561='A2MA'
	elseif integer560==3 then
		set integer561='A2LN'
	elseif integer560==4 then
		set integer561='A2M8'
	endif
	if GetUnitAbilityLevel(GetEnumUnit(),integer561)==0 then
		call UnitAddAbilityPermanent(GetEnumUnit(),integer561)
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),integer561,false)
		call UnitMakeAbilityPermanent(GetEnumUnit(),true,'ACes')
		if integer561=='A2M9' then
			call UnitMakeAbilityPermanent(GetEnumUnit(),true,'A2M4')
		elseif integer561=='A2MA' then
			call UnitMakeAbilityPermanent(GetEnumUnit(),true,'A2M5')
		elseif integer561=='A2LN' then
			call UnitMakeAbilityPermanent(GetEnumUnit(),true,'A2M6')
		elseif integer561=='A2M8' then
			call UnitMakeAbilityPermanent(GetEnumUnit(),true,'A2M7')
		elseif integer561=='A2NP' then
			call UnitMakeAbilityPermanent(GetEnumUnit(),true,'A2NM')
		elseif integer561=='A2NS' then
			call UnitMakeAbilityPermanent(GetEnumUnit(),true,'A2NL')
		elseif integer561=='A2NR' then
			call UnitMakeAbilityPermanent(GetEnumUnit(),true,'A2NN')
		elseif integer561=='A2NQ' then
			call UnitMakeAbilityPermanent(GetEnumUnit(),true,'A2NO')
		endif
	endif
endfunction

function Func4296 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local real LVO=(LoadReal(HY,(h),(442)))
	local integer lvl=GetUnitAbilityLevel(source,'A2LM')
	local group RG3=(LoadGroupHandle(HY,(h),(340)))
	local group g=GetAvailableGroup()
	local group g1=GetAvailableGroup()
	local group g2=GetAvailableGroup()
	set integer560=lvl
	if GetTime()>LVO then
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call ForGroup(RG3,function Func4294)
		call KillGroup(RG3)
		call KillGroup(g)
		call KillGroup(g1)
		call KillGroup(g2)
		return false
	endif
	set tt_unit1=source
	call GroupEnumUnitsInRange(g1,x,y,275+25,Condition(function Func0299))
	call GroupEnumUnitsInRange(g2,x,y,275+144,Condition(function Func0287))
	call GroupAddGroup(g1,g)
	call GroupAddGroup(g2,g)
	call KillGroup(g1)
	call KillGroup(g2)
	call GroupRemoveGroup(g,RG3)
	call ForGroup(RG3,function Func4294)
	call ForGroup(g,function Func4295)
	call SaveGroupHandle(HY,(h),(340),(g))
	call KillGroup(RG3)
	set t=null
	set source=null
	set RG3=null
	set g=null
	return false
endfunction

function Func4297 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real QJI=GetSpellTargetX()
	local real QKI=GetSpellTargetY()
	local integer i
	local integer lvl=GetUnitAbilityLevel(source,'A2LM')
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func4296))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveGroupHandle(HY,(h),(340),(GetAvailableGroup()))
	call SaveReal(HY,(h),(6),((QJI)*1.0))
	call SaveReal(HY,(h),(7),((QKI)*1.0))
	call SaveReal(HY,(h),(442),((GetTime()+3+0.5*lvl)*1.0))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffect("war3mapImported\\MagneticField04.mdl",QJI,QKI)))
	set i=0
	loop
		exitwhen i>5
		call SetPlayerAbilityAvailable(Sentinels[i],'A2M9',false)
		call SetPlayerAbilityAvailable(Scourges[i],'A2M9',false)
		call SetPlayerAbilityAvailable(Sentinels[i],'A2MA',false)
		call SetPlayerAbilityAvailable(Scourges[i],'A2MA',false)
		call SetPlayerAbilityAvailable(Sentinels[i],'A2MA',false)
		call SetPlayerAbilityAvailable(Scourges[i],'A2LN',false)
		call SetPlayerAbilityAvailable(Sentinels[i],'A2M8',false)
		call SetPlayerAbilityAvailable(Scourges[i],'A2M8',false)
		set i=i+1
	endloop
	set source=null
	set t=null
endfunction

function Func4298 takes nothing returns boolean
	if GetSpellAbilityId()=='A2LM' then
		call Func4297()
	endif
	return false
endfunction

function Func4299 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4298))
	set t=null
endfunction

function Func4300 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A2M1')
	local integer OO1=(LoadInteger(HY,(h),(758)))
	local integer Count=(LoadInteger(HY,(h),(34)))
	local group g
	if GetTriggerEventId()==EVENT_WIDGET_DEATH or Count>120 or Func0091(target)then
		call UnitRemoveAbility(target,'A2LW')
		call UnitRemoveAbility(target,'A2LY')
		call UnitRemoveAbility(target,'B0G2')
		call UnitRemoveAbility(target,'B0G3')
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set Count=Count+1
		call SaveInteger(HY,(h),(34),(Count))
		set tt_unit1=source
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),225+25,Condition(function DefaultEnemyFilterWithAncients))
		call GroupRemoveUnit(g,target)
		if FirstOfGroup(g)==null then
			if OO1=='A2LW' then
				if GetUnitAbilityLevel(target,'A2LW')==0 then
					call UnitAddAbilityPermanent(target,'A2LW')
					call UnitMakeAbilityPermanent(target,true,'A2LU')
					call UnitMakeAbilityPermanent(target,true,'A2ME')
				endif
			else
				if GetUnitAbilityLevel(target,'A2LY')==0 then
					call UnitAddAbilityPermanent(target,'A2LY')
					call UnitMakeAbilityPermanent(target,true,'A2LT')
					call UnitMakeAbilityPermanent(target,true,'A2ME')
				endif
			endif
			if ModuloInteger(Count,10)==0 then
				call DamageTarget(source,target,1,lvl*15*0.5)
			endif
		else
			if OO1=='A2LW' then
				if GetUnitAbilityLevel(target,'A2LW')>0 then
					call UnitRemoveAbility(target,'A2LW')
					call UnitRemoveAbility(target,'B0G2')
				endif
			else
				if GetUnitAbilityLevel(target,'A2LY')>0 then
					call UnitRemoveAbility(target,'A2LY')
					call UnitRemoveAbility(target,'B0G3')
				endif
			endif
		endif
		call KillGroup(g)
		set g=null
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4301 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local integer OO1='A2LW'
	if GetUnitTypeId(source)=='N0MM' then
		set OO1='A2LY'
	endif
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2LW',false)
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2LY',false)
	call TriggerRegisterTimerEvent(t,0.05,true)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerAddCondition(t,Condition(function Func4300))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(758),(OO1))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\Flux3.mdx",target,"origin")))
	call TriggerEvaluate(t)
	set source=null
	set target=null
	set t=null
endfunction

function Func4302 takes nothing returns boolean
	if GetSpellAbilityId()=='A2M1' and IsBlocked(GetSpellTargetUnit())==false then
		call Func4301()
	endif
	return false
endfunction

function Func4303 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4302))
	set t=null
endfunction

function Func4304 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit CP6=(LoadUnitHandle(HY,(h),(17)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call FlushChildHashtable(HY,(GetHandleId(CP6)))
	call RemoveUnit(CP6)
	set t=null
	set CP6=null
	return false
endfunction

function Func4305 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit CP6=(LoadUnitHandle(HY,(h),(2)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call FlushChildHashtable(HY,(GetHandleId(CP6)))
	call ShowUnit(CP6,false)
	set t=null
	set CP6=null
	return false
endfunction

function Func4306 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit CP6=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A2M0')
	if GetTriggerEvalCount(t)==200 or GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillUnit(CP6)
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl",GetUnitX(CP6),GetUnitX(CP6)))
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveUnitHandle(HY,(h),(2),(CP6))
		call TriggerRegisterTimerEvent(t,0,false)
		call TriggerAddCondition(t,Condition(function Func4305))
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call TriggerRegisterTimerEvent(t,3,false)
		call TriggerAddCondition(t,Condition(function Func4304))
		call SaveUnitHandle(HY,(h),(17),(CP6))
	else
		call SuspendHeroXP(CP6,true)
		call UnitModifySkillPoints(CP6,-25)
	endif
	set t=null
	set source=null
	set CP6=null
	return false
endfunction

function Func4307 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit CP6=CreateUnit(GetOwningPlayer(source),'N0MM',GetUnitX(source),GetUnitY(source),0)
	local integer lvl=GetUnitAbilityLevel(source,'A2M0')
	local integer i=0
	local item BA1
	local integer DI6='I02M'
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl",CP6,"chest"))
	if IsSentinel(GetOwningPlayer(CP6))==false then
		set DI6='I0PC'
	endif
	call SelectUnitAddForPlayer(CP6,GetOwningPlayer(source))
	call DisableTrigger(trigger057)
	loop
		exitwhen i>5
		if UnitItemInSlot(source,i)!=null and GetItemTypeId(UnitItemInSlot(source,i))!=integers089[integer198]and GetItemTypeId(UnitItemInSlot(source,i))!=integers089[integer226]and GetItemTypeId(UnitItemInSlot(source,i))!=integers089[integer147]and GetItemTypeId(UnitItemInSlot(source,i))!=integers089[integer148]and GetItemTypeId(UnitItemInSlot(source,i))!=integers089[integer155]then
			set BA1=CreateItem(GetItemTypeId(UnitItemInSlot(source,i)),0,0)
			if GetItemCharges(UnitItemInSlot(source,i))>0 then
				call SetItemCharges(BA1,GetItemCharges(UnitItemInSlot(source,i)))
			endif
			call UnitAddItem(CP6,BA1)
			call SetItemPlayer(BA1,GetOwningPlayer(CP6),false)
			if GetItemTypeId(BA1)==integers089[integer212]or GetItemTypeId(BA1)==integers089[integer213]or GetItemTypeId(BA1)==integers089[integer083]then
				call SetItemDropOnDeath(BA1,false)
			endif
		else
			call UnitAddItem(CP6,CreateItem(DI6,0,0))
		endif
		set i=i+1
	endloop
	call EnableTrigger(trigger057)
	call SetHeroLevel(CP6,GetHeroLevel(source),false)
	set i=1
	loop
		exitwhen i>GetUnitAbilityLevel(source,'Aamk')
		call SelectHeroSkill(CP6,'Aamk')
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>GetUnitAbilityLevel(source,'A2LL')
		call SelectHeroSkill(CP6,'A2LL')
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>GetUnitAbilityLevel(source,'A2LM')
		call SelectHeroSkill(CP6,'A2LM')
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>GetUnitAbilityLevel(source,'A2M1')
		call SelectHeroSkill(CP6,'A2M1')
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>GetUnitAbilityLevel(source,'A2B4')
		call SelectHeroSkill(CP6,'A2B4')
		set i=i+1
	endloop
	set i=1
	loop
		exitwhen i>GetUnitAbilityLevel(source,'A2M0')
		call SelectHeroSkill(CP6,'A2M0')
		set i=i+1
	endloop
	call UnitRemoveAbility(CP6,'A2M0')
	call UnitModifySkillPoints(CP6,-25)
	call SuspendHeroXP(CP6,true)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerRegisterDeathEvent(t,CP6)
	call TriggerAddCondition(t,Condition(function Func4306))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(CP6))
	call SetUnitState(source,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_LIFE)*(1-(0.45-0.15*lvl)))
	call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MANA)*(1-(0.45-0.15*lvl)))
	call SetUnitState(CP6,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_LIFE))
	call SetUnitState(CP6,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MANA))
	set source=null
	set CP6=null
	set t=null
endfunction

function Func4308 takes nothing returns boolean
	if GetSpellAbilityId()=='A2M0' then
		call Func4307()
	endif
	return false
endfunction

function Func4309 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4308))
	set t=null
endfunction

function Func4310 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group g=GetAvailableGroup()
	local integer lvl=GetUnitAbilityLevel(source,'A0VC')
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),400+25,Condition(function Func0303))
	if FirstOfGroup(g)==null then
		if GetUnitAbilityLevel(source,'A2NX')!=lvl then
			call UnitAddAbilityPermanent(source,'A2NX')
			call SetUnitAbilityLevel(source,'A2NX',lvl)
		endif
	else
		if GetUnitAbilityLevel(source,'A2NX')>0 then
			call UnitRemoveAbility(source,'A2NX')
		endif
	endif
	call KillGroup(g)
	set source=null
	set t=null
	set g=null
	return false
endfunction

function Func4311 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func4310))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
endfunction

function Func4312 takes nothing returns boolean
	if GetLearnedSkill()=='A0VC' and GetUnitAbilityLevel(GetTriggerUnit(),'A0VC')==1 then
		call Func4311()
	endif
	return false
endfunction

function Func4313 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func4312))
	set t=null
endfunction

function Func4314 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local integer lvl=GetUnitAbilityLevel(source,'A2O2')
	local integer JJ3=GetHeroAgi(source,true)
	local real D56=JJ3*(0.12+0.06*lvl)
	local integer O93=R2I(D56/2.0+0.5)
	local integer D66=(LoadInteger(HY,(h),(34)))
	local real LVO=(LoadReal(HY,(h),(442)))
	if LVO<GetTime()then
		set D66=2
		call SaveInteger(HY,(h),(34),(D66))
		call UnitRemoveAbility(caster,'A2O3')
	endif
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A2O2' then
		set D66=1
		call SaveInteger(HY,(h),(34),(D66))
		call SaveReal(HY,(h),(442),((GetTime()+30)*1.0))
		call UnitRemoveAbility(caster,'A2NY')
		call UnitRemoveAbility(caster,'A2O3')
	endif
	if IsDead(source) then
		call UnitRemoveAbility(caster,'A2NY')
		call UnitRemoveAbility(caster,'A2O3')
	else
		if GetUnitAbilityLevel(caster,'A2NY')==0 then
			call UnitAddAbilityPermanent(caster,'A2NY')
			if D66==1 then
				call UnitAddAbilityPermanent(caster,'A2O3')
			else
			endif
		endif
		call SetUnitAbilityLevel(caster,'A2NY',O93)
		call SetUnitAbilityLevel(caster,'A2O3',O93)
		call SetUnitX(caster,GetUnitX(source))
		call SetUnitY(caster,GetUnitY(source))
	endif
	set source=null
	set t=null
	return false
endfunction

function Func4315 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit caster=CreateUnit(GetOwningPlayer(source),'e01V',0,0,0)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerAddCondition(t,Condition(function Func4314))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveInteger(HY,(h),(34),(2))
	call UnitAddAbilityPermanent(caster,'A2NY')
	set t=null
	set source=null
endfunction

function Func4316 takes nothing returns boolean
	if GetLearnedSkill()=='A2O2' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A2O2')==1 then
		call Func4315()
	endif
	return false
endfunction

function Func4317 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_SKILL)
	call TriggerAddCondition(t,Condition(function Func4316))
	call Func0125('A2NY')
	call Func0125('A2O3')
	set t=null
endfunction

function Func4318 takes unit source,unit target,integer lvl returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbilityPermanent(caster,'A2WG')
	call SetUnitAbilityLevel(caster,'A2WG',lvl)
	call IssueTargetOrder(caster,"drunkenhaze",target)
	set caster=null
endfunction

function Func4319 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real RM2=(LoadReal(HY,(h),(13)))
	local real d=(LoadReal(HY,(h),(138)))
	local integer lvl=GetUnitAbilityLevel(source,'A2WF')
	local real DC1=(0.5+0.1*lvl)/(0.02)
	local real RS2=d/DC1
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local integer Count=GetTriggerEvalCount(t)
	if Count>DC1 or GetTriggerEventId()==EVENT_UNIT_DEATH then
		call KillTrees(GetUnitX(target),GetUnitY(target),100)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		set x=SafeX50(x+RS2*Cos(RM2))
		set y=SafeY50(y+RS2*Sin(RM2))
		call SetUnitX(target,x)
		call SetUnitY(target,y)
		call SaveReal(HY,(h),(6),((x)*1.0))
		call SaveReal(HY,(h),(7),((y)*1.0))
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4320 takes unit caster,unit target,unit source,real x,real y returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real RM2=Atan2(GetUnitY(target)-GetUnitY(caster),GetUnitX(target)-GetUnitX(caster))
	local real IT3=Func0141(x,y,GetUnitX(target),GetUnitY(target))
	local real d=RMaxBJ(1,350*(1-IT3/900))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(13),((RM2)*1.0))
	call SaveReal(HY,(h),(138),((d)*1.0))
	call SaveReal(HY,(h),(6),((GetUnitX(target))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(target))*1.0))
	call Func4318(source,target,GetUnitAbilityLevel(source,'A2WF'))
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func4319))
	set t=null
endfunction

function Func4321 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group002)==false and Func0091(GetEnumUnit())==false then
		call GroupAddUnit(group002,GetEnumUnit())
		call Func4320(tt_unit1,GetEnumUnit(),unit421,real409,real410)
	endif
endfunction

function Func4322 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real a=(LoadReal(HY,(h),(137)))
	local real x1=(LoadReal(HY,(h),(64)))
	local real y1=(LoadReal(HY,(h),(65)))
	local real x2=(LoadReal(HY,(h),(66)))
	local real y2=(LoadReal(HY,(h),(67)))
	local group g=(LoadGroupHandle(HY,(h),(22)))
	local real x=GetUnitX(caster)
	local real y=GetUnitY(caster)
	local group g2
	if Func0141(x,y,x2,y2)<100 then
		set x=x2
		set y=y2
	else
		set x=x+40*Cos(a)
		set y=y+40*Sin(a)
	endif
	call SetUnitX(caster,SafeX50(x))
	call SetUnitY(caster,SafeY50(y))
	set g2=GetAvailableGroup()
	set tt_unit1=caster
	set unit421=source
	set real409=x1
	set real410=y1
	set group002=g
	call GroupEnumUnitsInRange(g2,x,y,250+25,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g2,function Func4321)
	call KillGroup(g2)
	if(x==x2 and y==y2)or GetTriggerEvalCount(t)>35 then
		set g2=GetAvailableGroup()
		set tt_unit1=caster
		set unit421=source
		set real409=x1
		set real410=y1
		set group002=g
		call GroupEnumUnitsInRange(g2,x,y,250+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g2,function Func4321)
		call KillGroup(g2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillUnit(caster)
		call KillGroup(g)
	endif
	set t=null
	set caster=null
	set g=null
	set g2=null
	return false
endfunction

function Func4323 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local location l=GetSpellTargetLoc()
	local unit source=GetTriggerUnit()
	local real x=GetLocationX(l)
	local real y=GetLocationY(l)
	local real a=Atan2(y-GetUnitY(source),x-GetUnitX(source))
	local unit caster=CreateUnit(GetOwningPlayer(source),'n0NI',GetUnitX(source),GetUnitY(source),a*bj_RADTODEG)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func4322))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveReal(HY,(h),(64),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(65),((GetUnitY(source))*1.0))
	call SaveReal(HY,(h),(66),((GetUnitX(source)+900*Cos(a))*1.0))
	call SaveReal(HY,(h),(67),((GetUnitY(source)+900*Sin(a))*1.0))
	call SaveGroupHandle(HY,(h),(22),(GetAvailableGroup()))
	call RemoveLocation(l)
	set t=null
	set l=null
	set source=null
endfunction

function Func4324 takes nothing returns boolean
	if GetSpellAbilityId()=='A2WF' then
		call Func4323()
	endif
	return false
endfunction

function Func4325 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4324))
	set t=null
endfunction

function BoulderSmash_FindClosestMagnetizedTarget takes nothing returns nothing
	local real d=Func0139(GetEnumUnit(),unit428)
	if d<real009 then
		set real009=d
		set unit427=GetEnumUnit()
	endif
endfunction

function Func4326 takes nothing returns boolean
	return IsDead(GetFilterUnit())==false and IsUnitEnemy(unit422,GetOwningPlayer(GetFilterUnit()))and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and((LoadInteger(HY,(GetHandleId((GetFilterUnit()))),((809))))==1)
endfunction

function Func4327 takes unit target returns nothing
	local unit caster=CreateUnit(GetOwningPlayer(target),'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbility(caster,'A2TG')
	call SetUnitAbilityLevel(caster,'A2TG',integer562)
	call IssueTargetOrder(caster,"soulburn",target)
	set caster=null
endfunction

function Func4328 takes nothing returns nothing
	call Func4327(GetEnumUnit())
endfunction

function Func4329 takes unit target returns nothing
	local group g=GetAvailableGroup()
	if((LoadInteger(HY,(GetHandleId((target))),((809))))==1) then
		call GroupEnumUnitsInRange(g,0,0,99999,Condition(function Func4326))
	endif
	call GroupAddUnit(g,target)
	call ForGroup(g,function Func4328)
	call KillGroup(g)
	set g=null
endfunction

function Func4330 takes nothing returns nothing
	local unit target=GetEnumUnit()
	if GetUnitTypeId(target)!='o01X' then
		call SetUnitPathing(target,true)
	endif
	call SaveInteger(HY,(GetHandleId((target))),((4336)),(2))
	set target=null
endfunction

function Func4331 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group044)==false then
		call GroupAddUnit(group044,GetEnumUnit())
		call Func4329(GetEnumUnit())
		if integer563==1 then
			call DamageTarget(unit422,GetEnumUnit(),1,75*integer562-25)
		endif
	endif
endfunction

function Func4332 takes nothing returns nothing
	local unit target=GetEnumUnit()
	local real a=(LoadReal(HY,(GetHandleId(target)),(801)))
	local real d=(LoadReal(HY,(GetHandleId(target)),(802)))
	local real x=real412+d*Cos(a)
	local real y=real413+d*Sin(a)
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",x,y))
	if GetUnitTypeId(target)=='o01X' or GetUnitTypeId(target)=='o020' then
		set integer563=1
		call SetUnitPosition(target,x,y)
		call SetUnitX(target,x)
		call SetUnitY(target,y)
	else
		call SetUnitX(target,x)
		call SetUnitY(target,y)
		call KillTrees(x,y,100)
	endif
	set target=null
endfunction

function Func4333 takes nothing returns nothing
	local unit target=GetEnumUnit()
	if IsDead(target) or((LoadInteger(HY,(GetHandleId((target))),((4306))))==1) or GetUnitAbilityLevel(target,'B08V')>0 or((LoadInteger(HY,(GetHandleId((target))),((4335))))==1) then
		call GroupRemoveUnit(group044,target)
		call SaveInteger(HY,(GetHandleId((target))),((4336)),(2))
		if GetUnitTypeId(target)!='o01X' then
			call SetUnitPathing(target,true)
		endif
	endif
	set target=null
endfunction

function Func4334 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group DL6=(LoadGroupHandle(HY,(h),(803)))
	local real QJI=(LoadReal(HY,(h),(6)))
	local real QKI=(LoadReal(HY,(h),(7)))
	local real II3=(LoadReal(HY,(h),(23)))
	local real I13=(LoadReal(HY,(h),(24)))
	local real a=bj_DEGTORAD*Func0159(II3,I13,QJI,QKI)
	local real x
	local real y
	local boolean DM6=false
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	local group g
	set integer563=0
	set group044=DL6
	call ForGroup(DL6,function Func4333)
	if GetTriggerEvalCount(t)>200 or FirstOfGroup(DL6)==null then
		set DM6=true
	else
		set x=II3+real411*0.03*Cos(a)
		set y=I13+real411*0.03*Sin(a)
		if Func0141(x,y,QJI,QKI)<30 then
			set x=QJI
			set y=QKI
			set DM6=true
		endif
		set x=SafeX50(x)
		set y=SafeY50(y)
		set group044=DL6
		set real412=x
		set real413=y
		call ForGroup(DL6,function Func4332)
		call SaveReal(HY,(h),(23),((x)*1.0))
		call SaveReal(HY,(h),(24),((y)*1.0))
		set g=GetAvailableGroup()
		set tt_unit1=source
		set group044=PR2
		set unit422=source
		set integer562=GetUnitAbilityLevel(source,'A2QI')
		call GroupEnumUnitsInRange(g,x,y,180+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func4331)
		call KillGroup(g)
		set g=null
	endif
	if DM6 then
		call ForGroup(DL6,function Func4330)
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillGroup(PR2)
		call KillGroup(DL6)
	endif
	set source=null
	set t=null
	set PR2=null
	set DL6=null
	return false
endfunction

function MagneticGrip_PullableTargetsFilter takes nothing returns boolean
	return((GetUnitTypeId(GetFilterUnit())=='o01X' or GetUnitTypeId(GetFilterUnit())=='o020')or(IsUnitEnemy(unit422,GetOwningPlayer(GetFilterUnit()))==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0))and IsDead(GetFilterUnit())==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and((LoadInteger(HY,(GetHandleId((GetFilterUnit()))),((4336))))==1)==false
endfunction

function Func4335 takes nothing returns boolean
	return GetUnitTypeId(GetFilterUnit())=='o01X'
endfunction

function Func4336 takes nothing returns nothing
	local unit target=GetEnumUnit()
	call SetUnitPathing(target,false)
	call SaveInteger(HY,(GetHandleId((target))),((4336)),(1))
	call SaveReal(HY,(GetHandleId(target)),(801),((bj_DEGTORAD*Func0159(real412,real413,GetUnitX(target),GetUnitY(target)))*1.0))
	call SaveReal(HY,(GetHandleId(target)),(802),((Func0141(real412,real413,GetUnitX(target),GetUnitY(target)))*1.0))
	set target=null
endfunction

function Func4337 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t
	local integer h
	local real QJI=GetUnitX(GetSpellTargetUnit())
	local real QKI=GetUnitY(GetSpellTargetUnit())
	local real x=GetUnitX(source)
	local real y=GetUnitY(source)
	local real a=Func0159(x,y,QJI,QKI)
	local unit target=GetSpellTargetUnit()
	local group g
	if target==null then
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetSpellTargetX(),GetSpellTargetY(),240+25,Condition(function Func4335))
		if FirstOfGroup(g)==null then
			call KillGroup(g)
			set source=null
			set g=null
			return
		endif
		set target=FirstOfGroup(g)
		call KillGroup(g)
	endif
	set g=GetAvailableGroup()
	call GroupAddUnit(g,target)
	set QJI=GetUnitX(target)
	set QKI=GetUnitY(target)
	set a=Func0159(x,y,QJI,QKI)
	set t=CreateTrigger()
	set h=GetHandleId(t)
	set real412=QJI
	set real413=QKI
	call ForGroup(g,function Func4336)
	set x=x+100*Cos(a*bj_DEGTORAD)
	set y=y+100*Sin(a*bj_DEGTORAD)
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerAddCondition(t,Condition(function Func4334))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveReal(HY,(h),(23),((QJI)*1.0))
	call SaveReal(HY,(h),(24),((QKI)*1.0))
	call SaveGroupHandle(HY,(h),(187),(GetAvailableGroup()))
	call SaveGroupHandle(HY,(h),(803),(g))
	call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\MagneticGripTarget.mdx",target,"chest")))
	set source=null
	set t=null
	set g=null
endfunction

function Func4338 takes nothing returns nothing
	local unit target=GetSpellTargetUnit()
	local group g
	if target==null then
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetSpellTargetX(),GetSpellTargetY(),240+25,Condition(function Func4335))
		if FirstOfGroup(g)==null then
			call InterruptUnit(GetTriggerUnit())
			call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0N5'))
		endif
		call KillGroup(g)
	endif
	set g=null
	set target=null
endfunction

function Func4339 takes nothing returns boolean
	if GetSpellAbilityId()=='A2QI' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
			call Func4338()
		else
			call Func4337()
		endif
	endif
	return false
endfunction

function Func4340 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func4339))
	set t=null
endfunction

function Func4341 takes integer i returns boolean
	return integers181[0]==i or integers181[1]==i or integers181[2]==i or integers181[3]==i or integers181[4]==i or integers181[5]==i or integers181[6]==i
endfunction

function Func4342 takes nothing returns boolean
	return IsDead(GetFilterUnit())==false and IsUnitEnemy(unit423,GetOwningPlayer(GetFilterUnit()))and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and((LoadInteger(HY,(GetHandleId((GetFilterUnit()))),((809))))==1)
endfunction

function Func4343 takes nothing returns nothing
	call Func0228((GetEnumUnit()),'A2QN',1,2,'B0GK')
endfunction

function Func4344 takes unit target returns nothing
	local group g=GetAvailableGroup()
	if((LoadInteger(HY,(GetHandleId((target))),((809))))==1) then
		call GroupEnumUnitsInRange(g,0,0,99999,Condition(function Func4342))
	endif
	call GroupAddUnit(g,target)
	call ForGroup(g,function Func4343)
	call KillGroup(g)
	set g=null
endfunction

function RollingBoulder_FindClosestMagnetizedTarget takes nothing returns nothing
	local real d=Func0139(GetEnumUnit(),unit425)
	if d<real009 then
		set real009=d
		set unit424=GetEnumUnit()
	endif
endfunction

function Func4345 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group045)==false then
		call GroupAddUnit(group045,GetEnumUnit())
		if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) then
			set boolean157=true
			set unit424=GetEnumUnit()
			if((LoadInteger(HY,(GetHandleId((GetEnumUnit()))),((809))))==1)then
				set unit425=GetEnumUnit()
			endif
			if integer565==1 then
				call DamageTarget(unit423,GetEnumUnit(),1,real416)
				call Func4344(GetEnumUnit())
			else
				call DamageTarget(unit423,GetEnumUnit(),1,real416)
			endif
		else
			if integer565==1 then
				call DamageTarget(unit423,GetEnumUnit(),1,real416)
			else
				call DamageTarget(unit423,GetEnumUnit(),1,real416)
			endif
		endif
	endif
endfunction

function Func4346 takes nothing returns boolean
	return GetUnitTypeId(GetFilterUnit())=='o01X' or GetUnitTypeId(GetFilterUnit())=='o020'
endfunction

function Func4347 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	local group g
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local real H71=(LoadReal(HY,(h),(6)))
	local real H81=(LoadReal(HY,(h),(7)))
	local real IO3=GetUnitX(source)
	local real I23=GetUnitY(source)
	local real d=Func0141(H71,H81,IO3,I23)
	local real x
	local real y
	local real a=(LoadReal(HY,(h),(137)))
	local real r=real415
	local integer E36=(LoadInteger(HY,(h),(34)))
	local real E63=(LoadReal(HY,(h),(138)))
	local boolean E46=false
	local unit E56=(LoadUnitHandle(HY,(h),(810)))
	set boolean157=false
	call SetUnitTimeScale(source,3)
	call SetUnitFacing(source,a)
	call SetUnitAnimationByIndex(source,0)
	if GetTriggerEvalCount(t)>30 then
		if E36==0 then
			set g=GetAvailableGroup()
			call GroupEnumUnitsInRange(g,IO3,I23,150+25,Condition(function Func4346))
			if FirstOfGroup(g)!=null then
				if(GetUnitTypeId((FirstOfGroup(g)))=='o020')==false then
					call KillUnit(FirstOfGroup(g))
				endif
				set E36=1
				call SaveInteger(HY,(h),(34),(E36))
			endif
			call KillGroup(g)
		endif
		if E36==1 then
			set r=r*2
		endif
		if E56!=null then
			set a=Func0158(source,E56)
			call SaveReal(HY,(h),(137),((a)*1.0))
		endif
		set x=H71+0.02*r*Cos(a*bj_DEGTORAD)
		set y=H81+0.02*r*Sin(a*bj_DEGTORAD)
		call SetUnitX(source,SafeX50(x))
		call SetUnitY(source,SafeY50(y))
		call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
		call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
		call SetUnitX(caster,GetUnitX(source))
		call SetUnitY(caster,GetUnitY(source))
		call KillTrees(GetUnitX(source),GetUnitY(source),100)
		set d=Func0141(H71,H81,GetUnitX(source),GetUnitY(source))
		set E63=E63+d
		call SaveReal(HY,(h),(138),((E63)*1.0))
		set g=GetAvailableGroup()
		set tt_unit1=source
		set unit423=source
		set group045=PR2
		set integer564=1
		set unit424=null
		set real416=100
		set integer565=E36
		set unit425=null
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),150+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func4345)
		call KillGroup(g)
		if unit425!=null then
			set g=GetAvailableGroup()
			set unit424=null
			set real009=9999
			call GroupEnumUnitsInRange(g,GetUnitX(unit425),GetUnitY(unit425),600+25,Condition(function Func4342))
			call KillGroup(g)
			if unit424==null then
				set E46=true
				set unit424=unit425
			else
				set E56=unit424
				call SaveUnitHandle(HY,(h),(810),(E56))
			endif
		endif
	else
		call SetUnitX(source,H71)
		call SetUnitY(source,H81)
		if Func0250(source)then
			set E46=true
		endif
	endif
	if Func0250(source)or GetTriggerEventId()==EVENT_WIDGET_DEATH or E46 or(E56==null and(GetTriggerEvalCount(t)>130 or boolean157 or(E36==0 and E63>800)or(E36==1 and E63>1600)))then
		call KillUnit(caster)
		call KillGroup(PR2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitAddAbility(source,'A2QR')
		call UnitRemoveAbility(source,'A2QR')
		call SetUnitTimeScale(source,1)
		if boolean157 then
			set x=GetUnitX(unit424)+50*Cos(a*bj_DEGTORAD)
			set y=GetUnitY(unit424)+50*Sin(a*bj_DEGTORAD)
			call SetUnitX(source,SafeX50(x))
			call SetUnitY(source,SafeY50(y))
			call IssueTargetOrder(source,"attack",unit424)
		endif
	endif
	set source=null
	set t=null
	set g=null
	set PR2=null
	return false
endfunction

function Func4348 takes unit source,unit E76 returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit caster=CreateUnit(GetOwningPlayer(source),'o01P',GetUnitX(source),GetUnitY(source),0)
	local real a=Func0159(GetUnitX(source),GetUnitY(source),GetSpellTargetX(),GetSpellTargetY())
	call UnitAddAbility(source,'A2QQ')
	call UnitRemoveAbility(source,'A2QQ')
	call SetUnitTimeScale(source,3)
	call TriggerRegisterDeathEvent(t,source)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func4347))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveGroupHandle(HY,(h),(187),(GetAvailableGroup()))
	call SaveUnitHandle(HY,(h),(19),(caster))
	call SaveReal(HY,(h),(6),((GetUnitX(source))*1.0))
	call SaveReal(HY,(h),(7),((GetUnitY(source))*1.0))
	call SaveReal(HY,(h),(137),((a)*1.0))
	call SaveInteger(HY,(h),(34),(0))
	call SaveReal(HY,(h),(138),((0)*1.0))
	call SaveUnitHandle(HY,(h),(810),(null))
	if E76!=null and GetUnitTypeId(E76)=='o01X' then
		call KillUnit(E76)
	endif
	set t=null
endfunction

function Func4349 takes nothing returns boolean
	return((GetUnitTypeId(GetFilterUnit())=='o01X' and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(unit423))or(GetUnitTypeId((GetFilterUnit()))=='o020'))and IsDead(GetFilterUnit())==false
endfunction

function RollingBoulder_Loop takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local group g
	if GetUnitTypeId(source)=='N0MU' and IsDead(source)==false then
		set g=GetAvailableGroup()
		set unit423=source
		call GroupEnumUnitsInRange(g,GetUnitX(source),GetUnitY(source),150+25,Condition(function Func4349))
		if FirstOfGroup(g)!=null then
		endif
		call KillGroup(g)
		set g=null
	endif
	set source=null
	set t=null
	return false
endfunction

function Func4350 takes nothing returns boolean
	return GetUnitTypeId(GetFilterUnit())=='N0MU' and IsUnitIllusion(GetFilterUnit())==false
endfunction

function Func4351 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real time=(LoadReal(HY,(h),(442)))
	local integer JGO=(LoadInteger(HY,(GetHandleId(source)),(800)))
	local group g
	if source==null then
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,0,0,99999,Condition(function Func4350))
		set source=FirstOfGroup(g)
		call KillGroup(g)
		set g=null
		if source!=null then
			call SaveUnitHandle(HY,(h),(2),(source))
			call SaveInteger(HY,(GetHandleId(source)),(800),(6))
			call UnitAddAbilityPermanent(source,integers181[6])
		endif
	endif
	if GetTriggerEventId()==EVENT_UNIT_SPELL_CAST then
		if(Func4341(GetSpellAbilityId()))and JGO<=0 then
			call InterruptUnit(source)
		endif
	elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if Func4341(GetSpellAbilityId())or GetSpellAbilityId()=='A2TJ' then
			if GetSpellAbilityId()=='A2TJ' then
				call Func4348(source,null)
			endif
		endif
	elseif JGO<6 then
		set time=time-0.2
		call SaveReal(HY,(h),(442),((time)*1.0))
		if time<=0.then
			call UnitRemoveAbility(source,integers181[JGO])
			set JGO=JGO+1
			call UnitAddAbilityPermanent(source,integers181[JGO])
			call SaveInteger(HY,(GetHandleId(source)),(800),(JGO))
			call SaveReal(HY,(h),(442),((real414)*1.0))
		endif
	endif
	set source=null
	set t=null
	return false
endfunction

function Func4352 takes unit source returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.2,true)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_CAST)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4351))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(442),((real414)*1.0))
	call SaveInteger(HY,(GetHandleId(source)),(800),(6))
	call UnitAddAbilityPermanent(source,integers181[6])
	set t=null
endfunction

function Func4353 takes nothing returns nothing
	call Func4352(tt_unit1)
endfunction

function Func4354 takes unit ED6 returns nothing
	local unit source=Players_Hero[GetPlayerId(GetOwningPlayer(ED6))]
	local integer h=GetHandleId(source)
	local integer EE6=(LoadInteger(HY,(h),(279)))
	local integer i=1
	local integer x=1
	local unit E76
	loop
		exitwhen i>EE6
		set E76=(LoadUnitHandle(HY,(h),(1400+i)))
		if IsDead(E76)==false then
			call SaveUnitHandle(HY,(h),(1400+x),(E76))
			set x=x+1
		endif
		set i=i+1
	endloop
	set EE6=EE6-1
	call SaveInteger(HY,(h),(279),(EE6))
	set E76=null
	set source=null
endfunction

function Func4355 takes nothing returns boolean
	if GetUnitTypeId(GetTriggerUnit())=='o01X' then
		call Func4354(GetTriggerUnit())
	endif
	return false
endfunction

function Func4356 takes nothing returns nothing
	local unit E76
	local unit source=GetTriggerUnit()
	local integer h=GetHandleId(source)
	local integer EE6=(LoadInteger(HY,(h),(279)))
	local unit EH6=(LoadUnitHandle(HY,(h),(1400+1)))
	local real x
	local real y
	local integer JGO=(LoadInteger(HY,(GetHandleId(source)),(800)))
	if JGO>0 then
		if GetSpellTargetUnit()==null then
			set x=GetSpellTargetX()
			set y=GetSpellTargetY()
		else
			set x=GetUnitX(GetSpellTargetUnit())
			set y=GetUnitY(GetSpellTargetUnit())
		endif
		call UnitRemoveAbility(source,integers181[JGO])
		set JGO=IMaxBJ(0,JGO-1)
		call UnitAddAbilityPermanent(source,integers181[JGO])
		call SaveInteger(HY,(GetHandleId(source)),(800),(JGO))
		set E76=CreateUnit(GetOwningPlayer(source),'o01X',x,y,0)
		call UnitApplyTimedLife(E76,'BTLF',120)
		call SetUnitPathing(E76,false)
		set EE6=EE6+1
		call SaveUnitHandle(HY,(h),(1400+EE6),(E76))
		call SaveInteger(HY,(h),(279),(EE6))
		if(EE6>6)then
			call KillUnit(EH6)
		endif
	endif
	set E76=null
	set source=null
	set EH6=null
endfunction

function Func4357 takes nothing returns boolean
	if Func4341(GetSpellAbilityId())then
		call Func4356()
	endif
	return false
endfunction

function Func4358 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4357))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func4355))
	set integers181[0]='A31H'
	set integers181[1]='A31J'
	set integers181[2]='A31G'
	set integers181[3]='A2TH'
	set integers181[4]='A31L'
	set integers181[5]='A31I'
	set integers181[6]='A31K'
	set t=null
endfunction

function BoulderSmash_FindRock takes nothing returns boolean
	if IsUnitInGroup(GetFilterUnit(),group046)==false and(GetUnitTypeId(GetFilterUnit())=='o01X' or GetUnitTypeId(GetFilterUnit())=='o020')and GetFilterUnit()!=unit427 then
		call GroupAddUnit(group046,GetFilterUnit())
		set integer567=integer567+1
		if GetUnitTypeId(GetFilterUnit())=='o01X' then
			call KillUnit(GetFilterUnit())
		endif
	endif
	return false
endfunction

function Func4359 takes nothing returns nothing
	if IsUnitInGroup(GetEnumUnit(),group046)==false then
		call GroupAddUnit(group046,GetEnumUnit())
		call DamageTarget(unit426,GetEnumUnit(),1,real418)
		if integer568==1 then
			call StunTargetIF(unit426,GetEnumUnit(),0.25+0.5*integer566)
		endif
		if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) and((LoadInteger(HY,(GetHandleId((GetEnumUnit()))),((809))))==1)then
			set unit428=GetEnumUnit()
		endif
	endif
endfunction

function Func4360 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real QJI=(LoadReal(HY,(h),(6)))
	local real QKI=(LoadReal(HY,(h),(7)))
	local real a
	local real II3=(LoadReal(HY,(h),(23)))
	local real I13=(LoadReal(HY,(h),(24)))
	local real x
	local real y
	local boolean DM6=false
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	local group g
	local integer RockBonusCount=(LoadInteger(HY,(h),(34)))
	local integer HeroSTR=GetHeroStr(source,true)
	local unit E56=(LoadUnitHandle(HY,(h),(810)))
	if E56!=null then
		set QJI=GetUnitX(E56)
		set QKI=GetUnitY(E56)
	endif
	set a=bj_DEGTORAD*Func0159(GetUnitX(target),GetUnitY(target),QJI,QKI)
	set x=II3+(real417)*0.03*Cos(a)
	set y=I13+(real417)*0.03*Sin(a)
	if Func0141(x,y,QJI,QKI)<(5+(real417)*0.03)then
		set x=QJI
		set y=QKI
		set DM6=true
	endif
	set x=SafeX50(x)
	set y=SafeY50(y)
	set group046=PR2
	set unit426=source
	set integer566=GetUnitAbilityLevel(source,'A2UU')
	set real418=125
	set unit428=null
	if((LoadInteger(HY,(GetHandleId((target))),((4306))))==1) or GetTriggerEventId()==EVENT_UNIT_DEATH or GetUnitAbilityLevel(target,'B08V')>0 or((LoadInteger(HY,(GetHandleId((target))),((4336))))==1) or(E56==null and GetTriggerEvalCount(t)>200)then
		set DM6=true
	else
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",x,y))
		if GetUnitTypeId(target)=='o01X' or GetUnitTypeId(target)=='o020' then
			set integer568=1
			call SetUnitPosition(target,x,y)
			call SetUnitX(target,SafeX50(x))
			call SetUnitY(target,SafeY50(y))
		else
			set integer568=0
			call SetUnitX(target,SafeX50(x))
			call SetUnitY(target,SafeY50(y))
		endif
		call KillTrees(x,y,150)
		call SaveReal(HY,(h),(23),((x)*1.0))
		call SaveReal(HY,(h),(24),((y)*1.0))
		set g=GetAvailableGroup()
		set tt_unit1=source
		call GroupEnumUnitsInRange(g,x,y,200+25,Condition(function DefaultEnemyFilterWithAncients))
		call GroupRemoveUnit(g,target)
		call ForGroup(g,function Func4359)
		call KillGroup(g)
		if unit428!=null and integer568==1 then
			set g=GetAvailableGroup()
			set unit427=null
			set real009=9999
			call GroupEnumUnitsInRange(g,GetUnitX(unit428),GetUnitY(unit428),600+25,Condition(function Func4326))
			call KillGroup(g)
			if unit427!=null then
				set E56=unit427
				call SaveUnitHandle(HY,(h),(810),(E56))
				set DM6=false
			endif
		endif
		set g=null
	endif
	if DM6 then
		if GetUnitTypeId(target)!='o01X' then
			call SetUnitPathing(target,true)
		endif
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillGroup(PR2)
		call SaveInteger(HY,(GetHandleId((target))),((4335)),(2))
		if GetTriggerEventId()!=EVENT_UNIT_DEATH then
			if IsPlayerAlly(GetOwningPlayer(source),GetOwningPlayer(target))==false then
				call DamageTarget(unit426,target,1,real418)
			endif
		endif
	endif
	set target=null
	set t=null
	set PR2=null
	set source=null
	return false
endfunction

function Func4361 takes nothing returns boolean
	if GetUnitTypeId(GetFilterUnit())=='o01X' then
		return true
	endif
	return false
endfunction

function Func4362 takes nothing returns nothing
	local unit target=GetSpellTargetUnit()
	local unit source=GetTriggerUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2UU')
	local trigger t
	local integer h
	local real a
	local real x
	local real y
	local integer i=-1
	local boolean K3O=false
	local real d=400+100*lvl
	local group g
	if target==null then
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetSpellTargetX(),GetSpellTargetY(),180+25,Condition(function Func4361))
		set target=FirstOfGroup(g)
		call KillGroup(g)
		set g=null
		set a=GetUnitFacing(source)
	else
		set a=Func0158(source,target)
	endif
	if target==null then
		return
	endif
	set t=CreateTrigger()
	set h=GetHandleId(t)
	if source==target then
		set a=GetUnitFacing(source)
	endif
	if GetUnitTypeId(target)=='o01X' or GetUnitTypeId(target)=='o020' then
		set d=2000
	endif
	loop
		exitwhen K3O or i==23
		set i=i+1
		set x=SafeX50(GetUnitX(target)+(d-i*25)*Cos(a*bj_DEGTORAD))
		set y=SafeY50(GetUnitY(target)+(d-i*25)*Sin(a*bj_DEGTORAD))
		if(IsPointInRegion(region006,((x)*1.0),((y)*1.0)))==false then
			set K3O=true
		endif
	endloop
	call SetUnitPathing(target,false)
	call TriggerRegisterTimerEvent(t,0.03,true)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func4360))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	call SaveReal(HY,(h),(23),((GetUnitX(target))*1.0))
	call SaveReal(HY,(h),(24),((GetUnitY(target))*1.0))
	call SaveInteger(HY,(h),(34),(0))
	call SaveGroupHandle(HY,(h),(187),(GetAvailableGroup()))
	call SaveUnitHandle(HY,(h),(810),(null))
	call SaveInteger(HY,(GetHandleId((target))),((4335)),(1))
	set target=null
	set source=null
	set t=null
endfunction

function Func4363 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local group g
	if GetUnitTypeId(target)=='n00L' then
		call InterruptUnit(source)
		call Error(GetOwningPlayer(source),GetObjectName('n0K9'))
	elseif target==null then
		set g=GetAvailableGroup()
		call GroupEnumUnitsInRange(g,GetSpellTargetX(),GetSpellTargetY(),180+25,Condition(function Func4361))
		if FirstOfGroup(g)==null then
			call InterruptUnit(source)
			call Error(GetOwningPlayer(source),GetObjectName('n0K9'))
		endif
		call KillGroup(g)
		set g=null
	endif
	set source=null
	set target=null
endfunction

function Func4364 takes nothing returns boolean
	if GetSpellAbilityId()=='A2UU' then
		if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
			if IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==false or IsBlocked(GetSpellTargetUnit())==false then
				call Func4362()
			endif
		else
			call Func4363()
		endif
	endif
	return false
endfunction

function Func4365 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func4364))
	set t=null
endfunction

function Func4366 takes nothing returns nothing
	call DamageTarget(unit429,GetEnumUnit(),1,real419)
endfunction

function Func4367 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local group g
	local boolean EN6=false
	if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
		if Func4341(GetSpellAbilityId())and GetSpellTargetUnit()==caster then
			set EN6=true
		endif
	endif
	if EN6 or GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT then
		set g=GetAvailableGroup()
		call SetUnitX(target,GetUnitX(caster))
		call SetUnitY(target,GetUnitY(caster))
		call KillUnit(caster)
		call SetUnitInvulnerable(target,false)
		call PauseUnit(target,false)
		call ShowUnit(target,true)
		call ClearSelectionForPlayer(GetOwningPlayer(target))
		call SelectUnitAddForPlayer(target,GetOwningPlayer(target))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		set tt_unit1=source
		set unit429=source
		set real419=300
		call GroupEnumUnitsInRange(g,GetUnitX(target),GetUnitY(target),300+25,Condition(function DefaultEnemyFilterWithAncients))
		call ForGroup(g,function Func4366)
		call KillGroup(g)
	endif
	set g=null
	set t=null
	set source=null
	set target=null
	set caster=null
	return false
endfunction

function Func4368 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2S9')
	local trigger t
	local integer h
	local unit caster=CreateUnit(GetOwningPlayer(source),'o020',GetUnitX(target),GetUnitY(target),0)
	local integer JGO=(LoadInteger(HY,(GetHandleId(GetTriggerUnit())),(800)))
	if(IsUnitEnemy(target,GetOwningPlayer(source)))==false or IsBlocked(GetSpellTargetUnit())==false then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SelectUnitRemoveForPlayer(target,GetOwningPlayer(target))
		call SetUnitInvulnerable(target,true)
		call PauseUnit(target,true)
		call ShowUnit(target,false)
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveUnitHandle(HY,(h),(19),(caster))
		call TriggerRegisterTimerEvent(t,3,false)
		call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_SPELL_EFFECT)
		call TriggerAddCondition(t,Condition(function Func4367))
	endif
	set caster=CreateUnit(GetOwningPlayer(target),'o021',GetUnitX(target),GetUnitY(target),0)
	call UnitApplyTimedLife(caster,'BTLF',3)
	set source=null
	set target=null
	set caster=null
	set t=null
endfunction

function Func4369 takes nothing returns boolean
	if GetSpellAbilityId()=='A2S9' then
		call Func4368()
	endif
	return false
endfunction

function Func4370 takes nothing returns nothing
	if IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(LoadBoolean(HY,(GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))),(139)))and GetSpellTargetUnit()!=GetTriggerUnit()then
		call InterruptUnit(GetTriggerUnit())
		call Error(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n038'))
	endif
endfunction

function Func4371 takes nothing returns boolean
	if GetSpellAbilityId()=='A2S9' then
		call Func4370()
	endif
	return false
endfunction

function Func4372 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4369))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func4371))
	set t=null
endfunction

function Func4373 takes nothing returns nothing
	call UnitAddAbilityPermanent(tt_unit1,'A2S9')
endfunction

function Func4374 takes nothing returns nothing
	set unit431=GetEnumUnit()
	call ExecuteFunc("Func4380")
endfunction

function Func4375 takes nothing returns boolean
	return IsDead(GetFilterUnit())==false and(GetUnitTypeId(GetFilterUnit())=='o01X' or GetUnitTypeId(GetFilterUnit())=='o020')and((LoadInteger(HY,(GetHandleId((GetFilterUnit()))),((4335))))==1)==false and((LoadInteger(HY,(GetHandleId((GetFilterUnit()))),((4340))))==1)==false
endfunction

function Func4376 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real x=GetUnitX(target)
	local real y=GetUnitY(target)
	local group g=GetAvailableGroup()
	local integer Count=GetTriggerEvalCount(t)
	local integer lvl=GetUnitAbilityLevel(source,'A2TI')
	local real LVO=(LoadReal(HY,(GetHandleId(target)),(807)))
	if ModuloInteger(Count,5)==0 then
		call DamageTarget(source,target,1,(25+25*lvl)/2)
	endif
	set unit430=source
	set tt_unit1=source
	call GroupEnumUnitsInRange(g,x,y,400+25,Condition(function Func4375))
	call ForGroup(g,function Func4374)
	call KillGroup(g)
	if GetTime()>LVO or IsDead(target)then
		call SaveInteger(HY,(GetHandleId((target))),((809)),(2))
		call DestroyEffect((LoadEffectHandle(HY,(h),(32))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4377 takes unit source,unit target returns nothing
	local trigger t
	local integer h
	local real LVO=(LoadReal(HY,(GetHandleId(target)),(807)))
	call SaveReal(HY,(GetHandleId(target)),(807),((GetTime()+6)*1.0))
	if LVO<GetTime()then
		call SaveInteger(HY,(GetHandleId((target))),((809)),(1))
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveEffectHandle(HY,(h),(32),(AddSpecialEffectTarget("war3mapImported\\MagnetizeTargetOverhead.mdx",target,"origin")))
		call TriggerRegisterTimerEvent(t,0.1,true)
		call TriggerAddCondition(t,Condition(function Func4376))
	endif
	set t=null
endfunction

function Func4378 takes nothing returns nothing
	call Func4377(unit430,GetEnumUnit())
endfunction

function Func4379 takes unit source,unit target returns nothing
	local group g=GetAvailableGroup()
	local real x=GetUnitX(target)
	local real y=GetUnitY(target)
	local real V83=300
	if GetUnitTypeId(target)=='o01X' then
		call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherMissile\\DemolisherMissile.mdx",GetUnitX(target),GetUnitY(target)))
		call UnitApplyTimedLife(target,'BTLF',8)
		call SaveInteger(HY,(GetHandleId((target))),((4340)),(1))
		call SetUnitVertexColor(target,0,0,0,100)
		set V83=600
	else
		call DestroyEffect(AddSpecialEffect("war3mapImported\\MagnetizeCastAoE.mdx",GetUnitX(target),GetUnitY(target)))
	endif
	set tt_unit1=source
	set unit430=source
	set unit431=target
	call GroupEnumUnitsInRange(g,x,y,V83+25,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func4378)
	call KillGroup(g)
	set source=null
	set g=null
endfunction

function Func4380 takes nothing returns nothing
	call Func4379(unit430,unit431)
endfunction

function Func4381 takes nothing returns boolean
	if GetSpellAbilityId()=='A2TI' then
		call Func4379(GetTriggerUnit(),GetTriggerUnit())
	endif
	return false
endfunction

function Func4382 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4381))
	set t=null
endfunction

function Func4383 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call SetUnitAnimationByIndex(source,8)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func4384 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SetUnitAnimationByIndex(source,7)
	call TriggerRegisterTimerEvent(t,2.5,false)
	call TriggerAddCondition(t,Condition(function Func4383))
	call SaveUnitHandle(HY,(h),(2),(source))
	set t=null
	set source=null
endfunction

function Func4385 takes nothing returns boolean
	if GetUnitTypeId(GetTriggerUnit())=='N0MU' or GetUnitTypeId(GetTriggerUnit())=='N0MW' then
		call Func4384()
	endif
	return false
endfunction

function Func4386 takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func4385))
	set t=null
endfunction

function Func4387 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local real LVO=(LoadReal(HY,(GetHandleId(target)),(804)))
	if LVO>GetTime()or GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitRemoveAbility(target,'A2SP')
	endif
	set t=null
	set target=null
	return false
endfunction

function Func4388 takes unit target returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call SaveReal(HY,(GetHandleId(target)),(804),((GetTime()+10)*1.0))
	call SaveUnitHandle(HY,(h),(17),(target))
	call TriggerRegisterTimerEvent(t,0.1,true)
	call TriggerRegisterDeathEvent(t,target)
	call TriggerAddCondition(t,Condition(function Func4387))
	call UnitAddAbilityPermanent(target,'A2SP')
	call SetPlayerAbilityAvailable(GetOwningPlayer(target),'A2SP',false)
	set t=null
endfunction

function Func4389 takes nothing returns nothing
	if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)or IsUnitIllusion(GetEnumUnit()) then
		set boolean158=true
		call Func4388(GetEnumUnit())
	endif
	call DamageTarget(unit432,GetEnumUnit(),1,75*integer569)
endfunction

function Func4390 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MANA)+200)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	set t=null
	set source=null
	return false
endfunction

function Func4391 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local real x=(LoadReal(HY,(h),(6)))
	local real y=(LoadReal(HY,(h),(7)))
	local group g=GetAvailableGroup()
	set integer569=GetUnitAbilityLevel(source,'A2SO')
	set tt_unit1=source
	set unit432=source
	set boolean158=false
	call GroupEnumUnitsInRange(g,x,y,175+25,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func4389)
	call KillGroup(g)
	call Func0154("effects\\BasicWaterFlash.mdx",x,y,1)
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	if boolean158 then
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveUnitHandle(HY,(h),(2),(source))
		call TriggerRegisterTimerEvent(t,0,false)
		call TriggerAddCondition(t,Condition(function Func4390))
	endif
	set g=null
	set t=null
	set source=null
	return false
endfunction

function Func4392 takes nothing returns nothing
	local unit source=GetTriggerUnit()
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local integer lvl=GetUnitAbilityLevel(source,'A2SO')
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.6,false)
	call TriggerAddCondition(t,Condition(function Func4391))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveReal(HY,(h),(6),((x)*1.0))
	call SaveReal(HY,(h),(7),((y)*1.0))
	set source=null
	set t=null
endfunction

function Func4393 takes nothing returns boolean
	if GetSpellAbilityId()=='A2SO' then
		call Func4392()
	endif
	return false
endfunction

function Register_Pop takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4393))
	set t=null
endfunction

function Func4394 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=(LoadInteger(HY,(h),(5)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		if GetOwningPlayer(GetEventDamageSource())==GetOwningPlayer(source)or GetOwningPlayer(GetEventDamageSource())==GetOwningPlayer(target)then
			call DisableTrigger(t)
			call DamageTarget(source,target,3,GetEventDamage()*(0.6+0.1*lvl))
			call Func0137(source,GetEventDamage()*(0.6+0.1*lvl))
			call EnableTrigger(t)
		endif
	endif
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or IsDead(target)then
		call DestroyEffect((LoadEffectHandle(HY,(h),(175))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(176))))
		call DestroyEffect((LoadEffectHandle(HY,(h),(177))))
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call UnitRemoveAbility(target,'A2SH')
		call UnitRemoveAbility(target,'B0GQ')
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4395 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local integer lvl=GetUnitAbilityLevel(source,'A2SI')
	call UnitAddAbilityPermanent(target,'A2SH')
	call TriggerRegisterDeathEvent(t,target)
	call TriggerRegisterUnitEvent(t,source,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,3.5+0.5*lvl,false)
	call TriggerAddCondition(t,Condition(function Func4394))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	call SaveInteger(HY,(h),(5),(lvl))
	call SaveEffectHandle(HY,(h),(175),(AddSpecialEffectTarget("effects\\PoisonHands.mdx",target,"overhead")))
	call SaveEffectHandle(HY,(h),(176),(AddSpecialEffectTarget("effects\\PoisonHands.mdx",target,"hand,left")))
	call SaveEffectHandle(HY,(h),(177),(AddSpecialEffectTarget("effects\\PoisonHands.mdx",target,"hand,right")))
	set t=null
	set source=null
	set target=null
endfunction

function Func4396 takes nothing returns boolean
	if GetSpellAbilityId()=='A2SI' then
		call Func4395()
	endif
	return false
endfunction

function Register_SealedFate takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4396))
	set t=null
endfunction

function Func4397 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit IYO=(LoadUnitHandle(HY,(h),(335)))
	if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
		call SetUnitState(target,UNIT_STATE_LIFE,RMaxBJ(1,GetUnitState(target,UNIT_STATE_LIFE)-GetEventDamage()))
	elseif GetTriggerEventId()==EVENT_WIDGET_DEATH then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		if GetTriggerUnit()==target then
			call KillUnit(IYO)
		endif
	else
		call IssueTargetOrderById(IYO,851986,target)
	endif
	set t=null
	set source=null
	set target=null
	set IYO=null
	return false
endfunction

function Func4398 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local unit IYO=GetSummonedUnit()
	local unit caster
	if GetUnitAbilityLevel(IYO,'B0GO')>0 then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveUnitHandle(HY,(h),(2),(source))
		call SaveUnitHandle(HY,(h),(17),(target))
		call SaveUnitHandle(HY,(h),(335),(IYO))
		call TriggerRegisterDeathEvent(t,IYO)
		call TriggerRegisterDeathEvent(t,target)
		call TriggerRegisterUnitEvent(t,IYO,EVENT_UNIT_DAMAGED)
		call TriggerRegisterTimerEvent(t,0.1,true)
		call TriggerAddCondition(t,Condition(function Func4397))
		set caster=CreateUnit(GetOwningPlayer(IYO),'e00E',GetUnitX(IYO),GetUnitY(IYO),0)
		call UnitAddAbility(caster,'A2RU')
		call SetUnitAbilityLevel(caster,'A2RU',GetUnitAbilityLevel(source,'A2QW'))
		call IssueTargetOrder(caster,"banish",IYO)
		call UnitShareVision(IYO,GetOwningPlayer(source),true)
		call IssueTargetOrderById(IYO,851986,target)
	endif
	set t=null
	set source=null
	set target=null
	set IYO=null
	set caster=null
	return false
endfunction

function Func4399 takes nothing returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local unit source=GetTriggerUnit()
	local unit target=GetSpellTargetUnit()
	local unit caster
	local player p
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func4398))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	if IsUnitAlly(target,Sentinels[0]) then
		set p=Sentinels[0]
	else
		set p=Scourges[0]
	endif
	set caster=CreateUnit(p,'e00E',GetUnitX(target),GetUnitY(target),0)
	call UnitAddAbility(caster,'A2RT')
	call SetUnitAbilityLevel(caster,'A2RT',GetUnitAbilityLevel(source,'A2QW'))
	call IssueTargetOrderById(caster,ORDER_wandillusion,target)
	set t=null
	set source=null
	set target=null
endfunction

function Func4400 takes nothing returns boolean
	if GetSpellAbilityId()=='A2QW' then
		call Func4399()
	endif
	return false
endfunction

function Register_SoulFragment takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4400))
	set t=null
endfunction

function Func4401 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	local unit target=(LoadUnitHandle(HY,(h),(17)))
	local integer lvl=GetUnitAbilityLevel(source,'A2SQ')
	if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
	else
		call SetUnitState(source,UNIT_STATE_LIFE,GetUnitState(source,UNIT_STATE_LIFE)+GetEventDamage()*(0.25+0.25*lvl))
		call SetUnitState(source,UNIT_STATE_MANA,GetUnitState(source,UNIT_STATE_MANA)+GetEventDamage()*(0.25*lvl))
	endif
	set t=null
	set source=null
	set target=null
	return false
endfunction

function Func4402 takes unit source,unit target returns nothing
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	call TriggerRegisterUnitEvent(t,target,EVENT_UNIT_DAMAGED)
	call TriggerRegisterTimerEvent(t,4,false)
	call TriggerAddCondition(t,Condition(function Func4401))
	call SaveUnitHandle(HY,(h),(2),(source))
	call SaveUnitHandle(HY,(h),(17),(target))
	set t=null
endfunction

function Func4403 takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit source=(LoadUnitHandle(HY,(h),(2)))
	call FlushChildHashtable(HY,(h))
	call CleanTrigger(t)
	call UnitAddAbility(source,'A2SX')
	call UnitRemoveAbility(source,'A2SX')
	set source=null
	set t=null
	return false
endfunction

function Func4404 takes nothing returns nothing
	if Func0091(GetEnumUnit())==false then
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\SpellShieldAmulet\\SpellShieldCaster.mdl",GetEnumUnit(),"overhead"))
		call SetUnitOwner(unit433,GetOwningPlayer(GetEnumUnit()),false)
		call IssueTargetOrder(unit433,"banish",GetEnumUnit())
		call Func4402(unit434,GetEnumUnit())
	endif
endfunction

function RiftWalk_Move takes nothing returns boolean
	local trigger t=GetTriggeringTrigger()
	local integer h=GetHandleId(t)
	local unit Hero=(LoadUnitHandle(HY,(h),(14)))
	local real x2=(LoadReal(HY,(h),(66)))
	local real y2=(LoadReal(HY,(h),(67)))
	local real a=(LoadReal(HY,(h),(137)))
	local integer Count=GetTriggerEvalCount(t)
	local real x=GetUnitX(Hero)
	local real y=GetUnitY(Hero)
	local real II3=(LoadReal(HY,(h),(23)))
	local real I13=(LoadReal(HY,(h),(24)))
	local unit caster=(LoadUnitHandle(HY,(h),(19)))
	local group g=GetAvailableGroup()
	local group PR2=(LoadGroupHandle(HY,(h),(187)))
	local integer lvl=GetUnitAbilityLevel(Hero,'A2SQ')
	if Func0141(x,y,x2,y2)<=real420 then
		set x=x2
		set y=y2
	else
		set x=SafeX50(II3+65*Cos(a*bj_DEGTORAD))
		set y=SafeY50(I13+65*Sin(a*bj_DEGTORAD))
	endif
	set tt_unit1=Hero
	set group047=PR2
	set unit433=caster
	set unit434=Hero
	call GroupEnumUnitsInRange(g,x,y,200+25,Condition(function DefaultEnemyFilterWithAncients))
	call ForGroup(g,function Func4404)
	call KillGroup(g)
	call SaveReal(HY,(h),(23),((x)*1.0))
	call SaveReal(HY,(h),(24),((y)*1.0))
	call SetUnitX(Hero,x)
	call SetUnitY(Hero,y)
	if(x==x2 and y==y2)or Count>40 then
		call KillGroup(PR2)
		call FlushChildHashtable(HY,(h))
		call CleanTrigger(t)
		call KillUnit(caster)
		call UnitAddAbility(Hero,'A2SW')
		call UnitRemoveAbility(Hero,'A2SW')
		set t=CreateTrigger()
		set h=GetHandleId(t)
		call SaveUnitHandle(HY,(h),(2),(Hero))
		call TriggerRegisterTimerEvent(t,4,false)
		call TriggerAddCondition(t,Condition(function Func4403))
		call SetUnitAnimation(Hero,"stand")
		call SetUnitPathing(Hero,true)
		call SetUnitInvulnerable(Hero,false)
		if GetUnitTypeId(Hero)=='E02X' then
			call SetUnitVertexColor(Hero,255,255,255,255)
		else
			call SetUnitVertexColor(Hero,255,255,255,255)
		endif
		call SaveInteger(HY,(GetHandleId((Hero))),((4261)),(2))
	endif
	set t=null
	set Hero=null
	set caster=null
	return false
endfunction

function Func4405 takes nothing returns nothing
	local unit Hero=GetTriggerUnit()
	local location l
	local trigger t=CreateTrigger()
	local integer h=GetHandleId(t)
	local real x1=GetUnitX(Hero)
	local real y1=GetUnitY(Hero)
	local real x2
	local real y2
	local real a
	local unit caster=CreateUnit(GetOwningPlayer(Hero),'e00E',x1,y1,0)
	local group g=GetAvailableGroup()
	if GetSpellTargetUnit()==null then
		set l=GetSpellTargetLoc()
	else
		set l=GetUnitLoc(GetSpellTargetUnit())
	endif
	set x2=GetLocationX(l)
	set y2=GetLocationY(l)
	set a=Func0159(x1,y1,x2,y2)
	call RemoveLocation(l)
	call UnitAddAbilityPermanent(caster,'A2SV')
	call SetUnitAbilityLevel(caster,'A2SV',GetUnitAbilityLevel(Hero,'A2SQ'))
	set unit433=caster
	set unit434=Hero
	call GroupEnumUnitsInRange(g,x2,y2,200+25,Condition(function Func0271))
	call ForGroup(g,function Func4404)
	call KillGroup(g)
	set g=null
	call UnitAddAbility(Hero,'A2SW')
	call UnitRemoveAbility(Hero,'A2SW')
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call SaveUnitHandle(HY,(h),(2),(Hero))
	call TriggerRegisterTimerEvent(t,4,false)
	call TriggerAddCondition(t,Condition(function Func4403))
	set Hero=null
	set l=null
	set t=null
	set caster=null
endfunction

function Func4406 takes nothing returns boolean
	if GetSpellAbilityId()=='A2SQ' then
		call Func4405()
	endif
	return false
endfunction

function Register_RiftWalk takes nothing returns nothing
	local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func4406))
	set t=null
endfunction

function main takes nothing returns nothing
	local weathereffect we
	local integer i
	local player p
	local unit u
	local integer MSI
	local trigger t
	local real life
	local integer MLI
	local integer MMI
	local version v
	local integer MGI
	local real HE1
	local real HF1
	local real HG1
	local real HH1
	local real HZ1
	local real HV1
	local real HW1
	local real HX1
	local real HY1
	local real HJ1
	local real HK1
	local real HL1
	local real HM1
	local real HN1
	local real HS1
	local real HT1
	local real HR1
	local real HP1
	local real HQ1
	local real HU1
	local integer Z01
	local player T4I
	local real ZH1
	local real ZZ1
	local real ZV1
	local real ZW1
	local real ZX1
	local real ZY1
	local real ZJ1
	local real ZK1
	local real ZL1
	local real ZM1
	local real ZN1
	local real ZS1
	local real ZT1
	local real ZR1
	local real ZP1
	local real ZQ1
	local real ZU1
	local real V01
	local real VI1
	local real V11
	local real VO1
	local real V21
	local real V31
	local real V41
	local location BFO
	local region S5O
	local real d
	local integer h
	call SetCameraBounds(-7552.0+GetCameraMargin(CAMERA_MARGIN_LEFT),-7936.0+GetCameraMargin(CAMERA_MARGIN_BOTTOM),7552.0-GetCameraMargin(CAMERA_MARGIN_RIGHT),7424.0-GetCameraMargin(CAMERA_MARGIN_TOP),-7552.0+GetCameraMargin(CAMERA_MARGIN_LEFT),7424.0-GetCameraMargin(CAMERA_MARGIN_TOP),7552.0-GetCameraMargin(CAMERA_MARGIN_RIGHT),-7936.0+GetCameraMargin(CAMERA_MARGIN_BOTTOM))
	call SetDayNightModels("Environment\\DNC\\DNCFelwood\\DNCFelwoodTerrain\\DNCFelwoodTerrain.mdl","Environment\\DNC\\DNCFelwood\\DNCFelwoodUnit\\DNCFelwoodUnit.mdl")
	call SetWaterBaseColor(0,0,255,255)
	call NewSoundEnvironment("Default")
	call SetAmbientDaySound("FelwoodDay")
	call SetAmbientNightSound("FelwoodNight")
	call SetMapMusic("Music",true,0)
	set sound001=CreateSound("Abilities\\Spells\\Human\\Avatar\\Avatar.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound001,"Avatar")
	call SetSoundDuration(sound001,3199)
	set sound002=CreateSound("Abilities\\Spells\\NightElf\\Blink\\BlinkArrival1.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound002,"BlinkTarget")
	call SetSoundDuration(sound002,1466)
	call SetSoundPitch(sound002,1.6)
	set sound003=CreateSound("Abilities\\Spells\\Human\\Blizzard\\BlizzardLoop1.wav",true,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound003,"BlizzardLoop")
	call SetSoundDuration(sound003,4000)
	set sound004=CreateSound("Buildings\\Undead\\TempleOfTheDamned\\TempleOfTheDamnedWhat.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound004,"TempleOfTheDamnedWhat")
	call SetSoundDuration(sound004,3518)
	call SetSoundDistanceCutoff(sound004,2000.0)
	set sound005=CreateSound("Abilities\\Spells\\Human\\Flare\\FlareTarget2.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound005,"Flare2")
	call SetSoundDuration(sound005,1344)
	call SetSoundDistanceCutoff(sound005,2000.0)
	set sound006=CreateSound("Sounds\\Dominating.mp3",false,false,false,10,10,"DefaultEAXON")
	call SetSoundDuration(sound006,1802)
	call SetSoundChannel(sound006,0)
	call SetSoundVolume(sound006,127)
	call SetSoundPitch(sound006,1.0)
	set sound007=CreateSound("Sounds\\Double_Kill.mp3",false,false,false,10,10,"DefaultEAXON")
	call SetSoundDuration(sound007,2012)
	call SetSoundChannel(sound007,0)
	call SetSoundVolume(sound007,127)
	call SetSoundPitch(sound007,1.0)
	set sound008=CreateSound("Sounds\\firstblood.mp3",false,false,false,10,10,"DefaultEAXON")
	call SetSoundDuration(sound008,1567)
	call SetSoundChannel(sound008,0)
	call SetSoundVolume(sound008,127)
	call SetSoundPitch(sound008,1.0)
	set sound009=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperPissed1.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound009,"GoblinSapperPissed")
	call SetSoundDuration(sound009,1515)
	call SetSoundChannel(sound009,0)
	set sound010=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack1.wav",false,false,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound010,"GoblinSapperYesAttack")
	call SetSoundDuration(sound010,813)
	call SetSoundChannel(sound010,0)
	set sound011=CreateSound("Sounds\\GodLike.mp3",false,false,false,10,10,"DefaultEAXON")
	call SetSoundDuration(sound011,1828)
	call SetSoundChannel(sound011,0)
	call SetSoundVolume(sound011,127)
	call SetSoundPitch(sound011,1.0)
	set sound012=CreateSound("Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed1.wav",false,true,true,10,10,"HeroAcksEAX")
	call SetSoundParamsFromLabel(sound012,"HeroBladeMasterPissed")
	call SetSoundDuration(sound012,2235)
	set sound013=CreateSound("Sounds\\HolyShit.mp3",false,false,false,10,10,"DefaultEAXON")
	call SetSoundDuration(sound013,2325)
	call SetSoundChannel(sound013,0)
	call SetSoundVolume(sound013,127)
	call SetSoundPitch(sound013,1.0)
	set sound014=CreateSound("Buildings\\NightElf\\MoonWell\\MoonWellWhat1.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound014,"MoonWellWhat")
	call SetSoundDuration(sound014,2972)
	call SetSoundDistances(sound014,600.0,10000.0)
	call SetSoundDistanceCutoff(sound014,2000.0)
	set sound015=CreateSound("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaos.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound015,"MarkOfChaos")
	call SetSoundDuration(sound015,4000)
	set sound016=CreateSound("Sounds\\Killing_Spree.mp3",false,false,false,10,10,"DefaultEAXON")
	call SetSoundDuration(sound016,2377)
	call SetSoundChannel(sound016,0)
	call SetSoundVolume(sound016,127)
	call SetSoundPitch(sound016,1.0)
	set sound017=CreateSound("Sound\\Buildings\\Death\\NightElfBuildingDeathSmall1.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound017,"DeathNightElfBuildingCancel")
	call SetSoundDuration(sound017,3675)
	set sound018=CreateSound("Sounds\\MegaKill.mp3",false,false,false,10,10,"DefaultEAXON")
	call SetSoundDuration(sound018,2612)
	call SetSoundChannel(sound018,0)
	call SetSoundVolume(sound018,127)
	call SetSoundPitch(sound018,1.0)
	set sound019=CreateSound("Abilities\\Spells\\NightElf\\ShadowMeld\\ShadowMeld1.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound019,"ShadowMeld")
	call SetSoundDuration(sound019,941)
	set sound020=CreateSound("Sounds\\MonsterKill.mp3",false,false,false,10,10,"DefaultEAXON")
	call SetSoundDuration(sound020,3344)
	call SetSoundChannel(sound020,0)
	call SetSoundVolume(sound020,127)
	call SetSoundPitch(sound020,1.0)
	set sound021=CreateSound("Units\\Creeps\\Ogre\\OgrePissed1.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound021,"OgrePissed")
	call SetSoundDuration(sound021,3309)
	set sound022=CreateSound("Sounds\\Ownage.mp3",false,false,false,10,10,"DefaultEAXON")
	call SetSoundDuration(sound022,2586)
	call SetSoundChannel(sound022,0)
	call SetSoundVolume(sound022,127)
	call SetSoundPitch(sound022,1.0)
	set sound023=CreateSound("Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed1.wav",false,true,true,10,10,"HeroAcksEAX")
	call SetSoundParamsFromLabel(sound023,"PandarenBrewmasterPissed")
	call SetSoundDuration(sound023,2316)
	set sound024=CreateSound("Abilities\\Spells\\Human\\Polymorph\\PolymorphDone.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound024,"PolymorphDone")
	call SetSoundDuration(sound024,1498)
	set sound025=CreateSound("Buildings\\Naga\\TempleofTides\\TempleOfTidesWhat1.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound025,"TempleOfTidesWhat")
	call SetSoundDuration(sound025,3483)
	call SetSoundDistanceCutoff(sound025,2000.0)
	set sound026=CreateSound("Buildings\\Undead\\TombOfRelics\\TombOfRelicsWhat1.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound026,"TombOfRelicsWhat")
	call SetSoundDuration(sound026,3065)
	call SetSoundDistanceCutoff(sound026,2000.0)
	set sound027=CreateSound("Abilities\\Spells\\Orc\\Disenchant\\Disenchant.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound027,"Disenchant")
	call SetSoundDuration(sound027,2043)
	set sound028=CreateSound("Sound\\Interface\\Rescue.wav",false,false,false,10,10,"")
	call SetSoundParamsFromLabel(sound028,"Rescue")
	call SetSoundDuration(sound028,3796)
	set sound029=CreateSound("Abilities\\Spells\\Undead\\Sleep\\SleepBirth1.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound029,"Sleep")
	call SetSoundDuration(sound029,3203)
	set sound030=CreateSound("Abilities\\Spells\\Undead\\DevourMagic\\DevourMagic.wav",false,true,true,10,10,"MissilesEAX")
	call SetSoundParamsFromLabel(sound030,"DevourMagicLaunch")
	call SetSoundDuration(sound030,1225)
	set sound031=CreateSound("Abilities\\Spells\\Other\\BlackArrow\\TheBlackArrow.wav",false,true,true,10,10,"MissilesEAX")
	call SetSoundParamsFromLabel(sound031,"BlackArrowHit")
	call SetSoundDuration(sound031,1776)
	call SetSoundVolume(sound031,50)
	set sound032=CreateSound("Sound\\Ambient\\DoodadEffects\\TheHornOfCenarius.wav",false,false,false,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound032,"HornOfCenariusSound")
	call SetSoundDuration(sound032,12121)
	call SetSoundVolume(sound032,115)
	set sound033=CreateSound("Sounds\\triple_kill.mp3",false,false,false,10,10,"DefaultEAXON")
	call SetSoundDuration(sound033,1907)
	call SetSoundChannel(sound033,0)
	call SetSoundVolume(sound033,127)
	call SetSoundPitch(sound033,1.0)
	set sound034=CreateSound("Sounds\\Unstoppable.mp3",false,false,false,10,10,"DefaultEAXON")
	call SetSoundDuration(sound034,2038)
	call SetSoundChannel(sound034,0)
	call SetSoundVolume(sound034,127)
	call SetSoundPitch(sound034,1.0)
	set sound035=CreateSound("Abilities\\Spells\\Human\\DivineShield\\PaladinDivineShieldDeath1.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound035,"DivineShieldDeath")
	call SetSoundDuration(sound035,1043)
	call SetSoundDistanceCutoff(sound035,1500.0)
	set sound036=CreateSound("Abilities\\Spells\\Items\\AIso\\SoulGem.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound036,"SoulGem")
	call SetSoundDuration(sound036,4474)
	set sound037=CreateSound("Sounds\\WhickedSick.mp3",false,false,false,10,10,"DefaultEAXON")
	call SetSoundDuration(sound037,2612)
	call SetSoundChannel(sound037,0)
	call SetSoundVolume(sound037,127)
	call SetSoundPitch(sound037,1.0)
	set sound038=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack4.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound038,"GoblinSapperYesAttack")
	call SetSoundDuration(sound038,1091)
	call SetSoundChannel(sound038,0)
	set sound039=CreateSound("Abilities\\Spells\\NightElf\\shadowstrike\\ShadowStrikeBirth1.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound039,"ShadowStrikeBirth")
	call SetSoundDuration(sound039,2194)
	call SetSoundPitch(sound039,1.2)
	set sound040=CreateSound("Abilities\\Spells\\Other\\BlackArrow\\TheBlackArrow.wav",false,true,true,10,10,"MissilesEAX")
	call SetSoundParamsFromLabel(sound040,"BlackArrowHit")
	call SetSoundDuration(sound040,1776)
	call SetSoundPitch(sound040,1.6)
	set sound041=CreateSound("Abilities\\Spells\\NightElf\\CorrosiveBreath\\CorrosiveBreathMissileLaunch1.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound041,"CorrosiveBreathMissileLaunch")
	call SetSoundDuration(sound041,1301)
	call SetSoundPitch(sound041,1.2)
	set sound042=CreateSound("Sound\\Interface\\Warning\\NightElf\\SentinelAllyHeroDies1.wav",false,false,false,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound042,"AllyHeroDiesNightElf")
	call SetSoundDuration(sound042,1963)
	call SetSoundVolume(sound042,127)
	set sound043=CreateSound("Sound\\Interface\\Warning\\Undead\\NecromancerAllyHeroDies1.wav",false,false,false,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound043,"AllyHeroDiesUndead")
	call SetSoundDuration(sound043,1933)
	call SetSoundVolume(sound043,127)
	set sound044=CreateSound("Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.wav",false,false,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound044,"ReviveHuman")
	call SetSoundDuration(sound044,3196)
	call SetSoundChannel(sound044,8)
	set sound045=CreateSound("Sound\\Interface\\SecretFound.wav",false,false,false,10,10,"")
	call SetSoundParamsFromLabel(sound045,"SecretFound")
	call SetSoundDuration(sound045,2525)
	set sound046=CreateSound("Sounds\\UltraKill.mp3",false,false,false,10,10,"")
	call SetSoundDuration(sound046,1958)
	call SetSoundChannel(sound046,0)
	call SetSoundVolume(sound046,127)
	call SetSoundPitch(sound046,1.0)
	set sound047=CreateSound("Sounds\\Rampage.mp3",false,false,false,10,10,"")
	call SetSoundDuration(sound047,1195)
	call SetSoundChannel(sound047,0)
	call SetSoundVolume(sound047,127)
	call SetSoundPitch(sound047,1.0)
	set sound048=CreateSound("Buildings\\NightElf\\AltarOfElders\\AltarOfEldersWhat1.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound048,"AltarOfEldersWhat")
	call SetSoundDuration(sound048,3496)
	set sound049=CreateSound("Units\\Orc\\AncestralGuardian\\AncestralGuardianAttack1.wav",false,true,true,10,10,"CombatSoundsEAX")
	call SetSoundParamsFromLabel(sound049,"AncestralGuardianAttack1")
	call SetSoundDuration(sound049,1181)
	set sound050=CreateSound("Abilities\\Spells\\Human\\Feedback\\Feedback.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound050,"Feedback")
	call SetSoundDuration(sound050,1222)
	set sound051=CreateSound("Units\\Undead\\Abomination\\AbominationPissed5.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound051,"AbominationPissed")
	call SetSoundDuration(sound051,1735)
	set sound052=CreateSound("Units\\Undead\\Abomination\\AbominationDeath1.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound052,"AbominationDeath")
	call SetSoundDuration(sound052,2455)
	set sound053=CreateSound("Sound\\Units\\Death\\ArtilleryCorpseExplodeDeath1.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound053,"ArtilleryExplodeDeath")
	call SetSoundDuration(sound053,1486)
	set sound054=CreateSound("Units\\Undead\\CryptFiend\\CryptFiendPissed2.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound054,"CryptFiendPissed")
	call SetSoundDuration(sound054,3541)
	set sound055=CreateSound("Units\\Undead\\Banshee\\BansheeDeath.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound055,"BansheeDeath")
	call SetSoundDuration(sound055,2380)
	set sound056=CreateSound("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTargetWaveNonLoop1.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound056,"FlameStrikeTarget")
	call SetSoundDuration(sound056,1927)
	set sound057=CreateSound("Abilities\\Spells\\Other\\Volcano\\VolcanoLoop.wav",false,false,false,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound057,"VolcanoLoop")
	call SetSoundDuration(sound057,7616)
	set sound058=CreateSound("Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.wav",false,false,false,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound058,"ThunderClap")
	call SetSoundDuration(sound058,3451)
	set sound059=CreateSound("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImage.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound059,"MirrorImage")
	call SetSoundDuration(sound059,1756)
	set sound060=CreateSound("Abilities\\Spells\\Human\\CloudOfFog\\CloudOfFogLoop1.wav",true,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound060,"CloudOfFogLoop")
	call SetSoundDuration(sound060,2038)
	call SetSoundPitch(sound060,0.9)
	set sound061=CreateSound("Units\\Human\\Gyrocopter\\GyrocopterPissed1.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound061,"GyrocopterPissed")
	call SetSoundDuration(sound061,3913)
	set sound062=CreateSound("Sound\\Interface\\SecretFound.wav",false,false,false,10,10,"")
	call SetSoundParamsFromLabel(sound062,"SecretFound")
	call SetSoundDuration(sound062,2525)
	set sound063=CreateSound("Sound\\Interface\\Hint.wav",false,false,false,10,10,"")
	call SetSoundParamsFromLabel(sound063,"Hint")
	call SetSoundDuration(sound063,2006)
	set sound064=CreateSound("war3mapImported\\pl_impact_stun.mp3",false,true,true,10,10,"SpellsEAX")
	call SetSoundDuration(sound064,1340)
	call SetSoundChannel(sound064,11)
	call SetSoundVolume(sound064,127)
	call SetSoundPitch(sound064,1.0)
	call SetSoundDistances(sound064,600.0,10000.0)
	call SetSoundDistanceCutoff(sound064,2000.0)
	call SetSoundConeAngles(sound064,0.0,0.0,127)
	call SetSoundConeOrientation(sound064,0.0,0.0,0.0)
	set sound065=CreateSound("Sound\\Buildings\\Fire\\OrcHumanLargeBuildingFire1.wav",true,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound065,"HumanFireLarge")
	call SetSoundDuration(sound065,3471)
	set sound066=CreateSound("Units\\Human\\Phoenix\\PhoenixEggWhat1.wav",false,false,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound066,"PhoenixEggWhat")
	call SetSoundDuration(sound066,1579)
	call SetSoundChannel(sound066,0)
	set sound067=CreateSound("Abilities\\Spells\\NightElf\\BattleRoar\\BattleRoar.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound067,"BattleRoar")
	call SetSoundDuration(sound067,1991)
	set sound068=CreateSound("Buildings\\Undead\\Ziggurat\\ZigguratUpgrade.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound068,"ZigguratUpgradeWhat")
	call SetSoundDuration(sound068,4203)
	call SetSoundDistances(sound068,600.0,10000.0)
	call SetSoundDistanceCutoff(sound068,3000.0)
	set sound069=CreateSound("Abilities\\Spells\\Human\\SpellSteal\\SpellStealMissile.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound069,"SpellStealMissileLaunch")
	call SetSoundDuration(sound069,1541)
	set sound070=CreateSound("Abilities\\Spells\\Human\\SpellSteal\\SpellStealTarget.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound070,"SpellStealTarget")
	call SetSoundDuration(sound070,984)
	set sound071=CreateSound("Abilities\\Spells\\Undead\\UndeadMine\\AcolyteMining.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound071,"AcolyteMining")
	call SetSoundDuration(sound071,4233)
	call SetSoundChannel(sound071,0)
	set sound072=CreateSound("Abilities\\Weapons\\AvengerMissile\\DestroyerMissile.wav",false,true,true,10,10,"MissilesEAX")
	call SetSoundParamsFromLabel(sound072,"DestroyerMissileLaunch")
	call SetSoundDuration(sound072,817)
	set sound073=CreateSound("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouch.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound073,"SpiritTouch")
	call SetSoundDuration(sound073,2043)
	call SetSoundChannel(sound073,11)
	set sound074=CreateSound("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTargetWaveNonLoop1.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound074,"FlameStrikeTarget")
	call SetSoundDuration(sound074,1927)
	set sound075=CreateSound("Units\\Orc\\SentryWard\\SentryWard.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound075,"SentryWardBirth")
	call SetSoundDuration(sound075,1499)
	set sound076=CreateSound("Buildings\\Orc\\TaurenTotem\\TaurenTotemWhat1.wav",false,true,true,10,10,"DefaultEAXON")
	call SetSoundParamsFromLabel(sound076,"TaurenTotemWhat")
	call SetSoundDuration(sound076,3785)
	set sound077=CreateSound("Abilities\\Weapons\\GargoyleMissile\\GargoyleMissileLaunch3.wav",false,true,true,10,10,"MissilesEAX")
	call SetSoundParamsFromLabel(sound077,"GargoyleMissileLaunch")
	call SetSoundDuration(sound077,919)
	set sound078=CreateSound("Abilities\\Spells\\Items\\ResourceItems\\ReceiveGold.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound078,"ReceiveGold")
	call SetSoundDuration(sound078,589)
	set sound079=CreateSound("Abilities\\Spells\\Human\\InnerFire\\InnerFireBirth.wav",false,true,true,10,10,"SpellsEAX")
	call SetSoundParamsFromLabel(sound079,"InnerFire")
	call SetSoundDuration(sound079,2096)
	set rect001=Rect(6176.0,3136.0,6400.0,3392.0)
	set rect002=Rect(3616.0,3584.0,3872.0,3872.0)
	set rect003=Rect(2304.0,5280.0,2752.0,5728.0)
	set Hero_Creation_UD=Rect(6176.0,5952.0,6624.0,6240.0)
	set rect005=Rect(-4224.0,-6848.0,-3968.0,-6592.0)
	set rect006=Rect(-6304.0,-4384.0,-6080.0,-4224.0)
	set rect007=Rect(-4928.0,-5760.0,-4736.0,-5536.0)
	set rect008=Rect(6048.0,3424.0,6304.0,3776.0)
	set rect009=Rect(4128.0,3776.0,4352.0,4032.0)
	set rect010=Rect(2752.0,5408.0,3040.0,5632.0)
	set Hero_Creation_NE=Rect(-7040.0,-6912.0,-6688.0,-6656.0)
	set rect012=Rect(-3648.0,-6880.0,-3424.0,-6688.0)
	set rect013=Rect(-6336.0,-4224.0,-5984.0,-3904.0)
	set rect014=Rect(-4896.0,-5504.0,-4608.0,-5184.0)
	set rect015=Rect(2912.0,-2944.0,3104.0,-2720.0)
	set rect016=Rect(5696.0,5504.0,7296.0,7392.0)
	set rect017=Rect(-7680.0,-8032.0,-6176.0,-6240.0)
	set rect018=Rect(-2464.0,1536.0,-2240.0,1760.0)
	set rect019=Rect(4512.0,-1120.0,4768.0,-832.0)
	set rect020=Rect(-3328.0,-416.0,-3104.0,-96.0)
	set rect021=Rect(1440.0,-4096.0,1728.0,-3872.0)
	set rect022=Rect(-4576.0,3328.0,-4448.0,3488.0)
	set rect023=Rect(-3264.0,4192.0,-2912.0,4320.0)
	set rect024=Rect(2848.0,-5088.0,3072.0,-4928.0)
	set rect025=Rect(-1824.0,2240.0,-1472.0,2464.0)
	set rect026=Rect(3008.0,-3776.0,3136.0,-3648.0)
	set rect027=Rect(1184.0,2976.0,1280.0,3104.0)
	set rect028=Rect(-512.0,-3648.0,-320.0,-3520.0)
	set rect029=Rect(-7104.0,6656.0,-6848.0,6912.0)
	set rect030=Rect(-7104.0,6656.0,-6880.0,6880.0)
	set rect031=Rect(-5952.0,-6432.0,-5248.0,-5728.0)
	set rect032=Rect(5088.0,7488.0,5792.0,8192.0)
	set rect033=Rect(4032.0,-2432.0,4320.0,-2144.0)
	set rect034=Rect(3904.0,-1408.0,4960.0,-640.0)
	set rect035=Rect(-3552.0,-768.0,-2528.0,320.0)
	set rect036=Rect(1056.0,-5216.0,2368.0,-3744.0)
	set rect037=Rect(-5120.0,3008.0,-3648.0,4320.0)
	set rect038=Rect(-3456.0,3808.0,-2656.0,4864.0)
	set rect039=Rect(2272.0,-6080.0,3776.0,-4928.0)
	set rect040=Rect(-1888.0,2208.0,-992.0,3040.0)
	set rect041=Rect(416.0,2624.0,1632.0,3648.0)
	set rect042=Rect(2592.0,-4800.0,3744.0,-3328.0)
	set rect043=Rect(-1024.0,-3808.0,192.0,-2752.0)
	set rect044=Rect(-7936.0,-7776.0,-5920.0,-5760.0)
	set rect045=Rect(5504.0,5184.0,7744.0,7136.0)
	set rect046=Rect(-800.0,3072.0,64.0,4032.0)
	set rect047=Rect(-384.0,3392.0,-192.0,3520.0)
	set rect048=Rect(-1728.0,-5056.0,-768.0,-3840.0)
	set rect049=Rect(-1152.0,-4704.0,-960.0,-4480.0)
	set rect050=Rect(-480.0,-800.0,-256.0,-512.0)
	set rect051=Rect(3648.0,-2528.0,4384.0,-2208.0)
	set rect052=Rect(7264.0,-5504.0,7488.0,-5280.0)
	set rect053=Rect(-8160.0,6848.0,-7968.0,7040.0)
	set rect054=Rect(3744.0,-2464.0,4416.0,-1984.0)
	set rect055=Rect(3456.0,-2624.0,4416.0,-2112.0)
	set rect056=Rect(3584.0,-2560.0,4192.0,-2336.0)
	set rect057=Rect(4096.0,-2528.0,4192.0,-2144.0)
	set rect058=Rect(3968.0,-2624.0,4096.0,-1920.0)
	set rect059=Rect(3936.0,-2528.0,4192.0,-2240.0)
	set rect060=Rect(3968.0,-2624.0,4032.0,-2048.0)
	set rect061=Rect(3872.0,-2592.0,4480.0,-2240.0)
	set rect062=Rect(3936.0,-2528.0,4448.0,-1984.0)
	set rect063=Rect(-8160.0,-8192.0,-3712.0,-4352.0)
	set rect064=Rect(-8192.0,-4960.0,-4640.0,-3552.0)
	set rect065=Rect(-4000.0,-7744.0,-3072.0,-5152.0)
	set rect066=Rect(2304.0,4064.0,8032.0,7776.0)
	set rect067=Rect(4640.0,1952.0,8000.0,4384.0)
	set rect068=Rect(3136.0,2816.0,5216.0,4960.0)
	set rect069=Rect(-7968.0,5216.0,-7456.0,5920.0)
	set rect070=Rect(-8064.0,2880.0,-7648.0,4512.0)
	set rect071=Rect(-3296.0,3712.0,-2688.0,3968.0)
	set rect072=Rect(-2400.0,2016.0,-1952.0,2624.0)
	set rect073=Rect(-2016.0,1600.0,-1216.0,2048.0)
	set rect074=Rect(-2144.0,2528.0,-1888.0,2944.0)
	set rect075=Rect(-1280.0,1728.0,-736.0,2176.0)
	set rect076=Rect(-1696.0,-768.0,-1376.0,-448.0)
	set rect077=Rect(-576.0,0.0,-352.0,256.0)
	set rect078=Rect(3872.0,-1984.0,4448.0,-1504.0)
	set rect079=Rect(3456.0,-2048.0,4064.0,-1664.0)
	set rect080=Rect(4992.0,-3072.0,5664.0,-2784.0)
	set rect081=Rect(4896.0,-3744.0,5280.0,-3456.0)
	set rect082=Rect(7488.0,-3520.0,8192.0,-2336.0)
	set rect083=Rect(6656.0,-3328.0,7808.0,-2656.0)
	set rect084=Rect(7104.0,-8192.0,8192.0,-5920.0)
	set rect085=Rect(5952.0,-8192.0,7200.0,-7712.0)
	set rect086=Rect(7168.0,-6240.0,8128.0,-5184.0)
	set rect087=Rect(5824.0,-8032.0,6400.0,-7776.0)
	set rect088=Rect(6976.0,-6560.0,7488.0,-5920.0)
	set rect089=Rect(-5856.0,2944.0,-5600.0,3200.0)
	set rect090=Rect(6784.0,-7776.0,7264.0,-7456.0)
	set rect091=Rect(-8128.0,-8192.0,5536.0,-7744.0)
	set rect092=Rect(2368.0,-7904.0,2688.0,-7584.0)
	set rect093=Rect(-1664.0,-7808.0,-1344.0,-7552.0)
	set rect094=Rect(-2944.0,-8192.0,-1664.0,-7680.0)
	set rect095=Rect(-4000.0,-8192.0,-3168.0,-7616.0)
	set rect096=Rect(-5760.0,-8000.0,-5184.0,-7584.0)
	set rect097=Rect(-3296.0,3744.0,-3104.0,3872.0)
	set rect098=Rect(-8192.0,-8192.0,-6720.0,-7744.0)
	set rect099=Rect(-8192.0,-6432.0,-7456.0,-4928.0)
	set rect100=Rect(-8192.0,-8128.0,-7904.0,8160.0)
	set rect101=Rect(-7744.0,3936.0,-7328.0,5600.0)
	set rect102=Rect(-7680.0,1984.0,-6560.0,2816.0)
	set rect103=Rect(-7776.0,1696.0,-6944.0,2176.0)
	set rect104=Rect(-8032.0,-3040.0,-7680.0,-2720.0)
	set rect105=Rect(-7904.0,-2656.0,-7552.0,-2336.0)
	set rect106=Rect(-3936.0,-2720.0,-3584.0,-2400.0)
	set rect107=Rect(-3168.0,-1952.0,-2912.0,-1696.0)
	set rect108=Rect(-4128.0,-1632.0,-3776.0,-1152.0)
	set rect109=Rect(-4992.0,-1792.0,-3968.0,-1440.0)
	set rect110=Rect(-5536.0,-1664.0,-4832.0,-1280.0)
	set rect111=Rect(-2304.0,3872.0,-2048.0,4096.0)
	set rect112=Rect(-5664.0,-1440.0,-5344.0,0.0)
	set rect113=Rect(-5824.0,-1504.0,-5472.0,-544.0)
	set rect114=Rect(-5216.0,-1216.0,-4480.0,-384.0)
	set rect115=Rect(-5632.0,448.0,-5152.0,1856.0)
	set rect116=Rect(-5856.0,1440.0,-5248.0,2592.0)
	set rect117=Rect(-5408.0,1888.0,-4928.0,2368.0)
	set rect118=Rect(-5056.0,1664.0,-4064.0,2144.0)
	set rect119=Rect(-4320.0,1344.0,-3808.0,1952.0)
	set rect120=Rect(-4224.0,1440.0,-3200.0,2016.0)
	set rect121=Rect(-2112.0,3424.0,-1856.0,3744.0)
	set rect122=Rect(-2400.0,640.0,-2208.0,896.0)
	set rect123=Rect(-3392.0,640.0,-3200.0,896.0)
	set rect124=Rect(-3744.0,-1024.0,-3232.0,384.0)
	set rect125=Rect(-2016.0,-5504.0,-1664.0,-4768.0)
	set rect126=Rect(-1760.0,-5248.0,-1312.0,-4800.0)
	set rect127=Rect(896.0,-3328.0,1088.0,-3072.0)
	set rect128=Rect(2368.0,-3808.0,2688.0,-3360.0)
	set rect129=Rect(1952.0,-3744.0,2208.0,-3456.0)
	set rect130=Rect(-768.0,-1344.0,-480.0,-1024.0)
	set rect131=Rect(1152.0,-6560.0,1376.0,-6272.0)
	set rect132=Rect(1216.0,-6368.0,1504.0,-6176.0)
	set rect133=Rect(-1376.0,-6784.0,-1184.0,-6528.0)
	set rect134=Rect(7616.0,-6528.0,8192.0,8160.0)
	set rect135=Rect(7072.0,-2304.0,7264.0,-2048.0)
	set rect136=Rect(-7872.0,7872.0,8192.0,8192.0)
	set rect137=Rect(1792.0,7776.0,2112.0,8192.0)
	set rect138=Rect(-2656.0,0.0,-2496.0,256.0)
	set rect139=Rect(-768.0,7232.0,-416.0,7424.0)
	set rect140=Rect(-7968.0,5472.0,-7648.0,5792.0)
	set rect141=Rect(1120.0,7904.0,1312.0,8160.0)
	set rect142=Rect(736.0,4480.0,1120.0,4800.0)
	set rect143=Rect(2208.0,4928.0,2400.0,5152.0)
	set rect144=Rect(576.0,4384.0,1120.0,4928.0)
	set rect145=Rect(2560.0,4160.0,2784.0,4576.0)
	set rect146=Rect(-5984.0,-3776.0,-5504.0,-3232.0)
	set rect147=Rect(576.0,4256.0,1024.0,4672.0)
	set rect148=Rect(544.0,4352.0,992.0,4768.0)
	set rect149=Rect(704.0,2496.0,1376.0,2784.0)
	set rect150=Rect(-2240.0,1792.0,-1856.0,2240.0)
	set rect151=Rect(-1472.0,1472.0,-992.0,1728.0)
	set rect152=Rect(2368.0,-3200.0,2656.0,-2880.0)
	set rect153=Rect(2624.0,-3584.0,2816.0,-2848.0)
	set rect154=Rect(2464.0,-3392.0,2656.0,-3136.0)
	set rect155=Rect(2784.0,-3232.0,2976.0,-2976.0)
	set rect156=Rect(2784.0,-3424.0,2976.0,-3168.0)
	set rect157=Rect(7328.0,7808.0,8192.0,8192.0)
	set rect158=Rect(1984.0,7584.0,3296.0,8192.0)
	set rect159=Rect(2240.0,7392.0,2560.0,8192.0)
	set rect160=Rect(-1888.0,416.0,-1696.0,576.0)
	set rect161=Rect(7776.0,2720.0,8192.0,3648.0)
	set rect162=Rect(5280.0,640.0,5664.0,1184.0)
	set rect163=Rect(-3104.0,2720.0,-2624.0,3232.0)
	set rect164=Rect(7584.0,-7072.0,7776.0,-6880.0)
	set rect128=Rect(2816.0,-3488.0,3008.0,-3232.0)
	set rect129=Rect(1568.0,-2976.0,1760.0,-2656.0)
	set rect152=Rect(2368.0,-3264.0,2656.0,-2944.0)
	set rect153=Rect(2624.0,-3648.0,2816.0,-2912.0)
	set rect154=Rect(2464.0,-3456.0,2656.0,-3200.0)
	set rect091=Rect(-8192.0,-8128.0,5472.0,-7648.0)
	set rect165=Rect(-8192.0,-3712.0,-7008.0,-2144.0)
	set rect166=Rect(-3360.0,-8192.0,-1472.0,-7648.0)
	set rect167=Rect(-2528.0,-7840.0,-1696.0,-7488.0)
	set rect168=Rect(-2336.0,-7584.0,-1600.0,-7456.0)
	set rect169=Rect(-8192.0,2016.0,-6816.0,2880.0)
	set rect170=Rect(6880.0,-3328.0,8000.0,-2624.0)
	set rect171=Rect(-7520.0,-7040.0,-7360.0,-6912.0)
	set rect172=Rect(-7520.0,-6912.0,-7360.0,-6784.0)
	set rect173=Rect(-7520.0,-6656.0,-7360.0,-6528.0)
	set rect174=Rect(-7520.0,-6528.0,-7360.0,-6400.0)
	set rect175=Rect(-7520.0,-6784.0,-7360.0,-6656.0)
	set rect176=Rect(6944.0,6208.0,7104.0,6336.0)
	set rect177=Rect(6944.0,6080.0,7104.0,6208.0)
	set rect178=Rect(6944.0,5952.0,7104.0,6080.0)
	set rect179=Rect(6944.0,5824.0,7104.0,5952.0)
	set rect180=Rect(6944.0,5696.0,7104.0,5824.0)
	set rect181=Rect(3904.0,2976.0,4160.0,3264.0)
	set rect182=Rect(2336.0,5952.0,2592.0,6240.0)
	set rect183=Rect(6304.0,1984.0,6560.0,2272.0)
	set rect184=Rect(-3328.0,-6912.0,-3072.0,-6624.0)
	set rect185=Rect(-4384.0,-4800.0,-4128.0,-4512.0)
	set rect186=Rect(-6432.0,-3840.0,-6176.0,-3552.0)
	set rect187=Rect(-7584.0,6176.0,-6304.0,7552.0)
	set rect188=Rect(3616.0,-2656.0,3968.0,-2080.0)
	set rect189=Rect(4000.0,-2592.0,4416.0,-2016.0)
	set rect190=Rect(-1088.0,5376.0,768.0,6624.0)
	set rect191=Rect(1600.0,1024.0,3456.0,2432.0)
	set rect192=Rect(5504.0,-1056.0,7200.0,512.0)
	set rect193=Rect(-6944.0,-1792.0,-5248.0,-224.0)
	set rect194=Rect(-1536.0,-7424.0,640.0,-6048.0)
	set rect195=Rect(-3328.0,-7200.0,-2464.0,-6368.0)
	set rect196=Rect(-4288.0,-4544.0,-3424.0,-3712.0)
	set rect197=Rect(-6784.0,-3616.0,-5920.0,-2784.0)
	set rect198=Rect(1472.0,5440.0,2336.0,6272.0)
	set rect199=Rect(2656.0,2336.0,3520.0,3168.0)
	set rect200=Rect(5984.0,1152.0,6848.0,1984.0)
	set rect201=Rect(-4128.0,-3712.0,-2496.0,-2272.0)
	set rect202=Rect(-8192.0,-8128.0,-5120.0,-5536.0)
	set rect203=Rect(4608.0,4352.0,8192.0,8192.0)
	set rect204=Rect(-8096.0,-7104.0,-8064.0,-7072.0)
	set rect205=Rect(-8096.0,-7104.0,-8064.0,-7072.0)
	set rect206=Rect(-8096.0,-7104.0,-8064.0,-7072.0)
	set rect146=Rect(6208.0,7488.0,8192.0,8192.0)
	set rect207=Rect(-2784.0,1280.0,-1952.0,2048.0)
	set rect208=Rect(2528.0,-3168.0,3360.0,-2464.0)
	set rect209=Rect(-3936.0,4480.0,-3136.0,5120.0)
	set rect210=Rect(3680.0,-6016.0,4416.0,-5376.0)
	set rect211=Rect(3424.0,-352.0,4224.0,320.0)
	set rect212=Rect(-4608.0,-448.0,-3872.0,192.0)
	set rect213=Rect(3456.0,-2624.0,4384.0,-2112.0)
	set rect214=Rect(608.0,4320.0,1120.0,4768.0)
	set rect215=Rect(-3840.0,1440.0,-3328.0,1888.0)
	set rect216=Rect(2400.0,-3360.0,2912.0,-2912.0)
	set rect217=Rect(-1888.0,-5280.0,-1376.0,-4832.0)
	call ConfigureNeutralVictim()
	set boolexpr001=Filter(function ReturnTrue)
	set filterIssueHauntOrderAtLocBJ=Filter(function IssueHauntOrderAtLocBJFilter)
	set filterEnumDestructablesInCircleBJ=Filter(function Func0003)
	set filterGetUnitsInRectOfPlayer=Filter(function GetUnitsInRectOfPlayerFilter)
	set filterGetUnitsOfTypeIdAll=Filter(function GetUnitsOfTypeIdAllFilter)
	set filterGetUnitsOfPlayerAndTypeId=Filter(function GetUnitsOfPlayerAndTypeIdFilter)
	set filterMeleeTrainedUnitIsHeroBJ=Filter(function MeleeTrainedUnitIsHeroBJFilter)
	set filterLivingPlayerUnitsOfTypeId=Filter(function LivingPlayerUnitsOfTypeIdFilter)
	set MLI=0
	loop
		exitwhen MLI==16
		set bj_FORCE_PLAYER[MLI]=CreateForce()
		call ForceAddPlayer(bj_FORCE_PLAYER[MLI],Player(MLI))
		set MLI=MLI+1
	endloop
	set bj_FORCE_ALL_PLAYERS=CreateForce()
	call ForceEnumPlayers(bj_FORCE_ALL_PLAYERS,null)
	set bj_cineModePriorSpeed=GetGameSpeed()
	set bj_cineModePriorFogSetting=IsFogEnabled()
	set bj_cineModePriorMaskSetting=IsFogMaskEnabled()
	set MLI=0
	loop
		exitwhen MLI>=bj_MAX_QUEUED_TRIGGERS
		set bj_queuedExecTriggers[MLI]=null
		set bj_queuedExecUseConds[MLI]=false
		set MLI=MLI+1
	endloop
	set bj_isSinglePlayer=false
	set MMI=0
	set MLI=0
	loop
		exitwhen MLI>=12
		if(GetPlayerController(Player(MLI))==MAP_CONTROL_USER and GetPlayerSlotState(Player(MLI))==PLAYER_SLOT_STATE_PLAYING)then
			set MMI=MMI+1
		endif
		set MLI=MLI+1
	endloop
	set bj_isSinglePlayer=(MMI==1)
	set bj_rescueSound=CreateSoundFromLabel("Rescue",false,false,false,10000,10000)
	set bj_questDiscoveredSound=CreateSoundFromLabel("QuestNew",false,false,false,10000,10000)
	set bj_questUpdatedSound=CreateSoundFromLabel("QuestUpdate",false,false,false,10000,10000)
	set bj_questCompletedSound=CreateSoundFromLabel("QuestCompleted",false,false,false,10000,10000)
	set bj_questFailedSound=CreateSoundFromLabel("QuestFailed",false,false,false,10000,10000)
	set bj_questHintSound=CreateSoundFromLabel("Hint",false,false,false,10000,10000)
	set bj_questSecretSound=CreateSoundFromLabel("SecretFound",false,false,false,10000,10000)
	set bj_questItemAcquiredSound=CreateSoundFromLabel("ItemReward",false,false,false,10000,10000)
	set bj_questWarningSound=CreateSoundFromLabel("Warning",false,false,false,10000,10000)
	set bj_victoryDialogSound=CreateSoundFromLabel("QuestCompleted",false,false,false,10000,10000)
	set bj_defeatDialogSound=CreateSoundFromLabel("QuestFailed",false,false,false,10000,10000)
	call DelayedSuspendDecayCreate()
	set v=VersionGet()
	if(v==VERSION_REIGN_OF_CHAOS)then
		set bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V0
	else
		set bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V1
	endif
	call InitQueuedTriggers()
	call InitRescuableBehaviorBJ()
	call InitDNCSounds()
	call InitMapRects()
	call InitSummonableCaps()
	set MGI=0
	loop
		set bj_stockAllowedPermanent[MGI]=false
		set bj_stockAllowedCharged[MGI]=false
		set bj_stockAllowedArtifact[MGI]=false
		set MGI=MGI+1
		exitwhen MGI>10
	endloop
	call SetAllItemTypeSlots(11)
	call SetAllUnitTypeSlots(11)
	set bj_stockUpdateTimer=CreateTimer()
	call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INITIAL_DELAY,false,function Func0007)
	set bj_stockItemPurchased=CreateTrigger()
	call TriggerRegisterPlayerUnitEvent(bj_stockItemPurchased,Player(15),EVENT_PLAYER_UNIT_SELL_ITEM,null)
	call TriggerAddAction(bj_stockItemPurchased,function RemovePurchasedItem)
	call DetectGameStarted()
	set i=0
	set i=0
	loop
		exitwhen(i>16)
		set integers018[i]=0
		set integers019[i]=0
		set integers020[i]=0
		set integers023[i]=0
		set i=i+1
	endloop
	set i=0
	loop
		exitwhen(i>100)
		set booleans001[i]=false
		set integers025[i]=0
		set integers026[i]=0
		set integers027[i]=0
		set integers028[i]=0
		set integers029[i]=0
		set integers030[i]=0
		set AllHeroes_Indexes[i]=0
		set i=i+1
	endloop
	set i=0
	loop
		exitwhen(i>4)
		set integers021[i]=0
		set i=i+1
	endloop
	set i=0
	loop
		exitwhen(i>2)
		set booleans002[i]=false
		set integers024[i]=0
		set integers031[i]=0
		set i=i+1
	endloop
	set i=0
	loop
		exitwhen(i>12)
		set Players_Color[i]=""
		set timers001[i]=CreateTimer()
		set i=i+1
	endloop
	set i=0
	loop
		exitwhen(i>13)
		set booleans003[i]=false
		set timers002[i]=CreateTimer()
		set booleans004[i]=false
		set integers035[i]=0
		set booleans008[i]=false
		set i=i+1
	endloop
	set i=0
	loop
		exitwhen(i>1)
		set integers022[i]=0
		set strings002[i]=""
		set booleans005[i]=false
		set integers037[i]=0
		set booleans007[i]=false
		set i=i+1
	endloop
	set integer003=150
	set boolean011=true
	set boolean012=true
	set boolean013=true
	set boolean014=true
	set boolean015=true
	set boolean016=true
	set boolean017=true
	set boolean018=true
	set boolean019=true
	set boolean020=true
	set boolean021=true
	set boolean022=true
	set integer004=3
	set integer005=1
	set integer006=80
	set i=0
	loop
		exitwhen(i>17)
		set Players_Hero[i]=null
		set i=i+1
	endloop
	set i=0
	loop
		exitwhen(i>40)
		set integers032[i]=0
		set integers033[i]=0
		set integers034[i]=0
		set i=i+1
	endloop
	set Force_Elfs=CreateForce()
	set Force_Unds=CreateForce()
	set group001=CreateGroup()
	set timer002=CreateTimer()
	set Force_All=CreateForce()
	set boolean038=true
	set boolean039=true
	set i=0
	loop
		exitwhen(i>14)
		set booleans006[i]=false
		set i=i+1
	endloop
	set i=0
	loop
		exitwhen(i>15)
		set LeftAt[i]="Here"
		set i=i+1
	endloop
	call Func0012()
	call InitGroups()
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,15,true)
	call TriggerAddCondition(t,Condition(function Func0032))

	set booleans010[0]=false
	set booleans010[1]=false
	set booleans010[2]=false
	set booleans010[3]=false
	set booleans010[4]=false
	set booleans010[5]=false
	set booleans010[6]=false
	set booleans010[7]=false
	set booleans010[8]=false
	set booleans010[9]=false
	set booleans010[10]=false
	set booleans010[11]=false
	set booleans010[12]=false
	set booleans010[13]=false
	set booleans010[14]=false
	set booleans010[15]=false
	set booleans010[16]=false
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func0238))

	set region003=CreateRegion()
	call RegionAddRect(region003,rect044)
	set region005=CreateRegion()
	call RegionAddRect(region005,rect045)
	set region002=CreateRegion()
	call RegionAddRect(region002,rect063)
	call RegionAddRect(region002,rect064)
	call RegionAddRect(region002,rect065)
	set region004=CreateRegion()
	call RegionAddRect(region004,rect066)
	call RegionAddRect(region004,rect067)
	call RegionAddRect(region004,rect068)
	set region006=CreateRegion()
	call RegionAddRect(region006,rect069)
	call RegionAddRect(region006,rect070)
	call RegionAddRect(region006,rect071)
	call RegionAddRect(region006,rect072)
	call RegionAddRect(region006,rect073)
	call RegionAddRect(region006,rect074)
	call RegionAddRect(region006,rect075)
	call RegionAddRect(region006,rect076)
	call RegionAddRect(region006,rect077)
	call RegionAddRect(region006,rect078)
	call RegionAddRect(region006,rect079)
	call RegionAddRect(region006,rect080)
	call RegionAddRect(region006,rect081)
	call RegionAddRect(region006,rect082)
	call RegionAddRect(region006,rect083)
	call RegionAddRect(region006,rect084)
	call RegionAddRect(region006,rect085)
	call RegionAddRect(region006,rect086)
	call RegionAddRect(region006,rect087)
	call RegionAddRect(region006,rect088)
	call RegionAddRect(region006,rect089)
	call RegionAddRect(region006,rect090)
	call RegionAddRect(region006,rect091)
	call RegionAddRect(region006,rect092)
	call RegionAddRect(region006,rect093)
	call RegionAddRect(region006,rect094)
	call RegionAddRect(region006,rect095)
	call RegionAddRect(region006,rect096)
	call RegionAddRect(region006,rect097)
	call RegionAddRect(region006,rect098)
	call RegionAddRect(region006,rect099)
	call RegionAddRect(region006,rect100)
	call RegionAddRect(region006,rect101)
	call RegionAddRect(region006,rect102)
	call RegionAddRect(region006,rect103)
	call RegionAddRect(region006,rect104)
	call RegionAddRect(region006,rect105)
	call RegionAddRect(region006,rect106)
	call RegionAddRect(region006,rect107)
	call RegionAddRect(region006,rect108)
	call RegionAddRect(region006,rect109)
	call RegionAddRect(region006,rect110)
	call RegionAddRect(region006,rect111)
	call RegionAddRect(region006,rect112)
	call RegionAddRect(region006,rect113)
	call RegionAddRect(region006,rect114)
	call RegionAddRect(region006,rect115)
	call RegionAddRect(region006,rect116)
	call RegionAddRect(region006,rect117)
	call RegionAddRect(region006,rect118)
	call RegionAddRect(region006,rect119)
	call RegionAddRect(region006,rect120)
	call RegionAddRect(region006,rect121)
	call RegionAddRect(region006,rect122)
	call RegionAddRect(region006,rect123)
	call RegionAddRect(region006,rect124)
	call RegionAddRect(region006,rect125)
	call RegionAddRect(region006,rect126)
	call RegionAddRect(region006,rect127)
	call RegionAddRect(region006,rect128)
	call RegionAddRect(region006,rect129)
	call RegionAddRect(region006,rect130)
	call RegionAddRect(region006,rect131)
	call RegionAddRect(region006,rect132)
	call RegionAddRect(region006,rect133)
	call RegionAddRect(region006,rect134)
	call RegionAddRect(region006,rect135)
	call RegionAddRect(region006,rect136)
	call RegionAddRect(region006,rect137)
	call RegionAddRect(region006,rect138)
	call RegionAddRect(region006,rect139)
	call RegionAddRect(region006,rect140)
	call RegionAddRect(region006,rect141)
	call RegionAddRect(region006,rect142)
	call RegionAddRect(region006,rect143)
	call RegionAddRect(region006,rect144)
	call RegionAddRect(region006,rect145)
	call RegionAddRect(region006,rect146)
	call RegionAddRect(region006,rect147)
	call RegionAddRect(region006,rect148)
	call RegionAddRect(region006,rect149)
	call RegionAddRect(region006,rect150)
	call RegionAddRect(region006,rect151)
	call RegionAddRect(region006,rect152)
	call RegionAddRect(region006,rect153)
	call RegionAddRect(region006,rect154)
	call RegionAddRect(region006,rect155)
	call RegionAddRect(region006,rect156)
	call RegionAddRect(region006,rect157)
	call RegionAddRect(region006,rect158)
	call RegionAddRect(region006,rect159)
	call RegionAddRect(region006,rect160)
	call RegionAddRect(region006,rect161)
	call RegionAddRect(region006,rect162)
	call RegionAddRect(region006,rect163)
	set region007=CreateRegion()
	call RegionAddRect(region007,rect214)
	call RegionAddRect(region007,rect215)
	call RegionAddRect(region007,rect216)
	call RegionAddRect(region007,rect217)
	call Func0321('B06Z')
	call Func0321('BPSE')
	call Func0321('B06Q')
	call Func0321('BSTN')
	call Func0321('BHtc')
	call Func0321('B0BM')
	call Func0321('B0BR')
	call Func0321('B0C1')
	call Func0321('BEer')
	call Func0321('B02U')
	call Func0321('B07E')
	call Func0321('B0CF')
	call Func0321('B06M')
	call Func0321('B07N')
	call Func0321('B08S')
	call Func0321('B00Q')
	call Func0321('B072')
	call Func0321('BUan')
	call Func0321('B095')
	call Func0321('B083')
	call Func0321('B02V')
	call Func0321('B01Y')
	call Func0321('BNab')
	call Func0321('B08R')
	call Func0321('B066')
	call Func0321('B03I')
	call Func0321('B063')
	call Func0321('Bena')
	call Func0321('Beng')
	call Func0321('B03C')
	call Func0321('B00L')
	call Func0321('BHca')
	call Func0321('Bcsd')
	call Func0321('B079')
	call Func0321('B0BQ')
	call Func0321('B0B9')
	call Func0321('Bprg')
	call Func0321('B08M')
	call Func0321('B02G')
	call Func0321('B01X')
	call Func0321('B01D')
	call Func0321('B092')
	call Func0321('B0AQ')
	call Func0321('BEsh')
	call Func0321('B017')
	call Func0321('B0AE')
	call Func0321('B0AD')
	call Func0321('B08O')
	call Func0321('Bfro')
	call Func0321('B027')
	call Func0321('B028')
	call Func0321('B05H')
	call Func0321('B0BS')
	call Func0321('Bcri')
	call Func0321('B0BF')
	call Func0321('B0BE')
	call Func0321('B090')
	call Func0321('B008')
	call Func0321('B04B')
	call Func0321('B02F')
	call Func0321('BUsp')
	call Func0321('Bust')
	call Func0321('B0CC')
	call Func0321('BCri')
	call Func0321('B03J')
	call Func0321('BEsh')
	call Func0321('B0AQ')
	call Func0321('Bena')
	call Func0321('Beng')
	call Func0321('B078')
	call Func0321('Bdet')
	call Func0321('B00T')
	call Func0321('Bslo')
	call Func0321('BNdh')
	call Func0321('B0C8')
	call Func0321('B08O')
	call Func0321('B07V')
	call Func0321('B07U')
	call Func0321('B01X')
	call Func0321('BNsi')
	call Func0321('B031')
	call Func0321('BNso')
	call Func0321('B00P')
	call Func0321('B02M')
	call Func0321('A1LD')
	call Func0321('B0CD')
	call Func0321('A1JA')
	call Func0321('B043')
	call Func0321('BNpa')
	call Func0321('B01N')
	call Func0321('BIcb')
	call Func0321('B04Q')
	call Func0321('B00C')
	call Func0321('B09K')
	call Func0321('B033')
	call Func0321('B08F')
	call Func0321('B08E')
	call Func0321('Bpoi')
	call Func0321('B0AM')
	call Func0321('BNrd')
	call Func0321('B00H')
	call Func0321('BOhx')
	call Func0321('B03F')
	call Func0321('B02N')
	call Func0321('B0E7')
	call Func0321('B06D')
	call Func0321('B0BN')
	call Func0321('B09Q')
	call Func0321('B0DI')
	call Func0321('B0BB')
	call Func0321('B09J')
	call Func0321('B0AF')
	call Func0321('B08B')
	call Func0321('B071')
	call Func0321('B08N')
	call Func0321('B02I')
	call Func0321('B08Q')
	call Func0321('B0C2')
	call Func0321('B06S')
	call Func0321('B02S')
	call Func0321('B02W')
	call Func0321('B05Q')
	call Func0321('B02D')
	call Func0321('B0BY')
	call Func0321('B02P')
	call Func0321('B05F')
	call Func0321('B0EP')
	call Func0321('B0ER')
	call Func0321('B0ET')
	call Func0321('B0FN')
	call Func0321('B0FY')
	call Func0321('B0FT')
	call Func0321('B0FZ')
	call Func0321('B0G0')
	call Func0321('B0GT')
	call Func0321('B0F5')
	call Func0321('A1W3')
	call Func0321('B0DO')
	call Func0321('B02U')
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func0325))

	call FlushGameCache(InitGameCache("dr.x"))
	set GMC=InitGameCache("dr.x")
	set integers058[0]='A17F'
	set integers058[1]='A17G'
	set integers058[2]='A17H'
	set integers058[3]='A17C'
	set integers058[4]='A17D'
	set integers058[5]='A17E'
	set integers058[6]='A17J'
	set integers058[7]='A17I'
	set integers058[8]='A17L'
	set integers059[0]='A2XY'
	set integers059[1]='A2XX'
	set integers059[2]='A2XW'
	set integers059[3]='A2XV'
	set integers059[4]='A2Y2'
	set integers059[5]='A2Y0'
	set integers059[6]='A2Y1'
	set integers059[7]='A2XZ'
	set integers059[8]='A2Y3'
	set integers060[0]='A1QE'
	set integers060[1]='A1QF'
	set integers060[2]='A1QI'
	set integers060[3]='A1QK'
	set integers060[4]='A1QJ'
	set integers060[5]='A1QH'
	set integers060[6]='A1QO'
	set integers060[7]='A1QN'
	set integers060[8]='A1QM'
	set integers060[9]='A1QG'
	set integers060[10]='A1QQ'
	set integers061[0]='A1GK'
	set integers061[1]='A1GL'
	set integers061[2]='A1GJ'
	set integers061[3]='A1GP'
	set integers061[4]='A1GM'
	set integers061[5]='A1GN'
	set integers061[6]='A1GO'
	set integers061[7]='A1GI'
	set integers061[8]='A1GQ'
	set integers062[0]='A1CM'
	set integers062[1]='A1CK'
	set integers062[2]='A1CF'
	set integers062[3]='A1CI'
	set integers062[4]='A1CG'
	set integers062[5]='A1CH'
	set trigger051=CreateTrigger()
	call TriggerAddCondition(trigger051,Condition(function Func0380))
	set integers063[0]='h09G'
	set integers065[0]=50
	set integers063[1]='h09T'
	set integers065[1]=100
	set integers063[2]='h09F'
	set integers065[2]=150
	set integers063[3]='h09H'
	set integers065[3]=200
	set integers063[4]='h09E'
	set integers065[4]=250
	set integers063[5]='h09D'
	set integers065[5]=300
	set integers063[6]='h09C'
	set integers065[6]=350
	set integers063[7]='h09B'
	set integers065[7]=400
	set integers063[8]='h099'
	set integers065[8]=450
	set integers063[9]='h09A'
	set integers065[9]=500
	set integers063[10]='h09J'
	set integers065[10]=550
	set integers063[11]='h09K'
	set integers065[11]=600
	set integers063[12]='h09L'
	set integers065[12]=650
	set integers063[13]='h09M'
	set integers065[13]=700
	set integers063[14]='h09N'
	set integers065[14]=750
	set integers063[15]='h09O'
	set integers065[15]=800
	set integers063[16]='h09P'
	set integers065[16]=850
	set integers063[17]='h09Q'
	set integers065[17]=900
	set integers063[18]='h09R'
	set integers065[18]=950
	set integers063[19]='h09S'
	set integers065[19]=1000
	set integers063[20]='h09I'
	set integers065[20]=1050
	set integers063[21]='h09Z'
	set integers065[21]=1100
	set integers063[22]='h09X'
	set integers065[22]=1150
	set integers063[23]='h0A1'
	set integers065[23]=1200
	set integers063[24]='h0A2'
	set integers065[24]=1250
	set integers063[25]='h0A6'
	set integers065[25]=1300
	set integers063[26]='h0A3'
	set integers065[26]=1350
	set integers063[27]='h0A4'
	set integers065[27]=1400
	set integers063[28]='h09Y'
	set integers065[28]=1450
	set integers063[29]='h09V'
	set integers065[29]=1500
	set integers063[30]='h0A0'
	set integers065[30]=1550
	set integers063[31]='h09U'
	set integers065[31]=1600
	set integers063[32]='h0AF'
	set integers065[32]=1650
	set integers063[33]='h0AD'
	set integers065[33]=1700
	set integers063[34]='h0AE'
	set integers065[34]=1750
	set integers063[35]='h0AC'
	set integers065[35]=1800
	set integers063[36]='h0AB'
	set integers065[36]=1850
	set integers063[37]='h0AA'
	set integers065[37]=1900
	set integers063[38]='h0A9'
	set integers065[38]=1950
	set integers063[39]='h0AG'
	set integers065[39]=2000
	set integers063[40]='h0A7'
	set integers065[40]=2050
	set integers063[41]='h0AO'
	set integers065[41]=2100
	set integers063[42]='h0AY'
	set integers065[42]=2150
	set integers063[43]='h0AH'
	set integers065[43]=2200
	set integers063[44]='h0AI'
	set integers065[44]=2250
	set integers063[45]='h0AJ'
	set integers065[45]=2300
	set integers063[46]='h0AP'
	set integers065[46]=2350
	set integers063[47]='h0AQ'
	set integers065[47]=2400
	set integers063[48]='h0AK'
	set integers065[48]=2450
	set integers063[49]='h0AR'
	set integers065[49]=2500
	set integers063[50]='h0AL'
	set integers065[50]=2550
	set integers063[51]='h0AS'
	set integers065[51]=2600
	set integers063[52]='h09W'
	set integers065[52]=2650
	set integers063[53]='h0AM'
	set integers065[53]=2700
	set integers063[54]='h0A8'
	set integers065[54]=2750
	set integers063[55]='h0AT'
	set integers065[55]=2800
	set integers063[56]='h0AU'
	set integers065[56]=2850
	set integers063[57]='h0AN'
	set integers065[57]=2900
	set integers063[58]='h0AV'
	set integers065[58]=2950
	set integers063[59]='h0AW'
	set integers065[59]=3000
	set integers064[0]=integers063[Func0377(1)]
	set integers064[1]=integers063[Func0377(1)]
	set integers064[2]=integers063[Func0377(1)]
	set integers064[3]=integers063[Func0377(1)]
	set integers064[4]=integers063[Func0377(1)]
	set integers064[5]=integers063[Func0377(1)]
	set integers064[6]=integers063[Func0377(1)]
	set integers064[7]=integers063[Func0377(1)]
	set integers064[8]=integers063[Func0377(1)]
	set integers064[9]=integers063[Func0377(1)]
	set integers064[10]=integers063[Func0377(1)]
	set integers064[11]=integers063[Func0377(1)]
	set integers064[12]=integers063[Func0377(1)]
	set integers064[13]=integers063[Func0377(1)]
	set integers064[14]=integers063[Func0377(1)]
	set booleans017[0]=false
	set booleans017[1]=false
	set booleans017[2]=false
	set booleans017[3]=false
	set booleans017[4]=false
	set booleans017[5]=false
	set booleans017[6]=false
	set booleans017[7]=false
	set booleans017[8]=false
	set booleans017[9]=false
	set booleans017[10]=false
	set booleans017[11]=false
	set booleans017[12]=false
	set booleans017[13]=false
	set booleans017[14]=false
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DROP_ITEM)
	call TriggerAddCondition(t,Condition(function Func0386))

	call InitMap()
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.01,false)
	call TriggerAddCondition(t,Condition(function Func0412))
	set t=CreateTrigger()
	call TriggerRegisterPlayerEventLeave(t,Sentinels[1])
	call TriggerRegisterPlayerEventLeave(t,Sentinels[2])
	call TriggerRegisterPlayerEventLeave(t,Sentinels[3])
	call TriggerRegisterPlayerEventLeave(t,Sentinels[4])
	call TriggerRegisterPlayerEventLeave(t,Sentinels[5])
	call TriggerRegisterPlayerEventLeave(t,Scourges[1])
	call TriggerRegisterPlayerEventLeave(t,Scourges[2])
	call TriggerRegisterPlayerEventLeave(t,Scourges[3])
	call TriggerRegisterPlayerEventLeave(t,Scourges[4])
	call TriggerRegisterPlayerEventLeave(t,Scourges[5])
	call TriggerAddAction(t,function PlayerLeave_Act)
	if isObserversMode then
		call Func0415()
		set t=CreateTrigger()
		if IsPlayerObserver(Observer1)then
			call TriggerRegisterPlayerEventLeave(t,Observer1)
		endif
		if IsPlayerObserver(Observer2)then
			call TriggerRegisterPlayerEventLeave(t,Observer2)
		endif
		call TriggerAddAction(t,function Func0416)
	endif
	set booleans018[0]=false
	set booleans018[1]=false
	set booleans018[2]=false
	set booleans018[3]=false
	set booleans018[4]=false
	set booleans018[5]=false
	set booleans018[6]=false
	set booleans018[7]=false
	set booleans018[8]=false
	set booleans018[9]=false
	set booleans018[10]=false
	set booleans018[11]=false
	set booleans018[12]=false
	set booleans018[13]=false
	set booleans018[14]=false
	set booleans018[15]=false
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_HERO_REVIVE_FINISH)
	call TriggerAddAction(t,function Func0429)
	set trigger050=CreateTrigger()
	call TriggerRegisterEnterRectSimple(trigger050,bj_mapInitialPlayableArea)
	call TriggerAddCondition(trigger050,Condition(function HeroEntersMap_Filter))
	call TriggerAddAction(trigger050,function HeroEntersMap)
	set trigger052=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(trigger052,EVENT_PLAYER_UNIT_SELL)
	call TriggerAddAction(trigger052,function Func0445)
	call TriggerAddCondition(trigger052,Condition(function Func0444))
	set trigger053=CreateTrigger()
	call TriggerRegisterTimerEvent(trigger053,0.6,true)
	call TriggerAddCondition(trigger053,Condition(function Func0446))
	call DisableTrigger(trigger053)
	set trigger054=CreateTrigger()
	call TriggerRegisterTimerEvent(trigger054,.5,true)
	call TriggerAddAction(trigger054,function Func0447)
	call Func0254(0,0,false)
	call Func0449()
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
	call TriggerAddAction(t,function ReliableGoldHandling)
	call Func0125('A27F')
	call Func0125('A27X')
	call Func0125('A27H')
	call Func0125('A2V9')
	call Func0125('A27V')
	call Func0125('A27G')
	call Func0125('A27I')
	call Func0125('A27K')
	call Func0125('A27J')
	set trigger002=CreateTrigger()
	call TriggerRegisterPlayerUnitEvent(trigger002,Sentinels[0],EVENT_PLAYER_UNIT_DEATH,Condition(function Func0165))
	call TriggerRegisterPlayerUnitEvent(trigger002,Scourges[0],EVENT_PLAYER_UNIT_DEATH,Condition(function Func0165))
	call TriggerRegisterPlayerUnitEvent(trigger002,Neutrals,EVENT_PLAYER_UNIT_DEATH,Condition(function Func0165))
	call TriggerAddAction(trigger002,function Func0463)
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerAddCondition(t,Condition(function Func0471))

	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func0493))
	call TriggerAddAction(t,function Func0502)
	set trigger003=t
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func0508))

	call Func0503('nstl',62)
	call Func0503('nsth',119)
	call Func0503('n026',88)
	call Func0503('ndtw',119)
	call Func0503('efon',30)
	call Func0503('n004',300)
	call Func0503('n018',300)
	call Func0503('n01C',300)
	call Func0503('n01G',300)
	call Func0503('o00T',20)
	call Func0503('o00U',25)
	call Func0503('o00V',30)
	call Func0503('o00W',35)
	call Func0503('n00H',200)
	call Func0503('n00G',300)
	call Func0503('n00K',400)
	call Func0503('n00J',200)
	call Func0503('n00A',300)
	call Func0503('n006',400)
	call Func0503('n0F5',0)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func0509))

	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func0511))

	set trigger055=CreateTrigger()
	call TriggerAddCondition(trigger055,Condition(function Func0518))
	set trigger004=CreateTrigger()
	call TriggerRegisterPlayerUnitEvent(trigger004,Neutrals,EVENT_PLAYER_UNIT_DEATH,Condition(function ReturnTrue))
	call TriggerAddCondition(trigger004,Condition(function Func0521))
	call TriggerAddAction(trigger004,function Func0523)
	set t=CreateTrigger()
	call TriggerRegisterPlayerUnitEvent(t,Sentinels[0],EVENT_PLAYER_UNIT_DEATH,Condition(function ReturnTrue))
	call TriggerRegisterPlayerUnitEvent(t,Scourges[0],EVENT_PLAYER_UNIT_DEATH,Condition(function ReturnTrue))
	call TriggerAddCondition(t,Condition(function Func0528))

	set t=CreateTrigger()
	call TriggerAddCondition(t,Condition(function Func0538))
	call TriggerRegisterTimerEvent(t,6,false)

	set integer066=integer066+1
	set integers088[integer066]='I0FF'
	set integers089[integer066]='I0FG'
	set integers090[integer066]=0
	set integers091[integer066]=0
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp"
	set integers093[integer066]=0
	set integers092[integer066]=500
	set integer066=integer066+1
	set integers088[integer066]='I02Q'
	set integers089[integer066]='I02O'
	set integers090[integer066]='h011'
	set integers091[integer066]='I00A'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBootsOfSpeed.blp"
	set integers093[integer066]=0
	set integers092[integer066]=450
	set integer069=integer066
	set integer066=integer066+1
	set integers088[integer066]='I02S'
	set integers089[integer066]='I02P'
	set integers090[integer066]='h012'
	set integers091[integer066]='I0CA'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNGlove.blp"
	set integers093[integer066]=0
	set integers092[integer066]=500
	set integer070=integer066
	set integer066=integer066+1
	set integers088[integer066]='I02N'
	set integers089[integer066]='I02R'
	set integers090[integer066]='h013'
	set integers091[integer066]='I0CS'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBoots.blp"
	set integers093[integer066]=0
	set integers092[integer066]=450
	set integer071=integer066
	set integer066=integer066+1
	set integers088[integer066]='I02X'
	set integers089[integer066]='I02Y'
	set integers090[integer066]='h015'
	set integers091[integer066]='I0D4'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNCirclet.blp"
	set integers093[integer066]=0
	set integers092[integer066]=165
	set integer072=integer066
	set integer066=integer066+1
	set integers088[integer066]='I02Z'
	set integers089[integer066]='I043'
	set integers090[integer066]='h016'
	set integers091[integer066]='I0CV'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBelt.blp"
	set integers093[integer066]=0
	set integers092[integer066]=450
	set integer073=integer066
	set integer066=integer066+1
	set integers088[integer066]='I030'
	set integers089[integer066]='I044'
	set integers090[integer066]='h017'
	set integers091[integer066]='I0D2'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingKnife_03.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1000
	set integer074=integer066
	set integer066=integer066+1
	set integers088[integer066]='I031'
	set integers089[integer066]='I045'
	set integers090[integer066]='h018'
	set integers091[integer066]='I0D5'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNClawsOfAttack.blp"
	set integers093[integer066]=0
	set integers092[integer066]=450
	set integer075=integer066
	set integer066=integer066+1
	set integers088[integer066]='I032'
	set integers089[integer066]='I046'
	set integers090[integer066]='h019'
	set integers091[integer066]='I0CZ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSteelMelee.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1200
	set integer076=integer066
	set integer066=integer066+1
	set integers088[integer066]='I033'
	set integers089[integer066]='I047'
	set integers090[integer066]='h01A'
	set integers091[integer066]='I0D7'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Chain_12.blp"
	set integers093[integer066]=0
	set integers092[integer066]=550
	set integer077=integer066
	set integer066=integer066+1
	set integers088[integer066]='I034'
	set integers089[integer066]='I048'
	set integers090[integer066]='h01B'
	set integers091[integer066]='I0CX'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_19.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1400
	set integer078=integer066
	set integer066=integer066+1
	set integers088[integer066]='I035'
	set integers089[integer066]='I049'
	set integers090[integer066]='h01C'
	set integers091[integer066]='I0CI'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNFrostMourne.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2400
	set integer079=integer066
	set integer066=integer066+1
	set integers088[integer066]='I036'
	set integers089[integer066]='I04A'
	set integers090[integer066]='h01D'
	set integers091[integer066]='I0CH'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Bow_06.blp"
	set integers093[integer066]=0
	set integers092[integer066]=3300
	set integer080=integer066
	set integer066=integer066+1
	set integers088[integer066]='I037'
	set integers089[integer066]='I04B'
	set integers090[integer066]='h01E'
	set integers091[integer066]='I0CR'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNEnchantedGemstone.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1000
	set integer081=integer066
	set integer066=integer066+1
	set integers088[integer066]='I038'
	set integers089[integer066]='I04C'
	set integers090[integer066]='h01F'
	set integers091[integer066]='I0CJ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNGauntletsOfOgrePower.blp"
	set integers093[integer066]=0
	set integers092[integer066]=150
	set integer082=integer066
	set integer066=integer066+1
	set integers088[integer066]='I039'
	set integers089[integer066]='I04D'
	set integers090[integer066]='h01G'
	set integers091[integer066]='I0DG'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNGem.blp"
	set integers093[integer066]=0
	set integers092[integer066]=900
	set integer083=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0MS'
	set integers089[integer066]='I0MR'
	set integers090[integer066]=0
	set integers091[integer066]='I0MT'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNGem.blp"
	set integers093[integer066]=0
	set integers092[integer066]=900
	set integer084=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03B'
	set integers089[integer066]='I04E'
	set integers090[integer066]='h01H'
	set integers091[integer066]='I0DA'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNHelmutPurple.blp"
	set integers093[integer066]=0
	set integers092[integer066]=950
	set integer085=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03C'
	set integers089[integer066]='I04F'
	set integers090[integer066]='h01I'
	set integers091[integer066]='I0CQ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNPeriapt1.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2000
	set integer086=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03D'
	set integers089[integer066]='I04G'
	set integers090[integer066]='h01J'
	set integers091[integer066]='I0CU'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNNatureTouchGrow.blp"
	set integers093[integer066]=0
	set integers092[integer066]=50
	set integer087=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03E'
	set integers089[integer066]='I04H'
	set integers090[integer066]='h01K'
	set integers091[integer066]='I0C7'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"
	set integers093[integer066]=12
	set integers092[integer066]=2250
	set integer088=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03E'
	set integers089[integer066]='I04I'
	set integers090[integer066]='h01K'
	set integers091[integer066]='I0DH'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2250
	set integer089=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03F'
	set integers089[integer066]='I04J'
	set integers090[integer066]='h01L'
	set integers091[integer066]='I0CM'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNMantleOfIntelligence.blp"
	set integers093[integer066]=0
	set integers092[integer066]=150
	set integer090=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03G'
	set integers089[integer066]='I04K'
	set integers090[integer066]='h01M'
	set integers091[integer066]='I0CD'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNUndeadShrine.blp"
	set integers093[integer066]=0
	set integers092[integer066]=900
	set integer091=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03H'
	set integers089[integer066]='I04L'
	set integers090[integer066]='h01N'
	set integers091[integer066]='I0CG'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSpiritWalkerMasterTraining.blp"
	set integers093[integer066]=0
	set integers092[integer066]=3200
	set integer092=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03I'
	set integers089[integer066]='I04M'
	set integers090[integer066]='h01O'
	set integers091[integer066]='I0D0'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNHammer.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1600
	set integer093=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03J'
	set integers089[integer066]='I04N'
	set integers090[integer066]='h01P'
	set integers091[integer066]='I0CN'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNStaffOfNegation.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2700
	set integer094=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03K'
	set integers089[integer066]='I04O'
	set integers090[integer066]='h01Q'
	set integers091[integer066]='I0D8'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSpiritWalkerAdeptTraining.tga"
	set integers093[integer066]=0
	set integers092[integer066]=1000
	set integer095=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03L'
	set integers089[integer066]='I04P'
	set integers090[integer066]='h01R'
	set integers091[integer066]='I0CE'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"
	set integers093[integer066]=0
	set integers092[integer066]=550
	set integer096=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03M'
	set integers089[integer066]='I04Q'
	set integers090[integer066]='h01S'
	set integers091[integer066]='I0DB'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Plate13.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1400
	set integer097=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03N'
	set integers089[integer066]='I04R'
	set integers090[integer066]='h01T'
	set integers091[integer066]='I0CL'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNUsedSoulGem.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1200
	set integer098=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03P'
	set integers089[integer066]='I04S'
	set integers090[integer066]='h01U'
	set integers091[integer066]='I0CY'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNAlleriaFlute.blp"
	set integers093[integer066]=0
	set integers092[integer066]=900
	set integer099=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03Q'
	set integers089[integer066]='I04T'
	set integers090[integer066]='h01V'
	set integers091[integer066]='I0DI'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNGoldRing.blp"
	set integers093[integer066]=0
	set integers092[integer066]=875
	set integer100=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03R'
	set integers089[integer066]='I04U'
	set integers090[integer066]='h01W'
	set integers091[integer066]='I0CW'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRingPurple.blp"
	set integers093[integer066]=0
	set integers092[integer066]=200
	set integer101=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03S'
	set integers089[integer066]='I04V'
	set integers090[integer066]='h01X'
	set integers091[integer066]='I0DJ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRingSkull.blp"
	set integers093[integer066]=0
	set integers092[integer066]=350
	set integer102=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03T'
	set integers089[integer066]='I04W'
	set integers090[integer066]='h01Y'
	set integers091[integer066]='I0CP'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRobeOfTheMagi.blp"
	set integers093[integer066]=0
	set integers092[integer066]=450
	set integer103=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03U'
	set integers089[integer066]='I04X'
	set integers090[integer066]='h01Z'
	set integers091[integer066]='I0CC'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNStaffOfTeleportation.blp"
	set integers093[integer066]=0
	set integers092[integer066]=3800
	set integer104=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03V'
	set integers089[integer066]='I04Y'
	set integers090[integer066]='h020'
	set integers091[integer066]='I0C5'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSlippersOfAgility.blp"
	set integers093[integer066]=0
	set integers092[integer066]=150
	set integer105=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03W'
	set integers089[integer066]='I04Z'
	set integers090[integer066]='h021'
	set integers091[integer066]='I0DK'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSobiMask.blp"
	set integers093[integer066]=0
	set integers092[integer066]=325
	set integer106=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03X'
	set integers089[integer066]='I050'
	set integers090[integer066]='h022'
	set integers091[integer066]='I0D1'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNWandOfCyclone.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1000
	set integer107=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03A'
	set integers089[integer066]='I051'
	set integers090[integer066]='h023'
	set integers091[integer066]='I0D9'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"
	set integers093[integer066]=0
	set integers092[integer066]=250
	set integer108=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0KB'
	set integers089[integer066]='I0KA'
	set integers090[integer066]=0
	set integers091[integer066]='I0KC'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"
	set integers093[integer066]=0
	set integers092[integer066]=250
	set integer109=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03Y'
	set integers089[integer066]='I052'
	set integers090[integer066]='h024'
	set integers091[integer066]='I0C9'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNOrbofSlowness.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2100
	set integer110=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03Z'
	set integers089[integer066]='I053'
	set integers090[integer066]='h025'
	set integers091[integer066]='I0CK'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSoulGem.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1100
	set integer111=integer066
	set integer066=integer066+1
	set integers088[integer066]='I040'
	set integers089[integer066]='I054'
	set integers090[integer066]='h026'
	set integers091[integer066]='I0DL'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNPeriapt.blp"
	set integers093[integer066]=0
	set integers092[integer066]=875
	set integer112=integer066
	set integer066=integer066+1
	set integers088[integer066]='I041'
	set integers089[integer066]='I055'
	set integers090[integer066]='h027'
	set integers091[integer066]='I0D6'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSteelRanged.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1500
	set integer113=integer066
	set integer066=integer066+1
	set integers088[integer066]='I00L'
	set integers089[integer066]='I0AV'
	set integers090[integer066]='h02B'
	set integers091[integer066]=0
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBottle0.blp"
	set integers093[integer066]=0
	set integers092[integer066]=700
	set integer114=integer066
	set integer066=integer066+1
	set integers088[integer066]='I05E'
	set integers089[integer066]='I0AM'
	set integers090[integer066]=0
	set integers091[integer066]='I0DN'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBottle0.blp"
	set integers093[integer066]=0
	set integers092[integer066]=700
	set integer115=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0AU'
	set integers089[integer066]='I0AN'
	set integers090[integer066]=0
	set integers091[integer066]='I0DO'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBottle1.blp"
	set integers093[integer066]=0
	set integers092[integer066]=700
	set integer116=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0AS'
	set integers089[integer066]='I0AO'
	set integers090[integer066]=0
	set integers091[integer066]='I0DP'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBottle2.blp"
	set integers093[integer066]=0
	set integers092[integer066]=700
	set integer117=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0AT'
	set integers089[integer066]='I0AP'
	set integers090[integer066]=0
	set integers091[integer066]='I0DQ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBottle3.blp"
	set integers093[integer066]=0
	set integers092[integer066]=700
	set integer118=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0GW'
	set integers089[integer066]='I0GY'
	set integers090[integer066]=0
	set integers091[integer066]='I0H3'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBottle_Illusion.blp"
	set integers093[integer066]=0
	set integers092[integer066]=700
	set integer123=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0H2'
	set integers089[integer066]='I0GX'
	set integers090[integer066]=0
	set integers091[integer066]='I0DR'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBottle_Regeneration.blp"
	set integers093[integer066]=0
	set integers092[integer066]=700
	set integer122=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0GV'
	set integers089[integer066]='I0H1'
	set integers090[integer066]=0
	set integers091[integer066]='I0H4'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBottle_Haste.blp"
	set integers093[integer066]=0
	set integers092[integer066]=700
	set integer121=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0RD'
	set integers089[integer066]='I0RE'
	set integers090[integer066]=0
	set integers091[integer066]='I0RF'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBottle_Illusion.blp"
	set integers093[integer066]=0
	set integers092[integer066]=700
	set integer124=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0AR'
	set integers089[integer066]='I0H0'
	set integers090[integer066]=0
	set integers091[integer066]='I0H6'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBottle_DoubleDamage.blp"
	set integers093[integer066]=0
	set integers092[integer066]=700
	set integer120=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0AQ'
	set integers089[integer066]='I0GZ'
	set integers090[integer066]=0
	set integers091[integer066]='I0H5'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBottle_Invisibility.blp"
	set integers093[integer066]=0
	set integers092[integer066]=700
	set integer119=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0GD'
	set integers089[integer066]='I0GC'
	set integers090[integer066]='h074'
	set integers091[integer066]='I0GE'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNWand.blp"
	set integers093[integer066]=17
	set integers092[integer066]=200
	set integer125=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0HC'
	set integers089[integer066]='I0HB'
	set integers090[integer066]=0
	set integers091[integer066]='I0HA'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNStarWand.blp"
	set integers093[integer066]=17
	set integers092[integer066]=500
	set integer245=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0HT'
	set integers089[integer066]='I0HR'
	set integers090[integer066]='h07W'
	set integers091[integer066]='I0HV'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
	set integers093[integer066]=5
	set integers092[integer066]=225
	set integer126=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0HU'
	set integers089[integer066]='I0HP'
	set integers090[integer066]=0
	set integers091[integer066]='I0HW'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
	set integers093[integer066]=5
	set integers092[integer066]=225
	set integer127=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0N4'
	set integers089[integer066]='I0N3'
	set integers090[integer066]=0
	set integers091[integer066]='I0N5'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNPoisonBlade.blp"
	set integers093[integer066]=30
	set integers092[integer066]=775
	set integer130=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0N7'
	set integers089[integer066]='I0N6'
	set integers090[integer066]=0
	set integers091[integer066]='I0N8'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNPoisonBlade.blp"
	set integers093[integer066]=30
	set integers092[integer066]=775
	set integer131=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0J7'
	set integers089[integer066]='I0J6'
	set integers090[integer066]='h083'
	set integers091[integer066]='I0J8'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNAmulet.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1800
	set integer128=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0JJ'
	set integers089[integer066]='I0JI'
	set integers090[integer066]='h087'
	set integers091[integer066]='I0JK'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNGreenStaff.blp"
	set integers093[integer066]=30
	set integers092[integer066]=1600
	set integer250=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0P9'
	set integers089[integer066]='I0PB'
	set integers090[integer066]='h0EI'
	set integers091[integer066]='I0PA'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNPendantOfMana.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1400
	set integer259=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0PN'
	set integers089[integer066]='I0PM'
	set integers090[integer066]=0
	set integers091[integer066]='I0PO'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNPendantOfMana.blp"
	set integers093[integer066]=10
	set integers092[integer066]=2150
	set integer260=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0QE'
	set integers089[integer066]='I0QF'
	set integers090[integer066]=0
	set integers091[integer066]=0
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNStone.blp"
	set integers093[integer066]=10
	set integers092[integer066]=0
	set integer261=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0QG'
	set integers089[integer066]='I0QH'
	set integers090[integer066]=0
	set integers091[integer066]=0
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNThunderLizardEgg.blp"
	set integers093[integer066]=10
	set integers092[integer066]=0
	set integer262=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0MA'
	set integers089[integer066]='I0M9'
	set integers090[integer066]='h0CM'
	set integers091[integer066]='I0MB'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"
	set integers093[integer066]=0
	set integers092[integer066]=275
	set integer067=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0MD'
	set integers089[integer066]='I0ME'
	set integers090[integer066]=0
	set integers091[integer066]='I0MC'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"
	set integers093[integer066]=0
	set integers092[integer066]=275
	set integer068=integer066
	set integer066=integer066+1
	set integers088[integer066]='I057'
	set integers089[integer066]='I05C'
	set integers090[integer066]='h02A'
	set integers091[integer066]='I0Q8'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNAncientOfTheEarth.blp"
	set integers093[integer066]=0
	set integers092[integer066]=125
	set integer145=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0Q7'
	set integers089[integer066]='I0Q6'
	set integers090[integer066]=0
	set integers091[integer066]='I0Q9'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNAncientOfTheEarth.blp"
	set integers093[integer066]=0
	set integers092[integer066]=0
	set integer146=integer066
	set integer066=integer066+1
	set integers088[integer066]='I042'
	set integers089[integer066]='I05D'
	set integers090[integer066]='h028'
	set integers091[integer066]='I0PY'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNLesserClarityPotion.blp"
	set integers093[integer066]=0
	set integers092[integer066]=50
	set integer142=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0HO'
	set integers089[integer066]='I0HN'
	set integers090[integer066]='h07V'
	set integers091[integer066]=0
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNVialFull.blp"
	set integers093[integer066]=0
	set integers092[integer066]=200
	set integer143=integer066
	set integer066=integer066+1
	set integers088[integer066]='I056'
	set integers089[integer066]='I05F'
	set integers090[integer066]='h029'
	set integers091[integer066]='I0PZ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNHealingSalve.blp"
	set integers093[integer066]=0
	set integers092[integer066]=110
	set integer144=integer066
	set integer066=integer066+1
	set integers088[integer066]='I058'
	set integers089[integer066]='I05G'
	set integers090[integer066]='h02C'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSentryWard.blp"
	set integers093[integer066]=0
	set integers092[integer066]=150
	set integer147=integer066
	set integer066=integer066+1
	set integers088[integer066]='I059'
	set integers089[integer066]='I05H'
	set integers090[integer066]='h02D'
	set integers091[integer066]=0
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBlueSentryWard.blp"
	set integers093[integer066]=0
	set integers092[integer066]=200
	set integer148=integer066
	set integer066=integer066+1
	set integers088[integer066]='I05A'
	set integers089[integer066]='I05I'
	set integers090[integer066]='h02E'
	set integers091[integer066]=0
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"
	set integers093[integer066]=0
	set integers092[integer066]=100
	set integer149=integer066
	set integer066=integer066+1
	set integers088[integer066]='I05B'
	set integers089[integer066]='I05J'
	set integers090[integer066]='h02F'
	set integers091[integer066]=0
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNCritterChicken.blp"
	set integers093[integer066]=0
	set integers092[integer066]=120
	set integer150=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0B0'
	set integers089[integer066]='I0B1'
	set integers090[integer066]=0
	set integers091[integer066]=0
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNCheese.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1000
	set integer151=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0GG'
	set integers089[integer066]='I0GF'
	set integers090[integer066]='h075'
	set integers091[integer066]=0
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNPotionOfDivinity.blp"
	set integers093[integer066]=30
	set integers092[integer066]=160
	set integer152=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0GI'
	set integers089[integer066]='I0GH'
	set integers090[integer066]='h076'
	set integers091[integer066]=0
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNDustOfAppearance.blp"
	set integers093[integer066]=60
	set integers092[integer066]=180
	set integer153=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0KT'
	set integers089[integer066]='I0KS'
	set integers090[integer066]='h0B9'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNWandOfManaSteal.blp"
	set integers093[integer066]=0
	set integers092[integer066]=600
	set integer154=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0NF'
	set integers089[integer066]='I0NG'
	set integers090[integer066]='h0D3'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSmokePotion.blp"
	set integers093[integer066]=90
	set integers092[integer066]=100
	set integer155=integer066
	set integer066=integer066+1
	set integers088[integer066]='I061'
	set integers089[integer066]='I062'
	set integers090[integer066]=0
	set integers091[integer066]='I01J'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNOrbOfFire.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1750
	set integer156=integer066
	set integer066=integer066+1
	set integers088[integer066]='I064'
	set integers089[integer066]='I063'
	set integers090[integer066]=0
	set integers091[integer066]='I01K'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_17.blp"
	set integers093[integer066]=0
	set integers092[integer066]=600
	set integer157=integer066
	set integer066=integer066+1
	set integers088[integer066]='I065'
	set integers089[integer066]='I066'
	set integers090[integer066]=0
	set integers091[integer066]='I01L'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNThoriumArmor.blp"
	set integers093[integer066]=25
	set integers092[integer066]=800
	set integer158=integer066
	set integer066=integer066+1
	set integers088[integer066]='I068'
	set integers089[integer066]='I067'
	set integers090[integer066]=0
	set integers091[integer066]='I01M'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRingVioletSpider.tga"
	set integers093[integer066]=0
	set integers092[integer066]=525
	set integer159=integer066
	set integer066=integer066+1
	set integers088[integer066]='I069'
	set integers089[integer066]='I06A'
	set integers090[integer066]=0
	set integers091[integer066]='I0C6'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRingVioletSpider.tga"
	set integers093[integer066]=0
	set integers092[integer066]=525
	set integer160=integer066
	set integer066=integer066+1
	set integers088[integer066]='I06C'
	set integers089[integer066]='I06B'
	set integers090[integer066]=0
	set integers091[integer066]='I01P'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNAbility_Rogue_Sprint.blp"
	set integers093[integer066]=50
	set integers092[integer066]=2450
	set integer161=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03O'
	set integers089[integer066]='I02T'
	set integers090[integer066]=0
	set integers091[integer066]='I01R'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNWirtsLegGreen.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1400
	set integer162=integer066
	set integer066=integer066+1
	set integers088[integer066]='I02U'
	set integers089[integer066]='I05Y'
	set integers090[integer066]=0
	set integers091[integer066]='I01Q'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNWirtsLeg.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1400
	set integer163=integer066
	set integer066=integer066+1
	set integers088[integer066]='I060'
	set integers089[integer066]='I05Z'
	set integers090[integer066]=0
	set integers091[integer066]='I01S'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNWirtsLegBlue.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1400
	set integer164=integer066
	set integer066=integer066+1
	set integers088[integer066]='I06E'
	set integers089[integer066]='I06D'
	set integers090[integer066]=0
	set integers091[integer066]='I01T'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNGoldGloves.BLP"
	set integers093[integer066]=100
	set integers092[integer066]=2050
	set integer165=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0NO'
	set integers089[integer066]='I0NN'
	set integers090[integer066]=0
	set integers091[integer066]='I0NP'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNGoldGloves.BLP"
	set integers093[integer066]=100
	set integers092[integer066]=2050
	set integer166=integer066
	set integer066=integer066+1
	set integers088[integer066]='I06G'
	set integers089[integer066]='I06F'
	set integers090[integer066]=0
	set integers091[integer066]='I01U'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Mace_10.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1675
	set integer167=integer066
	set integer066=integer066+1
	set integers088[integer066]='I06I'
	set integers089[integer066]='I06H'
	set integers090[integer066]=0
	set integers091[integer066]='I01V'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRunedBracers.blp"
	set integers093[integer066]=0
	set integers092[integer066]=525
	set integer168=integer066
	set integer066=integer066+1
	set integers088[integer066]='I06K'
	set integers089[integer066]='I06J'
	set integers090[integer066]=0
	set integers091[integer066]='I01W'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRevenant.blp"
	set integers093[integer066]=0
	set integers092[integer066]=485
	set integer169=integer066
	set integer066=integer066+1
	set integers088[integer066]='I06M'
	set integers089[integer066]='I06L'
	set integers090[integer066]=0
	set integers091[integer066]='I01X'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNTalisman.tga"
	set integers093[integer066]=0
	set integers092[integer066]=470
	set integer170=integer066
	set integer066=integer066+1
	set integers088[integer066]='I08F'
	set integers089[integer066]='I08G'
	set integers090[integer066]=0
	set integers091[integer066]='I01Y'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_10.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2050
	set integer171=integer066
	set integer066=integer066+1
	set integers088[integer066]='I08I'
	set integers089[integer066]='I08H'
	set integers090[integer066]=0
	set integers091[integer066]='I01Z'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNJapaneseSword.BLP"
	set integers093[integer066]=0
	set integers092[integer066]=2050
	set integer172=integer066
	set integer066=integer066+1
	set integers088[integer066]='I08J'
	set integers089[integer066]='I08K'
	set integers090[integer066]=0
	set integers091[integer066]='I020'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Hammer_10.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2950
	set integer173=integer066
	set integer066=integer066+1
	set integers088[integer066]='I08M'
	set integers089[integer066]='I08L'
	set integers090[integer066]=0
	set integers091[integer066]='I0C8'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Hammer_10.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2950
	set integer174=integer066
	set integer066=integer066+1
	set integers088[integer066]='I08N'
	set integers089[integer066]='I08O'
	set integers090[integer066]=0
	set integers091[integer066]='I021'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Plate06.blp"
	set integers093[integer066]=17
	set integers092[integer066]=2200
	set integer175=integer066
	set integer066=integer066+1
	set integers088[integer066]='I08Q'
	set integers089[integer066]='I08P'
	set integers090[integer066]=0
	set integers091[integer066]='I022'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNStormHammer.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2800
	set integer176=integer066
	set integer066=integer066+1
	set integers088[integer066]='I08S'
	set integers089[integer066]='I08R'
	set integers090[integer066]=0
	set integers091[integer066]='I023'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_11.blp"
	set integers093[integer066]=12
	set integers092[integer066]=3150
	set integer177=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0JB'
	set integers089[integer066]='I0J9'
	set integers090[integer066]=0
	set integers091[integer066]='I0JD'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNDiffusal2.blp"
	set integers093[integer066]=12
	set integers092[integer066]=3850
	set integer178=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0EW'
	set integers089[integer066]='I0EV'
	set integers090[integer066]=0
	set integers091[integer066]='I0EX'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_11.blp"
	set integers093[integer066]=0
	set integers092[integer066]=0
	set integer179=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0JC'
	set integers089[integer066]='I0JA'
	set integers090[integer066]=0
	set integers091[integer066]='I0JE'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNDiffusal2.blp"
	set integers093[integer066]=0
	set integers092[integer066]=0
	set integer180=integer066
	set integer066=integer066+1
	set integers088[integer066]='I08U'
	set integers089[integer066]='I08T'
	set integers090[integer066]=0
	set integers091[integer066]='I024'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_13.blp"
	set integers093[integer066]=60
	set integers092[integer066]=1850
	set integer181=integer066
	set integer066=integer066+1
	set integers088[integer066]='I08W'
	set integers089[integer066]='I08V'
	set integers090[integer066]=0
	set integers091[integer066]='I0CO'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_13.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1850
	set integer182=integer066
	set integer066=integer066+1
	set integers088[integer066]='I08X'
	set integers089[integer066]='I08Y'
	set integers090[integer066]=0
	set integers091[integer066]='I025'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNHelmOfValor.blp"
	set integers093[integer066]=22
	set integers092[integer066]=1800
	set integer183=integer066
	set integer066=integer066+1
	set integers088[integer066]='I090'
	set integers089[integer066]='I08Z'
	set integers090[integer066]=0
	set integers091[integer066]='I026'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNStaffofpurification.blp"
	set integers093[integer066]=23
	set integers092[integer066]=2850
	set integer184=integer066
	set integer066=integer066+1
	set integers088[integer066]='I092'
	set integers089[integer066]='I091'
	set integers090[integer066]=0
	set integers091[integer066]='I027'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNPhilosophersStone.blp"
	set integers093[integer066]=0
	set integers092[integer066]=3300
	set integer185=integer066
	set integer066=integer066+1
	set integers088[integer066]='I094'
	set integers089[integer066]='I093'
	set integers090[integer066]=0
	set integers091[integer066]='I028'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSpellShieldAmulet.blp"
	set integers093[integer066]=45
	set integers092[integer066]=2300
	set integer186=integer066
	set integer066=integer066+1
	set integers088[integer066]='I096'
	set integers089[integer066]='I095'
	set integers090[integer066]=0
	set integers091[integer066]='I029'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSpell_Holy_BlessingOfStrength.blp"
	set integers093[integer066]=0
	set integers092[integer066]=4100
	set integer187=integer066
	set integer066=integer066+1
	set integers088[integer066]='I098'
	set integers089[integer066]='I097'
	set integers090[integer066]=0
	set integers091[integer066]='I02A'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNAbility_Gouge.blp"
	set integers093[integer066]=0
	set integers092[integer066]=4100
	set integer188=integer066
	set integer066=integer066+1
	set integers088[integer066]='I09A'
	set integers089[integer066]='I099'
	set integers090[integer066]=0
	set integers091[integer066]='I02B'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_06.blp"
	set integers093[integer066]=0
	set integers092[integer066]=4350
	set integer189=integer066
	set integer066=integer066+1
	set integers088[integer066]='I09B'
	set integers089[integer066]='I09C'
	set integers090[integer066]=0
	set integers091[integer066]='I02C'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNThoriumMelee.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2150
	set integer190=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0G2'
	set integers089[integer066]='I0FZ'
	set integers090[integer066]=0
	set integers091[integer066]='I0G8'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
	set integers093[integer066]=80
	set integers092[integer066]=3975
	set integer191=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0G6'
	set integers089[integer066]='I0G0'
	set integers090[integer066]=0
	set integers091[integer066]='I0G9'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
	set integers093[integer066]=75
	set integers092[integer066]=3975
	set integer192=integer066
	set integer066=integer066+1
	set integers088[integer066]='I09E'
	set integers089[integer066]='I0FY'
	set integers090[integer066]=0
	set integers091[integer066]='I0G7'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
	set integers093[integer066]=70
	set integers092[integer066]=3975
	set integer193=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0G5'
	set integers089[integer066]='I0FS'
	set integers090[integer066]=0
	set integers091[integer066]='I02D'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
	set integers093[integer066]=65
	set integers092[integer066]=3975
	set integer194=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0G3'
	set integers089[integer066]='I09D'
	set integers090[integer066]=0
	set integers091[integer066]='I0GB'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
	set integers093[integer066]=60
	set integers092[integer066]=3975
	set integer195=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0G4'
	set integers089[integer066]='I0G1'
	set integers090[integer066]=0
	set integers091[integer066]='I0GA'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
	set integers093[integer066]=55
	set integers092[integer066]=3975
	set integer196=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0P6'
	set integers089[integer066]='I0P8'
	set integers090[integer066]=0
	set integers091[integer066]='I0P7'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
	set integers093[integer066]=50
	set integers092[integer066]=3975
	set integer197=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0AX'
	set integers089[integer066]='I0AW'
	set integers090[integer066]=0
	set integers091[integer066]=0
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNArcaniteArmor.blp"
	set integers093[integer066]=0
	set integers092[integer066]=0
	set integer198=integer066
	set integer066=integer066+1
	set integers088[integer066]='I09G'
	set integers089[integer066]='I09F'
	set integers090[integer066]=0
	set integers091[integer066]='I02E'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_02.blp"
	set integers093[integer066]=35
	set integers092[integer066]=4950
	set integer199=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0MV'
	set integers089[integer066]='I0MU'
	set integers090[integer066]=0
	set integers091[integer066]='I0MW'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_02.blp"
	set integers093[integer066]=50
	set integers092[integer066]=4950
	set integer200=integer066
	set integer066=integer066+1
	set integers088[integer066]='I09I'
	set integers089[integer066]='I09H'
	set integers090[integer066]=0
	set integers091[integer066]='I02F'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNLothars.BLP"
	set integers093[integer066]=22
	set integers092[integer066]=2800
	set integer201=integer066
	set integer066=integer066+1
	set integers088[integer066]='I09K'
	set integers089[integer066]='I09M'
	set integers090[integer066]=0
	set integers091[integer066]='I01G'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
	set integers093[integer066]=40
	set integers092[integer066]=2720
	set integer202=integer066
	set integer066=integer066+1
	set integers088[integer066]='I09J'
	set integers089[integer066]='I09P'
	set integers090[integer066]=0
	set integers091[integer066]='I02G'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
	set integers093[integer066]=36
	set integers092[integer066]=3970
	set integer203=integer066
	set integer066=integer066+1
	set integers088[integer066]='I09Q'
	set integers089[integer066]='I09N'
	set integers090[integer066]=0
	set integers091[integer066]='I0DC'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
	set integers093[integer066]=32
	set integers092[integer066]=5220
	set integer204=integer066
	set integer066=integer066+1
	set integers088[integer066]='I09S'
	set integers089[integer066]='I09O'
	set integers090[integer066]=0
	set integers091[integer066]='I0DD'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
	set integers093[integer066]=28
	set integers092[integer066]=6470
	set integer205=integer066
	set integer066=integer066+1
	set integers088[integer066]='I09R'
	set integers089[integer066]='I09L'
	set integers090[integer066]=0
	set integers091[integer066]='I0D3'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
	set integers093[integer066]=24
	set integers092[integer066]=7720
	set integer206=integer066
	set integer066=integer066+1
	set integers088[integer066]='I09U'
	set integers089[integer066]='I09T'
	set integers090[integer066]=0
	set integers091[integer066]='I02H'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNNecromancerAdept.blp"
	set integers093[integer066]=95
	set integers092[integer066]=2700
	set integer207=integer066
	set integer066=integer066+1
	set integers088[integer066]='I09V'
	set integers089[integer066]='I09X'
	set integers090[integer066]=0
	set integers091[integer066]='I02I'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBookOfTheDead.blp"
	set integers093[integer066]=95
	set integers092[integer066]=3950
	set integer208=integer066
	set integer066=integer066+1
	set integers088[integer066]='I09W'
	set integers089[integer066]='I09Y'
	set integers090[integer066]=0
	set integers091[integer066]='I02J'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNNecromancerMaster.blp"
	set integers093[integer066]=95
	set integers092[integer066]=5200
	set integer209=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0A0'
	set integers089[integer066]='I09Z'
	set integers090[integer066]=0
	set integers091[integer066]='I0BO'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp"
	set integers093[integer066]=0
	set integers092[integer066]=5175
	set integer210=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0HK'
	set integers089[integer066]='I0HJ'
	set integers090[integer066]=0
	set integers091[integer066]='I0HL'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp"
	set integers093[integer066]=0
	set integers092[integer066]=5175
	set integer211=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0A2'
	set integers089[integer066]='I0A1'
	set integers090[integer066]=0
	set integers091[integer066]='I0BP'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_25.blp"
	set integers093[integer066]=0
	set integers092[integer066]=7800
	set integer212=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0LI'
	set integers089[integer066]='I0LJ'
	set integers090[integer066]=0
	set integers091[integer066]='I0LK'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_25.blp"
	set integers093[integer066]=0
	set integers092[integer066]=7800
	set integer213=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0A4'
	set integers089[integer066]='I0A3'
	set integers090[integer066]=0
	set integers091[integer066]='I0BQ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Crossbow_10.blp"
	set integers093[integer066]=0
	set integers092[integer066]=5550
	set integer214=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0A6'
	set integers089[integer066]='I0A5'
	set integers090[integer066]=0
	set integers091[integer066]='I0BR'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Halberd_10.blp"
	set integers093[integer066]=0
	set integers092[integer066]=5400
	set integer215=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0K8'
	set integers089[integer066]='I0K7'
	set integers090[integer066]=0
	set integers091[integer066]='I0K9'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Halberd_10.blp"
	set integers093[integer066]=0
	set integers092[integer066]=5400
	set integer216=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0A7'
	set integers089[integer066]='I0A8'
	set integers090[integer066]=0
	set integers091[integer066]='I0BS'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNTransmute.blp"
	set integers093[integer066]=0
	set integers092[integer066]=5150
	set integer217=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0KQ'
	set integers089[integer066]='I0KP'
	set integers090[integer066]=0
	set integers091[integer066]='I0KR'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNTransmute.blp"
	set integers093[integer066]=0
	set integers092[integer066]=5150
	set integer218=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0AA'
	set integers089[integer066]='I0A9'
	set integers090[integer066]=0
	set integers091[integer066]='I0BT'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNHeartOfAszune.blp"
	set integers093[integer066]=0
	set integers092[integer066]=5500
	set integer219=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0AA'
	set integers089[integer066]='I0KL'
	set integers091[integer066]='I0KM'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNHeartOfAszune.blp"
	set integers093[integer066]=0
	set integers092[integer066]=5500
	set integer220=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0AC'
	set integers089[integer066]='I0AB'
	set integers090[integer066]=0
	set integers091[integer066]='I0BU'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNHornOfDoom.blp"
	set integers093[integer066]=35
	set integers092[integer066]=6150
	set integer221=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0AD'
	set integers089[integer066]='I0AE'
	set integers090[integer066]=0
	set integers091[integer066]='I0BV'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNIceShard.blp"
	set integers093[integer066]=0
	set integers092[integer066]=5675
	set integer222=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0AG'
	set integers089[integer066]='I0AF'
	set integers090[integer066]=0
	set integers091[integer066]='I0CT'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNIceShard.blp"
	set integers093[integer066]=0
	set integers092[integer066]=5675
	set integer223=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0AH'
	set integers089[integer066]='I0AI'
	set integers090[integer066]=0
	set integers091[integer066]='I0BW'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingKnife_04.blp"
	set integers093[integer066]=0
	set integers092[integer066]=6000
	set integer224=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0RG'
	set integers089[integer066]='I0RH'
	set integers090[integer066]=0
	set integers091[integer066]='I0RI'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingKnife_04.blp"
	set integers093[integer066]=0
	set integers092[integer066]=6000
	set integer225=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0B8'
	set integers089[integer066]='I0AY'
	set integers090[integer066]=0
	set integers091[integer066]='I00B'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integers092[integer066]=4200
	set integer321=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0AK'
	set integers089[integer066]='I0AJ'
	set integers090[integer066]=0
	set integers091[integer066]='I0BX'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNHeartOfSearinox.blp"
	set integers093[integer066]=210
	set integers092[integer066]=5225
	set integer226=integer066
	set integer066=integer066+1
	set integers088[integer066]='I07K'
	set integers089[integer066]='I0AL'
	set integers090[integer066]=0
	set integers091[integer066]='I0BY'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_09.blp"
	set integers093[integer066]=35
	set integers092[integer066]=5675
	set integer227=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0BB'
	set integers089[integer066]='I0BA'
	set integers090[integer066]=0
	set integers091[integer066]='I0BZ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyArmor.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2275
	set integer228=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0LE'
	set integers089[integer066]='I0LC'
	set integers090[integer066]=0
	set integers091[integer066]='I0LD'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyArmor.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2275
	set integer229=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0BC'
	set integers089[integer066]='I0BD'
	set integers090[integer066]=0
	set integers091[integer066]='I00C'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNArcaneRing.blp"
	set integers093[integer066]=33
	set integers092[integer066]=1700
	set integer230=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0BF'
	set integers089[integer066]='I0BE'
	set integers091[integer066]='I0C0'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNThunderMallet.blp"
	set integers093[integer066]=35
	set integers092[integer066]=5700
	set integer231=integer066
	set integer066=integer066+1
	set integers088[integer066]='I014'
	set integers089[integer066]='I01D'
	set integers090[integer066]=0
	set integers091[integer066]=0
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRavenForm.blp"
	set integers093[integer066]=0
	set integers092[integer066]=370
	set integer232=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0BH'
	set integers089[integer066]='I0BG'
	set integers090[integer066]=0
	set integers091[integer066]='I0C1'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNCloakOfFlames.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2075
	set integer233=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0BI'
	set integers089[integer066]='I0BJ'
	set integers090[integer066]=0
	set integers091[integer066]='I0C2'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Chain_14.blp"
	set integers093[integer066]=0
	set integers092[integer066]=5250
	set integer234=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0BL'
	set integers089[integer066]='I0BK'
	set integers090[integer066]=0
	set integers091[integer066]='I0C3'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Gem_Bloodstone_02.blp"
	set integers093[integer066]=70
	set integers092[integer066]=5075
	set integer235=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0QX'
	set integers089[integer066]='I0QY'
	set integers090[integer066]=0
	set integers091[integer066]='I0QZ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNCrimsonGuard.blp"
	set integers093[integer066]=70
	set integers092[integer066]=5075
	set integer141=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0BN'
	set integers089[integer066]='I0BM'
	set integers090[integer066]=0
	set integers091[integer066]='I0C4'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNHoodOfCunning.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2125
	set integer236=integer066
	set integer066=integer066+1
	set integers088[integer066]='I00S'
	set integers089[integer066]='I00M'
	set integers090[integer066]=0
	set integers091[integer066]='I01C'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyStrength.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2400
	set integer237=integer066
	set integer066=integer066+1
	set integers088[integer066]='I00T'
	set integers089[integer066]='I00Q'
	set integers090[integer066]=0
	set integers091[integer066]='I01E'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNUnholyStrength.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2400
	set integer238=integer066
	set integer066=integer066+1
	set integers088[integer066]='I00V'
	set integers089[integer066]='I00N'
	set integers090[integer066]=0
	set integers091[integer066]='I01F'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyStrength.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2400
	set integer239=integer066
	set integer066=integer066+1
	set integers088[integer066]='I00W'
	set integers089[integer066]='I00R'
	set integers090[integer066]=0
	set integers091[integer066]='I0DE'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNUnholyStrength.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2400
	set integer240=integer066
	set integer066=integer066+1
	set integers088[integer066]='I00X'
	set integers089[integer066]='I00Z'
	set integers090[integer066]=0
	set integers091[integer066]='I0CF'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNAdvancedMoonArmor.blp"
	set integers093[integer066]=30
	set integers092[integer066]=5060
	set integer241=integer066
	set integer066=integer066+1
	set integers088[integer066]='I00Y'
	set integers089[integer066]='I010'
	set integers090[integer066]=0
	set integers091[integer066]='I0DF'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNAdvancedMoonArmor.blp"
	set integers093[integer066]=0
	set integers092[integer066]=5060
	set integer242=integer066
	set integer066=integer066+1
	set integers088[integer066]='I013'
	set integers089[integer066]='I012'
	set integers090[integer066]=0
	set integers091[integer066]='I0CB'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNStaffOfSilence.blp"
	set integers093[integer066]=18
	set integers092[integer066]=4125
	set integer243=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0GK'
	set integers089[integer066]='I0GJ'
	set integers090[integer066]=0
	set integers091[integer066]='I0GL'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNPhaseBoots.blp"
	set integers093[integer066]=8
	set integers092[integer066]=1350
	set integer244=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0HG'
	set integers089[integer066]='I0HI'
	set integers090[integer066]=0
	set integers091[integer066]='I0HH'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNForceStaff.blp"
	set integers093[integer066]=20
	set integers092[integer066]=2250
	set integer246=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0I0'
	set integers089[integer066]='I0K6'
	set integers090[integer066]=0
	set integers091[integer066]='I0I2'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNPipeOfInsight.blp"
	set integers093[integer066]=25
	set integers092[integer066]=3525
	set integer247=integer066
	set integers092[integer066]=1960
	set integer066=integer066+1
	set integers088[integer066]='I0JG'
	set integers089[integer066]='I0JF'
	set integers090[integer066]=0
	set integers091[integer066]='I0JH'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyArmor.blp"
	set integers093[integer066]=12
	set integers092[integer066]=550
	set integer248=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0KD'
	set integers089[integer066]='I0KF'
	set integers090[integer066]=0
	set integers091[integer066]='I0KE'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyArmor.blp"
	set integers093[integer066]=12
	set integers092[integer066]=550
	set integer249=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0KX'
	set integers089[integer066]='I0KY'
	set integers090[integer066]=0
	set integers091[integer066]='I0KZ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNUrnOfKelThuzad.blp"
	set integers093[integer066]=8
	set integers092[integer066]=875
	set integer251=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0LG'
	set integers089[integer066]='I0LF'
	set integers090[integer066]=0
	set integers091[integer066]='I0LH'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNUrnOfKelThuzad.blp"
	set integers093[integer066]=0
	set integers092[integer066]=875
	set integer252=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0LP'
	set integers089[integer066]='I0LL'
	set integers090[integer066]=0
	set integers091[integer066]='I0LQ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSoulRing.blp"
	set integers093[integer066]=30
	set integers092[integer066]=800
	set integer253=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0LR'
	set integers089[integer066]='I0LT'
	set integers090[integer066]=0
	set integers091[integer066]='I0LS'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNGhostBlade.blp"
	set integers093[integer066]=30
	set integers092[integer066]=4900
	set integer129=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0MJ'
	set integers089[integer066]='I0MI'
	set integers090[integer066]=0
	set integers091[integer066]='I0MK'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNArcaneBoots.blp"
	set integers093[integer066]=45
	set integers092[integer066]=1450
	set integer254=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0N1'
	set integers089[integer066]='I0N0'
	set integers090[integer066]=0
	set integers091[integer066]='I0N2'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNMedalionOfCourage.blp"
	set integers093[integer066]=7
	set integers092[integer066]=1200
	set integer255=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0ND'
	set integers089[integer066]='I0NE'
	set integers090[integer066]=0
	set integers091[integer066]='I0NC'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNJanggo.blp"
	set integers093[integer066]=30
	set integers092[integer066]=1850
	set integer132=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0NL'
	set integers089[integer066]='I0NK'
	set integers090[integer066]=0
	set integers091[integer066]='I0NM'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNJanggo.blp"
	set integers093[integer066]=0
	set integers092[integer066]=0
	set integer133=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0O2'
	set integers089[integer066]='I0O3'
	set integers090[integer066]=0
	set integers091[integer066]='I0O4'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBoneChimes.blp"
	set integers093[integer066]=30
	set integers092[integer066]=2670
	set integer256=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0OC'
	set integers089[integer066]='I0OE'
	set integers090[integer066]=0
	set integers091[integer066]='I0OD'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBoneChimes.blp"
	set integers093[integer066]=30
	set integers092[integer066]=5475
	set integer134=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0OF'
	set integers089[integer066]='I0OG'
	set integers090[integer066]=0
	set integers091[integer066]='I0OH'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNTranquilBoots.blp"
	set integers093[integer066]=60
	set integers092[integer066]=1000
	set integer135=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0OJ'
	set integers089[integer066]='I0OI'
	set integers090[integer066]=0
	set integers091[integer066]='I0OK'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNTranquilBoots.blp"
	set integers093[integer066]=60
	set integers092[integer066]=1000
	set integer136=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0OM'
	set integers089[integer066]='I0OL'
	set integers090[integer066]=0
	set integers091[integer066]='I0ON'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNWitchDoctorMaster.blp"
	set integers093[integer066]=10
	set integers092[integer066]=3100
	set integer137=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0OP'
	set integers089[integer066]='I0OO'
	set integers090[integer066]=0
	set integers091[integer066]='I0OQ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNPendantOfMana.blp"
	set integers093[integer066]=20
	set integers092[integer066]=4200
	set integer138=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0OU'
	set integers089[integer066]='I0OV'
	set integers090[integer066]=0
	set integers091[integer066]='I0OW'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNHalberd.blp"
	set integers093[integer066]=30
	set integers092[integer066]=3850
	set integer257=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0OY'
	set integers089[integer066]='I0OX'
	set integers090[integer066]=0
	set integers091[integer066]='I0OZ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNAnnihilator.blp"
	set integers093[integer066]=60
	set integers092[integer066]=6750
	set integer258=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0P0'
	set integers089[integer066]='I0P1'
	set integers090[integer066]=0
	set integers091[integer066]='I0P2'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRingJadeFalcon.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1010
	set integer139=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0P3'
	set integers089[integer066]='I0P4'
	set integers090[integer066]=0
	set integers091[integer066]='I0P5'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRingJadeFalcon.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1010
	set integer140=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0QI'
	set integers089[integer066]='I0QJ'
	set integers090[integer066]=0
	set integers091[integer066]='I0QK'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Halberd_10.blp"
	set integers093[integer066]=0
	set integers092[integer066]=100000
	set integer263=integer066
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h02G'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h086'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integer066=integer066+1
	set integers088[integer066]='I05L'
	set integers089[integer066]='I05R'
	set integers090[integer066]='h02H'
	set integers091[integer066]='I0DS'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=200
	set integer264=integer066
	set integer066=integer066+1
	set integers088[integer066]='I05M'
	set integers089[integer066]='I05S'
	set integers090[integer066]='h02I'
	set integers091[integer066]='I0DT'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=200
	set integer265=integer066
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h02J'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integer066=integer066+1
	set integers088[integer066]='I05O'
	set integers089[integer066]='I05T'
	set integers090[integer066]='h02K'
	set integers091[integer066]='I0DU'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=2000
	set integer266=integer066
	set integer066=integer066+1
	set integers090[integer066]='h014'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=0
	set integer267=integer066
	set integer066=integer066+1
	set integers088[integer066]='I05P'
	set integers089[integer066]='I05U'
	set integers090[integer066]='h02L'
	set integers091[integer066]='I0DW'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1550
	set integer268=integer066
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h02M'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integer066=integer066+1
	set integers088[integer066]='I05K'
	set integers089[integer066]='I05V'
	set integers090[integer066]='h02N'
	set integers091[integer066]='I0DX'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=210
	set integer269=integer066
	set integer066=integer066+1
	set integers088[integer066]='I05N'
	set integers089[integer066]='I05W'
	set integers090[integer066]='h02O'
	set integers091[integer066]='I0DY'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=170
	set integer270=integer066
	set integer066=integer066+1
	set integers088[integer066]='I05Q'
	set integers089[integer066]='I05X'
	set integers090[integer066]='h02P'
	set integers091[integer066]='I0DZ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=155
	set integer271=integer066
	set integer066=integer066+1
	set integers088[integer066]='I06N'
	set integers089[integer066]='I06O'
	set integers090[integer066]='h02Q'
	set integers091[integer066]='I0E0'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=600
	set integer272=integer066
	set integer066=integer066+1
	set integers088[integer066]='I06Q'
	set integers089[integer066]='I06P'
	set integers090[integer066]='h02R'
	set integers091[integer066]='I0E1'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=600
	set integer273=integer066
	set integer066=integer066+1
	set integers088[integer066]='I06R'
	set integers089[integer066]='I06S'
	set integers090[integer066]='h02S'
	set integers091[integer066]='I0E2'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1000
	set integer274=integer066
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h02T'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integers092[integer066]=500
	set integer066=integer066+1
	set integers088[integer066]='I06W'
	set integers089[integer066]='I06V'
	set integers090[integer066]='h02U'
	set integers091[integer066]='I0E4'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=700
	set integer275=integer066
	set integer066=integer066+1
	set integers088[integer066]='I06X'
	set integers089[integer066]='I06Y'
	set integers090[integer066]='h02V'
	set integers091[integer066]='I0E5'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=700
	set integer276=integer066
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h02W'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integer066=integer066+1
	set integers088[integer066]='I070'
	set integers089[integer066]='I06Z'
	set integers090[integer066]='h02X'
	set integers091[integer066]='I0E6'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=900
	set integer277=integer066
	set integer066=integer066+1
	set integers088[integer066]='I071'
	set integers089[integer066]='I072'
	set integers090[integer066]='h02Y'
	set integers091[integer066]='I0E7'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=650
	set integer278=integer066
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h02Z'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integer066=integer066+1
	set integers088[integer066]='I074'
	set integers089[integer066]='I073'
	set integers090[integer066]='h030'
	set integers091[integer066]='I0E8'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=900
	set integer279=integer066
	set integer066=integer066+1
	set integers090[integer066]='h031'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integers092[integer066]=500
	set integer280=integer066
	set integer066=integer066+1
	set integers088[integer066]='I076'
	set integers089[integer066]='I07V'
	set integers090[integer066]='h032'
	set integers091[integer066]='I0EA'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=900
	set integer281=integer066
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h033'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integer066=integer066+1
	set integers088[integer066]='I077'
	set integers089[integer066]='I07W'
	set integers090[integer066]='h034'
	set integers091[integer066]='I0EB'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=500
	set integer282=integer066
	set integer066=integer066+1
	set integers088[integer066]='I078'
	set integers089[integer066]='I07X'
	set integers090[integer066]='h035'
	set integers091[integer066]='I0EC'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1375
	set integer283=integer066
	set integer066=integer066+1
	set integers088[integer066]='I079'
	set integers089[integer066]='I07Y'
	set integers090[integer066]='h036'
	set integers091[integer066]='I0ED'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=800
	set integer284=integer066
	set integer066=integer066+1
	set integers088[integer066]='I07A'
	set integers089[integer066]='I07Z'
	set integers090[integer066]=0
	set integers091[integer066]='I0EE'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1000
	set integer285=integer066
	set integer066=integer066+1
	set integers088[integer066]='I07B'
	set integers089[integer066]='I080'
	set integers090[integer066]='h038'
	set integers091[integer066]='I0EF'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1250
	set integer286=integer066
	set integer066=integer066+1
	set integers088[integer066]='I07C'
	set integers089[integer066]='I081'
	set integers090[integer066]='h039'
	set integers091[integer066]='I0EG'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1250
	set integer287=integer066
	set integer066=integer066+1
	set integers088[integer066]='I07D'
	set integers089[integer066]='I082'
	set integers090[integer066]='h03A'
	set integers091[integer066]='I0EH'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1325
	set integer288=integer066
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h03C'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integer066=integer066+1
	set integers088[integer066]='I07E'
	set integers089[integer066]='I083'
	set integers090[integer066]='h03D'
	set integers091[integer066]='I0EI'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1200
	set integer289=integer066
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h03E'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integer066=integer066+1
	set integers088[integer066]='I07G'
	set integers089[integer066]='I07F'
	set integers090[integer066]='h03F'
	set integers091[integer066]='I0EJ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1350
	set integer290=integer066
	set integer066=integer066+1
	set integers088[integer066]='I07H'
	set integers089[integer066]='I084'
	set integers090[integer066]='h03G'
	set integers091[integer066]='I0EK'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1200
	set integer291=integer066
	set integer066=integer066+1
	set integers088[integer066]='I07O'
	set integers089[integer066]='I085'
	set integers090[integer066]='h03H'
	set integers091[integer066]='I0EL'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1100
	set integer292=integer066
	set integer066=integer066+1
	set integers090[integer066]='h03I'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=480
	set integer293=integer066
	set integer066=integer066+1
	set integers090[integer066]='h03J'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1800
	set integer294=integer066
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h03K'
	set integers091[integer066]=0
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1760
	set integer305=integer066
	set integer066=integer066+1
	set integers088[integer066]='I07J'
	set integers089[integer066]='I088'
	set integers090[integer066]='h03L'
	set integers091[integer066]='I0EO'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1800
	set integer295=integer066
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h03M'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h03N'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integer066=integer066+1
	set integers088[integer066]='I07M'
	set integers089[integer066]='I089'
	set integers090[integer066]='h03O'
	set integers091[integer066]='I0EP'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=840
	set integer296=integer066
	set integer066=integer066+1
	set integers088[integer066]='I07P'
	set integers089[integer066]='I08A'
	set integers090[integer066]='h03Q'
	set integers091[integer066]='I0EQ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=220
	set integer297=integer066
	set integer066=integer066+1
	set integers088[integer066]='I07Q'
	set integers089[integer066]='I08B'
	set integers090[integer066]='h03R'
	set integers091[integer066]='I0ER'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=300
	set integer298=integer066
	set integer066=integer066+1
	set integers088[integer066]='I07R'
	set integers089[integer066]='I08C'
	set integers090[integer066]='h03S'
	set integers091[integer066]='I0ES'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1300
	set integer299=integer066
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h03U'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integer066=integer066+1
	set integers088[integer066]='I07S'
	set integers089[integer066]='I08D'
	set integers090[integer066]='h03V'
	set integers091[integer066]='I0ET'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=500
	set integer300=integer066
	set integer066=integer066+1
	set integers088[integer066]='I07T'
	set integers089[integer066]='I08E'
	set integers090[integer066]='h03W'
	set integers091[integer066]='I0EU'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=600
	set integer301=integer066
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h079'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integer066=integer066+1
	set integers088[integer066]='I0H8'
	set integers089[integer066]='I0H7'
	set integers090[integer066]='h07S'
	set integers091[integer066]='I0H9'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=150
	set integer302=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0HD'
	set integers089[integer066]='I0HF'
	set integers090[integer066]='h07T'
	set integers091[integer066]='I0HE'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=900
	set integer303=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0QR'
	set integers089[integer066]='I0QS'
	set integers090[integer066]='h03T'
	set integers091[integer066]='I0QT'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=800
	set integer317=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0QU'
	set integers089[integer066]='I0QV'
	set integers090[integer066]='h0EU'
	set integers091[integer066]='I0QW'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=825
	set integer318=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0PD'
	set integers089[integer066]='I0PE'
	set integers090[integer066]=0
	set integers091[integer066]='I0PF'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=300
	set integer316=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0HX'
	set integers089[integer066]='I0HZ'
	set integers090[integer066]='h07X'
	set integers091[integer066]='I0HY'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=800
	set integer304=integer066
	set integer066=integer066+1
	set integers088[integer066]='I07L'
	set integers089[integer066]='I0KN'
	set integers090[integer066]='h03P'
	set integers091[integer066]='I0KO'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=900
	set integer306=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0KW'
	set integers089[integer066]='I0KV'
	set integers090[integer066]='h0BA'
	set integers091[integer066]='I0KU'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=250
	set integer307=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0LM'
	set integers089[integer066]='I0LN'
	set integers090[integer066]='h0BQ'
	set integers091[integer066]='I0LO'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=125
	set integer308=integer066
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]=0
	set integers091[integer066]=0
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=480
	set integer309=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0N9'
	set integers089[integer066]='I0NA'
	set integers090[integer066]='h0D1'
	set integers091[integer066]='I0NB'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=875
	set integer310=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0NH'
	set integers089[integer066]='I0NI'
	set integers090[integer066]='h0CY'
	set integers091[integer066]='I0NJ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=325
	set integer311=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0O5'
	set integers089[integer066]='I0O6'
	set integers090[integer066]='h0DD'
	set integers091[integer066]='I0O7'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=1270
	set integer312=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0OB'
	set integers089[integer066]='I0OA'
	set integers090[integer066]='h03X'
	set integers091[integer066]='I0O9'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
	set integers093[integer066]=0
	set integers092[integer066]=775
	set integer313=integer066
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h0DT'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integer314=integer066
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h0DU'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integer315=integer066
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h0E9'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h0EA'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set integer066=integer066+1
	set integers088[integer066]=0
	set integers089[integer066]=0
	set integers090[integer066]='h0EC'
	set strings012[integer066]=""
	set integers093[integer066]=0
	set region008=CreateRegion()
	call RegionAddRect(region008,rect202)
	call RegionAddRect(region008,rect203)
	set t=CreateTrigger()
	call TriggerAddCondition(t,Condition(function Func0543))
	set trigger056=t

	set integer320=integer320+1
	set integers095[integer320]=integer100
	set integers096[integer320]=integer112
	set integers101[integer320]=integer156
	set integer320=integer320+1
	set integers095[integer320]=integer102
	set integers096[integer320]=integer087
	set integers097[integer320]=integer264
	set integers101[integer320]=integer157
	set integer320=integer320+1
	set integers095[integer320]=integer077
	set integers096[integer320]=integer087
	set integers097[integer320]=integer265
	set integers101[integer320]=integer158
	set integer320=integer320+1
	set integers095[integer320]=integer101
	set integers096[integer320]=integer106
	set integers101[integer320]=integer159
	set integer320=integer320+1
	set integers095[integer320]=integer069
	set integers096[integer320]=integer266
	set integers101[integer320]=integer161
	set integer320=integer320+1
	set integers095[integer320]=integer069
	set integers096[integer320]=integer071
	set integers097[integer320]=integer070
	set integers101[integer320]=integer162
	set integer320=integer320+1
	set integers095[integer320]=integer069
	set integers096[integer320]=integer073
	set integers097[integer320]=integer070
	set integers101[integer320]=integer163
	set integer320=integer320+1
	set integers095[integer320]=integer069
	set integers096[integer320]=integer103
	set integers097[integer320]=integer070
	set integers101[integer320]=integer164
	set integer320=integer320+1
	set integers095[integer320]=integer070
	set integers096[integer320]=integer268
	set integers101[integer320]=integer165
	set integer320=integer320+1
	set integers095[integer320]=integer099
	set integers096[integer320]=integer103
	set integers097[integer320]=integer106
	set integers101[integer320]=integer167
	set integer320=integer320+1
	set integers095[integer320]=integer072
	set integers096[integer320]=integer082
	set integers097[integer320]=integer269
	set integers101[integer320]=integer168
	set integer320=integer320+1
	set integers095[integer320]=integer072
	set integers096[integer320]=integer105
	set integers097[integer320]=integer270
	set integers101[integer320]=integer169
	set integer320=integer320+1
	set integers095[integer320]=integer072
	set integers096[integer320]=integer090
	set integers097[integer320]=integer271
	set integers101[integer320]=integer170
	set integer320=integer320+1
	set integers095[integer320]=integer074
	set integers096[integer320]=integer071
	set integers097[integer320]=integer272
	set integers101[integer320]=integer171
	set integer320=integer320+1
	set integers095[integer320]=integer095
	set integers096[integer320]=integer073
	set integers097[integer320]=integer273
	set integers101[integer320]=integer172
	set integer320=integer320+1
	set integers095[integer320]=integer113
	set integers096[integer320]=integer073
	set integers097[integer320]=integer274
	set integers101[integer320]=integer173
	set integer320=integer320+1
	set integers095[integer320]=integer076
	set integers096[integer320]=integer077
	set integers097[integer320]=integer103
	set integers101[integer320]=integer175
	set integer320=integer320+1
	set integers095[integer320]=integer093
	set integers096[integer320]=integer070
	set integers097[integer320]=integer275
	set integers101[integer320]=integer176
	set integer320=integer320+1
	set integers095[integer320]=integer074
	set integers096[integer320]=integer074
	set integers097[integer320]=integer103
	set integers098[integer320]=integer276
	set integers101[integer320]=integer177
	set integer320=integer320+1
	set integers095[integer320]=integer177
	set integers096[integer320]=integer276
	set integers101[integer320]=integer178
	set integer320=integer320+1
	set integers095[integer320]=integer179
	set integers096[integer320]=integer276
	set integers101[integer320]=integer178
	set integer320=integer320+1
	set integers095[integer320]=integer085
	set integers096[integer320]=integer091
	set integers101[integer320]=integer181
	set integer320=integer320+1
	set integers095[integer320]=integer091
	set integers096[integer320]=integer277
	set integers101[integer320]=integer183
	set integer320=integer320+1
	set integers095[integer320]=integer106
	set integers096[integer320]=integer107
	set integers097[integer320]=integer112
	set integers098[integer320]=integer278
	set integers101[integer320]=integer184
	set integer320=integer320+1
	set integers095[integer320]=integer098
	set integers096[integer320]=integer081
	set integers097[integer320]=integer111
	set integers101[integer320]=integer185
	set integer320=integer320+1
	set integers095[integer320]=integer157
	set integers096[integer320]=integer158
	set integers097[integer320]=integer279
	set integers101[integer320]=integer186
	set integer320=integer320+1
	set integers095[integer320]=integer172
	set integers096[integer320]=integer171
	set integers101[integer320]=integer187
	set integer320=integer320+1
	set integers095[integer320]=integer093
	set integers096[integer320]=integer093
	set integers097[integer320]=integer281
	set integers101[integer320]=integer188
	set integer320=integer320+1
	set integers095[integer320]=integer156
	set integers096[integer320]=integer076
	set integers097[integer320]=integer078
	set integers101[integer320]=integer189
	set integer320=integer320+1
	set integers095[integer320]=integer075
	set integers096[integer320]=integer076
	set integers097[integer320]=integer282
	set integers101[integer320]=integer190
	set integer320=integer320+1
	set integers095[integer320]=integer093
	set integers096[integer320]=integer095
	set integers097[integer320]=integer283
	set integers101[integer320]=integer191
	set integer320=integer320+1
	set integers095[integer320]=integer171
	set integers096[integer320]=integer110
	set integers097[integer320]=integer284
	set integers101[integer320]=integer200
	set integer320=integer320+1
	set integers095[integer320]=integer078
	set integers096[integer320]=integer259
	set integers101[integer320]=integer201
	set integer320=integer320+1
	set integers095[integer320]=integer107
	set integers096[integer320]=integer170
	set integers097[integer320]=integer286
	set integers101[integer320]=integer202
	set integer320=integer320+1
	set integers095[integer320]=integer202
	set integers096[integer320]=integer286
	set integers101[integer320]=integer203
	set integer320=integer320+1
	set integers095[integer320]=integer203
	set integers096[integer320]=integer286
	set integers101[integer320]=integer204
	set integer320=integer320+1
	set integers095[integer320]=integer204
	set integers096[integer320]=integer286
	set integers101[integer320]=integer205
	set integer320=integer320+1
	set integers095[integer320]=integer205
	set integers096[integer320]=integer286
	set integers101[integer320]=integer206
	set integer320=integer320+1
	set integers095[integer320]=integer107
	set integers096[integer320]=integer073
	set integers097[integer320]=integer287
	set integers101[integer320]=integer207
	set integer320=integer320+1
	set integers095[integer320]=integer207
	set integers096[integer320]=integer287
	set integers101[integer320]=integer208
	set integer320=integer320+1
	set integers095[integer320]=integer208
	set integers096[integer320]=integer287
	set integers101[integer320]=integer209
	set integer320=integer320+1
	set integers095[integer320]=integer110
	set integers096[integer320]=integer156
	set integers097[integer320]=integer288
	set integers101[integer320]=integer210
	set integer320=integer320+1
	set integers095[integer320]=integer079
	set integers096[integer320]=integer104
	set integers101[integer320]=integer212
	set integer320=integer320+1
	set integers095[integer320]=integer190
	set integers096[integer320]=integer079
	set integers097[integer320]=integer289
	set integers101[integer320]=integer214
	set integer320=integer320+1
	set integers095[integer320]=integer079
	set integers096[integer320]=integer113
	set integers097[integer320]=integer113
	set integers101[integer320]=integer215
	set integer320=integer320+1
	set integers095[integer320]=integer104
	set integers096[integer320]=integer290
	set integers101[integer320]=integer217
	set integer320=integer320+1
	set integers095[integer320]=integer092
	set integers096[integer320]=integer111
	set integers097[integer320]=integer291
	set integers101[integer320]=integer219
	set integer320=integer320+1
	set integers095[integer320]=integer092
	set integers096[integer320]=integer181
	set integers097[integer320]=integer292
	set integers101[integer320]=integer221
	set integer320=integer320+1
	set integers095[integer320]=integer092
	set integers096[integer320]=integer182
	set integers097[integer320]=integer292
	set integers101[integer320]=integer221
	set integer320=integer320+1
	set integers095[integer320]=integer110
	set integers096[integer320]=integer110
	set integers097[integer320]=integer098
	set integers098[integer320]=integer067
	set integers101[integer320]=integer222
	set integer320=integer320+1
	set integers095[integer320]=integer110
	set integers096[integer320]=integer110
	set integers097[integer320]=integer098
	set integers098[integer320]=integer068
	set integers101[integer320]=integer222
	set integer320=integer320+1
	set integers095[integer320]=integer080
	set integers096[integer320]=integer099
	set integers097[integer320]=integer128
	set integers101[integer320]=integer224
	set integer320=integer320+1
	set integers095[integer320]=integer106
	set integers096[integer320]=integer077
	set integers097[integer320]=integer311
	set integers101[integer320]=integer255
	set integer320=integer320+1
	set integers095[integer320]=integer098
	set integers096[integer320]=integer095
	set integers097[integer320]=integer074
	set integers098[integer320]=integer107
	set integers101[integer320]=integer321
	set integer320=integer320+1
	set integers095[integer320]=integer156
	set integers096[integer320]=integer167
	set integers097[integer320]=integer295
	set integers101[integer320]=integer226
	set integer320=integer320+1
	set integers095[integer320]=integer110
	set integers096[integer320]=integer094
	set integers097[integer320]=integer112
	set integers101[integer320]=integer227
	set integer320=integer320+1
	set integers095[integer320]=integer111
	set integers096[integer320]=integer100
	set integers097[integer320]=integer108
	set integers101[integer320]=integer228
	set integer320=integer320+1
	set integers095[integer320]=integer111
	set integers096[integer320]=integer100
	set integers097[integer320]=integer109
	set integers101[integer320]=integer228
	set integer320=integer320+1
	set integers095[integer320]=integer081
	set integers096[integer320]=integer101
	set integers097[integer320]=integer296
	set integers101[integer320]=integer230
	set integer320=integer320+1
	set integers095[integer320]=integer086
	set integers096[integer320]=integer176
	set integers097[integer320]=integer306
	set integers101[integer320]=integer231
	set integer320=integer320+1
	set integers095[integer320]=integer150
	set integers097[integer320]=integer297
	set integers101[integer320]=integer232
	set integer320=integer320+1
	set integers095[integer320]=integer102
	set integers096[integer320]=integer159
	set integers097[integer320]=integer091
	set integers098[integer320]=integer298
	set integers101[integer320]=integer233
	set integer320=integer320+1
	set integers095[integer320]=integer102
	set integers096[integer320]=integer160
	set integers097[integer320]=integer091
	set integers098[integer320]=integer298
	set integers101[integer320]=integer233
	set integer320=integer320+1
	set integers095[integer320]=integer086
	set integers096[integer320]=integer097
	set integers097[integer320]=integer077
	set integers098[integer320]=integer299
	set integers101[integer320]=integer234
	set integer320=integer320+1
	set integers095[integer320]=integer185
	set integers096[integer320]=integer253
	set integers097[integer320]=integer317
	set integers101[integer320]=integer235
	set integer320=integer320+1
	set integers095[integer320]=integer228
	set integers096[integer320]=integer158
	set integers097[integer320]=integer318
	set integers101[integer320]=integer141
	set integer320=integer320+1
	set integers095[integer320]=integer229
	set integers096[integer320]=integer158
	set integers097[integer320]=integer318
	set integers101[integer320]=integer141
	set integer320=integer320+1
	set integers095[integer320]=integer102
	set integers096[integer320]=integer102
	set integers097[integer320]=integer100
	set integers098[integer320]=integer096
	set integers101[integer320]=integer236
	set integer320=integer320+1
	set integers095[integer320]=integer070
	set integers096[integer320]=integer085
	set integers097[integer320]=integer075
	set integers098[integer320]=integer300
	set integers101[integer320]=integer240
	set integer320=integer320+1
	set integers095[integer320]=integer094
	set integers096[integer320]=integer097
	set integers097[integer320]=integer301
	set integers101[integer320]=integer241
	set integer320=integer320+1
	set integers095[integer320]=integer167
	set integers096[integer320]=integer167
	set integers097[integer320]=integer313
	set integers101[integer320]=integer243
	set integer320=integer320+1
	set integers095[integer320]=integer069
	set integers096[integer320]=integer075
	set integers097[integer320]=integer075
	set integers101[integer320]=integer244
	set integer320=integer320+1
	set integers095[integer320]=integer125
	set integers096[integer320]=integer087
	set integers097[integer320]=integer087
	set integers098[integer320]=integer087
	set integers099[integer320]=integer302
	set integers101[integer320]=integer245
	set integer320=integer320+1
	set integers095[integer320]=integer107
	set integers096[integer320]=integer102
	set integers097[integer320]=integer303
	set integers101[integer320]=integer246
	set integer320=integer320+1
	set integers095[integer320]=integer236
	set integers096[integer320]=integer157
	set integers097[integer320]=integer304
	set integers101[integer320]=integer247
	set integer320=integer320+1
	set integers095[integer320]=integer108
	set integers096[integer320]=integer105
	set integers097[integer320]=integer105
	set integers101[integer320]=integer248
	set integer320=integer320+1
	set integers095[integer320]=integer109
	set integers096[integer320]=integer105
	set integers097[integer320]=integer105
	set integers101[integer320]=integer248
	set integer320=integer320+1
	set integers095[integer320]=integer106
	set integers096[integer320]=integer082
	set integers097[integer320]=integer082
	set integers098[integer320]=integer307
	set integers101[integer320]=integer251
	set integer320=integer320+1
	set integers095[integer320]=integer106
	set integers096[integer320]=integer102
	set integers097[integer320]=integer308
	set integers101[integer320]=integer253
	set integer320=integer320+1
	set integers095[integer320]=integer080
	set integers096[integer320]=integer250
	set integers101[integer320]=integer129
	set integer320=integer320+1
	set integers095[integer320]=integer069
	set integers096[integer320]=integer081
	set integers101[integer320]=integer254
	set integer320=integer320+1
	set integers095[integer320]=integer103
	set integers096[integer320]=integer168
	set integers097[integer320]=integer310
	set integers101[integer320]=integer132
	set integer320=integer320+1
	set integers095[integer320]=integer132
	set integers096[integer320]=integer310
	set integers101[integer320]=integer132
	set integer320=integer320+1
	set integers095[integer320]=integer133
	set integers096[integer320]=integer310
	set integers101[integer320]=integer132
	set integer320=integer320+1
	set integers095[integer320]=integer085
	set integers096[integer320]=integer170
	set integers097[integer320]=integer312
	set integers101[integer320]=integer256
	set integer320=integer320+1
	set integers095[integer320]=integer069
	set integers096[integer320]=integer101
	set integers097[integer320]=integer102
	set integers101[integer320]=integer135
	set integer320=integer320+1
	set integers095[integer320]=integer107
	set integers096[integer320]=integer107
	set integers097[integer320]=integer111
	set integers101[integer320]=integer137
	set integer320=integer320+1
	set integers095[integer320]=integer172
	set integers096[integer320]=integer128
	set integers101[integer320]=integer257
	set integer320=integer320+1
	set integers095[integer320]=integer173
	set integers096[integer320]=integer104
	set integers101[integer320]=integer258
	set integer320=integer320+1
	set integers095[integer320]=integer169
	set integers096[integer320]=integer159
	set integers101[integer320]=integer139
	set integer320=integer320+1
	set integers095[integer320]=integer169
	set integers096[integer320]=integer160
	set integers101[integer320]=integer140
	set integer320=integer320+1
	set integers095[integer320]=integer261
	set integers096[integer320]=integer261
	set integers097[integer320]=integer261
	set integers098[integer320]=integer261
	set integers099[integer320]=integer261
	set integers100[integer320]=integer261
	set integers101[integer320]=integer262
	set integer066=integer066+1
	set integers088[integer066]='I0AZ'
	set integers089[integer066]='I011'
	set integers090[integer066]=0
	set integers091[integer066]='I0EY'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer322=integer066
	set integer066=integer066+1
	set integers088[integer066]='I00F'
	set integers089[integer066]='I00D'
	set integers090[integer066]=0
	set integers091[integer066]='I0EZ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer323=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0R9'
	set integers089[integer066]='I0RA'
	set integers090[integer066]=0
	set integers091[integer066]='I0RB'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer386=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0R6'
	set integers089[integer066]='I0R7'
	set integers090[integer066]=0
	set integers091[integer066]='I0R8'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer385=integer066
	set integer066=integer066+1
	set integers088[integer066]='I018'
	set integers089[integer066]='I009'
	set integers090[integer066]=0
	set integers091[integer066]='I0F0'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer324=integer066
	set integer066=integer066+1
	set integers088[integer066]='I019'
	set integers089[integer066]='I005'
	set integers090[integer066]=0
	set integers091[integer066]='I0F6'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer325=integer066
	set integer066=integer066+1
	set integers088[integer066]='I01A'
	set integers089[integer066]='I00G'
	set integers090[integer066]=0
	set integers091[integer066]='I0F1'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer326=integer066
	set integer066=integer066+1
	set integers088[integer066]='I01B'
	set integers089[integer066]='I004'
	set integers090[integer066]=0
	set integers091[integer066]='I0F2'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer327=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0R3'
	set integers089[integer066]='I0R4'
	set integers090[integer066]=0
	set integers091[integer066]='I0R5'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer384=integer066
	set integer066=integer066+1
	set integers088[integer066]='I01H'
	set integers089[integer066]='I003'
	set integers090[integer066]=0
	set integers091[integer066]='I0F3'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer328=integer066
	set integer066=integer066+1
	set integers088[integer066]='I01I'
	set integers089[integer066]='I002'
	set integers090[integer066]=0
	set integers091[integer066]='I0F5'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer329=integer066
	set integer066=integer066+1
	set integers088[integer066]='I02K'
	set integers089[integer066]='I001'
	set integers090[integer066]=0
	set integers091[integer066]='I0F4'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer330=integer066
	set integer066=integer066+1
	set integers088[integer066]='I02L'
	set integers089[integer066]='I00I'
	set integers090[integer066]=0
	set integers091[integer066]='I0FE'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer331=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0R1'
	set integers089[integer066]='I0R0'
	set integers090[integer066]=0
	set integers091[integer066]='I0R2'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer332=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0B2'
	set integers089[integer066]='I00H'
	set integers090[integer066]=0
	set integers091[integer066]='I0F9'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer334=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0B3'
	set integers089[integer066]='I00P'
	set integers090[integer066]=0
	set integers091[integer066]='I0FA'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer335=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0B4'
	set integers089[integer066]='I00U'
	set integers090[integer066]=0
	set integers091[integer066]='I0F7'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer336=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0B7'
	set integers089[integer066]='I000'
	set integers090[integer066]=0
	set integers091[integer066]='I0FD'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer337=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0B6'
	set integers089[integer066]='I016'
	set integers090[integer066]=0
	set integers091[integer066]='I0FC'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer338=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0B5'
	set integers089[integer066]='I017'
	set integers090[integer066]=0
	set integers091[integer066]='I0FB'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer339=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0B9'
	set integers089[integer066]='I00O'
	set integers090[integer066]=0
	set integers091[integer066]='I0F8'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer340=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0J5'
	set integers089[integer066]='I0IT'
	set integers090[integer066]=0
	set integers091[integer066]='I0IJ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer341=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0IV'
	set integers089[integer066]='I0IU'
	set integers090[integer066]=0
	set integers091[integer066]='I0I9'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer342=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0IW'
	set integers089[integer066]='I0IS'
	set integers090[integer066]=0
	set integers091[integer066]='I0II'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer343=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0IX'
	set integers089[integer066]='I0IR'
	set integers090[integer066]=0
	set integers091[integer066]='I0IA'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer344=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0IY'
	set integers089[integer066]='I0IQ'
	set integers090[integer066]=0
	set integers091[integer066]='I0IH'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer345=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0IZ'
	set integers089[integer066]='I0IK'
	set integers090[integer066]=0
	set integers091[integer066]='I0IG'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer346=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0J0'
	set integers089[integer066]='I0IL'
	set integers090[integer066]=0
	set integers091[integer066]='I0IF'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer347=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0J1'
	set integers089[integer066]='I0IM'
	set integers090[integer066]=0
	set integers091[integer066]='I0IE'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer348=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0J2'
	set integers089[integer066]='I0IP'
	set integers090[integer066]=0
	set integers091[integer066]='I0ID'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer349=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0J3'
	set integers089[integer066]='I0IO'
	set integers090[integer066]=0
	set integers091[integer066]='I0IC'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer350=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0J4'
	set integers089[integer066]='I0IN'
	set integers090[integer066]=0
	set integers091[integer066]='I0IB'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer351=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0I6'
	set integers089[integer066]='I0I7'
	set integers090[integer066]=0
	set integers091[integer066]='I0I8'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer352=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0JZ'
	set integers089[integer066]='I0JS'
	set integers090[integer066]=0
	set integers091[integer066]='I0JR'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer353=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0K0'
	set integers089[integer066]='I0JT'
	set integers090[integer066]=0
	set integers091[integer066]='I0JL'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer354=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0K1'
	set integers089[integer066]='I0JU'
	set integers090[integer066]=0
	set integers091[integer066]='I0JM'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer355=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0K2'
	set integers089[integer066]='I0JW'
	set integers090[integer066]=0
	set integers091[integer066]='I0JN'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer356=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0K3'
	set integers089[integer066]='I0JV'
	set integers090[integer066]=0
	set integers091[integer066]='I0JQ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer357=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0K4'
	set integers089[integer066]='I0JY'
	set integers090[integer066]=0
	set integers091[integer066]='I0JP'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer358=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0K5'
	set integers089[integer066]='I0JX'
	set integers090[integer066]=0
	set integers091[integer066]='I0JO'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer359=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0KI'
	set integers089[integer066]='I0KH'
	set integers090[integer066]=0
	set integers091[integer066]='I0KJ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer360=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0L4'
	set integers089[integer066]='I0L5'
	set integers090[integer066]=0
	set integers091[integer066]='I0L8'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer333=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0L3'
	set integers089[integer066]='I0L0'
	set integers090[integer066]=0
	set integers091[integer066]='I0L9'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer361=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0L2'
	set integers089[integer066]='I0L7'
	set integers090[integer066]=0
	set integers091[integer066]='I0LA'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer362=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0LU'
	set integers089[integer066]='I0LV'
	set integers090[integer066]=0
	set integers091[integer066]='I0LW'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer363=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0M1'
	set integers089[integer066]='I0M0'
	set integers090[integer066]=0
	set integers091[integer066]='I0M2'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer364=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0M5'
	set integers089[integer066]='I0M4'
	set integers090[integer066]=0
	set integers091[integer066]='I0M3'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer365=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0M6'
	set integers089[integer066]='I0M7'
	set integers090[integer066]=0
	set integers091[integer066]='I0M8'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer366=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0MF'
	set integers089[integer066]='I0MG'
	set integers090[integer066]=0
	set integers091[integer066]='I0MH'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer367=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0MM'
	set integers089[integer066]='I0ML'
	set integers090[integer066]=0
	set integers091[integer066]='I0MN'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer368=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0MO'
	set integers089[integer066]='I0MP'
	set integers090[integer066]=0
	set integers091[integer066]='I0MQ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer369=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0NQ'
	set integers089[integer066]='I0NR'
	set integers090[integer066]=0
	set integers091[integer066]='I0NS'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer370=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0NT'
	set integers089[integer066]='I0NU'
	set integers090[integer066]=0
	set integers091[integer066]='I0NV'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer371=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0NW'
	set integers089[integer066]='I0NX'
	set integers090[integer066]=0
	set integers091[integer066]='I0NY'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer372=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0NZ'
	set integers089[integer066]='I0O0'
	set integers090[integer066]=0
	set integers091[integer066]='I0O1'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer373=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0OR'
	set integers089[integer066]='I0OS'
	set integers090[integer066]=0
	set integers091[integer066]='I0OT'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer374=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0PG'
	set integers089[integer066]='I0PH'
	set integers090[integer066]=0
	set integers091[integer066]='I0PI'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer375=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0PJ'
	set integers089[integer066]='I0PK'
	set integers090[integer066]=0
	set integers091[integer066]='I0PL'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer376=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0PP'
	set integers089[integer066]='I0PQ'
	set integers090[integer066]=0
	set integers091[integer066]='I0PR'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer377=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0PS'
	set integers089[integer066]='I0PT'
	set integers090[integer066]=0
	set integers091[integer066]='I0PU'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer378=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0PV'
	set integers089[integer066]='I0PW'
	set integers090[integer066]=0
	set integers091[integer066]='I0PX'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer379=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0Q0'
	set integers089[integer066]='I0Q2'
	set integers090[integer066]=0
	set integers091[integer066]='I0Q4'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer381=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0Q1'
	set integers089[integer066]='I0Q3'
	set integers090[integer066]=0
	set integers091[integer066]='I0Q5'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer380=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0QL'
	set integers089[integer066]='I0QM'
	set integers090[integer066]=0
	set integers091[integer066]='I0QN'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer382=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0QO'
	set integers089[integer066]='I0QP'
	set integers090[integer066]=0
	set integers091[integer066]='I0QQ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer383=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0RJ'
	set integers089[integer066]='I0RK'
	set integers090[integer066]=0
	set integers091[integer066]='I0RL'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer387=integer066
	set integer066=integer066+1
	set integers088[integer066]='I0RM'
	set integers089[integer066]='I0RN'
	set integers090[integer066]=0
	set integers091[integer066]='I0RO'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
	set integers093[integer066]=60
	set integer388=integer066
	set integer066=integer066+1
	set integers088[integer066]='I03A'
	set integers089[integer066]='I051'
	set integers090[integer066]='h08K'
	set integers091[integer066]='I0D9'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer108
	set integer066=integer066+1
	set integers088[integer066]='I03Y'
	set integers089[integer066]='I052'
	set integers090[integer066]='h08X'
	set integers091[integer066]='I0C9'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNOrbofSlowness.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer110
	set integer066=integer066+1
	set integers088[integer066]='I02S'
	set integers089[integer066]='I02P'
	set integers090[integer066]='h08S'
	set integers091[integer066]='I0CA'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNGlove.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer070
	set integer066=integer066+1
	set integers088[integer066]='I02N'
	set integers089[integer066]='I02R'
	set integers090[integer066]='h08P'
	set integers091[integer066]='I0CS'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBoots.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer071
	set integer066=integer066+1
	set integers088[integer066]='I02Z'
	set integers089[integer066]='I043'
	set integers090[integer066]='h08Q'
	set integers091[integer066]='I0CV'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNBelt.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer073
	set integer066=integer066+1
	set integers088[integer066]='I031'
	set integers089[integer066]='I045'
	set integers090[integer066]='h08T'
	set integers091[integer066]='I0D5'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNClawsOfAttack.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer075
	set integer066=integer066+1
	set integers088[integer066]='I03B'
	set integers089[integer066]='I04E'
	set integers090[integer066]='h08N'
	set integers091[integer066]='I0DA'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNHelmutPurple.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer085
	set integer066=integer066+1
	set integers088[integer066]='I03E'
	set integers089[integer066]='I04H'
	set integers090[integer066]='h08W'
	set integers091[integer066]='I0C7'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"
	set integers093[integer066]=18
	set integers094[integer066]=integer088
	set integer066=integer066+1
	set integers088[integer066]='I03G'
	set integers089[integer066]='I04K'
	set integers090[integer066]='h08O'
	set integers091[integer066]='I0CD'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNUndeadShrine.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer091
	set integer066=integer066+1
	set integers088[integer066]='I03P'
	set integers089[integer066]='I04S'
	set integers090[integer066]='h08U'
	set integers091[integer066]='I0CY'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNAlleriaFlute.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer099
	set integer066=integer066+1
	set integers088[integer066]='I03Q'
	set integers089[integer066]='I04T'
	set integers090[integer066]='h08G'
	set integers091[integer066]='I0DI'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNGoldRing.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer100
	set integer066=integer066+1
	set integers088[integer066]='I03S'
	set integers089[integer066]='I04V'
	set integers090[integer066]='h08L'
	set integers091[integer066]='I0DJ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRingSkull.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer102
	set integer066=integer066+1
	set integers088[integer066]='I03T'
	set integers089[integer066]='I04W'
	set integers090[integer066]='h08R'
	set integers091[integer066]='I0CP'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNRobeOfTheMagi.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer103
	set integer066=integer066+1
	set integers088[integer066]='I03V'
	set integers089[integer066]='I04Y'
	set integers090[integer066]='h08E'
	set integers091[integer066]='I0C5'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSlippersOfAgility.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer105
	set integer066=integer066+1
	set integers088[integer066]='I03W'
	set integers089[integer066]='I04Z'
	set integers090[integer066]='h08J'
	set integers091[integer066]='I0DK'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSobiMask.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer106
	set integer066=integer066+1
	set integers088[integer066]='I0GD'
	set integers089[integer066]='I0GC'
	set integers090[integer066]='h08I'
	set integers091[integer066]='I0GE'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNWand.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer125
	set integer066=integer066+1
	set integers088[integer066]='I0HT'
	set integers089[integer066]='I0HR'
	set integers090[integer066]='h08F'
	set integers091[integer066]='I0HW'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer126
	set integer066=integer066+1
	set integers088[integer066]='I0J7'
	set integers089[integer066]='I0J6'
	set integers090[integer066]='h08V'
	set integers091[integer066]='I0J8'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNAmulet.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer128
	set integer066=integer066+1
	set integers088[integer066]='I03L'
	set integers089[integer066]='I04P'
	set integers090[integer066]='h08M'
	set integers091[integer066]='I0CE'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer096
	set integer066=integer066+1
	set integers088[integer066]='I05A'
	set integers089[integer066]='I05I'
	set integers090[integer066]='h08H'
	set integers091[integer066]=0
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer149
	set integer066=integer066+1
	set integers088[integer066]='I037'
	set integers089[integer066]='I04B'
	set integers090[integer066]='h093'
	set integers091[integer066]='I0CR'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNEnchantedGemstone.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer081
	set integer066=integer066+1
	set integers088[integer066]='I02Q'
	set integers089[integer066]='I02O'
	set integers090[integer066]='h0BO'
	set integers091[integer066]='I00A'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer069
	set integer066=integer066+1
	set integer066=integer066+1
	set integers088[integer066]='I032'
	set integers089[integer066]='I046'
	set integers090[integer066]='h0EV'
	set integers091[integer066]='I0CZ'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNSteelMelee.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer076
	set integer066=integer066+1
	set integers088[integer066]='I0MA'
	set integers089[integer066]='I0M9'
	set integers090[integer066]='h0CN'
	set integers091[integer066]='I0MB'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer067
	set integer066=integer066+1
	set integers088[integer066]='I033'
	set integers089[integer066]='I047'
	set integers090[integer066]='h0D0'
	set integers091[integer066]='I0D7'
	set strings012[integer066]="ReplaceableTextures\\CommandButtons\\BTNGlove.blp"
	set integers093[integer066]=0
	set integers094[integer066]=integer077
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELL)
	call TriggerAddCondition(t,Condition(function Func0575))

	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DROP_ITEM)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_PAWN_ITEM)
	call TriggerAddCondition(t,Condition(function Func0588))
	set trigger057=t

	set t=CreateTrigger()
	call TriggerAddCondition(t,Condition(function Func0589))
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)

	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DROP_ITEM)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_PAWN_ITEM)
	call TriggerAddCondition(t,Condition(function Func0598))
	set trigger058=t

	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(t,Condition(function Func0601))
	set trigger059=t
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func0599))

	set t=CreateTrigger()
	call Func0167(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func0606))

	set t=CreateTrigger()
	call Func0167(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call Func0167(t,EVENT_PLAYER_UNIT_DROP_ITEM)
	call TriggerAddCondition(t,Condition(function Func0609))
	set trigger060=t

	set t=CreateTrigger()
	set t=CreateTrigger()
	call Func0167(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddAction(t,function Func0615)
	call TriggerAddCondition(t,Condition(function Func0611))
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func0617))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddAction(t,function Func0621)
	call TriggerAddCondition(t,Condition(function Func0619))
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.33,true)
	call TriggerAddCondition(t,Condition(function Func0638))

	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.75,true)
	call TriggerAddCondition(t,Condition(function Func0642))

	call SetPlayerAbilityAvailable(Sentinels[1],'A174',false)
	call SetPlayerAbilityAvailable(Sentinels[2],'A174',false)
	call SetPlayerAbilityAvailable(Sentinels[3],'A174',false)
	call SetPlayerAbilityAvailable(Sentinels[4],'A174',false)
	call SetPlayerAbilityAvailable(Sentinels[5],'A174',false)
	call SetPlayerAbilityAvailable(Scourges[1],'A174',false)
	call SetPlayerAbilityAvailable(Scourges[2],'A174',false)
	call SetPlayerAbilityAvailable(Scourges[3],'A174',false)
	call SetPlayerAbilityAvailable(Scourges[4],'A174',false)
	call SetPlayerAbilityAvailable(Scourges[5],'A174',false)
	set t=CreateTrigger()
	call Func0167(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func0657))

	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t,Condition(function Func0659))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DROP_ITEM)
	call TriggerAddCondition(t,Condition(function Func0658))

	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DROP_ITEM)
	call TriggerAddCondition(t,Condition(function Func0661))

	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t,Condition(function Func0666))
	set integers113[0]='A2VP'
	set integers113[1]='A2VQ'
	set integers113[2]='A2VR'
	set integers113[3]='A2VS'
	set integers113[4]='A2VT'

	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func0670))

	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.5,true)
	call TriggerAddCondition(t,Condition(function Func0676))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func0679))

	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func0682))

	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t,Condition(function Func0705))

	call Func0809()
	call SetAltMinimapIcon("war3mapImported\\black.blp")
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SUMMON)
	call TriggerAddCondition(t,Condition(function Func0832))
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func0828))

	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func0877))
	call SetPlayerAbilityAvailable(Sentinels[1],'A1VV',false)
	call SetPlayerAbilityAvailable(Sentinels[2],'A1VV',false)
	call SetPlayerAbilityAvailable(Sentinels[3],'A1VV',false)
	call SetPlayerAbilityAvailable(Sentinels[4],'A1VV',false)
	call SetPlayerAbilityAvailable(Sentinels[5],'A1VV',false)
	call SetPlayerAbilityAvailable(Scourges[1],'A1VV',false)
	call SetPlayerAbilityAvailable(Scourges[2],'A1VV',false)
	call SetPlayerAbilityAvailable(Scourges[3],'A1VV',false)
	call SetPlayerAbilityAvailable(Scourges[4],'A1VV',false)
	call SetPlayerAbilityAvailable(Scourges[5],'A1VV',false)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(t,Condition(function Func0893))

	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddAction(t,function Func0895)
	call TriggerAddCondition(t,Condition(function Func0894))
	set BFO=GetRectCenter(rect033)
	set unit001=CreateUnitAtLoc(Player(12),'n00L',BFO,270)
	call SetUnitAcquireRange(unit001,150)
	call Func0515(unit001)
	call RemoveLocation(BFO)
	call UnitAddItem(unit001,CreateItem(integers089[integer198],0,0))
	call UnitAddAbility(unit001,'A142')
	set BFO=GetRectCenter(rect019)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect020)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect021)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect022)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect023)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect024)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect025)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect026)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect027)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect028)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect047)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set BFO=GetRectCenter(rect049)
	call RemoveUnit(CreateUnitAtLoc(Neutrals,'u001',BFO,0))
	call RemoveLocation(BFO)
	set t=CreateTrigger()
	call TriggerRegisterUnitInRange(t,unit010,300,Condition(function Func0165))
	call TriggerRegisterUnitInRange(t,unit015,300,Condition(function Func0165))
	call TriggerRegisterUnitInRange(t,unit008,300,Condition(function Func0165))
	call TriggerAddCondition(t,Condition(function Func0897))

	set trigger005=CreateTrigger()
	call TriggerAddAction(trigger005,function Func0898)
	set trigger006=CreateTrigger()
	call TriggerAddAction(trigger006,function Func0899)
	set t=CreateTrigger()
	set S5O=CreateRegion()
	call RegionAddRect(S5O,rect014)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	set S5O=CreateRegion()
	call RegionAddRect(S5O,rect007)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	set S5O=CreateRegion()
	call RegionAddRect(S5O,rect185)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	call TriggerAddCondition(t,Condition(function Func0900))

	
	set t=CreateTrigger()
	set S5O=CreateRegion()
	call RegionAddRect(S5O,rect009)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	set S5O=CreateRegion()
	call RegionAddRect(S5O,rect002)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	set S5O=CreateRegion()
	call RegionAddRect(S5O,rect181)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	call TriggerAddCondition(t,Condition(function Func0901))

	
	set t=CreateTrigger()
	set S5O=CreateRegion()
	call RegionAddRect(S5O,rect013)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	set S5O=CreateRegion()
	call RegionAddRect(S5O,rect006)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	set S5O=CreateRegion()
	call RegionAddRect(S5O,rect186)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	call TriggerAddCondition(t,Condition(function Func0902))

	
	set t=CreateTrigger()
	set S5O=CreateRegion()
	call RegionAddRect(S5O,rect010)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	set S5O=CreateRegion()
	call RegionAddRect(S5O,rect003)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	set S5O=CreateRegion()
	call RegionAddRect(S5O,rect182)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	call TriggerAddCondition(t,Condition(function Func0903))

	
	set t=CreateTrigger()
	set S5O=CreateRegion()
	call RegionAddRect(S5O,rect005)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	set S5O=CreateRegion()
	call RegionAddRect(S5O,rect012)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	set S5O=CreateRegion()
	call RegionAddRect(S5O,rect184)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	call TriggerAddCondition(t,Condition(function Func0904))

	
	set t=CreateTrigger()
	set S5O=CreateRegion()
	call RegionAddRect(S5O,rect008)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	set S5O=CreateRegion()
	call RegionAddRect(S5O,rect001)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	set S5O=CreateRegion()
	call RegionAddRect(S5O,rect183)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	call TriggerAddCondition(t,Condition(function Func0905))

	
	set trigger007=CreateTrigger()
	call TriggerAddAction(trigger007,function Func0914)
	set trigger008=CreateTrigger()
	call TriggerRegisterUnitEvent(trigger008,unit156,EVENT_UNIT_DEATH)
	call TriggerAddAction(trigger008,function Func0915)
	set trigger009=CreateTrigger()
	call TriggerRegisterUnitEvent(trigger009,unit157,EVENT_UNIT_DEATH)
	call TriggerAddAction(trigger009,function Func0916)
	set trigger010=CreateTrigger()
	call TriggerRegisterUnitEvent(trigger010,unit158,EVENT_UNIT_DEATH)
	call TriggerAddAction(trigger010,function Func0917)
	set trigger011=CreateTrigger()
	call TriggerRegisterUnitEvent(trigger011,unit153,EVENT_UNIT_DEATH)
	call TriggerAddAction(trigger011,function Func0918)
	set trigger012=CreateTrigger()
	call TriggerRegisterUnitEvent(trigger012,unit154,EVENT_UNIT_DEATH)
	call TriggerAddAction(trigger012,function Func0919)
	set trigger013=CreateTrigger()
	call TriggerRegisterUnitEvent(trigger013,unit155,EVENT_UNIT_DEATH)
	call TriggerAddAction(trigger013,function Func0920)
	set trigger014=CreateTrigger()
	call TriggerRegisterUnitEvent(trigger014,unit200,EVENT_UNIT_DEATH)
	call TriggerAddAction(trigger014,function Func0921)
	set trigger015=CreateTrigger()
	call TriggerRegisterUnitEvent(trigger015,unit201,EVENT_UNIT_DEATH)
	call TriggerAddAction(trigger015,function Func0922)
	set trigger016=CreateTrigger()
	call TriggerRegisterUnitEvent(trigger016,unit202,EVENT_UNIT_DEATH)
	call TriggerAddAction(trigger016,function Func0923)
	set trigger017=CreateTrigger()
	call TriggerRegisterUnitEvent(trigger017,unit197,EVENT_UNIT_DEATH)
	call TriggerAddAction(trigger017,function Func0924)
	set trigger018=CreateTrigger()
	call TriggerRegisterUnitEvent(trigger018,unit198,EVENT_UNIT_DEATH)
	call TriggerAddAction(trigger018,function Func0925)
	set trigger019=CreateTrigger()
	call TriggerRegisterUnitEvent(trigger019,unit199,EVENT_UNIT_DEATH)
	call TriggerAddAction(trigger019,function Func0926)
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit141,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func0927))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit185,EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t,Condition(function Func0928))

	set trigger020=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(trigger020,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(trigger020,Condition(function Func0929))
	call TriggerAddAction(trigger020,function Func0930)
	set trigger021=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(trigger021,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(trigger021,Condition(function Func0931))
	call TriggerAddAction(trigger021,function Func0932)
	set trigger022=CreateTrigger()
	call TriggerAddAction(trigger022,function Func0933)
	set trigger023=CreateTrigger()
	call TriggerRegisterTimerEventSingle(trigger023,75.00)
	call TriggerAddAction(trigger023,function Func0934)
	set trigger024=CreateTrigger()
	call TriggerAddCondition(trigger024,Condition(function Func0970))
	set trigger025=CreateTrigger()
	call TriggerAddAction(trigger025,function Func0971)
	set trigger026=CreateTrigger()
	call TriggerAddAction(trigger026,function Func0973)
	set trigger027=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(trigger027,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(trigger027,Condition(function Func0974))
	call TriggerAddAction(trigger027,function Func0975)
	set trigger028=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(trigger028,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(trigger028,Condition(function Func0976))
	call TriggerAddAction(trigger028,function Func0977)
	set trigger029=CreateTrigger()
	call TriggerRegisterTimerEventPeriodic(trigger029,1.00)
	call TriggerAddAction(trigger029,function Func0980)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SELECTED)
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DESELECTED)
	call TriggerAddAction(t,function ShopAnimation)

	if GetRandomInt(0,10)<11 then
		set t=CreateTrigger()
		set d=GetRandomReal(60,90)
		call TriggerRegisterTimerEvent(t,d,false)
	
	endif
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit145,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit145,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1033))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit146,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit146,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1034))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit147,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit147,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1035))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit148,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit148,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1036))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit149,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit149,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1037))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit150,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit150,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1038))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit151,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit151,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1039))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit152,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit152,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1040))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit153,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit153,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1041))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit154,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit154,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1042))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit155,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit155,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1043))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit156,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit156,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1044))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit157,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit157,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1045))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit158,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit158,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1046))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit141,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit141,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1047))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit189,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit189,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1018))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit190,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit190,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1019))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit191,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit191,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1020))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit192,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit192,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1021))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit193,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit193,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1022))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit194,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit194,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1023))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit195,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit195,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1024))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit196,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit196,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1025))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit197,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit197,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1026))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit198,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit198,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1027))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit199,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit199,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1028))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit200,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit200,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1029))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit201,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit201,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1030))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit202,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit202,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1031))
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t,unit185,EVENT_UNIT_DAMAGED)
	call TriggerRegisterUnitEvent(t,unit185,EVENT_UNIT_DEATH)
	call TriggerAddCondition(t,Condition(function Func1032))
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,1,true)
	call TriggerAddCondition(t,Condition(function Func1017))

	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,5,true)
	call TriggerAddCondition(t,Condition(function Func1056))

	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,4,true)
	call TriggerAddCondition(t,Condition(function Func1062))

	set group005=GetAvailableGroup()
	set t=CreateTrigger()
	set S5O=CreateRegion()
	call RegionAddRect(S5O,bj_mapInitialPlayableArea)
	call TriggerRegisterEnterRegion(t,S5O,Condition(function ReturnTrue))
	call TriggerAddCondition(t,Condition(function Func1066))

	
	set t=CreateTrigger()
	call TriggerAddCondition(t,Condition(function Func1067))
	call TriggerRegisterTimerEvent(t,5,true)

	call DestroyFogModifier(CreateFogModifierRect(Sentinels[0],FOG_OF_WAR_VISIBLE,bj_mapInitialPlayableArea,true,true))
	call DestroyFogModifier(CreateFogModifierRect(Scourges[0],FOG_OF_WAR_VISIBLE,bj_mapInitialPlayableArea,true,true))
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,3.5,true)
	call TriggerAddCondition(t,Condition(function Func1074))

	set trigger047=CreateTrigger()
	call TriggerRegisterUnitEvent(trigger047,unit185,EVENT_UNIT_DEATH)
	call TriggerAddAction(trigger047,function Func1084)
	set trigger048=CreateTrigger()
	call TriggerRegisterUnitEvent(trigger048,unit141,EVENT_UNIT_DEATH)
	call TriggerAddAction(trigger048,function Func1082)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t,Condition(function Func1087))

	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(t,Condition(function Func1088))

	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddAction(t,function Func1089)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func1092))

	set trigger062=CreateTrigger()
	call TriggerAddAction(trigger062,function Func1095)
	set t=CreateTrigger()
	call TriggerRegisterPlayerUnitEvent(t,Neutrals,EVENT_PLAYER_UNIT_ATTACKED,Condition(function ReturnTrue))
	call TriggerAddCondition(t,Condition(function Func1096))

	set region009=CreateRegion()
	call RegionAddRect(region009,rect054)
	call RegionAddRect(region009,rect055)
	call RegionAddRect(region009,rect056)
	call RegionAddRect(region009,rect057)
	call RegionAddRect(region009,rect058)
	call RegionAddRect(region009,rect059)
	call RegionAddRect(region009,rect060)
	call RegionAddRect(region009,rect061)
	call RegionAddRect(region009,rect062)
	set trigger030=CreateTrigger()
	call TriggerRegisterEnterRectSimple(trigger030,bj_mapInitialPlayableArea)
	call TriggerAddCondition(trigger030,Condition(function Func1097))
	call TriggerAddAction(trigger030,function Func1098)
	set trigger031=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(trigger031,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(trigger031,Condition(function Func1099))
	call TriggerAddAction(trigger031,function Func1104)
	set trigger032=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(trigger032,EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(trigger032,Condition(function Func1105))
	call TriggerAddAction(trigger032,function Func1108)
	if(bj_isSinglePlayer and Func1109())then
		call Func1134()
	endif
	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,PlayerModeTyper,"-wtf",true)
	call TriggerAddAction(t,function Func1138)
	call TriggerAddCondition(t,Condition(function Func1135))
	set t=CreateTrigger()
	call TriggerRegisterPlayerUnitEvent(t,Sentinels[1],EVENT_PLAYER_HERO_LEVEL,Condition(function ReturnTrue))
	call TriggerRegisterPlayerUnitEvent(t,Sentinels[2],EVENT_PLAYER_HERO_LEVEL,Condition(function ReturnTrue))
	call TriggerRegisterPlayerUnitEvent(t,Sentinels[3],EVENT_PLAYER_HERO_LEVEL,Condition(function ReturnTrue))
	call TriggerRegisterPlayerUnitEvent(t,Sentinels[4],EVENT_PLAYER_HERO_LEVEL,Condition(function ReturnTrue))
	call TriggerRegisterPlayerUnitEvent(t,Sentinels[5],EVENT_PLAYER_HERO_LEVEL,Condition(function ReturnTrue))
	call TriggerRegisterPlayerUnitEvent(t,Scourges[1],EVENT_PLAYER_HERO_LEVEL,Condition(function ReturnTrue))
	call TriggerRegisterPlayerUnitEvent(t,Scourges[2],EVENT_PLAYER_HERO_LEVEL,Condition(function ReturnTrue))
	call TriggerRegisterPlayerUnitEvent(t,Scourges[3],EVENT_PLAYER_HERO_LEVEL,Condition(function ReturnTrue))
	call TriggerRegisterPlayerUnitEvent(t,Scourges[4],EVENT_PLAYER_HERO_LEVEL,Condition(function ReturnTrue))
	call TriggerRegisterPlayerUnitEvent(t,Scourges[5],EVENT_PLAYER_HERO_LEVEL,Condition(function ReturnTrue))
	call TriggerAddCondition(t,Condition(function Func1139))

	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,PlayerModeTyper,"-test",true)
	call TriggerAddCondition(t,Condition(function Func1141))

	set t=CreateTrigger()
	set S5O=CreateRegion()
	call RegionAddRect(S5O,GetWorldBounds())
	call TriggerRegisterEnterRegion(t,S5O,Condition(function Func0165))
	call TriggerAddCondition(t,Condition(function Func1157))

	
	set t=CreateTrigger()
	call TriggerRegisterUnitInRange(t,unit010,300,Condition(function Func0165))
	call TriggerRegisterUnitInRange(t,unit015,300,Condition(function Func0165))
	call TriggerRegisterUnitInRange(t,unit008,300,Condition(function Func0165))
	call TriggerAddCondition(t,Condition(function Func1158))

	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,25,false)
	call TriggerAddAction(t,function Func1160)

	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,2,false)
	call TriggerAddCondition(t,Condition(function Func1166))

	set region001=CreateRegion()
	call RegionAddRect(region001,rect017)
	call RegionAddRect(region001,rect016)
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,25,false)
	call TriggerAddAction(t,function Func1173)

	set t=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(t,Sentinels[1],"-",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[2],"-",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[3],"-",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[4],"-",false)
	call TriggerRegisterPlayerChatEvent(t,Sentinels[5],"-",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[1],"-",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[2],"-",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[3],"-",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[4],"-",false)
	call TriggerRegisterPlayerChatEvent(t,Scourges[5],"-",false)
	call TriggerAddAction(t,function Func1174)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_FINISH)
	call TriggerAddCondition(t,Condition(function Func1194))
	call TriggerAddAction(t,function Func1196)
	set booleans014[0]=false
	set booleans014[1]=false
	set booleans014[2]=false
	set booleans014[3]=false
	set booleans014[4]=false
	set booleans014[5]=false
	set booleans014[6]=false
	set booleans014[7]=false
	set booleans014[8]=false
	set booleans014[9]=false
	set booleans014[10]=false
	set booleans014[11]=false
	set booleans014[12]=false
	set booleans014[13]=false
	set booleans014[14]=false
	set booleans014[15]=false
	set booleans014[16]=false
	set booleans023[0]=false
	set booleans023[1]=false
	set booleans023[2]=false
	set booleans023[3]=false
	set booleans023[4]=false
	set booleans023[5]=false
	set booleans023[6]=false
	set booleans023[7]=false
	set booleans023[8]=false
	set booleans023[9]=false
	set booleans023[10]=false
	set booleans023[11]=false
	set booleans023[12]=false
	set booleans023[13]=false
	set booleans023[14]=false
	set booleans023[15]=false
	set booleans023[16]=false
	set booleans024[0]=true
	set booleans024[1]=true
	set booleans024[2]=true
	set booleans024[3]=true
	set booleans024[4]=true
	set booleans024[5]=true
	set booleans024[6]=true
	set booleans024[7]=true
	set booleans024[8]=true
	set booleans024[9]=true
	set booleans024[10]=true
	set booleans024[11]=true
	set booleans024[12]=true
	set booleans024[13]=true
	set booleans024[14]=true
	set booleans024[15]=true
	set booleans024[16]=true
	set booleans025[0]=false
	set booleans025[1]=false
	set booleans025[2]=false
	set booleans025[3]=false
	set booleans025[4]=false
	set booleans025[5]=false
	set booleans025[6]=false
	set booleans025[7]=false
	set booleans025[8]=false
	set booleans025[9]=false
	set booleans025[10]=false
	set booleans025[11]=false
	set booleans025[12]=false
	set booleans025[13]=false
	set booleans025[14]=false
	set booleans025[15]=false
	set booleans025[16]=false
	set booleans027[0]=false
	set booleans027[1]=false
	set booleans027[2]=false
	set booleans027[3]=false
	set booleans027[4]=false
	set booleans027[5]=false
	set booleans027[6]=false
	set booleans027[7]=false
	set booleans027[8]=false
	set booleans027[9]=false
	set booleans027[10]=false
	set booleans027[11]=false
	set booleans027[12]=false
	set booleans027[13]=false
	set booleans027[14]=false
	set booleans027[15]=false
	set booleans027[16]=false
	set booleans027[GetPlayerId(Sentinels[1])]=true
	set booleans027[GetPlayerId(Sentinels[2])]=true
	set booleans027[GetPlayerId(Sentinels[3])]=true
	set booleans027[GetPlayerId(Sentinels[4])]=true
	set booleans027[GetPlayerId(Sentinels[5])]=true
	set booleans027[GetPlayerId(Scourges[1])]=true
	set booleans027[GetPlayerId(Scourges[2])]=true
	set booleans027[GetPlayerId(Scourges[3])]=true
	set booleans027[GetPlayerId(Scourges[4])]=true
	set booleans027[GetPlayerId(Scourges[5])]=true
	call Func1225()
	set booleans012[0]=true
	set booleans012[1]=true
	set booleans012[2]=true
	set booleans012[3]=true
	set booleans012[4]=true
	set booleans012[5]=true
	set booleans012[6]=true
	set booleans012[7]=true
	set booleans012[8]=true
	set booleans012[9]=true
	set booleans012[10]=true
	set booleans012[11]=true
	set booleans012[12]=true
	set booleans012[13]=true
	set booleans012[14]=true
	set booleans012[15]=true
	set booleans030[0]=false
	set booleans030[1]=false
	set booleans030[2]=false
	set booleans030[3]=false
	set booleans030[4]=false
	set booleans030[5]=false
	set booleans030[6]=false
	set booleans030[7]=false
	set booleans030[8]=false
	set booleans030[9]=false
	set booleans030[10]=false
	set booleans030[11]=false
	set booleans030[12]=false
	set booleans030[13]=false
	set booleans030[14]=false
	set booleans013[GetPlayerId(Sentinels[1])]=false
	set booleans013[GetPlayerId(Sentinels[2])]=false
	set booleans013[GetPlayerId(Sentinels[3])]=false
	set booleans013[GetPlayerId(Sentinels[4])]=false
	set booleans013[GetPlayerId(Sentinels[5])]=false
	set booleans013[GetPlayerId(Scourges[1])]=false
	set booleans013[GetPlayerId(Scourges[2])]=false
	set booleans013[GetPlayerId(Scourges[3])]=false
	set booleans013[GetPlayerId(Scourges[4])]=false
	set booleans013[GetPlayerId(Scourges[5])]=false
	set booleans031[GetPlayerId(Sentinels[1])]=false
	set booleans031[GetPlayerId(Sentinels[2])]=false
	set booleans031[GetPlayerId(Sentinels[3])]=false
	set booleans031[GetPlayerId(Sentinels[4])]=false
	set booleans031[GetPlayerId(Sentinels[5])]=false
	set booleans031[GetPlayerId(Scourges[1])]=false
	set booleans031[GetPlayerId(Scourges[2])]=false
	set booleans031[GetPlayerId(Scourges[3])]=false
	set booleans031[GetPlayerId(Scourges[4])]=false
	set booleans031[GetPlayerId(Scourges[5])]=false
	set t=CreateTrigger()
	call Func0167(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
	call Func0167(t,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
	call Func0167(t,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
	call TriggerAddCondition(t,Condition(function Func1248))
	set Trig_PlayerIssuedOrder=t
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,5,true)
	call TriggerAddCondition(t,Condition(function Func1247))
	set booleans032[GetPlayerId(Sentinels[1])]=false
	set booleans032[GetPlayerId(Sentinels[2])]=false
	set booleans032[GetPlayerId(Sentinels[3])]=false
	set booleans032[GetPlayerId(Sentinels[4])]=false
	set booleans032[GetPlayerId(Sentinels[5])]=false
	set booleans032[GetPlayerId(Scourges[1])]=false
	set booleans032[GetPlayerId(Scourges[2])]=false
	set booleans032[GetPlayerId(Scourges[3])]=false
	set booleans032[GetPlayerId(Scourges[4])]=false
	set booleans032[GetPlayerId(Scourges[5])]=false

	set booleans015[GetPlayerId(Sentinels[1])]=false
	set booleans015[GetPlayerId(Sentinels[2])]=false
	set booleans015[GetPlayerId(Sentinels[3])]=false
	set booleans015[GetPlayerId(Sentinels[4])]=false
	set booleans015[GetPlayerId(Sentinels[5])]=false
	set booleans015[GetPlayerId(Scourges[1])]=false
	set booleans015[GetPlayerId(Scourges[2])]=false
	set booleans015[GetPlayerId(Scourges[3])]=false
	set booleans015[GetPlayerId(Scourges[4])]=false
	set booleans015[GetPlayerId(Scourges[5])]=false
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.01,false)
	call TriggerAddCondition(t,Condition(function Func1257))
	set booleans033[0]=false
	set booleans033[1]=false
	set booleans033[2]=false
	set booleans033[3]=false
	set booleans033[4]=false
	set booleans033[5]=false
	set booleans033[6]=false
	set booleans033[7]=false
	set booleans033[8]=false
	set booleans033[9]=false
	set booleans033[10]=false
	set booleans033[11]=false
	set booleans033[12]=false
	set booleans033[13]=false
	set booleans033[14]=false
	set t=CreateTrigger()
	set h=GetHandleId(t)
	call TriggerRegisterTimerEvent(t,0.02,true)
	call TriggerAddCondition(t,Condition(function Func1296))
	call SaveReal(HY,(h),(149),((0)*1.0))
	call SaveReal(HY,(h),(150),((0)*1.0))
	call SaveReal(HY,(h),(151),((160)*1.0))
	set booleans011[0]=false
	set booleans011[1]=false
	set booleans011[2]=false
	set booleans011[3]=false
	set booleans011[4]=false
	set booleans011[5]=false
	set booleans011[6]=false
	set booleans011[7]=false
	set booleans011[8]=false
	set booleans011[9]=false
	set booleans011[10]=false
	set booleans011[11]=false
	set booleans011[12]=false

	set t=CreateTrigger()
	call TriggerAddAction(t,function Func1304)
	call TriggerAddCondition(t,Condition(function Func1299))
	set trigger063=t
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,0.01,false)
	call TriggerAddCondition(t,Condition(function Func1305))

	if isObserversMode then
		set t=CreateTrigger()
		call TriggerRegisterTimerEvent(t,1,true)
		call TriggerAddCondition(t,Condition(function Func1450))
	endif

	set trigger033=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(trigger033,timers001[1])
	call TriggerAddAction(trigger033,function Func1486)
	set trigger034=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(trigger034,timers001[2])
	call TriggerAddAction(trigger034,function Func1487)
	set trigger035=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(trigger035,timers001[3])
	call TriggerAddAction(trigger035,function Func1488)
	set trigger036=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(trigger036,timers001[4])
	call TriggerAddAction(trigger036,function Func1489)
	set trigger037=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(trigger037,timers001[5])
	call TriggerAddAction(trigger037,function Func1490)
	set trigger038=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(trigger038,timers001[7])
	call TriggerAddAction(trigger038,function Func1491)
	set trigger039=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(trigger039,timers001[8])
	call TriggerAddAction(trigger039,function Func1492)
	set trigger040=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(trigger040,timers001[9])
	call TriggerAddAction(trigger040,function Func1493)
	set trigger041=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(trigger041,timers001[10])
	call TriggerAddAction(trigger041,function Func1494)
	set trigger042=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(trigger042,timers001[11])
	call TriggerAddAction(trigger042,function Func1495)
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,14,false)
	call TriggerAddAction(t,function Func1498)
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,15,false)
	call TriggerAddAction(t,function Func1497)
	set trigger043=CreateTrigger()
	call TriggerRegisterTimerEventSingle(trigger043,65.00)
	call TriggerAddAction(trigger043,function Func1499)
	set trigger044=CreateTrigger()
	call TriggerRegisterTimerEventSingle(trigger044,90.00)
	call TriggerAddAction(trigger044,function Func1500)
	set trigger045=CreateTrigger()
	call TriggerRegisterTimerEventSingle(trigger045,120.00)
	call TriggerAddAction(trigger045,function Func1501)
	set t=CreateTrigger()
	set S5O=CreateRegion()
	call RegionAddRect(S5O,GetWorldBounds())
	call TriggerRegisterEnterRegion(t,S5O,Condition(function ReturnTrue))
	call TriggerAddCondition(t,Condition(function Func2974))
	set integers165[1]='A0VS'
	set integers165[2]='A0VK'
	set integers165[3]='A0VQ'
	set integers165[4]='A0XL'
	set integers165[5]='A0VM'
	set integers165[6]='A0VN'
	set integers165[7]='A0VO'
	set integers165[8]='A0VP'
	set integers165[9]='A0VG'
	set integers165[10]='A0VZ'
	set S5O=null
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEvent(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t,Condition(function Func2661))
	call TriggerAddAction(t,function Func2662)
	set t=CreateTrigger()
	call TriggerRegisterTimerEvent(t,GetRandomReal(2,6),false)
	call TriggerAddCondition(t,Condition(function MapHackFinder_Init))
endfunction

function config takes nothing returns nothing
	call SetMapName("TRIGSTR_50000")
	call SetMapDescription("TRIGSTR_50001")
	call SetPlayers(10)
	call DefineStartLocation(0,-6990.0,6840.0)
	call DefineStartLocation(1,-6990.0,6840.0)
	call DefineStartLocation(2,-6990.0,6840.0)
	call DefineStartLocation(3,-6990.0,6840.0)
	call DefineStartLocation(4,-6990.0,6840.0)
	call DefineStartLocation(5,-6990.0,6840.0)
	call DefineStartLocation(6,-6990.0,6840.0)
	call DefineStartLocation(7,-6990.0,6840.0)
	call DefineStartLocation(8,-6990.0,6840.0)
	call DefineStartLocation(9,-6990.0,6840.0)
	call SetPlayerColor(Player(1),PLAYER_COLOR_BLUE)
	call SetPlayerRacePreference(Player(1),RACE_PREF_NIGHTELF)
	call SetPlayerRaceSelectable(Player(1),false)
	call SetPlayerController(Player(1),MAP_CONTROL_USER)
	call SetPlayerColor(Player(2),PLAYER_COLOR_CYAN)
	call SetPlayerRacePreference(Player(2),RACE_PREF_NIGHTELF)
	call SetPlayerRaceSelectable(Player(2),false)
	call SetPlayerController(Player(2),MAP_CONTROL_USER)
	call SetPlayerColor(Player(3),PLAYER_COLOR_PURPLE)
	call SetPlayerRacePreference(Player(3),RACE_PREF_NIGHTELF)
	call SetPlayerRaceSelectable(Player(3),false)
	call SetPlayerController(Player(3),MAP_CONTROL_USER)
	call SetPlayerColor(Player(4),PLAYER_COLOR_YELLOW)
	call SetPlayerRacePreference(Player(4),RACE_PREF_NIGHTELF)
	call SetPlayerRaceSelectable(Player(4),false)
	call SetPlayerController(Player(4),MAP_CONTROL_USER)
	call SetPlayerColor(Player(5),PLAYER_COLOR_ORANGE)
	call SetPlayerRacePreference(Player(5),RACE_PREF_NIGHTELF)
	call SetPlayerRaceSelectable(Player(5),false)
	call SetPlayerController(Player(5),MAP_CONTROL_USER)
	call SetPlayerColor(Player(7),PLAYER_COLOR_PINK)
	call SetPlayerRacePreference(Player(7),RACE_PREF_UNDEAD)
	call SetPlayerRaceSelectable(Player(7),false)
	call SetPlayerController(Player(7),MAP_CONTROL_USER)
	call SetPlayerColor(Player(8),PLAYER_COLOR_LIGHT_GRAY)
	call SetPlayerRacePreference(Player(8),RACE_PREF_UNDEAD)
	call SetPlayerRaceSelectable(Player(8),false)
	call SetPlayerController(Player(8),MAP_CONTROL_USER)
	call SetPlayerColor(Player(9),PLAYER_COLOR_LIGHT_BLUE)
	call SetPlayerRacePreference(Player(9),RACE_PREF_UNDEAD)
	call SetPlayerRaceSelectable(Player(9),false)
	call SetPlayerController(Player(9),MAP_CONTROL_USER)
	call SetPlayerColor(Player(10),PLAYER_COLOR_AQUA)
	call SetPlayerRacePreference(Player(10),RACE_PREF_UNDEAD)
	call SetPlayerRaceSelectable(Player(10),false)
	call SetPlayerController(Player(10),MAP_CONTROL_USER)
	call SetPlayerColor(Player(11),PLAYER_COLOR_BROWN)
	call SetPlayerRacePreference(Player(11),RACE_PREF_UNDEAD)
	call SetPlayerRaceSelectable(Player(11),false)
	call SetPlayerController(Player(11),MAP_CONTROL_USER)
	call SetPlayerTeam(Player(1),0)
	call SetPlayerTeam(Player(2),0)
	call SetPlayerTeam(Player(3),0)
	call SetPlayerTeam(Player(4),0)
	call SetPlayerTeam(Player(5),0)
	call SetPlayerTeam(Player(7),1)
	call SetPlayerTeam(Player(8),1)
	call SetPlayerTeam(Player(9),1)
	call SetPlayerTeam(Player(10),1)
	call SetPlayerTeam(Player(11),1)
	call SetPlayerAlliance(Player(15),Player(1),ALLIANCE_SHARED_CONTROL,true)
	call SetPlayerAlliance(Player(15),Player(2),ALLIANCE_SHARED_CONTROL,true)
	call SetPlayerAlliance(Player(15),Player(3),ALLIANCE_SHARED_CONTROL,true)
	call SetPlayerAlliance(Player(15),Player(4),ALLIANCE_SHARED_CONTROL,true)
	call SetPlayerAlliance(Player(15),Player(5),ALLIANCE_SHARED_CONTROL,true)
	call SetPlayerAlliance(Player(15),Player(7),ALLIANCE_SHARED_CONTROL,true)
	call SetPlayerAlliance(Player(15),Player(8),ALLIANCE_SHARED_CONTROL,true)
	call SetPlayerAlliance(Player(15),Player(9),ALLIANCE_SHARED_CONTROL,true)
	call SetPlayerAlliance(Player(15),Player(10),ALLIANCE_SHARED_CONTROL,true)
	call SetPlayerAlliance(Player(15),Player(11),ALLIANCE_SHARED_CONTROL,true)
endfunction